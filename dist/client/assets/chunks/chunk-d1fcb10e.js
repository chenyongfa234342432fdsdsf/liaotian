import{g as h,r as C,d as k,a as x,f as H,i as R}from"./chunk-d8234155.js";import{I as O}from"./chunk-d80cdd1c.js";import{u as $}from"./chunk-79739c92.js";import{r as l}from"./chunk-e9cd8943.js";import{c as p}from"./chunk-99b8f121.js";import{L as A}from"./chunk-5f195378.js";import{L as j}from"./chunk-014979c9.js";import{R as E}from"./chunk-fde55823.js";import{l as S}from"./chunk-ba3e3861.js";import{u as I}from"./chunk-c5989daf.js";import{L as F}from"./chunk-5212edba.js";import{j as e,a as m,F as M}from"./chunk-c1d16543.js";import{u as U}from"./chunk-8f68cdf3.js";import{f as V}from"./chunk-ec284ae6.js";import"./chunk-36a75920.js";import"./chunk-0feb7138.js";import"./chunk-b745fb4d.js";import"./chunk-b3e26e36.js";import"./chunk-1d6b0b39.js";import"./chunk-5dde6c82.js";import"./chunk-38ad52ab.js";import"./chunk-cf010ec4.js";import"./chunk-634a8a63.js";import"./chunk-09d047a9.js";import"./chunk-acb1a683.js";import"./chunk-6b5946cf.js";/* empty css              *//* empty css              */var b=function(t){l.useEffect(t,[])};const q=b;var z=function(t){q(function(){t()})};const G=z,g="HELPER_CENTER_INFO";function w(){return h.get(g)}function B(t){return h.set(g,t)}function P(){return h.set(g,"")}function T(t){return{selectAnnouncementInfo:w()||{},setSelectAnnouncementInfo:i=>{t(H(r=>{r.selectAnnouncementInfo=i,B(i)}))},removeSelectAnnouncementInfoCache:()=>{P()}}}const X=C(k(T,{name:"announcement-center-store"})),y=x(X),J={"message-center":"help-center-index-module__message-center--XVL"},K=t=>E({path:"/v1/im/helpCenter/help/content",method:"GET",params:t}),Q=()=>E({path:"/v1/im/helpCenter/helpCenterList",method:"GET"}),W={"message-list":"helperList-list-index-module__message-list--8iH"},Y={"list-item":"list-item-index-module__list-item--vEB"};function Z({itemData:t,isActive:i}){return e("div",{className:p(Y["list-item"],{active:i}),children:e("div",{className:"item-info",children:m("p",{className:p("item-title"),children:[e(F,{src:t.logo}),t.name]})})})}function D(t){const{selectAnnouncementInfo:i,setSelectAnnouncementInfo:r}=y(),{loading:u,data:c}=$(Q),d=s=>{r(s)},[o,f]=l.useState([]),{hash:n}=I();let a=l.useRef("");return l.useEffect(()=>{var v,N,_,L;const s=c;s!=null&&s.isOk&&(s!=null&&s.data)&&(f(((v=s.data)==null?void 0:v.dialogList)||[]),i!=null&&i.id||(_=(N=s.data)==null?void 0:N.dialogList)!=null&&_.length&&d((L=s.data)==null?void 0:L.dialogList[0]))},[c]),G(()=>{n!=null&&n.includes("?")&&(a.current=n.split("?")[1].split("=")[1])}),m("div",{className:W["message-list"],children:[e("p",{className:"head",children:m("div",{className:"title",children:[e(O,{name:"a-Notselected",onClick:()=>{r(o[0]),a?S(a.current):S("/")}}),e("span",{children:R._("features_help_center_components_helperlist_list_index_niy4vxif4k")})]})}),m("div",{className:"overflow-y-auto flex-1",children:[u&&e("div",{className:"flex justify-center mt-5",children:e(A,{})}),!u&&!(o!=null&&o.length)?e(j,{}):o.map(s=>e("div",{className:p("message-data",{"is-select":i.id===s.id}),onClick:()=>d(s),children:e(Z,{itemData:s,isActive:!1})},s.id))]})]})}const ee={"right-content":"right-content-index-module__right-content--e-F"},te={"announcement-article":"announcement-article-index-module__announcement-article--dIz"};function ne({id:t,onChangeArticle:i}){const[r,u]=l.useState({}),{helpCenterText:c}=r,[d,o]=l.useState(!1),f=n=>{o(!0),K({contentId:n}).then(a=>{a.isOk&&a.data&&u(a.data||[]),o(!1)})};return l.useEffect(()=>{f(t)},[t]),e("div",{className:te["announcement-article"],children:m("div",{className:"article-content",children:[d&&e("div",{className:"flex justify-center items-center",children:e(A,{})}),!d&&m("div",{className:"header",children:[e("h3",{children:c==null?void 0:c.name}),e("div",{className:"date-time",children:V((c==null?void 0:c.pushTimeStramp)||"")})]}),e("div",{className:"article-html",dangerouslySetInnerHTML:{__html:(c==null?void 0:c.content)||""}})]})})}function se({selectData:t}){var f;const i=l.useRef(t),[r,u]=l.useState([]),{hash:c,updateHash:d}=I(),o=n=>{var a;if((a=n==null?void 0:n.catalogVOList)!=null&&a.length){u(n);return}d(`#${n.id}`)};return U(()=>{var n;((n=i==null?void 0:i.current)==null?void 0:n.id)!==(t==null?void 0:t.id)&&d(""),i.current=t,u(t||{})},[t]),e("div",{className:ee["right-content"],children:c?e(ne,{id:c.slice(1),onChangeArticle:o}):m(M,{children:[e("h4",{className:"right-content-title",children:r==null?void 0:r.name}),e("div",{className:"content-list",children:(f=r.catalogVOList)==null?void 0:f.map(n=>e("div",{children:e("div",{className:"list-items-title",onClick:()=>o(n),children:n.name})},n.id))})]})})}function $e(){const{selectAnnouncementInfo:t}=y();return m("div",{className:J["message-center"],children:[e("div",{className:"top-bg"}),m("div",{className:"message-info",children:[e("div",{className:"left-list",children:e(D,{selectData:t})}),e("div",{className:"right-content",children:e(se,{selectData:t})})]})]})}export{$e as default};
