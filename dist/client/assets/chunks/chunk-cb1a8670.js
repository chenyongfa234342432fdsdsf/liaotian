import{b as T,i as m}from"./chunk-d8234155.js";import{r as a}from"./chunk-e9cd8943.js";import{p as y}from"./chunk-f3e99ce8.js";import{I as u}from"./chunk-d80cdd1c.js";/* empty css              */import"./chunk-23179642.js";import{M}from"./chunk-61229905.js";import{I as P}from"./chunk-1a70223d.js";import{h as z}from"./chunk-fde55823.js";import{a as U}from"./chunk-99b8f121.js";import{L as q}from"./chunk-5212edba.js";import{j as o,a as d}from"./chunk-c1d16543.js";import{M as A}from"./chunk-36a75920.js";const D="country-modal-index-module__scoped--XOg",F={scoped:D};function te({visible:x,onClose:_,onSelect:C}){const g=T.getState(),[h,l]=a.useState(""),[c,S]=a.useState({}),[f,N]=a.useState({}),[p,b]=a.useState(null),[K,w]=a.useState(),I=e=>{const i=e.trim().toLowerCase();l(i);const n={};for(const t in c)if(Object.prototype.hasOwnProperty.call(c,t)){const s=c[t].filter(r=>r.countryName.toLowerCase().indexOf(e)!==-1||r.countryEnCode.toString().indexOf(i)!==-1);s.length>0&&(n[t]=s)}N(n)},O=e=>{b(e)},k=()=>{if(!p){A.error(m._("features_users_create_account_index_0dlxrrysk4"));return}C(p),l(""),_()},v=()=>{l(""),_()},E=e=>{const n=e.map(t=>{const s=g.locale==="en-US"?t.countryName.charAt(0).toUpperCase():y(t.countryName,{style:y.STYLE_FIRST_LETTER})[0][0].toUpperCase();return{...t,pinyinName:s}}).reduce((t,s)=>{const{pinyinName:r,...j}=s;return t[r]||(t[r]=[]),t[r].push({...j}),t},{});S(n)},L=()=>{z({}).then(e=>{e.isOk&&e.data&&(E(e.data),w(e.data))})};return a.useEffect(()=>{L()},[]),o("div",{children:d(M,{className:F.scoped,style:{width:"500px",height:"552px",boxShadow:"0px 4px 20px 0px rgba(0, 0, 0, 0.15)",padding:"24px"},title:o("div",{style:{textAlign:"left"},children:m._("components_country_modal_index_nscvohqorw")}),visible:x,closable:!1,okText:m._("components_pop_box_index_xjmp7i51ci"),cancelText:m._("features_group_components_comfirm_btn_pop_index_2sr1guu0iy"),onCancel:v,onOk:k,children:[o("div",{className:"country-search",children:o(P,{className:"country-search-input",prefix:o(u,{name:"icon_chat_search",className:"text-icon_color text-sm"}),placeholder:m._("features_group_components_search_input_index_tq98cmscdb"),onChange:I})}),o("div",{className:"country-list",children:Object.keys(h?f:c).sort().map((e,i)=>d("div",{children:[o("h3",{className:"letter",children:e}),o("ul",{children:(h?f[e]:c[e]).map((n,t)=>d("li",{className:"country-item",onClick:()=>O(n),children:[p===n?o(u,{name:"icon_register_single_selected",fontSize:20,className:"country-icon-active"}):o(u,{name:"icon_register_single_unselected",fontSize:20,className:"country-icon"}),o(q,{src:`${U}${n.countryShortName}.png`}),d("div",{className:"country-area-code",children:[o("span",{className:"country-name",children:n.countryName}),d("span",{className:"country-code",children:["+",n.countryEnCode]})]})]},t))})]},i))})]})})}export{te as C};
