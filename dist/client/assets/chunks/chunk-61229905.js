import{r as tr}from"./chunk-0feb7138.js";import{r as l,R as x}from"./chunk-e9cd8943.js";import{y as De,_ as or,b as ar,z as ur,A,B as ir,v as on,t as cr,D as sr,s as gn,F as lr,G as fr,H as dr,J as vr,C as mr,u as pr,h as hr,k as br,l as gr,c as an,j as un,o as yr,p as cn}from"./chunk-36a75920.js";import{b as Cr}from"./chunk-b745fb4d.js";import{j as b,F as yn,a as Se}from"./chunk-c1d16543.js";import{i as Or}from"./chunk-d80cdd1c.js";import{u as xr,e as Er,P as Fr,d as kr}from"./chunk-b4d6f2f0.js";import{B as sn}from"./chunk-23179642.js";var Be="data-focus-lock",Cn="data-focus-lock-disabled",Ir="data-no-focus-lock",Tr="data-autofocus-inside",wr="data-no-autofocus";function Pr(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function _r(e,n){var r=l.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(t){var a=r.value;a!==t&&(r.value=t,r.callback(t,a))}}}})[0];return r.callback=n,r.facade}function Sr(e,n){return _r(n||null,function(r){return e.forEach(function(t){return Pr(t,r)})})}var Ne={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function On(e){return e}function xn(e,n){n===void 0&&(n=On);var r=[],t=!1,a={read:function(){if(t)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(u){var o=n(u,t);return r.push(o),function(){r=r.filter(function(i){return i!==o})}},assignSyncMedium:function(u){for(t=!0;r.length;){var o=r;r=[],o.forEach(u)}r={push:function(i){return u(i)},filter:function(){return r}}},assignMedium:function(u){t=!0;var o=[];if(r.length){var i=r;r=[],i.forEach(u),o=r}var v=function(){var s=o;o=[],s.forEach(u)},c=function(){return Promise.resolve().then(v)};c(),r={push:function(s){o.push(s),c()},filter:function(s){return o=o.filter(s),r}}}};return a}function Ge(e,n){return n===void 0&&(n=On),xn(e,n)}function Nr(e){e===void 0&&(e={});var n=xn(null);return n.options=Cr({async:!0,ssr:!1},e),n}var En=Ge({},function(e){var n=e.target,r=e.currentTarget;return{target:n,currentTarget:r}}),Fn=Ge(),Mr=Ge(),Ar=Nr({async:!0}),Lr=[],$e=l.forwardRef(function(n,r){var t,a=l.useState(),u=a[0],o=a[1],i=l.useRef(),v=l.useRef(!1),c=l.useRef(null),s=n.children,d=n.disabled,p=n.noFocusGuards,f=n.persistentFocus,h=n.crossFrame,g=n.autoFocus;n.allowTextSelection;var O=n.group,T=n.className,w=n.whiteList,R=n.hasPositiveIndices,q=n.shards,he=q===void 0?Lr:q,D=n.as,re=D===void 0?"div":D,z=n.lockProps,be=z===void 0?{}:z,te=n.sideCar,S=n.returnFocus,ge=n.focusOptions,P=n.onActivation,K=n.onDeactivation,oe=l.useState({}),ye=oe[0],Q=l.useCallback(function(){c.current=c.current||document&&document.activeElement,i.current&&P&&P(i.current),v.current=!0},[P]),ae=l.useCallback(function(){v.current=!1,K&&K(i.current)},[K]);l.useEffect(function(){d||(c.current=null)},[]);var Ce=l.useCallback(function(F){var _=c.current;if(_&&_.focus){var N=typeof S=="function"?S(_):S;if(N){var se=typeof N=="object"?N:void 0;c.current=null,F?Promise.resolve().then(function(){return _.focus(se)}):_.focus(se)}}},[S]),Oe=l.useCallback(function(F){v.current&&En.useMedium(F)},[]),ue=Fn.useMedium,xe=l.useCallback(function(F){i.current!==F&&(i.current=F,o(F))},[]),B=De((t={},t[Cn]=d&&"disabled",t[Be]=O,t),be),Y=p!==!0,ie=Y&&p!=="tail",ce=Sr([r,xe]);return l.createElement(l.Fragment,null,Y&&[l.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:Ne}),R?l.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:Ne}):null],!d&&l.createElement(te,{id:ye,sideCar:Ar,observed:u,disabled:d,persistentFocus:f,crossFrame:h,autoFocus:g,whiteList:w,shards:he,onActivation:Q,onDeactivation:ae,returnFocus:Ce,focusOptions:ge}),l.createElement(re,De({ref:ce},B,{className:T,onBlur:ue,onFocus:Oe}),s),ie&&l.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:Ne}))});$e.propTypes={};$e.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const kn=$e;function Rr(e,n){function r(t){return t.displayName||t.name||"Component"}return function(a){var u=[],o;function i(){o=e(u.map(function(c){return c.props})),n(o)}var v=function(c){ar(s,c);function s(){return c.apply(this,arguments)||this}s.peek=function(){return o};var d=s.prototype;return d.componentDidMount=function(){u.push(this),i()},d.componentDidUpdate=function(){i()},d.componentWillUnmount=function(){var f=u.indexOf(this);u.splice(f,1),i()},d.render=function(){return b(a,{...this.props})},s}(l.PureComponent);return or(v,"displayName","SideEffect("+r(a)+")"),v}}var I=function(e){for(var n=Array(e.length),r=0;r<e.length;++r)n[r]=e[r];return n},de=function(e){return Array.isArray(e)?e:[e]},In=function(e){return Array.isArray(e)?e[0]:e},Dr=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(e,null);return!n||!n.getPropertyValue?!1:n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"},Tn=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},wn=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Br=function(e,n){return!e||wn(e)||!Dr(e)&&n(Tn(e))},Pn=function(e,n){var r=e.get(n);if(r!==void 0)return r;var t=Br(n,Pn.bind(void 0,e));return e.set(n,t),t},Wr=function(e,n){return e&&!wn(e)?jr(e)?n(Tn(e)):!1:!0},_n=function(e,n){var r=e.get(n);if(r!==void 0)return r;var t=Wr(n,_n.bind(void 0,e));return e.set(n,t),t},Sn=function(e){return e.dataset},Ur=function(e){return e.tagName==="BUTTON"},Nn=function(e){return e.tagName==="INPUT"},Mn=function(e){return Nn(e)&&e.type==="radio"},Hr=function(e){return!((Nn(e)||Ur(e))&&(e.type==="hidden"||e.disabled))},jr=function(e){var n=e.getAttribute(wr);return![!0,"true",""].includes(n)},Ve=function(e){var n;return!!(e&&(!((n=Sn(e))===null||n===void 0)&&n.focusGuard))},ve=function(e){return!Ve(e)},Gr=function(e){return!!e},$r=function(e,n){var r=e.tabIndex-n.tabIndex,t=e.index-n.index;if(r){if(!e.tabIndex)return 1;if(!n.tabIndex)return-1}return r||t},An=function(e,n,r){return I(e).map(function(t,a){return{node:t,index:a,tabIndex:r&&t.tabIndex===-1?(t.dataset||{}).focusGuard?0:-1:t.tabIndex}}).filter(function(t){return!n||t.tabIndex>=0}).sort($r)},Vr=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],qe=Vr.join(","),qr="".concat(qe,", [data-focus-guard]"),Ln=function(e,n){return I((e.shadowRoot||e).children).reduce(function(r,t){return r.concat(t.matches(n?qr:qe)?[t]:[],Ln(t))},[])},zr=function(e,n){var r;return e instanceof HTMLIFrameElement&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?pe([e.contentDocument.body],n):[e]},pe=function(e,n){return e.reduce(function(r,t){var a,u=Ln(t,n),o=(a=[]).concat.apply(a,u.map(function(i){return zr(i,n)}));return r.concat(o,t.parentNode?I(t.parentNode.querySelectorAll(qe)).filter(function(i){return i===t}):[])},[])},Kr=function(e){var n=e.querySelectorAll("[".concat(Tr,"]"));return I(n).map(function(r){return pe([r])}).reduce(function(r,t){return r.concat(t)},[])},ze=function(e,n){return I(e).filter(function(r){return Pn(n,r)}).filter(function(r){return Hr(r)})},ln=function(e,n){return n===void 0&&(n=new Map),I(e).filter(function(r){return _n(n,r)})},We=function(e,n,r){return An(ze(pe(e,r),n),!0,r)},fn=function(e,n){return An(ze(pe(e),n),!1)},Qr=function(e,n){return ze(Kr(e),n)},G=function(e,n){return e.shadowRoot?G(e.shadowRoot,n):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,n)?!0:I(e.children).some(function(r){var t;if(r instanceof HTMLIFrameElement){var a=(t=r.contentDocument)===null||t===void 0?void 0:t.body;return a?G(a,n):!1}return G(r,n)})},Yr=function(e){for(var n=new Set,r=e.length,t=0;t<r;t+=1)for(var a=t+1;a<r;a+=1){var u=e[t].compareDocumentPosition(e[a]);(u&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&n.add(a),(u&Node.DOCUMENT_POSITION_CONTAINS)>0&&n.add(t)}return e.filter(function(o,i){return!n.has(i)})},Rn=function(e){return e.parentNode?Rn(e.parentNode):e},Ke=function(e){var n=de(e);return n.filter(Boolean).reduce(function(r,t){var a=t.getAttribute(Be);return r.push.apply(r,a?Yr(I(Rn(t).querySelectorAll("[".concat(Be,'="').concat(a,'"]:not([').concat(Cn,'="disabled"])')))):[t]),r},[])},Zr=function(e){try{return e()}catch{return}},ee=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var n=e.activeElement;return n.shadowRoot?ee(n.shadowRoot):n instanceof HTMLIFrameElement&&Zr(function(){return n.contentWindow.document})?ee(n.contentWindow.document):n}},Jr=function(e,n){return e===n},Xr=function(e,n){return!!I(e.querySelectorAll("iframe")).some(function(r){return Jr(r,n)})},Dn=function(e,n){return n===void 0&&(n=ee(In(e).ownerDocument)),!n||n.dataset&&n.dataset.focusGuard?!1:Ke(e).some(function(r){return G(r,n)||Xr(r,n)})},et=function(e){e===void 0&&(e=document);var n=ee(e);return n?I(e.querySelectorAll("[".concat(Ir,"]"))).some(function(r){return G(r,n)}):!1},nt=function(e,n){return n.filter(Mn).filter(function(r){return r.name===e.name}).filter(function(r){return r.checked})[0]||e},Qe=function(e,n){return Mn(e)&&e.name?nt(e,n):e},rt=function(e){var n=new Set;return e.forEach(function(r){return n.add(Qe(r,e))}),e.filter(function(r){return n.has(r)})},dn=function(e){return e[0]&&e.length>1?Qe(e[0],e):e[0]},vn=function(e,n){return e.length>1?e.indexOf(Qe(e[n],e)):n},Bn="NEW_FOCUS",tt=function(e,n,r,t){var a=e.length,u=e[0],o=e[a-1],i=Ve(r);if(!(r&&e.indexOf(r)>=0)){var v=r!==void 0?n.indexOf(r):-1,c=t?n.indexOf(t):v,s=t?e.indexOf(t):-1,d=v-c,p=n.indexOf(u),f=n.indexOf(o),h=rt(n),g=r!==void 0?h.indexOf(r):-1,O=g-(t?h.indexOf(t):v),T=vn(e,0),w=vn(e,a-1);if(v===-1||s===-1)return Bn;if(!d&&s>=0)return s;if(v<=p&&i&&Math.abs(d)>1)return w;if(v>=f&&i&&Math.abs(d)>1)return T;if(d&&Math.abs(O)>1)return s;if(v<=p)return w;if(v>f)return T;if(d)return Math.abs(d)>1?s:(a+s+d)%a}},ot=function(e){return function(n){var r,t=(r=Sn(n))===null||r===void 0?void 0:r.autofocus;return n.autofocus||t!==void 0&&t!=="false"||e.indexOf(n)>=0}},at=function(e,n,r){var t=e.map(function(u){var o=u.node;return o}),a=ln(t.filter(ot(r)));return a&&a.length?dn(a):dn(ln(n))},Ue=function(e,n){return n===void 0&&(n=[]),n.push(e),e.parentNode&&Ue(e.parentNode.host||e.parentNode,n),n},Me=function(e,n){for(var r=Ue(e),t=Ue(n),a=0;a<r.length;a+=1){var u=r[a];if(t.indexOf(u)>=0)return u}return!1},Wn=function(e,n,r){var t=de(e),a=de(n),u=t[0],o=!1;return a.filter(Boolean).forEach(function(i){o=Me(o||i,i)||o,r.filter(Boolean).forEach(function(v){var c=Me(u,v);c&&(!o||G(c,o)?o=c:o=Me(c,o))})}),o},ut=function(e,n){return e.reduce(function(r,t){return r.concat(Qr(t,n))},[])},it=function(e,n){var r=new Map;return n.forEach(function(t){return r.set(t.node,t)}),e.map(function(t){return r.get(t)}).filter(Gr)},ct=function(e,n){var r=ee(de(e).length>0?document:In(e).ownerDocument),t=Ke(e).filter(ve),a=Wn(r||e,e,t),u=new Map,o=fn(t,u),i=We(t,u).filter(function(f){var h=f.node;return ve(h)});if(!(!i[0]&&(i=o,!i[0]))){var v=fn([a],u).map(function(f){var h=f.node;return h}),c=it(v,i),s=c.map(function(f){var h=f.node;return h}),d=tt(s,v,r,n);if(d===Bn){var p=at(o,s,ut(t,u));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return d===void 0?d:c[d]}},st=function(e){var n=Ke(e).filter(ve),r=Wn(e,e,n),t=new Map,a=We([r],t,!0),u=We(n,t).filter(function(o){var i=o.node;return ve(i)}).map(function(o){var i=o.node;return i});return a.map(function(o){var i=o.node,v=o.index;return{node:i,index:v,lockItem:u.indexOf(i)>=0,guard:Ve(i)}})},lt=function(e,n){"focus"in e&&e.focus(n),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},Ae=0,Le=!1,Un=function(e,n,r){r===void 0&&(r={});var t=ct(e,n);if(!Le&&t){if(Ae>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Le=!0,setTimeout(function(){Le=!1},1);return}Ae++,lt(t.node,r.focusOptions),Ae--}};function Ye(e){setTimeout(e,1)}var ft=function(){return document&&document.activeElement===document.body},dt=function(){return ft()||et()},$=null,H=null,V=null,ne=!1,vt=function(){return!0},mt=function(n){return($.whiteList||vt)(n)},pt=function(n,r){V={observerNode:n,portaledElement:r}},ht=function(n){return V&&V.portaledElement===n};function mn(e,n,r,t){var a=null,u=e;do{var o=t[u];if(o.guard)o.node.dataset.focusAutoGuard&&(a=o);else if(o.lockItem){if(u!==e)return;a=null}else break}while((u+=r)!==n);a&&(a.node.tabIndex=0)}var bt=function(n){return n&&"current"in n?n.current:n},gt=function(n){return n?!!ne:ne==="meanwhile"},yt=function e(n,r,t){return r&&(r.host===n&&(!r.activeElement||t.contains(r.activeElement))||r.parentNode&&e(n,r.parentNode,t))},Ct=function(n,r){return r.some(function(t){return yt(n,t,t)})},me=function(){var n=!1;if($){var r=$,t=r.observed,a=r.persistentFocus,u=r.autoFocus,o=r.shards,i=r.crossFrame,v=r.focusOptions,c=t||V&&V.portaledElement,s=document&&document.activeElement;if(c){var d=[c].concat(o.map(bt).filter(Boolean));if((!s||mt(s))&&(a||gt(i)||!dt()||!H&&u)&&(c&&!(Dn(d)||s&&Ct(s,d)||ht(s))&&(document&&!H&&s&&!u?(s.blur&&s.blur(),document.body.focus()):(n=Un(d,H,{focusOptions:v}),V={})),ne=!1,H=document&&document.activeElement),document){var p=document&&document.activeElement,f=st(d),h=f.map(function(g){var O=g.node;return O}).indexOf(p);h>-1&&(f.filter(function(g){var O=g.guard,T=g.node;return O&&T.dataset.focusAutoGuard}).forEach(function(g){var O=g.node;return O.removeAttribute("tabIndex")}),mn(h,f.length,1,f),mn(h,-1,-1,f))}}}return n},Hn=function(n){me()&&n&&(n.stopPropagation(),n.preventDefault())},Ze=function(){return Ye(me)},Ot=function(n){var r=n.target,t=n.currentTarget;t.contains(r)||pt(t,r)},xt=function(){return null},jn=function(){ne="just",Ye(function(){ne="meanwhile"})},Et=function(){document.addEventListener("focusin",Hn),document.addEventListener("focusout",Ze),window.addEventListener("blur",jn)},Ft=function(){document.removeEventListener("focusin",Hn),document.removeEventListener("focusout",Ze),window.removeEventListener("blur",jn)};function kt(e){return e.filter(function(n){var r=n.disabled;return!r})}function It(e){var n=e.slice(-1)[0];n&&!$&&Et();var r=$,t=r&&n&&n.id===r.id;$=n,r&&!t&&(r.onDeactivation(),e.filter(function(a){var u=a.id;return u===r.id}).length||r.returnFocus(!n)),n?(H=null,(!t||r.observed!==n.observed)&&n.onActivation(),me(),Ye(me)):(Ft(),H=null)}En.assignSyncMedium(Ot);Fn.assignMedium(Ze);Mr.assignMedium(function(e){return e({moveFocusInside:Un,focusInside:Dn})});const Tt=Rr(kt,It)(xt);var Gn=l.forwardRef(function(n,r){return l.createElement(kn,De({sideCar:Tt,ref:r},n))}),$n=kn.propTypes||{};$n.sideCar;ur($n,["sideCar"]);Gn.propTypes={};const wt=Gn;var k=globalThis&&globalThis.__assign||function(){return k=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k.apply(this,arguments)};function Pt(e){var n=dr(),r=n.prefixCls,t=n.simple;return x.createElement(qn,k({prefixCls:r,simple:t},e),e.content)}var He=function(e){if(e.isNotice){var n=e.icon;if(!n&&n!==null)switch(e.noticeType){case"info":n=x.createElement(sr,null);break;case"success":n=x.createElement(cr,null);break;case"warning":n=x.createElement(on,null);break;case"error":n=x.createElement(ir,null);break}e.title=x.createElement("span",null,n,e.title),e.hideCancel=!0}else e.title=x.createElement("span",null,e.icon!==null&&(e.icon||x.createElement(on,null)),e.title);return e};function Vn(e,n){var r,t=document.createElement("div");document.body.appendChild(t);var a=fr();function u(f){var h=x.createElement(gn,k({},a),x.createElement(Pt,k({},f,{onCancel:s})));r?r.render(h):r=lr(h,t)}var o=n||u,i=k(k({},e),{visible:!1}),v=function(){var f,h=e.onOk||e.onConfirm;h&&(f=h()),f&&f.then&&(i.confirmLoading=!0,o(i),f.then(function(){s(!0)},function(g){console.error(g),i.confirmLoading=!1,o(i)})),f||s(!0)};i.onOk=v,i=He(i),i.visible=!0,o(i);function c(){r=r==null?void 0:r.unmount(),t.parentNode&&t.parentNode.removeChild(t);for(var f=0;f<A.length;f++){var h=A[f];if(h===p){A.splice(f,1);break}}}function s(f){!f&&e.onCancel&&e.onCancel(),i.visible=!1,i.afterClose=function(){e.afterClose&&e.afterClose(),c()},o(i)}function d(f){i=k(k(k({},i),{title:e.title}),f),i=He(i),o(i)}function p(){i.visible=!1,i.afterClose=function(){e.afterClose&&e.afterClose(),c()},o(i)}return A.push(p),{close:p,update:d}}var pn=globalThis&&globalThis.__read||function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),a,u=[],o;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)u.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return u},hn=globalThis&&globalThis.__spreadArray||function(e,n,r){if(r||arguments.length===2)for(var t=0,a=n.length,u;t<a;t++)(u||!(t in n))&&(u||(u=Array.prototype.slice.call(n,0,t)),u[t]=n[t]);return e.concat(u||Array.prototype.slice.call(n))},_t=l.forwardRef(function(e,n){var r=pn(l.useState([]),2),t=r[0],a=r[1];function u(i){a(function(v){return hn(hn([],pn(v),!1),[i],!1)})}function o(i){a(function(v){return v.filter(function(c){return i!==c})})}return l.useImperativeHandle(n,function(){return{addInstance:u,removeInstance:o}}),b(yn,{children:t})});const St=_t;var M=globalThis&&globalThis.__assign||function(){return M=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},M.apply(this,arguments)},bn=globalThis&&globalThis.__read||function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),a,u=[],o;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)u.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return u};function Nt(e,n){var r=bn(l.useState(!0),2),t=r[0],a=r[1],u=bn(l.useState(e),2),o=u[0],i=u[1];l.useImperativeHandle(n,function(){return{update:i,close:function(){a(!1)}}});function v(){var s=o.onOk&&o.onOk();s&&s.then&&(i(M(M({},o),{confirmLoading:!0})),s.then(function(){a(!1)},function(d){console.error(d),i(M(M({},o),{confirmLoading:!1}))})),s||a(!1)}function c(){o.onCancel&&o.onCancel(),a(!1)}return b(qn,{...M({unmountOnExit:!0,simple:!0},o,{visible:t,onOk:v,onCancel:c}),children:o.content})}const Mt=l.forwardRef(Nt);var j=globalThis&&globalThis.__assign||function(){return j=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},j.apply(this,arguments)};function At(){var e=l.createRef(),n=b(St,{ref:e}),r=0;function t(u){r+=1;var o=l.createRef();function i(){u.afterClose&&u.afterClose(),c()}var v=b(Mt,{...j({key:r,ref:o},He(u),{afterClose:i})});e.current.addInstance(v);function c(){e.current.removeInstance(v)}function s(){var p;(p=o.current)===null||p===void 0||p.close()}function d(p){var f;(f=o.current)===null||f===void 0||f.update(p)}return A.push(s),{close:s,update:d}}var a={confirm:function(u){return t(j({},u))}};return["info","success","warning","error"].forEach(function(u){a[u]=function(o){return t(j(j({},o),{isNotice:!0,noticeType:u}))}}),[a,n]}var E=globalThis&&globalThis.__assign||function(){return E=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(this,arguments)},Lt=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r},Re=globalThis&&globalThis.__read||function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),a,u=[],o;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)u.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(o)throw o.error}}return u},je=null,Rt=0;Or||document.documentElement.addEventListener("click",function(e){je={left:e.clientX,top:e.clientY},setTimeout(function(){je=null},100)},!0);var Dt={mask:!0,maskClosable:!0,mountOnEnter:!0,escToExit:!0,getPopupContainer:function(){return document.body},alignCenter:!0};function Bt(e,n){var r,t,a,u=l.useContext(mr),o=pr(e,Dt,(a=u.componentConfig)===null||a===void 0?void 0:a.Modal),i=o.className,v=o.style,c=o.visible,s=o.simple,d=o.title,p=o.children,f=o.cancelText,h=o.okText,g=o.okButtonProps,O=o.cancelButtonProps,T=o.getPopupContainer,w=T===void 0?function(){return document.body}:T,R=o.footer,q=o.afterClose,he=o.confirmLoading,D=o.mountOnEnter,re=o.unmountOnExit,z=o.afterOpen,be=o.hideCancel,te=o.autoFocus,S=o.focusLock,ge=o.maskClosable,P=o.mask,K=o.alignCenter,oe=o.getChildrenPopupContainer,ye=o.wrapClassName,Q=o.escToExit,ae=o.modalRender,Ce=o.maskStyle,Oe=o.wrapStyle,ue=o.closeIcon,xe=Lt(o,["className","style","visible","simple","title","children","cancelText","okText","okButtonProps","cancelButtonProps","getPopupContainer","footer","afterClose","confirmLoading","mountOnEnter","unmountOnExit","afterOpen","hideCancel","autoFocus","focusLock","maskClosable","mask","alignCenter","getChildrenPopupContainer","wrapClassName","escToExit","modalRender","maskStyle","wrapStyle","closeIcon"]),B=l.useRef(null),Y=l.useRef(null),ie=Re(l.useState(),2),ce=ie[0],F=ie[1],_=Re(l.useState(),2),N=_[0],se=_[1],le=l.useRef(null),Je=l.useRef(!1),Z=l.useRef(!1),fe=l.useRef();fe.current||(fe.current=Rt++);var Xe=Re(xr(!1,{defaultValue:!1,value:he}),2),zn=Xe[0],Ee=Xe[1],y=u.getPrefixCls("modal",o.prefixCls),Fe=u.locale,en=u.rtl,Kn=!s,Qn="closable"in o?o.closable:Kn,Yn=l.useCallback(function(){return tr.findDOMNode(w())},[w]);Er(Yn,{hidden:c&&P});var J=function(){o.onCancel&&o.onCancel()},nn=function(m){Q&&c&&m.key===kr.key&&(m.stopPropagation(),J())},ke=l.useRef(!1),Zn=function(m){Z.current&&(Z.current=!1,!ke.current&&ge&&P&&m.target===m.currentTarget&&setTimeout(function(){J()},100))},Jn=function(m){var C=o.onConfirm,W=o.onOk,X=W||C,U;X&&(U=X(m)),U&&U.then&&(Ee(!0),U.then(function(){Ee(!1)},function(_e){Ee(!1),console.error(_e)}))};l.useEffect(function(){var m=null;return Q&&(m=setTimeout(function(){var C;(C=B.current)===null||C===void 0||C.focus()})),function(){m&&clearTimeout(m)}},[c,Q]),l.useEffect(function(){var m;if(c&&N===void 0&&B.current){var C=+((m=window.getComputedStyle(B.current,null))===null||m===void 0?void 0:m.zIndex);isNaN(C)||se(C+1)}},[c,N]);var Xn=function(){if(R!==null){var m=b(sn,{...E({onClick:J},O),children:f||Fe.Modal.cancelText}),C=b(sn,{...E({loading:zn,onClick:Jn,type:"primary"},g),children:h||Fe.Modal.okText}),W=cn(R)?R(m,C):R||Se(yn,{children:[!be&&m,C]});return b("div",{className:y+"-footer",children:W})}},Ie=u.focusLock.modal,er=!!Ie,nr=hr(Ie)&&Ie.autoFocus,Te=S!==void 0?S:er,we=te!==void 0?te:nr,rn=Se(gn,{...E({},u,{prefixCls:o.prefixCls||u.prefixCls,locale:Fe,zIndex:N||1050,getPopupContainer:function(m){return typeof oe=="function"?oe(m):Y.current}}),children:[d&&b("div",{className:y+"-header",children:b("div",{className:y+"-title",id:"arco-dialog-"+fe.current,children:d})}),b("div",{ref:Y,className:y+"-content",children:p}),Xn(),Qn&&(ue!==void 0?b("span",{onClick:J,className:y+"-close-icon",children:ue}):b(br,{tabIndex:-1,onClick:J,className:y+"-close-icon",role:"button","aria-label":"Close",children:b(gr,{})}))]}),rr=d?{"aria-labelledby":"arco-dialog-"+fe.current}:{},tn=b("div",{...E({role:"dialog"},rr,{className:an(y,(r={},r[y+"-simple"]=s,r[y+"-rtl"]=en,r),i),style:v}),children:Te?b(wt,{crossFrame:!1,disabled:!c,autoFocus:we,lockProps:{tabIndex:-1,onKeyDown:nn},children:rn}):rn}),Pe=function(m){if(!Je.current){var C="";if(le.current){var W=m.getBoundingClientRect(),X=le.current,U=X.left,_e=X.top;C=U-W.left+"px "+(_e-W.top)+"px"}m.style.transformOrigin=C}};return b(Fr,{visible:c,forceRender:!D,getContainer:w,children:Se("div",{ref:n,children:[P?b(un,{in:c,timeout:400,appear:!0,mountOnEnter:D,classNames:"fadeModal",unmountOnExit:re,onEnter:function(m){m.style.display="block"},onExited:function(m){m.style.display="none"},children:b("div",{"aria-hidden":!0,className:y+"-mask",style:Ce})}):null,b("div",{...E({},yr(xe,["content","icon","showIcon","isNotice","noticeType","onCancel","onOk","onConfirm","closable","prefixCls"]),{tabIndex:!Te||!we?-1:null,ref:B,className:an(y+"-wrapper",(t={},t[y+"-wrapper-no-mask"]=!P,t[y+"-wrapper-align-center"]=K,t[y+"-wrapper-rtl"]=en,t),ye),style:E(E({},Oe||{}),{display:c||ce?"block":"none",overflow:!c&&ce?"hidden":""}),onKeyDown:!Te||!we?nn:null,onMouseDown:function(m){Z.current=m.target===m.currentTarget},onClick:Zn}),children:b(un,{in:c,timeout:400,appear:!0,classNames:"zoomModal",unmountOnExit:re,mountOnEnter:D,onEnter:function(m){F(!0),le.current=je,Je.current=!!m.style.transformOrigin,Pe(m)},onEntered:function(m){Pe(m),le.current=null,z&&z()},onExit:function(){ke.current=!0},onExited:function(m){F(!1),Pe(m),q&&q(),ke.current=!1},children:x.cloneElement(cn(ae)?ae(tn):tn,{onMouseDown:function(){Z.current=!1},onMouseUp:function(){Z.current=!1}})})})]})})}var L=l.forwardRef(Bt);L.displayName="Modal";L.config=vr;L.confirm=function(e){return Vn(e)};L.useModal=At;["info","success","warning","error"].forEach(function(e){L[e]=function(n){return Vn(E(E({},n),{isNotice:!0,noticeType:e}))}});L.destroyAll=function(){for(;A.length;){var e=A.pop();e&&e()}};const qn=L;export{qn as M};
