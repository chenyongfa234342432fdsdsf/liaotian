import{i as o}from"./chunk-d8234155.js";import{r}from"./chunk-e9cd8943.js";/* empty css              */import{u as C,k as I,s as u,l as v}from"./chunk-fde55823.js";import{l as b}from"./chunk-ba3e3861.js";import{I as j}from"./chunk-d80cdd1c.js";import{p as k}from"./chunk-e3775f6c.js";import{P as p}from"./chunk-4c07d917.js";import{N as U}from"./chunk-5b5bf05c.js";import{a as n,j as t}from"./chunk-c1d16543.js";import{M as w}from"./chunk-36a75920.js";import"./chunk-cf010ec4.js";import"./chunk-09d047a9.js";import"./chunk-acb1a683.js";import"./chunk-634a8a63.js";import"./chunk-99b8f121.js";import"./chunk-23179642.js";import"./chunk-61229905.js";import"./chunk-0feb7138.js";import"./chunk-b745fb4d.js";import"./chunk-b4d6f2f0.js";import"./chunk-5f195378.js";import"./chunk-6b5946cf.js";import"./chunk-278fdecb.js";const q="payment-password-index-module__scoped--K0o",A={scoped:q};function oe(){const{userInfo:d,setUserInfo:x}=C(),[s,_]=r.useState(d.isSetPayPassword),[l,P]=r.useState(""),[f,y]=r.useState(""),[i,h]=r.useState(""),m=e=>{console.log(e),s===1?P(e):s===2?y(e):s===3&&h(e)},g=()=>{s===1?S():s===2?_(3):s===3&&(f===i?N():w.error(o._("features_settings_center_payment_password_index_owexdwtjn1")))},c=e=>e.length===6,N=()=>{I({newPayPassword:u.encryptAES(i,!0)}).then(e=>{if(e.isOk&&e.data){const a={...d,isSetPayPassword:1};x(a),w.success(o._("features_settings_center_payment_password_index_d33sm6ilif")),b("/account-security")}})},S=()=>{v({payPassword:u.encryptAES(l,!0)}).then(async e=>{var a;e.isOk&&e.data&&((a=e.data)!=null&&a.success?_(2):await k(o._("helper_message_fugvl05ct4"),o._("features_settings_center_payment_password_index_6nfwnl8vww")))})};return n("div",{className:A.scoped,children:[t(U,{label:o._("features_settings_center_account_security_index_pjf7yxwuko"),url:"/account-security"}),s===1&&n("div",{className:"password-box",children:[t("p",{className:"text-text_color_01 text-sm mb-8",children:o._("features_settings_center_payment_password_index_xtjkevmaup")}),t(p,{onComplete:m})]}),s===2&&n("div",{className:"password-box",children:[t("p",{className:"text-text_color_01 text-sm mb-8",children:o._("features_settings_center_payment_password_index_x3wuxeeqqh")}),t(p,{onComplete:m})]}),s===3&&n("div",{className:"password-box",children:[t("p",{className:"text-text_color_01 text-sm mb-8",children:o._("features_settings_center_payment_password_index_nb4lzojj89")}),t(p,{onComplete:m})]}),(c(l)||c(f)||c(i))&&t("div",{className:"commit-btn",onClick:g,children:t(j,{name:"icon_set_confirm",fontSize:24,className:"commit-icon"})})]})}export{oe as default};
