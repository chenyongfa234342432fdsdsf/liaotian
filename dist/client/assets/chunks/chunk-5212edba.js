import{r as Pe,b as Be,f as Ve}from"./chunk-e9cd8943.js";import{r as $e}from"./chunk-0feb7138.js";import{u as ze,e as We}from"./chunk-d8234155.js";import{g as Ue,b as Fe,c as He,o as qe}from"./chunk-99b8f121.js";import{j as we,a as Ye}from"./chunk-c1d16543.js";var Re={exports:{}};(()=>{var ue={296:(h,b,u)=>{var Z=/^\s+|\s+$/g,R=/^[-+]0x[0-9a-f]+$/i,N=/^0b[01]+$/i,v=/^0o[0-7]+$/i,P=parseInt,W=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,ae=typeof self=="object"&&self&&self.Object===Object&&self,ce=W||ae||Function("return this")(),A=Object.prototype.toString,ee=Math.max,ie=Math.min,X=function(){return ce.Date.now()};function U(l){var j=typeof l;return!!l&&(j=="object"||j=="function")}function se(l){if(typeof l=="number")return l;if(function(p){return typeof p=="symbol"||function(S){return!!S&&typeof S=="object"}(p)&&A.call(p)=="[object Symbol]"}(l))return NaN;if(U(l)){var j=typeof l.valueOf=="function"?l.valueOf():l;l=U(j)?j+"":j}if(typeof l!="string")return l===0?l:+l;l=l.replace(Z,"");var F=N.test(l);return F||v.test(l)?P(l.slice(2),F?2:8):R.test(l)?NaN:+l}h.exports=function(l,j,F){var p,S,M,E,_,H,C=0,G=!1,q=!1,Q=!0;if(typeof l!="function")throw new TypeError("Expected a function");function J(I){var k=p,V=S;return p=S=void 0,C=I,E=l.apply(V,k)}function te(I){var k=I-H;return H===void 0||k>=j||k<0||q&&I-C>=M}function x(){var I=X();if(te(I))return K(I);_=setTimeout(x,function(k){var V=j-(k-H);return q?ie(V,M-(k-C)):V}(I))}function K(I){return _=void 0,Q&&p?J(I):(p=S=void 0,E)}function B(){var I=X(),k=te(I);if(p=arguments,S=this,H=I,k){if(_===void 0)return function(V){return C=V,_=setTimeout(x,j),G?J(V):E}(H);if(q)return _=setTimeout(x,j),J(H)}return _===void 0&&(_=setTimeout(x,j)),E}return j=se(j)||0,U(F)&&(G=!!F.leading,M=(q="maxWait"in F)?ee(se(F.maxWait)||0,j):M,Q="trailing"in F?!!F.trailing:Q),B.cancel=function(){_!==void 0&&clearTimeout(_),C=0,p=H=S=_=void 0},B.flush=function(){return _===void 0?E:K(X())},B}},96:(h,b,u)=>{var Z="Expected a function",R=NaN,N="[object Symbol]",v=/^\s+|\s+$/g,P=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,ae=/^0o[0-7]+$/i,ce=parseInt,A=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g,ee=typeof self=="object"&&self&&self.Object===Object&&self,ie=A||ee||Function("return this")(),X=Object.prototype.toString,U=Math.max,se=Math.min,l=function(){return ie.Date.now()};function j(p){var S=typeof p;return!!p&&(S=="object"||S=="function")}function F(p){if(typeof p=="number")return p;if(function(E){return typeof E=="symbol"||function(_){return!!_&&typeof _=="object"}(E)&&X.call(E)==N}(p))return R;if(j(p)){var S=typeof p.valueOf=="function"?p.valueOf():p;p=j(S)?S+"":S}if(typeof p!="string")return p===0?p:+p;p=p.replace(v,"");var M=W.test(p);return M||ae.test(p)?ce(p.slice(2),M?2:8):P.test(p)?R:+p}h.exports=function(p,S,M){var E=!0,_=!0;if(typeof p!="function")throw new TypeError(Z);return j(M)&&(E="leading"in M?!!M.leading:E,_="trailing"in M?!!M.trailing:_),function(H,C,G){var q,Q,J,te,x,K,B=0,I=!1,k=!1,V=!0;if(typeof H!="function")throw new TypeError(Z);function be($){var Y=q,ne=Q;return q=Q=void 0,B=$,te=H.apply(ne,Y)}function he($){var Y=$-K;return K===void 0||Y>=C||Y<0||k&&$-B>=J}function re(){var $=l();if(he($))return me($);x=setTimeout(re,function(Y){var ne=C-(Y-K);return k?se(ne,J-(Y-B)):ne}($))}function me($){return x=void 0,V&&q?be($):(q=Q=void 0,te)}function le(){var $=l(),Y=he($);if(q=arguments,Q=this,K=$,Y){if(x===void 0)return function(ne){return B=ne,x=setTimeout(re,C),I?be(ne):te}(K);if(k)return x=setTimeout(re,C),be(K)}return x===void 0&&(x=setTimeout(re,C)),te}return C=F(C)||0,j(G)&&(I=!!G.leading,J=(k="maxWait"in G)?U(F(G.maxWait)||0,C):J,V="trailing"in G?!!G.trailing:V),le.cancel=function(){x!==void 0&&clearTimeout(x),B=0,q=K=Q=x=void 0},le.flush=function(){return x===void 0?te:me(l())},le}(p,S,{leading:E,maxWait:S,trailing:_})}},703:(h,b,u)=>{var Z=u(414);function R(){}function N(){}N.resetWarningCache=R,h.exports=function(){function v(ae,ce,A,ee,ie,X){if(X!==Z){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}function P(){return v}v.isRequired=v;var W={array:v,bigint:v,bool:v,func:v,number:v,object:v,string:v,symbol:v,any:v,arrayOf:P,element:v,elementType:v,instanceOf:P,node:v,objectOf:P,oneOf:P,oneOfType:P,shape:P,exact:P,checkPropTypes:N,resetWarningCache:R};return W.PropTypes=W,W}},697:(h,b,u)=>{h.exports=u(703)()},414:h=>{h.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},oe={};function T(h){var b=oe[h];if(b!==void 0)return b.exports;var u=oe[h]={exports:{}};return ue[h](u,u.exports,T),u.exports}T.n=h=>{var b=h&&h.__esModule?()=>h.default:()=>h;return T.d(b,{a:b}),b},T.d=(h,b)=>{for(var u in b)T.o(b,u)&&!T.o(h,u)&&Object.defineProperty(h,u,{enumerable:!0,get:b[u]})},T.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),T.o=(h,b)=>Object.prototype.hasOwnProperty.call(h,b),T.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var pe={};(()=>{T.r(pe),T.d(pe,{LazyLoadComponent:()=>Se,LazyLoadImage:()=>Ce,trackWindowScroll:()=>K});const h=Pe;var b=T.n(h),u=T(697);const Z=$e;var R=T.n(Z);function N(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function v(n){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(n)}function P(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,i)}return o}function W(n,e,o){return(e=ce(e))in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function ae(n,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ce(i.key),i)}}function ce(n){var e=function(o,i){if(v(o)!=="object"||o===null)return o;var f=o[Symbol.toPrimitive];if(f!==void 0){var y=f.call(o,"string");if(v(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(n);return v(e)==="symbol"?e:String(e)}function A(n,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},A(n,e)}function ee(n){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(n)}var ie=function(n){n.forEach(function(e){e.isIntersecting&&e.target.onVisible()})},X={},U=function(n){(function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&A(t,r)})(m,n);var e,o,i,f,y=(i=m,f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,r=ee(i);if(f){var c=ee(this).constructor;t=Reflect.construct(r,arguments,c)}else t=r.apply(this,arguments);return function(a,s){if(s&&(v(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(a)}(this,t)});function m(t){var r;if(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}(this,m),(r=y.call(this,t)).supportsObserver=!t.scrollPosition&&t.useIntersectionObserver&&N(),r.supportsObserver){var c=t.threshold;r.observer=function(a){return X[a]=X[a]||new IntersectionObserver(ie,{rootMargin:a+"px"}),X[a]}(c)}return r}return e=m,o=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,r=this.placeholder.getBoundingClientRect(),c=R().findDOMNode(this.placeholder).style,a=parseInt(c.getPropertyValue("margin-left"),10)||0,s=parseInt(c.getPropertyValue("margin-top"),10)||0;return{bottom:t.y+r.bottom+s,left:t.x+r.left+a,right:t.x+r.right+a,top:t.y+r.top+s}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var t=this.props,r=t.scrollPosition,c=t.threshold,a=this.getPlaceholderBoundingBox(r),s=r.y+window.innerHeight,d=r.x,O=r.x+window.innerWidth,w=r.y;return w-c<=a.bottom&&s+c>=a.top&&d-c<=a.right&&O+c>=a.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var t=this,r=this.props,c=r.className,a=r.height,s=r.placeholder,d=r.style,O=r.width;if(s&&typeof s.type!="function")return b().cloneElement(s,{ref:function(g){return t.placeholder=g}});var w=function(g){for(var D=1;D<arguments.length;D++){var L=arguments[D]!=null?arguments[D]:{};D%2?P(Object(L),!0).forEach(function(z){W(g,z,L[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(L)):P(Object(L)).forEach(function(z){Object.defineProperty(g,z,Object.getOwnPropertyDescriptor(L,z))})}return g}({display:"inline-block"},d);return O!==void 0&&(w.width=O),a!==void 0&&(w.height=a),b().createElement("span",{className:c,ref:function(g){return t.placeholder=g},style:w},s)}}],o&&ae(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),m}(b().Component);U.propTypes={onVisible:u.PropTypes.func.isRequired,className:u.PropTypes.string,height:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string]),placeholder:u.PropTypes.element,threshold:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool,scrollPosition:u.PropTypes.shape({x:u.PropTypes.number.isRequired,y:u.PropTypes.number.isRequired}),width:u.PropTypes.oneOfType([u.PropTypes.number,u.PropTypes.string])},U.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const se=U;var l=T(296),j=T.n(l),F=T(96),p=T.n(F),S=function(n){var e=getComputedStyle(n,null);return e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x")};const M=function(n){if(!(n instanceof HTMLElement))return window;for(var e=n;e&&e instanceof HTMLElement;){if(/(scroll|auto)/.test(S(e)))return e;e=e.parentNode}return window};function E(n){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(n)}var _=["delayMethod","delayTime"];function H(){return H=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},H.apply(this,arguments)}function C(n,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(f=function(y,m){if(E(y)!=="object"||y===null)return y;var t=y[Symbol.toPrimitive];if(t!==void 0){var r=t.call(y,"string");if(E(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}(i.key),E(f)==="symbol"?f:String(f)),i)}var f}function G(n,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},G(n,e)}function q(n,e){if(e&&(E(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q(n)}function Q(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function J(n){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(n)}var te=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},x=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const K=function(n){var e=function(o){(function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&G(c,a)})(r,o);var i,f,y,m,t=(y=r,m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var c,a=J(y);if(m){var s=J(this).constructor;c=Reflect.construct(a,arguments,s)}else c=a.apply(this,arguments);return q(this,c)});function r(c){var a;if(function(d,O){if(!(d instanceof O))throw new TypeError("Cannot call a class as a function")}(this,r),(a=t.call(this,c)).useIntersectionObserver=c.useIntersectionObserver&&N(),a.useIntersectionObserver)return q(a);var s=a.onChangeScroll.bind(Q(a));return c.delayMethod==="debounce"?a.delayedScroll=j()(s,c.delayTime):c.delayMethod==="throttle"&&(a.delayedScroll=p()(s,c.delayTime)),a.state={scrollPosition:{x:te(),y:x()}},a.baseComponentRef=b().createRef(),a}return i=r,(f=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||M(R().findDOMNode(this.baseComponentRef.current))!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=M(R().findDOMNode(this.baseComponentRef.current)),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:te(),y:x()}})}},{key:"render",value:function(){var c=this.props,a=(c.delayMethod,c.delayTime,function(d,O){if(d==null)return{};var w,g,D=function(z,de){if(z==null)return{};var fe,Oe,xe={},Ie=Object.keys(z);for(Oe=0;Oe<Ie.length;Oe++)fe=Ie[Oe],de.indexOf(fe)>=0||(xe[fe]=z[fe]);return xe}(d,O);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(d);for(g=0;g<L.length;g++)w=L[g],O.indexOf(w)>=0||Object.prototype.propertyIsEnumerable.call(d,w)&&(D[w]=d[w])}return D}(c,_)),s=this.useIntersectionObserver?null:this.state.scrollPosition;return b().createElement(n,H({forwardRef:this.baseComponentRef,scrollPosition:s},a))}}])&&C(i.prototype,f),Object.defineProperty(i,"prototype",{writable:!1}),r}(b().Component);return e.propTypes={delayMethod:u.PropTypes.oneOf(["debounce","throttle"]),delayTime:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool},e.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},e};function B(n){return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(n)}function I(n,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(f=function(y,m){if(B(y)!=="object"||y===null)return y;var t=y[Symbol.toPrimitive];if(t!==void 0){var r=t.call(y,"string");if(B(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}(i.key),B(f)==="symbol"?f:String(f)),i)}var f}function k(n,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},k(n,e)}function V(n){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(n)}var be=function(n){(function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&k(t,r)})(m,n);var e,o,i,f,y=(i=m,f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,r=V(i);if(f){var c=V(this).constructor;t=Reflect.construct(r,arguments,c)}else t=r.apply(this,arguments);return function(a,s){if(s&&(B(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(a)}(this,t)});function m(t){return function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")}(this,m),y.call(this,t)}return e=m,(o=[{key:"render",value:function(){return b().createElement(se,this.props)}}])&&I(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),m}(b().Component);const he=K(be);function re(n){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(n)}function me(n,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,(f=function(y,m){if(re(y)!=="object"||y===null)return y;var t=y[Symbol.toPrimitive];if(t!==void 0){var r=t.call(y,"string");if(re(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}(i.key),re(f)==="symbol"?f:String(f)),i)}var f}function le(n,e){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},le(n,e)}function $(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Y(n){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(n)}var ne=function(n){(function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&le(t,r)})(m,n);var e,o,i,f,y=(i=m,f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,r=Y(i);if(f){var c=Y(this).constructor;t=Reflect.construct(r,arguments,c)}else t=r.apply(this,arguments);return function(a,s){if(s&&(re(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(a)}(this,t)});function m(t){var r;(function(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")})(this,m),r=y.call(this,t);var c=t.afterLoad,a=t.beforeLoad,s=t.scrollPosition,d=t.visibleByDefault;return r.state={visible:d},d&&(a(),c()),r.onVisible=r.onVisible.bind($(r)),r.isScrollTracked=!!(s&&Number.isFinite(s.x)&&s.x>=0&&Number.isFinite(s.y)&&s.y>=0),r}return e=m,(o=[{key:"componentDidUpdate",value:function(t,r){r.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var t=this.props,r=t.className,c=t.delayMethod,a=t.delayTime,s=t.height,d=t.placeholder,O=t.scrollPosition,w=t.style,g=t.threshold,D=t.useIntersectionObserver,L=t.width;return this.isScrollTracked||D&&N()?b().createElement(se,{className:r,height:s,onVisible:this.onVisible,placeholder:d,scrollPosition:O,style:w,threshold:g,useIntersectionObserver:D,width:L}):b().createElement(he,{className:r,delayMethod:c,delayTime:a,height:s,onVisible:this.onVisible,placeholder:d,style:w,threshold:g,width:L})}}])&&me(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),m}(b().Component);ne.propTypes={afterLoad:u.PropTypes.func,beforeLoad:u.PropTypes.func,useIntersectionObserver:u.PropTypes.bool,visibleByDefault:u.PropTypes.bool},ne.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Se=ne;function ye(n){return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(n)}var De=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Ee(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,i)}return o}function _e(n){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Ee(Object(o),!0).forEach(function(i){Ne(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ee(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}function Ne(n,e,o){return(e=Le(e))in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function ve(){return ve=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},ve.apply(this,arguments)}function Me(n,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Le(i.key),i)}}function Le(n){var e=function(o,i){if(ye(o)!=="object"||o===null)return o;var f=o[Symbol.toPrimitive];if(f!==void 0){var y=f.call(o,"string");if(ye(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(n);return ye(e)==="symbol"?e:String(e)}function je(n,e){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},je(n,e)}function ge(n){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(n)}var Te=function(n){(function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&je(t,r)})(m,n);var e,o,i,f,y=(i=m,f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,r=ge(i);if(f){var c=ge(this).constructor;t=Reflect.construct(r,arguments,c)}else t=r.apply(this,arguments);return function(a,s){if(s&&(ye(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(a)}(this,t)});function m(t){var r;return function(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}(this,m),(r=y.call(this,t)).state={loaded:!1},r}return e=m,(o=[{key:"onImageLoad",value:function(){var t=this;return this.state.loaded?null:function(r){t.props.onLoad(r),t.props.afterLoad(),t.setState({loaded:!0})}}},{key:"getImg",value:function(){var t=this.props,r=(t.afterLoad,t.beforeLoad,t.delayMethod,t.delayTime,t.effect,t.placeholder,t.placeholderSrc,t.scrollPosition,t.threshold,t.useIntersectionObserver,t.visibleByDefault,t.wrapperClassName,t.wrapperProps,function(c,a){if(c==null)return{};var s,d,O=function(g,D){if(g==null)return{};var L,z,de={},fe=Object.keys(g);for(z=0;z<fe.length;z++)L=fe[z],D.indexOf(L)>=0||(de[L]=g[L]);return de}(c,a);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);for(d=0;d<w.length;d++)s=w[d],a.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(c,s)&&(O[s]=c[s])}return O}(t,De));return b().createElement("img",ve({},r,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var t=this.props,r=t.beforeLoad,c=t.className,a=t.delayMethod,s=t.delayTime,d=t.height,O=t.placeholder,w=t.scrollPosition,g=t.style,D=t.threshold,L=t.useIntersectionObserver,z=t.visibleByDefault,de=t.width;return b().createElement(Se,{beforeLoad:r,className:c,delayMethod:a,delayTime:s,height:d,placeholder:O,scrollPosition:w,style:g,threshold:D,useIntersectionObserver:L,visibleByDefault:z,width:de},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(t){var r=this.props,c=r.effect,a=r.height,s=r.placeholderSrc,d=r.width,O=r.wrapperClassName,w=r.wrapperProps,g=this.state.loaded,D=g?" lazy-load-image-loaded":"",L=g||!s?{}:{backgroundImage:"url(".concat(s,")"),backgroundSize:"100% 100%"};return b().createElement("span",ve({className:O+" lazy-load-image-background "+c+D,style:_e(_e({},L),{},{color:"transparent",display:"inline-block",height:a,width:d})},w),t)}},{key:"render",value:function(){var t=this.props,r=t.effect,c=t.placeholderSrc,a=t.visibleByDefault,s=t.wrapperClassName,d=t.wrapperProps,O=this.getLazyLoadImage();return(r||c)&&!a||s||d?this.getWrappedLazyLoadImage(O):O}}])&&Me(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),m}(b().Component);Te.propTypes={onLoad:u.PropTypes.func,afterLoad:u.PropTypes.func,beforeLoad:u.PropTypes.func,delayMethod:u.PropTypes.string,delayTime:u.PropTypes.number,effect:u.PropTypes.string,placeholderSrc:u.PropTypes.string,threshold:u.PropTypes.number,useIntersectionObserver:u.PropTypes.bool,visibleByDefault:u.PropTypes.bool,wrapperClassName:u.PropTypes.string,wrapperProps:u.PropTypes.object},Te.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Ce=Te})(),Re.exports=pe})();var Ae=Re.exports;const Xe="lazy-image-index-module__scoped--6Sr",Ge={scoped:Xe},{getFastUrl:Je,injectThemeImgUrl:ke}=Ve;var Ke=(ue=>(ue.svg=".svg",ue.png=".png",ue))(Ke||{});const Qe=qe;function ot(ue){const{src:oe,radius:T,hasTheme:pe,className:h,imageName:b,whetherPlaceholdImg:u=!1,whetherManyBusiness:Z=!1,imageType:R,renderOriginalSize:N=!1,imgClassName:v,...P}=ue,[W,ae]=Pe.useState({}),A=ze().theme===We.dark?"_black":"_white",ee=`${Qe}icon_default_load_fail${A}.png`,ie=u?we("img",{className:"placeholder-img",src:ee,alt:"",width:N?W.width:P.width,height:N?W.height:P.height}):void 0,X=Pe.useMemo(()=>({target:l})=>(ae({width:l.naturalWidth,height:l.naturalHeight}),!0),[]),U=Pe.useMemo(()=>{if(typeof oe!="string")return console.error("LazyImage: 传入的 src 非字符串请检查",oe),oe;let l=Je(oe);return Z&&Ue()&&(l=l.replace(`${Fe().ossFolder}/web/image/`,`/web/business/${Be}/business-img/`)),pe?ke(R?`${l}${R}`:`${l}`,A):R?`${l}${R}`:`${l}`},[oe,R,pe,A,Z]);if(!oe)return we("span",{style:{width:P.width||0,height:P.height||0}});const se=ie?{placeholder:ie}:{};return Ye("div",{className:He(Ge.scoped,h,T?"lazy-radius":""),children:[we(Ae.LazyLoadImage,{className:v,...P,src:U,...se,onLoad:N?X:()=>{},width:N?W.width:P.width,height:N?W.height:P.height}),we("label",{children:b||""})]})}export{ot as L,Ke as T};
