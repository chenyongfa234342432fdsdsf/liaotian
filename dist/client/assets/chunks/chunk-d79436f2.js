import{i as l,c as La,d as Fa,f as re,a as Va,u as qa}from"./chunk-d8234155.js";import{I as $a,u as oe,U as tt,M as ie}from"./chunk-f88c8133.js";import{j as Ba,k as Ha,R as be,r as u,l as Wa,a as Za,g as Ka}from"./chunk-e9cd8943.js";import{u as R,g as qt,p as ot,q as Ya,r as Ja,v as Qa,w as Xa,x as en,y as tn,z as at,a as te,A as $t,B as ne,t as it,C as an,D as ct,E as Bt,d as Ht,F as Wt,o as nn,G as Zt,H as sn,I as rn,J as on,K as cn,L as _e,b as Kt,M as ln,N as dn,j as un,O as mn,P as _n,Q as Yt,R as lt,S as pn,T as fn,U as Jt,V as Qt,W as hn,X as gn,m as dt,Y as vn,Z as xn,_ as bn,$ as yn,a0 as Cn,a1 as Xt,k as Nn,a2 as wn,a3 as kn,a4 as Sn,a5 as In}from"./chunk-ff689da6.js";/* empty css              */import{u as we,d as qe,x as Mn,z as Dn,R as Rn,l as An,s as Gn}from"./chunk-fde55823.js";import{I as b}from"./chunk-d80cdd1c.js";import{g as jt,A as jn,u as Pn,a as Pt}from"../entries/renderer_default.page.client.6b706b8a.js";import{b as z,a as ut,Z as j,e as ue,k as Oe,f as nt,j as mt,g as Tt}from"./chunk-d368c681.js";import{C as ce}from"./chunk-faa47c2c.js";import{B as ye}from"./chunk-23179642.js";import"./chunk-3a21c360.js";import{D as _t,M as ae}from"./chunk-01f7121e.js";/* empty css              */import{g as Te,u as ea,C as Tn}from"./chunk-0437e48e.js";import{M as En,C as Un}from"./chunk-3c42a90c.js";import{j as t,a as m,F as P}from"./chunk-c1d16543.js";import{I as zn,_ as On,C as ta,u as aa,i as Q,o as Ln,c as Ce,g as Fn,h as Vn,M as T,m as qn}from"./chunk-36a75920.js";import{g as $n}from"./chunk-5af0d2a0.js";import{N as Bn}from"./chunk-28c62a8f.js";import{L as na}from"./chunk-5f195378.js";import{L as sa}from"./chunk-014979c9.js";import{S as Hn}from"./chunk-eef16262.js";import{C as Wn}from"./chunk-b15b264a.js";import{u as Y}from"./chunk-79739c92.js";import{c as E,o as Zn}from"./chunk-99b8f121.js";import{L as ra}from"./chunk-5212edba.js";import{M as pt}from"./chunk-61229905.js";import{r as Kn,p as Yn}from"./chunk-e3775f6c.js";import{T as ft}from"./chunk-6e5ba0b4.js";import{i as Jn,h as Qn}from"./chunk-b720646a.js";import{S as Xn}from"./chunk-67585c99.js";import{I as ke}from"./chunk-1a70223d.js";import{a as es,A as ts,b as as}from"./chunk-46a6e698.js";import{U as ns}from"./chunk-1051dbf9.js";import{u as H}from"./chunk-cfcc25a6.js";import{I as ss,u as rs}from"./chunk-24e4639c.js";import{u as me}from"./chunk-8f68cdf3.js";import{C as oa}from"./chunk-bc20e779.js";import{H as os,p as ia,R as is,C as cs}from"./chunk-78c1d4c8.js";import{_ as ls}from"./chunk-cf010ec4.js";import{u as ca}from"./chunk-1d6b0b39.js";import{u as ds}from"./chunk-6b5946cf.js";import{a as la}from"./chunk-b3e26e36.js";import{T as us,I as ht}from"./chunk-cd3d6459.js";import{P as ms}from"./chunk-4c07d917.js";import{I as _s}from"./chunk-260fa0dc.js";import{A as ps,c as fs}from"./chunk-b4d6f2f0.js";import"./chunk-0feb7138.js";import"./chunk-634a8a63.js";import"./chunk-09d047a9.js";import{L as hs}from"./chunk-301a229e.js";import{S as da}from"./chunk-86e4740a.js";import{a as gs}from"./chunk-ec38f500.js";import"./chunk-93e6d3ec.js";import"./chunk-ec284ae6.js";import"./chunk-ba3e3861.js";import"./chunk-8b2d29ac.js";import"./chunk-b745fb4d.js";import"./chunk-e9c2c122.js";import"./chunk-e7d38ff7.js";import"./chunk-cc4f6b84.js";import"./chunk-258ffa59.js";import"./chunk-77df718a.js";import"./chunk-c1540bb6.js";import"./chunk-01660bad.js";import"./chunk-e7397446.js";/* empty css              */import"./chunk-5dde6c82.js";import"./chunk-38ad52ab.js";import"./chunk-d4125093.js";import"./chunk-2bf04c59.js";import"./chunk-acb1a683.js";import"./chunk-dcdbe767.js";function vs(e,a,n){return Ba(e,a,n,!0)}const xs=(e,a,n=!0,s)=>Ha(e,a,n,s);function gt(e,a){return a===void 0&&(a=15),+parseFloat(Number(e).toPrecision(a))}function X(e){var a=e.toString().split(/[eE]/),n=(a[0].split(".")[1]||"").length-+(a[1]||0);return n>0?n:0}function Ne(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));var a=X(e);return a>0?gt(Number(e)*Math.pow(10,a)):Number(e)}function st(e){ma&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function $e(e){return function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];var s=a[0],r=a.slice(1);return r.reduce(function(o,c){return e(o,c)},s)}}var se=$e(function(e,a){var n=Ne(e),s=Ne(a),r=X(e)+X(a),o=n*s;return st(o),o/Math.pow(10,r)}),bs=$e(function(e,a){var n=Math.pow(10,Math.max(X(e),X(a)));return(se(e,n)+se(a,n))/n}),ys=$e(function(e,a){var n=Math.pow(10,Math.max(X(e),X(a)));return(se(e,n)-se(a,n))/n}),ua=$e(function(e,a){var n=Ne(e),s=Ne(a);return st(n),st(s),se(n/s,gt(Math.pow(10,X(a)-X(e))))});function Cs(e,a){var n=Math.pow(10,a),s=ua(Math.round(Math.abs(se(e,n))),n);return e<0&&s!==0&&(s=se(s,-1)),s}var ma=!0;function Ns(e){e===void 0&&(e=!0),ma=e}var Le={strip:gt,plus:bs,minus:ys,times:se,divide:ua,round:Cs,digitLength:X,float2Fixed:Ne,enableBoundaryChecking:Ns};function Et(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Ut(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?Et(Object(n),!0).forEach(function(s){On(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ws(e,a){var n=u.useContext(zn),s=n.prefixCls,r=s===void 0?"arco":s,o=e.spin,c=e.className,i=Ut(Ut({"aria-hidden":!0,focusable:!1,ref:a},e),{},{className:"".concat(c?c+" ":"").concat(r,"-icon ").concat(r,"-icon-minus")});return o&&(i.className="".concat(i.className," ").concat(r,"-icon-loading")),delete i.spin,delete i.isIcon,t("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:t("path",{d:"M5 24h38"})})}var vt=be.forwardRef(ws);vt.defaultProps={isIcon:!0};vt.displayName="IconMinus";const ks=vt;function zt(e,a){var n=Math.pow(10,a);return(Math.round(e*n)/n).toFixed(a)}function Ss(e){var a=e.toString();if(Number.isNaN(+e)||!a.includes("e"))return a;try{var n=e<0,s=Math.abs(+e),r=Le.digitLength(s),o=Le.float2Fixed(s),c=o.toString().replace(/e\+(\d+)/i,function(i,d){return new Array(+d).fill(0).join("")});return(n?"-":"")+(r===0?c:c.replace(new RegExp("\\d{1,"+r+"}$"),function(i){var d=(""+new Array(r).fill(0).join("")+i).slice(-r);return(c.length<=r?0:"")+"."+d}))}catch{}return a}var Fe=globalThis&&globalThis.__assign||function(){return Fe=Object.assign||function(e){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Fe.apply(this,arguments)},Is=globalThis&&globalThis.__rest||function(e,a){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&a.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n},je=globalThis&&globalThis.__read||function(e,a){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),r,o=[],c;try{for(;(a===void 0||a-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(i){c={error:i}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(c)throw c.error}}return o};Le.enableBoundaryChecking(!1);var Ms=200,Ds=1e3,Rs={max:1/0,min:-1/0,step:1,mode:"embed",parser:function(e){return e.replace(/[^\w\.-]+/g,"")}};function As(e,a){var n,s=u.useContext(ta),r=s.getPrefixCls,o=s.size,c=s.componentConfig,i=aa(e,Rs,c==null?void 0:c.InputNumber),d=i.className,p=i.style,f=i.defaultValue,_=i.disabled,v=i.error,h=i.readOnly,g=i.placeholder,C=i.hideControl,M=i.suffix,D=i.prefix,x=i.icons,A=i.mode,N=i.size,V=i.step,q=i.precision,S=i.min,L=i.max,$=i.parser,I=i.formatter,U=i.onBlur,k=i.onFocus,O=i.onChange,B=i.onKeyDown,le=Is(i,["className","style","defaultValue","disabled","error","readOnly","placeholder","hideControl","suffix","prefix","icons","mode","size","step","precision","min","max","parser","formatter","onBlur","onFocus","onChange","onKeyDown"]),K=r("input-number"),Me=N||o,W=function(){if(Q(q)){var y=(""+V).split(".")[1],w=y&&y.length||0;return Math.max(w,q)}return null}(),De=je(u.useState("defaultValue"in i?f:void 0),2),Ke=De[0],Ye=De[1],F=function(){var y="value"in i?i.value:Ke;return typeof y=="string"&&y!==""?+y:y}(),St=je(u.useState(""),2),Aa=St[0],It=St[1],Mt=je(u.useState(!1),2),Ga=Mt[0],ja=Mt[1],Dt=je(u.useState(!1),2),Pa=Dt[0],Je=Dt[1],Rt=F===""||F===void 0||F===null,fe=u.useRef(null),he=u.useRef(null),Qe=u.useRef(!1);u.useImperativeHandle(a,function(){return he.current},[]);var Re=function(y){Ye(y);var w=Q(+y)?+y:void 0;w!==F&&O&&O(w)},Ae=function(){fe.current&&clearTimeout(fe.current),fe.current=null},ge=u.useCallback(function(y){var w=Number(y);return!y&&y!==0?w=void 0:Q(w)||(w=y==="-"?y:""),w<S&&(w=S),w>L&&(w=L),Q(w)?Q(W)?Number(zt(w,W)):w:void 0},[S,L,W]);u.useEffect(function(){return function(){return Ae()}},[]),u.useEffect(function(){Qe.current=!1},[i.value]),u.useEffect(function(){var y=Q(S)&&F<S||Q(L)&&F>L;y&&Qe.current&&Re(ge(F)),ja(y)},[S,L,F,ge]);var Xe=function(y,w,Z){if(Z===void 0&&(Z=!1),y.persist(),y.preventDefault(),Je(!1),!(_||h)){var Gt=S===-1/0?0:S;if(Rt||(Gt=Le[w](F,V)),Re(ge(Gt)),he.current&&he.current.focus(),Z){var Oa=fe.current===null;fe.current=setTimeout(function(){return y.target.dispatchEvent(y.nativeEvent)},Oa?Ds:Ms)}}},Ta=function(){var y;return Pa?y=Aa:Q(F)&&Q(W)?y=zt(F,W):F==null?y="":y=Ss(F),I?I(y):y},Ea={onChange:function(y){Je(!0);var w=y.trim().replace(/。/g,".");if(w=$?$(w):w,Q(+w)||w==="-"||!w||w==="."){var Z=ge(w);It(w),Re(Z)}},onKeyDown:function(y){y.stopPropagation();var w=y.key;w===ps.key?Xe(y,"minus"):w===fs.key&&Xe(y,"plus"),Ae(),B&&B(y)},onFocus:function(y){var w,Z;Qe.current=!0,It((Z=(w=he.current)===null||w===void 0?void 0:w.dom)===null||Z===void 0?void 0:Z.value),k&&k(y)},onBlur:function(y){Re(ge(F)),Je(!1),U&&U(y)}},Ua=function(y){return h?{}:{onMouseDown:function(w){return Xe(w,y,!0)},onMouseLeave:Ae,onMouseUp:Ae}},At=!C&&A==="button",za=!C&&!h&&A==="embed",Ge=function(y,w){var Z;return t("div",{...Fe({className:Ce(K+"-step-button",(Z={},Z[K+"-step-button-disabled"]=_||(y==="plus"?+F>=+L:+F<=+S),Z))},Ua(y)),children:w})};return t(ke,{...Fe({_ignorePropsFromGlobal:!0,role:"spinbutton","aria-valuemax":L,"aria-valuemin":S,"aria-valuenow":F},Ln(le,["allowClear"]),Ea,{style:p,className:Ce(K,K+"-mode-"+A,K+"-size-"+Me,(n={},n[K+"-readonly"]=h,n[K+"-illegal-value"]=!Rt&&Ga,n),d),ref:he,size:Me,error:v,disabled:_,readOnly:h,value:Ta(),placeholder:g,prefix:D&&t("div",{className:K+"-prefix",children:D}),suffix:m(P,{children:[za&&m("div",{className:K+"-step-layer",children:[Ge("plus",x&&x.up?x.up:t(ss,{})),Ge("minus",x&&x.down?x.down:t(_s,{}))]}),M&&t("div",{className:K+"-suffix",children:M})]}),addBefore:At&&Ge("minus",x&&x.minus?x.minus:t(ks,{})),addAfter:At&&Ge("plus",x&&x.plus?x.plus:t($a,{}))})})}var _a=be.forwardRef(As);_a.displayName="InputNumber";const Ee=_a;function Gs(e){var a=e.style,n=e.width,s=n===void 0?"60%":n,r=e.rows,o=r===void 0?3:r,c=e.className,i=e.prefixCls,d=Ce(i+"-text",c),p=[];function f(v){if(Fn(s))return s[v];if(o-1===v)return s}for(var _=0;_<o;_++)p.push(be.createElement("li",{className:i+"-text-row",key:_,style:{width:f(_)}}));return be.createElement("ul",{className:d,style:a},p)}function js(e){var a,n=e.style,s=e.shape,r=s===void 0?"square":s,o=e.size,c=e.position,i=c===void 0?"left":c,d=e.className,p=e.prefixCls,f=Ce(p+"-image",(a={},a[p+"-image-"+i]=i,a[p+"-image-"+r]=r,a[p+"-image-"+o]=o,a),d);return be.createElement("div",{className:f,style:n})}var xe=globalThis&&globalThis.__assign||function(){return xe=Object.assign||function(e){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},xe.apply(this,arguments)};function Ot(e){return Vn(e)?e:{}}var Ps={text:!0,loading:!0};function Ts(e,a){var n,s=u.useContext(ta),r=s.getPrefixCls,o=s.componentConfig,c=s.rtl,i=aa(e,Ps,o==null?void 0:o.Skeleton),d=i.style,p=i.className,f=i.animation,_=i.loading,v=i.image,h=i.text,g=i.children,C=Ot(v),M=Ot(h),D=r("skeleton"),x=Ce(D,(n={},n[D+"-animate"]=f,n[D+"-rtl"]=c,n),p);function A(){return v&&t("div",{className:D+"-header",children:t(js,{...xe({prefixCls:D},C)})})}function N(){return h&&t("div",{className:D+"-content",children:t(Gs,{...xe({prefixCls:D},M)})})}return t(P,{children:_?m("div",{...xe({},gs(i),{className:x,style:d,ref:a}),children:[C.position!=="right"&&A(),N(),C.position==="right"&&A()]}):g})}var pa=u.forwardRef(Ts);pa.displayName="Skeleton";const xt=pa,fa={"chat-header-wrapper":"chat-chat-header-module__chat-header-wrapper--Loo","header-more-dropdown-wrapper":"chat-chat-header-module__header-more-dropdown-wrapper--vHq"};var G=(e=>(e.add="add",e.del="del",e.addGroup="addGroup",e.delGroup="delGroup",e))(G||{}),ve=(e=>(e.show="2",e.hide="1",e))(ve||{});const Es={"group-manage":"group-manage-index-module__group-manage--gli"};function Us({noHeader:e,onClose:a}){var D;const{currentConversation:n}=R(),[s,r]=u.useState(!1),[o,c]=oe(),{userInfo:i}=we(),[d,p]=u.useState(!1),{setMyGroupList:f,setJoinGroupList:_}=qt.getState(),[v,h]=u.useState({}),g=()=>{const x=v.lord;return[{name:l._("features_group_group_manage_index_tcjzrkguez"),isShow:x,onClick:()=>{const{setGroupOperateMark:N}=Te.getState();N(G.addGroup),o(t(Ue,{onClose:c}))}},{name:l._("features_group_group_manage_index_av7bsinhzv"),isShow:x,onClick:()=>{const{setGroupOperateMark:N}=Te.getState();N(G.delGroup),o(t(Ue,{onClose:c}))}},{name:l._("features_group_group_manage_index_aygntn7brj"),isShow:!0,onClick:()=>{const{setGroupOperateMark:N}=Te.getState();N(G.del),o(t(Ue,{onClose:c}))}}]},C=()=>{r(!1)},M=()=>{p(!0),Ya({groupId:(n==null?void 0:n.conversationID)||""}).then(x=>{var A;(A=x.data)!=null&&A.success?(T.success(l._("features_group_group_manage_index_f9zb4m5ujv")),r(!1),_(),f(),a()):T.error(l._("features_group_group_manage_index_xji5aycfnc")),p(!1)})};return u.useEffect(()=>{ot({groupId:(n==null?void 0:n.conversationID)||""}).then(x=>{if(x.isOk&&x.data){const A=x.data.find(N=>N.uid===i.businessId);A&&h(A)}})},[n==null?void 0:n.conversationID]),m("div",{className:Es["group-manage"],children:[!e&&m("header",{children:[t(b,{name:"a-Notselected"}),t("span",{children:l._("features_group_group_manage_index_eqe9ptkxdg")})]}),(D=g())==null?void 0:D.map((x,A)=>{if(x.isShow)return m("div",{className:"group-operate-link",onClick:()=>x.onClick&&x.onClick(),children:[t("span",{children:x.name}),t(b,{className:"text-icon_color w-[16px] h-[16px]",name:"icon_chat_arrow"})]},A)}),t("div",{className:"separate-line"}),v.lord?t("div",{className:"text-base text-secondary_color bg-bg_color p-6 cursor-pointer",onClick:()=>r(!0),children:l._("features_group_group_manage_index_iqtjdgdysl")}):null,s&&t(En,{children:t(Un,{title:l._("features_group_group_manage_index_xbjmyda1qy"),content:l._("features_group_group_manage_index_dc6ly_z6gr"),cancelEvent:C,confirmEvent:M,loading:d})})]})}const zs={"members-manage":"group-members-manage-index-module__members-manage--di-"};function Os({noHeader:e,onClose:a}){var L,$;const[n,s]=u.useState([]),[r,o]=u.useState([]),[c,i]=u.useState(""),[d,p]=u.useState([]),[f,_]=u.useState([]),[v,h]=u.useState(!1),{groupOperateMark:g,setGroupOperateMark:C}=ea(),[M,D]=u.useState(!1),{currentConversation:x}=R(),A=qe(),N={[G.add]:l._("features_group_group_members_manage_index_4zzexhrrt3"),[G.del]:l._("features_group_group_members_manage_index_nvb7r5gsdh"),[G.addGroup]:l._("features_group_group_manage_index_tcjzrkguez"),[G.delGroup]:l._("features_group_group_members_manage_index_cjcyin8hbg")},V=()=>{let I=[];g===G.add&&(I=n.filter(k=>!r.find(O=>O.uid===k.uid))),(g===G.del||g===G.addGroup)&&(I=r),g===G.delGroup&&(I=f);const U=I.filter(k=>{var O,B;return(B=(O=k.nickName)==null?void 0:O.toLowerCase())!=null&&B.includes(c.toLowerCase())?k:null});return c?U:I},q=()=>{p([]),C(""),at((x==null?void 0:x.conversationID)||""),a()};u.useEffect(()=>{i(""),p([]),h(!0),$n({}).then(I=>{h(!1),I.isOk&&s(I.data)}),x!=null&&x.conversationID&&ot({groupId:(x==null?void 0:x.conversationID)||""}).then(I=>{h(!1),I.isOk&&o(I.data)}),x!=null&&x.conversationID&&g===G.delGroup&&Ja({groupId:x==null?void 0:x.conversationID}).then(I=>{h(!1),I.isOk&&I.data&&_(I.data)})},[x==null?void 0:x.conversationID,g]);const S=()=>{D(!0);const I=(x==null?void 0:x.conversationID)||"";if(g===G.add){const U=d.reduce((k,O)=>[...k,O.uid],[]);A.inviteUsersIntoGroup(U.map(String),I).then(k=>{Qa({addUids:U,groupId:I}).then(O=>{var B;D(!1),(B=O.data)!=null&&B.success&&(T.success(l._("features_group_group_members_manage_index_6dl6ctcsn8")),q())})}).catch(k=>{D(!1),T.error(l._("features_group_group_members_manage_index_0fcwh66lid"))})}if(g===G.del){const U=d.reduce((k,O)=>[...k,O.uid],[]);Xa({removeUids:U,groupId:I}).then(k=>{var O;(O=k.data)!=null&&O.success&&(T.success(l._("features_group_group_members_manage_index_4lljdxzwgv")),q()),D(!1)})}g===G.addGroup&&en({addUids:d.reduce((U,k)=>[...U,k.uid],[]),groupId:I}).then(U=>{var k;(k=U.data)!=null&&k.success&&(T.success(l._("features_group_group_members_manage_index_jtmvijhrxx")),q()),D(!1)}),g===G.delGroup&&tn({removeUids:d.reduce((U,k)=>[...U,k.uid],[]),groupId:(x==null?void 0:x.conversationID)||""}).then(U=>{var k;(k=U.data)!=null&&k.success&&(T.success(l._("features_group_group_members_manage_index_fmek2qlutu")),q()),D(!1)})};return m("div",{className:zs["members-manage"],children:[!e&&m("header",{children:[t(b,{name:"a-Notselected"}),t("span",{children:N[g]||""})]}),m("div",{className:"pl-4",children:[t("div",{className:" mt-4 mb-6 pr-4",children:t(Hn,{searchValue:c,setSearchValue:i})}),v?t("div",{className:"flex justify-center",children:t(na,{})}):(L=V())!=null&&L.length?($=V())==null?void 0:$.map((I,U)=>t(Tn,{line:U!==V().length-1,friendInfo:I,isSelect:!!d.filter(k=>I.uid===k.uid).length||(I.administrator||I.lord)&&g===G.addGroup,searchValue:c,right:I.administrator||g===G.delGroup?t("span",{className:"text-brand_color py-[1px] px-1  bg-brand_color_special_02 rounded",children:l._("features_group_group_members_manage_index_5cucpjz9ym")}):I.lord&&t("span",{className:"text-brand_color py-[1px] px-1  bg-brand_color_special_02 rounded",children:"群主"}),disabled:I.administrator||I.lord,selectClick:k=>{const{friendInfo:O,isSelect:B}=k;p(B?[...d,O]:d.filter(le=>O.uid!==le.uid))}},U)):c?t(Bn,{name:"no_search_result",footerText:l._("features_group_components_search_friend_index_eppdggih18")}):t(sa,{})]}),t("div",{className:"people-people-box",children:V().length&&!v?t("div",{className:"people-people",children:l._({id:"features_group_components_search_friend_index_pol3ckrodh",values:{0:d.length}})}):null}),d.length?t(Wn,{isLoading:M,clickFunc:S}):null]})}function Ls(e){return{groupDetails:{},setGroupDetails:(a,n)=>{e(re(s=>{s.groupDetails={[a]:n}}))}}}const Fs=La(Fa(Ls,{name:"chat-group-store"})),ha=Va(Fs);function Be(){var p,f,_,v;const{loading:e,runAsync:a}=Y(ot,{manual:!0}),{groupMembers:n,setGroupMembers:s}=te(),{currentConversation:r}=R()||{},{conversationID:o,type:c}=r||{},{userInfo:i}=we();u.useEffect(()=>{!o||n!=null&&n[o]||c!==z.Group||o&&a({groupId:o}).then(h=>{h.isOk&&h.data&&s(o,h.data)})},[o]);const d=o&&((f=(p=n[o])==null?void 0:p.find(h=>h.uid===i.uid))==null?void 0:f.administrator)||o&&((v=(_=n[o])==null?void 0:_.find(h=>h.uid===i.uid))==null?void 0:v.lord);return{members:o?(n==null?void 0:n[o])||[]:[],loading:e,isAdmin:d}}function ga(){const{loading:e,runAsync:a}=Y($t,{manual:!0}),{groupDetails:n,setGroupDetails:s}=ha(),{currentConversation:r}=R()||{},{conversationID:o,type:c}=r||{},i=()=>{o&&a({groupId:o}).then(d=>{d.isOk&&d.data&&s(o,d.data)})};return u.useEffect(()=>{!o||n!=null&&n[o]||c!==z.Group||o&&i()},[o]),{details:o?(n==null?void 0:n[o])||{}:{},loading:e,fetchApi:i}}const Vs="chat-information-layout-module__scoped--T6T",va={scoped:Vs};function xa(e){const{Info:a,Note:n,Media:s,Settings:r,CommonSettings:o}=e;return m("div",{className:va.scoped,children:[a&&t("section",{className:"info-section",children:t(a,{})}),n&&t("section",{className:"note-section",children:t(n,{})}),s&&t("section",{className:"media-section",children:t(s,{})}),r&&t("section",{className:"settings-section",children:t(r,{})}),o&&t("section",{className:"common-settings-section",children:t(o,{})})]})}function qs(e){const{Info:a,Note:n,Media:s,Settings:r,GroupSettings:o,Members:c,CommonSettings:i}=e;return m("div",{className:va.scoped,children:[a&&t("section",{className:"info-section",children:t(a,{})}),n&&t("section",{className:"note-section",children:t(n,{})}),s&&t("section",{className:"media-section",children:t(s,{})}),r&&t("section",{className:"settings-section",children:t(r,{})}),o&&t("section",{className:"GroupSettings-section",children:t(o,{})}),c&&t("section",{className:"Members-section",children:t(c,{})}),i&&t("section",{className:"common-settings-section",children:t(i,{})})]})}const bt={"common-chat-remark":"chat-remark-index-module__common-chat-remark--IiW","chat-remark":"chat-remark-index-module__chat-remark--0-a"},$s={"chat-complain-model":"chat-complain-modal-index-module__chat-complain-model--uvY"},Bs=ke.TextArea;function He({visible:e,setvisible:a}){const[n,s]=u.useState(),[r,o]=u.useState(""),{currentConversation:c}=R(),i=async()=>{var h,g;if(!(c!=null&&c.conversationID))return;const f=(n==null?void 0:n.map(C=>es(C,as.im,ts.complain_application)))||[],_=(h=await Promise.all(f))==null?void 0:h.map(C=>C==null?void 0:C.url),v=await Mn({complaintType:c.type===z.Group?z.Group:z.Room,complaintReason:r,complaintImage:_.join(","),...c.type===z.Group?{complaintGroupId:c.conversationID}:{complaintUid:Number(c.conversationID)}});v.isOk&&((g=v.data)!=null&&g.success)?(T.success(l._("features_messenger_chat_information_modals_chat_complain_modal_index_vypvbrvdtg")),o(""),s(void 0),a(!1)):T.error(l._("features_messenger_chat_information_modals_chat_complain_modal_index_9xd4v0bewm"))},[d,p]=u.useState(e);return u.useEffect(()=>{p(e)},[e]),u.useEffect(()=>{a(d)},[d]),t(pt,{autoFocus:!1,closable:!1,className:$s["chat-complain-model"],visible:e,onCancel:()=>p(!1),title:l._("features_messenger_chat_chat_header_more_vegbnukvgl"),footer:()=>m(P,{children:[t(ye,{className:"ml-auto",type:"outline",onClick:()=>p(!1),children:l._("features_group_components_comfirm_btn_pop_index_2sr1guu0iy")}),t(ye,{onClick:()=>i(),type:"primary",children:l._("features_messenger_chat_information_modals_chat_complain_modal_index_njx6ip3sh8")})]}),children:m("div",{children:[t("span",{className:"text-base text-text_color_01",children:l._("features_messenger_chat_information_modals_chat_complain_modal_index_t4sy5xghsn")}),t(Bs,{placeholder:l._("features_messenger_chat_information_modals_chat_complain_modal_index_o3udar1f4e"),onChange:o,showWordLimit:!0,maxLength:200}),t("div",{className:"text-base text-text_color_01 mt-6",children:l._("features_messenger_chat_information_modals_chat_complain_modal_index_2fq23veoy8")}),t("div",{className:"text-text_color_02 text-xs mb-3",children:l._("features_messenger_chat_information_modals_chat_complain_modal_index_kqg5woa3og")}),t(tt,{multiple:!0,limit:5,action:"/",accept:"image/jpg, image/png, image/jpeg",listType:"picture-card",showUploadList:{removeIcon:t("div",{className:"remove-icon-container",children:t(b,{className:"remove-icon",name:"icon_chat_delete"})}),previewIcon:void 0},beforeUpload:f=>new Promise(_=>{f.size>5*1024*1024?(T.error(l._("features_messenger_chat_information_modals_chat_complain_modal_index_0laoynxf80")),_(!1)):_(!0)}),onChange:(f,_)=>{const v=f==null?void 0:f.map(h=>h==null?void 0:h.originFile);v&&s(v)}})]})})}const Hs=e=>[{name:l._("features_messenger_chat_chat_header_more_fokapfv5cr"),hasSwitch:!0,switchStatus:!1,icon:t(b,{name:"icon_chat_top"}),hasModal:!1,Modal:"",onTrigger:a=>{const{currentConversation:n,conversations:s}=ne.getState();let r=n;e&&(r=s==null?void 0:s.find(o=>o.conversationID===e)),r!=null&&r.conversationID&&it(r)}},{name:l._("helper_address_book_9rpuyg59gl"),hasSwitch:!1,switchStatus:!1,icon:t(b,{name:"icon_chat_blacklist"}),hasModal:!1,Modal:"",onClick:()=>{const{currentConversation:a}=ne.getState();a&&an(a)}}],Ws=()=>[{name:l._("features_messenger_chat_chat_header_more_id_dkarjtm"),hasSwitch:!1,switchStatus:!1,icon:t(b,{name:"icon_chat_clear"}),hasModal:!1,Modal:"",onClick:()=>{const{currentConversation:e}=ne.getState();e&&ct(e)}},{name:l._("features_messenger_chat_chat_header_more_vegbnukvgl"),hasSwitch:!1,switchStatus:!1,icon:t(b,{name:"icon_chat_complaint"}),hasModal:!0,Modal:He},{name:l._("features_messenger_chat_chat_header_more_hpwm4idktc"),hasSwitch:!1,switchStatus:!1,icon:t(b,{name:"icon_chat_delete1"}),hasModal:!1,Modal:"",onClick:async()=>{const{setAddressBookList:e}=qt.getState(),{currentConversation:a}=ne.getState();await Bt(a),e()}}],Zs=()=>[{name:l._("features_messenger_chat_chat_header_more_fokapfv5cr"),hasSwitch:!0,switchStatus:!1,icon:t(b,{name:"icon_chat_top"}),hasModal:!1,Modal:"",onTrigger:e=>{const{currentConversation:a}=ne.getState();a!=null&&a.conversationID&&it(a)}},{name:l._("features_messenger_chat_chat_header_more_imid_mlr_9"),hasSwitch:!0,switchStatus:!1,icon:t(b,{name:"icon_chat_do_not_disturb"}),hasModal:!1,Modal:"",onTrigger:e=>{const{currentConversation:a}=ne.getState();a!=null&&a.conversationID&&Ht(a)}}],Ks=()=>[{name:l._("features_messenger_chat_chat_header_more_vegbnukvgl"),hasSwitch:!1,switchStatus:!1,icon:t(b,{name:"icon_chat_complaint"}),hasModal:!0,Modal:He}],Ys=e=>[{name:l._("features_messenger_chat_information_chat_settings_schema_tgrf_5rcdi"),hasSwitch:!1,switchStatus:!1,icon:t(b,{name:"icon_address_book_invite_friend"}),hasModal:!0,onClick:()=>{nn(e)}}],Js=()=>[{name:l._("features_messenger_chat_chat_header_more_id_dkarjtm"),hasSwitch:!1,switchStatus:!1,icon:t(b,{name:"icon_chat_clear"}),hasModal:!1,Modal:"",onClick:()=>{const{currentConversation:e}=ne.getState();e&&ct(e)}},{name:l._("features_messenger_chat_chat_header_more_vegbnukvgl"),hasSwitch:!1,switchStatus:!1,icon:t(b,{name:"icon_chat_complaint"}),hasModal:!0,Modal:He},{name:l._("features_messenger_chat_information_chat_settings_schema_5mf95pfdms"),hasSwitch:!1,switchStatus:!1,icon:t(b,{name:"icon_chat_delete1"}),hasModal:!1,Modal:"",onClick:async()=>{const{currentConversation:e}=ne.getState();e&&Wt(e)}}],Se={"setting-cell":"chat-settings-index-module__setting-cell--yVd","common-contact-settings":"chat-settings-index-module__common-contact-settings--5Hg","not-friend-contact-settings":"chat-settings-index-module__not-friend-contact-settings--bW6"};function Ve(e){const{name:a,icon:n,hasSwitch:s,hasModal:r,Modal:o,switchStatus:c,onClick:i,onTrigger:d,className:p}=e,[f,_]=u.useState(!1),[v,h]=u.useState(c);return u.useEffect(()=>{h(c)},[c]),m("div",{className:`${Se["setting-cell"]} ${p}`,onClick:()=>{r&&_(!0),i&&i()},children:[n,t("span",{className:E("mr-auto text-base",{"ml-4":n}),children:a}),s&&t(Xn,{checked:v,onChange:g=>{d&&(h(g),d(g))}}),(r||i)&&t(b,{onClick:()=>{r&&_(!0)},className:"setting-icon",name:"icon_chat_arrow"}),o&&r&&t(o,{visible:f,setvisible:_})]})}function pe({className:e,schema:a}){return t("div",{className:`${e} flex flex-col space-y-8`,children:a==null?void 0:a.map((n,s)=>u.createElement(Ve,{...n,key:s}))})}function Qs(){const e=u.useContext(We),a=Hs(e),{currentConversation:n}=R();return a[0].switchStatus=(n==null?void 0:n.isPinned)||!1,a[1].switchStatus=(n==null?void 0:n.notificationStatus)===ut.DoNotDisturb||!1,t(pe,{schema:a})}function Xs(){return t(pe,{className:Se["common-contact-settings"],schema:Ws()})}function er(){return t(pe,{className:Se["common-contact-settings"],schema:Js()})}function tr(){const e=Zs(),{currentConversation:a}=R();return e[0].switchStatus=(a==null?void 0:a.isPinned)||!1,e[1].switchStatus=(a==null?void 0:a.notificationStatus)===ut.DoNotDisturb||!1,t(pe,{schema:e})}function ar(){return t(pe,{className:Se["common-contact-settings"],schema:Ks()})}function nr({uid:e}){return t(pe,{className:Se["not-friend-contact-settings"],schema:Ys(e)})}function sr(){var f;const e=u.useContext(We),{data:a,run:n}=Y(Jn,{manual:!0}),s=(f=a==null?void 0:a.data)==null?void 0:f.friendRemark,{currentConversation:r}=R(),o=e||(r==null?void 0:r.conversationID),[c,i]=u.useState(s),{setAddressBookList:d}=te();u.useEffect(()=>{i(s)},[s]),u.useEffect(()=>{o&&n({uid:o})},[o]);const p=_=>{o&&Qn({uid:Number(o),friendRemark:_}).then(v=>{var h;v.isOk&&((h=v.data)!=null&&h.success)?(i(_),Zt(),d(),T.success(l._("features_messenger_chat_information_chat_remark_index_p5mklxu1qc"))):T.error(l._("features_messenger_chat_information_chat_remark_index_tt7jfjrgd4"))})};return t(ft,{className:bt["chat-remark"],label:l._("features_messenger_chat_information_chat_remark_index_zo7_ruw4nd"),maxLength:20,editable:!0,onConfirm:p,defaultValue:c,placeholder:l._("features_messenger_chat_information_chat_remark_index_uhtuyhu7rd")})}function rr(){const{currentConversation:e}=R(),[a,n]=oe(),{data:s,run:r}=Y(sn,{manual:!0}),{announcement:o}=(s==null?void 0:s.data)||{};u.useEffect(()=>{e!=null&&e.conversationID&&r({groupId:e==null?void 0:e.conversationID})},[e==null?void 0:e.conversationID]);const[c,i]=u.useState(o);u.useEffect(()=>{i(o)},[o]);const d=f=>{e!=null&&e.conversationID&&rn({groupId:e.conversationID,announcement:f}).then(_=>{var v;_.isOk&&((v=_.data)!=null&&v.success)?(i(f),T.success(l._("features_messenger_chat_information_chat_remark_index_scxsdcusq5"))):T.error(l._("features_messenger_chat_information_chat_remark_index_uxq2eoxdcv"))})},{isAdmin:p}=Be();return m(P,{children:[t(ft,{className:bt["chat-remark"],label:l._("features_messenger_chat_information_chat_remark_index_cqh78zxrj8"),maxLength:20,editable:!0,onConfirm:d,defaultValue:c,placeholder:l._("features_messenger_chat_information_chat_remark_index_an_vmamrj1")}),t(Ve,{className:"mt-8",switchStatus:!1,name:l._("features_messenger_chat_information_chat_remark_index_r5lny1wfmo"),onClick:()=>a(t(gr,{onClose:n}))}),p&&t(Ve,{className:"mt-8",switchStatus:!1,name:l._("features_group_group_manage_index_eqe9ptkxdg"),onClick:()=>a(t(vr,{onClose:n}))})]})}function or(){const{currentConversation:e}=R(),{groupDetails:a}=ha(),{settingData:n}=(a==null?void 0:a[(e==null?void 0:e.conversationID)||""])||{},{myNickName:s,showMemberNickName:r}=n||{},{setAddressBookList:o}=te(),[c,i]=u.useState(s),[d,p]=u.useState((r==null?void 0:r.toString())===ve.show);u.useEffect(()=>{i(s),p((r==null?void 0:r.toString())===ve.show)},[s,r]);const f=_=>{e!=null&&e.conversationID&&on({groupId:e.conversationID,..._,showMemberNickName:_!=null&&_.showMemberNickName?ve.show:ve.hide}).then(v=>{var h;v.isOk&&((h=v.data)!=null&&h.success)?(i(s),Zt(),o(),T.success(l._("features_messenger_chat_information_chat_remark_index_wubih4gb49"))):T.error(l._("features_messenger_chat_information_chat_remark_index_ldn1yidruc"))})};return m(P,{children:[t(ft,{className:bt["chat-remark"],label:l._("features_messenger_chat_information_chat_remark_index_disay3lo55"),maxLength:20,editable:!0,onConfirm:_=>f({myNickName:_}),defaultValue:c,placeholder:l._("features_messenger_chat_information_chat_remark_index_an_vmamrj1")}),t(Ve,{className:"mt-8",switchStatus:d,name:l._("features_messenger_chat_information_chat_remark_index_uz2bz0qo4i"),hasSwitch:!0,onTrigger:_=>{p(_),f({showMemberNickName:_})}})]})}const yt={"group-chat-members-list":"chat-members-index-module__group-chat-members-list--VaW","member-cell":"chat-members-index-module__member-cell--Tum","chat-members":"chat-members-index-module__chat-members--RpD"};function ba(e){var p;const[a,n]=oe(),{avatarPath:s,nickName:r,administrator:o,uid:c}=e,{userInfo:i}=we(),d=((p=i==null?void 0:i.uid)==null?void 0:p.toString())===(c==null?void 0:c.toString());return m("div",{className:E(yt["member-cell"],{"!cursor-default":d}),onClick:()=>!d&&a(t(fr,{uid:c==null?void 0:c.toString(),onClose:n})),children:[t(ce,{className:"avatar-icon",size:40,src:s}),t("span",{className:"mr-auto ml-3",children:r}),o&&t("span",{className:"admin-tag",children:l._("features_group_group_members_manage_index_5cucpjz9ym")}),t(b,{name:"icon_chat_arrow",className:E({"!cursor-default":d})})]})}function ir(){const[e,a]=oe(),{members:n}=Be();return m("div",{className:yt["chat-members"],children:[m("div",{className:"flex items-center text-text_color_02 mb-4 cursor-pointer",onClick:()=>{e(t(xr,{onClose:a}))},children:[m("span",{children:[(n==null?void 0:n.length)||0," ",l._("features_messenger_chat_information_chat_members_index_vevb4wa2ym")]}),t("span",{className:"ml-auto",children:l._("features_messenger_chat_information_chat_members_index_mw7jyf4yqw")}),t(b,{name:"icon_chat_arrow"})]}),m("div",{className:"flex flex-row items-center space-x-4",children:[t("div",{className:"set-new-icon-container",onClick:()=>{const{setGroupOperateMark:s}=Te.getState();s(G.add),e(t(Ue,{onClose:a}))},children:t(b,{name:"icon_set_new"})}),t("span",{children:l._("features_group_group_members_manage_index_4zzexhrrt3")})]}),n==null?void 0:n.map((s,r)=>t(ba,{...s},r))]})}function cr(){const{members:e}=Be();return t("div",{className:yt["group-chat-members-list"],children:e==null?void 0:e.map((a,n)=>t(ba,{...a},n))})}const lr={"group-qr-code":"qr-code-index-module__group-qr-code--q-F"};function dr(){R();const{details:e}=ga(),{qrCode:a,headImage:n,groupName:s}=(e==null?void 0:e.groupData)||{},r=async()=>{if(!a)return;const o=document.createElement("a");o.href=a,o.download="image.jpg",o.click()};return m("div",{className:lr["group-qr-code"],children:[t(ce,{size:70,src:n}),t("div",{className:"text-base text-text_color_01 mb-6",children:s}),a&&t(ra,{width:260,height:260,src:a}),t("div",{className:"text-text_color_02 text-xs mt-6 mb-10",children:l._({id:"features_messenger_chat_information_qr_code_index_75kguo8yzm",values:{0:qn().add(7,"days").format("YYYY-MM-DD")}})}),t(ye,{disabled:!a,type:"primary",onClick:()=>r(),children:l._("features_messenger_chat_information_qr_code_index_77njplqrds")})]})}const ur="chat-avatar-index-module__scoped--ivz",Ct={scoped:ur};function mr(){var C;const e=u.useContext(We),{currentConversation:a}=R()||{},{conversationAvatarUrl:n="",conversationName:s,conversationID:r}=a||{},o=e||r,{data:c,loading:i,run:d}=Y(Dn,{manual:!0}),{mobileNumber:p,mobileCountryCd:f,nickName:_,userName:v,id:h,avatarPath:g}=((C=c==null?void 0:c.data)==null?void 0:C[0])||{};return u.useEffect(()=>{d({uid:o})},[r]),m("div",{className:Ct.scoped,children:[t(ce,{className:"chat-avatar",src:g,size:200}),t("div",{className:"avatar-name",children:_||v||h}),m("div",{className:"text-base text-text_color_02",children:["+",f," ",p]})]})}function _r(){var _;const{currentConversation:e}=R(),a=(_=e==null?void 0:e.conversationID)==null?void 0:_.toString(),{details:n,fetchApi:s}=ga(),{groupData:r}=n||{},{headImage:o,groupName:c,number:i}=r||{},[d,p]=u.useState(o);u.useEffect(()=>{p(o)},[o]);const f=v=>{a&&cn(a,v).then(h=>{h&&(p(v),s())})};return m("div",{className:Ct.scoped,children:[t(ns,{oldHeadImg:d,onHeadImgChange:f,isGroup:!0}),t("div",{className:"text-2xl",children:c}),t("div",{className:"text-base text-text_color_02",children:l._({id:"features_messenger_chat_information_chat_avatar_index_8on6x2_heg",values:{0:i}})})]})}function pr(e){const{avatarPath:a,nickName:n,uid:s}=e;return m("div",{className:Ct.scoped,children:[t(ce,{className:"chat-avatar",src:a,size:200}),t("div",{className:"avatar-name",children:n||s})]})}const We=u.createContext("");function ya({onClose:e}){const{currentConversation:a}=R();return(a==null?void 0:a.type)===z.Group?t(hr,{onClose:e}):t(Nt,{onClose:e})}function fr({uid:e,onClose:a}){const{addressBookList:n,setAddressBookList:s}=te();return Wa.isEmpty(n)&&s(),(n==null?void 0:n.find(o=>o.uid===Number(e)))?t(Nt,{uid:e,onClose:a}):t(br,{uid:e,onClose:a})}function Nt({uid:e,onClose:a}){const n=m(P,{children:[t(ie,{title:l._("features_messenger_chat_chat_header_more_oeq6rzlarr"),onClose:a,isCloseIcon:!0}),t(xa,{Info:mr,Note:sr,Settings:Qs,CommonSettings:Xs})]});return e?t(We.Provider,{value:e,children:n}):n}function hr({onClose:e}){const a=_e();return u.useEffect(()=>{!a&&e()},[a]),m(P,{children:[t(ie,{title:l._("features_messenger_chat_chat_header_more_tfwlzhzu_o"),onClose:e,isCloseIcon:!0}),t(qs,{Info:_r,Note:rr,Settings:tr,GroupSettings:or,Members:ir,CommonSettings:er})]})}function gr({onClose:e}){return m(P,{children:[t(ie,{title:l._("features_messenger_chat_information_chat_remark_index_r5lny1wfmo"),onClose:e}),t(dr,{})]})}function vr({onClose:e}){return m(P,{children:[t(ie,{title:l._("features_group_group_manage_index_eqe9ptkxdg"),onClose:e}),t(Us,{onClose:e,noHeader:!0})]})}function xr({onClose:e}){return m(P,{children:[t(ie,{title:l._("features_messenger_chat_information_index_6_0ichz9fs"),onClose:e}),t(cr,{})]})}function Ue({onClose:e}){const{groupOperateMark:a,setGroupOperateMark:n}=ea(),s={[G.add]:l._("features_group_group_members_manage_index_4zzexhrrt3"),[G.del]:l._("features_group_group_members_manage_index_nvb7r5gsdh"),[G.addGroup]:l._("features_group_group_manage_index_tcjzrkguez"),[G.delGroup]:l._("features_group_group_members_manage_index_cjcyin8hbg")},r=()=>{n(""),e()};return m(P,{children:[t(ie,{title:s[a],onClose:r}),t(Os,{onClose:r,noHeader:!0})]})}function br({uid:e,onClose:a}){const{members:n}=Be(),s=n==null?void 0:n.find(c=>{var i;return((i=c.uid)==null?void 0:i.toString())===(e==null?void 0:e.toString())});function r(){return s?t(pr,{...s}):t("span",{})}function o(){return t(nr,{uid:e})}return m(P,{children:[t(ie,{title:l._("features_messenger_chat_information_index_opwb5cxpas"),onClose:a}),t(xa,{Info:r,Settings:o,CommonSettings:ar})]})}function yr(){te();const[e,a]=oe(),{currentConversation:n}=R(),s=(n==null?void 0:n.type)===z.Group,r=()=>{it(n)},o=()=>{Ht(n)},c=()=>{},[i,d]=u.useState(!1),p=()=>{d(!0)},f=async()=>{await(s?Wt(n):Bt(n))},_=()=>{e(t(ya,{onClose:a}))},v=async()=>{ct(n)},h=[{id:"1",text:s?l._("features_messenger_chat_chat_header_more_tfwlzhzu_o"):l._("features_messenger_chat_chat_header_more_oeq6rzlarr"),onClick:_},{id:"2",text:n!=null&&n.isPinned?l._("features_messenger_chat_chat_header_more_hewxx7_mur"):l._("features_messenger_chat_chat_header_more_fokapfv5cr"),onClick:r},{id:"3",hidden:!s,text:(n==null?void 0:n.notificationStatus)===ut.Notify?l._("features_messenger_chat_chat_header_more_imid_mlr_9"):l._("features_messenger_chat_chat_header_more_wa5p4ypd3t"),onClick:o},{id:"4",hidden:!0,text:l._("features_messenger_chat_chat_header_more_qwqejeixxl"),onClick:c},{id:"5",text:l._("features_messenger_chat_chat_header_more_id_dkarjtm"),onClick:v},{id:"6",text:l._("features_messenger_chat_chat_header_more_vegbnukvgl"),onClick:p},{id:"7",text:s?l._("features_messenger_chat_chat_header_more_czjsnjjjam"):l._("features_messenger_chat_chat_header_more_hpwm4idktc"),onClick:f}];return m(P,{children:[t(_t,{trigger:"click",position:"br",triggerProps:{className:fa["header-more-dropdown-wrapper"]},droplist:t(ae,{children:h.map(g=>g.hidden?null:t(ae.Item,{className:"flex text-base",onClick:g.onClick,children:t("span",{children:g.text})},g.id))}),children:t(b,{className:"text-2xl text-icon_color hover:text-brand_color",name:"icon_chat_more"})}),t(He,{visible:i,setvisible:d})]})}function Cr(){const[e,a]=oe(),{currentConversation:n}=R(),s=Kt(n),r=!_e();return t("div",{className:"cursor-pointer",onClick:()=>{r||e(t(ya,{onClose:a}))},children:t(ce,{size:40,src:s.conversationAvatarUrl,isGroup:s.type===z.Group})})}function Nr(e){const{currentConversation:a}=e,[n,s]=u.useState(),[r,o]=u.useState(),c=u.useRef(null),i=[{icon:"icon_chat_video_line",id:1,hidden:(a==null?void 0:a.type)===z.Group,iconClick:async()=>{var p,f;const d=await jt({video:!1,audio:!0});if((p=c==null?void 0:c.current)!=null&&p.judgewhetherVoiceAndVideoIngRef()){T.error(l._("features_audio_and_video_audio_video_xed7qjh_fs"));return}d&&(o(a),(f=c.current)==null||f.sameOpenLoginVerificationRef())}},{icon:"icon_chat_phone",id:2,hidden:(a==null?void 0:a.type)===z.Group,iconClick:async()=>{var p,f;const d=await jt({video:!1,audio:!0});if((p=c==null?void 0:c.current)!=null&&p.judgewhetherVoiceAndVideoIngRef()){T.error(l._("features_audio_and_video_audio_video_xed7qjh_fs"));return}d&&(s(a),(f=c.current)==null||f.sameOpenLoginVerificationRef())}},{icon:"icon_chat_more",id:4,hoverIcon:"",node:t(yr,{})}];return m("div",{className:"flex",children:[t(jn,{ref:c,currentConversation:a,audioConversation:n,vidoeConversation:r,setVidoeConversation:o,setConversation:s}),i.map(d=>d.hidden?null:t("div",{className:"ml-6",onClick:()=>{var p;return(p=d==null?void 0:d.iconClick)==null?void 0:p.call(d)},children:(d==null?void 0:d.node)||t(b,{className:"text-2xl text-icon_color hover:text-brand_color",name:d.icon})},d.id))]})}function wr(){const e=!_e(),{currentConversation:a}=R(),n=Kt(a);return m("div",{className:fa["chat-header-wrapper"],children:[t(Cr,{}),t("div",{className:"name",children:n==null?void 0:n.conversationName}),!e&&t(Nr,{currentConversation:n})]})}const rt={"select-root-wrapper":"select-contact-index-module__select-root-wrapper--r6h","select-modal-wrapper":"select-contact-index-module__select-modal-wrapper---zg","groups-wrapper":"select-contact-index-module__groups-wrapper--mjL"};function kr(e,a){return function({checked:n}){return t(b,{className:E(a,n?"text-brand_color":"text-icon_color",{checked:n}),style:{fontSize:e+2},name:n?"icon_chat_selected":"icon_chat_not_selected"})}}const Ca=kr(18),Sr={"conversation-wrapper":"select-contact-base-module__conversation-wrapper--wmy"};function Ir({conversation:e,keyword:a,isSelected:n,onChange:s}){return m("div",{className:E(Sr["conversation-wrapper"],{"is-selected":n}),onClick:s,children:[t(oa,{className:"mr-6",checked:n,children:Ca}),t("div",{className:"conversation-left",children:t(ce,{isGroup:e.type===z.Group,size:50,src:e.conversationAvatarUrl})}),t("div",{className:"conversation-right",children:t("div",{className:"flex justify-between items-center mb-1",children:t("div",{className:"conversation-name",children:t(os,{text:e.conversationName||" ",keyword:a,highlightClassName:"text-brand_color"})})})})]})}function Ze({conversations:e,selectedContacts:a,onChange:n,keyword:s}){return e.length===0?t("div",{className:"py-10",children:t(sa,{})}):e.map(r=>{const o=a.some(i=>i.conversationID===r.conversationID);return t(Ir,{conversation:r,isSelected:o,onChange:()=>{n(r)},keyword:s},r.conversationID)})}function Mr({selectedContacts:e,onChange:a}){const{conversations:n}=R();return t("div",{children:Ze({conversations:n,selectedContacts:e,onChange:a})})}function Dr({selectedContacts:e,onChange:a}){const s=te().addressBookList.map(r=>ln(r));return t("div",{children:Ze({conversations:s,selectedContacts:e,onChange:a})})}function Rr({selectedContacts:e,onChange:a}){const n=[{label:l._("features_select_contact_group_iykozky04y"),id:"created"},{label:l._("features_select_contact_group_f2v65kjlnm"),id:"joined"}],[s,r]=u.useState("created"),{joinGroupList:o,myGroupList:c}=te(),i=(s==="created"?c:o).map(d=>dn(d));return m("div",{className:rt["groups-wrapper"],children:[t("div",{className:"tabs",children:n.map(d=>t("div",{onClick:()=>{r(d.id)},className:E("tab",{"is-selected":s===d.id}),children:d.label},d.id))}),t("div",{className:"flex-1 overflow-y-auto",children:Ze({conversations:i,selectedContacts:e,onChange:a})})]})}function Na(e){const[a,n]=u.useState(""),s=rs(a,{wait:300}),[r,o]=u.useState(!1),[c,i]=u.useState("none"),[d,p]=u.useState([]),f=h=>{p(g=>g.some(C=>C.conversationID===h.conversationID)?g.filter(C=>C.conversationID!==h.conversationID):[...g,h])};me(()=>{p([]),n(""),i("none")},[e.visible]);const _=()=>{e.onConfirm(d)},v=un(s);return t(pt,{closeIcon:null,title:null,footer:null,visible:e.visible,mountOnEnter:!0,unmountOnExit:!0,wrapClassName:rt["select-modal-wrapper"],children:m("div",{className:rt["select-root-wrapper"],children:[m("div",{className:"header",children:[c==="none"&&m(P,{children:[t(b,{onClick:e.onClose,className:"icon",name:"icon_chat_close"}),t("span",{children:l._("features_select_contact_index_7rccj5bohd")})]}),c==="group"&&m(P,{children:[t(b,{onClick:()=>i("none"),className:"icon",name:"a-Notselected"}),t("span",{children:l._("features_select_contact_index_wtbrncd1b1")})]}),c==="friend"&&m(P,{children:[t(b,{onClick:()=>i("none"),className:"icon",name:"a-Notselected"}),t("span",{children:l._("features_select_contact_index__diuat3dso")})]})]}),t("div",{className:"px-6 py-4",children:t(ke,{onFocus:()=>o(!0),onBlur:()=>o(!1),onChange:n,allowClear:!0,placeholder:l._("features_group_components_search_input_index_tq98cmscdb"),className:"with-search",prefix:t(b,{name:"icon_chat_search",className:"text-icon_color text-xl/5"})})}),s?t("div",{className:"flex-1 overflow-y-auto",children:Ze({conversations:v,selectedContacts:d,onChange:f,keyword:s})}):m(P,{children:[c==="none"&&m(P,{children:[m("div",{className:"category-item with-border",onClick:()=>i("group"),children:[t("div",{className:"left",children:t(b,{name:"icon_address_book_group",className:"icon"})}),m("div",{className:"right",children:[t("span",{children:l._("features_select_contact_index_ursogloihf")}),t(b,{className:"text-icon_color",name:"icon_chat_arrow"})]})]}),m("div",{className:"category-item",onClick:()=>i("friend"),children:[t("div",{className:"left",children:t(b,{name:"icon_address_book_new_friend",className:"icon"})}),m("div",{className:"right",children:[t("span",{children:l._("features_select_contact_index_j64ti6fb_2")}),t(b,{className:"text-icon_color",name:"icon_chat_arrow"})]})]}),t("div",{className:"text-brand_color px-6 pt-4 pb-2",children:l._("features_select_contact_index_4jfma2vn7q")})]}),m("div",{className:"flex-1 overflow-y-auto",children:[c==="none"&&t(Mr,{selectedContacts:d,onChange:f}),c==="friend"&&t(Dr,{selectedContacts:d,onChange:f}),c==="group"&&t(Rr,{selectedContacts:d,onChange:f})]})]}),d.length>0&&m("div",{className:"actions-wrapper",children:[t("div",{className:"names",children:d.map(h=>h.conversationName).join(l._("features_messenger_chat_message_custom_group_join_cwrwuajmcz"))}),t("div",{className:"button",onClick:_,children:t(b,{name:"icon_chat_send",className:"text-button_text_01 text-2xl"})})]})]})})}function wa({current:e,waveHeightScale:a=1,total:n,inActiveClassName:s="bg-card_bg_color_02"}){const r=[...mn];return t("div",{className:"flex items-center",children:r.map((o,c)=>{const i=c/r.length<e/n;return t("div",{style:{height:`${o*a}px`},className:E("w-px mr-px rounded-sm",i||e===0?"bg-brand_color":s)},c)})})}const Ar={"chat-record-wrapper":"input-chat-audio-module__chat-record-wrapper--H8S"},ka=()=>ls(()=>import("./chunk-31baf145.js").then(e=>e.i),["assets/chunks/chunk-31baf145.js","assets/chunks/chunk-e9cd8943.js","assets/chunks/chunk-cf010ec4.js"]).then(e=>e.default);function Gr(){const{setInRecording:e}=H(),{run:a,loading:n}=Y(async()=>{(await ka()).getPermission().then(()=>{e(!0)}).catch(()=>{T.error(l._("features_messenger_chat_input_chat_audio_eadg8j_3bv"))})},{manual:!0});return t("div",{onClick:a,children:n?t(na,{}):t(b,{name:"icon_chat_voice",className:"text-2xl/5 text-icon_color hover:text-brand_color"})})}const et=60;function jr({recorder:e}){const[a,n]=u.useState(0),[s,r]=u.useState(!1);Pn(()=>{s||(n(a+1),a===et-1&&(e.stop(),r(!0)))},1e3),ca(()=>{e.start()}),la(()=>{e.destroy()});const o=()=>{s||(e.pause(),r(!s))},{chatMessagesScrollIntoBottom:c,setInRecording:i}=H(),{currentConversation:d}=R(),{run:p,loading:f}=Y(async()=>{if(a<2){T.error(l._("features_messenger_chat_input_chat_audio_u5ocwkjk8y"));return}e.stop(),r(!0);const g=await Kn(_n(e));Yt(g,d,{type:j.Audio,audioDuration:a}),i(!1),c()},{manual:!0}),_=et-a<10&&!s,v=l._({id:"features_messenger_chat_input_chat_audio_wwxtxjlsjr",values:{0:et-a}}),h=()=>{e.stop(),e.destroy(),i(!1)};return m("div",{className:Ar["chat-record-wrapper"],children:[m("div",{className:"flex items-center mr-20",children:[t(b,{onClick:h,name:"icon_chat_delete1",className:"text-2xl mr-4 text-icon_color hover:text-brand_color"}),t("span",{className:"text-xl",children:lt(a)})]}),t("div",{className:"mr-4",children:t(wa,{waveHeightScale:1.5,current:a,total:a})}),m("div",{className:"flex items-center",children:[t(us,{popupVisible:_,triggerProps:{popupAlign:{top:24}},content:v,color:"var(--brand_color)",children:!s&&t(b,{onClick:o,name:s?"":"icon_chat_talking",className:"text-brand_color talking-icon"})}),t("div",{onClick:p,className:"send-wrapper",children:t(b,{name:"icon_chat_send",className:"text-button_text_01  text-xl"})})]})]})}function Pr(){const[e,a]=ds();return ca(async()=>{const n=await ka();a(new n)}),la(()=>{e==null||e.destroy()}),e?t(jr,{recorder:e}):null}const Sa={"chat-input-wrapper":"input-chat-input-module__chat-input-wrapper--Pdz","input-actions-more":"input-chat-input-module__input-actions-more--7uZ"},Lt={"input-more-wrapper":"input-input-more-module__input-more-wrapper--kLZ","input-more-menus-wrapper":"input-input-more-module__input-more-menus-wrapper--C9L"};const Ia=e=>Rn({path:"/v1/im/userBalance/getBalanceInfo",method:"GET",params:e});var J=(e=>(e.single="single",e.groupNormal="group-normal",e.groupRandom="group-random",e))(J||{});const Tr={"red-packets-modal":"red-packet-red-packets-modal-module__red-packets-modal--cLx"};function wt(e){return t(pt,{className:E(Tr["red-packets-modal"],e.className),visible:!0,simple:!0,title:t("span",{className:"title",children:e.title}),footer:m("div",{className:"footer",children:[t(ye,{className:"btn",onClick:e.onCancel,children:l._("features_group_components_comfirm_btn_pop_index_2sr1guu0iy")}),t(ye,{loading:e.loading,className:"btn red",onClick:e.onConfirm,disabled:e.disabled,children:e.confirmString})]}),children:e.children})}const Er={"payment-password-modal":"red-packet-payment-password-module__payment-password-modal--ggq"};function Ma(e){const[a,n]=u.useState(""),s=a.length!==6,{run:r,loading:o}=Y(async()=>{var c;a.length===6&&((c=(await An({payPassword:Gn.encryptAES(a,!0)})).data)!=null&&c.success?await e.onConfirm():T.error(l._("features_messenger_chat_red_packet_payment_password_ii2obi7iva")))},{manual:!0});return m(wt,{title:l._("features_messenger_chat_red_packet_payment_password_oh0jm5naa7"),confirmString:l._("features_group_components_comfirm_btn_pop_index_hqzknhzo76"),onCancel:e.onCancel,onConfirm:r,className:Er["payment-password-modal"],disabled:s,loading:o,children:[m("div",{className:"content",children:[t("div",{className:"money",children:Number(e.money).toFixed(2)}),t("div",{className:"points",children:l._("features_messenger_chat_red_envelope_receiver_pm1ruksqfc")}),m("div",{className:"payment-method",children:[t("span",{children:l._("features_messenger_chat_red_packet_payment_password_sg4gbp4ul7")}),m("span",{children:[l._("features_messenger_chat_red_packet_payment_password_rd0sfg4sbs"),"(",m("span",{className:e.money<=e.balance?"balance-enough":"balance-not-enough",children:[l._("features_messenger_chat_red_packet_payment_password_agvd0xlm9j"),xs(e.balance)]}),")"]})]})]}),t(ms,{onComplete:n})]})}const Ur="red-packet-send-red-packets-module__input--4sy",de={"peer-red-packet":"red-packet-send-red-packets-module__peer-red-packet--l5q","group-red-packet":"red-packet-send-red-packets-module__group-red-packet---fl","red-packet-input":"red-packet-send-red-packets-module__red-packet-input--c1-",input:Ur};function zr(e){const{currentConversation:a}=R();return m(P,{children:[(a==null?void 0:a.type)===z.Peer&&t(Or,{onCancel:e.onCancel,id:a.conversationID}),(a==null?void 0:a.type)===z.Group&&t(Lr,{onCancel:e.onCancel,id:a.conversationID})]})}function Or(e){var f;const[a,n]=u.useState("create"),[s,r]=u.useState(0),[o,c]=u.useState(""),{data:i}=Y(async()=>(await Ia({})).data),d=(f=i==null?void 0:i.balance)!=null?f:0,p=async()=>{const _={refTypeCd:J.single,receiveUid:+e.id,receiveGroupId:0,packageAmount:Number(s),packageCount:1,remark:o||l._("features_messenger_chat_message_custom_red_pocket_message_hflxvdk0jj")};(await ia(_)).isOk?e.onCancel():n("create")};return m(P,{children:[a==="create"&&m(wt,{title:l._("features_messenger_chat_red_packet_send_red_packets_z0fiaf8eop"),confirmString:l._("features_messenger_chat_red_packet_send_red_packets_27i3mrstf8"),onCancel:e.onCancel,onConfirm:()=>n("password"),className:E(de["peer-red-packet"],de["red-packet-input"]),disabled:Number(s)<=0,children:[t(Ee,{hideControl:!0,className:"money-input",onChange:_=>{r(_)},prefix:t("span",{className:"input-str",children:l._("features_messenger_chat_red_packet_send_red_packets_vyt_sybkxq")}),placeholder:"0.00"}),t(ke,{className:de.input,value:o,onChange:_=>{c(_)},placeholder:l._("features_messenger_chat_message_custom_red_pocket_message_hflxvdk0jj")})]}),a==="password"&&t(Ma,{money:+s,balance:d,onCancel:e.onCancel,onConfirm:p})]})}function Lr(e){var v,h;const[a,n]=u.useState("create"),[s,r]=u.useState({type:J.groupNormal,number:"",singleAmount:0,remark:""}),{data:o}=Y(async()=>$t({groupId:e.id})),{data:c}=Y(async()=>(await Ia({})).data),i=(v=c==null?void 0:c.balance)!=null?v:0,d=s.type,p=s.type===J.groupNormal?+s.number*+s.singleAmount:Number(s.totalAmount),f=d===J.groupNormal?s.number===""||s.singleAmount===0:s.number===""||s.totalAmount===0,_=async()=>{const g={refTypeCd:d,receiveUid:0,receiveGroupId:e.id,packageAmount:p,packageCount:Number(s.number),remark:s.remark||l._("features_messenger_chat_message_custom_red_pocket_message_hflxvdk0jj")};(await ia(g)).isOk?e.onCancel():n("create")};return m(P,{children:[a==="create"&&m(wt,{title:l._("features_messenger_chat_red_packet_send_red_packets_z0fiaf8eop"),confirmString:l._("features_messenger_chat_red_packet_send_red_packets_27i3mrstf8"),onCancel:e.onCancel,onConfirm:()=>n("password"),className:E(de["group-red-packet"],de["red-packet-input"]),disabled:f,children:[m("div",{className:"red-type",children:[t("div",{role:"button",tabIndex:0,className:d===J.groupNormal?"is-select":"",onClick:()=>{const g={type:J.groupNormal,number:"",singleAmount:0,remark:""};r(g)},children:l._("features_messenger_chat_red_packet_send_red_packets_fcr9ejmtxj")}),t("div",{className:d===J.groupRandom?"is-select":"",role:"button",tabIndex:0,onClick:()=>{const g={type:J.groupRandom,number:"",totalAmount:0,remark:""};r(g)},children:l._("features_messenger_chat_red_packet_send_red_packets_vlw8ihvde1")})]}),t(Ee,{className:"rtl",hideControl:!0,prefix:m("span",{className:"input-str",children:[t(b,{className:"text-xl mr-3 red-packet-icon",name:"icon_chat_red_envelope"}),t("span",{children:l._("features_messenger_chat_red_packet_send_red_packets_bpqwbaxeeg")})]}),suffix:t("span",{className:"input-str",children:l._("features_messenger_chat_red_packet_send_red_packets_jfoafvqyxl")}),placeholder:"0",value:s.number===""?void 0:Number(s.number),onChange:g=>{const C=re(s,M=>{M.number=String(g)});r(C)}}),m("div",{className:"total-count",children:[l._("features_messenger_chat_red_packet_send_red_packets_vztd6_yzns")," ",(h=o==null?void 0:o.data)==null?void 0:h.groupData.number,l._("features_messenger_chat_red_packet_send_red_packets_7mmocspv46")]}),d===J.groupNormal&&t(Ee,{hideControl:!0,className:"rtl",onChange:g=>{const C=re(s,M=>{M.singleAmount=g});r(C)},prefix:t("span",{className:"input-str",children:l._("features_messenger_chat_red_packet_send_red_packets_vyt_sybkxq")}),placeholder:"0.00"}),d===J.groupRandom&&t(Ee,{hideControl:!0,className:"rtl",onChange:g=>{const C=re(s,M=>{M.totalAmount=g});r(C)},prefix:m("span",{className:"input-str",children:[t(b,{className:"text-xl mr-3 group-normal-icon",name:"icon_chat_lump_sum"}),l._("features_messenger_chat_red_packet_send_red_packets_vzfrzbjjig")]}),placeholder:"0.00"}),t(ke,{className:E("text-input",de.input),value:s.remark,onChange:g=>{const C=re(s,M=>{M.remark=g});r(C)},placeholder:l._("features_messenger_chat_message_custom_red_pocket_message_hflxvdk0jj")})]}),a==="password"&&t(Ma,{money:Number(p),balance:i,onCancel:e.onCancel,onConfirm:_})]})}function Fr(){const{chatMessagesScrollIntoBottom:e}=H(),{currentConversation:a}=R();return async n=>{const s=n[0].originFile;Yt(s,a),e()}}function Vr(){const[e,a]=u.useState(!1),n=Fr(),[s,r]=u.useState(!1);return m("div",{className:E(Lt["input-more-wrapper"],{"is-opened":e}),children:[t(_t,{popupVisible:e,onVisibleChange:a,unmountOnExit:!1,droplist:m(ae,{onClick:()=>a(!1),className:E(Lt["input-more-menus-wrapper"],"arco-dropdown-menu"),children:[t(ae.Item,{children:t(tt,{fileList:[],accept:"*",multiple:!1,onChange:n,autoUpload:!1,children:m("div",{className:"more-menu-item",children:[t(b,{className:"text-brand_color text-xl mr-3",name:"icon_chat_file"}),t("span",{children:l._("features_messenger_chat_input_input_more_7zskrz9nl6")})]})})},"1"),t(ae.Item,{onClick:()=>r(!0),children:m("div",{className:"more-menu-item",children:[t(b,{className:"text-xl mr-3 red-packet-icon",name:"icon_chat_red_envelope"}),t("span",{children:l._("features_messenger_chat_input_input_more_gao0n4ujev")})]})},"2"),t(ae.Item,{children:t(tt,{fileList:[],accept:"image/*",multiple:!1,onChange:n,autoUpload:!1,children:m("div",{className:"more-menu-item",children:[t(b,{className:"text-xl mr-3 text-avatar_bg_06",name:"icon_chat_photo_album"}),t("span",{children:l._("features_messenger_chat_input_input_more_4led8qdx0h")})]})})},"3")]}),trigger:"click",position:"tl",triggerProps:{clickToClose:!0,popupAlign:{top:[-8,20]}},children:t(b,{name:"icon_set_new",className:"text-icon_color text-xl/6"})}),s&&t(zr,{onCancel:()=>r(!1)})]})}const qr={"input-textarea-wrapper":"input-input-textarea-module__input-textarea-wrapper--N3j"};function $r(){const a=R().currentConversation,[n,s]=u.useState(!1),{chatMessagesScrollIntoBottom:r,messageByReEdit:o,setMessageByReEdit:c}=H(),[i,d]=u.useState(""),p=async()=>{!i||n||(d(""),pn({message:i,type:j.Text,extendedData:fn({})},a==null?void 0:a.conversationID,a==null?void 0:a.type),r())},f=u.useRef(null);Pt("keydown",h=>{h.code==="Enter"&&(h.preventDefault(),p())},{target:f}),Pt("paste",async h=>{}),me(()=>{var h;o&&(d(o),(h=f.current)==null||h.focus()),c("")},[o]),me(()=>{d("")},[a==null?void 0:a.conversationID]);const[_,v]=u.useState(!1);return m("div",{className:"flex-1 flex items-center",children:[t("div",{className:E(qr["input-textarea-wrapper"],{"is-focused":_}),children:t("input",{className:"flex-1 bg-transparent",ref:f,value:i,onCompositionStart:()=>s(!0),onCompositionEnd:()=>s(!1),onFocus:()=>v(!0),onBlur:()=>v(!1),onChange:h=>d(h.target.value),placeholder:l._("features_messenger_chat_input_input_textarea_betpbce5n2")})}),i?t(b,{onClick:p,name:"icon_chat_send",className:"text-icon_color hover:text-brand_color text-2xl"}):t(Gr,{})]})}function Br(){const{currentConversation:e}=R(),{selectedMessages:a,setInMultiSelect:n}=H(),s=l._({id:"features_messenger_chat_input_chat_input_mlpiu7uleb",values:{0:a.length}}),r=async()=>{Jt(a,e),n(!1)},o=()=>{n(!1)},[c,i]=u.useState(!1),d=()=>{i(!0)},p=f=>{f.forEach((_,v)=>{a.forEach((h,g)=>{setTimeout(()=>{Qt(h,_)},200*(v+1)*(g+1))})}),n(!1)};return m("div",{className:"flex items-center justify-between flex-1",children:[m("div",{className:"flex items-center",children:[t(b,{onClick:o,name:"icon_chat_close",className:"text-text_color_02 text-2xl/6 mr-4 hover:text-brand_color"}),t("div",{children:s})]}),a.length>0&&m("div",{className:"flex items-center",children:[t(b,{onClick:r,name:"icon_chat_delete1",className:"text-text_color_02 text-2xl/5 mr-6 hover:text-brand_color"}),t(b,{onClick:d,name:"icon_chat_forward",className:"!hidden text-text_color_02 text-2xl/5 hover:text-brand_color"})]}),t(Na,{visible:c,onClose:()=>{i(!1)},onConfirm:p})]})}function Ft({msg:e}){return m("div",{className:"flex items-center justify-center w-full flex-1",children:[t(b,{name:"icon_chat_unable_to_send",className:"text-text_color_02 mr-1 text-xs"}),t("span",{className:"text-text_color_02",children:e})]})}function Pe({children:e}){return t("div",{className:E(Sa["input-actions-more"]),children:e})}function Hr(){const{inMultiSelect:e,inRecording:a,setInMultiSelect:n,setInRecording:s}=H(),r=!_e(),{isBan:o}=we(),{currentConversation:c}=R();return me(()=>{n(!1),s(!1)},[c==null?void 0:c.conversationID]),m("div",{className:Sa["chat-input-wrapper"],children:[t(Vr,{}),t($r,{}),e&&t(Pe,{children:t(Br,{})}),a&&t(Pe,{children:t(Pr,{})}),r&&t(Pe,{children:t(Ft,{msg:l._("features_messenger_chat_input_chat_input_ccb04uddzy")})}),o&&t(Pe,{children:t(Ft,{msg:l._("features_messenger_chat_input_chat_input_a7ikrghpyd")})})]})}const ee={"message-wrapper":"message-index-module__message-wrapper--6Bw","text-message-wrapper":"message-index-module__text-message-wrapper--HuD","audio-message-wrapper":"message-index-module__audio-message-wrapper--Jrt","image-message-wrapper":"message-index-module__image-message-wrapper--6A0","video-message-wrapper":"message-index-module__video-message-wrapper--mgf","chat-arrow":"message-index-module__chat-arrow--Wy6","file-message-wrapper":"message-index-module__file-message-wrapper--sQC","group-sender-avatar":"message-index-module__group-sender-avatar--uAJ","multi-checkbox":"message-index-module__multi-checkbox--mag"};function Ie({message:e}){const{currentConversation:a}=R(),n=e.direction===ue.Send,s=e.receiptStatus===Oe.Done,r=async()=>{await Yn(l._("helper_message_fugvl05ct4"),l._("features_messenger_chat_message_base__tuj3a9sij"),{okText:l._("features_messenger_chat_message_base_gcwmza3rne")}),gn(e,a)},o=e.conversationType===z.Group,c=e.sentStatus===nt.Sending?t(da,{className:"-translate-y-0.5",size:12,element:null}):e.sentStatus===nt.Success?s&&!o?t(b,{name:"icon_chat_have_read",className:"text-base -translate-y-px text-brand_color"}):t(b,{name:"icon_set_confirm",className:"text-sm -translate-y-px"}):t(b,{onClick:r,name:"icon_chat_unable_to_send",className:"text-base -translate-y-px text-icon_color"});return m("span",{className:"inline-flex items-center",children:[hn(e.timestamp)," ",n&&t("span",{className:"ml-1",children:c})]})}const Wr=200,Zr=300;function kt({originWidth:e,originHeight:a,defaultWidth:n=Wr,defaultHeight:s=Zr,src:r,imageMaxWidth:o,inView:c}){const{imageMaxWidth:d}=H(),p=(o||d)-8,[f,_]=u.useState(e||n),[v,h]=u.useState(a||s);let g=f;g>p-8&&(g=p);const C=v/f*g,[M]=u.useState(document.createElement("img"));return u.useEffect(()=>{e||!r||c===!1||(M.src=r,M.onload=()=>{_(M.naturalWidth),h(M.naturalHeight)})},[r,c]),{width:g,height:C,containerWidth:g+8,containerHeight:C+8}}function Kr({message:e,inView:a}){const{imageMaxWidth:n}=H(),s=u.useMemo(()=>e.fileLocalPath instanceof File?URL.createObjectURL(e.fileLocalPath):e.thumbnailDownloadUrl||e.fileDownloadUrl,[e.fileLocalPath,e.thumbnailDownloadUrl,e.fileDownloadUrl]),{width:r,height:o}=kt({originWidth:e.thumbnailWidth,originHeight:e.thumbnailHeight,imageMaxWidth:Math.min(328,n),src:s,inView:a}),c=t(xt,{image:{style:{width:r,height:o,margin:0}},text:!1,animation:!0});return m("div",{className:ee["image-message-wrapper"],style:{"--image-width":`${r}px`,"--image-height":`${o}px`},children:[a?t(ht,{width:r,height:o,className:"rounded-lg",loader:c,error:e.fileDownloadUrl?c:void 0,src:Za(s),alt:""}):c,t("div",{className:"time",children:t(Ie,{message:e})})]})}function Yr({message:e}){const{imageMaxWidth:a}=H(),{width:n,height:s}=kt({originWidth:e.videoFirstFrameWidth,originHeight:e.videoFirstFrameHeight,src:e.videoFirstFrameDownloadUrl,imageMaxWidth:Math.min(328,a)}),[r,o]=u.useState(!1),c=()=>{o(!0)},i=()=>{o(!1)},d=u.useRef(null),p=()=>{var g;(g=d.current)==null||g.play(),o(!0)},[f,_]=u.useState("00:00"),v=()=>{new Date().setHours(0,0,0,0),_(lt(d.current.duration))},h=t(xt,{image:{style:{width:n,height:s}},text:!1,animation:!0});return m("div",{className:ee["video-message-wrapper"],children:[e.fileDownloadUrl?t("video",{onDurationChange:v,onCanPlay:v,controls:r,onPlay:c,ref:d,onPause:i,width:n,height:s,poster:e.videoFirstFrameDownloadUrl,children:t("source",{src:e.fileDownloadUrl})}):t(ht,{width:n,height:s,preview:!1,className:"rounded-lg",loader:h,error:h,src:e.videoFirstFrameDownloadUrl,alt:""}),t("div",{className:"time",children:t(Ie,{message:e})}),m("div",{className:"duration",children:[t(b,{noPointer:!0,name:"icon_chat_video",className:"text-button_text_01 text-sm mr-1"}),t("span",{className:"",children:f})]}),!r&&t("div",{className:"play-icon",onClick:p,children:t(b,{name:"icon_chat_pause",className:"text-button_text_01 text-xl"})})]})}function Da({message:e}){const[a,n]=u.useState(!1),s=()=>{n(!0)},r=()=>{n(!1)},o=u.useRef(null),c=()=>{var h;a?o.current.pause():(h=o.current)==null||h.play()},[i,d]=u.useState(e.audioDuration||0),p=()=>{new Date().setHours(0,0,0,0),d(o.current.duration)},[f,_]=u.useState(0),v=()=>{_(o.current.currentTime)};return m("div",{className:ee["audio-message-wrapper"],children:[t("div",{className:"play-icon",onClick:c,children:t(b,{name:a?"icon_chat_play":"icon_chat_pause",className:"text-button_text_01 text-xs"})}),t("div",{className:"mx-1",children:lt(f===0?i:f)}),t("audio",{onDurationChange:p,onCanPlay:p,onProgress:v,onTimeUpdate:v,onPlay:s,ref:o,onPause:r,src:e.fileDownloadUrl}),t(wa,{current:f,total:i}),t("div",{className:"time",children:t(Ie,{message:e})})]})}function Jr({message:e}){var i,d;const a=dt(e).previewUrl,{width:n,height:s}=kt({defaultHeight:100,defaultWidth:328,imageMaxWidth:328,src:a}),r=e.fileName||((i=e.fileLocalPath)==null?void 0:i.name)||"",o=Number(vs((e.fileSize||((d=e.fileLocalPath)==null?void 0:d.size)||0)/1024,2));if(vn(r,!1)===j.Audio)return t(Da,{message:e});const c=()=>{window.open(e.fileDownloadUrl)};return m("div",{className:E(ee["file-message-wrapper"],{"with-preview":a}),onClick:c,children:[a&&t(ht,{width:n,height:s,className:"rounded-lg",loader:t(xt,{image:{style:{width:n,height:s}},text:!1,animation:!0}),error:null,src:a,alt:""}),m("div",{className:"icon-wrapper",style:{width:n},children:[t(b,{className:"text-2xl mr-2",name:xn(r)}),m("div",{className:"flex-1 w-0",children:[t("div",{className:"filename",title:r,children:r}),m("div",{className:"file-size",children:[bn(o),".",r.split(".").pop()]})]})]}),t("div",{className:"time",children:t(Ie,{message:e})})]})}function Qr(){var e=u.useRef(!1),a=u.useCallback(function(){return e.current},[]);return u.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),a}var Xr=function(e){e===void 0&&(e={});var a=u.useState(e),n=a[0],s=a[1],r=u.useCallback(function(o){s(function(c){return Object.assign({},c,o instanceof Function?o(c):o)})},[]);return[n,r]};const eo=Xr;var to=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var a=document.activeElement,n=[],s=0;s<e.rangeCount;s++)n.push(e.getRangeAt(s));switch(a.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":a.blur();break;default:a=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(r){e.addRange(r)}),a&&a.focus()}},ao=to,Vt={"text/plain":"Text","text/html":"Url",default:"Text"},no="Copy to clipboard: #{key}, Enter";function so(e){var a=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,a)}function ro(e,a){var n,s,r,o,c,i,d=!1;a||(a={}),n=a.debug||!1;try{r=ao(),o=document.createRange(),c=document.getSelection(),i=document.createElement("span"),i.textContent=e,i.ariaHidden="true",i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",function(f){if(f.stopPropagation(),a.format)if(f.preventDefault(),typeof f.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var _=Vt[a.format]||Vt.default;window.clipboardData.setData(_,e)}else f.clipboardData.clearData(),f.clipboardData.setData(a.format,e);a.onCopy&&(f.preventDefault(),a.onCopy(f.clipboardData))}),document.body.appendChild(i),o.selectNodeContents(i),c.addRange(o);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");d=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(a.format||"text",e),a.onCopy&&a.onCopy(window.clipboardData),d=!0}catch(_){n&&console.error("unable to copy using clipboardData: ",_),n&&console.error("falling back to prompt"),s=so("message"in a?a.message:no),window.prompt(s,e)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(o):c.removeAllRanges()),i&&document.body.removeChild(i),r()}return d}var oo=ro;const io=Ka(oo);var co=function(){var e=Qr(),a=eo({value:void 0,error:void 0,noUserInteraction:!0}),n=a[0],s=a[1],r=u.useCallback(function(o){if(e()){var c,i;try{if(typeof o!="string"&&typeof o!="number"){var d=new Error("Cannot copy typeof "+typeof o+" to clipboard, must be a string");s({value:o,error:d,noUserInteraction:!0});return}else if(o===""){var d=new Error("Cannot copy empty string to clipboard.");s({value:o,error:d,noUserInteraction:!0});return}i=o.toString(),c=io(i),s({value:i,error:void 0,noUserInteraction:c})}catch(p){s({value:i,error:p,noUserInteraction:c})}}},[]);return[n,r]};const lo=co;function uo({message:e,children:a,inCenter:n}){const{currentConversation:s,updateMessagesByConversation:r}=R(),{userInfo:o}=we(),{setInMultiSelect:c,inMultiSelect:i}=H(),d=e.direction===ue.Send,[,p]=lo(),f=()=>{p(e.message),T.success(l._("features_messenger_chat_message_actions_dp8cwcddzx"))},[_,v]=u.useState(!1),h=()=>{v(!0)},g=S=>{S.forEach(L=>{Qt(e,L)}),v(!1)},C=()=>{const S=yn(s.conversationID),L=e.conversationType===z.Group?S==null?void 0:S.myNickName:o.nickName;qe().revokeMessage(e,{revokeExtendedData:JSON.stringify({operatorName:L||o.nickName})}),r(s.conversationID,[re(e,$=>{$.originalMessageType=$.type,$.originalTextMessageContent=$.message,$.type=j.Revoke})],"update"),T.success(l._("features_messenger_chat_message_actions_bqmv8ipzz0"))},M=()=>{c(!0)},D=async()=>{Jt([e],s)},x=d&&e.sentStatus===nt.Success&&Date.now()-Number(e.timestamp)<1.9*60*1e3,A=e.type===j.Text,N=![j.Custom,j.Revoke,j.Command,j.Unknown,j.System].includes(e.type),V=[{id:"1",hidden:!A,icon:"icon_chat_messages_copy",text:l._("features_messenger_chat_message_actions_eprqxenp68"),onClick:f},{id:"2",icon:"icon_chat_messages_forward",text:l._("features_messenger_chat_message_actions_5xkqpc5hef"),hidden:!N,onClick:h},{id:"3",hidden:!x,icon:"icon_chat_messages_retract",text:l._("features_messenger_chat_message_actions_3fapevth_r"),onClick:C},{id:"4",icon:"icon_chat_messages_multiple_choice",text:l._("features_messenger_chat_message_actions_3xzjfuoglw"),onClick:M},{id:"5",icon:"icon_chat_messages_delete",text:l._("features_messenger_chat_message_actions_y9zlvhqoie"),color:"text-secondary_color",onClick:D}],q=_e();return m(P,{children:[t(_t,{trigger:"contextMenu",position:d?"br":"bl",disabled:i||!q||n,droplist:t(ae,{children:V.map(S=>S.hidden?null:m(ae.Item,{className:"flex items-center",onClick:S.onClick,children:[t(b,{className:E("text-xl mr-3",S.color?S.color:"text-text_color_01"),name:S.icon}),t("span",{className:E(S.color?S.color:"","text-base"),children:S.text})]},S.id))}),children:a}),t(Na,{visible:_,onClose:()=>{v(!1)},onConfirm:g})]})}function mo({isSelf:e,isGroup:a}){const{theme:n}=qa(),s=`chat_arrow_${e?"right":"left"}${a&&!e?"_group":""}${e?"_business":""}_${n}.png`;return t("div",{className:E(ee["chat-arrow"],e?"is-right":"is-left",{"is-group":a}),children:t(ra,{src:`${Zn}chat/chat-arrows/${s}`})})}function _o({message:e}){const a=dt(e),{openContactInfo:n}=H(),s=()=>{n(e.senderUserID)};return t("div",{className:ee["group-sender-avatar"],onClick:s,children:t(ce,{padding:8,src:a.avatarUrl||"",size:28})})}function po({message:e,className:a}){return m("div",{className:E(ee["text-message-wrapper"],a),children:[t("span",{children:e==null?void 0:e.message}),t("span",{className:"time",children:t(Ie,{message:e})})]})}function fo({message:e}){const a={[j.File]:"【文件】"};return t("div",{className:"text-center",children:a[e==null?void 0:e.type]||"未知消息"})}const ho={[j.Text]:po,[j.Image]:Kr,[j.Video]:Yr,[j.Audio]:Da,[j.File]:Jr,[j.Revoke]:is,[j.Custom]:cs};function ze(e){return[j.Custom,j.Revoke,j.Command].includes(e.type)&&![mt.redPocket].includes(e.subType)}function go(e,a,n){const s=ze(e),r=e.direction===ue.Send,o=e.conversationType===z.Group;let c=!s&&(!n||n.senderUserID!==e.senderUserID||new Date(n.timestamp).getDate()!==new Date(e.timestamp).getDate()||ze(n)),i=r?c:!s&&o&&(!a||a.senderUserID!==e.senderUserID||new Date(a.timestamp).getDate()!==new Date(e.timestamp).getDate()||ze(a));const d=i&&o&&!r;return e.type===j.Custom&&e.subType===mt.redPocket&&(c=!1,i=!1),{chatArrowVisible:o?i:c,groupChatArrowVisible:i,groupAvatarVisible:d}}function vo(e){const a=`messsage-${j[e.type]}`;if(e.type===j.Custom){const n=mt[e.subType];return`${a}-${n}`.toLowerCase()}return a}function xo({message:e,setHeight:a,preMessage:n,messagesWrapperRef:s,nextMessage:r}){const{currentConversation:o,updateMessagesByConversation:c}=R(),{inMultiSelect:i,addOrRemoveSelectedMessage:d,selectedMessages:p,imageMaxWidth:f}=H(),_=e.direction===ue.Send,v=e.conversationType===z.Group,h=ho[e==null?void 0:e.type],g=ze(e),[C,M]=u.useState(42),D=u.useRef(null);u.useEffect(()=>{D.current&&M(D.current.clientHeight)},[]),me(()=>{a==null||a(C)},[C]);const x=!1,A=u.useRef(null),N=u.useRef(e);N.current=e;const V=dt(e),[q,S]=u.useState(!1);u.useEffect(()=>{if(!A.current||!(s!=null&&s.current))return;const W=new IntersectionObserver(De=>{De.forEach(Ke=>{Ke.isIntersecting&&(S(!0),!_&&N.current.receiptStatus===Oe.Processing&&(Cn([N.current]),c(N.current.conversationID,[re(N.current,Ye=>{Ye.receiptStatus=Oe.Done})],"update")),r||Xt(),W.disconnect())})},{root:s.current});return W.observe(A.current),()=>{W.disconnect()}},[x]);const{chatArrowVisible:L,groupChatArrowVisible:$,groupAvatarVisible:I}=go(e,n,r),{groupMembers:U}=te(),k=(U[o.conversationID]||[]).find(W=>Nn(W.uid,e.senderUserID)),O=(k==null?void 0:k.nickName)||(k==null?void 0:k.realNickName)||V.fromNickname,B=wn(o),le=i&&!g,K=()=>{le&&d(e)},Me=!!p.find(W=>W.messageID===e.messageID);return m("div",{ref:A,className:"relative flex",children:[le&&t(oa,{className:ee["multi-checkbox"],onChange:()=>{d(e)},checked:Me,children:Ca}),t("div",{ref:D,onClick:K,className:E(ee["message-wrapper"],"flex-1",{"is-self":_,"in-center":g,"cursor-pointer":i}),children:t("div",{className:E("message-content",vo(e)),style:{maxWidth:f||"60%"},children:m(uo,{inCenter:g,message:e,children:[!_&&I&&(B==null?void 0:B.showMemberNickName)===kn.YES&&t("div",{className:E("group-sender-nickname",{"not-with-arrow":!$}),children:O}),h?t(h,{inView:q,setHeight:M,message:e}):t(fo,{setHeight:M,message:e}),(L||$)&&t(mo,{isGroup:v,isSelf:_}),!_&&I&&t(_o,{message:e})]})})})]})}const Ra={"chat-messages-wrapper":"chat-chat-messages-module__chat-messages-wrapper--lzu","new-messages-tip":"chat-chat-messages-module__new-messages-tip--zbs"};function bo(){var M;const{messagesByConversation:e,currentConversation:a,updateMessagesByConversation:n}=R(),s=a,{chatMessagesScrollIntoBottom:r}=H(),{setJoinGroupList:o}=te(),c=u.useRef(r);c.current=r;const i=((M=e.find(D=>D.conversationId===s.conversationID))==null?void 0:M.messages)||[],d=qe(),[p,f]=u.useState(!1),_=40,{runAsync:v,loading:h}=Y(async D=>{if(p&&i.length>0)return;const x=await d.queryHistoryMessage(s.conversationID,s.type,{count:_,nextMessage:D||i[0],reverse:!0});return n(s.conversationID,x.messageList,"unshift"),x.messageList.length<_&&f(!0),x.messageList},{manual:!0}),g=s.type===z.Group,C=_e();return u.useEffect(()=>{f(!1),i.length<_&&v().then(()=>{c.current()}),s.type===z.Group&&(C&&at(s.conversationID),o()),Xt(s),c.current()},[s.conversationID]),me(()=>{g&&at(s.conversationID)},[C]),{messages:i,loadMore:v,loading:h}}function yo({onClick:e}){return m("div",{className:Ra["new-messages-tip"],onClick:e,children:[t(b,{name:"icon_chat_news",className:"text-brand_color mr-1"}),t("span",{children:l._("features_messenger_chat_chat_messages_fiwaom_mss")})]})}function Co(){const e=u.useRef(null),{messages:a,loadMore:n,loading:s}=bo(),r=u.useRef(a);r.current=a;const o=u.useRef(!1);o.current=s;const{currentConversation:c}=R(),{registerChatMessagesScrollIntoBottom:i,registerOpenContactInfo:d}=H(),[p,f]=oe(),_=(N={})=>{e.current.scrollTo({top:N.top||e.current.scrollHeight-e.current.clientHeight,behavior:N.behavior||"auto"})};u.useEffect(()=>(i(_),d(N=>{p(t(Nt,{uid:N,onClose:f}))}),()=>{i(()=>{})}),[]);const v=u.useRef(_);v.current=_,a.filter(N=>N.direction===ue.Receive&&N.receiptStatus===Oe.Processing).length;const[h,g]=u.useState(!1),C=()=>{qe().clearConversationUnreadMessageCount(c.conversationID,c.type)};u.useEffect(()=>{if(g(!1),!c)return;const N={[z.Peer]:Tt.message,[z.Group]:Tt.receiveGroupMessage},V=Sn(N[c.type],(q,S)=>{S.fromConversationID===c.conversationID&&S.messageList.find(L=>L.direction===ue.Receive)&&(e.current.scrollHeight-e.current.clientHeight<=10&&C(),g(!0))});return()=>{V()}},[c]);const[M,D]=u.useState(0),x=async()=>{const N=await n();N&&N.length>0&&setTimeout(()=>{D(M+1)},100)},A=()=>{_({behavior:"smooth"}),g(!1),C()};return m(P,{children:[m(hs,{ref:e,keepScrollAfterLoadPrevAfter:M,className:Ra["chat-messages-wrapper"],loadPrev:x,loadNext:()=>{g(!1),C()},children:[s&&t("div",{className:"flex justify-center py-2",children:t(da,{})}),a.map((N,V)=>{const q=a[V-1],S=!q||new Date(q.timestamp).getDate()!==new Date(N.timestamp).getDate();return m("div",{children:[S&&t("div",{className:"group-time",children:t("div",{className:"tag",children:In(N.timestamp)})}),t(xo,{messagesWrapperRef:e,preMessage:q,nextMessage:a[V+1],message:N})]},N.messageID)})]}),h&&t(yo,{onClick:A})]})}function qi(){return m("div",{className:"h-full flex flex-col",children:[t(wr,{}),t("div",{className:"flex-1 h-0 relative",children:t(Co,{})}),t(Hr,{})]})}export{qi as ChatWindow};
