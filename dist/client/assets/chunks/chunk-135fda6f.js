import{d as l}from"./chunk-fde55823.js";import{u as c}from"./chunk-ff689da6.js";import{u}from"./chunk-79739c92.js";import{u as d}from"./chunk-8f68cdf3.js";import{L as v}from"./chunk-301a229e.js";import{r as s}from"./chunk-e9cd8943.js";/* empty css              */import{S as h}from"./chunk-86e4740a.js";import{L as g}from"./chunk-014979c9.js";import{c as S}from"./chunk-99b8f121.js";import{C as x}from"./chunk-a406d0a9.js";import{a as L,j as e}from"./chunk-c1d16543.js";import"./chunk-d8234155.js";import"./chunk-09d047a9.js";import"./chunk-acb1a683.js";import"./chunk-cf010ec4.js";import"./chunk-634a8a63.js";import"./chunk-ba3e3861.js";import"./chunk-36a75920.js";import"./chunk-0feb7138.js";import"./chunk-d368c681.js";import"./chunk-e3775f6c.js";import"./chunk-23179642.js";import"./chunk-61229905.js";import"./chunk-b745fb4d.js";import"./chunk-d80cdd1c.js";import"./chunk-b4d6f2f0.js";import"./chunk-5f195378.js";import"./chunk-6b5946cf.js";import"./chunk-b720646a.js";import"./chunk-ec284ae6.js";import"./chunk-b3e26e36.js";import"./chunk-1d6b0b39.js";import"./chunk-5dde6c82.js";import"./chunk-38ad52ab.js";import"./chunk-2bf04c59.js";import"./chunk-258ffa59.js";import"./chunk-dcdbe767.js";/* empty css              */import"./chunk-5212edba.js";import"./chunk-3a21c360.js";import"./chunk-01f7121e.js";import"./chunk-77df718a.js";import"./chunk-cd3d6459.js";import"./chunk-ec38f500.js";import"./chunk-c1540bb6.js";import"./chunk-260fa0dc.js";import"./chunk-01660bad.js";/* empty css              */import"./chunk-78c1d4c8.js";import"./chunk-cfcc25a6.js";import"./chunk-e9c2c122.js";import"./chunk-faa47c2c.js";import"./chunk-41250ec8.js";function y(){const{conversations:t,updateConversations:n}=c(),i=l(),[m,p]=s.useState(0),o=100,{run:r,loading:f}=u(async()=>{const{conversationList:a}=await i.queryConversationList({count:o,nextConversation:t.length<o?void 0:t[t.length-1]});a.length!==0&&n(a,"push")},{manual:!0});return s.useEffect(()=>{if(t.length===0){r();return}t.length<o&&m<2&&(p(m+1),r())},[t]),{conversations:t,loadMore:r,loading:f}}function Ct(){const{conversations:t,loadMore:n,loading:i}=y(),m=s.useRef(null),[p,o]=s.useState(0);return d(()=>{o(p+1)},[t]),L(v,{keepScrollAfterLoadNext:p,ref:m,className:S({"h-full":t.length===0}),loadNext:n,children:[t.map(r=>e(x,{conversation:r},r.conversationID)),i&&e("div",{className:"flex justify-center py-2",children:e(h,{})}),!i&&t.length===0&&e("div",{className:"h-full flex items-center justify-center",children:e(g,{})})]})}export{Ct as default};
