import{r as u,R as z}from"./chunk-e9cd8943.js";import{d as R}from"./chunk-5dde6c82.js";import{C as O,i as F,u as $,c as C,a as D}from"./chunk-36a75920.js";import{j as s,a as v,F as w}from"./chunk-c1d16543.js";var M=globalThis&&globalThis.__read||function(r,t){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var e=a.call(r),n,i=[],l;try{for(;(t===void 0||t-- >0)&&!(n=e.next()).done;)i.push(n.value)}catch(c){l={error:c}}finally{try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(l)throw l.error}}return i},q=globalThis&&globalThis.__spreadArray||function(r,t,a){if(a||arguments.length===2)for(var e=0,n=t.length,i;e<n;e++)(i||!(e in t))&&(i||(i=Array.prototype.slice.call(t,0,e)),i[e]=t[e]);return r.concat(i||Array.prototype.slice.call(t))};function B(r){var t=u.useContext(O).getPrefixCls,a=t("spin")+"-dot",e={width:r.size,height:r.size},n=r.size?parseInt(String(r.size)):0;return s("div",{className:a+"-list",style:{height:r.size,width:F(n)&&n>0?n*7:""},children:q([],M(new Array(5)),!1).map(function(i,l){return s("div",{className:a,style:e},l)})})}var m=globalThis&&globalThis.__assign||function(){return m=Object.assign||function(r){for(var t,a=1,e=arguments.length;a<e;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},m.apply(this,arguments)},G=globalThis&&globalThis.__rest||function(r,t){var a={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&t.indexOf(e)<0&&(a[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(r);n<e.length;n++)t.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(r,e[n])&&(a[e[n]]=r[e[n]]);return a},H=globalThis&&globalThis.__read||function(r,t){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var e=a.call(r),n,i=[],l;try{for(;(t===void 0||t-- >0)&&!(n=e.next()).done;)i.push(n.value)}catch(c){l={error:c}}finally{try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(l)throw l.error}}return i};function J(r,t){var a,e=u.useContext(O),n=e.getPrefixCls,i=e.componentConfig,l=$(r,{},i==null?void 0:i.Spin),c=l.style,j=l.className,y=l.children,g=l.loading,p=l.size,b=l.icon,P=l.element,d=l.tip,L=l.dot,f=l.delay,_=l.block,k=_===void 0?!1:_,A=G(l,["style","className","children","loading","size","icon","element","tip","dot","delay","block"]),S=H(u.useState(f?!1:g),2),E=S[0],I=S[1],h=u.useCallback(R(I,f),[f]),x=f?E:g,o=n("spin");u.useEffect(function(){return f&&h(g),function(){h&&h.cancel()}},[g]);var N=s("span",{className:o+"-icon",children:b?z.cloneElement(b,{className:C(o.replace("-spin","-icon")+"-loading"),style:{fontSize:p}}):P||(L?s(B,{size:p}):s(D,{style:{fontSize:p}}))});return s("div",{...m({ref:t,className:C(o,(a={},a[o+"-block"]=k,a[o+"-loading"]=x,a[o+"-with-tip"]=d&&!y,a),j),style:c},A),children:y?v(w,{children:[s("div",{className:o+"-children",children:y}),x&&s("div",{className:o+"-loading-layer",style:{fontSize:p},children:v("span",{className:o+"-loading-layer-inner",children:[N,d?s("div",{className:o+"-tip",children:d}):null]})})]}):v(w,{children:[N,d?s("div",{className:o+"-tip",children:d}):null]})})}var T=z.forwardRef(J);T.displayName="Spin";const W=T;export{W as S};
