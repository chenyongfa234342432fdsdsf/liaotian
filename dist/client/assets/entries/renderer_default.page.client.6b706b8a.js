import{c as createRoot}from"../chunks/chunk-e3775f6c.js";import{b as baseCommonStore,C as ColorPlateEnum,i as i18n,m as applyTheme,T as ThemeOptionEnum,n as sn,o as initCache,u as useCommonStore,e as ThemeEnum}from"../chunks/chunk-d8234155.js";import{d as oss_domain_address,o as oss_svg_image_domain_address,c as classNames}from"../chunks/chunk-99b8f121.js";import{d as baseLayoutStore,l as logGitCommitId}from"../chunks/chunk-634a8a63.js";import{s as envIsBuild,n as newbitEnv,w as wsUrl,r as reactExports,t as envIsProd,R as React,c as commonjsGlobal,g as getDefaultExportFromCjs}from"../chunks/chunk-e9cd8943.js";import{i as isInstanceOf,t as truncate,l as logger,g as getGlobalObject,G as GLOBAL_OBJ,C as CONSOLE_LEVELS,f as fill,o as originalConsoleMethods,a as isString,b as addNonEnumerableProperty,u as uuid4,c as isNodeEnv,d as isNaN$1,e as convertToPlainObject,h as isVueViewModel,j as isSyntheticEvent,r as rejectedSyncPromise,S as SyncPromise,k as resolvedSyncPromise,m as dropUndefinedKeys,n as dateTimestampInSeconds,p as getCurrentHub,q as timestampInSeconds,D as DEFAULT_ENVIRONMENT,s as getMainCarrier,v as urlEncode,w as arrayify,x as addGlobalEventProcessor,y as Scope,z as notifyEventProcessors,B as getGlobalEventProcessors,F as checkOrSetAlreadyCaught,H as isPrimitive,I as updateSession,J as isThenable,K as isPlainObject,L as getOriginalFunction,M as getEventDescription,N as stringMatchesSomePattern,O as markFunctionWrapped,P as withScope,Q as addExceptionTypeValue,R as addExceptionMechanism,T as captureException,U as isErrorEvent$2,V as isDOMError,W as isDOMException,X as isError,Y as isEvent,Z as extractExceptionKeysForMessage,_ as getSDKSource,$ as getLocationHref,a0 as safeJoin,a1 as htmlTreeAsString,a2 as browserPerformanceTimeOrigin,a3 as getDomElement,a4 as setContext,A as AsyncSuspense,E as ErrorBoundary}from"../chunks/chunk-8b2d29ac.js";import{c as __awaiter$1,d as __generator,b as __assign,_ as __spreadArray,f as __values}from"../chunks/chunk-b745fb4d.js";import{b as baseUserStore,R as Request$1,d as getImInstance,A as fetchAndUpdateUserInfo,e as getV1ImChatImUserIndividualQueryEntityApiRequest,B as setChatConfiguration,D as getIsLogin,E as commonjsRequire,u as useUserStore,F as getImAudioAndVideoSdkAppId,G as getRedirectUrl}from"../chunks/chunk-fde55823.js";import{W as WsBizEnum,a as WsTypesEnum,w as ws}from"../chunks/chunk-e9c2c122.js";import{g as baseAddressBookStore,a4 as addEventListenerOnIm,B as baseImStore,a6 as bindEventOnReceiveMessage,a7 as bindEventOnMessageSentStatsChange,a8 as binEventOnMessageDelete,a9 as binEventOnMessageRevoke,aa as binEventOnMessageRead,ab as bindEventOnConversationChange,ac as bindEventOnGroupChange,G as updateRemarkMapToStore,u as useImStore}from"../chunks/chunk-ff689da6.js";import{h as getI18nEmptyObject,f as I18nsEnum,j as getFirstLang,k as dynamicActivate}from"../chunks/chunk-09d047a9.js";import{M as Message,L as dayjs_minExports,m as dayjs,s as ConfigProvider}from"../chunks/chunk-36a75920.js";import{l as ZIMConnectionState,m as ZIMConnectionEvent,g as ZIMEventEnum,n as ZIMErrorCode}from"../chunks/chunk-d368c681.js";/* empty css                      */import{l as link}from"../chunks/chunk-ba3e3861.js";import{u as updateUserIsBanToStore}from"../chunks/chunk-e7d38ff7.js";import{_ as __vitePreload}from"../chunks/chunk-cf010ec4.js";import{P as PageContextProvider}from"../chunks/chunk-cc4f6b84.js";import{L as LoadingElement}from"../chunks/chunk-5f195378.js";import{L as ListEmpty}from"../chunks/chunk-014979c9.js";import{b as isNumber,u as useMount}from"../chunks/chunk-1d6b0b39.js";import{a as HOME_RIGHT_DRAWER_ID}from"../chunks/chunk-93e6d3ec.js";import{u as useMessengerStore}from"../chunks/chunk-cfcc25a6.js";import{u as useLatest,b as useMemoizedFn,a as useUnmount}from"../chunks/chunk-b3e26e36.js";import{u as useUpdateEffect}from"../chunks/chunk-8f68cdf3.js";import"../chunks/chunk-23179642.js";import{M as Modal}from"../chunks/chunk-61229905.js";import{L as LazyImage,T as Type}from"../chunks/chunk-5212edba.js";import{I as Icon}from"../chunks/chunk-d80cdd1c.js";import{a as jsxs,j as jsx,F as Fragment}from"../chunks/chunk-c1d16543.js";import{u as useEffectWithTarget,g as getTargetElement}from"../chunks/chunk-258ffa59.js";import"../chunks/chunk-0feb7138.js";import"../chunks/chunk-acb1a683.js";import"../chunks/chunk-86e4740a.js";import"../chunks/chunk-5dde6c82.js";import"../chunks/chunk-38ad52ab.js";import"../chunks/chunk-b720646a.js";import"../chunks/chunk-ec284ae6.js";import"../chunks/chunk-6b5946cf.js";/* empty css                      */import"../chunks/chunk-b4d6f2f0.js";const globalLibraryList=[{tag:"Geetest",link:"/deps/geetest_v3_4_18.js"}],addGlobalLibrary=()=>{const a=document.createDocumentFragment();globalLibraryList.forEach(c=>{const h=document.createElement("script");h.src=`${oss_domain_address}${c.link}`,a.appendChild(h)}),document.head.appendChild(a)};function applyAggregateErrorsToEvent(a,c,h=250,f,B,v,D){if(!v.exception||!v.exception.values||!D||!isInstanceOf(D.originalException,Error))return;const _=v.exception.values.length>0?v.exception.values[v.exception.values.length-1]:void 0;_&&(v.exception.values=truncateAggregateExceptions(aggregateExceptionsFromError(a,c,B,D.originalException,f,v.exception.values,_,0),h))}function aggregateExceptionsFromError(a,c,h,f,B,v,D,_){if(v.length>=h+1)return v;let m=[...v];if(isInstanceOf(f[B],Error)){applyExceptionGroupFieldsForParentException(D,_);const I=a(c,f[B]),Q=m.length;applyExceptionGroupFieldsForChildException(I,B,Q,_),m=aggregateExceptionsFromError(a,c,h,f[B],B,[I,...m],I,Q)}return Array.isArray(f.errors)&&f.errors.forEach((I,Q)=>{if(isInstanceOf(I,Error)){applyExceptionGroupFieldsForParentException(D,_);const p=a(c,I),u=m.length;applyExceptionGroupFieldsForChildException(p,`errors[${Q}]`,u,_),m=aggregateExceptionsFromError(a,c,h,I,B,[p,...m],p,u)}}),m}function applyExceptionGroupFieldsForParentException(a,c){a.mechanism=a.mechanism||{type:"generic",handled:!0},a.mechanism={...a.mechanism,is_exception_group:!0,exception_id:c}}function applyExceptionGroupFieldsForChildException(a,c,h,f){a.mechanism=a.mechanism||{type:"generic",handled:!0},a.mechanism={...a.mechanism,type:"chained",source:c,exception_id:h,parent_id:f}}function truncateAggregateExceptions(a,c){return a.map(h=>(h.value&&(h.value=truncate(h.value,c)),h))}const DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function isValidProtocol(a){return a==="http"||a==="https"}function dsnToString(a,c=!1){const{host:h,path:f,pass:B,port:v,projectId:D,protocol:_,publicKey:m}=a;return`${_}://${m}${c&&B?`:${B}`:""}@${h}${v?`:${v}`:""}/${f&&`${f}/`}${D}`}function dsnFromString(a){const c=DSN_REGEX.exec(a);if(!c){console.error(`Invalid Sentry Dsn: ${a}`);return}const[h,f,B="",v,D="",_]=c.slice(1);let m="",I=_;const Q=I.split("/");if(Q.length>1&&(m=Q.slice(0,-1).join("/"),I=Q.pop()),I){const p=I.match(/^\d+/);p&&(I=p[0])}return dsnFromComponents({host:v,pass:B,path:m,projectId:I,port:D,protocol:h,publicKey:f})}function dsnFromComponents(a){return{protocol:a.protocol,publicKey:a.publicKey||"",pass:a.pass||"",host:a.host,port:a.port||"",path:a.path||"",projectId:a.projectId}}function validateDsn(a){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return!0;const{port:c,projectId:h,protocol:f}=a;return["protocol","publicKey","host","projectId"].find(D=>a[D]?!1:(logger.error(`Invalid Sentry Dsn: ${D} missing`),!0))?!1:h.match(/^\d+$/)?isValidProtocol(f)?c&&isNaN(parseInt(c,10))?(logger.error(`Invalid Sentry Dsn: Invalid port ${c}`),!1):!0:(logger.error(`Invalid Sentry Dsn: Invalid protocol ${f}`),!1):(logger.error(`Invalid Sentry Dsn: Invalid projectId ${h}`),!1)}function makeDsn(a){const c=typeof a=="string"?dsnFromString(a):dsnFromComponents(a);if(!(!c||!validateDsn(c)))return c}class SentryError extends Error{constructor(c,h="warn"){super(c),this.message=c,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=h}}const STACKTRACE_FRAME_LIMIT=50,WEBPACK_ERROR_REGEXP=/\(error: (.*)\)/,STRIP_FRAME_REGEXP=/captureMessage|captureException/;function createStackParser(...a){const c=a.sort((h,f)=>h[0]-f[0]).map(h=>h[1]);return(h,f=0)=>{const B=[],v=h.split(`
`);for(let D=f;D<v.length;D++){const _=v[D];if(_.length>1024)continue;const m=WEBPACK_ERROR_REGEXP.test(_)?_.replace(WEBPACK_ERROR_REGEXP,"$1"):_;if(!m.match(/\S*Error: /)){for(const I of c){const Q=I(m);if(Q){B.push(Q);break}}if(B.length>=STACKTRACE_FRAME_LIMIT)break}}return stripSentryFramesAndReverse(B)}}function stackParserFromStackParserOptions(a){return Array.isArray(a)?createStackParser(...a):a}function stripSentryFramesAndReverse(a){if(!a.length)return[];const c=Array.from(a);return/sentryWrapped/.test(c[c.length-1].function||"")&&c.pop(),c.reverse(),STRIP_FRAME_REGEXP.test(c[c.length-1].function||"")&&(c.pop(),STRIP_FRAME_REGEXP.test(c[c.length-1].function||"")&&c.pop()),c.slice(0,STACKTRACE_FRAME_LIMIT).map(h=>({...h,filename:h.filename||c[c.length-1].filename,function:h.function||"?"}))}const defaultFunctionName="<anonymous>";function getFunctionName(a){try{return!a||typeof a!="function"?defaultFunctionName:a.name||defaultFunctionName}catch{return defaultFunctionName}}const WINDOW$5=getGlobalObject();function supportsFetch(){if(!("fetch"in WINDOW$5))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function isNativeFetch(a){return a&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(a.toString())}function supportsNativeFetch(){if(!supportsFetch())return!1;if(isNativeFetch(WINDOW$5.fetch))return!0;let a=!1;const c=WINDOW$5.document;if(c&&typeof c.createElement=="function")try{const h=c.createElement("iframe");h.hidden=!0,c.head.appendChild(h),h.contentWindow&&h.contentWindow.fetch&&(a=isNativeFetch(h.contentWindow.fetch)),c.head.removeChild(h)}catch(h){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",h)}return a}const WINDOW$4=getGlobalObject();function supportsHistory(){const a=WINDOW$4.chrome,c=a&&a.app&&a.app.runtime,h="history"in WINDOW$4&&!!WINDOW$4.history.pushState&&!!WINDOW$4.history.replaceState;return!c&&h}const WINDOW$3=getGlobalObject(),SENTRY_XHR_DATA_KEY="__sentry_xhr_v2__",handlers$2={},instrumented$1={};function instrument(a){if(!instrumented$1[a])switch(instrumented$1[a]=!0,a){case"console":instrumentConsole();break;case"dom":instrumentDOM();break;case"xhr":instrumentXHR();break;case"fetch":instrumentFetch();break;case"history":instrumentHistory();break;case"error":instrumentError();break;case"unhandledrejection":instrumentUnhandledRejection();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("unknown instrumentation type:",a);return}}function addInstrumentationHandler(a,c){handlers$2[a]=handlers$2[a]||[],handlers$2[a].push(c),instrument(a)}function triggerHandlers$1(a,c){if(!(!a||!handlers$2[a]))for(const h of handlers$2[a]||[])try{h(c)}catch(f){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error(`Error while triggering instrumentation handler.
Type: ${a}
Name: ${getFunctionName(h)}
Error:`,f)}}function instrumentConsole(){"console"in GLOBAL_OBJ&&CONSOLE_LEVELS.forEach(function(a){a in GLOBAL_OBJ.console&&fill(GLOBAL_OBJ.console,a,function(c){return originalConsoleMethods[a]=c,function(...h){triggerHandlers$1("console",{args:h,level:a});const f=originalConsoleMethods[a];f&&f.apply(GLOBAL_OBJ.console,h)}})})}function instrumentFetch(){supportsNativeFetch()&&fill(GLOBAL_OBJ,"fetch",function(a){return function(...c){const{method:h,url:f}=parseFetchArgs(c),B={args:c,fetchData:{method:h,url:f},startTimestamp:Date.now()};return triggerHandlers$1("fetch",{...B}),a.apply(GLOBAL_OBJ,c).then(v=>(triggerHandlers$1("fetch",{...B,endTimestamp:Date.now(),response:v}),v),v=>{throw triggerHandlers$1("fetch",{...B,endTimestamp:Date.now(),error:v}),v})}})}function hasProp(a,c){return!!a&&typeof a=="object"&&!!a[c]}function getUrlFromResource(a){return typeof a=="string"?a:a?hasProp(a,"url")?a.url:a.toString?a.toString():"":""}function parseFetchArgs(a){if(a.length===0)return{method:"GET",url:""};if(a.length===2){const[h,f]=a;return{url:getUrlFromResource(h),method:hasProp(f,"method")?String(f.method).toUpperCase():"GET"}}const c=a[0];return{url:getUrlFromResource(c),method:hasProp(c,"method")?String(c.method).toUpperCase():"GET"}}function instrumentXHR(){if(!WINDOW$3.XMLHttpRequest)return;const a=XMLHttpRequest.prototype;fill(a,"open",function(c){return function(...h){const f=Date.now(),B=h[1],v=this[SENTRY_XHR_DATA_KEY]={method:isString(h[0])?h[0].toUpperCase():h[0],url:h[1],request_headers:{}};isString(B)&&v.method==="POST"&&B.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const D=()=>{const _=this[SENTRY_XHR_DATA_KEY];if(_&&this.readyState===4){try{_.status_code=this.status}catch{}triggerHandlers$1("xhr",{args:h,endTimestamp:Date.now(),startTimestamp:f,xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?fill(this,"onreadystatechange",function(_){return function(...m){return D(),_.apply(this,m)}}):this.addEventListener("readystatechange",D),fill(this,"setRequestHeader",function(_){return function(...m){const[I,Q]=m,p=this[SENTRY_XHR_DATA_KEY];return p&&(p.request_headers[I.toLowerCase()]=Q),_.apply(this,m)}}),c.apply(this,h)}}),fill(a,"send",function(c){return function(...h){const f=this[SENTRY_XHR_DATA_KEY];return f&&h[0]!==void 0&&(f.body=h[0]),triggerHandlers$1("xhr",{args:h,startTimestamp:Date.now(),xhr:this}),c.apply(this,h)}})}let lastHref;function instrumentHistory(){if(!supportsHistory())return;const a=WINDOW$3.onpopstate;WINDOW$3.onpopstate=function(...h){const f=WINDOW$3.location.href,B=lastHref;if(lastHref=f,triggerHandlers$1("history",{from:B,to:f}),a)try{return a.apply(this,h)}catch{}};function c(h){return function(...f){const B=f.length>2?f[2]:void 0;if(B){const v=lastHref,D=String(B);lastHref=D,triggerHandlers$1("history",{from:v,to:D})}return h.apply(this,f)}}fill(WINDOW$3.history,"pushState",c),fill(WINDOW$3.history,"replaceState",c)}const DEBOUNCE_DURATION=1e3;let debounceTimerID,lastCapturedEventType,lastCapturedEventTargetId;function isSimilarToLastCapturedEvent(a){if(a.type!==lastCapturedEventType)return!1;try{if(!a.target||a.target._sentryId!==lastCapturedEventTargetId)return!1}catch{}return!0}function shouldSkipDOMEvent(a,c){return a!=="keypress"?!1:!c||!c.tagName?!0:!(c.tagName==="INPUT"||c.tagName==="TEXTAREA"||c.isContentEditable)}function getEventTarget$1(a){try{return a.target}catch{return null}}function makeDOMEventHandler(a,c=!1){return h=>{if(!h||h._sentryCaptured)return;const f=getEventTarget$1(h);if(shouldSkipDOMEvent(h.type,f))return;addNonEnumerableProperty(h,"_sentryCaptured",!0),f&&!f._sentryId&&addNonEnumerableProperty(f,"_sentryId",uuid4());const B=h.type==="keypress"?"input":h.type;isSimilarToLastCapturedEvent(h)||(a({event:h,name:B,global:c}),lastCapturedEventType=h.type,lastCapturedEventTargetId=f?f._sentryId:void 0),clearTimeout(debounceTimerID),debounceTimerID=WINDOW$3.setTimeout(()=>{lastCapturedEventTargetId=void 0,lastCapturedEventType=void 0},DEBOUNCE_DURATION)}}function instrumentDOM(){if(!WINDOW$3.document)return;const a=triggerHandlers$1.bind(null,"dom"),c=makeDOMEventHandler(a,!0);WINDOW$3.document.addEventListener("click",c,!1),WINDOW$3.document.addEventListener("keypress",c,!1),["EventTarget","Node"].forEach(h=>{const f=WINDOW$3[h]&&WINDOW$3[h].prototype;!f||!f.hasOwnProperty||!f.hasOwnProperty("addEventListener")||(fill(f,"addEventListener",function(B){return function(v,D,_){if(v==="click"||v=="keypress")try{const m=this,I=m.__sentry_instrumentation_handlers__=m.__sentry_instrumentation_handlers__||{},Q=I[v]=I[v]||{refCount:0};if(!Q.handler){const p=makeDOMEventHandler(a);Q.handler=p,B.call(this,v,p,_)}Q.refCount++}catch{}return B.call(this,v,D,_)}}),fill(f,"removeEventListener",function(B){return function(v,D,_){if(v==="click"||v=="keypress")try{const m=this,I=m.__sentry_instrumentation_handlers__||{},Q=I[v];Q&&(Q.refCount--,Q.refCount<=0&&(B.call(this,v,Q.handler,_),Q.handler=void 0,delete I[v]),Object.keys(I).length===0&&delete m.__sentry_instrumentation_handlers__)}catch{}return B.call(this,v,D,_)}}))})}let _oldOnErrorHandler=null;function instrumentError(){_oldOnErrorHandler=WINDOW$3.onerror,WINDOW$3.onerror=function(a,c,h,f,B){return triggerHandlers$1("error",{column:f,error:B,line:h,msg:a,url:c}),_oldOnErrorHandler&&!_oldOnErrorHandler.__SENTRY_LOADER__?_oldOnErrorHandler.apply(this,arguments):!1},WINDOW$3.onerror.__SENTRY_INSTRUMENTED__=!0}let _oldOnUnhandledRejectionHandler=null;function instrumentUnhandledRejection(){_oldOnUnhandledRejectionHandler=WINDOW$3.onunhandledrejection,WINDOW$3.onunhandledrejection=function(a){return triggerHandlers$1("unhandledrejection",a),_oldOnUnhandledRejectionHandler&&!_oldOnUnhandledRejectionHandler.__SENTRY_LOADER__?_oldOnUnhandledRejectionHandler.apply(this,arguments):!0},WINDOW$3.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function isBrowser(){return typeof window<"u"&&(!isNodeEnv()||isElectronNodeRenderer())}function isElectronNodeRenderer(){return GLOBAL_OBJ.process!==void 0&&GLOBAL_OBJ.process.type==="renderer"}function memoBuilder(){const a=typeof WeakSet=="function",c=a?new WeakSet:[];function h(B){if(a)return c.has(B)?!0:(c.add(B),!1);for(let v=0;v<c.length;v++)if(c[v]===B)return!0;return c.push(B),!1}function f(B){if(a)c.delete(B);else for(let v=0;v<c.length;v++)if(c[v]===B){c.splice(v,1);break}}return[h,f]}function normalize(a,c=100,h=1/0){try{return visit("",a,c,h)}catch(f){return{ERROR:`**non-serializable** (${f})`}}}function normalizeToSize(a,c=3,h=100*1024){const f=normalize(a,c);return jsonSize(f)>h?normalizeToSize(a,c-1,h):f}function visit(a,c,h=1/0,f=1/0,B=memoBuilder()){const[v,D]=B;if(c==null||["number","boolean","string"].includes(typeof c)&&!isNaN$1(c))return c;const _=stringifyValue(a,c);if(!_.startsWith("[object "))return _;if(c.__sentry_skip_normalization__)return c;const m=typeof c.__sentry_override_normalization_depth__=="number"?c.__sentry_override_normalization_depth__:h;if(m===0)return _.replace("object ","");if(v(c))return"[Circular ~]";const I=c;if(I&&typeof I.toJSON=="function")try{const y=I.toJSON();return visit("",y,m-1,f,B)}catch{}const Q=Array.isArray(c)?[]:{};let p=0;const u=convertToPlainObject(c);for(const y in u){if(!Object.prototype.hasOwnProperty.call(u,y))continue;if(p>=f){Q[y]="[MaxProperties ~]";break}const N=u[y];Q[y]=visit(y,N,m-1,f,B),p++}return D(c),Q}function stringifyValue(a,c){try{if(a==="domain"&&c&&typeof c=="object"&&c._events)return"[Domain]";if(a==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&c===global)return"[Global]";if(typeof window<"u"&&c===window)return"[Window]";if(typeof document<"u"&&c===document)return"[Document]";if(isVueViewModel(c))return"[VueViewModel]";if(isSyntheticEvent(c))return"[SyntheticEvent]";if(typeof c=="number"&&c!==c)return"[NaN]";if(typeof c=="function")return`[Function: ${getFunctionName(c)}]`;if(typeof c=="symbol")return`[${String(c)}]`;if(typeof c=="bigint")return`[BigInt: ${String(c)}]`;const h=getConstructorName(c);return/^HTML(\w*)Element$/.test(h)?`[HTMLElement: ${h}]`:`[object ${h}]`}catch(h){return`**non-serializable** (${h})`}}function getConstructorName(a){const c=Object.getPrototypeOf(a);return c?c.constructor.name:"null prototype"}function utf8Length(a){return~-encodeURI(a).split(/%..|./).length}function jsonSize(a){return utf8Length(JSON.stringify(a))}function makePromiseBuffer(a){const c=[];function h(){return a===void 0||c.length<a}function f(D){return c.splice(c.indexOf(D),1)[0]}function B(D){if(!h())return rejectedSyncPromise(new SentryError("Not adding Promise because buffer limit was reached."));const _=D();return c.indexOf(_)===-1&&c.push(_),_.then(()=>f(_)).then(null,()=>f(_).then(null,()=>{})),_}function v(D){return new SyncPromise((_,m)=>{let I=c.length;if(!I)return _(!0);const Q=setTimeout(()=>{D&&D>0&&_(!1)},D);c.forEach(p=>{resolvedSyncPromise(p).then(()=>{--I||(clearTimeout(Q),_(!0))},m)})})}return{$:c,add:B,drain:v}}function parseUrl(a){if(!a)return{};const c=a.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!c)return{};const h=c[6]||"",f=c[8]||"";return{host:c[4],path:c[5],protocol:c[2],search:h,hash:f,relative:c[5]+h+f}}const validSeverityLevels=["fatal","error","warning","log","info","debug"];function severityLevelFromString(a){return a==="warn"?"warning":validSeverityLevels.includes(a)?a:"log"}const BAGGAGE_HEADER_NAME="baggage",SENTRY_BAGGAGE_KEY_PREFIX="sentry-",SENTRY_BAGGAGE_KEY_PREFIX_REGEX=/^sentry-/,MAX_BAGGAGE_STRING_LENGTH=8192;function baggageHeaderToDynamicSamplingContext(a){if(!isString(a)&&!Array.isArray(a))return;let c={};if(Array.isArray(a))c=a.reduce((f,B)=>{const v=baggageHeaderToObject(B);return{...f,...v}},{});else{if(!a)return;c=baggageHeaderToObject(a)}const h=Object.entries(c).reduce((f,[B,v])=>{if(B.match(SENTRY_BAGGAGE_KEY_PREFIX_REGEX)){const D=B.slice(SENTRY_BAGGAGE_KEY_PREFIX.length);f[D]=v}return f},{});if(Object.keys(h).length>0)return h}function dynamicSamplingContextToSentryBaggageHeader(a){if(!a)return;const c=Object.entries(a).reduce((h,[f,B])=>(B&&(h[`${SENTRY_BAGGAGE_KEY_PREFIX}${f}`]=B),h),{});return objectToBaggageHeader(c)}function baggageHeaderToObject(a){return a.split(",").map(c=>c.split("=").map(h=>decodeURIComponent(h.trim()))).reduce((c,[h,f])=>(c[h]=f,c),{})}function objectToBaggageHeader(a){if(Object.keys(a).length!==0)return Object.entries(a).reduce((c,[h,f],B)=>{const v=`${encodeURIComponent(h)}=${encodeURIComponent(f)}`,D=B===0?v:`${c},${v}`;return D.length>MAX_BAGGAGE_STRING_LENGTH?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Not adding key: ${h} with val: ${f} to baggage header due to exceeding baggage size limits.`),c):D},"")}const TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function extractTraceparentData(a){if(!a)return;const c=a.match(TRACEPARENT_REGEXP);if(!c)return;let h;return c[3]==="1"?h=!0:c[3]==="0"&&(h=!1),{traceId:c[1],parentSampled:h,parentSpanId:c[2]}}function tracingContextFromHeaders(a,c){const h=extractTraceparentData(a),f=baggageHeaderToDynamicSamplingContext(c),{traceId:B,parentSpanId:v,parentSampled:D}=h||{},_={traceId:B||uuid4(),spanId:uuid4().substring(16),sampled:D};return v&&(_.parentSpanId=v),f&&(_.dsc=f),{traceparentData:h,dynamicSamplingContext:f,propagationContext:_}}function generateSentryTraceHeader(a=uuid4(),c=uuid4().substring(16),h){let f="";return h!==void 0&&(f=h?"-1":"-0"),`${a}-${c}${f}`}function createEnvelope(a,c=[]){return[a,c]}function addItemToEnvelope(a,c){const[h,f]=a;return[h,[...f,c]]}function forEachEnvelopeItem(a,c){const h=a[1];for(const f of h){const B=f[0].type;if(c(f,B))return!0}return!1}function encodeUTF8(a,c){return(c||new TextEncoder).encode(a)}function serializeEnvelope(a,c){const[h,f]=a;let B=JSON.stringify(h);function v(D){typeof B=="string"?B=typeof D=="string"?B+D:[encodeUTF8(B,c),D]:B.push(typeof D=="string"?encodeUTF8(D,c):D)}for(const D of f){const[_,m]=D;if(v(`
${JSON.stringify(_)}
`),typeof m=="string"||m instanceof Uint8Array)v(m);else{let I;try{I=JSON.stringify(m)}catch{I=JSON.stringify(normalize(m))}v(I)}}return typeof B=="string"?B:concatBuffers(B)}function concatBuffers(a){const c=a.reduce((B,v)=>B+v.length,0),h=new Uint8Array(c);let f=0;for(const B of a)h.set(B,f),f+=B.length;return h}function createAttachmentEnvelopeItem(a,c){const h=typeof a.data=="string"?encodeUTF8(a.data,c):a.data;return[dropUndefinedKeys({type:"attachment",length:h.length,filename:a.filename,content_type:a.contentType,attachment_type:a.attachmentType}),h]}const ITEM_TYPE_TO_DATA_CATEGORY_MAP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",statsd:"unknown"};function envelopeItemTypeToDataCategory(a){return ITEM_TYPE_TO_DATA_CATEGORY_MAP[a]}function getSdkMetadataForEnvelopeHeader(a){if(!a||!a.sdk)return;const{name:c,version:h}=a.sdk;return{name:c,version:h}}function createEventEnvelopeHeaders(a,c,h,f){const B=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!h&&f&&{dsn:dsnToString(f)},...B&&{trace:dropUndefinedKeys({...B})}}}function createClientReportEnvelope(a,c,h){const f=[{type:"client_report"},{timestamp:h||dateTimestampInSeconds(),discarded_events:a}];return createEnvelope(c?{dsn:c}:{},[f])}const DEFAULT_RETRY_AFTER=60*1e3;function parseRetryAfterHeader(a,c=Date.now()){const h=parseInt(`${a}`,10);if(!isNaN(h))return h*1e3;const f=Date.parse(`${a}`);return isNaN(f)?DEFAULT_RETRY_AFTER:f-c}function disabledUntil(a,c){return a[c]||a.all||0}function isRateLimited(a,c,h=Date.now()){return disabledUntil(a,c)>h}function updateRateLimits(a,{statusCode:c,headers:h},f=Date.now()){const B={...a},v=h&&h["x-sentry-rate-limits"],D=h&&h["retry-after"];if(v)for(const _ of v.trim().split(",")){const[m,I]=_.split(":",2),Q=parseInt(m,10),p=(isNaN(Q)?60:Q)*1e3;if(!I)B.all=f+p;else for(const u of I.split(";"))B[u]=f+p}else D?B.all=f+parseRetryAfterHeader(D,f):c===429&&(B.all=f+60*1e3);return B}function getActiveTransaction(a){return(a||getCurrentHub()).getScope().getTransaction()}let errorsInstrumented=!1;function registerErrorInstrumentation(){errorsInstrumented||(errorsInstrumented=!0,addInstrumentationHandler("error",errorCallback),addInstrumentationHandler("unhandledrejection",errorCallback))}function errorCallback(){const a=getActiveTransaction();if(a){const c="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] Transaction: ${c} -> Global error occured`),a.setStatus(c)}}errorCallback.tag="sentry_tracingErrorCallback";class SpanRecorder{constructor(c=1e3){this._maxlen=c,this.spans=[]}add(c){this.spans.length>this._maxlen?c.spanRecorder=void 0:this.spans.push(c)}}class Span{constructor(c={}){this.traceId=c.traceId||uuid4(),this.spanId=c.spanId||uuid4().substring(16),this.startTimestamp=c.startTimestamp||timestampInSeconds(),this.tags=c.tags||{},this.data=c.data||{},this.instrumenter=c.instrumenter||"sentry",this.origin=c.origin||"manual",c.parentSpanId&&(this.parentSpanId=c.parentSpanId),"sampled"in c&&(this.sampled=c.sampled),c.op&&(this.op=c.op),c.description&&(this.description=c.description),c.name&&(this.description=c.name),c.status&&(this.status=c.status),c.endTimestamp&&(this.endTimestamp=c.endTimestamp)}get name(){return this.description||""}set name(c){this.setName(c)}startChild(c){const h=new Span({...c,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(h.spanRecorder=this.spanRecorder,h.spanRecorder&&h.spanRecorder.add(h),h.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.transaction){const f=c&&c.op||"< unknown op >",B=h.transaction.name||"< unknown name >",v=h.transaction.spanId,D=`[Tracing] Starting '${f}' span on transaction '${B}' (${v}).`;h.transaction.metadata.spanMetadata[h.spanId]={logMessage:D},logger.log(D)}return h}setTag(c,h){return this.tags={...this.tags,[c]:h},this}setData(c,h){return this.data={...this.data,[c]:h},this}setStatus(c){return this.status=c,this}setHttpStatus(c){this.setTag("http.status_code",String(c)),this.setData("http.response.status_code",c);const h=spanStatusfromHttpCode(c);return h!=="unknown_error"&&this.setStatus(h),this}setName(c){this.description=c}isSuccess(){return this.status==="ok"}finish(c){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:h}=this.transaction.metadata.spanMetadata[this.spanId];h&&logger.log(h.replace("Starting","Finishing"))}this.endTimestamp=typeof c=="number"?c:timestampInSeconds()}toTraceparent(){return generateSentryTraceHeader(this.traceId,this.spanId,this.sampled)}toContext(){return dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(c){return this.data=c.data||{},this.description=c.description,this.endTimestamp=c.endTimestamp,this.op=c.op,this.parentSpanId=c.parentSpanId,this.sampled=c.sampled,this.spanId=c.spanId||this.spanId,this.startTimestamp=c.startTimestamp||this.startTimestamp,this.status=c.status,this.tags=c.tags||{},this.traceId=c.traceId||this.traceId,this}getTraceContext(){return dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}function spanStatusfromHttpCode(a){if(a<400&&a>=100)return"ok";if(a>=400&&a<500)switch(a){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(a>=500&&a<600)switch(a){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function getDynamicSamplingContextFromClient(a,c,h){const f=c.getOptions(),{publicKey:B}=c.getDsn()||{},{segment:v}=h&&h.getUser()||{},D=dropUndefinedKeys({environment:f.environment||DEFAULT_ENVIRONMENT,release:f.release,user_segment:v,public_key:B,trace_id:a});return c.emit&&c.emit("createDsc",D),D}class Transaction extends Span{constructor(c,h){super(c),delete this.description,this._measurements={},this._contexts={},this._hub=h||getCurrentHub(),this._name=c.name||"",this.metadata={source:"custom",...c.metadata,spanMetadata:{}},this._trimEnd=c.trimEnd,this.transaction=this;const f=this.metadata.dynamicSamplingContext;f&&(this._frozenDynamicSamplingContext={...f})}get name(){return this._name}set name(c){this.setName(c)}setName(c,h="custom"){this._name=c,this.metadata.source=h}initSpanRecorder(c=1e3){this.spanRecorder||(this.spanRecorder=new SpanRecorder(c)),this.spanRecorder.add(this)}setContext(c,h){h===null?delete this._contexts[c]:this._contexts[c]=h}setMeasurement(c,h,f=""){this._measurements[c]={value:h,unit:f}}setMetadata(c){this.metadata={...this.metadata,...c}}finish(c){const h=this._finishTransaction(c);if(h)return this._hub.captureEvent(h)}toContext(){const c=super.toContext();return dropUndefinedKeys({...c,name:this.name,trimEnd:this._trimEnd})}updateWithContext(c){return super.updateWithContext(c),this.name=c.name||"",this._trimEnd=c.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const c=this._hub||getCurrentHub(),h=c.getClient();if(!h)return{};const f=c.getScope(),B=getDynamicSamplingContextFromClient(this.traceId,h,f),v=this.metadata.sampleRate;v!==void 0&&(B.sample_rate=`${v}`);const D=this.metadata.source;return D&&D!=="url"&&(B.transaction=this.name),this.sampled!==void 0&&(B.sampled=String(this.sampled)),B}setHub(c){this._hub=c}_finishTransaction(c){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(c);const h=this._hub.getClient();if(h&&h.emit&&h.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),h&&h.recordDroppedEvent("sample_rate","transaction");return}const f=this.spanRecorder?this.spanRecorder.spans.filter(_=>_!==this&&_.endTimestamp):[];this._trimEnd&&f.length>0&&(this.endTimestamp=f.reduce((_,m)=>_.endTimestamp&&m.endTimestamp?_.endTimestamp>m.endTimestamp?_:m:_).endTimestamp);const B=this.metadata,v={contexts:{...this._contexts,trace:this.getTraceContext()},spans:f,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...B,dynamicSamplingContext:this.getDynamicSamplingContext()},...B.source&&{transaction_info:{source:B.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),v.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),v}}const TRACING_DEFAULTS={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},FINISH_REASON_TAG="finishReason",IDLE_TRANSACTION_FINISH_REASONS=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class IdleTransactionSpanRecorder extends SpanRecorder{constructor(c,h,f,B){super(B),this._pushActivity=c,this._popActivity=h,this.transactionSpanId=f}add(c){c.spanId!==this.transactionSpanId&&(c.finish=h=>{c.endTimestamp=typeof h=="number"?h:timestampInSeconds(),this._popActivity(c.spanId)},c.endTimestamp===void 0&&this._pushActivity(c.spanId)),super.add(c)}}class IdleTransaction extends Transaction{constructor(c,h,f=TRACING_DEFAULTS.idleTimeout,B=TRACING_DEFAULTS.finalTimeout,v=TRACING_DEFAULTS.heartbeatInterval,D=!1){super(c,h),this._idleHub=h,this._idleTimeout=f,this._finalTimeout=B,this._heartbeatInterval=v,this._onScope=D,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[4],D&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),h.configureScope(_=>_.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[3],this.finish())},this._finalTimeout)}finish(c=timestampInSeconds()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(FINISH_REASON_TAG,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Tracing] finishing IdleTransaction",new Date(c*1e3).toISOString(),this.op);for(const h of this._beforeFinishCallbacks)h(this,c);this.spanRecorder.spans=this.spanRecorder.spans.filter(h=>{if(h.spanId===this.spanId)return!0;h.endTimestamp||(h.endTimestamp=c,h.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(h,void 0,2)));const f=h.startTimestamp<c,B=(this._finalTimeout+this._idleTimeout)/1e3,v=h.endTimestamp-this.startTimestamp<B;if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const D=JSON.stringify(h,void 0,2);f?v||logger.log("[Tracing] discarding Span since it finished after Transaction final timeout",D):logger.log("[Tracing] discarding Span since it happened after Transaction was finished",D)}return f&&v}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Tracing] No active IdleTransaction");if(this._onScope){const h=this._idleHub.getScope();h.getTransaction()===this&&h.setSpan(void 0)}return super.finish(c)}registerBeforeFinishCallback(c){this._beforeFinishCallbacks.push(c)}initSpanRecorder(c){if(!this.spanRecorder){const h=B=>{this._finished||this._pushActivity(B)},f=B=>{this._finished||this._popActivity(B)};this.spanRecorder=new IdleTransactionSpanRecorder(h,f,this.spanId,c),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(c,{restartOnChildSpanChange:h}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=h===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[5],this.finish(c)))}setFinishReason(c){this._finishReason=c}_restartIdleTimeout(c){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[1],this.finish(c))},this._idleTimeout)}_pushActivity(c){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] pushActivity: ${c}`),this.activities[c]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(c){if(this.activities[c]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] popActivity ${c}`),delete this.activities[c],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const h=timestampInSeconds();this._idleTimeoutCanceledPermanently?(this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[5],this.finish(h)):this._restartIdleTimeout(h+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const c=Object.keys(this.activities).join("");c===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=c,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=IDLE_TRANSACTION_FINISH_REASONS[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function hasTracingEnabled(a){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const c=getCurrentHub().getClient(),h=a||c&&c.getOptions();return!!h&&(h.enableTracing||"tracesSampleRate"in h||"tracesSampler"in h)}function sampleTransaction(a,c,h){if(!hasTracingEnabled(c))return a.sampled=!1,a;if(a.sampled!==void 0)return a.setMetadata({sampleRate:Number(a.sampled)}),a;let f;return typeof c.tracesSampler=="function"?(f=c.tracesSampler(h),a.setMetadata({sampleRate:Number(f)})):h.parentSampled!==void 0?f=h.parentSampled:typeof c.tracesSampleRate<"u"?(f=c.tracesSampleRate,a.setMetadata({sampleRate:Number(f)})):(f=1,a.setMetadata({sampleRate:f})),isValidSampleRate(f)?f?(a.sampled=Math.random()<f,a.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] starting ${a.op} transaction - ${a.name}`),a):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(f)})`),a)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] Discarding transaction because ${typeof c.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),a.sampled=!1,a):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),a.sampled=!1,a)}function isValidSampleRate(a){return isNaN$1(a)||!(typeof a=="number"||typeof a=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`),!1):a<0||a>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${a}.`),!1):!0}function traceHeaders(){const c=this.getScope().getSpan();return c?{"sentry-trace":c.toTraceparent()}:{}}function _startTransaction(a,c){const h=this.getClient(),f=h&&h.getOptions()||{},B=f.instrumenter||"sentry",v=a.instrumenter||"sentry";B!==v&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error(`A transaction was started with instrumenter=\`${v}\`, but the SDK is configured with the \`${B}\` instrumenter.
The transaction will not be sampled. Please use the ${B} instrumentation to start transactions.`),a.sampled=!1);let D=new Transaction(a,this);return D=sampleTransaction(D,f,{parentSampled:a.parentSampled,transactionContext:a,...c}),D.sampled&&D.initSpanRecorder(f._experiments&&f._experiments.maxSpans),h&&h.emit&&h.emit("startTransaction",D),D}function startIdleTransaction(a,c,h,f,B,v,D){const _=a.getClient(),m=_&&_.getOptions()||{};let I=new IdleTransaction(c,a,h,f,D,B);return I=sampleTransaction(I,m,{parentSampled:c.parentSampled,transactionContext:c,...v}),I.sampled&&I.initSpanRecorder(m._experiments&&m._experiments.maxSpans),_&&_.emit&&_.emit("startTransaction",I),I}function addTracingExtensions(){const a=getMainCarrier();a.__SENTRY__&&(a.__SENTRY__.extensions=a.__SENTRY__.extensions||{},a.__SENTRY__.extensions.startTransaction||(a.__SENTRY__.extensions.startTransaction=_startTransaction),a.__SENTRY__.extensions.traceHeaders||(a.__SENTRY__.extensions.traceHeaders=traceHeaders),registerErrorInstrumentation())}const SENTRY_API_VERSION="7";function getBaseApiEndpoint(a){const c=a.protocol?`${a.protocol}:`:"",h=a.port?`:${a.port}`:"";return`${c}//${a.host}${h}${a.path?`/${a.path}`:""}/api/`}function _getIngestEndpoint(a){return`${getBaseApiEndpoint(a)}${a.projectId}/envelope/`}function _encodedAuth(a,c){return urlEncode({sentry_key:a.publicKey,sentry_version:SENTRY_API_VERSION,...c&&{sentry_client:`${c.name}/${c.version}`}})}function getEnvelopeEndpointWithUrlEncodedAuth(a,c={}){const h=typeof c=="string"?c:c.tunnel,f=typeof c=="string"||!c._metadata?void 0:c._metadata.sdk;return h||`${_getIngestEndpoint(a)}?${_encodedAuth(a,f)}`}function enhanceEventWithSdkInfo(a,c){return c&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||c.name,a.sdk.version=a.sdk.version||c.version,a.sdk.integrations=[...a.sdk.integrations||[],...c.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...c.packages||[]]),a}function createSessionEnvelope(a,c,h,f){const B=getSdkMetadataForEnvelopeHeader(h),v={sent_at:new Date().toISOString(),...B&&{sdk:B},...!!f&&c&&{dsn:dsnToString(c)}},D="aggregates"in a?[{type:"sessions"},a]:[{type:"session"},a.toJSON()];return createEnvelope(v,[D])}function createEventEnvelope(a,c,h,f){const B=getSdkMetadataForEnvelopeHeader(h),v=a.type&&a.type!=="replay_event"?a.type:"event";enhanceEventWithSdkInfo(a,h&&h.sdk);const D=createEventEnvelopeHeaders(a,B,f,c);return delete a.sdkProcessingMetadata,createEnvelope(D,[[{type:v},a]])}const installedIntegrations=[];function filterDuplicates(a){const c={};return a.forEach(h=>{const{name:f}=h,B=c[f];B&&!B.isDefaultInstance&&h.isDefaultInstance||(c[f]=h)}),Object.keys(c).map(h=>c[h])}function getIntegrationsToSetup(a){const c=a.defaultIntegrations||[],h=a.integrations;c.forEach(D=>{D.isDefaultInstance=!0});let f;Array.isArray(h)?f=[...c,...h]:typeof h=="function"?f=arrayify(h(c)):f=c;const B=filterDuplicates(f),v=findIndex(B,D=>D.name==="Debug");if(v!==-1){const[D]=B.splice(v,1);B.push(D)}return B}function setupIntegrations(a,c){const h={};return c.forEach(f=>{f&&setupIntegration(a,f,h)}),h}function setupIntegration(a,c,h){if(h[c.name]=c,installedIntegrations.indexOf(c.name)===-1&&(c.setupOnce(addGlobalEventProcessor,getCurrentHub),installedIntegrations.push(c.name)),a.on&&typeof c.preprocessEvent=="function"){const f=c.preprocessEvent.bind(c);a.on("preprocessEvent",(B,v)=>f(B,v,a))}if(a.addEventProcessor&&typeof c.processEvent=="function"){const f=c.processEvent.bind(c),B=Object.assign((v,D)=>f(v,D,a),{id:c.name});a.addEventProcessor(B)}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`Integration installed: ${c.name}`)}function findIndex(a,c){for(let h=0;h<a.length;h++)if(c(a[h])===!0)return h;return-1}function prepareEvent(a,c,h,f,B){const{normalizeDepth:v=3,normalizeMaxBreadth:D=1e3}=a,_={...c,event_id:c.event_id||h.event_id||uuid4(),timestamp:c.timestamp||dateTimestampInSeconds()},m=h.integrations||a.integrations.map(u=>u.name);applyClientOptions(_,a),applyIntegrationsMetadata(_,m),c.type===void 0&&applyDebugIds(_,a.stackParser);let I=f;h.captureContext&&(I=Scope.clone(I).update(h.captureContext));let Q=resolvedSyncPromise(_);const p=B&&B.getEventProcessors?B.getEventProcessors():[];if(I){if(I.getAttachments){const u=[...h.attachments||[],...I.getAttachments()];u.length&&(h.attachments=u)}Q=I.applyToEvent(_,h,p)}else Q=notifyEventProcessors([...p,...getGlobalEventProcessors()],_,h);return Q.then(u=>(u&&applyDebugMeta(u),typeof v=="number"&&v>0?normalizeEvent(u,v,D):u))}function applyClientOptions(a,c){const{environment:h,release:f,dist:B,maxValueLength:v=250}=c;"environment"in a||(a.environment="environment"in c?h:DEFAULT_ENVIRONMENT),a.release===void 0&&f!==void 0&&(a.release=f),a.dist===void 0&&B!==void 0&&(a.dist=B),a.message&&(a.message=truncate(a.message,v));const D=a.exception&&a.exception.values&&a.exception.values[0];D&&D.value&&(D.value=truncate(D.value,v));const _=a.request;_&&_.url&&(_.url=truncate(_.url,v))}const debugIdStackParserCache=new WeakMap;function applyDebugIds(a,c){const h=GLOBAL_OBJ._sentryDebugIds;if(!h)return;let f;const B=debugIdStackParserCache.get(c);B?f=B:(f=new Map,debugIdStackParserCache.set(c,f));const v=Object.keys(h).reduce((D,_)=>{let m;const I=f.get(_);I?m=I:(m=c(_),f.set(_,m));for(let Q=m.length-1;Q>=0;Q--){const p=m[Q];if(p.filename){D[p.filename]=h[_];break}}return D},{});try{a.exception.values.forEach(D=>{D.stacktrace.frames.forEach(_=>{_.filename&&(_.debug_id=v[_.filename])})})}catch{}}function applyDebugMeta(a){const c={};try{a.exception.values.forEach(f=>{f.stacktrace.frames.forEach(B=>{B.debug_id&&(B.abs_path?c[B.abs_path]=B.debug_id:B.filename&&(c[B.filename]=B.debug_id),delete B.debug_id)})})}catch{}if(Object.keys(c).length===0)return;a.debug_meta=a.debug_meta||{},a.debug_meta.images=a.debug_meta.images||[];const h=a.debug_meta.images;Object.keys(c).forEach(f=>{h.push({type:"sourcemap",code_file:f,debug_id:c[f]})})}function applyIntegrationsMetadata(a,c){c.length>0&&(a.sdk=a.sdk||{},a.sdk.integrations=[...a.sdk.integrations||[],...c])}function normalizeEvent(a,c,h){if(!a)return null;const f={...a,...a.breadcrumbs&&{breadcrumbs:a.breadcrumbs.map(B=>({...B,...B.data&&{data:normalize(B.data,c,h)}}))},...a.user&&{user:normalize(a.user,c,h)},...a.contexts&&{contexts:normalize(a.contexts,c,h)},...a.extra&&{extra:normalize(a.extra,c,h)}};return a.contexts&&a.contexts.trace&&f.contexts&&(f.contexts.trace=a.contexts.trace,a.contexts.trace.data&&(f.contexts.trace.data=normalize(a.contexts.trace.data,c,h))),a.spans&&(f.spans=a.spans.map(B=>(B.data&&(B.data=normalize(B.data,c,h)),B))),f}const ALREADY_SEEN_ERROR="Not capturing exception because it's already been captured.";class BaseClient{constructor(c){if(this._options=c,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],c.dsn?this._dsn=makeDsn(c.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("No DSN provided, client will not send events."),this._dsn){const h=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,c);this._transport=c.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...c.transportOptions,url:h})}}captureException(c,h,f){if(checkOrSetAlreadyCaught(c)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(ALREADY_SEEN_ERROR);return}let B=h&&h.event_id;return this._process(this.eventFromException(c,h).then(v=>this._captureEvent(v,h,f)).then(v=>{B=v})),B}captureMessage(c,h,f,B){let v=f&&f.event_id;const D=isPrimitive(c)?this.eventFromMessage(String(c),h,f):this.eventFromException(c,f);return this._process(D.then(_=>this._captureEvent(_,f,B)).then(_=>{v=_})),v}captureEvent(c,h,f){if(h&&h.originalException&&checkOrSetAlreadyCaught(h.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(ALREADY_SEEN_ERROR);return}let B=h&&h.event_id;return this._process(this._captureEvent(c,h,f).then(v=>{B=v})),B}captureSession(c){typeof c.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(c),updateSession(c,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(c){const h=this._transport;return h?this._isClientDoneProcessing(c).then(f=>h.flush(c).then(B=>f&&B)):resolvedSyncPromise(!0)}close(c){return this.flush(c).then(h=>(this.getOptions().enabled=!1,h))}getEventProcessors(){return this._eventProcessors}addEventProcessor(c){this._eventProcessors.push(c)}setupIntegrations(c){(c&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=setupIntegrations(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(c){return this._integrations[c]}getIntegration(c){try{return this._integrations[c.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Cannot retrieve integration ${c.id} from the current Client`),null}}addIntegration(c){setupIntegration(this,c,this._integrations)}sendEvent(c,h={}){this.emit("beforeSendEvent",c,h);let f=createEventEnvelope(c,this._dsn,this._options._metadata,this._options.tunnel);for(const v of h.attachments||[])f=addItemToEnvelope(f,createAttachmentEnvelopeItem(v,this._options.transportOptions&&this._options.transportOptions.textEncoder));const B=this._sendEnvelope(f);B&&B.then(v=>this.emit("afterSendEvent",c,v),null)}sendSession(c){const h=createSessionEnvelope(c,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(h)}recordDroppedEvent(c,h,f){if(this._options.sendClientReports){const B=`${c}:${h}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`Adding outcome: "${B}"`),this._outcomes[B]=this._outcomes[B]+1||1}}on(c,h){this._hooks[c]||(this._hooks[c]=[]),this._hooks[c].push(h)}emit(c,...h){this._hooks[c]&&this._hooks[c].forEach(f=>f(...h))}_updateSessionFromEvent(c,h){let f=!1,B=!1;const v=h.exception&&h.exception.values;if(v){B=!0;for(const m of v){const I=m.mechanism;if(I&&I.handled===!1){f=!0;break}}}const D=c.status==="ok";(D&&c.errors===0||D&&f)&&(updateSession(c,{...f&&{status:"crashed"},errors:c.errors||Number(B||f)}),this.captureSession(c))}_isClientDoneProcessing(c){return new SyncPromise(h=>{let f=0;const B=1,v=setInterval(()=>{this._numProcessing==0?(clearInterval(v),h(!0)):(f+=B,c&&f>=c&&(clearInterval(v),h(!1)))},B)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(c,h,f){const B=this.getOptions(),v=Object.keys(this._integrations);return!h.integrations&&v.length>0&&(h.integrations=v),this.emit("preprocessEvent",c,h),prepareEvent(B,c,h,f,this).then(D=>{if(D===null)return D;const{propagationContext:_}=D.sdkProcessingMetadata||{};if(!(D.contexts&&D.contexts.trace)&&_){const{traceId:I,spanId:Q,parentSpanId:p,dsc:u}=_;D.contexts={trace:{trace_id:I,span_id:Q,parent_span_id:p},...D.contexts};const y=u||getDynamicSamplingContextFromClient(I,this,f);D.sdkProcessingMetadata={dynamicSamplingContext:y,...D.sdkProcessingMetadata}}return D})}_captureEvent(c,h={},f){return this._processEvent(c,h,f).then(B=>B.event_id,B=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const v=B;v.logLevel==="log"?logger.log(v.message):logger.warn(v)}})}_processEvent(c,h,f){const B=this.getOptions(),{sampleRate:v}=B,D=isTransactionEvent$1(c),_=isErrorEvent$1(c),m=c.type||"error",I=`before send for type \`${m}\``;if(_&&typeof v=="number"&&Math.random()>v)return this.recordDroppedEvent("sample_rate","error",c),rejectedSyncPromise(new SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${v})`,"log"));const Q=m==="replay_event"?"replay":m;return this._prepareEvent(c,h,f).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",Q,c),new SentryError("An event processor returned `null`, will not send event.","log");if(h.data&&h.data.__sentry__===!0)return p;const y=processBeforeSend(B,p,h);return _validateBeforeSendResult(y,I)}).then(p=>{if(p===null)throw this.recordDroppedEvent("before_send",Q,c),new SentryError(`${I} returned \`null\`, will not send event.`,"log");const u=f&&f.getSession();!D&&u&&this._updateSessionFromEvent(u,p);const y=p.transaction_info;if(D&&y&&p.transaction!==c.transaction){const N="custom";p.transaction_info={...y,source:N}}return this.sendEvent(p,h),p}).then(null,p=>{throw p instanceof SentryError?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(c){this._numProcessing++,c.then(h=>(this._numProcessing--,h),h=>(this._numProcessing--,h))}_sendEnvelope(c){if(this.emit("beforeEnvelope",c),this._isEnabled()&&this._transport)return this._transport.send(c).then(null,h=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("Error while sending event:",h)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("Transport disabled")}_clearOutcomes(){const c=this._outcomes;return this._outcomes={},Object.keys(c).map(h=>{const[f,B]=h.split(":");return{reason:f,category:B,quantity:c[h]}})}}function _validateBeforeSendResult(a,c){const h=`${c} must return \`null\` or a valid event.`;if(isThenable(a))return a.then(f=>{if(!isPlainObject(f)&&f!==null)throw new SentryError(h);return f},f=>{throw new SentryError(`${c} rejected with ${f}`)});if(!isPlainObject(a)&&a!==null)throw new SentryError(h);return a}function processBeforeSend(a,c,h){const{beforeSend:f,beforeSendTransaction:B}=a;return isErrorEvent$1(c)&&f?f(c,h):isTransactionEvent$1(c)&&B?B(c,h):c}function isErrorEvent$1(a){return a.type===void 0}function isTransactionEvent$1(a){return a.type==="transaction"}function initAndBind(a,c){c.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const h=getCurrentHub();h.getScope().update(c.initialScope);const B=new a(c);h.bindClient(B)}const DEFAULT_TRANSPORT_BUFFER_SIZE=30;function createTransport(a,c,h=makePromiseBuffer(a.bufferSize||DEFAULT_TRANSPORT_BUFFER_SIZE)){let f={};const B=D=>h.drain(D);function v(D){const _=[];if(forEachEnvelopeItem(D,(p,u)=>{const y=envelopeItemTypeToDataCategory(u);if(isRateLimited(f,y)){const N=getEventForEnvelopeItem(p,u);a.recordDroppedEvent("ratelimit_backoff",y,N)}else _.push(p)}),_.length===0)return resolvedSyncPromise();const m=createEnvelope(D[0],_),I=p=>{forEachEnvelopeItem(m,(u,y)=>{const N=getEventForEnvelopeItem(u,y);a.recordDroppedEvent(p,envelopeItemTypeToDataCategory(y),N)})},Q=()=>c({body:serializeEnvelope(m,a.textEncoder)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),f=updateRateLimits(f,p),p),p=>{throw I("network_error"),p});return h.add(Q).then(p=>p,p=>{if(p instanceof SentryError)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("Skipped sending event because buffer is full."),I("queue_overflow"),resolvedSyncPromise();throw p})}return v.__sentry__baseTransport__=!0,{send:v,flush:B}}function getEventForEnvelopeItem(a,c){if(!(c!=="event"&&c!=="transaction"))return Array.isArray(a)?a[1]:void 0}const SDK_VERSION="7.77.0";let originalFunctionToString;class FunctionToString{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=FunctionToString.id}setupOnce(){originalFunctionToString=Function.prototype.toString;try{Function.prototype.toString=function(...c){const h=getOriginalFunction(this)||this;return originalFunctionToString.apply(h,c)}}catch{}}}FunctionToString.__initStatic();const DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],DEFAULT_IGNORE_TRANSACTIONS=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class InboundFilters{static __initStatic(){this.id="InboundFilters"}constructor(c={}){this.name=InboundFilters.id,this._options=c}setupOnce(c,h){}processEvent(c,h,f){const B=f.getOptions(),v=_mergeOptions(this._options,B);return _shouldDropEvent$1(c,v)?null:c}}InboundFilters.__initStatic();function _mergeOptions(a={},c={}){return{allowUrls:[...a.allowUrls||[],...c.allowUrls||[]],denyUrls:[...a.denyUrls||[],...c.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...c.ignoreErrors||[],...a.disableErrorDefaults?[]:DEFAULT_IGNORE_ERRORS],ignoreTransactions:[...a.ignoreTransactions||[],...c.ignoreTransactions||[],...a.disableTransactionDefaults?[]:DEFAULT_IGNORE_TRANSACTIONS],ignoreInternal:a.ignoreInternal!==void 0?a.ignoreInternal:!0}}function _shouldDropEvent$1(a,c){return c.ignoreInternal&&_isSentryError(a)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${getEventDescription(a)}`),!0):_isIgnoredError(a,c.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${getEventDescription(a)}`),!0):_isIgnoredTransaction(a,c.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${getEventDescription(a)}`),!0):_isDeniedUrl(a,c.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${getEventDescription(a)}.
Url: ${_getEventFilterUrl(a)}`),!0):_isAllowedUrl(a,c.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${getEventDescription(a)}.
Url: ${_getEventFilterUrl(a)}`),!0)}function _isIgnoredError(a,c){return a.type||!c||!c.length?!1:_getPossibleEventMessages(a).some(h=>stringMatchesSomePattern(h,c))}function _isIgnoredTransaction(a,c){if(a.type!=="transaction"||!c||!c.length)return!1;const h=a.transaction;return h?stringMatchesSomePattern(h,c):!1}function _isDeniedUrl(a,c){if(!c||!c.length)return!1;const h=_getEventFilterUrl(a);return h?stringMatchesSomePattern(h,c):!1}function _isAllowedUrl(a,c){if(!c||!c.length)return!0;const h=_getEventFilterUrl(a);return h?stringMatchesSomePattern(h,c):!0}function _getPossibleEventMessages(a){const c=[];a.message&&c.push(a.message);let h;try{h=a.exception.values[a.exception.values.length-1]}catch{}return h&&h.value&&(c.push(h.value),h.type&&c.push(`${h.type}: ${h.value}`)),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&c.length===0&&logger.error(`Could not extract message for event ${getEventDescription(a)}`),c}function _isSentryError(a){try{return a.exception.values[0].type==="SentryError"}catch{}return!1}function _getLastValidUrl(a=[]){for(let c=a.length-1;c>=0;c--){const h=a[c];if(h&&h.filename!=="<anonymous>"&&h.filename!=="[native code]")return h.filename||null}return null}function _getEventFilterUrl(a){try{let c;try{c=a.exception.values[0].stacktrace.frames}catch{}return c?_getLastValidUrl(c):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error(`Cannot extract url for event ${getEventDescription(a)}`),null}}function isSentryRequestUrl(a,c){const h=c.getClient(),f=h&&h.getDsn(),B=h&&h.getOptions().tunnel;return checkDsn(a,f)||checkTunnel(a,B)}function checkTunnel(a,c){return c?removeTrailingSlash(a)===removeTrailingSlash(c):!1}function checkDsn(a,c){return c?a.includes(c.host):!1}function removeTrailingSlash(a){return a[a.length-1]==="/"?a.slice(0,-1):a}const WINDOW$2=GLOBAL_OBJ;let ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError++,setTimeout(()=>{ignoreOnError--})}function wrap(a,c={},h){if(typeof a!="function")return a;try{const B=a.__sentry_wrapped__;if(B)return B;if(getOriginalFunction(a))return a}catch{return a}const f=function(){const B=Array.prototype.slice.call(arguments);try{h&&typeof h=="function"&&h.apply(this,arguments);const v=B.map(D=>wrap(D,c));return a.apply(this,v)}catch(v){throw ignoreNextOnError(),withScope(D=>{D.addEventProcessor(_=>(c.mechanism&&(addExceptionTypeValue(_,void 0,void 0),addExceptionMechanism(_,c.mechanism)),_.extra={..._.extra,arguments:B},_)),captureException(v)}),v}};try{for(const B in a)Object.prototype.hasOwnProperty.call(a,B)&&(f[B]=a[B])}catch{}markFunctionWrapped(f,a),addNonEnumerableProperty(a,"__sentry_wrapped__",f);try{Object.getOwnPropertyDescriptor(f,"name").configurable&&Object.defineProperty(f,"name",{get(){return a.name}})}catch{}return f}function exceptionFromError(a,c){const h=parseStackFrames(a,c),f={type:c&&c.name,value:extractMessage(c)};return h.length&&(f.stacktrace={frames:h}),f.type===void 0&&f.value===""&&(f.value="Unrecoverable error caught"),f}function eventFromPlainObject(a,c,h,f){const v=getCurrentHub().getClient(),D=v&&v.getOptions().normalizeDepth,_={exception:{values:[{type:isEvent(c)?c.constructor.name:f?"UnhandledRejection":"Error",value:getNonErrorObjectExceptionValue(c,{isUnhandledRejection:f})}]},extra:{__serialized__:normalizeToSize(c,D)}};if(h){const m=parseStackFrames(a,h);m.length&&(_.exception.values[0].stacktrace={frames:m})}return _}function eventFromError(a,c){return{exception:{values:[exceptionFromError(a,c)]}}}function parseStackFrames(a,c){const h=c.stacktrace||c.stack||"",f=getPopSize(c);try{return a(h,f)}catch{}return[]}const reactMinifiedRegexp=/Minified React error #\d+;/i;function getPopSize(a){if(a){if(typeof a.framesToPop=="number")return a.framesToPop;if(reactMinifiedRegexp.test(a.message))return 1}return 0}function extractMessage(a){const c=a&&a.message;return c?c.error&&typeof c.error.message=="string"?c.error.message:c:"No error message"}function eventFromException(a,c,h,f){const B=h&&h.syntheticException||void 0,v=eventFromUnknownInput(a,c,B,f);return addExceptionMechanism(v),v.level="error",h&&h.event_id&&(v.event_id=h.event_id),resolvedSyncPromise(v)}function eventFromMessage(a,c,h="info",f,B){const v=f&&f.syntheticException||void 0,D=eventFromString(a,c,v,B);return D.level=h,f&&f.event_id&&(D.event_id=f.event_id),resolvedSyncPromise(D)}function eventFromUnknownInput(a,c,h,f,B){let v;if(isErrorEvent$2(c)&&c.error)return eventFromError(a,c.error);if(isDOMError(c)||isDOMException(c)){const D=c;if("stack"in c)v=eventFromError(a,c);else{const _=D.name||(isDOMError(D)?"DOMError":"DOMException"),m=D.message?`${_}: ${D.message}`:_;v=eventFromString(a,m,h,f),addExceptionTypeValue(v,m)}return"code"in D&&(v.tags={...v.tags,"DOMException.code":`${D.code}`}),v}return isError(c)?eventFromError(a,c):isPlainObject(c)||isEvent(c)?(v=eventFromPlainObject(a,c,h,B),addExceptionMechanism(v,{synthetic:!0}),v):(v=eventFromString(a,c,h,f),addExceptionTypeValue(v,`${c}`,void 0),addExceptionMechanism(v,{synthetic:!0}),v)}function eventFromString(a,c,h,f){const B={message:c};if(f&&h){const v=parseStackFrames(a,h);v.length&&(B.exception={values:[{value:c,stacktrace:{frames:v}}]})}return B}function getNonErrorObjectExceptionValue(a,{isUnhandledRejection:c}){const h=extractExceptionKeysForMessage(a),f=c?"promise rejection":"exception";return isErrorEvent$2(a)?`Event \`ErrorEvent\` captured as ${f} with message \`${a.message}\``:isEvent(a)?`Event \`${getObjectClassName(a)}\` (type=${a.type}) captured as ${f}`:`Object captured as ${f} with keys: ${h}`}function getObjectClassName(a){try{const c=Object.getPrototypeOf(a);return c?c.constructor.name:void 0}catch{}}function createUserFeedbackEnvelope(a,{metadata:c,tunnel:h,dsn:f}){const B={event_id:a.event_id,sent_at:new Date().toISOString(),...c&&c.sdk&&{sdk:{name:c.sdk.name,version:c.sdk.version}},...!!h&&!!f&&{dsn:dsnToString(f)}},v=createUserFeedbackEnvelopeItem(a);return createEnvelope(B,[v])}function createUserFeedbackEnvelopeItem(a){return[{type:"user_report"},a]}class BrowserClient extends BaseClient{constructor(c){const h=WINDOW$2.SENTRY_SDK_SOURCE||getSDKSource();c._metadata=c._metadata||{},c._metadata.sdk=c._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${h}:@sentry/browser`,version:SDK_VERSION}],version:SDK_VERSION},super(c),c.sendClientReports&&WINDOW$2.document&&WINDOW$2.document.addEventListener("visibilitychange",()=>{WINDOW$2.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(c,h){return eventFromException(this._options.stackParser,c,h,this._options.attachStacktrace)}eventFromMessage(c,h="info",f){return eventFromMessage(this._options.stackParser,c,h,f,this._options.attachStacktrace)}captureUserFeedback(c){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("SDK not enabled, will not capture user feedback.");return}const h=createUserFeedbackEnvelope(c,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(h)}_prepareEvent(c,h,f){return c.platform=c.platform||"javascript",super._prepareEvent(c,h,f)}_flushOutcomes(){const c=this._clearOutcomes();if(c.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("Sending outcomes:",c);const h=createClientReportEnvelope(c,this._options.tunnel&&dsnToString(this._dsn));this._sendEnvelope(h)}}let cachedFetchImpl;function getNativeFetchImplementation(){if(cachedFetchImpl)return cachedFetchImpl;if(isNativeFetch(WINDOW$2.fetch))return cachedFetchImpl=WINDOW$2.fetch.bind(WINDOW$2);const a=WINDOW$2.document;let c=WINDOW$2.fetch;if(a&&typeof a.createElement=="function")try{const h=a.createElement("iframe");h.hidden=!0,a.head.appendChild(h);const f=h.contentWindow;f&&f.fetch&&(c=f.fetch),a.head.removeChild(h)}catch(h){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",h)}return cachedFetchImpl=c.bind(WINDOW$2)}function clearCachedFetchImplementation(){cachedFetchImpl=void 0}function makeFetchTransport(a,c=getNativeFetchImplementation()){let h=0,f=0;function B(v){const D=v.body.length;h+=D,f++;const _={body:v.body,method:"POST",referrerPolicy:"origin",headers:a.headers,keepalive:h<=6e4&&f<15,...a.fetchOptions};try{return c(a.url,_).then(m=>(h-=D,f--,{statusCode:m.status,headers:{"x-sentry-rate-limits":m.headers.get("X-Sentry-Rate-Limits"),"retry-after":m.headers.get("Retry-After")}}))}catch(m){return clearCachedFetchImplementation(),h-=D,f--,rejectedSyncPromise(m)}}return createTransport(a,B)}const XHR_READYSTATE_DONE=4;function makeXHRTransport(a){function c(h){return new SyncPromise((f,B)=>{const v=new XMLHttpRequest;v.onerror=B,v.onreadystatechange=()=>{v.readyState===XHR_READYSTATE_DONE&&f({statusCode:v.status,headers:{"x-sentry-rate-limits":v.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":v.getResponseHeader("Retry-After")}})},v.open("POST",a.url);for(const D in a.headers)Object.prototype.hasOwnProperty.call(a.headers,D)&&v.setRequestHeader(D,a.headers[D]);v.send(h.body)})}return createTransport(a,c)}const UNKNOWN_FUNCTION="?",CHROME_PRIORITY=30,WINJS_PRIORITY=40,GECKO_PRIORITY=50;function createFrame(a,c,h,f){const B={filename:a,function:c,in_app:!0};return h!==void 0&&(B.lineno=h),f!==void 0&&(B.colno=f),B}const chromeRegex=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,chromeEvalRegex=/\((\S*)(?::(\d+))(?::(\d+))\)/,chrome=a=>{const c=chromeRegex.exec(a);if(c){if(c[2]&&c[2].indexOf("eval")===0){const v=chromeEvalRegex.exec(c[2]);v&&(c[2]=v[1],c[3]=v[2],c[4]=v[3])}const[f,B]=extractSafariExtensionDetails(c[1]||UNKNOWN_FUNCTION,c[2]);return createFrame(B,f,c[3]?+c[3]:void 0,c[4]?+c[4]:void 0)}},chromeStackLineParser=[CHROME_PRIORITY,chrome],geckoREgex=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,geckoEvalRegex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gecko=a=>{const c=geckoREgex.exec(a);if(c){if(c[3]&&c[3].indexOf(" > eval")>-1){const v=geckoEvalRegex.exec(c[3]);v&&(c[1]=c[1]||"eval",c[3]=v[1],c[4]=v[2],c[5]="")}let f=c[3],B=c[1]||UNKNOWN_FUNCTION;return[B,f]=extractSafariExtensionDetails(B,f),createFrame(f,B,c[4]?+c[4]:void 0,c[5]?+c[5]:void 0)}},geckoStackLineParser=[GECKO_PRIORITY,gecko],winjsRegex=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,winjs=a=>{const c=winjsRegex.exec(a);return c?createFrame(c[2],c[1]||UNKNOWN_FUNCTION,+c[3],c[4]?+c[4]:void 0):void 0},winjsStackLineParser=[WINJS_PRIORITY,winjs],defaultStackLineParsers=[chromeStackLineParser,geckoStackLineParser,winjsStackLineParser],defaultStackParser=createStackParser(...defaultStackLineParsers),extractSafariExtensionDetails=(a,c)=>{const h=a.indexOf("safari-extension")!==-1,f=a.indexOf("safari-web-extension")!==-1;return h||f?[a.indexOf("@")!==-1?a.split("@")[0]:UNKNOWN_FUNCTION,h?`safari-extension:${c}`:`safari-web-extension:${c}`]:[a,c]};class GlobalHandlers{static __initStatic(){this.id="GlobalHandlers"}constructor(c){this.name=GlobalHandlers.id,this._options={onerror:!0,onunhandledrejection:!0,...c},this._installFunc={onerror:_installGlobalOnErrorHandler,onunhandledrejection:_installGlobalOnUnhandledRejectionHandler}}setupOnce(){Error.stackTraceLimit=50;const c=this._options;for(const h in c){const f=this._installFunc[h];f&&c[h]&&(globalHandlerLog(h),f(),this._installFunc[h]=void 0)}}}GlobalHandlers.__initStatic();function _installGlobalOnErrorHandler(){addInstrumentationHandler("error",a=>{const[c,h,f]=getHubAndOptions();if(!c.getIntegration(GlobalHandlers))return;const{msg:B,url:v,line:D,column:_,error:m}=a;if(shouldIgnoreOnError()||m&&m.__sentry_own_request__)return;const I=m===void 0&&isString(B)?_eventFromIncompleteOnError(B,v,D,_):_enhanceEventWithInitialFrame(eventFromUnknownInput(h,m||B,void 0,f,!1),v,D,_);I.level="error",addMechanismAndCapture(c,m,I,"onerror")})}function _installGlobalOnUnhandledRejectionHandler(){addInstrumentationHandler("unhandledrejection",a=>{const[c,h,f]=getHubAndOptions();if(!c.getIntegration(GlobalHandlers))return;let B=a;try{"reason"in a?B=a.reason:"detail"in a&&"reason"in a.detail&&(B=a.detail.reason)}catch{}if(shouldIgnoreOnError()||B&&B.__sentry_own_request__)return!0;const v=isPrimitive(B)?_eventFromRejectionWithPrimitive(B):eventFromUnknownInput(h,B,void 0,f,!0);v.level="error",addMechanismAndCapture(c,B,v,"onunhandledrejection")})}function _eventFromRejectionWithPrimitive(a){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}}function _eventFromIncompleteOnError(a,c,h,f){const B=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let v=isErrorEvent$2(a)?a.message:a,D="Error";const _=v.match(B);return _&&(D=_[1],v=_[2]),_enhanceEventWithInitialFrame({exception:{values:[{type:D,value:v}]}},c,h,f)}function _enhanceEventWithInitialFrame(a,c,h,f){const B=a.exception=a.exception||{},v=B.values=B.values||[],D=v[0]=v[0]||{},_=D.stacktrace=D.stacktrace||{},m=_.frames=_.frames||[],I=isNaN(parseInt(f,10))?void 0:f,Q=isNaN(parseInt(h,10))?void 0:h,p=isString(c)&&c.length>0?c:getLocationHref();return m.length===0&&m.push({colno:I,filename:p,function:"?",in_app:!0,lineno:Q}),a}function globalHandlerLog(a){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`Global Handler attached: ${a}`)}function addMechanismAndCapture(a,c,h,f){addExceptionMechanism(h,{handled:!1,type:f}),a.captureEvent(h,{originalException:c})}function getHubAndOptions(){const a=getCurrentHub(),c=a.getClient(),h=c&&c.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[a,h.stackParser,h.attachStacktrace]}const DEFAULT_EVENT_TARGET=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class TryCatch{static __initStatic(){this.id="TryCatch"}constructor(c){this.name=TryCatch.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...c}}setupOnce(){this._options.setTimeout&&fill(WINDOW$2,"setTimeout",_wrapTimeFunction),this._options.setInterval&&fill(WINDOW$2,"setInterval",_wrapTimeFunction),this._options.requestAnimationFrame&&fill(WINDOW$2,"requestAnimationFrame",_wrapRAF),this._options.XMLHttpRequest&&"XMLHttpRequest"in WINDOW$2&&fill(XMLHttpRequest.prototype,"send",_wrapXHR);const c=this._options.eventTarget;c&&(Array.isArray(c)?c:DEFAULT_EVENT_TARGET).forEach(_wrapEventTarget)}}TryCatch.__initStatic();function _wrapTimeFunction(a){return function(...c){const h=c[0];return c[0]=wrap(h,{mechanism:{data:{function:getFunctionName(a)},handled:!1,type:"instrument"}}),a.apply(this,c)}}function _wrapRAF(a){return function(c){return a.apply(this,[wrap(c,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName(a)},handled:!1,type:"instrument"}})])}}function _wrapXHR(a){return function(...c){const h=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(B=>{B in h&&typeof h[B]=="function"&&fill(h,B,function(v){const D={mechanism:{data:{function:B,handler:getFunctionName(v)},handled:!1,type:"instrument"}},_=getOriginalFunction(v);return _&&(D.mechanism.data.handler=getFunctionName(_)),wrap(v,D)})}),a.apply(this,c)}}function _wrapEventTarget(a){const c=WINDOW$2,h=c[a]&&c[a].prototype;!h||!h.hasOwnProperty||!h.hasOwnProperty("addEventListener")||(fill(h,"addEventListener",function(f){return function(B,v,D){try{typeof v.handleEvent=="function"&&(v.handleEvent=wrap(v.handleEvent,{mechanism:{data:{function:"handleEvent",handler:getFunctionName(v),target:a},handled:!1,type:"instrument"}}))}catch{}return f.apply(this,[B,wrap(v,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(v),target:a},handled:!1,type:"instrument"}}),D])}}),fill(h,"removeEventListener",function(f){return function(B,v,D){const _=v;try{const m=_&&_.__sentry_wrapped__;m&&f.call(this,B,m,D)}catch{}return f.call(this,B,_,D)}}))}const MAX_ALLOWED_STRING_LENGTH=1024;class Breadcrumbs{static __initStatic(){this.id="Breadcrumbs"}constructor(c){this.name=Breadcrumbs.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...c}}setupOnce(){if(this.options.console&&addInstrumentationHandler("console",_consoleBreadcrumb),this.options.dom&&addInstrumentationHandler("dom",_domBreadcrumb(this.options.dom)),this.options.xhr&&addInstrumentationHandler("xhr",_xhrBreadcrumb),this.options.fetch&&addInstrumentationHandler("fetch",_fetchBreadcrumb),this.options.history&&addInstrumentationHandler("history",_historyBreadcrumb),this.options.sentry){const c=getCurrentHub().getClient();c&&c.on&&c.on("beforeSendEvent",addSentryBreadcrumb)}}}Breadcrumbs.__initStatic();function addSentryBreadcrumb(a){getCurrentHub().addBreadcrumb({category:`sentry.${a.type==="transaction"?"transaction":"event"}`,event_id:a.event_id,level:a.level,message:getEventDescription(a)},{event:a})}function _domBreadcrumb(a){function c(h){let f,B=typeof a=="object"?a.serializeAttribute:void 0,v=typeof a=="object"&&typeof a.maxStringLength=="number"?a.maxStringLength:void 0;v&&v>MAX_ALLOWED_STRING_LENGTH&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`\`dom.maxStringLength\` cannot exceed ${MAX_ALLOWED_STRING_LENGTH}, but a value of ${v} was configured. Sentry will use ${MAX_ALLOWED_STRING_LENGTH} instead.`),v=MAX_ALLOWED_STRING_LENGTH),typeof B=="string"&&(B=[B]);try{const D=h.event;f=_isEvent(D)?htmlTreeAsString(D.target,{keyAttrs:B,maxStringLength:v}):htmlTreeAsString(D,{keyAttrs:B,maxStringLength:v})}catch{f="<unknown>"}f.length!==0&&getCurrentHub().addBreadcrumb({category:`ui.${h.name}`,message:f},{event:h.event,name:h.name,global:h.global})}return c}function _consoleBreadcrumb(a){const c={category:"console",data:{arguments:a.args,logger:"console"},level:severityLevelFromString(a.level),message:safeJoin(a.args," ")};if(a.level==="assert")if(a.args[0]===!1)c.message=`Assertion failed: ${safeJoin(a.args.slice(1)," ")||"console.assert"}`,c.data.arguments=a.args.slice(1);else return;getCurrentHub().addBreadcrumb(c,{input:a.args,level:a.level})}function _xhrBreadcrumb(a){const{startTimestamp:c,endTimestamp:h}=a,f=a.xhr[SENTRY_XHR_DATA_KEY];if(!c||!h||!f)return;const{method:B,url:v,status_code:D,body:_}=f,m={method:B,url:v,status_code:D},I={xhr:a.xhr,input:_,startTimestamp:c,endTimestamp:h};getCurrentHub().addBreadcrumb({category:"xhr",data:m,type:"http"},I)}function _fetchBreadcrumb(a){const{startTimestamp:c,endTimestamp:h}=a;if(h&&!(a.fetchData.url.match(/sentry_key/)&&a.fetchData.method==="POST"))if(a.error){const f=a.fetchData,B={data:a.error,input:a.args,startTimestamp:c,endTimestamp:h};getCurrentHub().addBreadcrumb({category:"fetch",data:f,level:"error",type:"http"},B)}else{const f={...a.fetchData,status_code:a.response&&a.response.status},B={input:a.args,response:a.response,startTimestamp:c,endTimestamp:h};getCurrentHub().addBreadcrumb({category:"fetch",data:f,type:"http"},B)}}function _historyBreadcrumb(a){let c=a.from,h=a.to;const f=parseUrl(WINDOW$2.location.href);let B=parseUrl(c);const v=parseUrl(h);B.path||(B=f),f.protocol===v.protocol&&f.host===v.host&&(h=v.relative),f.protocol===B.protocol&&f.host===B.host&&(c=B.relative),getCurrentHub().addBreadcrumb({category:"navigation",data:{from:c,to:h}})}function _isEvent(a){return!!a&&!!a.target}const DEFAULT_KEY="cause",DEFAULT_LIMIT=5;class LinkedErrors{static __initStatic(){this.id="LinkedErrors"}constructor(c={}){this.name=LinkedErrors.id,this._key=c.key||DEFAULT_KEY,this._limit=c.limit||DEFAULT_LIMIT}setupOnce(){}preprocessEvent(c,h,f){const B=f.getOptions();applyAggregateErrorsToEvent(exceptionFromError,B.stackParser,B.maxValueLength,this._key,this._limit,c,h)}}LinkedErrors.__initStatic();class HttpContext{static __initStatic(){this.id="HttpContext"}constructor(){this.name=HttpContext.id}setupOnce(){}preprocessEvent(c){if(!WINDOW$2.navigator&&!WINDOW$2.location&&!WINDOW$2.document)return;const h=c.request&&c.request.url||WINDOW$2.location&&WINDOW$2.location.href,{referrer:f}=WINDOW$2.document||{},{userAgent:B}=WINDOW$2.navigator||{},v={...c.request&&c.request.headers,...f&&{Referer:f},...B&&{"User-Agent":B}},D={...c.request,...h&&{url:h},headers:v};c.request=D}}HttpContext.__initStatic();class Dedupe{static __initStatic(){this.id="Dedupe"}constructor(){this.name=Dedupe.id}setupOnce(c,h){}processEvent(c){if(c.type)return c;try{if(_shouldDropEvent(c,this._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return this._previousEvent=c}}Dedupe.__initStatic();function _shouldDropEvent(a,c){return c?!!(_isSameMessageEvent(a,c)||_isSameExceptionEvent(a,c)):!1}function _isSameMessageEvent(a,c){const h=a.message,f=c.message;return!(!h&&!f||h&&!f||!h&&f||h!==f||!_isSameFingerprint(a,c)||!_isSameStacktrace(a,c))}function _isSameExceptionEvent(a,c){const h=_getExceptionFromEvent(c),f=_getExceptionFromEvent(a);return!(!h||!f||h.type!==f.type||h.value!==f.value||!_isSameFingerprint(a,c)||!_isSameStacktrace(a,c))}function _isSameStacktrace(a,c){let h=_getFramesFromEvent(a),f=_getFramesFromEvent(c);if(!h&&!f)return!0;if(h&&!f||!h&&f||(h=h,f=f,f.length!==h.length))return!1;for(let B=0;B<f.length;B++){const v=f[B],D=h[B];if(v.filename!==D.filename||v.lineno!==D.lineno||v.colno!==D.colno||v.function!==D.function)return!1}return!0}function _isSameFingerprint(a,c){let h=a.fingerprint,f=c.fingerprint;if(!h&&!f)return!0;if(h&&!f||!h&&f)return!1;h=h,f=f;try{return h.join("")===f.join("")}catch{return!1}}function _getExceptionFromEvent(a){return a.exception&&a.exception.values&&a.exception.values[0]}function _getFramesFromEvent(a){const c=a.exception;if(c)try{return c.values[0].stacktrace.frames}catch{return}}const defaultIntegrations=[new InboundFilters,new FunctionToString,new TryCatch,new Breadcrumbs,new GlobalHandlers,new LinkedErrors,new Dedupe,new HttpContext];function init$1(a={}){a.defaultIntegrations===void 0&&(a.defaultIntegrations=defaultIntegrations),a.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(a.release=__SENTRY_RELEASE__),WINDOW$2.SENTRY_RELEASE&&WINDOW$2.SENTRY_RELEASE.id&&(a.release=WINDOW$2.SENTRY_RELEASE.id)),a.autoSessionTracking===void 0&&(a.autoSessionTracking=!0),a.sendClientReports===void 0&&(a.sendClientReports=!0);const c={...a,stackParser:stackParserFromStackParserOptions(a.stackParser||defaultStackParser),integrations:getIntegrationsToSetup(a),transport:a.transport||(supportsFetch()?makeFetchTransport:makeXHRTransport)};initAndBind(BrowserClient,c),a.autoSessionTracking&&startSessionTracking()}function startSessionOnHub(a){a.startSession({ignoreDuration:!0}),a.captureSession()}function startSessionTracking(){if(typeof WINDOW$2.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const a=getCurrentHub();a.captureSession&&(startSessionOnHub(a),addInstrumentationHandler("history",({from:c,to:h})=>{c===void 0||c===h||startSessionOnHub(getCurrentHub())}))}const WINDOW$1=GLOBAL_OBJ;function registerBackgroundTabDetection(){WINDOW$1&&WINDOW$1.document?WINDOW$1.document.addEventListener("visibilitychange",()=>{const a=getActiveTransaction();if(WINDOW$1.document.hidden&&a){const c="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] Transaction: ${c} -> since tab moved to the background, op: ${a.op}`),a.status||a.setStatus(c),a.setTag("visibilitychange","document.hidden"),a.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const bindReporter=(a,c,h)=>{let f,B;return v=>{c.value>=0&&(v||h)&&(B=c.value-(f||0),(B||f===void 0)&&(f=c.value,c.delta=B,a(c)))}},generateUniqueID=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,getNavigationEntryFromPerformanceTiming=()=>{const a=WINDOW$1.performance.timing,c=WINDOW$1.performance.navigation.type,h={entryType:"navigation",startTime:0,type:c==2?"back_forward":c===1?"reload":"navigate"};for(const f in a)f!=="navigationStart"&&f!=="toJSON"&&(h[f]=Math.max(a[f]-a.navigationStart,0));return h},getNavigationEntry=()=>WINDOW$1.__WEB_VITALS_POLYFILL__?WINDOW$1.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||getNavigationEntryFromPerformanceTiming()):WINDOW$1.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],getActivationStart=()=>{const a=getNavigationEntry();return a&&a.activationStart||0},initMetric=(a,c)=>{const h=getNavigationEntry();let f="navigate";return h&&(WINDOW$1.document.prerendering||getActivationStart()>0?f="prerender":f=h.type.replace(/_/g,"-")),{name:a,value:typeof c>"u"?-1:c,rating:"good",delta:0,entries:[],id:generateUniqueID(),navigationType:f}},observe=(a,c,h)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(a)){const f=new PerformanceObserver(B=>{c(B.getEntries())});return f.observe(Object.assign({type:a,buffered:!0},h||{})),f}}catch{}},onHidden=(a,c)=>{const h=f=>{(f.type==="pagehide"||WINDOW$1.document.visibilityState==="hidden")&&(a(f),c&&(removeEventListener("visibilitychange",h,!0),removeEventListener("pagehide",h,!0)))};addEventListener("visibilitychange",h,!0),addEventListener("pagehide",h,!0)},onCLS=a=>{const c=initMetric("CLS",0);let h,f=0,B=[];const v=_=>{_.forEach(m=>{if(!m.hadRecentInput){const I=B[0],Q=B[B.length-1];f&&B.length!==0&&m.startTime-Q.startTime<1e3&&m.startTime-I.startTime<5e3?(f+=m.value,B.push(m)):(f=m.value,B=[m]),f>c.value&&(c.value=f,c.entries=B,h&&h())}})},D=observe("layout-shift",v);if(D){h=bindReporter(a,c);const _=()=>{v(D.takeRecords()),h(!0)};return onHidden(_),_}};let firstHiddenTime=-1;const initHiddenTime=()=>WINDOW$1.document.visibilityState==="hidden"&&!WINDOW$1.document.prerendering?0:1/0,trackChanges=()=>{onHidden(({timeStamp:a})=>{firstHiddenTime=a},!0)},getVisibilityWatcher=()=>(firstHiddenTime<0&&(firstHiddenTime=initHiddenTime(),trackChanges()),{get firstHiddenTime(){return firstHiddenTime}}),onFID=a=>{const c=getVisibilityWatcher(),h=initMetric("FID");let f;const B=_=>{_.startTime<c.firstHiddenTime&&(h.value=_.processingStart-_.startTime,h.entries.push(_),f(!0))},v=_=>{_.forEach(B)},D=observe("first-input",v);f=bindReporter(a,h),D&&onHidden(()=>{v(D.takeRecords()),D.disconnect()},!0)},reportedMetricIDs={},onLCP=a=>{const c=getVisibilityWatcher(),h=initMetric("LCP");let f;const B=D=>{const _=D[D.length-1];if(_){const m=Math.max(_.startTime-getActivationStart(),0);m<c.firstHiddenTime&&(h.value=m,h.entries=[_],f())}},v=observe("largest-contentful-paint",B);if(v){f=bindReporter(a,h);const D=()=>{reportedMetricIDs[h.id]||(B(v.takeRecords()),v.disconnect(),reportedMetricIDs[h.id]=!0,f(!0))};return["keydown","click"].forEach(_=>{addEventListener(_,D,{once:!0,capture:!0})}),onHidden(D,!0),D}},handlers$1={},instrumented={};let _previousCls,_previousFid,_previousLcp;function addClsInstrumentationHandler(a){return addMetricObserver("cls",a,instrumentCls,_previousCls)}function addLcpInstrumentationHandler(a){return addMetricObserver("lcp",a,instrumentLcp,_previousLcp)}function addFidInstrumentationHandler(a){return addMetricObserver("fid",a,instrumentFid,_previousFid)}function addPerformanceInstrumentationHandler(a,c){return addHandler(a,c),instrumented[a]||(instrumentPerformanceObserver(a),instrumented[a]=!0),getCleanupCallback(a,c)}function triggerHandlers(a,c){const h=handlers$1[a];if(!(!h||!h.length))for(const f of h)try{f(c)}catch(B){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error(`Error while triggering instrumentation handler.
Type: ${a}
Name: ${getFunctionName(f)}
Error:`,B)}}function instrumentCls(){onCLS(a=>{triggerHandlers("cls",{metric:a}),_previousCls=a})}function instrumentFid(){onFID(a=>{triggerHandlers("fid",{metric:a}),_previousFid=a})}function instrumentLcp(){onLCP(a=>{triggerHandlers("lcp",{metric:a}),_previousLcp=a})}function addMetricObserver(a,c,h,f){return addHandler(a,c),instrumented[a]||(h(),instrumented[a]=!0),f&&c({metric:f}),getCleanupCallback(a,c)}function instrumentPerformanceObserver(a){const c={};a==="event"&&(c.durationThreshold=0),observe(a,h=>{triggerHandlers(a,{entries:h})},c)}function addHandler(a,c){handlers$1[a]=handlers$1[a]||[],handlers$1[a].push(c)}function getCleanupCallback(a,c){return()=>{const h=handlers$1[a];if(!h)return;const f=h.indexOf(c);f!==-1&&h.splice(f,1)}}function isMeasurementValue(a){return typeof a=="number"&&isFinite(a)}function _startChild(a,{startTimestamp:c,...h}){return c&&a.startTimestamp>c&&(a.startTimestamp=c),a.startChild({startTimestamp:c,...h})}function msToSec(a){return a/1e3}function getBrowserPerformanceAPI(){return WINDOW$1&&WINDOW$1.addEventListener&&WINDOW$1.performance}let _performanceCursor=0,_measurements={},_lcpEntry,_clsEntry;function startTrackingWebVitals(){const a=getBrowserPerformanceAPI();if(a&&browserPerformanceTimeOrigin){a.mark&&WINDOW$1.performance.mark("sentry-tracing-init");const c=_trackFID(),h=_trackCLS(),f=_trackLCP();return()=>{c(),h(),f()}}return()=>{}}function startTrackingLongTasks(){addPerformanceInstrumentationHandler("longtask",({entries:a})=>{for(const c of a){const h=getActiveTransaction();if(!h)return;const f=msToSec(browserPerformanceTimeOrigin+c.startTime),B=msToSec(c.duration);h.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:f,endTimestamp:f+B})}})}function startTrackingInteractions(){addPerformanceInstrumentationHandler("event",({entries:a})=>{for(const c of a){const h=getActiveTransaction();if(!h)return;if(c.name==="click"){const f=msToSec(browserPerformanceTimeOrigin+c.startTime),B=msToSec(c.duration);h.startChild({description:htmlTreeAsString(c.target),op:`ui.interaction.${c.name}`,origin:"auto.ui.browser.metrics",startTimestamp:f,endTimestamp:f+B})}}})}function _trackCLS(){return addClsInstrumentationHandler(({metric:a})=>{const c=a.entries.pop();c&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Measurements] Adding CLS"),_measurements.cls={value:a.value,unit:""},_clsEntry=c)})}function _trackLCP(){return addLcpInstrumentationHandler(({metric:a})=>{const c=a.entries.pop();c&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Measurements] Adding LCP"),_measurements.lcp={value:a.value,unit:"millisecond"},_lcpEntry=c)})}function _trackFID(){return addFidInstrumentationHandler(({metric:a})=>{const c=a.entries.pop();if(!c)return;const h=msToSec(browserPerformanceTimeOrigin),f=msToSec(c.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Measurements] Adding FID"),_measurements.fid={value:a.value,unit:"millisecond"},_measurements["mark.fid"]={value:h+f,unit:"second"}})}function addPerformanceEntries(a){const c=getBrowserPerformanceAPI();if(!c||!WINDOW$1.performance.getEntries||!browserPerformanceTimeOrigin)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Tracing] Adding & adjusting spans using Performance API");const h=msToSec(browserPerformanceTimeOrigin),f=c.getEntries();let B,v;if(f.slice(_performanceCursor).forEach(D=>{const _=msToSec(D.startTime),m=msToSec(D.duration);if(!(a.op==="navigation"&&h+_<a.startTimestamp))switch(D.entryType){case"navigation":{_addNavigationSpans(a,D,h),B=h+msToSec(D.responseStart),v=h+msToSec(D.requestStart);break}case"mark":case"paint":case"measure":{_addMeasureSpans(a,D,_,m,h);const I=getVisibilityWatcher(),Q=D.startTime<I.firstHiddenTime;D.name==="first-paint"&&Q&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Measurements] Adding FP"),_measurements.fp={value:D.startTime,unit:"millisecond"}),D.name==="first-contentful-paint"&&Q&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Measurements] Adding FCP"),_measurements.fcp={value:D.startTime,unit:"millisecond"});break}case"resource":{const I=D.name.replace(WINDOW$1.location.origin,"");_addResourceSpans(a,D,I,_,m,h);break}}}),_performanceCursor=Math.max(f.length-1,0),_trackNavigator(a),a.op==="pageload"){typeof B=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Measurements] Adding TTFB"),_measurements.ttfb={value:(B-a.startTimestamp)*1e3,unit:"millisecond"},typeof v=="number"&&v<=B&&(_measurements["ttfb.requestTime"]={value:(B-v)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(_=>{if(!_measurements[_]||h>=a.startTimestamp)return;const m=_measurements[_].value,I=h+msToSec(m),Q=Math.abs((I-a.startTimestamp)*1e3),p=Q-m;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Measurements] Normalized ${_} from ${m} to ${Q} (${p})`),_measurements[_].value=Q});const D=_measurements["mark.fid"];D&&_measurements.fid&&(_startChild(a,{description:"first input delay",endTimestamp:D.value+msToSec(_measurements.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:D.value}),delete _measurements["mark.fid"]),"fcp"in _measurements||delete _measurements.cls,Object.keys(_measurements).forEach(_=>{a.setMeasurement(_,_measurements[_].value,_measurements[_].unit)}),_tagMetricInfo(a)}_lcpEntry=void 0,_clsEntry=void 0,_measurements={}}function _addMeasureSpans(a,c,h,f,B){const v=B+h,D=v+f;return _startChild(a,{description:c.name,endTimestamp:D,op:c.entryType,origin:"auto.resource.browser.metrics",startTimestamp:v}),v}function _addNavigationSpans(a,c,h){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(f=>{_addPerformanceNavigationTiming(a,c,f,h)}),_addPerformanceNavigationTiming(a,c,"secureConnection",h,"TLS/SSL","connectEnd"),_addPerformanceNavigationTiming(a,c,"fetch",h,"cache","domainLookupStart"),_addPerformanceNavigationTiming(a,c,"domainLookup",h,"DNS"),_addRequest(a,c,h)}function _addPerformanceNavigationTiming(a,c,h,f,B,v){const D=v?c[v]:c[`${h}End`],_=c[`${h}Start`];!_||!D||_startChild(a,{op:"browser",origin:"auto.browser.browser.metrics",description:B||h,startTimestamp:f+msToSec(_),endTimestamp:f+msToSec(D)})}function _addRequest(a,c,h){_startChild(a,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:h+msToSec(c.requestStart),endTimestamp:h+msToSec(c.responseEnd)}),_startChild(a,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:h+msToSec(c.responseStart),endTimestamp:h+msToSec(c.responseEnd)})}function _addResourceSpans(a,c,h,f,B,v){if(c.initiatorType==="xmlhttprequest"||c.initiatorType==="fetch")return;const D={};"transferSize"in c&&(D["http.response_transfer_size"]=c.transferSize),"encodedBodySize"in c&&(D["http.response_content_length"]=c.encodedBodySize),"decodedBodySize"in c&&(D["http.decoded_response_content_length"]=c.decodedBodySize),"renderBlockingStatus"in c&&(D["resource.render_blocking_status"]=c.renderBlockingStatus);const _=v+f,m=_+B;_startChild(a,{description:h,endTimestamp:m,op:c.initiatorType?`resource.${c.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:_,data:D})}function _trackNavigator(a){const c=WINDOW$1.navigator;if(!c)return;const h=c.connection;h&&(h.effectiveType&&a.setTag("effectiveConnectionType",h.effectiveType),h.type&&a.setTag("connectionType",h.type),isMeasurementValue(h.rtt)&&(_measurements["connection.rtt"]={value:h.rtt,unit:"millisecond"})),isMeasurementValue(c.deviceMemory)&&a.setTag("deviceMemory",`${c.deviceMemory} GB`),isMeasurementValue(c.hardwareConcurrency)&&a.setTag("hardwareConcurrency",String(c.hardwareConcurrency))}function _tagMetricInfo(a){_lcpEntry&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Measurements] Adding LCP Data"),_lcpEntry.element&&a.setTag("lcp.element",htmlTreeAsString(_lcpEntry.element)),_lcpEntry.id&&a.setTag("lcp.id",_lcpEntry.id),_lcpEntry.url&&a.setTag("lcp.url",_lcpEntry.url.trim().slice(0,200)),a.setTag("lcp.size",_lcpEntry.size)),_clsEntry&&_clsEntry.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Measurements] Adding CLS Data"),_clsEntry.sources.forEach((c,h)=>a.setTag(`cls.source.${h+1}`,htmlTreeAsString(c.node))))}const DEFAULT_TRACE_PROPAGATION_TARGETS=["localhost",/^\/(?!\/)/],defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:DEFAULT_TRACE_PROPAGATION_TARGETS,tracePropagationTargets:DEFAULT_TRACE_PROPAGATION_TARGETS};function instrumentOutgoingRequests(a){const{traceFetch:c,traceXHR:h,tracePropagationTargets:f,tracingOrigins:B,shouldCreateSpanForRequest:v,enableHTTPTimings:D}={traceFetch:defaultRequestInstrumentationOptions.traceFetch,traceXHR:defaultRequestInstrumentationOptions.traceXHR,...a},_=typeof v=="function"?v:Q=>!0,m=Q=>shouldAttachHeaders(Q,f||B),I={};c&&addInstrumentationHandler("fetch",Q=>{const p=fetchCallback(Q,_,m,I);D&&p&&addHTTPTimings(p)}),h&&addInstrumentationHandler("xhr",Q=>{const p=xhrCallback(Q,_,m,I);D&&p&&addHTTPTimings(p)})}function isPerformanceResourceTiming(a){return a.entryType==="resource"&&"initiatorType"in a&&typeof a.nextHopProtocol=="string"&&(a.initiatorType==="fetch"||a.initiatorType==="xmlhttprequest")}function addHTTPTimings(a){const c=a.data.url;if(!c)return;const h=addPerformanceInstrumentationHandler("resource",({entries:f})=>{f.forEach(B=>{isPerformanceResourceTiming(B)&&B.name.endsWith(c)&&(resourceTimingEntryToSpanData(B).forEach(D=>a.setData(...D)),setTimeout(h))})})}function extractNetworkProtocol(a){let c="unknown",h="unknown",f="";for(const B of a){if(B==="/"){[c,h]=a.split("/");break}if(!isNaN(Number(B))){c=f==="h"?"http":f,h=a.split(f)[1];break}f+=B}return f===a&&(c=f),{name:c,version:h}}function getAbsoluteTime$1(a=0){return((browserPerformanceTimeOrigin||performance.timeOrigin)+a)/1e3}function resourceTimingEntryToSpanData(a){const{name:c,version:h}=extractNetworkProtocol(a.nextHopProtocol),f=[];return f.push(["network.protocol.version",h],["network.protocol.name",c]),browserPerformanceTimeOrigin?[...f,["http.request.redirect_start",getAbsoluteTime$1(a.redirectStart)],["http.request.fetch_start",getAbsoluteTime$1(a.fetchStart)],["http.request.domain_lookup_start",getAbsoluteTime$1(a.domainLookupStart)],["http.request.domain_lookup_end",getAbsoluteTime$1(a.domainLookupEnd)],["http.request.connect_start",getAbsoluteTime$1(a.connectStart)],["http.request.secure_connection_start",getAbsoluteTime$1(a.secureConnectionStart)],["http.request.connection_end",getAbsoluteTime$1(a.connectEnd)],["http.request.request_start",getAbsoluteTime$1(a.requestStart)],["http.request.response_start",getAbsoluteTime$1(a.responseStart)],["http.request.response_end",getAbsoluteTime$1(a.responseEnd)]]:f}function shouldAttachHeaders(a,c){return stringMatchesSomePattern(a,c||DEFAULT_TRACE_PROPAGATION_TARGETS)}function fetchCallback(a,c,h,f){if(!hasTracingEnabled()||!a.fetchData)return;const B=c(a.fetchData.url);if(a.endTimestamp&&B){const u=a.fetchData.__span;if(!u)return;const y=f[u];if(y){if(a.response){y.setHttpStatus(a.response.status);const N=a.response&&a.response.headers&&a.response.headers.get("content-length"),U=parseInt(N);U>0&&y.setData("http.response_content_length",U)}else a.error&&y.setStatus("internal_error");y.finish(),delete f[u]}return}const v=getCurrentHub(),D=v.getScope(),_=v.getClient(),m=D.getSpan(),{method:I,url:Q}=a.fetchData,p=B&&m?m.startChild({data:{url:Q,type:"fetch","http.method":I},description:`${I} ${Q}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(p&&(a.fetchData.__span=p.spanId,f[p.spanId]=p),h(a.fetchData.url)&&_){const u=a.args[0];a.args[1]=a.args[1]||{};const y=a.args[1];y.headers=addTracingHeadersToFetchRequest(u,_,D,y,p)}return p}function addTracingHeadersToFetchRequest(a,c,h,f,B){const v=B||h.getSpan(),D=v&&v.transaction,{traceId:_,sampled:m,dsc:I}=h.getPropagationContext(),Q=v?v.toTraceparent():generateSentryTraceHeader(_,void 0,m),p=D?D.getDynamicSamplingContext():I||getDynamicSamplingContextFromClient(_,c,h),u=dynamicSamplingContextToSentryBaggageHeader(p),y=typeof Request<"u"&&isInstanceOf(a,Request)?a.headers:f.headers;if(y)if(typeof Headers<"u"&&isInstanceOf(y,Headers)){const N=new Headers(y);return N.append("sentry-trace",Q),u&&N.append(BAGGAGE_HEADER_NAME,u),N}else if(Array.isArray(y)){const N=[...y,["sentry-trace",Q]];return u&&N.push([BAGGAGE_HEADER_NAME,u]),N}else{const N="baggage"in y?y.baggage:void 0,U=[];return Array.isArray(N)?U.push(...N):N&&U.push(N),u&&U.push(u),{...y,"sentry-trace":Q,baggage:U.length>0?U.join(","):void 0}}else return{"sentry-trace":Q,baggage:u}}function xhrCallback(a,c,h,f){const B=a.xhr,v=B&&B[SENTRY_XHR_DATA_KEY];if(!hasTracingEnabled()||B&&B.__sentry_own_request__||!B||!v)return;const D=c(v.url);if(a.endTimestamp&&D){const p=B.__sentry_xhr_span_id__;if(!p)return;const u=f[p];u&&(u.setHttpStatus(v.status_code),u.finish(),delete f[p]);return}const _=getCurrentHub(),m=_.getScope(),I=m.getSpan(),Q=D&&I?I.startChild({data:{...v.data,type:"xhr","http.method":v.method,url:v.url},description:`${v.method} ${v.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(Q&&(B.__sentry_xhr_span_id__=Q.spanId,f[B.__sentry_xhr_span_id__]=Q),B.setRequestHeader&&h(v.url))if(Q){const p=Q&&Q.transaction,u=p&&p.getDynamicSamplingContext(),y=dynamicSamplingContextToSentryBaggageHeader(u);setHeaderOnXhr(B,Q.toTraceparent(),y)}else{const p=_.getClient(),{traceId:u,sampled:y,dsc:N}=m.getPropagationContext(),U=generateSentryTraceHeader(u,void 0,y),q=N||(p?getDynamicSamplingContextFromClient(u,p,m):void 0),te=dynamicSamplingContextToSentryBaggageHeader(q);setHeaderOnXhr(B,U,te)}return Q}function setHeaderOnXhr(a,c,h){try{a.setRequestHeader("sentry-trace",c),h&&a.setRequestHeader(BAGGAGE_HEADER_NAME,h)}catch{}}function instrumentRoutingWithDefaults(a,c=!0,h=!0){if(!WINDOW$1||!WINDOW$1.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Could not initialize routing instrumentation due to invalid location");return}let f=WINDOW$1.location.href,B;c&&(B=a({name:WINDOW$1.location.pathname,startTimestamp:browserPerformanceTimeOrigin?browserPerformanceTimeOrigin/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),h&&addInstrumentationHandler("history",({to:v,from:D})=>{if(D===void 0&&f&&f.indexOf(v)!==-1){f=void 0;return}D!==v&&(f=void 0,B&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] Finishing current transaction with op: ${B.op}`),B.finish()),B=a({name:WINDOW$1.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const BROWSER_TRACING_INTEGRATION_ID="BrowserTracing",DEFAULT_BROWSER_TRACING_OPTIONS={...TRACING_DEFAULTS,markBackgroundTransactions:!0,routingInstrumentation:instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...defaultRequestInstrumentationOptions};class BrowserTracing{constructor(c){this.name=BROWSER_TRACING_INTEGRATION_ID,this._hasSetTracePropagationTargets=!1,addTracingExtensions(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this._hasSetTracePropagationTargets=!!(c&&(c.tracePropagationTargets||c.tracingOrigins))),this.options={...DEFAULT_BROWSER_TRACING_OPTIONS,...c},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),c&&!c.tracePropagationTargets&&c.tracingOrigins&&(this.options.tracePropagationTargets=c.tracingOrigins),this._collectWebVitals=startTrackingWebVitals(),this.options.enableLongTask&&startTrackingLongTasks(),this.options._experiments.enableInteractions&&startTrackingInteractions()}setupOnce(c,h){this._getCurrentHub=h;const B=h().getClient(),v=B&&B.getOptions(),{routingInstrumentation:D,startTransactionOnLocationChange:_,startTransactionOnPageLoad:m,markBackgroundTransactions:I,traceFetch:Q,traceXHR:p,shouldCreateSpanForRequest:u,enableHTTPTimings:y,_experiments:N}=this.options,U=v&&v.tracePropagationTargets,q=U||this.options.tracePropagationTargets;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._hasSetTracePropagationTargets&&U&&logger.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),D(te=>{const F=this._createRouteTransaction(te);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(F,te,h),F},m,_),I&&registerBackgroundTabDetection(),N.enableInteractions&&this._registerInteractionListener(),instrumentOutgoingRequests({traceFetch:Q,traceXHR:p,tracePropagationTargets:q,shouldCreateSpanForRequest:u,enableHTTPTimings:y})}_createRouteTransaction(c){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`[Tracing] Did not create ${c.op} transaction because _getCurrentHub is invalid.`);return}const h=this._getCurrentHub(),{beforeNavigate:f,idleTimeout:B,finalTimeout:v,heartbeatInterval:D}=this.options,_=c.op==="pageload",m=_?getMetaContent("sentry-trace"):"",I=_?getMetaContent("baggage"):"",{traceparentData:Q,dynamicSamplingContext:p,propagationContext:u}=tracingContextFromHeaders(m,I),y={...c,...Q,metadata:{...c.metadata,dynamicSamplingContext:Q&&!p?{}:p},trimEnd:!0},N=typeof f=="function"?f(y):y,U=N===void 0?{...y,sampled:!1}:N;U.metadata=U.name!==y.name?{...U.metadata,source:"custom"}:U.metadata,this._latestRouteName=U.name,this._latestRouteSource=U.metadata&&U.metadata.source,U.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] Will not send ${U.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log(`[Tracing] Starting ${U.op} transaction on scope`);const{location:q}=WINDOW$1,te=startIdleTransaction(h,U,B,v,!0,{location:q},D),F=h.getScope();return _&&Q?F.setPropagationContext(u):F.setPropagationContext({traceId:te.traceId,spanId:te.spanId,parentSpanId:te.parentSpanId,sampled:te.sampled}),te.registerBeforeFinishCallback(V=>{this._collectWebVitals(),addPerformanceEntries(V)}),te}_registerInteractionListener(){let c;const h=()=>{const{idleTimeout:f,finalTimeout:B,heartbeatInterval:v}=this.options,D="ui.action.click",_=getActiveTransaction();if(_&&_.op&&["navigation","pageload"].includes(_.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`[Tracing] Did not create ${D} transaction because a pageload or navigation transaction is in progress.`);return}if(c&&(c.setFinishReason("interactionInterrupted"),c.finish(),c=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`[Tracing] Did not create ${D} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`[Tracing] Did not create ${D} transaction because _latestRouteName is missing.`);return}const m=this._getCurrentHub(),{location:I}=WINDOW$1,Q={name:this._latestRouteName,op:D,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};c=startIdleTransaction(m,Q,f,B,!0,{location:I},v)};["click"].forEach(f=>{addEventListener(f,h,{once:!1,capture:!0})})}}function getMetaContent(a){const c=getDomElement(`meta[name=${a}]`);return c?c.getAttribute("content"):void 0}const WINDOW=GLOBAL_OBJ,REPLAY_SESSION_KEY="sentryReplaySession",REPLAY_EVENT_NAME="replay_event",UNABLE_TO_SEND_REPLAY="Unable to send Replay",SESSION_IDLE_PAUSE_DURATION=3e5,SESSION_IDLE_EXPIRE_DURATION=9e5,DEFAULT_FLUSH_MIN_DELAY=5e3,DEFAULT_FLUSH_MAX_DELAY=5500,BUFFER_CHECKOUT_TIME=6e4,RETRY_BASE_INTERVAL=5e3,RETRY_MAX_COUNT=3,NETWORK_BODY_MAX_SIZE=15e4,CONSOLE_ARG_MAX_SIZE=5e3,SLOW_CLICK_THRESHOLD=3e3,SLOW_CLICK_SCROLL_TIMEOUT=300,REPLAY_MAX_EVENT_BUFFER_SIZE=2e7,MIN_REPLAY_DURATION=4999,MIN_REPLAY_DURATION_LIMIT=15e3,MAX_REPLAY_DURATION=36e5;var NodeType$1;(function(a){a[a.Document=0]="Document",a[a.DocumentType=1]="DocumentType",a[a.Element=2]="Element",a[a.Text=3]="Text",a[a.CDATA=4]="CDATA",a[a.Comment=5]="Comment"})(NodeType$1||(NodeType$1={}));function isElement$1(a){return a.nodeType===a.ELEMENT_NODE}function isShadowRoot(a){const c=a==null?void 0:a.host;return(c==null?void 0:c.shadowRoot)===a}function isNativeShadowDom(a){return Object.prototype.toString.call(a)==="[object ShadowRoot]"}function fixBrowserCompatibilityIssuesInCSS(a){return a.includes(" background-clip: text;")&&!a.includes(" -webkit-background-clip: text;")&&(a=a.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),a}function escapeImportStatement(a){const{cssText:c}=a;if(c.split('"').length<3)return c;const h=["@import",`url(${JSON.stringify(a.href)})`];return a.layerName===""?h.push("layer"):a.layerName&&h.push(`layer(${a.layerName})`),a.supportsText&&h.push(`supports(${a.supportsText})`),a.media.length&&h.push(a.media.mediaText),h.join(" ")+";"}function stringifyStylesheet(a){try{const c=a.rules||a.cssRules;return c?fixBrowserCompatibilityIssuesInCSS(Array.from(c,stringifyRule).join("")):null}catch{return null}}function stringifyRule(a){let c;if(isCSSImportRule(a))try{c=stringifyStylesheet(a.styleSheet)||escapeImportStatement(a)}catch{}else if(isCSSStyleRule(a)&&a.selectorText.includes(":"))return fixSafariColons(a.cssText);return c||a.cssText}function fixSafariColons(a){const c=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return a.replace(c,"$1\\$2")}function isCSSImportRule(a){return"styleSheet"in a}function isCSSStyleRule(a){return"selectorText"in a}class Mirror{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(c){var h;if(!c)return-1;const f=(h=this.getMeta(c))===null||h===void 0?void 0:h.id;return f!=null?f:-1}getNode(c){return this.idNodeMap.get(c)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(c){return this.nodeMetaMap.get(c)||null}removeNodeFromMap(c){const h=this.getId(c);this.idNodeMap.delete(h),c.childNodes&&c.childNodes.forEach(f=>this.removeNodeFromMap(f))}has(c){return this.idNodeMap.has(c)}hasNode(c){return this.nodeMetaMap.has(c)}add(c,h){const f=h.id;this.idNodeMap.set(f,c),this.nodeMetaMap.set(c,h)}replace(c,h){const f=this.getNode(c);if(f){const B=this.nodeMetaMap.get(f);B&&this.nodeMetaMap.set(h,B)}this.idNodeMap.set(c,h)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function createMirror(){return new Mirror}function shouldMaskInput({maskInputOptions:a,tagName:c,type:h}){return c==="OPTION"&&(c="SELECT"),!!(a[c.toLowerCase()]||h&&a[h]||h==="password"||c==="INPUT"&&!h&&a.text)}function maskInputValue({isMasked:a,element:c,value:h,maskInputFn:f}){let B=h||"";return a?(f&&(B=f(B,c)),"*".repeat(B.length)):B}function toLowerCase(a){return a.toLowerCase()}function toUpperCase(a){return a.toUpperCase()}const ORIGINAL_ATTRIBUTE_NAME="__rrweb_original__";function is2DCanvasBlank(a){const c=a.getContext("2d");if(!c)return!0;const h=50;for(let f=0;f<a.width;f+=h)for(let B=0;B<a.height;B+=h){const v=c.getImageData,D=ORIGINAL_ATTRIBUTE_NAME in v?v[ORIGINAL_ATTRIBUTE_NAME]:v;if(new Uint32Array(D.call(c,f,B,Math.min(h,a.width-f),Math.min(h,a.height-B)).data.buffer).some(m=>m!==0))return!1}return!0}function getInputType(a){const c=a.type;return a.hasAttribute("data-rr-is-password")?"password":c?toLowerCase(c):null}function getInputValue(a,c,h){return c==="INPUT"&&(h==="radio"||h==="checkbox")?a.getAttribute("value")||"":a.value}let _id=1;const tagNameRegex=new RegExp("[^a-z0-9-_:]"),IGNORED_NODE=-2;function genId(){return _id++}function getValidTagName(a){if(a instanceof HTMLFormElement)return"form";const c=toLowerCase(a.tagName);return tagNameRegex.test(c)?"div":c}function extractOrigin(a){let c="";return a.indexOf("//")>-1?c=a.split("/").slice(0,3).join("/"):c=a.split("/")[0],c=c.split("?")[0],c}let canvasService,canvasCtx;const URL_IN_CSS_REF=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,URL_PROTOCOL_MATCH=/^(?:[a-z+]+:)?\/\//i,URL_WWW_MATCH=/^www\..*/i,DATA_URI=/^(data:)([^,]*),(.*)/i;function absoluteToStylesheet(a,c){return(a||"").replace(URL_IN_CSS_REF,(h,f,B,v,D,_)=>{const m=B||D||_,I=f||v||"";if(!m)return h;if(URL_PROTOCOL_MATCH.test(m)||URL_WWW_MATCH.test(m))return`url(${I}${m}${I})`;if(DATA_URI.test(m))return`url(${I}${m}${I})`;if(m[0]==="/")return`url(${I}${extractOrigin(c)+m}${I})`;const Q=c.split("/"),p=m.split("/");Q.pop();for(const u of p)u!=="."&&(u===".."?Q.pop():Q.push(u));return`url(${I}${Q.join("/")}${I})`})}const SRCSET_NOT_SPACES=/^[^ \t\n\r\u000c]+/,SRCSET_COMMAS_OR_SPACES=/^[, \t\n\r\u000c]+/;function getAbsoluteSrcsetString(a,c){if(c.trim()==="")return c;let h=0;function f(v){let D;const _=v.exec(c.substring(h));return _?(D=_[0],h+=D.length,D):""}const B=[];for(;f(SRCSET_COMMAS_OR_SPACES),!(h>=c.length);){let v=f(SRCSET_NOT_SPACES);if(v.slice(-1)===",")v=absoluteToDoc(a,v.substring(0,v.length-1)),B.push(v);else{let D="";v=absoluteToDoc(a,v);let _=!1;for(;;){const m=c.charAt(h);if(m===""){B.push((v+D).trim());break}else if(_)m===")"&&(_=!1);else if(m===","){h+=1,B.push((v+D).trim());break}else m==="("&&(_=!0);D+=m,h+=1}}}return B.join(", ")}function absoluteToDoc(a,c){if(!c||c.trim()==="")return c;const h=a.createElement("a");return h.href=c,h.href}function isSVGElement(a){return!!(a.tagName==="svg"||a.ownerSVGElement)}function getHref(){const a=document.createElement("a");return a.href="",a.href}function transformAttribute(a,c,h,f,B,v){return f&&(h==="src"||h==="href"&&!(c==="use"&&f[0]==="#")||h==="xlink:href"&&f[0]!=="#"||h==="background"&&(c==="table"||c==="td"||c==="th")?absoluteToDoc(a,f):h==="srcset"?getAbsoluteSrcsetString(a,f):h==="style"?absoluteToStylesheet(f,getHref()):c==="object"&&h==="data"?absoluteToDoc(a,f):typeof v=="function"?v(h,f,B):f)}function ignoreAttribute(a,c,h){return(a==="video"||a==="audio")&&c==="autoplay"}function _isBlockedElement(a,c,h,f){try{if(f&&a.matches(f))return!1;if(typeof c=="string"){if(a.classList.contains(c))return!0}else for(let B=a.classList.length;B--;){const v=a.classList[B];if(c.test(v))return!0}if(h)return a.matches(h)}catch{}return!1}function elementClassMatchesRegex(a,c){for(let h=a.classList.length;h--;){const f=a.classList[h];if(c.test(f))return!0}return!1}function distanceToMatch(a,c,h=1/0,f=0){return!a||a.nodeType!==a.ELEMENT_NODE||f>h?-1:c(a)?f:distanceToMatch(a.parentNode,c,h,f+1)}function createMatchPredicate(a,c){return h=>{const f=h;if(f===null)return!1;if(a){if(typeof a=="string"){if(f.matches(`.${a}`))return!0}else if(elementClassMatchesRegex(f,a))return!0}return!!(c&&f.matches(c))}}function needMaskingText(a,c,h,f,B,v){try{const D=a.nodeType===a.ELEMENT_NODE?a:a.parentElement;if(D===null)return!1;let _=-1,m=-1;if(v){if(m=distanceToMatch(D,createMatchPredicate(f,B)),m<0)return!0;_=distanceToMatch(D,createMatchPredicate(c,h),m>=0?m:1/0)}else{if(_=distanceToMatch(D,createMatchPredicate(c,h)),_<0)return!1;m=distanceToMatch(D,createMatchPredicate(f,B),_>=0?_:1/0)}return _>=0?m>=0?_<=m:!0:m>=0?!1:!!v}catch{}return!!v}function onceIframeLoaded(a,c,h){const f=a.contentWindow;if(!f)return;let B=!1,v;try{v=f.document.readyState}catch{return}if(v!=="complete"){const _=setTimeout(()=>{B||(c(),B=!0)},h);a.addEventListener("load",()=>{clearTimeout(_),B=!0,c()});return}const D="about:blank";if(f.location.href!==D||a.src===D||a.src==="")return setTimeout(c,0),a.addEventListener("load",c);a.addEventListener("load",c)}function onceStylesheetLoaded(a,c,h){let f=!1,B;try{B=a.sheet}catch{return}if(B)return;const v=setTimeout(()=>{f||(c(),f=!0)},h);a.addEventListener("load",()=>{clearTimeout(v),f=!0,c()})}function serializeNode(a,c){const{doc:h,mirror:f,blockClass:B,blockSelector:v,unblockSelector:D,maskAllText:_,maskAttributeFn:m,maskTextClass:I,unmaskTextClass:Q,maskTextSelector:p,unmaskTextSelector:u,inlineStylesheet:y,maskInputOptions:N={},maskTextFn:U,maskInputFn:q,dataURLOptions:te={},inlineImages:F,recordCanvas:V,keepIframeSrcFn:z,newlyAddedElement:$=!1}=c,L=getRootId(h,f);switch(a.nodeType){case a.DOCUMENT_NODE:return a.compatMode!=="CSS1Compat"?{type:NodeType$1.Document,childNodes:[],compatMode:a.compatMode}:{type:NodeType$1.Document,childNodes:[]};case a.DOCUMENT_TYPE_NODE:return{type:NodeType$1.DocumentType,name:a.name,publicId:a.publicId,systemId:a.systemId,rootId:L};case a.ELEMENT_NODE:return serializeElementNode(a,{doc:h,blockClass:B,blockSelector:v,unblockSelector:D,inlineStylesheet:y,maskAttributeFn:m,maskInputOptions:N,maskInputFn:q,dataURLOptions:te,inlineImages:F,recordCanvas:V,keepIframeSrcFn:z,newlyAddedElement:$,rootId:L,maskAllText:_,maskTextClass:I,unmaskTextClass:Q,maskTextSelector:p,unmaskTextSelector:u});case a.TEXT_NODE:return serializeTextNode(a,{maskAllText:_,maskTextClass:I,unmaskTextClass:Q,maskTextSelector:p,unmaskTextSelector:u,maskTextFn:U,maskInputOptions:N,maskInputFn:q,rootId:L});case a.CDATA_SECTION_NODE:return{type:NodeType$1.CDATA,textContent:"",rootId:L};case a.COMMENT_NODE:return{type:NodeType$1.Comment,textContent:a.textContent||"",rootId:L};default:return!1}}function getRootId(a,c){if(!c.hasNode(a))return;const h=c.getId(a);return h===1?void 0:h}function serializeTextNode(a,c){var h;const{maskAllText:f,maskTextClass:B,unmaskTextClass:v,maskTextSelector:D,unmaskTextSelector:_,maskTextFn:m,maskInputOptions:I,maskInputFn:Q,rootId:p}=c,u=a.parentNode&&a.parentNode.tagName;let y=a.textContent;const N=u==="STYLE"?!0:void 0,U=u==="SCRIPT"?!0:void 0,q=u==="TEXTAREA"?!0:void 0;if(N&&y){try{a.nextSibling||a.previousSibling||!((h=a.parentNode.sheet)===null||h===void 0)&&h.cssRules&&(y=stringifyStylesheet(a.parentNode.sheet))}catch(F){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${F}`,a)}y=absoluteToStylesheet(y,getHref())}U&&(y="SCRIPT_PLACEHOLDER");const te=needMaskingText(a,B,D,v,_,f);if(!N&&!U&&!q&&y&&te&&(y=m?m(y):y.replace(/[\S]/g,"*")),q&&y&&(I.textarea||te)&&(y=Q?Q(y,a.parentNode):y.replace(/[\S]/g,"*")),u==="OPTION"&&y){const F=shouldMaskInput({type:null,tagName:u,maskInputOptions:I});y=maskInputValue({isMasked:needMaskingText(a,B,D,v,_,F),element:a,value:y,maskInputFn:Q})}return{type:NodeType$1.Text,textContent:y||"",isStyle:N,rootId:p}}function serializeElementNode(a,c){const{doc:h,blockClass:f,blockSelector:B,unblockSelector:v,inlineStylesheet:D,maskInputOptions:_={},maskAttributeFn:m,maskInputFn:I,dataURLOptions:Q={},inlineImages:p,recordCanvas:u,keepIframeSrcFn:y,newlyAddedElement:N=!1,rootId:U,maskAllText:q,maskTextClass:te,unmaskTextClass:F,maskTextSelector:V,unmaskTextSelector:z}=c,$=_isBlockedElement(a,f,B,v),L=getValidTagName(a);let O={};const T=a.attributes.length;for(let k=0;k<T;k++){const Y=a.attributes[k];ignoreAttribute(L,Y.name,Y.value)||(O[Y.name]=transformAttribute(h,L,toLowerCase(Y.name),Y.value,a,m))}if(L==="link"&&D){const k=Array.from(h.styleSheets).find(Z=>Z.href===a.href);let Y=null;k&&(Y=stringifyStylesheet(k)),Y&&(delete O.rel,delete O.href,O._cssText=absoluteToStylesheet(Y,k.href))}if(L==="style"&&a.sheet&&!(a.innerText||a.textContent||"").trim().length){const k=stringifyStylesheet(a.sheet);k&&(O._cssText=absoluteToStylesheet(k,getHref()))}if(L==="input"||L==="textarea"||L==="select"||L==="option"){const k=a,Y=getInputType(k),Z=getInputValue(k,toUpperCase(L),Y),W=k.checked;if(Y!=="submit"&&Y!=="button"&&Z){const K=needMaskingText(k,te,V,F,z,shouldMaskInput({type:Y,tagName:toUpperCase(L),maskInputOptions:_}));O.value=maskInputValue({isMasked:K,element:k,value:Z,maskInputFn:I})}W&&(O.checked=W)}if(L==="option"&&(a.selected&&!_.select?O.selected=!0:delete O.selected),L==="canvas"&&u){if(a.__context==="2d")is2DCanvasBlank(a)||(O.rr_dataURL=a.toDataURL(Q.type,Q.quality));else if(!("__context"in a)){const k=a.toDataURL(Q.type,Q.quality),Y=document.createElement("canvas");Y.width=a.width,Y.height=a.height;const Z=Y.toDataURL(Q.type,Q.quality);k!==Z&&(O.rr_dataURL=k)}}if(L==="img"&&p){canvasService||(canvasService=h.createElement("canvas"),canvasCtx=canvasService.getContext("2d"));const k=a,Y=k.crossOrigin;k.crossOrigin="anonymous";const Z=()=>{k.removeEventListener("load",Z);try{canvasService.width=k.naturalWidth,canvasService.height=k.naturalHeight,canvasCtx.drawImage(k,0,0),O.rr_dataURL=canvasService.toDataURL(Q.type,Q.quality)}catch(W){console.warn(`Cannot inline img src=${k.currentSrc}! Error: ${W}`)}Y?O.crossOrigin=Y:k.removeAttribute("crossorigin")};k.complete&&k.naturalWidth!==0?Z():k.addEventListener("load",Z)}if((L==="audio"||L==="video")&&(O.rr_mediaState=a.paused?"paused":"played",O.rr_mediaCurrentTime=a.currentTime),N||(a.scrollLeft&&(O.rr_scrollLeft=a.scrollLeft),a.scrollTop&&(O.rr_scrollTop=a.scrollTop)),$){const{width:k,height:Y}=a.getBoundingClientRect();O={class:O.class,rr_width:`${k}px`,rr_height:`${Y}px`}}L==="iframe"&&!y(O.src)&&(a.contentDocument||(O.rr_src=O.src),delete O.src);let w;try{customElements.get(L)&&(w=!0)}catch{}return{type:NodeType$1.Element,tagName:L,attributes:O,childNodes:[],isSVG:isSVGElement(a)||void 0,needBlock:$,rootId:U,isCustom:w}}function lowerIfExists(a){return a==null?"":a.toLowerCase()}function slimDOMExcluded(a,c){if(c.comment&&a.type===NodeType$1.Comment)return!0;if(a.type===NodeType$1.Element){if(c.script&&(a.tagName==="script"||a.tagName==="link"&&(a.attributes.rel==="preload"||a.attributes.rel==="modulepreload")&&a.attributes.as==="script"||a.tagName==="link"&&a.attributes.rel==="prefetch"&&typeof a.attributes.href=="string"&&a.attributes.href.endsWith(".js")))return!0;if(c.headFavicon&&(a.tagName==="link"&&a.attributes.rel==="shortcut icon"||a.tagName==="meta"&&(lowerIfExists(a.attributes.name).match(/^msapplication-tile(image|color)$/)||lowerIfExists(a.attributes.name)==="application-name"||lowerIfExists(a.attributes.rel)==="icon"||lowerIfExists(a.attributes.rel)==="apple-touch-icon"||lowerIfExists(a.attributes.rel)==="shortcut icon")))return!0;if(a.tagName==="meta"){if(c.headMetaDescKeywords&&lowerIfExists(a.attributes.name).match(/^description|keywords$/))return!0;if(c.headMetaSocial&&(lowerIfExists(a.attributes.property).match(/^(og|twitter|fb):/)||lowerIfExists(a.attributes.name).match(/^(og|twitter):/)||lowerIfExists(a.attributes.name)==="pinterest"))return!0;if(c.headMetaRobots&&(lowerIfExists(a.attributes.name)==="robots"||lowerIfExists(a.attributes.name)==="googlebot"||lowerIfExists(a.attributes.name)==="bingbot"))return!0;if(c.headMetaHttpEquiv&&a.attributes["http-equiv"]!==void 0)return!0;if(c.headMetaAuthorship&&(lowerIfExists(a.attributes.name)==="author"||lowerIfExists(a.attributes.name)==="generator"||lowerIfExists(a.attributes.name)==="framework"||lowerIfExists(a.attributes.name)==="publisher"||lowerIfExists(a.attributes.name)==="progid"||lowerIfExists(a.attributes.property).match(/^article:/)||lowerIfExists(a.attributes.property).match(/^product:/)))return!0;if(c.headMetaVerification&&(lowerIfExists(a.attributes.name)==="google-site-verification"||lowerIfExists(a.attributes.name)==="yandex-verification"||lowerIfExists(a.attributes.name)==="csrf-token"||lowerIfExists(a.attributes.name)==="p:domain_verify"||lowerIfExists(a.attributes.name)==="verify-v1"||lowerIfExists(a.attributes.name)==="verification"||lowerIfExists(a.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function serializeNodeWithId(a,c){const{doc:h,mirror:f,blockClass:B,blockSelector:v,unblockSelector:D,maskAllText:_,maskTextClass:m,unmaskTextClass:I,maskTextSelector:Q,unmaskTextSelector:p,skipChild:u=!1,inlineStylesheet:y=!0,maskInputOptions:N={},maskAttributeFn:U,maskTextFn:q,maskInputFn:te,slimDOMOptions:F,dataURLOptions:V={},inlineImages:z=!1,recordCanvas:$=!1,onSerialize:L,onIframeLoad:O,iframeLoadTimeout:T=5e3,onStylesheetLoad:w,stylesheetLoadTimeout:k=5e3,keepIframeSrcFn:Y=()=>!1,newlyAddedElement:Z=!1}=c;let{preserveWhiteSpace:W=!0}=c;const K=serializeNode(a,{doc:h,mirror:f,blockClass:B,blockSelector:v,maskAllText:_,unblockSelector:D,maskTextClass:m,unmaskTextClass:I,maskTextSelector:Q,unmaskTextSelector:p,inlineStylesheet:y,maskInputOptions:N,maskAttributeFn:U,maskTextFn:q,maskInputFn:te,dataURLOptions:V,inlineImages:z,recordCanvas:$,keepIframeSrcFn:Y,newlyAddedElement:Z});if(!K)return console.warn(a,"not serialized"),null;let x;f.hasNode(a)?x=f.getId(a):slimDOMExcluded(K,F)||!W&&K.type===NodeType$1.Text&&!K.isStyle&&!K.textContent.replace(/^\s+|\s+$/gm,"").length?x=IGNORED_NODE:x=genId();const X=Object.assign(K,{id:x});if(f.add(a,X),x===IGNORED_NODE)return null;L&&L(a);let H=!u;if(X.type===NodeType$1.Element){H=H&&!X.needBlock,delete X.needBlock;const j=a.shadowRoot;j&&isNativeShadowDom(j)&&(X.isShadowHost=!0)}if((X.type===NodeType$1.Document||X.type===NodeType$1.Element)&&H){F.headWhitespace&&X.type===NodeType$1.Element&&X.tagName==="head"&&(W=!1);const j={doc:h,mirror:f,blockClass:B,blockSelector:v,maskAllText:_,unblockSelector:D,maskTextClass:m,unmaskTextClass:I,maskTextSelector:Q,unmaskTextSelector:p,skipChild:u,inlineStylesheet:y,maskInputOptions:N,maskAttributeFn:U,maskTextFn:q,maskInputFn:te,slimDOMOptions:F,dataURLOptions:V,inlineImages:z,recordCanvas:$,preserveWhiteSpace:W,onSerialize:L,onIframeLoad:O,iframeLoadTimeout:T,onStylesheetLoad:w,stylesheetLoadTimeout:k,keepIframeSrcFn:Y};for(const ae of Array.from(a.childNodes)){const ce=serializeNodeWithId(ae,j);ce&&X.childNodes.push(ce)}if(isElement$1(a)&&a.shadowRoot)for(const ae of Array.from(a.shadowRoot.childNodes)){const ce=serializeNodeWithId(ae,j);ce&&(isNativeShadowDom(a.shadowRoot)&&(ce.isShadow=!0),X.childNodes.push(ce))}}return a.parentNode&&isShadowRoot(a.parentNode)&&isNativeShadowDom(a.parentNode)&&(X.isShadow=!0),X.type===NodeType$1.Element&&X.tagName==="iframe"&&onceIframeLoaded(a,()=>{const j=a.contentDocument;if(j&&O){const ae=serializeNodeWithId(j,{doc:j,mirror:f,blockClass:B,blockSelector:v,unblockSelector:D,maskAllText:_,maskTextClass:m,unmaskTextClass:I,maskTextSelector:Q,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:N,maskAttributeFn:U,maskTextFn:q,maskInputFn:te,slimDOMOptions:F,dataURLOptions:V,inlineImages:z,recordCanvas:$,preserveWhiteSpace:W,onSerialize:L,onIframeLoad:O,iframeLoadTimeout:T,onStylesheetLoad:w,stylesheetLoadTimeout:k,keepIframeSrcFn:Y});ae&&O(a,ae)}},T),X.type===NodeType$1.Element&&X.tagName==="link"&&X.attributes.rel==="stylesheet"&&onceStylesheetLoaded(a,()=>{if(w){const j=serializeNodeWithId(a,{doc:h,mirror:f,blockClass:B,blockSelector:v,unblockSelector:D,maskAllText:_,maskTextClass:m,unmaskTextClass:I,maskTextSelector:Q,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:y,maskInputOptions:N,maskAttributeFn:U,maskTextFn:q,maskInputFn:te,slimDOMOptions:F,dataURLOptions:V,inlineImages:z,recordCanvas:$,preserveWhiteSpace:W,onSerialize:L,onIframeLoad:O,iframeLoadTimeout:T,onStylesheetLoad:w,stylesheetLoadTimeout:k,keepIframeSrcFn:Y});j&&w(a,j)}},k),X}function snapshot(a,c){const{mirror:h=new Mirror,blockClass:f="rr-block",blockSelector:B=null,unblockSelector:v=null,maskAllText:D=!1,maskTextClass:_="rr-mask",unmaskTextClass:m=null,maskTextSelector:I=null,unmaskTextSelector:Q=null,inlineStylesheet:p=!0,inlineImages:u=!1,recordCanvas:y=!1,maskAllInputs:N=!1,maskAttributeFn:U,maskTextFn:q,maskInputFn:te,slimDOM:F=!1,dataURLOptions:V,preserveWhiteSpace:z,onSerialize:$,onIframeLoad:L,iframeLoadTimeout:O,onStylesheetLoad:T,stylesheetLoadTimeout:w,keepIframeSrcFn:k=()=>!1}=c||{};return serializeNodeWithId(a,{doc:a,mirror:h,blockClass:f,blockSelector:B,unblockSelector:v,maskAllText:D,maskTextClass:_,unmaskTextClass:m,maskTextSelector:I,unmaskTextSelector:Q,skipChild:!1,inlineStylesheet:p,maskInputOptions:N===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:N===!1?{}:N,maskAttributeFn:U,maskTextFn:q,maskInputFn:te,slimDOMOptions:F===!0||F==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:F==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:F===!1?{}:F,dataURLOptions:V,inlineImages:u,recordCanvas:y,preserveWhiteSpace:z,onSerialize:$,onIframeLoad:L,iframeLoadTimeout:O,onStylesheetLoad:T,stylesheetLoadTimeout:w,keepIframeSrcFn:k,newlyAddedElement:!1})}function on(a,c,h=document){const f={capture:!0,passive:!0};return h.addEventListener(a,c,f),()=>h.removeEventListener(a,c,f)}const DEPARTED_MIRROR_ACCESS_WARNING=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let _mirror={map:{},getId(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),-1},getNode(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),null},removeNodeFromMap(){console.error(DEPARTED_MIRROR_ACCESS_WARNING)},has(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),!1},reset(){console.error(DEPARTED_MIRROR_ACCESS_WARNING)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(_mirror=new Proxy(_mirror,{get(a,c,h){return c==="map"&&console.error(DEPARTED_MIRROR_ACCESS_WARNING),Reflect.get(a,c,h)}}));function throttle$1(a,c,h={}){let f=null,B=0;return function(...v){const D=Date.now();!B&&h.leading===!1&&(B=D);const _=c-(D-B),m=this;_<=0||_>c?(f&&(clearTimeout(f),f=null),B=D,a.apply(m,v)):!f&&h.trailing!==!1&&(f=setTimeout(()=>{B=h.leading===!1?0:Date.now(),f=null,a.apply(m,v)},_))}}function hookSetter(a,c,h,f,B=window){const v=B.Object.getOwnPropertyDescriptor(a,c);return B.Object.defineProperty(a,c,f?h:{set(D){setTimeout(()=>{h.set.call(this,D)},0),v&&v.set&&v.set.call(this,D)}}),()=>hookSetter(a,c,v||{},!0)}function patch(a,c,h){try{if(!(c in a))return()=>{};const f=a[c],B=h(f);return typeof B=="function"&&(B.prototype=B.prototype||{},Object.defineProperties(B,{__rrweb_original__:{enumerable:!1,value:f}})),a[c]=B,()=>{a[c]=f}}catch{return()=>{}}}let nowTimestamp=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(nowTimestamp=()=>new Date().getTime());function getWindowScroll(a){var c,h,f,B,v,D;const _=a.document;return{left:_.scrollingElement?_.scrollingElement.scrollLeft:a.pageXOffset!==void 0?a.pageXOffset:(_==null?void 0:_.documentElement.scrollLeft)||((h=(c=_==null?void 0:_.body)===null||c===void 0?void 0:c.parentElement)===null||h===void 0?void 0:h.scrollLeft)||((f=_==null?void 0:_.body)===null||f===void 0?void 0:f.scrollLeft)||0,top:_.scrollingElement?_.scrollingElement.scrollTop:a.pageYOffset!==void 0?a.pageYOffset:(_==null?void 0:_.documentElement.scrollTop)||((v=(B=_==null?void 0:_.body)===null||B===void 0?void 0:B.parentElement)===null||v===void 0?void 0:v.scrollTop)||((D=_==null?void 0:_.body)===null||D===void 0?void 0:D.scrollTop)||0}}function getWindowHeight(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function getWindowWidth(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function isBlocked(a,c,h,f,B){if(!a)return!1;const v=a.nodeType===a.ELEMENT_NODE?a:a.parentElement;if(!v)return!1;const D=createMatchPredicate(c,h);if(!B){const I=f&&v.matches(f);return D(v)&&!I}const _=distanceToMatch(v,D);let m=-1;return _<0?!1:(f&&(m=distanceToMatch(v,createMatchPredicate(null,f))),_>-1&&m<0?!0:_<m)}function isSerialized(a,c){return c.getId(a)!==-1}function isIgnored(a,c){return c.getId(a)===IGNORED_NODE}function isAncestorRemoved(a,c){if(isShadowRoot(a))return!1;const h=c.getId(a);return c.has(h)?a.parentNode&&a.parentNode.nodeType===a.DOCUMENT_NODE?!1:a.parentNode?isAncestorRemoved(a.parentNode,c):!0:!0}function legacy_isTouchEvent(a){return!!a.changedTouches}function polyfill(a=window){"NodeList"in a&&!a.NodeList.prototype.forEach&&(a.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in a&&!a.DOMTokenList.prototype.forEach&&(a.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...c)=>{let h=c[0];if(!(0 in c))throw new TypeError("1 argument is required");do if(this===h)return!0;while(h=h&&h.parentNode);return!1})}function isSerializedIframe(a,c){return!!(a.nodeName==="IFRAME"&&c.getMeta(a))}function isSerializedStylesheet(a,c){return!!(a.nodeName==="LINK"&&a.nodeType===a.ELEMENT_NODE&&a.getAttribute&&a.getAttribute("rel")==="stylesheet"&&c.getMeta(a))}function hasShadowRoot(a){return!!(a!=null&&a.shadowRoot)}class StyleSheetMirror{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(c){var h;return(h=this.styleIDMap.get(c))!==null&&h!==void 0?h:-1}has(c){return this.styleIDMap.has(c)}add(c,h){if(this.has(c))return this.getId(c);let f;return h===void 0?f=this.id++:f=h,this.styleIDMap.set(c,f),this.idStyleMap.set(f,c),f}getStyle(c){return this.idStyleMap.get(c)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function getShadowHost(a){var c,h;let f=null;return((h=(c=a.getRootNode)===null||c===void 0?void 0:c.call(a))===null||h===void 0?void 0:h.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&a.getRootNode().host&&(f=a.getRootNode().host),f}function getRootShadowHost(a){let c=a,h;for(;h=getShadowHost(c);)c=h;return c}function shadowHostInDom(a){const c=a.ownerDocument;if(!c)return!1;const h=getRootShadowHost(a);return c.contains(h)}function inDom(a){const c=a.ownerDocument;return c?c.contains(a)||shadowHostInDom(a):!1}var EventType=(a=>(a[a.DomContentLoaded=0]="DomContentLoaded",a[a.Load=1]="Load",a[a.FullSnapshot=2]="FullSnapshot",a[a.IncrementalSnapshot=3]="IncrementalSnapshot",a[a.Meta=4]="Meta",a[a.Custom=5]="Custom",a[a.Plugin=6]="Plugin",a))(EventType||{}),IncrementalSource=(a=>(a[a.Mutation=0]="Mutation",a[a.MouseMove=1]="MouseMove",a[a.MouseInteraction=2]="MouseInteraction",a[a.Scroll=3]="Scroll",a[a.ViewportResize=4]="ViewportResize",a[a.Input=5]="Input",a[a.TouchMove=6]="TouchMove",a[a.MediaInteraction=7]="MediaInteraction",a[a.StyleSheetRule=8]="StyleSheetRule",a[a.CanvasMutation=9]="CanvasMutation",a[a.Font=10]="Font",a[a.Log=11]="Log",a[a.Drag=12]="Drag",a[a.StyleDeclaration=13]="StyleDeclaration",a[a.Selection=14]="Selection",a[a.AdoptedStyleSheet=15]="AdoptedStyleSheet",a[a.CustomElement=16]="CustomElement",a))(IncrementalSource||{}),MouseInteractions=(a=>(a[a.MouseUp=0]="MouseUp",a[a.MouseDown=1]="MouseDown",a[a.Click=2]="Click",a[a.ContextMenu=3]="ContextMenu",a[a.DblClick=4]="DblClick",a[a.Focus=5]="Focus",a[a.Blur=6]="Blur",a[a.TouchStart=7]="TouchStart",a[a.TouchMove_Departed=8]="TouchMove_Departed",a[a.TouchEnd=9]="TouchEnd",a[a.TouchCancel=10]="TouchCancel",a))(MouseInteractions||{}),PointerTypes=(a=>(a[a.Mouse=0]="Mouse",a[a.Pen=1]="Pen",a[a.Touch=2]="Touch",a))(PointerTypes||{}),CanvasContext=(a=>(a[a["2D"]=0]="2D",a[a.WebGL=1]="WebGL",a[a.WebGL2=2]="WebGL2",a))(CanvasContext||{});function isNodeInLinkedList(a){return"__ln"in a}class DoubleLinkedList{constructor(){this.length=0,this.head=null,this.tail=null}get(c){if(c>=this.length)throw new Error("Position outside of list range");let h=this.head;for(let f=0;f<c;f++)h=(h==null?void 0:h.next)||null;return h}addNode(c){const h={value:c,previous:null,next:null};if(c.__ln=h,c.previousSibling&&isNodeInLinkedList(c.previousSibling)){const f=c.previousSibling.__ln.next;h.next=f,h.previous=c.previousSibling.__ln,c.previousSibling.__ln.next=h,f&&(f.previous=h)}else if(c.nextSibling&&isNodeInLinkedList(c.nextSibling)&&c.nextSibling.__ln.previous){const f=c.nextSibling.__ln.previous;h.previous=f,h.next=c.nextSibling.__ln,c.nextSibling.__ln.previous=h,f&&(f.next=h)}else this.head&&(this.head.previous=h),h.next=this.head,this.head=h;h.next===null&&(this.tail=h),this.length++}removeNode(c){const h=c.__ln;this.head&&(h.previous?(h.previous.next=h.next,h.next?h.next.previous=h.previous:this.tail=h.previous):(this.head=h.next,this.head?this.head.previous=null:this.tail=null),c.__ln&&delete c.__ln,this.length--)}}const moveKey=(a,c)=>`${a}@${c}`;class MutationBuffer{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=c=>{c.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const c=[],h=new Set,f=new DoubleLinkedList,B=m=>{let I=m,Q=IGNORED_NODE;for(;Q===IGNORED_NODE;)I=I&&I.nextSibling,Q=I&&this.mirror.getId(I);return Q},v=m=>{if(!m.parentNode||!inDom(m))return;const I=isShadowRoot(m.parentNode)?this.mirror.getId(getShadowHost(m)):this.mirror.getId(m.parentNode),Q=B(m);if(I===-1||Q===-1)return f.addNode(m);const p=serializeNodeWithId(m,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:u=>{isSerializedIframe(u,this.mirror)&&this.iframeManager.addIframe(u),isSerializedStylesheet(u,this.mirror)&&this.stylesheetManager.trackLinkElement(u),hasShadowRoot(m)&&this.shadowDomManager.addShadowRoot(m.shadowRoot,this.doc)},onIframeLoad:(u,y)=>{this.iframeManager.attachIframe(u,y),this.shadowDomManager.observeAttachShadow(u)},onStylesheetLoad:(u,y)=>{this.stylesheetManager.attachLinkElement(u,y)}});p&&(c.push({parentId:I,nextId:Q,node:p}),h.add(p.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const m of this.movedSet)isParentRemoved(this.removes,m,this.mirror)&&!this.movedSet.has(m.parentNode)||v(m);for(const m of this.addedSet)!isAncestorInSet(this.droppedSet,m)&&!isParentRemoved(this.removes,m,this.mirror)||isAncestorInSet(this.movedSet,m)?v(m):this.droppedSet.add(m);let D=null;for(;f.length;){let m=null;if(D){const I=this.mirror.getId(D.value.parentNode),Q=B(D.value);I!==-1&&Q!==-1&&(m=D)}if(!m){let I=f.tail;for(;I;){const Q=I;if(I=I.previous,Q){const p=this.mirror.getId(Q.value.parentNode);if(B(Q.value)===-1)continue;if(p!==-1){m=Q;break}else{const y=Q.value;if(y.parentNode&&y.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const N=y.parentNode.host;if(this.mirror.getId(N)!==-1){m=Q;break}}}}}}if(!m){for(;f.head;)f.removeNode(f.head.value);break}D=m.previous,f.removeNode(m.value),v(m.value)}const _={texts:this.texts.map(m=>({id:this.mirror.getId(m.node),value:m.value})).filter(m=>!h.has(m.id)).filter(m=>this.mirror.has(m.id)),attributes:this.attributes.map(m=>{const{attributes:I}=m;if(typeof I.style=="string"){const Q=JSON.stringify(m.styleDiff),p=JSON.stringify(m._unchangedStyles);Q.length<I.style.length&&(Q+p).split("var(").length===I.style.split("var(").length&&(I.style=m.styleDiff)}return{id:this.mirror.getId(m.node),attributes:I}}).filter(m=>!h.has(m.id)).filter(m=>this.mirror.has(m.id)),removes:this.removes,adds:c};!_.texts.length&&!_.attributes.length&&!_.removes.length&&!_.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(_))},this.processMutation=c=>{if(isIgnored(c.target,this.mirror))return;let h;try{h=document.implementation.createHTMLDocument()}catch{h=this.doc}switch(c.type){case"characterData":{const f=c.target.textContent;!isBlocked(c.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&f!==c.oldValue&&this.texts.push({value:needMaskingText(c.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&f?this.maskTextFn?this.maskTextFn(f):f.replace(/[\S]/g,"*"):f,node:c.target});break}case"attributes":{const f=c.target;let B=c.attributeName,v=c.target.getAttribute(B);if(B==="value"){const _=getInputType(f),m=f.tagName;v=getInputValue(f,m,_);const I=shouldMaskInput({maskInputOptions:this.maskInputOptions,tagName:m,type:_}),Q=needMaskingText(c.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,I);v=maskInputValue({isMasked:Q,element:f,value:v,maskInputFn:this.maskInputFn})}if(isBlocked(c.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||v===c.oldValue)return;let D=this.attributes.find(_=>_.node===c.target);if(f.tagName==="IFRAME"&&B==="src"&&!this.keepIframeSrcFn(v))if(!f.contentDocument)B="rr_src";else return;if(D||(D={node:c.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(D)),B==="type"&&f.tagName==="INPUT"&&(c.oldValue||"").toLowerCase()==="password"&&f.setAttribute("data-rr-is-password","true"),!ignoreAttribute(f.tagName,B)&&(D.attributes[B]=transformAttribute(this.doc,toLowerCase(f.tagName),toLowerCase(B),v,f,this.maskAttributeFn),B==="style")){const _=h.createElement("span");c.oldValue&&_.setAttribute("style",c.oldValue);for(const m of Array.from(f.style)){const I=f.style.getPropertyValue(m),Q=f.style.getPropertyPriority(m);I!==_.style.getPropertyValue(m)||Q!==_.style.getPropertyPriority(m)?Q===""?D.styleDiff[m]=I:D.styleDiff[m]=[I,Q]:D._unchangedStyles[m]=[I,Q]}for(const m of Array.from(_.style))f.style.getPropertyValue(m)===""&&(D.styleDiff[m]=!1)}break}case"childList":{if(isBlocked(c.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;c.addedNodes.forEach(f=>this.genAdds(f,c.target)),c.removedNodes.forEach(f=>{const B=this.mirror.getId(f),v=isShadowRoot(c.target)?this.mirror.getId(c.target.host):this.mirror.getId(c.target);isBlocked(c.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||isIgnored(f,this.mirror)||!isSerialized(f,this.mirror)||(this.addedSet.has(f)?(deepDelete(this.addedSet,f),this.droppedSet.add(f)):this.addedSet.has(c.target)&&B===-1||isAncestorRemoved(c.target,this.mirror)||(this.movedSet.has(f)&&this.movedMap[moveKey(B,v)]?deepDelete(this.movedSet,f):this.removes.push({parentId:v,id:B,isShadow:isShadowRoot(c.target)&&isNativeShadowDom(c.target)?!0:void 0})),this.mapRemoves.push(f))});break}}},this.genAdds=(c,h)=>{if(!this.processedNodeManager.inOtherBuffer(c,this)&&!(this.addedSet.has(c)||this.movedSet.has(c))){if(this.mirror.hasNode(c)){if(isIgnored(c,this.mirror))return;this.movedSet.add(c);let f=null;h&&this.mirror.hasNode(h)&&(f=this.mirror.getId(h)),f&&f!==-1&&(this.movedMap[moveKey(this.mirror.getId(c),f)]=!0)}else this.addedSet.add(c),this.droppedSet.delete(c);isBlocked(c,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(c.childNodes.forEach(f=>this.genAdds(f)),hasShadowRoot(c)&&c.shadowRoot.childNodes.forEach(f=>{this.processedNodeManager.add(f,this),this.genAdds(f,c)}))}}}init(c){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(h=>{this[h]=c[h]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function deepDelete(a,c){a.delete(c),c.childNodes.forEach(h=>deepDelete(a,h))}function isParentRemoved(a,c,h){return a.length===0?!1:_isParentRemoved(a,c,h)}function _isParentRemoved(a,c,h){const{parentNode:f}=c;if(!f)return!1;const B=h.getId(f);return a.some(v=>v.id===B)?!0:_isParentRemoved(a,f,h)}function isAncestorInSet(a,c){return a.size===0?!1:_isAncestorInSet(a,c)}function _isAncestorInSet(a,c){const{parentNode:h}=c;return h?a.has(h)?!0:_isAncestorInSet(a,h):!1}let errorHandler;function registerErrorHandler(a){errorHandler=a}function unregisterErrorHandler(){errorHandler=void 0}const callbackWrapper=a=>errorHandler?(...h)=>{try{return a(...h)}catch(f){if(errorHandler&&errorHandler(f)===!0)return()=>{};throw f}}:a,mutationBuffers=[];function getEventTarget(a){try{if("composedPath"in a){const c=a.composedPath();if(c.length)return c[0]}else if("path"in a&&a.path.length)return a.path[0]}catch{}return a&&a.target}function initMutationObserver(a,c){var h,f;const B=new MutationBuffer;mutationBuffers.push(B),B.init(a);let v=window.MutationObserver||window.__rrMutationObserver;const D=(f=(h=window==null?void 0:window.Zone)===null||h===void 0?void 0:h.__symbol__)===null||f===void 0?void 0:f.call(h,"MutationObserver");D&&window[D]&&(v=window[D]);const _=new v(callbackWrapper(m=>{a.onMutation&&a.onMutation(m)===!1||B.processMutations.bind(B)(m)}));return _.observe(c,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),_}function initMoveObserver({mousemoveCb:a,sampling:c,doc:h,mirror:f}){if(c.mousemove===!1)return()=>{};const B=typeof c.mousemove=="number"?c.mousemove:50,v=typeof c.mousemoveCallback=="number"?c.mousemoveCallback:500;let D=[],_;const m=throttle$1(callbackWrapper(p=>{const u=Date.now()-_;a(D.map(y=>(y.timeOffset-=u,y)),p),D=[],_=null}),v),I=callbackWrapper(throttle$1(callbackWrapper(p=>{const u=getEventTarget(p),{clientX:y,clientY:N}=legacy_isTouchEvent(p)?p.changedTouches[0]:p;_||(_=nowTimestamp()),D.push({x:y,y:N,id:f.getId(u),timeOffset:nowTimestamp()-_}),m(typeof DragEvent<"u"&&p instanceof DragEvent?IncrementalSource.Drag:p instanceof MouseEvent?IncrementalSource.MouseMove:IncrementalSource.TouchMove)}),B,{trailing:!1})),Q=[on("mousemove",I,h),on("touchmove",I,h),on("drag",I,h)];return callbackWrapper(()=>{Q.forEach(p=>p())})}function initMouseInteractionObserver({mouseInteractionCb:a,doc:c,mirror:h,blockClass:f,blockSelector:B,unblockSelector:v,sampling:D}){if(D.mouseInteraction===!1)return()=>{};const _=D.mouseInteraction===!0||D.mouseInteraction===void 0?{}:D.mouseInteraction,m=[];let I=null;const Q=p=>u=>{const y=getEventTarget(u);if(isBlocked(y,f,B,v,!0))return;let N=null,U=p;if("pointerType"in u){switch(u.pointerType){case"mouse":N=PointerTypes.Mouse;break;case"touch":N=PointerTypes.Touch;break;case"pen":N=PointerTypes.Pen;break}N===PointerTypes.Touch?MouseInteractions[p]===MouseInteractions.MouseDown?U="TouchStart":MouseInteractions[p]===MouseInteractions.MouseUp&&(U="TouchEnd"):PointerTypes.Pen}else legacy_isTouchEvent(u)&&(N=PointerTypes.Touch);N!==null?(I=N,(U.startsWith("Touch")&&N===PointerTypes.Touch||U.startsWith("Mouse")&&N===PointerTypes.Mouse)&&(N=null)):MouseInteractions[p]===MouseInteractions.Click&&(N=I,I=null);const q=legacy_isTouchEvent(u)?u.changedTouches[0]:u;if(!q)return;const te=h.getId(y),{clientX:F,clientY:V}=q;callbackWrapper(a)(Object.assign({type:MouseInteractions[U],id:te,x:F,y:V},N!==null&&{pointerType:N}))};return Object.keys(MouseInteractions).filter(p=>Number.isNaN(Number(p))&&!p.endsWith("_Departed")&&_[p]!==!1).forEach(p=>{let u=toLowerCase(p);const y=Q(p);if(window.PointerEvent)switch(MouseInteractions[p]){case MouseInteractions.MouseDown:case MouseInteractions.MouseUp:u=u.replace("mouse","pointer");break;case MouseInteractions.TouchStart:case MouseInteractions.TouchEnd:return}m.push(on(u,y,c))}),callbackWrapper(()=>{m.forEach(p=>p())})}function initScrollObserver({scrollCb:a,doc:c,mirror:h,blockClass:f,blockSelector:B,unblockSelector:v,sampling:D}){const _=callbackWrapper(throttle$1(callbackWrapper(m=>{const I=getEventTarget(m);if(!I||isBlocked(I,f,B,v,!0))return;const Q=h.getId(I);if(I===c&&c.defaultView){const p=getWindowScroll(c.defaultView);a({id:Q,x:p.left,y:p.top})}else a({id:Q,x:I.scrollLeft,y:I.scrollTop})}),D.scroll||100));return on("scroll",_,c)}function initViewportResizeObserver({viewportResizeCb:a},{win:c}){let h=-1,f=-1;const B=callbackWrapper(throttle$1(callbackWrapper(()=>{const v=getWindowHeight(),D=getWindowWidth();(h!==v||f!==D)&&(a({width:Number(D),height:Number(v)}),h=v,f=D)}),200));return on("resize",B,c)}function wrapEventWithUserTriggeredFlag(a,c){const h=Object.assign({},a);return c||delete h.userTriggered,h}const INPUT_TAGS=["INPUT","TEXTAREA","SELECT"],lastInputValueMap=new WeakMap;function initInputObserver({inputCb:a,doc:c,mirror:h,blockClass:f,blockSelector:B,unblockSelector:v,ignoreClass:D,ignoreSelector:_,maskInputOptions:m,maskInputFn:I,sampling:Q,userTriggeredOnInput:p,maskTextClass:u,unmaskTextClass:y,maskTextSelector:N,unmaskTextSelector:U}){function q(O){let T=getEventTarget(O);const w=O.isTrusted,k=T&&toUpperCase(T.tagName);if(k==="OPTION"&&(T=T.parentElement),!T||!k||INPUT_TAGS.indexOf(k)<0||isBlocked(T,f,B,v,!0))return;const Y=T;if(Y.classList.contains(D)||_&&Y.matches(_))return;const Z=getInputType(T);let W=getInputValue(Y,k,Z),K=!1;const x=shouldMaskInput({maskInputOptions:m,tagName:k,type:Z}),X=needMaskingText(T,u,N,y,U,x);(Z==="radio"||Z==="checkbox")&&(K=T.checked),W=maskInputValue({isMasked:X,element:T,value:W,maskInputFn:I}),te(T,callbackWrapper(wrapEventWithUserTriggeredFlag)({text:W,isChecked:K,userTriggered:w},p));const H=T.name;Z==="radio"&&H&&K&&c.querySelectorAll(`input[type="radio"][name="${H}"]`).forEach(j=>{if(j!==T){const ae=maskInputValue({isMasked:X,element:j,value:getInputValue(j,k,Z),maskInputFn:I});te(j,callbackWrapper(wrapEventWithUserTriggeredFlag)({text:ae,isChecked:!K,userTriggered:!1},p))}})}function te(O,T){const w=lastInputValueMap.get(O);if(!w||w.text!==T.text||w.isChecked!==T.isChecked){lastInputValueMap.set(O,T);const k=h.getId(O);callbackWrapper(a)(Object.assign(Object.assign({},T),{id:k}))}}const V=(Q.input==="last"?["change"]:["input","change"]).map(O=>on(O,callbackWrapper(q),c)),z=c.defaultView;if(!z)return()=>{V.forEach(O=>O())};const $=z.Object.getOwnPropertyDescriptor(z.HTMLInputElement.prototype,"value"),L=[[z.HTMLInputElement.prototype,"value"],[z.HTMLInputElement.prototype,"checked"],[z.HTMLSelectElement.prototype,"value"],[z.HTMLTextAreaElement.prototype,"value"],[z.HTMLSelectElement.prototype,"selectedIndex"],[z.HTMLOptionElement.prototype,"selected"]];return $&&$.set&&V.push(...L.map(O=>hookSetter(O[0],O[1],{set(){callbackWrapper(q)({target:this,isTrusted:!1})}},!1,z))),callbackWrapper(()=>{V.forEach(O=>O())})}function getNestedCSSRulePositions(a){const c=[];function h(f,B){if(hasNestedCSSRule("CSSGroupingRule")&&f.parentRule instanceof CSSGroupingRule||hasNestedCSSRule("CSSMediaRule")&&f.parentRule instanceof CSSMediaRule||hasNestedCSSRule("CSSSupportsRule")&&f.parentRule instanceof CSSSupportsRule||hasNestedCSSRule("CSSConditionRule")&&f.parentRule instanceof CSSConditionRule){const D=Array.from(f.parentRule.cssRules).indexOf(f);B.unshift(D)}else if(f.parentStyleSheet){const D=Array.from(f.parentStyleSheet.cssRules).indexOf(f);B.unshift(D)}return B}return h(a,c)}function getIdAndStyleId(a,c,h){let f,B;return a?(a.ownerNode?f=c.getId(a.ownerNode):B=h.getId(a),{styleId:B,id:f}):{}}function initStyleSheetObserver({styleSheetRuleCb:a,mirror:c,stylesheetManager:h},{win:f}){if(!f.CSSStyleSheet||!f.CSSStyleSheet.prototype)return()=>{};const B=f.CSSStyleSheet.prototype.insertRule;f.CSSStyleSheet.prototype.insertRule=new Proxy(B,{apply:callbackWrapper((Q,p,u)=>{const[y,N]=u,{id:U,styleId:q}=getIdAndStyleId(p,c,h.styleMirror);return(U&&U!==-1||q&&q!==-1)&&a({id:U,styleId:q,adds:[{rule:y,index:N}]}),Q.apply(p,u)})});const v=f.CSSStyleSheet.prototype.deleteRule;f.CSSStyleSheet.prototype.deleteRule=new Proxy(v,{apply:callbackWrapper((Q,p,u)=>{const[y]=u,{id:N,styleId:U}=getIdAndStyleId(p,c,h.styleMirror);return(N&&N!==-1||U&&U!==-1)&&a({id:N,styleId:U,removes:[{index:y}]}),Q.apply(p,u)})});let D;f.CSSStyleSheet.prototype.replace&&(D=f.CSSStyleSheet.prototype.replace,f.CSSStyleSheet.prototype.replace=new Proxy(D,{apply:callbackWrapper((Q,p,u)=>{const[y]=u,{id:N,styleId:U}=getIdAndStyleId(p,c,h.styleMirror);return(N&&N!==-1||U&&U!==-1)&&a({id:N,styleId:U,replace:y}),Q.apply(p,u)})}));let _;f.CSSStyleSheet.prototype.replaceSync&&(_=f.CSSStyleSheet.prototype.replaceSync,f.CSSStyleSheet.prototype.replaceSync=new Proxy(_,{apply:callbackWrapper((Q,p,u)=>{const[y]=u,{id:N,styleId:U}=getIdAndStyleId(p,c,h.styleMirror);return(N&&N!==-1||U&&U!==-1)&&a({id:N,styleId:U,replaceSync:y}),Q.apply(p,u)})}));const m={};canMonkeyPatchNestedCSSRule("CSSGroupingRule")?m.CSSGroupingRule=f.CSSGroupingRule:(canMonkeyPatchNestedCSSRule("CSSMediaRule")&&(m.CSSMediaRule=f.CSSMediaRule),canMonkeyPatchNestedCSSRule("CSSConditionRule")&&(m.CSSConditionRule=f.CSSConditionRule),canMonkeyPatchNestedCSSRule("CSSSupportsRule")&&(m.CSSSupportsRule=f.CSSSupportsRule));const I={};return Object.entries(m).forEach(([Q,p])=>{I[Q]={insertRule:p.prototype.insertRule,deleteRule:p.prototype.deleteRule},p.prototype.insertRule=new Proxy(I[Q].insertRule,{apply:callbackWrapper((u,y,N)=>{const[U,q]=N,{id:te,styleId:F}=getIdAndStyleId(y.parentStyleSheet,c,h.styleMirror);return(te&&te!==-1||F&&F!==-1)&&a({id:te,styleId:F,adds:[{rule:U,index:[...getNestedCSSRulePositions(y),q||0]}]}),u.apply(y,N)})}),p.prototype.deleteRule=new Proxy(I[Q].deleteRule,{apply:callbackWrapper((u,y,N)=>{const[U]=N,{id:q,styleId:te}=getIdAndStyleId(y.parentStyleSheet,c,h.styleMirror);return(q&&q!==-1||te&&te!==-1)&&a({id:q,styleId:te,removes:[{index:[...getNestedCSSRulePositions(y),U]}]}),u.apply(y,N)})})}),callbackWrapper(()=>{f.CSSStyleSheet.prototype.insertRule=B,f.CSSStyleSheet.prototype.deleteRule=v,D&&(f.CSSStyleSheet.prototype.replace=D),_&&(f.CSSStyleSheet.prototype.replaceSync=_),Object.entries(m).forEach(([Q,p])=>{p.prototype.insertRule=I[Q].insertRule,p.prototype.deleteRule=I[Q].deleteRule})})}function initAdoptedStyleSheetObserver({mirror:a,stylesheetManager:c},h){var f,B,v;let D=null;h.nodeName==="#document"?D=a.getId(h):D=a.getId(h.host);const _=h.nodeName==="#document"?(f=h.defaultView)===null||f===void 0?void 0:f.Document:(v=(B=h.ownerDocument)===null||B===void 0?void 0:B.defaultView)===null||v===void 0?void 0:v.ShadowRoot,m=_!=null&&_.prototype?Object.getOwnPropertyDescriptor(_==null?void 0:_.prototype,"adoptedStyleSheets"):void 0;return D===null||D===-1||!_||!m?()=>{}:(Object.defineProperty(h,"adoptedStyleSheets",{configurable:m.configurable,enumerable:m.enumerable,get(){var I;return(I=m.get)===null||I===void 0?void 0:I.call(this)},set(I){var Q;const p=(Q=m.set)===null||Q===void 0?void 0:Q.call(this,I);if(D!==null&&D!==-1)try{c.adoptStyleSheets(I,D)}catch{}return p}}),callbackWrapper(()=>{Object.defineProperty(h,"adoptedStyleSheets",{configurable:m.configurable,enumerable:m.enumerable,get:m.get,set:m.set})}))}function initStyleDeclarationObserver({styleDeclarationCb:a,mirror:c,ignoreCSSAttributes:h,stylesheetManager:f},{win:B}){const v=B.CSSStyleDeclaration.prototype.setProperty;B.CSSStyleDeclaration.prototype.setProperty=new Proxy(v,{apply:callbackWrapper((_,m,I)=>{var Q;const[p,u,y]=I;if(h.has(p))return v.apply(m,[p,u,y]);const{id:N,styleId:U}=getIdAndStyleId((Q=m.parentRule)===null||Q===void 0?void 0:Q.parentStyleSheet,c,f.styleMirror);return(N&&N!==-1||U&&U!==-1)&&a({id:N,styleId:U,set:{property:p,value:u,priority:y},index:getNestedCSSRulePositions(m.parentRule)}),_.apply(m,I)})});const D=B.CSSStyleDeclaration.prototype.removeProperty;return B.CSSStyleDeclaration.prototype.removeProperty=new Proxy(D,{apply:callbackWrapper((_,m,I)=>{var Q;const[p]=I;if(h.has(p))return D.apply(m,[p]);const{id:u,styleId:y}=getIdAndStyleId((Q=m.parentRule)===null||Q===void 0?void 0:Q.parentStyleSheet,c,f.styleMirror);return(u&&u!==-1||y&&y!==-1)&&a({id:u,styleId:y,remove:{property:p},index:getNestedCSSRulePositions(m.parentRule)}),_.apply(m,I)})}),callbackWrapper(()=>{B.CSSStyleDeclaration.prototype.setProperty=v,B.CSSStyleDeclaration.prototype.removeProperty=D})}function initMediaInteractionObserver({mediaInteractionCb:a,blockClass:c,blockSelector:h,unblockSelector:f,mirror:B,sampling:v,doc:D}){const _=callbackWrapper(I=>throttle$1(callbackWrapper(Q=>{const p=getEventTarget(Q);if(!p||isBlocked(p,c,h,f,!0))return;const{currentTime:u,volume:y,muted:N,playbackRate:U}=p;a({type:I,id:B.getId(p),currentTime:u,volume:y,muted:N,playbackRate:U})}),v.media||500)),m=[on("play",_(0),D),on("pause",_(1),D),on("seeked",_(2),D),on("volumechange",_(3),D),on("ratechange",_(4),D)];return callbackWrapper(()=>{m.forEach(I=>I())})}function initFontObserver({fontCb:a,doc:c}){const h=c.defaultView;if(!h)return()=>{};const f=[],B=new WeakMap,v=h.FontFace;h.FontFace=function(m,I,Q){const p=new v(m,I,Q);return B.set(p,{family:m,buffer:typeof I!="string",descriptors:Q,fontSource:typeof I=="string"?I:JSON.stringify(Array.from(new Uint8Array(I)))}),p};const D=patch(c.fonts,"add",function(_){return function(m){return setTimeout(callbackWrapper(()=>{const I=B.get(m);I&&(a(I),B.delete(m))}),0),_.apply(this,[m])}});return f.push(()=>{h.FontFace=v}),f.push(D),callbackWrapper(()=>{f.forEach(_=>_())})}function initSelectionObserver(a){const{doc:c,mirror:h,blockClass:f,blockSelector:B,unblockSelector:v,selectionCb:D}=a;let _=!0;const m=callbackWrapper(()=>{const I=c.getSelection();if(!I||_&&(I!=null&&I.isCollapsed))return;_=I.isCollapsed||!1;const Q=[],p=I.rangeCount||0;for(let u=0;u<p;u++){const y=I.getRangeAt(u),{startContainer:N,startOffset:U,endContainer:q,endOffset:te}=y;isBlocked(N,f,B,v,!0)||isBlocked(q,f,B,v,!0)||Q.push({start:h.getId(N),startOffset:U,end:h.getId(q),endOffset:te})}D({ranges:Q})});return m(),on("selectionchange",m)}function initCustomElementObserver({doc:a,customElementCb:c}){const h=a.defaultView;return!h||!h.customElements?()=>{}:patch(h.customElements,"define",function(B){return function(v,D,_){try{c({define:{name:v}})}catch{}return B.apply(this,[v,D,_])}})}function mergeHooks(a,c){const{mutationCb:h,mousemoveCb:f,mouseInteractionCb:B,scrollCb:v,viewportResizeCb:D,inputCb:_,mediaInteractionCb:m,styleSheetRuleCb:I,styleDeclarationCb:Q,canvasMutationCb:p,fontCb:u,selectionCb:y,customElementCb:N}=a;a.mutationCb=(...U)=>{c.mutation&&c.mutation(...U),h(...U)},a.mousemoveCb=(...U)=>{c.mousemove&&c.mousemove(...U),f(...U)},a.mouseInteractionCb=(...U)=>{c.mouseInteraction&&c.mouseInteraction(...U),B(...U)},a.scrollCb=(...U)=>{c.scroll&&c.scroll(...U),v(...U)},a.viewportResizeCb=(...U)=>{c.viewportResize&&c.viewportResize(...U),D(...U)},a.inputCb=(...U)=>{c.input&&c.input(...U),_(...U)},a.mediaInteractionCb=(...U)=>{c.mediaInteaction&&c.mediaInteaction(...U),m(...U)},a.styleSheetRuleCb=(...U)=>{c.styleSheetRule&&c.styleSheetRule(...U),I(...U)},a.styleDeclarationCb=(...U)=>{c.styleDeclaration&&c.styleDeclaration(...U),Q(...U)},a.canvasMutationCb=(...U)=>{c.canvasMutation&&c.canvasMutation(...U),p(...U)},a.fontCb=(...U)=>{c.font&&c.font(...U),u(...U)},a.selectionCb=(...U)=>{c.selection&&c.selection(...U),y(...U)},a.customElementCb=(...U)=>{c.customElement&&c.customElement(...U),N(...U)}}function initObservers(a,c={}){const h=a.doc.defaultView;if(!h)return()=>{};mergeHooks(a,c);const f=initMutationObserver(a,a.doc),B=initMoveObserver(a),v=initMouseInteractionObserver(a),D=initScrollObserver(a),_=initViewportResizeObserver(a,{win:h}),m=initInputObserver(a),I=initMediaInteractionObserver(a),Q=initStyleSheetObserver(a,{win:h}),p=initAdoptedStyleSheetObserver(a,a.doc),u=initStyleDeclarationObserver(a,{win:h}),y=a.collectFonts?initFontObserver(a):()=>{},N=initSelectionObserver(a),U=initCustomElementObserver(a),q=[];for(const te of a.plugins)q.push(te.observer(te.callback,h,te.options));return callbackWrapper(()=>{mutationBuffers.forEach(te=>te.reset()),f.disconnect(),B(),v(),D(),_(),m(),I(),Q(),p(),u(),y(),N(),U(),q.forEach(te=>te())})}function hasNestedCSSRule(a){return typeof window[a]<"u"}function canMonkeyPatchNestedCSSRule(a){return!!(typeof window[a]<"u"&&window[a].prototype&&"insertRule"in window[a].prototype&&"deleteRule"in window[a].prototype)}class CrossOriginIframeMirror{constructor(c){this.generateIdFn=c,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(c,h,f,B){const v=f||this.getIdToRemoteIdMap(c),D=B||this.getRemoteIdToIdMap(c);let _=v.get(h);return _||(_=this.generateIdFn(),v.set(h,_),D.set(_,h)),_}getIds(c,h){const f=this.getIdToRemoteIdMap(c),B=this.getRemoteIdToIdMap(c);return h.map(v=>this.getId(c,v,f,B))}getRemoteId(c,h,f){const B=f||this.getRemoteIdToIdMap(c);if(typeof h!="number")return h;const v=B.get(h);return v||-1}getRemoteIds(c,h){const f=this.getRemoteIdToIdMap(c);return h.map(B=>this.getRemoteId(c,B,f))}reset(c){if(!c){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(c),this.iframeRemoteIdToIdMap.delete(c)}getIdToRemoteIdMap(c){let h=this.iframeIdToRemoteIdMap.get(c);return h||(h=new Map,this.iframeIdToRemoteIdMap.set(c,h)),h}getRemoteIdToIdMap(c){let h=this.iframeRemoteIdToIdMap.get(c);return h||(h=new Map,this.iframeRemoteIdToIdMap.set(c,h)),h}}class IframeManagerNoop{constructor(){this.crossOriginIframeMirror=new CrossOriginIframeMirror(genId),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class IframeManager{constructor(c){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new CrossOriginIframeMirror(genId),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=c.mutationCb,this.wrappedEmit=c.wrappedEmit,this.stylesheetManager=c.stylesheetManager,this.recordCrossOriginIframes=c.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new CrossOriginIframeMirror(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=c.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(c){this.iframes.set(c,!0),c.contentWindow&&this.crossOriginIframeMap.set(c.contentWindow,c)}addLoadListener(c){this.loadListener=c}attachIframe(c,h){var f;this.mutationCb({adds:[{parentId:this.mirror.getId(c),nextId:null,node:h}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(f=this.loadListener)===null||f===void 0||f.call(this,c),c.contentDocument&&c.contentDocument.adoptedStyleSheets&&c.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(c.contentDocument.adoptedStyleSheets,this.mirror.getId(c.contentDocument))}handleMessage(c){const h=c;if(h.data.type!=="rrweb"||h.origin!==h.data.origin||!c.source)return;const B=this.crossOriginIframeMap.get(c.source);if(!B)return;const v=this.transformCrossOriginEvent(B,h.data.event);v&&this.wrappedEmit(v,h.data.isCheckout)}transformCrossOriginEvent(c,h){var f;switch(h.type){case EventType.FullSnapshot:{this.crossOriginIframeMirror.reset(c),this.crossOriginIframeStyleMirror.reset(c),this.replaceIdOnNode(h.data.node,c);const B=h.data.node.id;return this.crossOriginIframeRootIdMap.set(c,B),this.patchRootIdOnNode(h.data.node,B),{timestamp:h.timestamp,type:EventType.IncrementalSnapshot,data:{source:IncrementalSource.Mutation,adds:[{parentId:this.mirror.getId(c),nextId:null,node:h.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case EventType.Meta:case EventType.Load:case EventType.DomContentLoaded:return!1;case EventType.Plugin:return h;case EventType.Custom:return this.replaceIds(h.data.payload,c,["id","parentId","previousId","nextId"]),h;case EventType.IncrementalSnapshot:switch(h.data.source){case IncrementalSource.Mutation:return h.data.adds.forEach(B=>{this.replaceIds(B,c,["parentId","nextId","previousId"]),this.replaceIdOnNode(B.node,c);const v=this.crossOriginIframeRootIdMap.get(c);v&&this.patchRootIdOnNode(B.node,v)}),h.data.removes.forEach(B=>{this.replaceIds(B,c,["parentId","id"])}),h.data.attributes.forEach(B=>{this.replaceIds(B,c,["id"])}),h.data.texts.forEach(B=>{this.replaceIds(B,c,["id"])}),h;case IncrementalSource.Drag:case IncrementalSource.TouchMove:case IncrementalSource.MouseMove:return h.data.positions.forEach(B=>{this.replaceIds(B,c,["id"])}),h;case IncrementalSource.ViewportResize:return!1;case IncrementalSource.MediaInteraction:case IncrementalSource.MouseInteraction:case IncrementalSource.Scroll:case IncrementalSource.CanvasMutation:case IncrementalSource.Input:return this.replaceIds(h.data,c,["id"]),h;case IncrementalSource.StyleSheetRule:case IncrementalSource.StyleDeclaration:return this.replaceIds(h.data,c,["id"]),this.replaceStyleIds(h.data,c,["styleId"]),h;case IncrementalSource.Font:return h;case IncrementalSource.Selection:return h.data.ranges.forEach(B=>{this.replaceIds(B,c,["start","end"])}),h;case IncrementalSource.AdoptedStyleSheet:return this.replaceIds(h.data,c,["id"]),this.replaceStyleIds(h.data,c,["styleIds"]),(f=h.data.styles)===null||f===void 0||f.forEach(B=>{this.replaceStyleIds(B,c,["styleId"])}),h}}return!1}replace(c,h,f,B){for(const v of B)!Array.isArray(h[v])&&typeof h[v]!="number"||(Array.isArray(h[v])?h[v]=c.getIds(f,h[v]):h[v]=c.getId(f,h[v]));return h}replaceIds(c,h,f){return this.replace(this.crossOriginIframeMirror,c,h,f)}replaceStyleIds(c,h,f){return this.replace(this.crossOriginIframeStyleMirror,c,h,f)}replaceIdOnNode(c,h){this.replaceIds(c,h,["id","rootId"]),"childNodes"in c&&c.childNodes.forEach(f=>{this.replaceIdOnNode(f,h)})}patchRootIdOnNode(c,h){c.type!==NodeType$1.Document&&!c.rootId&&(c.rootId=h),"childNodes"in c&&c.childNodes.forEach(f=>{this.patchRootIdOnNode(f,h)})}}class ShadowDomManagerNoop{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class ShadowDomManager{constructor(c){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=c.mutationCb,this.scrollCb=c.scrollCb,this.bypassOptions=c.bypassOptions,this.mirror=c.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(c,h){if(!isNativeShadowDom(c)||this.shadowDoms.has(c))return;this.shadowDoms.add(c);const f=initMutationObserver(Object.assign(Object.assign({},this.bypassOptions),{doc:h,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),c);this.restoreHandlers.push(()=>f.disconnect()),this.restoreHandlers.push(initScrollObserver(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:c,mirror:this.mirror}))),setTimeout(()=>{c.adoptedStyleSheets&&c.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(c.adoptedStyleSheets,this.mirror.getId(c.host)),this.restoreHandlers.push(initAdoptedStyleSheetObserver({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},c))},0)}observeAttachShadow(c){!c.contentWindow||!c.contentDocument||this.patchAttachShadow(c.contentWindow.Element,c.contentDocument)}patchAttachShadow(c,h){const f=this;this.restoreHandlers.push(patch(c.prototype,"attachShadow",function(B){return function(v){const D=B.call(this,v);return this.shadowRoot&&inDom(this)&&f.addShadowRoot(this.shadowRoot,h),D}}))}reset(){this.restoreHandlers.forEach(c=>{try{c()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __rest(a,c){var h={};for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&c.indexOf(f)<0&&(h[f]=a[f]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,f=Object.getOwnPropertySymbols(a);B<f.length;B++)c.indexOf(f[B])<0&&Object.prototype.propertyIsEnumerable.call(a,f[B])&&(h[f[B]]=a[f[B]]);return h}function __awaiter(a,c,h,f){function B(v){return v instanceof h?v:new h(function(D){D(v)})}return new(h||(h=Promise))(function(v,D){function _(Q){try{I(f.next(Q))}catch(p){D(p)}}function m(Q){try{I(f.throw(Q))}catch(p){D(p)}}function I(Q){Q.done?v(Q.value):B(Q.value).then(_,m)}I((f=f.apply(a,c||[])).next())})}var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var encode=function(a){var c=new Uint8Array(a),h,f=c.length,B="";for(h=0;h<f;h+=3)B+=chars[c[h]>>2],B+=chars[(c[h]&3)<<4|c[h+1]>>4],B+=chars[(c[h+1]&15)<<2|c[h+2]>>6],B+=chars[c[h+2]&63];return f%3===2?B=B.substring(0,B.length-1)+"=":f%3===1&&(B=B.substring(0,B.length-2)+"=="),B};const canvasVarMap=new Map;function variableListFor(a,c){let h=canvasVarMap.get(a);return h||(h=new Map,canvasVarMap.set(a,h)),h.has(c)||h.set(c,[]),h.get(c)}const saveWebGLVar=(a,c,h)=>{if(!a||!(isInstanceOfWebGLObject(a,c)||typeof a=="object"))return;const f=a.constructor.name,B=variableListFor(h,f);let v=B.indexOf(a);return v===-1&&(v=B.length,B.push(a)),v};function serializeArg(a,c,h){if(a instanceof Array)return a.map(f=>serializeArg(f,c,h));if(a===null)return a;if(a instanceof Float32Array||a instanceof Float64Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Uint8Array||a instanceof Uint16Array||a instanceof Int16Array||a instanceof Int8Array||a instanceof Uint8ClampedArray)return{rr_type:a.constructor.name,args:[Object.values(a)]};if(a instanceof ArrayBuffer){const f=a.constructor.name,B=encode(a);return{rr_type:f,base64:B}}else{if(a instanceof DataView)return{rr_type:a.constructor.name,args:[serializeArg(a.buffer,c,h),a.byteOffset,a.byteLength]};if(a instanceof HTMLImageElement){const f=a.constructor.name,{src:B}=a;return{rr_type:f,src:B}}else if(a instanceof HTMLCanvasElement){const f="HTMLImageElement",B=a.toDataURL();return{rr_type:f,src:B}}else{if(a instanceof ImageData)return{rr_type:a.constructor.name,args:[serializeArg(a.data,c,h),a.width,a.height]};if(isInstanceOfWebGLObject(a,c)||typeof a=="object"){const f=a.constructor.name,B=saveWebGLVar(a,c,h);return{rr_type:f,index:B}}}}return a}const serializeArgs=(a,c,h)=>[...a].map(f=>serializeArg(f,c,h)),isInstanceOfWebGLObject=(a,c)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(B=>typeof c[B]=="function").find(B=>a instanceof c[B]);function initCanvas2DMutationObserver(a,c,h,f,B){const v=[],D=Object.getOwnPropertyNames(c.CanvasRenderingContext2D.prototype);for(const _ of D)try{if(typeof c.CanvasRenderingContext2D.prototype[_]!="function")continue;const m=patch(c.CanvasRenderingContext2D.prototype,_,function(I){return function(...Q){return isBlocked(this.canvas,h,f,B,!0)||setTimeout(()=>{const p=serializeArgs([...Q],c,this);a(this.canvas,{type:CanvasContext["2D"],property:_,args:p})},0),I.apply(this,Q)}});v.push(m)}catch{const I=hookSetter(c.CanvasRenderingContext2D.prototype,_,{set(Q){a(this.canvas,{type:CanvasContext["2D"],property:_,args:[Q],setter:!0})}});v.push(I)}return()=>{v.forEach(_=>_())}}function getNormalizedContextName(a){return a==="experimental-webgl"?"webgl":a}function initCanvasContextObserver(a,c,h,f,B){const v=[];try{const D=patch(a.HTMLCanvasElement.prototype,"getContext",function(_){return function(m,...I){if(!isBlocked(this,c,h,f,!0)){const Q=getNormalizedContextName(m);if("__context"in this||(this.__context=Q),B&&["webgl","webgl2"].includes(Q))if(I[0]&&typeof I[0]=="object"){const p=I[0];p.preserveDrawingBuffer||(p.preserveDrawingBuffer=!0)}else I.splice(0,1,{preserveDrawingBuffer:!0})}return _.apply(this,[m,...I])}});v.push(D)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{v.forEach(D=>D())}}function patchGLPrototype(a,c,h,f,B,v,D,_){const m=[],I=Object.getOwnPropertyNames(a);for(const Q of I)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(Q))try{if(typeof a[Q]!="function")continue;const p=patch(a,Q,function(u){return function(...y){const N=u.apply(this,y);if(saveWebGLVar(N,_,this),"tagName"in this.canvas&&!isBlocked(this.canvas,f,B,v,!0)){const U=serializeArgs([...y],_,this),q={type:c,property:Q,args:U};h(this.canvas,q)}return N}});m.push(p)}catch{const u=hookSetter(a,Q,{set(y){h(this.canvas,{type:c,property:Q,args:[y],setter:!0})}});m.push(u)}return m}function initCanvasWebGLMutationObserver(a,c,h,f,B,v){const D=[];return D.push(...patchGLPrototype(c.WebGLRenderingContext.prototype,CanvasContext.WebGL,a,h,f,B,v,c)),typeof c.WebGL2RenderingContext<"u"&&D.push(...patchGLPrototype(c.WebGL2RenderingContext.prototype,CanvasContext.WebGL2,a,h,f,B,v,c)),()=>{D.forEach(_=>_())}}function decodeBase64(a,c){var h=atob(a);if(c){for(var f=new Uint8Array(h.length),B=0,v=h.length;B<v;++B)f[B]=h.charCodeAt(B);return String.fromCharCode.apply(null,new Uint16Array(f.buffer))}return h}function createURL(a,c,h){var f=c===void 0?null:c,B=h===void 0?!1:h,v=decodeBase64(a,B),D=v.indexOf(`
`,10)+1,_=v.substring(D)+(f?"//# sourceMappingURL="+f:""),m=new Blob([_],{type:"application/javascript"});return URL.createObjectURL(m)}function createBase64WorkerFactory(a,c,h){var f;return function(v){return f=f||createURL(a,c,h),new Worker(f,v)}}var WorkerFactory=createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLg0KDQogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55DQogICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLg0KDQogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgNCiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkNCiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsDQogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NDQogICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1INCiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SDQogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4NCiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLw0KDQogICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgew0KICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH0NCiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOw0KICAgICAgICB9KTsNCiAgICB9CgogICAgLyoKICAgICAqIGJhc2U2NC1hcnJheWJ1ZmZlciAxLjAuMSA8aHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlcj4KICAgICAqIENvcHlyaWdodCAoYykgMjAyMSBOaWtsYXMgdm9uIEhlcnR6ZW4gPGh0dHBzOi8vaGVydHplbi5jb20+CiAgICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZQogICAgICovCiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7CiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguCiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7CiAgICB9CiAgICB2YXIgZW5jb2RlID0gZnVuY3Rpb24gKGFycmF5YnVmZmVyKSB7CiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykgewogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107CiAgICAgICAgfQogICAgICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJhc2U2NDsKICAgIH07CgogICAgY29uc3QgbGFzdEJsb2JNYXAgPSBuZXcgTWFwKCk7DQogICAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGZ1bmN0aW9uIGdldFRyYW5zcGFyZW50QmxvYkZvcih3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucykgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgaWYgKHRyYW5zcGFyZW50QmxvYk1hcC5oYXMoaWQpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7DQogICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgYmxvYi5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7DQogICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsNCiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsNCiAgICAgICAgICAgICAgICBiaXRtYXAuY2xvc2UoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7DQogICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCBibG9iLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsNCiAgICAgICAgICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgKHlpZWxkIHRyYW5zcGFyZW50QmFzZTY0KSA9PT0gYmFzZTY0KSB7DQogICAgICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7DQogICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIHR5cGUsDQogICAgICAgICAgICAgICAgICAgIGJhc2U2NCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsKCn0pKCk7Cgo=",null,!1);class CanvasManagerNoop{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}}class CanvasManager{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(c){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(I,Q)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(I)||this.pendingCanvasMutations.set(I,[]),this.pendingCanvasMutations.get(I).push(Q)};const{sampling:h="all",win:f,blockClass:B,blockSelector:v,unblockSelector:D,recordCanvas:_,dataURLOptions:m}=c;this.mutationCb=c.mutationCb,this.mirror=c.mirror,_&&h==="all"&&this.initCanvasMutationObserver(f,B,v,D),_&&typeof h=="number"&&this.initCanvasFPSObserver(h,f,B,v,D,{dataURLOptions:m})}initCanvasFPSObserver(c,h,f,B,v,D){const _=initCanvasContextObserver(h,f,B,v,!0),m=new Map,I=new WorkerFactory;I.onmessage=U=>{const{id:q}=U.data;if(m.set(q,!1),!("base64"in U.data))return;const{base64:te,type:F,width:V,height:z}=U.data;this.mutationCb({id:q,type:CanvasContext["2D"],commands:[{property:"clearRect",args:[0,0,V,z]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:te}],type:F}]},0,0]}]})};const Q=1e3/c;let p=0,u;const y=()=>{const U=[];return h.document.querySelectorAll("canvas").forEach(q=>{isBlocked(q,f,B,v,!0)||U.push(q)}),U},N=U=>{if(p&&U-p<Q){u=requestAnimationFrame(N);return}p=U,y().forEach(q=>__awaiter(this,void 0,void 0,function*(){var te;const F=this.mirror.getId(q);if(m.get(F))return;if(m.set(F,!0),["webgl","webgl2"].includes(q.__context)){const z=q.getContext(q.__context);((te=z==null?void 0:z.getContextAttributes())===null||te===void 0?void 0:te.preserveDrawingBuffer)===!1&&z.clear(z.COLOR_BUFFER_BIT)}const V=yield createImageBitmap(q);I.postMessage({id:F,bitmap:V,width:q.width,height:q.height,dataURLOptions:D.dataURLOptions},[V])})),u=requestAnimationFrame(N)};u=requestAnimationFrame(N),this.resetObservers=()=>{_(),cancelAnimationFrame(u)}}initCanvasMutationObserver(c,h,f,B){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const v=initCanvasContextObserver(c,h,f,B,!1),D=initCanvas2DMutationObserver(this.processMutation.bind(this),c,h,f,B),_=initCanvasWebGLMutationObserver(this.processMutation.bind(this),c,h,f,B,this.mirror);this.resetObservers=()=>{v(),D(),_()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const c=h=>{this.rafStamps.latestId=h,requestAnimationFrame(c)};requestAnimationFrame(c)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((c,h)=>{const f=this.mirror.getId(h);this.flushPendingCanvasMutationFor(h,f)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(c,h){if(this.frozen||this.locked)return;const f=this.pendingCanvasMutations.get(c);if(!f||h===-1)return;const B=f.map(D=>__rest(D,["type"])),{type:v}=f[0];this.mutationCb({id:h,type:v,commands:B}),this.pendingCanvasMutations.delete(c)}}class StylesheetManager{constructor(c){this.trackedLinkElements=new WeakSet,this.styleMirror=new StyleSheetMirror,this.mutationCb=c.mutationCb,this.adoptedStyleSheetCb=c.adoptedStyleSheetCb}attachLinkElement(c,h){"_cssText"in h.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:h.id,attributes:h.attributes}]}),this.trackLinkElement(c)}trackLinkElement(c){this.trackedLinkElements.has(c)||(this.trackedLinkElements.add(c),this.trackStylesheetInLinkElement(c))}adoptStyleSheets(c,h){if(c.length===0)return;const f={id:h,styleIds:[]},B=[];for(const v of c){let D;this.styleMirror.has(v)?D=this.styleMirror.getId(v):(D=this.styleMirror.add(v),B.push({styleId:D,rules:Array.from(v.rules||CSSRule,(_,m)=>({rule:stringifyRule(_),index:m}))})),f.styleIds.push(D)}B.length>0&&(f.styles=B),this.adoptedStyleSheetCb(f)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(c){}}class ProcessedNodeManager{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(c,h){const f=this.nodeMap.get(c);return f&&Array.from(f).some(B=>B!==h)}add(c,h){this.nodeMap.set(c,(this.nodeMap.get(c)||new Set).add(h))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function wrapEvent(a){return Object.assign(Object.assign({},a),{timestamp:nowTimestamp()})}let wrappedEmit,takeFullSnapshot,canvasManager,recording=!1;const mirror=createMirror();function record(a={}){const{emit:c,checkoutEveryNms:h,checkoutEveryNth:f,blockClass:B="rr-block",blockSelector:v=null,unblockSelector:D=null,ignoreClass:_="rr-ignore",ignoreSelector:m=null,maskAllText:I=!1,maskTextClass:Q="rr-mask",unmaskTextClass:p=null,maskTextSelector:u=null,unmaskTextSelector:y=null,inlineStylesheet:N=!0,maskAllInputs:U,maskInputOptions:q,slimDOMOptions:te,maskAttributeFn:F,maskInputFn:V,maskTextFn:z,hooks:$,packFn:L,sampling:O={},dataURLOptions:T={},mousemoveWait:w,recordCanvas:k=!1,recordCrossOriginIframes:Y=!1,recordAfter:Z=a.recordAfter==="DOMContentLoaded"?a.recordAfter:"load",userTriggeredOnInput:W=!1,collectFonts:K=!1,inlineImages:x=!1,plugins:X,keepIframeSrcFn:H=()=>!1,ignoreCSSAttributes:j=new Set([]),errorHandler:ae,onMutation:ce}=a;registerErrorHandler(ae);const ne=Y?window.parent===window:!0;let Qe=!1;if(!ne)try{window.parent.document&&(Qe=!1)}catch{Qe=!0}if(ne&&!c)throw new Error("emit function is required");w!==void 0&&O.mousemove===void 0&&(O.mousemove=w),mirror.reset();const De=U===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:q!==void 0?q:{},Fe=te===!0||te==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:te==="all",headMetaDescKeywords:te==="all"}:te||{};polyfill();let pe,ot=0;const ft=le=>{for(const Ve of X||[])Ve.eventProcessor&&(le=Ve.eventProcessor(le));return L&&!Qe&&(le=L(le)),le};wrappedEmit=(le,Ve)=>{var nt;if(!((nt=mutationBuffers[0])===null||nt===void 0)&&nt.isFrozen()&&le.type!==EventType.FullSnapshot&&!(le.type===EventType.IncrementalSnapshot&&le.data.source===IncrementalSource.Mutation)&&mutationBuffers.forEach(ct=>ct.unfreeze()),ne)c==null||c(ft(le),Ve);else if(Qe){const ct={type:"rrweb",event:ft(le),origin:window.location.origin,isCheckout:Ve};window.parent.postMessage(ct,"*")}if(le.type===EventType.FullSnapshot)pe=le,ot=0;else if(le.type===EventType.IncrementalSnapshot){if(le.data.source===IncrementalSource.Mutation&&le.data.isAttachIframe)return;ot++;const ct=f&&ot>=f,Re=h&&le.timestamp-pe.timestamp>h;(ct||Re)&&takeFullSnapshot(!0)}};const yt=le=>{wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.Mutation},le)}))},Ot=le=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.Scroll},le)})),ge=le=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.CanvasMutation},le)})),Ee=le=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.AdoptedStyleSheet},le)})),fe=new StylesheetManager({mutationCb:yt,adoptedStyleSheetCb:Ee}),ie=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new IframeManagerNoop:new IframeManager({mirror,mutationCb:yt,stylesheetManager:fe,recordCrossOriginIframes:Y,wrappedEmit});for(const le of X||[])le.getMirror&&le.getMirror({nodeMirror:mirror,crossOriginIframeMirror:ie.crossOriginIframeMirror,crossOriginIframeStyleMirror:ie.crossOriginIframeStyleMirror});const ue=new ProcessedNodeManager;canvasManager=typeof __RRWEB_EXCLUDE_CANVAS__=="boolean"&&__RRWEB_EXCLUDE_CANVAS__?new CanvasManagerNoop:new CanvasManager({recordCanvas:k,mutationCb:ge,win:window,blockClass:B,blockSelector:v,unblockSelector:D,mirror,sampling:O.canvas,dataURLOptions:T});const de=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ShadowDomManagerNoop:new ShadowDomManager({mutationCb:yt,scrollCb:Ot,bypassOptions:{onMutation:ce,blockClass:B,blockSelector:v,unblockSelector:D,maskAllText:I,maskTextClass:Q,unmaskTextClass:p,maskTextSelector:u,unmaskTextSelector:y,inlineStylesheet:N,maskInputOptions:De,dataURLOptions:T,maskAttributeFn:F,maskTextFn:z,maskInputFn:V,recordCanvas:k,inlineImages:x,sampling:O,slimDOMOptions:Fe,iframeManager:ie,stylesheetManager:fe,canvasManager,keepIframeSrcFn:H,processedNodeManager:ue},mirror});takeFullSnapshot=(le=!1)=>{wrappedEmit(wrapEvent({type:EventType.Meta,data:{href:window.location.href,width:getWindowWidth(),height:getWindowHeight()}}),le),fe.reset(),de.init(),mutationBuffers.forEach(nt=>nt.lock());const Ve=snapshot(document,{mirror,blockClass:B,blockSelector:v,unblockSelector:D,maskAllText:I,maskTextClass:Q,unmaskTextClass:p,maskTextSelector:u,unmaskTextSelector:y,inlineStylesheet:N,maskAllInputs:De,maskAttributeFn:F,maskInputFn:V,maskTextFn:z,slimDOM:Fe,dataURLOptions:T,recordCanvas:k,inlineImages:x,onSerialize:nt=>{isSerializedIframe(nt,mirror)&&ie.addIframe(nt),isSerializedStylesheet(nt,mirror)&&fe.trackLinkElement(nt),hasShadowRoot(nt)&&de.addShadowRoot(nt.shadowRoot,document)},onIframeLoad:(nt,ct)=>{ie.attachIframe(nt,ct),de.observeAttachShadow(nt)},onStylesheetLoad:(nt,ct)=>{fe.attachLinkElement(nt,ct)},keepIframeSrcFn:H});if(!Ve)return console.warn("Failed to snapshot the document");wrappedEmit(wrapEvent({type:EventType.FullSnapshot,data:{node:Ve,initialOffset:getWindowScroll(window)}}),le),mutationBuffers.forEach(nt=>nt.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&fe.adoptStyleSheets(document.adoptedStyleSheets,mirror.getId(document))};try{const le=[],Ve=ct=>{var Re;return callbackWrapper(initObservers)({onMutation:ce,mutationCb:yt,mousemoveCb:(lt,St)=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:{source:St,positions:lt}})),mouseInteractionCb:lt=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.MouseInteraction},lt)})),scrollCb:Ot,viewportResizeCb:lt=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.ViewportResize},lt)})),inputCb:lt=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.Input},lt)})),mediaInteractionCb:lt=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.MediaInteraction},lt)})),styleSheetRuleCb:lt=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.StyleSheetRule},lt)})),styleDeclarationCb:lt=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.StyleDeclaration},lt)})),canvasMutationCb:ge,fontCb:lt=>wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.Font},lt)})),selectionCb:lt=>{wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.Selection},lt)}))},customElementCb:lt=>{wrappedEmit(wrapEvent({type:EventType.IncrementalSnapshot,data:Object.assign({source:IncrementalSource.CustomElement},lt)}))},blockClass:B,ignoreClass:_,ignoreSelector:m,maskAllText:I,maskTextClass:Q,unmaskTextClass:p,maskTextSelector:u,unmaskTextSelector:y,maskInputOptions:De,inlineStylesheet:N,sampling:O,recordCanvas:k,inlineImages:x,userTriggeredOnInput:W,collectFonts:K,doc:ct,maskAttributeFn:F,maskInputFn:V,maskTextFn:z,keepIframeSrcFn:H,blockSelector:v,unblockSelector:D,slimDOMOptions:Fe,dataURLOptions:T,mirror,iframeManager:ie,stylesheetManager:fe,shadowDomManager:de,processedNodeManager:ue,canvasManager,ignoreCSSAttributes:j,plugins:((Re=X==null?void 0:X.filter(lt=>lt.observer))===null||Re===void 0?void 0:Re.map(lt=>({observer:lt.observer,options:lt.options,callback:St=>wrappedEmit(wrapEvent({type:EventType.Plugin,data:{plugin:lt.name,payload:St}}))})))||[]},$)};ie.addLoadListener(ct=>{try{le.push(Ve(ct.contentDocument))}catch(Re){console.warn(Re)}});const nt=()=>{takeFullSnapshot(),le.push(Ve(document)),recording=!0};return document.readyState==="interactive"||document.readyState==="complete"?nt():(le.push(on("DOMContentLoaded",()=>{wrappedEmit(wrapEvent({type:EventType.DomContentLoaded,data:{}})),Z==="DOMContentLoaded"&&nt()})),le.push(on("load",()=>{wrappedEmit(wrapEvent({type:EventType.Load,data:{}})),Z==="load"&&nt()},window))),()=>{le.forEach(ct=>ct()),ue.destroy(),recording=!1,unregisterErrorHandler()}}catch(le){console.warn(le)}}record.addCustomEvent=(a,c)=>{if(!recording)throw new Error("please add custom event after start recording");wrappedEmit(wrapEvent({type:EventType.Custom,data:{tag:a,payload:c}}))};record.freezePage=()=>{mutationBuffers.forEach(a=>a.freeze())};record.takeFullSnapshot=a=>{if(!recording)throw new Error("please take full snapshot after start recording");takeFullSnapshot(a)};record.mirror=mirror;function timestampToMs(a){return a>9999999999?a:a*1e3}function timestampToS(a){return a>9999999999?a/1e3:a}function addBreadcrumbEvent(a,c){c.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(c.category)?a.triggerUserActivity():a.checkAndHandleExpiredSession(),a.addUpdate(()=>(a.throttledAddEvent({type:EventType.Custom,timestamp:(c.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:normalize(c,10,1e3)}}),c.category==="console")))}const INTERACTIVE_SELECTOR="button,a";function getClickTargetNode(a){const c=getTargetNode(a);return!c||!(c instanceof Element)?c:c.closest(INTERACTIVE_SELECTOR)||c}function getTargetNode(a){return isEventWithTarget(a)?a.target:a}function isEventWithTarget(a){return typeof a=="object"&&!!a&&"target"in a}let handlers;function onWindowOpen(a){return handlers||(handlers=[],monkeyPatchWindowOpen()),handlers.push(a),()=>{const c=handlers?handlers.indexOf(a):-1;c>-1&&handlers.splice(c,1)}}function monkeyPatchWindowOpen(){fill(WINDOW,"open",function(a){return function(...c){if(handlers)try{handlers.forEach(h=>h())}catch{}return a.apply(WINDOW,c)}})}function handleClick(a,c,h){a.handleClick(c,h)}class ClickDetector{constructor(c,h,f=addBreadcrumbEvent){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=h.timeout/1e3,this._threshold=h.threshold/1e3,this._scollTimeout=h.scrollTimeout/1e3,this._replay=c,this._ignoreSelector=h.ignoreSelector,this._addBreadcrumbEvent=f}addListeners(){const c=()=>{this._lastMutation=nowInSeconds()},h=()=>{this._lastScroll=nowInSeconds()},f=onWindowOpen(()=>{this._lastMutation=nowInSeconds()}),B=D=>{if(!D.target)return;const _=getClickTargetNode(D);_&&this._handleMultiClick(_)},v=new MutationObserver(c);v.observe(WINDOW.document.documentElement,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),WINDOW.addEventListener("scroll",h,{passive:!0}),WINDOW.addEventListener("click",B,{passive:!0}),this._teardown=()=>{WINDOW.removeEventListener("scroll",h),WINDOW.removeEventListener("click",B),f(),v.disconnect(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(c,h){if(ignoreElement(h,this._ignoreSelector)||!isClickBreadcrumb(c))return;const f={timestamp:timestampToS(c.timestamp),clickBreadcrumb:c,clickCount:0,node:h};this._clicks.some(B=>B.node===f.node&&Math.abs(B.timestamp-f.timestamp)<1)||(this._clicks.push(f),this._clicks.length===1&&this._scheduleCheckClicks())}_handleMultiClick(c){this._getClicks(c).forEach(h=>{h.clickCount++})}_getClicks(c){return this._clicks.filter(h=>h.node===c)}_checkClicks(){const c=[],h=nowInSeconds();this._clicks.forEach(f=>{!f.mutationAfter&&this._lastMutation&&(f.mutationAfter=f.timestamp<=this._lastMutation?this._lastMutation-f.timestamp:void 0),!f.scrollAfter&&this._lastScroll&&(f.scrollAfter=f.timestamp<=this._lastScroll?this._lastScroll-f.timestamp:void 0),f.timestamp+this._timeout<=h&&c.push(f)});for(const f of c){const B=this._clicks.indexOf(f);B>-1&&(this._generateBreadcrumbs(f),this._clicks.splice(B,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(c){const h=this._replay,f=c.scrollAfter&&c.scrollAfter<=this._scollTimeout,B=c.mutationAfter&&c.mutationAfter<=this._threshold,v=!f&&!B,{clickCount:D,clickBreadcrumb:_}=c;if(v){const m=Math.min(c.mutationAfter||this._timeout,this._timeout)*1e3,I=m<this._timeout*1e3?"mutation":"timeout",Q={type:"default",message:_.message,timestamp:_.timestamp,category:"ui.slowClickDetected",data:{..._.data,url:WINDOW.location.href,route:h.getCurrentRoute(),timeAfterClickMs:m,endReason:I,clickCount:D||1}};this._addBreadcrumbEvent(h,Q);return}if(D>1){const m={type:"default",message:_.message,timestamp:_.timestamp,category:"ui.multiClick",data:{..._.data,url:WINDOW.location.href,route:h.getCurrentRoute(),clickCount:D,metric:!0}};this._addBreadcrumbEvent(h,m)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const SLOW_CLICK_TAGS=["A","BUTTON","INPUT"];function ignoreElement(a,c){return!!(!SLOW_CLICK_TAGS.includes(a.tagName)||a.tagName==="INPUT"&&!["submit","button"].includes(a.getAttribute("type")||"")||a.tagName==="A"&&(a.hasAttribute("download")||a.hasAttribute("target")&&a.getAttribute("target")!=="_self")||c&&a.matches(c))}function isClickBreadcrumb(a){return!!(a.data&&typeof a.data.nodeId=="number"&&a.timestamp)}function nowInSeconds(){return Date.now()/1e3}function createBreadcrumb(a){return{timestamp:Date.now()/1e3,type:"default",...a}}var NodeType;(function(a){a[a.Document=0]="Document",a[a.DocumentType=1]="DocumentType",a[a.Element=2]="Element",a[a.Text=3]="Text",a[a.CDATA=4]="CDATA",a[a.Comment=5]="Comment"})(NodeType||(NodeType={}));const ATTRIBUTES_TO_RECORD=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled"]);function getAttributesToRecord(a){const c={};for(const h in a)if(ATTRIBUTES_TO_RECORD.has(h)){let f=h;(h==="data-testid"||h==="data-test-id")&&(f="testId"),c[f]=a[h]}return c}const handleDomListener=a=>c=>{if(!a.isEnabled())return;const h=handleDom(c);if(!h)return;const f=c.name==="click",B=f&&c.event;f&&a.clickDetector&&B&&!B.altKey&&!B.metaKey&&!B.ctrlKey&&!B.shiftKey&&handleClick(a.clickDetector,h,getClickTargetNode(c.event)),addBreadcrumbEvent(a,h)};function getBaseDomBreadcrumb(a,c){const h=record.mirror.getId(a),f=h&&record.mirror.getNode(h),B=f&&record.mirror.getMeta(f),v=B&&isElement(B)?B:null;return{message:c,data:v?{nodeId:h,node:{id:h,tagName:v.tagName,textContent:Array.from(v.childNodes).map(D=>D.type===NodeType.Text&&D.textContent).filter(Boolean).map(D=>D.trim()).join(""),attributes:getAttributesToRecord(v.attributes)}}:{}}}function handleDom(a){const{target:c,message:h}=getDomTarget(a);return createBreadcrumb({category:`ui.${a.name}`,...getBaseDomBreadcrumb(c,h)})}function getDomTarget(a){const c=a.name==="click";let h,f=null;try{f=c?getClickTargetNode(a.event):getTargetNode(a.event),h=htmlTreeAsString(f,{maxStringLength:200})||"<unknown>"}catch{h="<unknown>"}return{target:f,message:h}}function isElement(a){return a.type===NodeType.Element}function handleKeyboardEvent(a,c){if(!a.isEnabled())return;a.updateUserActivity();const h=getKeyboardBreadcrumb(c);h&&addBreadcrumbEvent(a,h)}function getKeyboardBreadcrumb(a){const{metaKey:c,shiftKey:h,ctrlKey:f,altKey:B,key:v,target:D}=a;if(!D||isInputElement(D)||!v)return null;const _=c||f||B,m=v.length===1;if(!_&&m)return null;const I=htmlTreeAsString(D,{maxStringLength:200})||"<unknown>",Q=getBaseDomBreadcrumb(D,I);return createBreadcrumb({category:"ui.keyDown",message:I,data:{...Q.data,metaKey:c,shiftKey:h,ctrlKey:f,altKey:B,key:v}})}function isInputElement(a){return a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.isContentEditable}const ENTRY_TYPES={resource:createResourceEntry,paint:createPaintEntry,navigation:createNavigationEntry};function createPerformanceEntries(a){return a.map(createPerformanceEntry).filter(Boolean)}function createPerformanceEntry(a){return ENTRY_TYPES[a.entryType]?ENTRY_TYPES[a.entryType](a):null}function getAbsoluteTime(a){return((browserPerformanceTimeOrigin||WINDOW.performance.timeOrigin)+a)/1e3}function createPaintEntry(a){const{duration:c,entryType:h,name:f,startTime:B}=a,v=getAbsoluteTime(B);return{type:h,name:f,start:v,end:v+c,data:void 0}}function createNavigationEntry(a){const{entryType:c,name:h,decodedBodySize:f,duration:B,domComplete:v,encodedBodySize:D,domContentLoadedEventStart:_,domContentLoadedEventEnd:m,domInteractive:I,loadEventStart:Q,loadEventEnd:p,redirectCount:u,startTime:y,transferSize:N,type:U}=a;return B===0?null:{type:`${c}.${U}`,start:getAbsoluteTime(y),end:getAbsoluteTime(v),name:h,data:{size:N,decodedBodySize:f,encodedBodySize:D,duration:B,domInteractive:I,domContentLoadedEventStart:_,domContentLoadedEventEnd:m,loadEventStart:Q,loadEventEnd:p,domComplete:v,redirectCount:u}}}function createResourceEntry(a){const{entryType:c,initiatorType:h,name:f,responseEnd:B,startTime:v,decodedBodySize:D,encodedBodySize:_,responseStatus:m,transferSize:I}=a;return["fetch","xmlhttprequest"].includes(h)?null:{type:`${c}.${h}`,start:getAbsoluteTime(v),end:getAbsoluteTime(B),name:f,data:{size:I,statusCode:m,decodedBodySize:D,encodedBodySize:_}}}function getLargestContentfulPaint(a){const c=a.entries,h=c[c.length-1],f=h?h.element:void 0,B=a.value,v=getAbsoluteTime(B);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:v,end:v,data:{value:B,size:B,nodeId:f?record.mirror.getId(f):void 0}}}function setupPerformanceObserver(a){function c(B){a.performanceEntries.includes(B)||a.performanceEntries.push(B)}function h({entries:B}){B.forEach(c)}const f=[];return["navigation","paint","resource"].forEach(B=>{f.push(addPerformanceInstrumentationHandler(B,h))}),f.push(addLcpInstrumentationHandler(({metric:B})=>{a.replayPerformanceEntries.push(getLargestContentfulPaint(B))})),()=>{f.forEach(B=>B())}}const r='var t={},e={};function a(t){let e=t.length;for(;--e>=0;)t[e]=0}const s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),r=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_=new Array(576);a(_);const l=new Array(60);a(l);const h=new Array(512);a(h);const o=new Array(256);a(o);const d=new Array(29);a(d);const u=new Array(30);function f(t,e,a,s,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=s,this.max_length=r,this.has_stree=t&&t.length}let c,p,g;function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}a(u);const m=t=>t<256?h[t]:h[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},y=(t,e,a)=>{t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},v=(t,e,a)=>{y(t,a[2*e],a[2*e+1])},z=(t,e)=>{let a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},k=(t,e,a)=>{const s=new Array(16);let r,n,i=0;for(r=1;r<=15;r++)i=i+a[r-1]<<1,s[r]=i;for(n=0;n<=e;n++){let e=t[2*n+1];0!==e&&(t[2*n]=z(s[e]++,e))}},x=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},A=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},E=(t,e,a,s)=>{const r=2*e,n=2*a;return t[r]<t[n]||t[r]===t[n]&&s[e]<=s[a]},Z=(t,e,a)=>{const s=t.heap[a];let r=a<<1;for(;r<=t.heap_len&&(r<t.heap_len&&E(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!E(e,s,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=s},S=(t,e,a)=>{let n,i,_,l,h=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+h++],n+=(255&t.pending_buf[t.sym_buf+h++])<<8,i=t.pending_buf[t.sym_buf+h++],0===n?v(t,i,e):(_=o[i],v(t,_+256+1,e),l=s[_],0!==l&&(i-=d[_],y(t,i,l)),n--,_=m(n),v(t,_,a),l=r[_],0!==l&&(n-=u[_],y(t,n,l)))}while(h<t.sym_next);v(t,256,e)},U=(t,e)=>{const a=e.dyn_tree,s=e.stat_desc.static_tree,r=e.stat_desc.has_stree,n=e.stat_desc.elems;let i,_,l,h=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<n;i++)0!==a[2*i]?(t.heap[++t.heap_len]=h=i,t.depth[i]=0):a[2*i+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,a[2*l]=1,t.depth[l]=0,t.opt_len--,r&&(t.static_len-=s[2*l+1]);for(e.max_code=h,i=t.heap_len>>1;i>=1;i--)Z(t,a,i);l=n;do{i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Z(t,a,1),_=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=_,a[2*l]=a[2*i]+a[2*_],t.depth[l]=(t.depth[i]>=t.depth[_]?t.depth[i]:t.depth[_])+1,a[2*i+1]=a[2*_+1]=l,t.heap[1]=l++,Z(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const a=e.dyn_tree,s=e.max_code,r=e.stat_desc.static_tree,n=e.stat_desc.has_stree,i=e.stat_desc.extra_bits,_=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,o,d,u,f,c,p=0;for(u=0;u<=15;u++)t.bl_count[u]=0;for(a[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)o=t.heap[h],u=a[2*a[2*o+1]+1]+1,u>l&&(u=l,p++),a[2*o+1]=u,o>s||(t.bl_count[u]++,f=0,o>=_&&(f=i[o-_]),c=a[2*o],t.opt_len+=c*(u+f),n&&(t.static_len+=c*(r[2*o+1]+f)));if(0!==p){do{for(u=l-1;0===t.bl_count[u];)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[l]--,p-=2}while(p>0);for(u=l;0!==u;u--)for(o=t.bl_count[u];0!==o;)d=t.heap[--h],d>s||(a[2*d+1]!==u&&(t.opt_len+=(u-a[2*d+1])*a[2*d],a[2*d+1]=u),o--)}})(t,e),k(a,h,t.bl_count)},R=(t,e,a)=>{let s,r,n=-1,i=e[1],_=0,l=7,h=4;for(0===i&&(l=138,h=3),e[2*(a+1)+1]=65535,s=0;s<=a;s++)r=i,i=e[2*(s+1)+1],++_<l&&r===i||(_<h?t.bl_tree[2*r]+=_:0!==r?(r!==n&&t.bl_tree[2*r]++,t.bl_tree[32]++):_<=10?t.bl_tree[34]++:t.bl_tree[36]++,_=0,n=r,0===i?(l=138,h=3):r===i?(l=6,h=3):(l=7,h=4))},L=(t,e,a)=>{let s,r,n=-1,i=e[1],_=0,l=7,h=4;for(0===i&&(l=138,h=3),s=0;s<=a;s++)if(r=i,i=e[2*(s+1)+1],!(++_<l&&r===i)){if(_<h)do{v(t,r,t.bl_tree)}while(0!=--_);else 0!==r?(r!==n&&(v(t,r,t.bl_tree),_--),v(t,16,t.bl_tree),y(t,_-3,2)):_<=10?(v(t,17,t.bl_tree),y(t,_-3,3)):(v(t,18,t.bl_tree),y(t,_-11,7));_=0,n=r,0===i?(l=138,h=3):r===i?(l=6,h=3):(l=7,h=4)}};let T=!1;const F=(t,e,a,s)=>{y(t,0+(s?1:0),3),A(t),b(t,a),b(t,~a),a&&t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a};e._tr_init=t=>{T||((()=>{let t,e,a,i,w;const m=new Array(16);for(a=0,i=0;i<28;i++)for(d[i]=a,t=0;t<1<<s[i];t++)o[a++]=i;for(o[a-1]=i,w=0,i=0;i<16;i++)for(u[i]=w,t=0;t<1<<r[i];t++)h[w++]=i;for(w>>=7;i<30;i++)for(u[i]=w<<7,t=0;t<1<<r[i]-7;t++)h[256+w++]=i;for(e=0;e<=15;e++)m[e]=0;for(t=0;t<=143;)_[2*t+1]=8,t++,m[8]++;for(;t<=255;)_[2*t+1]=9,t++,m[9]++;for(;t<=279;)_[2*t+1]=7,t++,m[7]++;for(;t<=287;)_[2*t+1]=8,t++,m[8]++;for(k(_,287,m),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=z(t,5);c=new f(_,s,257,286,15),p=new f(l,r,0,30,15),g=new f(new Array(0),n,0,19,7)})(),T=!0),t.l_desc=new w(t.dyn_ltree,c),t.d_desc=new w(t.dyn_dtree,p),t.bl_desc=new w(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,x(t)},e._tr_stored_block=F,e._tr_flush_block=(t,e,a,s)=>{let r,n,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),U(t,t.l_desc),U(t,t.d_desc),h=(t=>{let e;for(R(t,t.dyn_ltree,t.l_desc.max_code),R(t,t.dyn_dtree,t.d_desc.max_code),U(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*i[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),r=t.opt_len+3+7>>>3,n=t.static_len+3+7>>>3,n<=r&&(r=n)):r=n=a+5,a+4<=r&&-1!==e?F(t,e,a,s):4===t.strategy||n===r?(y(t,2+(s?1:0),3),S(t,_,l)):(y(t,4+(s?1:0),3),((t,e,a,s)=>{let r;for(y(t,e-257,5),y(t,a-1,5),y(t,s-4,4),r=0;r<s;r++)y(t,t.bl_tree[2*i[r]+1],3);L(t,t.dyn_ltree,e-1),L(t,t.dyn_dtree,a-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),S(t,t.dyn_ltree,t.dyn_dtree)),x(t),s&&A(t)},e._tr_tally=(t,e,a)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=a,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(o[a]+256+1)]++,t.dyn_dtree[2*m(e)]++),t.sym_next===t.sym_end),e._tr_align=t=>{y(t,2,3),v(t,256,_),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)};var O=(t,e,a,s)=>{let r=65535&t|0,n=t>>>16&65535|0,i=0;for(;0!==a;){i=a>2e3?2e3:a,a-=i;do{r=r+e[s++]|0,n=n+r|0}while(--i);r%=65521,n%=65521}return r|n<<16|0};const D=new Uint32Array((()=>{let t,e=[];for(var a=0;a<256;a++){t=a;for(var s=0;s<8;s++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e})());var N=(t,e,a,s)=>{const r=D,n=s+a;t^=-1;for(let a=s;a<n;a++)t=t>>>8^r[255&(t^e[a])];return-1^t},C={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},I={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:H,_tr_stored_block:B,_tr_flush_block:M,_tr_tally:P,_tr_align:Y}=e,K=O,j=N,G=C,{Z_NO_FLUSH:X,Z_PARTIAL_FLUSH:W,Z_FULL_FLUSH:q,Z_FINISH:J,Z_BLOCK:Q,Z_OK:V,Z_STREAM_END:$,Z_STREAM_ERROR:tt,Z_DATA_ERROR:et,Z_BUF_ERROR:at,Z_DEFAULT_COMPRESSION:st,Z_FILTERED:rt,Z_HUFFMAN_ONLY:nt,Z_RLE:it,Z_FIXED:_t,Z_DEFAULT_STRATEGY:lt,Z_UNKNOWN:ht,Z_DEFLATED:ot}=I,dt=(t,e)=>(t.msg=G[e],e),ut=t=>2*t-(t>4?9:0),ft=t=>{let e=t.length;for(;--e>=0;)t[e]=0},ct=t=>{let e,a,s,r=t.w_size;e=t.hash_size,s=e;do{a=t.head[--s],t.head[s]=a>=r?a-r:0}while(--e);e=r,s=e;do{a=t.prev[--s],t.prev[s]=a>=r?a-r:0}while(--e)};let pt=(t,e,a)=>(e<<t.hash_shift^a)&t.hash_mask;const gt=t=>{const e=t.state;let a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},wt=(t,e)=>{M(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,gt(t.strm)},mt=(t,e)=>{t.pending_buf[t.pending++]=e},bt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},yt=(t,e,a,s)=>{let r=t.avail_in;return r>s&&(r=s),0===r?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),a),1===t.state.wrap?t.adler=K(t.adler,e,r,a):2===t.state.wrap&&(t.adler=j(t.adler,e,r,a)),t.next_in+=r,t.total_in+=r,r)},vt=(t,e)=>{let a,s,r=t.max_chain_length,n=t.strstart,i=t.prev_length,_=t.nice_match;const l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,o=t.w_mask,d=t.prev,u=t.strstart+258;let f=h[n+i-1],c=h[n+i];t.prev_length>=t.good_match&&(r>>=2),_>t.lookahead&&(_=t.lookahead);do{if(a=e,h[a+i]===c&&h[a+i-1]===f&&h[a]===h[n]&&h[++a]===h[n+1]){n+=2,a++;do{}while(h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&n<u);if(s=258-(u-n),n=u-258,s>i){if(t.match_start=e,i=s,s>=_)break;f=h[n+i-1],c=h[n+i]}}}while((e=d[e&o])>l&&0!=--r);return i<=t.lookahead?i:t.lookahead},zt=t=>{const e=t.w_size;let a,s,r;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)&&(t.window.set(t.window.subarray(e,e+e-s),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),ct(t),s+=e),0===t.strm.avail_in)break;if(a=yt(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=a,t.lookahead+t.insert>=3)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=pt(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=pt(t,t.ins_h,t.window[r+3-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},kt=(t,e)=>{let a,s,r,n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,i=0,_=t.strm.avail_in;do{if(a=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r)break;if(r=t.strm.avail_out-r,s=t.strstart-t.block_start,a>s+t.strm.avail_in&&(a=s+t.strm.avail_in),a>r&&(a=r),a<n&&(0===a&&e!==J||e===X||a!==s+t.strm.avail_in))break;i=e===J&&a===s+t.strm.avail_in?1:0,B(t,0,0,i),t.pending_buf[t.pending-4]=a,t.pending_buf[t.pending-3]=a>>8,t.pending_buf[t.pending-2]=~a,t.pending_buf[t.pending-1]=~a>>8,gt(t.strm),s&&(s>a&&(s=a),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,a-=s),a&&(yt(t.strm,t.strm.output,t.strm.next_out,a),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a)}while(0===i);return _-=t.strm.avail_in,_&&(_>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=_&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-_,t.strm.next_in),t.strstart),t.strstart+=_,t.insert+=_>t.w_size-t.insert?t.w_size-t.insert:_),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),i?4:e!==X&&e!==J&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(yt(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,n=r>t.w_size?t.w_size:r,s=t.strstart-t.block_start,(s>=n||(s||e===J)&&e!==X&&0===t.strm.avail_in&&s<=r)&&(a=s>r?r:s,i=e===J&&0===t.strm.avail_in&&a===s?1:0,B(t,t.block_start,a,i),t.block_start+=a,gt(t.strm)),i?3:1)},xt=(t,e)=>{let a,s;for(;;){if(t.lookahead<262){if(zt(t),t.lookahead<262&&e===X)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=pt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-262&&(t.match_length=vt(t,a)),t.match_length>=3)if(s=P(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=pt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=pt(t,t.ins_h,t.window[t.strstart+1]);else s=P(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(s&&(wt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===J?(wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(wt(t,!1),0===t.strm.avail_out)?1:2},At=(t,e)=>{let a,s,r;for(;;){if(t.lookahead<262){if(zt(t),t.lookahead<262&&e===X)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=pt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-262&&(t.match_length=vt(t,a),t.match_length<=5&&(t.strategy===rt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,s=P(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=pt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,s&&(wt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(s=P(t,0,t.window[t.strstart-1]),s&&wt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(s=P(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===J?(wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(wt(t,!1),0===t.strm.avail_out)?1:2};function Et(t,e,a,s,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=s,this.func=r}const Zt=[new Et(0,0,0,0,kt),new Et(4,4,8,4,xt),new Et(4,5,16,8,xt),new Et(4,6,32,32,xt),new Et(4,4,16,16,At),new Et(8,16,32,32,At),new Et(8,16,128,128,At),new Et(8,32,128,256,At),new Et(32,128,258,1024,At),new Et(32,258,258,4096,At)];function St(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ft(this.dyn_ltree),ft(this.dyn_dtree),ft(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ft(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ft(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ut=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},Rt=t=>{if(Ut(t))return dt(t,tt);t.total_in=t.total_out=0,t.data_type=ht;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,H(e),V},Lt=t=>{const e=Rt(t);var a;return e===V&&((a=t.state).window_size=2*a.w_size,ft(a.head),a.max_lazy_match=Zt[a.level].max_lazy,a.good_match=Zt[a.level].good_length,a.nice_match=Zt[a.level].nice_length,a.max_chain_length=Zt[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),e},Tt=(t,e,a,s,r,n)=>{if(!t)return tt;let i=1;if(e===st&&(e=6),s<0?(i=0,s=-s):s>15&&(i=2,s-=16),r<1||r>9||a!==ot||s<8||s>15||e<0||e>9||n<0||n>_t||8===s&&1!==i)return dt(t,tt);8===s&&(s=9);const _=new St;return t.state=_,_.strm=t,_.status=42,_.wrap=i,_.gzhead=null,_.w_bits=s,_.w_size=1<<_.w_bits,_.w_mask=_.w_size-1,_.hash_bits=r+7,_.hash_size=1<<_.hash_bits,_.hash_mask=_.hash_size-1,_.hash_shift=~~((_.hash_bits+3-1)/3),_.window=new Uint8Array(2*_.w_size),_.head=new Uint16Array(_.hash_size),_.prev=new Uint16Array(_.w_size),_.lit_bufsize=1<<r+6,_.pending_buf_size=4*_.lit_bufsize,_.pending_buf=new Uint8Array(_.pending_buf_size),_.sym_buf=_.lit_bufsize,_.sym_end=3*(_.lit_bufsize-1),_.level=e,_.strategy=n,_.method=a,Lt(t)};t.deflateInit=(t,e)=>Tt(t,e,ot,15,8,lt),t.deflateInit2=Tt,t.deflateReset=Lt,t.deflateResetKeep=Rt,t.deflateSetHeader=(t,e)=>Ut(t)||2!==t.state.wrap?tt:(t.state.gzhead=e,V),t.deflate=(t,e)=>{if(Ut(t)||e>Q||e<0)return t?dt(t,tt):tt;const a=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===a.status&&e!==J)return dt(t,0===t.avail_out?at:tt);const s=a.last_flush;if(a.last_flush=e,0!==a.pending){if(gt(t),0===t.avail_out)return a.last_flush=-1,V}else if(0===t.avail_in&&ut(e)<=ut(s)&&e!==J)return dt(t,at);if(666===a.status&&0!==t.avail_in)return dt(t,at);if(42===a.status&&0===a.wrap&&(a.status=113),42===a.status){let e=ot+(a.w_bits-8<<4)<<8,s=-1;if(s=a.strategy>=nt||a.level<2?0:a.level<6?1:6===a.level?2:3,e|=s<<6,0!==a.strstart&&(e|=32),e+=31-e%31,bt(a,e),0!==a.strstart&&(bt(a,t.adler>>>16),bt(a,65535&t.adler)),t.adler=1,a.status=113,gt(t),0!==a.pending)return a.last_flush=-1,V}if(57===a.status)if(t.adler=0,mt(a,31),mt(a,139),mt(a,8),a.gzhead)mt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),mt(a,255&a.gzhead.time),mt(a,a.gzhead.time>>8&255),mt(a,a.gzhead.time>>16&255),mt(a,a.gzhead.time>>24&255),mt(a,9===a.level?2:a.strategy>=nt||a.level<2?4:0),mt(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(mt(a,255&a.gzhead.extra.length),mt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=j(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(mt(a,0),mt(a,0),mt(a,0),mt(a,0),mt(a,0),mt(a,9===a.level?2:a.strategy>=nt||a.level<2?4:0),mt(a,3),a.status=113,gt(t),0!==a.pending)return a.last_flush=-1,V;if(69===a.status){if(a.gzhead.extra){let e=a.pending,s=(65535&a.gzhead.extra.length)-a.gzindex;for(;a.pending+s>a.pending_buf_size;){let r=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+r),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>e&&(t.adler=j(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex+=r,gt(t),0!==a.pending)return a.last_flush=-1,V;e=0,s-=r}let r=new Uint8Array(a.gzhead.extra);a.pending_buf.set(r.subarray(a.gzindex,a.gzindex+s),a.pending),a.pending+=s,a.gzhead.hcrc&&a.pending>e&&(t.adler=j(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){let e,s=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>s&&(t.adler=j(t.adler,a.pending_buf,a.pending-s,s)),gt(t),0!==a.pending)return a.last_flush=-1,V;s=0}e=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,mt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>s&&(t.adler=j(t.adler,a.pending_buf,a.pending-s,s)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){let e,s=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>s&&(t.adler=j(t.adler,a.pending_buf,a.pending-s,s)),gt(t),0!==a.pending)return a.last_flush=-1,V;s=0}e=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,mt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>s&&(t.adler=j(t.adler,a.pending_buf,a.pending-s,s))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(gt(t),0!==a.pending))return a.last_flush=-1,V;mt(a,255&t.adler),mt(a,t.adler>>8&255),t.adler=0}if(a.status=113,gt(t),0!==a.pending)return a.last_flush=-1,V}if(0!==t.avail_in||0!==a.lookahead||e!==X&&666!==a.status){let s=0===a.level?kt(a,e):a.strategy===nt?((t,e)=>{let a;for(;;){if(0===t.lookahead&&(zt(t),0===t.lookahead)){if(e===X)return 1;break}if(t.match_length=0,a=P(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(wt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===J?(wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(wt(t,!1),0===t.strm.avail_out)?1:2})(a,e):a.strategy===it?((t,e)=>{let a,s,r,n;const i=t.window;for(;;){if(t.lookahead<=258){if(zt(t),t.lookahead<=258&&e===X)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=t.strstart-1,s=i[r],s===i[++r]&&s===i[++r]&&s===i[++r])){n=t.strstart+258;do{}while(s===i[++r]&&s===i[++r]&&s===i[++r]&&s===i[++r]&&s===i[++r]&&s===i[++r]&&s===i[++r]&&s===i[++r]&&r<n);t.match_length=258-(n-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=P(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=P(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(wt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===J?(wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(wt(t,!1),0===t.strm.avail_out)?1:2})(a,e):Zt[a.level].func(a,e);if(3!==s&&4!==s||(a.status=666),1===s||3===s)return 0===t.avail_out&&(a.last_flush=-1),V;if(2===s&&(e===W?Y(a):e!==Q&&(B(a,0,0,!1),e===q&&(ft(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),gt(t),0===t.avail_out))return a.last_flush=-1,V}return e!==J?V:a.wrap<=0?$:(2===a.wrap?(mt(a,255&t.adler),mt(a,t.adler>>8&255),mt(a,t.adler>>16&255),mt(a,t.adler>>24&255),mt(a,255&t.total_in),mt(a,t.total_in>>8&255),mt(a,t.total_in>>16&255),mt(a,t.total_in>>24&255)):(bt(a,t.adler>>>16),bt(a,65535&t.adler)),gt(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?V:$)},t.deflateEnd=t=>{if(Ut(t))return tt;const e=t.state.status;return t.state=null,113===e?dt(t,et):V},t.deflateSetDictionary=(t,e)=>{let a=e.length;if(Ut(t))return tt;const s=t.state,r=s.wrap;if(2===r||1===r&&42!==s.status||s.lookahead)return tt;if(1===r&&(t.adler=K(t.adler,e,a,0)),s.wrap=0,a>=s.w_size){0===r&&(ft(s.head),s.strstart=0,s.block_start=0,s.insert=0);let t=new Uint8Array(s.w_size);t.set(e.subarray(a-s.w_size,a),0),e=t,a=s.w_size}const n=t.avail_in,i=t.next_in,_=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,zt(s);s.lookahead>=3;){let t=s.strstart,e=s.lookahead-2;do{s.ins_h=pt(s,s.ins_h,s.window[t+3-1]),s.prev[t&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=t,t++}while(--e);s.strstart=t,s.lookahead=2,zt(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=2,s.match_available=0,t.next_in=i,t.input=_,t.avail_in=n,s.wrap=r,V},t.deflateInfo="pako deflate (from Nodeca project)";var Ft={};const Ot=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);Ft.assign=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const e in a)Ot(a,e)&&(t[e]=a[e])}}return t},Ft.flattenChunks=t=>{let e=0;for(let a=0,s=t.length;a<s;a++)e+=t[a].length;const a=new Uint8Array(e);for(let e=0,s=0,r=t.length;e<r;e++){let r=t[e];a.set(r,s),s+=r.length}return a};var Dt={};let Nt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Nt=!1}const Ct=new Uint8Array(256);for(let t=0;t<256;t++)Ct[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ct[254]=Ct[254]=1,Dt.string2buf=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,s,r,n,i=t.length,_=0;for(r=0;r<i;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<i&&(s=t.charCodeAt(r+1),56320==(64512&s)&&(a=65536+(a-55296<<10)+(s-56320),r++)),_+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(_),n=0,r=0;n<_;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<i&&(s=t.charCodeAt(r+1),56320==(64512&s)&&(a=65536+(a-55296<<10)+(s-56320),r++)),a<128?e[n++]=a:a<2048?(e[n++]=192|a>>>6,e[n++]=128|63&a):a<65536?(e[n++]=224|a>>>12,e[n++]=128|a>>>6&63,e[n++]=128|63&a):(e[n++]=240|a>>>18,e[n++]=128|a>>>12&63,e[n++]=128|a>>>6&63,e[n++]=128|63&a);return e};Dt.buf2string=(t,e)=>{const a=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let s,r;const n=new Array(2*a);for(r=0,s=0;s<a;){let e=t[s++];if(e<128){n[r++]=e;continue}let i=Ct[e];if(i>4)n[r++]=65533,s+=i-1;else{for(e&=2===i?31:3===i?15:7;i>1&&s<a;)e=e<<6|63&t[s++],i--;i>1?n[r++]=65533:e<65536?n[r++]=e:(e-=65536,n[r++]=55296|e>>10&1023,n[r++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Nt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let a="";for(let s=0;s<e;s++)a+=String.fromCharCode(t[s]);return a})(n,r)},Dt.utf8border=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let a=e-1;for(;a>=0&&128==(192&t[a]);)a--;return a<0||0===a?e:a+Ct[t[a]]>e?a:e};const It=t,Ht=Ft,Bt=Dt,Mt=C,Pt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Yt=Object.prototype.toString,{Z_NO_FLUSH:Kt,Z_SYNC_FLUSH:jt,Z_FULL_FLUSH:Gt,Z_FINISH:Xt,Z_OK:Wt,Z_STREAM_END:qt,Z_DEFAULT_COMPRESSION:Jt,Z_DEFAULT_STRATEGY:Qt,Z_DEFLATED:Vt}=I;function $t(t){this.options=Ht.assign({level:Jt,method:Vt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Qt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Pt,this.strm.avail_out=0;let a=It.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Wt)throw new Error(Mt[a]);if(e.header&&It.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Bt.string2buf(e.dictionary):"[object ArrayBuffer]"===Yt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=It.deflateSetDictionary(this.strm,t),a!==Wt)throw new Error(Mt[a]);this._dict_set=!0}}$t.prototype.push=function(t,e){const a=this.strm,s=this.options.chunkSize;let r,n;if(this.ended)return!1;for(n=e===~~e?e:!0===e?Xt:Kt,"string"==typeof t?a.input=Bt.string2buf(t):"[object ArrayBuffer]"===Yt.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),(n===jt||n===Gt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if(r=It.deflate(a,n),r===qt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),r=It.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Wt;if(0!==a.avail_out){if(n>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},$t.prototype.onData=function(t){this.chunks.push(t)},$t.prototype.onEnd=function(t){t===Wt&&(this.result=Ht.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const te=$t,ee=function(t,e){const a=new $t(e);if(a.push(t,!0),a.err)throw a.msg||Mt[a.err];return a.result},ae=I;const se=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const e=this._hasEvents?",":"";this.deflate.push(e+t,ae.Z_SYNC_FLUSH),this._hasEvents=!0}finish(){if(this.deflate.push("]",ae.Z_FINISH),this.deflate.err)throw this.deflate.err;const t=this.deflate.result;return this._init(),t}_init(){this._hasEvents=!1,this.deflate=new te,this.deflate.push("[",ae.Z_NO_FLUSH)}},re={clear:()=>{se.clear()},addEvent:t=>se.addEvent(t),finish:()=>se.finish(),compress:t=>function(t){return ee(t)}(t)};addEventListener("message",(function(t){const e=t.data.method,a=t.data.id,s=t.data.arg;if(e in re&&"function"==typeof re[e])try{const t=re[e](s);postMessage({id:a,method:e,success:!0,response:t})}catch(t){postMessage({id:a,method:e,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function e(){const a=new Blob([r]);return URL.createObjectURL(a)}function logInfo(a,c){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(logger.info(a),c&&addBreadcrumb(a))}function logInfoNextTick(a,c){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(logger.info(a),c&&setTimeout(()=>{addBreadcrumb(a)},0))}function addBreadcrumb(a){getCurrentHub().addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:a},{level:"info"})}class EventBufferSizeExceededError extends Error{constructor(){super(`Event buffer exceeded maximum size of ${REPLAY_MAX_EVENT_BUFFER_SIZE}.`)}}class EventBufferArray{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(c){const h=JSON.stringify(c).length;if(this._totalSize+=h,this._totalSize>REPLAY_MAX_EVENT_BUFFER_SIZE)throw new EventBufferSizeExceededError;this.events.push(c)}finish(){return new Promise(c=>{const h=this.events;this.clear(),c(JSON.stringify(h))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const c=this.events.map(h=>h.timestamp).sort()[0];return c?timestampToMs(c):null}}class WorkerHandler{constructor(c){this._worker=c,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((c,h)=>{this._worker.addEventListener("message",({data:f})=>{f.success?c():h()},{once:!0}),this._worker.addEventListener("error",f=>{h(f)},{once:!0})}),this._ensureReadyPromise)}destroy(){logInfo("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(c,h){const f=this._getAndIncrementId();return new Promise((B,v)=>{const D=({data:_})=>{const m=_;if(m.method===c&&m.id===f){if(this._worker.removeEventListener("message",D),!m.success){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("[Replay]",m.response),v(new Error("Error in compression worker"));return}B(m.response)}};this._worker.addEventListener("message",D),this._worker.postMessage({id:f,method:c,arg:h})})}_getAndIncrementId(){return this._id++}}class EventBufferCompressionWorker{constructor(c){this._worker=new WorkerHandler(c),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(c){const h=timestampToMs(c.timestamp);(!this._earliestTimestamp||h<this._earliestTimestamp)&&(this._earliestTimestamp=h);const f=JSON.stringify(c);return this._totalSize+=f.length,this._totalSize>REPLAY_MAX_EVENT_BUFFER_SIZE?Promise.reject(new EventBufferSizeExceededError):this._sendEventToWorker(f)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear")}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(c){return this._worker.postMessage("addEvent",c)}async _finishRequest(){const c=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,c}}class EventBufferProxy{constructor(c){this._fallback=new EventBufferArray,this._compression=new EventBufferCompressionWorker(c),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(c){this._used.hasCheckout=c}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(c){return this._used.addEvent(c)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{logInfo("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:c,hasCheckout:h}=this._fallback,f=[];for(const B of c)f.push(this._compression.addEvent(B));this._compression.hasCheckout=h,this._used=this._compression;try{await Promise.all(f)}catch(B){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("[Replay] Failed to add events when switching buffers.",B)}}}function createEventBuffer({useCompression:a,workerUrl:c}){if(a&&window.Worker){const h=_loadWorker(c);if(h)return h}return logInfo("[Replay] Using simple buffer"),new EventBufferArray}function _loadWorker(a){try{const c=a||_getWorkerUrl();if(!c)return;logInfo(`[Replay] Using compression worker${a?` from ${a}`:""}`);const h=new Worker(c);return new EventBufferProxy(h)}catch{logInfo("[Replay] Failed to create compression worker")}}function _getWorkerUrl(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?e():""}function hasSessionStorage(){try{return"sessionStorage"in WINDOW&&!!WINDOW.sessionStorage}catch{return!1}}function clearSession(a){deleteSession(),a.session=void 0}function deleteSession(){if(hasSessionStorage())try{WINDOW.sessionStorage.removeItem(REPLAY_SESSION_KEY)}catch{}}function isSampled(a){return a===void 0?!1:Math.random()<a}function saveSession(a){if(hasSessionStorage())try{WINDOW.sessionStorage.setItem(REPLAY_SESSION_KEY,JSON.stringify(a))}catch{}}function makeSession(a){const c=Date.now(),h=a.id||uuid4(),f=a.started||c,B=a.lastActivity||c,v=a.segmentId||0,D=a.sampled,_=a.previousSessionId;return{id:h,started:f,lastActivity:B,segmentId:v,sampled:D,previousSessionId:_}}function getSessionSampleType(a,c){return isSampled(a)?"session":c?"buffer":!1}function createSession({sessionSampleRate:a,allowBuffering:c,stickySession:h=!1},{previousSessionId:f}={}){const B=getSessionSampleType(a,c),v=makeSession({sampled:B,previousSessionId:f});return h&&saveSession(v),v}function fetchSession(a){if(!hasSessionStorage())return null;try{const c=WINDOW.sessionStorage.getItem(REPLAY_SESSION_KEY);if(!c)return null;const h=JSON.parse(c);return logInfoNextTick("[Replay] Loading existing session",a),makeSession(h)}catch{return null}}function isExpired(a,c,h=+new Date){return a===null||c===void 0||c<0?!0:c===0?!1:a+c<=h}function isSessionExpired(a,{maxReplayDuration:c,sessionIdleExpire:h,targetTime:f=Date.now()}){return isExpired(a.started,c,f)||isExpired(a.lastActivity,h,f)}function shouldRefreshSession(a,{sessionIdleExpire:c,maxReplayDuration:h}){return!(!isSessionExpired(a,{sessionIdleExpire:c,maxReplayDuration:h})||a.sampled==="buffer"&&a.segmentId===0)}function loadOrCreateSession({traceInternals:a,sessionIdleExpire:c,maxReplayDuration:h,previousSessionId:f},B){const v=B.stickySession&&fetchSession(a);return v?shouldRefreshSession(v,{sessionIdleExpire:c,maxReplayDuration:h})?(logInfoNextTick("[Replay] Session in sessionStorage is expired, creating new one..."),createSession(B,{previousSessionId:v.id})):v:(logInfoNextTick("[Replay] Creating new session",a),createSession(B,{previousSessionId:f}))}const ReplayEventTypeCustom=5;function isCustomEvent(a){return a.type===EventType.Custom}function addEventSync(a,c,h){return shouldAddEvent(a,c)?(_addEvent(a,c,h),!0):!1}function addEvent(a,c,h){return shouldAddEvent(a,c)?_addEvent(a,c,h):Promise.resolve(null)}async function _addEvent(a,c,h){if(!a.eventBuffer)return null;try{h&&a.recordingMode==="buffer"&&a.eventBuffer.clear(),h&&(a.eventBuffer.hasCheckout=!0);const f=a.getOptions(),B=maybeApplyCallback(c,f.beforeAddRecordingEvent);return B?await a.eventBuffer.addEvent(B):void 0}catch(f){const B=f&&f instanceof EventBufferSizeExceededError?"addEventSizeExceeded":"addEvent";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error(f),await a.stop({reason:B});const v=getCurrentHub().getClient();v&&v.recordDroppedEvent("internal_sdk_error","replay")}}function shouldAddEvent(a,c){if(!a.eventBuffer||a.isPaused()||!a.isEnabled())return!1;const h=timestampToMs(c.timestamp);return h+a.timeouts.sessionIdlePause<Date.now()?!1:h>a.getContext().initialTimestamp+a.getOptions().maxReplayDuration?(logInfo(`[Replay] Skipping event with timestamp ${h} because it is after maxReplayDuration`,a.getOptions()._experiments.traceInternals),!1):!0}function maybeApplyCallback(a,c){try{if(typeof c=="function"&&isCustomEvent(a))return c(a)}catch(h){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",h),null}return a}function isErrorEvent(a){return!a.type}function isTransactionEvent(a){return a.type==="transaction"}function isReplayEvent(a){return a.type==="replay_event"}function handleAfterSendEvent(a){const c=isBaseTransportSend();return(h,f)=>{if(!a.isEnabled()||!isErrorEvent(h)&&!isTransactionEvent(h))return;const B=f&&f.statusCode;if(!(c&&(!B||B<200||B>=300))){if(isTransactionEvent(h)){handleTransactionEvent(a,h);return}handleErrorEvent(a,h)}}}function handleTransactionEvent(a,c){const h=a.getContext();c.contexts&&c.contexts.trace&&c.contexts.trace.trace_id&&h.traceIds.size<100&&h.traceIds.add(c.contexts.trace.trace_id)}function handleErrorEvent(a,c){const h=a.getContext();c.event_id&&h.errorIds.size<100&&h.errorIds.add(c.event_id),a.recordingMode==="buffer"&&c.tags&&c.tags.replayId&&setTimeout(()=>{a.sendBufferedReplayOrFlush()})}function isBaseTransportSend(){const a=getCurrentHub().getClient();if(!a)return!1;const c=a.getTransport();return c&&c.send.__sentry__baseTransport__||!1}function isRrwebError(a,c){return a.type||!a.exception||!a.exception.values||!a.exception.values.length?!1:!!(c.originalException&&c.originalException.__rrweb__)}function shouldSampleForBufferEvent(a,c){return a.recordingMode!=="buffer"||c.message===UNABLE_TO_SEND_REPLAY||!c.exception||c.type?!1:isSampled(a.getOptions().errorSampleRate)}function handleGlobalEventListener(a,c=!1){const h=c?handleAfterSendEvent(a):void 0;return Object.assign((f,B)=>a.isEnabled()?isReplayEvent(f)?(delete f.breadcrumbs,f):!isErrorEvent(f)&&!isTransactionEvent(f)||!a.checkAndHandleExpiredSession()?f:isRrwebError(f,B)&&!a.getOptions()._experiments.captureExceptions?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.log("[Replay] Ignoring error from rrweb internals",f),null):((shouldSampleForBufferEvent(a,f)||a.recordingMode==="session")&&(f.tags={...f.tags,replayId:a.getSessionId()}),h&&h(f,{statusCode:200}),f):f,{id:"Replay"})}function createPerformanceSpans(a,c){return c.map(({type:h,start:f,end:B,name:v,data:D})=>{const _=a.throttledAddEvent({type:EventType.Custom,timestamp:f,data:{tag:"performanceSpan",payload:{op:h,description:v,startTimestamp:f,endTimestamp:B,data:D}}});return typeof _=="string"?Promise.resolve(null):_})}function handleHistory(a){const{from:c,to:h}=a,f=Date.now()/1e3;return{type:"navigation.push",start:f,end:f,name:h,data:{previous:c}}}function handleHistorySpanListener(a){return c=>{if(!a.isEnabled())return;const h=handleHistory(c);h!==null&&(a.getContext().urls.push(h.name),a.triggerUserActivity(),a.addUpdate(()=>(createPerformanceSpans(a,[h]),!1)))}}function shouldFilterRequest(a,c){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.getOptions()._experiments.traceInternals?!1:isSentryRequestUrl(c,getCurrentHub())}function addNetworkBreadcrumb(a,c){a.isEnabled()&&c!==null&&(shouldFilterRequest(a,c.name)||a.addUpdate(()=>(createPerformanceSpans(a,[c]),!0)))}function handleFetch(a){const{startTimestamp:c,endTimestamp:h,fetchData:f,response:B}=a;if(!h)return null;const{method:v,url:D}=f;return{type:"resource.fetch",start:c/1e3,end:h/1e3,name:D,data:{method:v,statusCode:B?B.status:void 0}}}function handleFetchSpanListener(a){return c=>{if(!a.isEnabled())return;const h=handleFetch(c);addNetworkBreadcrumb(a,h)}}function handleXhr(a){const{startTimestamp:c,endTimestamp:h,xhr:f}=a,B=f[SENTRY_XHR_DATA_KEY];if(!c||!h||!B)return null;const{method:v,url:D,status_code:_}=B;return D===void 0?null:{type:"resource.xhr",name:D,start:c/1e3,end:h/1e3,data:{method:v,statusCode:_}}}function handleXhrSpanListener(a){return c=>{if(!a.isEnabled())return;const h=handleXhr(c);addNetworkBreadcrumb(a,h)}}const OBJ=10,OBJ_KEY=11,OBJ_KEY_STR=12,OBJ_VAL=13,OBJ_VAL_STR=14,OBJ_VAL_COMPLETED=15,ARR=20,ARR_VAL=21,ARR_VAL_STR=22,ARR_VAL_COMPLETED=23,ALLOWED_PRIMITIVES=["true","false","null"];function completeJson(a,c){if(!c.length)return a;let h=a;const f=c.length-1,B=c[f];h=_fixLastStep(h,B);for(let v=f;v>=0;v--)switch(c[v]){case OBJ:h=`${h}}`;break;case ARR:h=`${h}]`;break}return h}function _fixLastStep(a,c){switch(c){case OBJ:return`${a}"~~":"~~"`;case OBJ_KEY:return`${a}:"~~"`;case OBJ_KEY_STR:return`${a}~~":"~~"`;case OBJ_VAL:return _maybeFixIncompleteObjValue(a);case OBJ_VAL_STR:return`${a}~~"`;case OBJ_VAL_COMPLETED:return`${a},"~~":"~~"`;case ARR:return`${a}"~~"`;case ARR_VAL:return _maybeFixIncompleteArrValue(a);case ARR_VAL_STR:return`${a}~~"`;case ARR_VAL_COMPLETED:return`${a},"~~"`}return a}function _maybeFixIncompleteArrValue(a){const c=_findLastArrayDelimiter(a);if(c>-1){const h=a.slice(c+1);return ALLOWED_PRIMITIVES.includes(h.trim())?`${a},"~~"`:`${a.slice(0,c+1)}"~~"`}return a}function _findLastArrayDelimiter(a){for(let c=a.length-1;c>=0;c--){const h=a[c];if(h===","||h==="[")return c}return-1}function _maybeFixIncompleteObjValue(a){const c=a.lastIndexOf(":"),h=a.slice(c+1);return ALLOWED_PRIMITIVES.includes(h.trim())?`${a},"~~":"~~"`:`${a.slice(0,c+1)}"~~"`}function evaluateJson(a){const c=[];for(let h=0;h<a.length;h++)_evaluateJsonPos(c,a,h);return c}function _evaluateJsonPos(a,c,h){const f=a[a.length-1],B=c[h];if(!/\s/.test(B)){if(B==='"'&&!_isEscaped(c,h)){_handleQuote(a,f);return}switch(B){case"{":_handleObj(a,f);break;case"[":_handleArr(a,f);break;case":":_handleColon(a,f);break;case",":_handleComma(a,f);break;case"}":_handleObjClose(a,f);break;case"]":_handleArrClose(a,f);break}}}function _handleQuote(a,c){if(c===OBJ_VAL_STR){a.pop(),a.push(OBJ_VAL_COMPLETED);return}if(c===ARR_VAL_STR){a.pop(),a.push(ARR_VAL_COMPLETED);return}if(c===OBJ_VAL){a.push(OBJ_VAL_STR);return}if(c===ARR_VAL){a.push(ARR_VAL_STR);return}if(c===OBJ){a.push(OBJ_KEY_STR);return}if(c===OBJ_KEY_STR){a.pop(),a.push(OBJ_KEY);return}}function _handleObj(a,c){if(!c){a.push(OBJ);return}if(c===OBJ_VAL){a.push(OBJ);return}if(c===ARR_VAL&&a.push(OBJ),c===ARR){a.push(OBJ);return}}function _handleArr(a,c){if(!c){a.push(ARR),a.push(ARR_VAL);return}if(c===OBJ_VAL){a.push(ARR),a.push(ARR_VAL);return}if(c===ARR_VAL&&(a.push(ARR),a.push(ARR_VAL)),c===ARR){a.push(ARR),a.push(ARR_VAL);return}}function _handleColon(a,c){c===OBJ_KEY&&(a.pop(),a.push(OBJ_VAL))}function _handleComma(a,c){if(c===OBJ_VAL){a.pop();return}if(c===OBJ_VAL_COMPLETED){a.pop(),a.pop();return}if(c!==ARR_VAL&&c===ARR_VAL_COMPLETED){a.pop();return}}function _handleObjClose(a,c){c===OBJ&&a.pop(),c===OBJ_VAL&&(a.pop(),a.pop()),c===OBJ_VAL_COMPLETED&&(a.pop(),a.pop(),a.pop()),a[a.length-1]===OBJ_VAL&&a.push(OBJ_VAL_COMPLETED),a[a.length-1]===ARR_VAL&&a.push(ARR_VAL_COMPLETED)}function _handleArrClose(a,c){c===ARR&&a.pop(),c===ARR_VAL&&(a.pop(),a.pop()),c===ARR_VAL_COMPLETED&&(a.pop(),a.pop(),a.pop()),a[a.length-1]===OBJ_VAL&&a.push(OBJ_VAL_COMPLETED),a[a.length-1]===ARR_VAL&&a.push(ARR_VAL_COMPLETED)}function _isEscaped(a,c){return a[c-1]==="\\"&&!_isEscaped(a,c-1)}function fixJson(a){const c=evaluateJson(a);return completeJson(a,c)}function getBodySize(a,c){if(a)try{if(typeof a=="string")return c.encode(a).length;if(a instanceof URLSearchParams)return c.encode(a.toString()).length;if(a instanceof FormData){const h=_serializeFormData(a);return c.encode(h).length}if(a instanceof Blob)return a.size;if(a instanceof ArrayBuffer)return a.byteLength}catch{}}function parseContentLengthHeader(a){if(!a)return;const c=parseInt(a,10);return isNaN(c)?void 0:c}function getBodyString(a){if(typeof a=="string")return a;if(a instanceof URLSearchParams)return a.toString();if(a instanceof FormData)return _serializeFormData(a)}function makeNetworkReplayBreadcrumb(a,c){if(!c)return null;const{startTimestamp:h,endTimestamp:f,url:B,method:v,statusCode:D,request:_,response:m}=c;return{type:a,start:h/1e3,end:f/1e3,name:B,data:dropUndefinedKeys({method:v,statusCode:D,request:_,response:m})}}function buildSkippedNetworkRequestOrResponse(a){return{headers:{},size:a,_meta:{warnings:["URL_SKIPPED"]}}}function buildNetworkRequestOrResponse(a,c,h){if(!c&&Object.keys(a).length===0)return;if(!c)return{headers:a};if(!h)return{headers:a,size:c};const f={headers:a,size:c},{body:B,warnings:v}=normalizeNetworkBody(h);return f.body=B,v.length>0&&(f._meta={warnings:v}),f}function getAllowedHeaders(a,c){return Object.keys(a).reduce((h,f)=>{const B=f.toLowerCase();return c.includes(B)&&a[f]&&(h[B]=a[f]),h},{})}function _serializeFormData(a){return new URLSearchParams(a).toString()}function normalizeNetworkBody(a){if(!a||typeof a!="string")return{body:a,warnings:[]};const c=a.length>NETWORK_BODY_MAX_SIZE;if(_strIsProbablyJson(a))try{const h=c?fixJson(a.slice(0,NETWORK_BODY_MAX_SIZE)):a;return{body:JSON.parse(h),warnings:c?["JSON_TRUNCATED"]:[]}}catch{return{body:c?`${a.slice(0,NETWORK_BODY_MAX_SIZE)}`:a,warnings:c?["INVALID_JSON","TEXT_TRUNCATED"]:["INVALID_JSON"]}}return{body:c?`${a.slice(0,NETWORK_BODY_MAX_SIZE)}`:a,warnings:c?["TEXT_TRUNCATED"]:[]}}function _strIsProbablyJson(a){const c=a[0],h=a[a.length-1];return c==="["&&h==="]"||c==="{"&&h==="}"}function urlMatches(a,c){const h=getFullUrl(a);return stringMatchesSomePattern(h,c)}function getFullUrl(a,c=WINDOW.document.baseURI){if(a.startsWith("http://")||a.startsWith("https://")||a.startsWith(WINDOW.location.origin))return a;const h=new URL(a,c);if(h.origin!==new URL(c).origin)return a;const f=h.href;return!a.endsWith("/")&&f.endsWith("/")?f.slice(0,-1):f}async function captureFetchBreadcrumbToReplay(a,c,h){try{const f=await _prepareFetchData(a,c,h),B=makeNetworkReplayBreadcrumb("resource.fetch",f);addNetworkBreadcrumb(h.replay,B)}catch(f){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("[Replay] Failed to capture fetch breadcrumb",f)}}function enrichFetchBreadcrumb(a,c,h){const{input:f,response:B}=c,v=_getFetchRequestArgBody(f),D=getBodySize(v,h.textEncoder),_=B?parseContentLengthHeader(B.headers.get("content-length")):void 0;D!==void 0&&(a.data.request_body_size=D),_!==void 0&&(a.data.response_body_size=_)}async function _prepareFetchData(a,c,h){const{startTimestamp:f,endTimestamp:B}=c,{url:v,method:D,status_code:_=0,request_body_size:m,response_body_size:I}=a.data,Q=urlMatches(v,h.networkDetailAllowUrls)&&!urlMatches(v,h.networkDetailDenyUrls),p=Q?_getRequestInfo(h,c.input,m):buildSkippedNetworkRequestOrResponse(m),u=await _getResponseInfo(Q,h,c.response,I);return{startTimestamp:f,endTimestamp:B,url:v,method:D,statusCode:_,request:p,response:u}}function _getRequestInfo({networkCaptureBodies:a,networkRequestHeaders:c},h,f){const B=getRequestHeaders(h,c);if(!a)return buildNetworkRequestOrResponse(B,f,void 0);const v=_getFetchRequestArgBody(h),D=getBodyString(v);return buildNetworkRequestOrResponse(B,f,D)}async function _getResponseInfo(a,{networkCaptureBodies:c,textEncoder:h,networkResponseHeaders:f},B,v){if(!a&&v!==void 0)return buildSkippedNetworkRequestOrResponse(v);const D=getAllHeaders(B.headers,f);if(!c&&v!==void 0)return buildNetworkRequestOrResponse(D,v,void 0);try{const _=B.clone(),m=await _parseFetchBody(_),I=m&&m.length&&v===void 0?getBodySize(m,h):v;return a?c?buildNetworkRequestOrResponse(D,I,m):buildNetworkRequestOrResponse(D,I,void 0):buildSkippedNetworkRequestOrResponse(I)}catch{return buildNetworkRequestOrResponse(D,v,void 0)}}async function _parseFetchBody(a){try{return await a.text()}catch{return}}function _getFetchRequestArgBody(a=[]){if(!(a.length!==2||typeof a[1]!="object"))return a[1].body}function getAllHeaders(a,c){const h={};return c.forEach(f=>{a.get(f)&&(h[f]=a.get(f))}),h}function getRequestHeaders(a,c){return a.length===1&&typeof a[0]!="string"?getHeadersFromOptions(a[0],c):a.length===2?getHeadersFromOptions(a[1],c):{}}function getHeadersFromOptions(a,c){if(!a)return{};const h=a.headers;return h?h instanceof Headers?getAllHeaders(h,c):Array.isArray(h)?{}:getAllowedHeaders(h,c):{}}async function captureXhrBreadcrumbToReplay(a,c,h){try{const f=_prepareXhrData(a,c,h),B=makeNetworkReplayBreadcrumb("resource.xhr",f);addNetworkBreadcrumb(h.replay,B)}catch(f){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("[Replay] Failed to capture xhr breadcrumb",f)}}function enrichXhrBreadcrumb(a,c,h){const{xhr:f,input:B}=c,v=getBodySize(B,h.textEncoder),D=f.getResponseHeader("content-length")?parseContentLengthHeader(f.getResponseHeader("content-length")):getBodySize(f.response,h.textEncoder);v!==void 0&&(a.data.request_body_size=v),D!==void 0&&(a.data.response_body_size=D)}function _prepareXhrData(a,c,h){const{startTimestamp:f,endTimestamp:B,input:v,xhr:D}=c,{url:_,method:m,status_code:I=0,request_body_size:Q,response_body_size:p}=a.data;if(!_)return null;if(!urlMatches(_,h.networkDetailAllowUrls)||urlMatches(_,h.networkDetailDenyUrls)){const te=buildSkippedNetworkRequestOrResponse(Q),F=buildSkippedNetworkRequestOrResponse(p);return{startTimestamp:f,endTimestamp:B,url:_,method:m,statusCode:I,request:te,response:F}}const u=D[SENTRY_XHR_DATA_KEY],y=u?getAllowedHeaders(u.request_headers,h.networkRequestHeaders):{},N=getAllowedHeaders(getResponseHeaders(D),h.networkResponseHeaders),U=buildNetworkRequestOrResponse(y,Q,h.networkCaptureBodies?getBodyString(v):void 0),q=buildNetworkRequestOrResponse(N,p,h.networkCaptureBodies?c.xhr.responseText:void 0);return{startTimestamp:f,endTimestamp:B,url:_,method:m,statusCode:I,request:U,response:q}}function getResponseHeaders(a){const c=a.getAllResponseHeaders();return c?c.split(`\r
`).reduce((h,f)=>{const[B,v]=f.split(": ");return h[B.toLowerCase()]=v,h},{}):{}}function handleNetworkBreadcrumbs(a){const c=getCurrentHub().getClient();try{const h=new TextEncoder,{networkDetailAllowUrls:f,networkDetailDenyUrls:B,networkCaptureBodies:v,networkRequestHeaders:D,networkResponseHeaders:_}=a.getOptions(),m={replay:a,textEncoder:h,networkDetailAllowUrls:f,networkDetailDenyUrls:B,networkCaptureBodies:v,networkRequestHeaders:D,networkResponseHeaders:_};c&&c.on?c.on("beforeAddBreadcrumb",(I,Q)=>beforeAddNetworkBreadcrumb(m,I,Q)):(addInstrumentationHandler("fetch",handleFetchSpanListener(a)),addInstrumentationHandler("xhr",handleXhrSpanListener(a)))}catch{}}function beforeAddNetworkBreadcrumb(a,c,h){if(c.data)try{_isXhrBreadcrumb(c)&&_isXhrHint(h)&&(enrichXhrBreadcrumb(c,h,a),captureXhrBreadcrumbToReplay(c,h,a)),_isFetchBreadcrumb(c)&&_isFetchHint(h)&&(enrichFetchBreadcrumb(c,h,a),captureFetchBreadcrumbToReplay(c,h,a))}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("Error when enriching network breadcrumb")}}function _isXhrBreadcrumb(a){return a.category==="xhr"}function _isFetchBreadcrumb(a){return a.category==="fetch"}function _isXhrHint(a){return a&&a.xhr}function _isFetchHint(a){return a&&a.response}let _LAST_BREADCRUMB=null;function isBreadcrumbWithCategory(a){return!!a.category}const handleScopeListener=a=>c=>{if(!a.isEnabled())return;const h=handleScope(c);h&&addBreadcrumbEvent(a,h)};function handleScope(a){const c=a.getLastBreadcrumb&&a.getLastBreadcrumb();return _LAST_BREADCRUMB===c||!c||(_LAST_BREADCRUMB=c,!isBreadcrumbWithCategory(c)||["fetch","xhr","sentry.event","sentry.transaction"].includes(c.category)||c.category.startsWith("ui."))?null:c.category==="console"?normalizeConsoleBreadcrumb(c):createBreadcrumb(c)}function normalizeConsoleBreadcrumb(a){const c=a.data&&a.data.arguments;if(!Array.isArray(c)||c.length===0)return createBreadcrumb(a);let h=!1;const f=c.map(B=>{if(!B)return B;if(typeof B=="string")return B.length>CONSOLE_ARG_MAX_SIZE?(h=!0,`${B.slice(0,CONSOLE_ARG_MAX_SIZE)}`):B;if(typeof B=="object")try{const v=normalize(B,7),D=JSON.stringify(v);if(D.length>CONSOLE_ARG_MAX_SIZE){const _=fixJson(D.slice(0,CONSOLE_ARG_MAX_SIZE)),m=JSON.parse(_);return h=!0,m}return v}catch{}return B});return createBreadcrumb({...a,data:{...a.data,arguments:f,...h?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function addGlobalListeners(a){const c=getCurrentHub().getScope(),h=getCurrentHub().getClient();c.addScopeListener(handleScopeListener(a)),addInstrumentationHandler("dom",handleDomListener(a)),addInstrumentationHandler("history",handleHistorySpanListener(a)),handleNetworkBreadcrumbs(a);const f=handleGlobalEventListener(a,!hasHooks(h));h&&h.addEventProcessor?h.addEventProcessor(f):addGlobalEventProcessor(f),hasHooks(h)&&(h.on("afterSendEvent",handleAfterSendEvent(a)),h.on("createDsc",B=>{const v=a.getSessionId();v&&a.isEnabled()&&a.recordingMode==="session"&&a.checkAndHandleExpiredSession()&&(B.replay_id=v)}),h.on("startTransaction",B=>{a.lastTransaction=B}),h.on("finishTransaction",B=>{a.lastTransaction=B}))}function hasHooks(a){return!!(a&&a.on)}async function addMemoryEntry(a){try{return Promise.all(createPerformanceSpans(a,[createMemoryEntry(WINDOW.performance.memory)]))}catch{return[]}}function createMemoryEntry(a){const{jsHeapSizeLimit:c,totalJSHeapSize:h,usedJSHeapSize:f}=a,B=Date.now()/1e3;return{type:"memory",name:"memory",start:B,end:B,data:{memory:{jsHeapSizeLimit:c,totalJSHeapSize:h,usedJSHeapSize:f}}}}function debounce(a,c,h){let f,B,v;const D=h&&h.maxWait?Math.max(h.maxWait,c):0;function _(){return m(),f=a(),f}function m(){B!==void 0&&clearTimeout(B),v!==void 0&&clearTimeout(v),B=v=void 0}function I(){return B!==void 0||v!==void 0?_():f}function Q(){return B&&clearTimeout(B),B=setTimeout(_,c),D&&v===void 0&&(v=setTimeout(_,D)),f}return Q.cancel=m,Q.flush=I,Q}function getHandleRecordingEmit(a){let c=!1;return(h,f)=>{if(!a.checkAndHandleExpiredSession()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn("[Replay] Received replay event after session expired.");return}const B=f||!c;c=!0,a.addUpdate(()=>{if(a.recordingMode==="buffer"&&B&&a.setInitialState(),!addEventSync(a,h,B))return!0;if(!B)return!1;if(addSettingsEvent(a,B),a.session&&a.session.previousSessionId)return!0;if(a.recordingMode==="buffer"&&a.session&&a.eventBuffer){const v=a.eventBuffer.getEarliestTimestamp();v&&(logInfo(`[Replay] Updating session start time to earliest event in buffer to ${new Date(v)}`,a.getOptions()._experiments.traceInternals),a.session.started=v,a.getOptions().stickySession&&saveSession(a.session))}return a.recordingMode==="session"&&a.flush(),!0})}}function createOptionsEvent(a){const c=a.getOptions();return{type:EventType.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:c.sessionSampleRate,errorSampleRate:c.errorSampleRate,useCompressionOption:c.useCompression,blockAllMedia:c.blockAllMedia,maskAllText:c.maskAllText,maskAllInputs:c.maskAllInputs,useCompression:a.eventBuffer?a.eventBuffer.type==="worker":!1,networkDetailHasUrls:c.networkDetailAllowUrls.length>0,networkCaptureBodies:c.networkCaptureBodies,networkRequestHasHeaders:c.networkRequestHeaders.length>0,networkResponseHasHeaders:c.networkResponseHeaders.length>0}}}}function addSettingsEvent(a,c){!c||!a.session||a.session.segmentId!==0||addEventSync(a,createOptionsEvent(a),!1)}function createReplayEnvelope(a,c,h,f){return createEnvelope(createEventEnvelopeHeaders(a,getSdkMetadataForEnvelopeHeader(a),f,h),[[{type:"replay_event"},a],[{type:"replay_recording",length:typeof c=="string"?new TextEncoder().encode(c).length:c.length},c]])}function prepareRecordingData({recordingData:a,headers:c}){let h;const f=`${JSON.stringify(c)}
`;if(typeof a=="string")h=`${f}${a}`;else{const v=new TextEncoder().encode(f);h=new Uint8Array(v.length+a.length),h.set(v),h.set(a,v.length)}return h}async function prepareReplayEvent({client:a,scope:c,replayId:h,event:f}){const B=typeof a._integrations=="object"&&a._integrations!==null&&!Array.isArray(a._integrations)?Object.keys(a._integrations):void 0,v={event_id:h,integrations:B};a.emit&&a.emit("preprocessEvent",f,v);const D=await prepareEvent(a.getOptions(),f,v,c,a);if(!D)return null;D.platform=D.platform||"javascript";const _=a.getSdkMetadata&&a.getSdkMetadata(),{name:m,version:I}=_&&_.sdk||{};return D.sdk={...D.sdk,name:m||"sentry.javascript.unknown",version:I||"0.0.0"},D}async function sendReplayRequest({recordingData:a,replayId:c,segmentId:h,eventContext:f,timestamp:B,session:v}){const D=prepareRecordingData({recordingData:a,headers:{segment_id:h}}),{urls:_,errorIds:m,traceIds:I,initialTimestamp:Q}=f,p=getCurrentHub(),u=p.getClient(),y=p.getScope(),N=u&&u.getTransport(),U=u&&u.getDsn();if(!u||!N||!U||!v.sampled)return;const q={type:REPLAY_EVENT_NAME,replay_start_timestamp:Q/1e3,timestamp:B/1e3,error_ids:m,trace_ids:I,urls:_,replay_id:c,segment_id:h,replay_type:v.sampled},te=await prepareReplayEvent({scope:y,client:u,replayId:c,event:q});if(!te){u.recordDroppedEvent("event_processor","replay",q),logInfo("An event processor returned `null`, will not send event.");return}delete te.sdkProcessingMetadata;const F=createReplayEnvelope(te,D,U,u.getOptions().tunnel);let V;try{V=await N.send(F)}catch(z){const $=new Error(UNABLE_TO_SEND_REPLAY);try{$.cause=z}catch{}throw $}if(!V)return V;if(typeof V.statusCode=="number"&&(V.statusCode<200||V.statusCode>=300))throw new TransportStatusCodeError(V.statusCode);return V}class TransportStatusCodeError extends Error{constructor(c){super(`Transport returned status code ${c}`)}}async function sendReplay(a,c={count:0,interval:RETRY_BASE_INTERVAL}){const{recordingData:h,options:f}=a;if(h.length)try{return await sendReplayRequest(a),!0}catch(B){if(B instanceof TransportStatusCodeError)throw B;if(setContext("Replays",{_retryCount:c.count}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f._experiments&&f._experiments.captureExceptions&&captureException(B),c.count>=RETRY_MAX_COUNT){const v=new Error(`${UNABLE_TO_SEND_REPLAY} - max retries exceeded`);try{v.cause=B}catch{}throw v}return c.interval*=++c.count,new Promise((v,D)=>{setTimeout(async()=>{try{await sendReplay(a,c),v(!0)}catch(_){D(_)}},c.interval)})}}const THROTTLED="__THROTTLED",SKIPPED="__SKIPPED";function throttle(a,c,h){const f=new Map,B=_=>{const m=_-h;f.forEach((I,Q)=>{Q<m&&f.delete(Q)})},v=()=>[...f.values()].reduce((_,m)=>_+m,0);let D=!1;return(..._)=>{const m=Math.floor(Date.now()/1e3);if(B(m),v()>=c){const Q=D;return D=!0,Q?SKIPPED:THROTTLED}D=!1;const I=f.get(m)||0;return f.set(m,I+1),a(..._)}}class ReplayContainer{constructor({options:c,recordingOptions:h}){ReplayContainer.prototype.__init.call(this),ReplayContainer.prototype.__init2.call(this),ReplayContainer.prototype.__init3.call(this),ReplayContainer.prototype.__init4.call(this),ReplayContainer.prototype.__init5.call(this),ReplayContainer.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:SESSION_IDLE_PAUSE_DURATION,sessionIdleExpire:SESSION_IDLE_EXPIRE_DURATION},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=h,this._options=c,this._debouncedFlush=debounce(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=throttle((D,_)=>addEvent(this,D,_),300,5);const{slowClickTimeout:f,slowClickIgnoreSelectors:B}=this.getOptions(),v=f?{threshold:Math.min(SLOW_CLICK_THRESHOLD,f),timeout:f,scrollTimeout:SLOW_CLICK_SCROLL_TIMEOUT,ignoreSelector:B?B.join(","):""}:void 0;v&&(this.clickDetector=new ClickDetector(this,v))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(c){const{errorSampleRate:h,sessionSampleRate:f}=this._options;if(!(h<=0&&f<=0)){if(this._initializeSessionForSampling(c),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",logInfoNextTick(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");logInfoNextTick("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const c=loadOrCreateSession({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=c,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");logInfoNextTick("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const c=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=c,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{this._stopRecording=record({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:BUFFER_CHECKOUT_TIME},emit:getHandleRecordingEmit(this),onMutation:this._onMutationHandler})}catch(c){this._handleException(c)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(c){return this._handleException(c),!1}}async stop({forceFlush:c=!1,reason:h}={}){if(this._isEnabled){this._isEnabled=!1;try{logInfo(`[Replay] Stopping Replay${h?` triggered by ${h}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),c&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,clearSession(this)}catch(f){this._handleException(f)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),logInfo("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),logInfo("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:c=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const h=Date.now();logInfo("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const f=this.stopRecording();!c||!f||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(h),this._updateSessionActivity(h),this._maybeSaveSession()),this.startRecording())}addUpdate(c){const h=c();this.recordingMode!=="buffer"&&h!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&isExpired(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const c=`${WINDOW.location.pathname}${WINDOW.location.hash}${WINDOW.location.search}`,h=`${WINDOW.location.origin}${c}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=h,this._context.initialTimestamp=Date.now(),this._context.urls.push(h)}throttledAddEvent(c,h){const f=this._throttledAddEvent(c,h);if(f===THROTTLED){const B=createBreadcrumb({category:"replay.throttled"});this.addUpdate(()=>!addEventSync(this,{type:ReplayEventTypeCustom,timestamp:B.timestamp||0,data:{tag:"breadcrumb",payload:B,metric:!0}}))}return f}getCurrentRoute(){const c=this.lastTransaction||getCurrentHub().getScope().getTransaction();if(!(!c||!["route","custom"].includes(c.metadata.source)))return c.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=createEventBuffer({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(c){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("[Replay]",c),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._options._experiments&&this._options._experiments.captureExceptions&&captureException(c)}_initializeSessionForSampling(c){const h=this._options.errorSampleRate>0,f=loadOrCreateSession({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:c},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:h});this.session=f}_checkSession(){if(!this.session)return!1;const c=this.session;return shouldRefreshSession(c,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(c),!1):!0}async _refreshSession(c){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(c.id))}_addListeners(){try{WINDOW.document.addEventListener("visibilitychange",this._handleVisibilityChange),WINDOW.addEventListener("blur",this._handleWindowBlur),WINDOW.addEventListener("focus",this._handleWindowFocus),WINDOW.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(addGlobalListeners(this),this._hasInitializedCoreListeners=!0)}catch(c){this._handleException(c)}this._performanceCleanupCallback=setupPerformanceObserver(this)}_removeListeners(){try{WINDOW.document.removeEventListener("visibilitychange",this._handleVisibilityChange),WINDOW.removeEventListener("blur",this._handleWindowBlur),WINDOW.removeEventListener("focus",this._handleWindowFocus),WINDOW.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(c){this._handleException(c)}}__init(){this._handleVisibilityChange=()=>{WINDOW.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const c=createBreadcrumb({category:"ui.blur"});this._doChangeToBackgroundTasks(c)}}__init3(){this._handleWindowFocus=()=>{const c=createBreadcrumb({category:"ui.focus"});this._doChangeToForegroundTasks(c)}}__init4(){this._handleKeyboardEvent=c=>{handleKeyboardEvent(this,c)}}_doChangeToBackgroundTasks(c){!this.session||isSessionExpired(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(c&&this._createCustomBreadcrumb(c),this.conditionalFlush())}_doChangeToForegroundTasks(c){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){logInfo("[Replay] Document has become active, but session has expired");return}c&&this._createCustomBreadcrumb(c)}_updateUserActivity(c=Date.now()){this._lastActivity=c}_updateSessionActivity(c=Date.now()){this.session&&(this.session.lastActivity=c,this._maybeSaveSession())}_createCustomBreadcrumb(c){this.addUpdate(()=>{this.throttledAddEvent({type:EventType.Custom,timestamp:c.timestamp||0,data:{tag:"breadcrumb",payload:c}})})}_addPerformanceEntries(){const c=createPerformanceEntries(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(createPerformanceSpans(this,c))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:c,eventBuffer:h}=this;if(!c||!h||c.segmentId)return;const f=h.getEarliestTimestamp();f&&f<this._context.initialTimestamp&&(this._context.initialTimestamp=f)}_popEventContext(){const c={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),c}async _runFlush(){const c=this.getSessionId();if(!this.session||!this.eventBuffer||!c){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await addMemoryEntry(this),!!this.eventBuffer&&c===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const h=Date.now();if(h-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const f=this._popEventContext(),B=this.session.segmentId++;this._maybeSaveSession();const v=await this.eventBuffer.finish();await sendReplay({replayId:c,recordingData:v,segmentId:B,eventContext:f,session:this.session,options:this.getOptions(),timestamp:h})}catch(h){this._handleException(h),this.stop({reason:"sendReplay"});const f=getCurrentHub().getClient();f&&f.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:c=!1}={})=>{if(!this._isEnabled&&!c)return;if(!this.checkAndHandleExpiredSession()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const h=this.session.started,B=Date.now()-h;this._debouncedFlush.cancel();const v=B<this._options.minReplayDuration,D=B>this._options.maxReplayDuration+5e3;if(v||D){logInfo(`[Replay] Session duration (${Math.floor(B/1e3)}s) is too ${v?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),v&&this._debouncedFlush();return}const _=this.eventBuffer;if(_&&this.session.segmentId===0&&!_.hasCheckout&&logInfo("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(m){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.error(m)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&saveSession(this.session)}__init6(){this._onMutationHandler=c=>{const h=c.length,f=this._options.mutationLimit,B=this._options.mutationBreadcrumbLimit,v=f&&h>f;if(h>B||v){const D=createBreadcrumb({category:"replay.mutations",data:{count:h,limit:v}});this._createCustomBreadcrumb(D)}return v?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function getOption(a,c,h,f){const B=typeof f=="string"?f.split(","):[],v=[...a,...B,...c];return typeof h<"u"&&(typeof h=="string"&&v.push(`.${h}`),console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")),v.join(",")}function getPrivacyOptions({mask:a,unmask:c,block:h,unblock:f,ignore:B,blockClass:v,blockSelector:D,maskTextClass:_,maskTextSelector:m,ignoreClass:I}){const Q=['base[href="/"]'],p=getOption(a,[".sentry-mask","[data-sentry-mask]"],_,m),u=getOption(c,[".sentry-unmask","[data-sentry-unmask]"]),y={maskTextSelector:p,unmaskTextSelector:u,blockSelector:getOption(h,[".sentry-block","[data-sentry-block]",...Q],v,D),unblockSelector:getOption(f,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:getOption(B,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],I)};return v instanceof RegExp&&(y.blockClass=v),_ instanceof RegExp&&(y.maskTextClass=_),y}function maskAttribute({el:a,key:c,maskAttributes:h,maskAllText:f,privacyOptions:B,value:v}){return!f||B.unmaskTextSelector&&a.matches(B.unmaskTextSelector)?v:h.includes(c)||c==="value"&&a.tagName==="INPUT"&&["submit","button"].includes(a.getAttribute("type")||"")?v.replace(/[\S]/g,"*"):v}const MEDIA_SELECTORS='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',DEFAULT_NETWORK_HEADERS=["content-length","content-type","accept"];let _initialized=!1;class Replay{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:c=DEFAULT_FLUSH_MIN_DELAY,flushMaxDelay:h=DEFAULT_FLUSH_MAX_DELAY,minReplayDuration:f=MIN_REPLAY_DURATION,maxReplayDuration:B=MAX_REPLAY_DURATION,stickySession:v=!0,useCompression:D=!0,workerUrl:_,_experiments:m={},sessionSampleRate:I,errorSampleRate:Q,maskAllText:p=!0,maskAllInputs:u=!0,blockAllMedia:y=!0,mutationBreadcrumbLimit:N=750,mutationLimit:U=1e4,slowClickTimeout:q=7e3,slowClickIgnoreSelectors:te=[],networkDetailAllowUrls:F=[],networkDetailDenyUrls:V=[],networkCaptureBodies:z=!0,networkRequestHeaders:$=[],networkResponseHeaders:L=[],mask:O=[],maskAttributes:T=["title","placeholder"],unmask:w=[],block:k=[],unblock:Y=[],ignore:Z=[],maskFn:W,beforeAddRecordingEvent:K,blockClass:x,blockSelector:X,maskInputOptions:H,maskTextClass:j,maskTextSelector:ae,ignoreClass:ce}={}){this.name=Replay.id;const ne=getPrivacyOptions({mask:O,unmask:w,block:k,unblock:Y,ignore:Z,blockClass:x,blockSelector:X,maskTextClass:j,maskTextSelector:ae,ignoreClass:ce});if(this._recordingOptions={maskAllInputs:u,maskAllText:p,maskInputOptions:{...H||{},password:!0},maskTextFn:W,maskInputFn:W,maskAttributeFn:(Qe,De,Fe)=>maskAttribute({maskAttributes:T,maskAllText:p,privacyOptions:ne,key:Qe,value:De,el:Fe}),...ne,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Qe=>{try{Qe.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:c,flushMaxDelay:h,minReplayDuration:Math.min(f,MIN_REPLAY_DURATION_LIMIT),maxReplayDuration:Math.min(B,MAX_REPLAY_DURATION),stickySession:v,sessionSampleRate:I,errorSampleRate:Q,useCompression:D,workerUrl:_,blockAllMedia:y,maskAllInputs:u,maskAllText:p,mutationBreadcrumbLimit:N,mutationLimit:U,slowClickTimeout:q,slowClickIgnoreSelectors:te,networkDetailAllowUrls:F,networkDetailDenyUrls:V,networkCaptureBodies:z,networkRequestHeaders:_getMergedNetworkHeaders($),networkResponseHeaders:_getMergedNetworkHeaders(L),beforeAddRecordingEvent:K,_experiments:m},typeof I=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${I} })`),this._initialOptions.sessionSampleRate=I),typeof Q=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${Q} })`),this._initialOptions.errorSampleRate=Q),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${MEDIA_SELECTORS}`:MEDIA_SELECTORS),this._isInitialized&&isBrowser())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return _initialized}set _isInitialized(c){_initialized=c}setupOnce(){isBrowser()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(c){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(c)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const c=loadReplayOptionsFromClient(this._initialOptions);this._replay=new ReplayContainer({options:c,recordingOptions:this._recordingOptions})}}Replay.__initStatic();function loadReplayOptionsFromClient(a){const c=getCurrentHub().getClient(),h=c&&c.getOptions(),f={sessionSampleRate:0,errorSampleRate:0,...dropUndefinedKeys(a)};return h?(a.sessionSampleRate==null&&a.errorSampleRate==null&&h.replaysSessionSampleRate==null&&h.replaysOnErrorSampleRate==null&&console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set."),typeof h.replaysSessionSampleRate=="number"&&(f.sessionSampleRate=h.replaysSessionSampleRate),typeof h.replaysOnErrorSampleRate=="number"&&(f.errorSampleRate=h.replaysOnErrorSampleRate),f):(console.warn("SDK client is not available."),f)}function _getMergedNetworkHeaders(a){return[...DEFAULT_NETWORK_HEADERS,...a.map(c=>c.toLowerCase())]}function init(a){const c={_metadata:{},...a};c._metadata.sdk=c._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:SDK_VERSION}],version:SDK_VERSION},init$1(c)}function initSentry(){envIsBuild&&["dev","test","production"].includes(newbitEnv)&&init({ignoreErrors:["Non-Error exception captured","Non-Error promise rejection captured","ResizeObserver loop limit exceeded","Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.","Failed to execute 'insertBefore' on 'Node': The node before which the new node is to be inserted is not a child of this node."],dsn:"https://f8e9a598e62d458ba76000ad5cb5ca0c@o4504779517198336.ingest.sentry.io/4504779521654784",integrations:[new BrowserTracing({tracePropagationTargets:["localhost",/^https:\/\/yourserver\.io\/api/]}),new Replay],environment:newbitEnv,tracesSampleRate:1})}var version="3.4.2";function wait(a,c){return new Promise(function(h){return setTimeout(h,a,c)})}function requestIdleCallbackIfAvailable(a,c){c===void 0&&(c=1/0);var h=window.requestIdleCallback;return h?new Promise(function(f){return h.call(window,function(){return f()},{timeout:c})}):wait(Math.min(a,c))}function isPromise(a){return!!a&&typeof a.then=="function"}function awaitIfAsync(a,c){try{var h=a();isPromise(h)?h.then(function(f){return c(!0,f)},function(f){return c(!1,f)}):c(!0,h)}catch(f){c(!1,f)}}function mapWithBreaks(a,c,h){return h===void 0&&(h=16),__awaiter$1(this,void 0,void 0,function(){var f,B,v,D;return __generator(this,function(_){switch(_.label){case 0:f=Array(a.length),B=Date.now(),v=0,_.label=1;case 1:return v<a.length?(f[v]=c(a[v],v),D=Date.now(),D>=B+h?(B=D,[4,wait(0)]):[3,3]):[3,4];case 2:_.sent(),_.label=3;case 3:return++v,[3,1];case 4:return[2,f]}})})}function suppressUnhandledRejectionWarning(a){a.then(void 0,function(){})}function x64Add(a,c){a=[a[0]>>>16,a[0]&65535,a[1]>>>16,a[1]&65535],c=[c[0]>>>16,c[0]&65535,c[1]>>>16,c[1]&65535];var h=[0,0,0,0];return h[3]+=a[3]+c[3],h[2]+=h[3]>>>16,h[3]&=65535,h[2]+=a[2]+c[2],h[1]+=h[2]>>>16,h[2]&=65535,h[1]+=a[1]+c[1],h[0]+=h[1]>>>16,h[1]&=65535,h[0]+=a[0]+c[0],h[0]&=65535,[h[0]<<16|h[1],h[2]<<16|h[3]]}function x64Multiply(a,c){a=[a[0]>>>16,a[0]&65535,a[1]>>>16,a[1]&65535],c=[c[0]>>>16,c[0]&65535,c[1]>>>16,c[1]&65535];var h=[0,0,0,0];return h[3]+=a[3]*c[3],h[2]+=h[3]>>>16,h[3]&=65535,h[2]+=a[2]*c[3],h[1]+=h[2]>>>16,h[2]&=65535,h[2]+=a[3]*c[2],h[1]+=h[2]>>>16,h[2]&=65535,h[1]+=a[1]*c[3],h[0]+=h[1]>>>16,h[1]&=65535,h[1]+=a[2]*c[2],h[0]+=h[1]>>>16,h[1]&=65535,h[1]+=a[3]*c[1],h[0]+=h[1]>>>16,h[1]&=65535,h[0]+=a[0]*c[3]+a[1]*c[2]+a[2]*c[1]+a[3]*c[0],h[0]&=65535,[h[0]<<16|h[1],h[2]<<16|h[3]]}function x64Rotl(a,c){return c%=64,c===32?[a[1],a[0]]:c<32?[a[0]<<c|a[1]>>>32-c,a[1]<<c|a[0]>>>32-c]:(c-=32,[a[1]<<c|a[0]>>>32-c,a[0]<<c|a[1]>>>32-c])}function x64LeftShift(a,c){return c%=64,c===0?a:c<32?[a[0]<<c|a[1]>>>32-c,a[1]<<c]:[a[1]<<c-32,0]}function x64Xor(a,c){return[a[0]^c[0],a[1]^c[1]]}function x64Fmix(a){return a=x64Xor(a,[0,a[0]>>>1]),a=x64Multiply(a,[4283543511,3981806797]),a=x64Xor(a,[0,a[0]>>>1]),a=x64Multiply(a,[3301882366,444984403]),a=x64Xor(a,[0,a[0]>>>1]),a}function x64hash128(a,c){a=a||"",c=c||0;var h=a.length%16,f=a.length-h,B=[0,c],v=[0,c],D=[0,0],_=[0,0],m=[2277735313,289559509],I=[1291169091,658871167],Q;for(Q=0;Q<f;Q=Q+16)D=[a.charCodeAt(Q+4)&255|(a.charCodeAt(Q+5)&255)<<8|(a.charCodeAt(Q+6)&255)<<16|(a.charCodeAt(Q+7)&255)<<24,a.charCodeAt(Q)&255|(a.charCodeAt(Q+1)&255)<<8|(a.charCodeAt(Q+2)&255)<<16|(a.charCodeAt(Q+3)&255)<<24],_=[a.charCodeAt(Q+12)&255|(a.charCodeAt(Q+13)&255)<<8|(a.charCodeAt(Q+14)&255)<<16|(a.charCodeAt(Q+15)&255)<<24,a.charCodeAt(Q+8)&255|(a.charCodeAt(Q+9)&255)<<8|(a.charCodeAt(Q+10)&255)<<16|(a.charCodeAt(Q+11)&255)<<24],D=x64Multiply(D,m),D=x64Rotl(D,31),D=x64Multiply(D,I),B=x64Xor(B,D),B=x64Rotl(B,27),B=x64Add(B,v),B=x64Add(x64Multiply(B,[0,5]),[0,1390208809]),_=x64Multiply(_,I),_=x64Rotl(_,33),_=x64Multiply(_,m),v=x64Xor(v,_),v=x64Rotl(v,31),v=x64Add(v,B),v=x64Add(x64Multiply(v,[0,5]),[0,944331445]);switch(D=[0,0],_=[0,0],h){case 15:_=x64Xor(_,x64LeftShift([0,a.charCodeAt(Q+14)],48));case 14:_=x64Xor(_,x64LeftShift([0,a.charCodeAt(Q+13)],40));case 13:_=x64Xor(_,x64LeftShift([0,a.charCodeAt(Q+12)],32));case 12:_=x64Xor(_,x64LeftShift([0,a.charCodeAt(Q+11)],24));case 11:_=x64Xor(_,x64LeftShift([0,a.charCodeAt(Q+10)],16));case 10:_=x64Xor(_,x64LeftShift([0,a.charCodeAt(Q+9)],8));case 9:_=x64Xor(_,[0,a.charCodeAt(Q+8)]),_=x64Multiply(_,I),_=x64Rotl(_,33),_=x64Multiply(_,m),v=x64Xor(v,_);case 8:D=x64Xor(D,x64LeftShift([0,a.charCodeAt(Q+7)],56));case 7:D=x64Xor(D,x64LeftShift([0,a.charCodeAt(Q+6)],48));case 6:D=x64Xor(D,x64LeftShift([0,a.charCodeAt(Q+5)],40));case 5:D=x64Xor(D,x64LeftShift([0,a.charCodeAt(Q+4)],32));case 4:D=x64Xor(D,x64LeftShift([0,a.charCodeAt(Q+3)],24));case 3:D=x64Xor(D,x64LeftShift([0,a.charCodeAt(Q+2)],16));case 2:D=x64Xor(D,x64LeftShift([0,a.charCodeAt(Q+1)],8));case 1:D=x64Xor(D,[0,a.charCodeAt(Q)]),D=x64Multiply(D,m),D=x64Rotl(D,31),D=x64Multiply(D,I),B=x64Xor(B,D)}return B=x64Xor(B,[0,a.length]),v=x64Xor(v,[0,a.length]),B=x64Add(B,v),v=x64Add(v,B),B=x64Fmix(B),v=x64Fmix(v),B=x64Add(B,v),v=x64Add(v,B),("00000000"+(B[0]>>>0).toString(16)).slice(-8)+("00000000"+(B[1]>>>0).toString(16)).slice(-8)+("00000000"+(v[0]>>>0).toString(16)).slice(-8)+("00000000"+(v[1]>>>0).toString(16)).slice(-8)}function errorToObject(a){var c;return __assign({name:a.name,message:a.message,stack:(c=a.stack)===null||c===void 0?void 0:c.split(`
`)},a)}function includes(a,c){for(var h=0,f=a.length;h<f;++h)if(a[h]===c)return!0;return!1}function excludes(a,c){return!includes(a,c)}function toInt(a){return parseInt(a)}function toFloat(a){return parseFloat(a)}function replaceNaN(a,c){return typeof a=="number"&&isNaN(a)?c:a}function countTruthy(a){return a.reduce(function(c,h){return c+(h?1:0)},0)}function round(a,c){if(c===void 0&&(c=1),Math.abs(c)>=1)return Math.round(a/c)*c;var h=1/c;return Math.round(a*h)/h}function parseSimpleCssSelector(a){for(var c,h,f="Unexpected syntax '".concat(a,"'"),B=/^\s*([a-z-]*)(.*)$/i.exec(a),v=B[1]||void 0,D={},_=/([.:#][\w-]+|\[.+?\])/gi,m=function(u,y){D[u]=D[u]||[],D[u].push(y)};;){var I=_.exec(B[2]);if(!I)break;var Q=I[0];switch(Q[0]){case".":m("class",Q.slice(1));break;case"#":m("id",Q.slice(1));break;case"[":{var p=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(Q);if(p)m(p[1],(h=(c=p[4])!==null&&c!==void 0?c:p[5])!==null&&h!==void 0?h:"");else throw new Error(f);break}default:throw new Error(f)}}return[v,D]}function ensureErrorWithMessage(a){return a&&typeof a=="object"&&"message"in a?a:{message:a}}function isFinalResultLoaded(a){return typeof a!="function"}function loadSource(a,c){var h=new Promise(function(f){var B=Date.now();awaitIfAsync(a.bind(null,c),function(){for(var v=[],D=0;D<arguments.length;D++)v[D]=arguments[D];var _=Date.now()-B;if(!v[0])return f(function(){return{error:ensureErrorWithMessage(v[1]),duration:_}});var m=v[1];if(isFinalResultLoaded(m))return f(function(){return{value:m,duration:_}});f(function(){return new Promise(function(I){var Q=Date.now();awaitIfAsync(m,function(){for(var p=[],u=0;u<arguments.length;u++)p[u]=arguments[u];var y=_+Date.now()-Q;if(!p[0])return I({error:ensureErrorWithMessage(p[1]),duration:y});I({value:p[1],duration:y})})})})})});return suppressUnhandledRejectionWarning(h),function(){return h.then(function(B){return B()})}}function loadSources(a,c,h){var f=Object.keys(a).filter(function(v){return excludes(h,v)}),B=mapWithBreaks(f,function(v){return loadSource(a[v],c)});return suppressUnhandledRejectionWarning(B),function(){return __awaiter$1(this,void 0,void 0,function(){var D,_,m,I,Q;return __generator(this,function(p){switch(p.label){case 0:return[4,B];case 1:return D=p.sent(),[4,mapWithBreaks(D,function(u){var y=u();return suppressUnhandledRejectionWarning(y),y})];case 2:return _=p.sent(),[4,Promise.all(_)];case 3:for(m=p.sent(),I={},Q=0;Q<f.length;++Q)I[f[Q]]=m[Q];return[2,I]}})})}}function isTrident(){var a=window,c=navigator;return countTruthy(["MSCSSMatrix"in a,"msSetImmediate"in a,"msIndexedDB"in a,"msMaxTouchPoints"in c,"msPointerEnabled"in c])>=4}function isEdgeHTML(){var a=window,c=navigator;return countTruthy(["msWriteProfilerMark"in a,"MSStream"in a,"msLaunchUri"in c,"msSaveBlob"in c])>=3&&!isTrident()}function isChromium(){var a=window,c=navigator;return countTruthy(["webkitPersistentStorage"in c,"webkitTemporaryStorage"in c,c.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in a,"BatteryManager"in a,"webkitMediaStream"in a,"webkitSpeechGrammar"in a])>=5}function isWebKit(){var a=window,c=navigator;return countTruthy(["ApplePayError"in a,"CSSPrimitiveValue"in a,"Counter"in a,c.vendor.indexOf("Apple")===0,"getStorageUpdates"in c,"WebKitMediaKeys"in a])>=4}function isDesktopSafari(){var a=window;return countTruthy(["safari"in a,!("DeviceMotionEvent"in a),!("ongestureend"in a),!("standalone"in navigator)])>=3}function isGecko(){var a,c,h=window;return countTruthy(["buildID"in navigator,"MozAppearance"in((c=(a=document.documentElement)===null||a===void 0?void 0:a.style)!==null&&c!==void 0?c:{}),"onmozfullscreenchange"in h,"mozInnerScreenX"in h,"CSSMozDocumentRule"in h,"CanvasCaptureMediaStream"in h])>=4}function isChromium86OrNewer(){var a=window;return countTruthy([!("MediaSettingsRange"in a),"RTCEncodedAudioFrame"in a,""+a.Intl=="[object Intl]",""+a.Reflect=="[object Reflect]"])>=3}function isWebKit606OrNewer(){var a=window;return countTruthy(["DOMRectList"in a,"RTCPeerConnectionIceEvent"in a,"SVGGeometryElement"in a,"ontransitioncancel"in a])>=3}function isIPad(){if(navigator.platform==="iPad")return!0;var a=screen,c=a.width/a.height;return countTruthy(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,c>.65&&c<1.53])>=2}function getFullscreenElement(){var a=document;return a.fullscreenElement||a.msFullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||null}function exitFullscreen(){var a=document;return(a.exitFullscreen||a.msExitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen).call(a)}function isAndroid(){var a=isChromium(),c=isGecko();if(!a&&!c)return!1;var h=window;return countTruthy(["onorientationchange"in h,"orientation"in h,a&&!("SharedWorker"in h),c&&/android/i.test(navigator.appVersion)])>=2}function getAudioFingerprint(){var a=window,c=a.OfflineAudioContext||a.webkitOfflineAudioContext;if(!c)return-2;if(doesCurrentBrowserSuspendAudioContext())return-1;var h=4500,f=5e3,B=new c(1,f,44100),v=B.createOscillator();v.type="triangle",v.frequency.value=1e4;var D=B.createDynamicsCompressor();D.threshold.value=-50,D.knee.value=40,D.ratio.value=12,D.attack.value=0,D.release.value=.25,v.connect(D),D.connect(B.destination),v.start(0);var _=startRenderingAudio(B),m=_[0],I=_[1],Q=m.then(function(p){return getHash(p.getChannelData(0).subarray(h))},function(p){if(p.name==="timeout"||p.name==="suspended")return-3;throw p});return suppressUnhandledRejectionWarning(Q),function(){return I(),Q}}function doesCurrentBrowserSuspendAudioContext(){return isWebKit()&&!isDesktopSafari()&&!isWebKit606OrNewer()}function startRenderingAudio(a){var c=3,h=500,f=500,B=5e3,v=function(){},D=new Promise(function(_,m){var I=!1,Q=0,p=0;a.oncomplete=function(N){return _(N.renderedBuffer)};var u=function(){setTimeout(function(){return m(makeInnerError("timeout"))},Math.min(f,p+B-Date.now()))},y=function(){try{var N=a.startRendering();switch(isPromise(N)&&suppressUnhandledRejectionWarning(N),a.state){case"running":p=Date.now(),I&&u();break;case"suspended":document.hidden||Q++,I&&Q>=c?m(makeInnerError("suspended")):setTimeout(y,h);break}}catch(U){m(U)}};y(),v=function(){I||(I=!0,p>0&&u())}});return[D,v]}function getHash(a){for(var c=0,h=0;h<a.length;++h)c+=Math.abs(a[h]);return c}function makeInnerError(a){var c=new Error(a);return c.name=a,c}function withIframe(a,c,h){var f,B,v;return h===void 0&&(h=50),__awaiter$1(this,void 0,void 0,function(){var D,_;return __generator(this,function(m){switch(m.label){case 0:D=document,m.label=1;case 1:return D.body?[3,3]:[4,wait(h)];case 2:return m.sent(),[3,1];case 3:_=D.createElement("iframe"),m.label=4;case 4:return m.trys.push([4,,10,11]),[4,new Promise(function(I,Q){var p=!1,u=function(){p=!0,I()},y=function(q){p=!0,Q(q)};_.onload=u,_.onerror=y;var N=_.style;N.setProperty("display","block","important"),N.position="absolute",N.top="0",N.left="0",N.visibility="hidden",c&&"srcdoc"in _?_.srcdoc=c:_.src="about:blank",D.body.appendChild(_);var U=function(){var q,te;p||(((te=(q=_.contentWindow)===null||q===void 0?void 0:q.document)===null||te===void 0?void 0:te.readyState)==="complete"?u():setTimeout(U,10))};U()})];case 5:m.sent(),m.label=6;case 6:return!((B=(f=_.contentWindow)===null||f===void 0?void 0:f.document)===null||B===void 0)&&B.body?[3,8]:[4,wait(h)];case 7:return m.sent(),[3,6];case 8:return[4,a(_,_.contentWindow)];case 9:return[2,m.sent()];case 10:return(v=_.parentNode)===null||v===void 0||v.removeChild(_),[7];case 11:return[2]}})})}function selectorToElement(a){for(var c=parseSimpleCssSelector(a),h=c[0],f=c[1],B=document.createElement(h!=null?h:"div"),v=0,D=Object.keys(f);v<D.length;v++){var _=D[v],m=f[_].join(" ");_==="style"?addStyleString(B.style,m):B.setAttribute(_,m)}return B}function addStyleString(a,c){for(var h=0,f=c.split(";");h<f.length;h++){var B=f[h],v=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(B);if(v){var D=v[1],_=v[2],m=v[4];a.setProperty(D,_,m||"")}}}var testString="mmMwWLliI0O&1",textSize="48px",baseFonts=["monospace","sans-serif","serif"],fontList=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function getFonts(){return withIframe(function(a,c){var h=c.document,f=h.body;f.style.fontSize=textSize;var B=h.createElement("div"),v={},D={},_=function(U){var q=h.createElement("span"),te=q.style;return te.position="absolute",te.top="0",te.left="0",te.fontFamily=U,q.textContent=testString,B.appendChild(q),q},m=function(U,q){return _("'".concat(U,"',").concat(q))},I=function(){return baseFonts.map(_)},Q=function(){for(var U={},q=function(z){U[z]=baseFonts.map(function($){return m(z,$)})},te=0,F=fontList;te<F.length;te++){var V=F[te];q(V)}return U},p=function(U){return baseFonts.some(function(q,te){return U[te].offsetWidth!==v[q]||U[te].offsetHeight!==D[q]})},u=I(),y=Q();f.appendChild(B);for(var N=0;N<baseFonts.length;N++)v[baseFonts[N]]=u[N].offsetWidth,D[baseFonts[N]]=u[N].offsetHeight;return fontList.filter(function(U){return p(y[U])})})}function getPlugins(){var a=navigator.plugins;if(a){for(var c=[],h=0;h<a.length;++h){var f=a[h];if(f){for(var B=[],v=0;v<f.length;++v){var D=f[v];B.push({type:D.type,suffixes:D.suffixes})}c.push({name:f.name,description:f.description,mimeTypes:B})}}return c}}function getCanvasFingerprint(){var a=!1,c,h,f=makeCanvasContext(),B=f[0],v=f[1];if(!isSupported(B,v))c=h="";else{a=doesSupportWinding(v),renderTextImage(B,v);var D=canvasToString(B),_=canvasToString(B);D!==_?c=h="unstable":(h=D,renderGeometryImage(B,v),c=canvasToString(B))}return{winding:a,geometry:c,text:h}}function makeCanvasContext(){var a=document.createElement("canvas");return a.width=1,a.height=1,[a,a.getContext("2d")]}function isSupported(a,c){return!!(c&&a.toDataURL)}function doesSupportWinding(a){return a.rect(0,0,10,10),a.rect(2,2,6,6),!a.isPointInPath(5,5,"evenodd")}function renderTextImage(a,c){a.width=240,a.height=60,c.textBaseline="alphabetic",c.fillStyle="#f60",c.fillRect(100,1,62,20),c.fillStyle="#069",c.font='11pt "Times New Roman"';var h="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));c.fillText(h,2,15),c.fillStyle="rgba(102, 204, 0, 0.2)",c.font="18pt Arial",c.fillText(h,4,45)}function renderGeometryImage(a,c){a.width=122,a.height=110,c.globalCompositeOperation="multiply";for(var h=0,f=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];h<f.length;h++){var B=f[h],v=B[0],D=B[1],_=B[2];c.fillStyle=v,c.beginPath(),c.arc(D,_,40,0,Math.PI*2,!0),c.closePath(),c.fill()}c.fillStyle="#f9c",c.arc(60,60,60,0,Math.PI*2,!0),c.arc(60,60,20,0,Math.PI*2,!0),c.fill("evenodd")}function canvasToString(a){return a.toDataURL()}function getTouchSupport(){var a=navigator,c=0,h;a.maxTouchPoints!==void 0?c=toInt(a.maxTouchPoints):a.msMaxTouchPoints!==void 0&&(c=a.msMaxTouchPoints);try{document.createEvent("TouchEvent"),h=!0}catch{h=!1}var f="ontouchstart"in window;return{maxTouchPoints:c,touchEvent:h,touchStart:f}}function getOsCpu(){return navigator.oscpu}function getLanguages(){var a=navigator,c=[],h=a.language||a.userLanguage||a.browserLanguage||a.systemLanguage;if(h!==void 0&&c.push([h]),Array.isArray(a.languages))isChromium()&&isChromium86OrNewer()||c.push(a.languages);else if(typeof a.languages=="string"){var f=a.languages;f&&c.push(f.split(","))}return c}function getColorDepth(){return window.screen.colorDepth}function getDeviceMemory(){return replaceNaN(toFloat(navigator.deviceMemory),void 0)}function getScreenResolution(){var a=screen,c=function(f){return replaceNaN(toInt(f),null)},h=[c(a.width),c(a.height)];return h.sort().reverse(),h}var screenFrameCheckInterval=2500,roundingPrecision=10,screenFrameBackup,screenFrameSizeTimeoutId;function watchScreenFrame(){if(screenFrameSizeTimeoutId===void 0){var a=function(){var c=getCurrentScreenFrame();isFrameSizeNull(c)?screenFrameSizeTimeoutId=setTimeout(a,screenFrameCheckInterval):(screenFrameBackup=c,screenFrameSizeTimeoutId=void 0)};a()}}function getScreenFrame(){var a=this;return watchScreenFrame(),function(){return __awaiter$1(a,void 0,void 0,function(){var c;return __generator(this,function(h){switch(h.label){case 0:return c=getCurrentScreenFrame(),isFrameSizeNull(c)?screenFrameBackup?[2,__spreadArray([],screenFrameBackup,!0)]:getFullscreenElement()?[4,exitFullscreen()]:[3,2]:[3,2];case 1:h.sent(),c=getCurrentScreenFrame(),h.label=2;case 2:return isFrameSizeNull(c)||(screenFrameBackup=c),[2,c]}})})}}function getRoundedScreenFrame(){var a=this,c=getScreenFrame();return function(){return __awaiter$1(a,void 0,void 0,function(){var h,f;return __generator(this,function(B){switch(B.label){case 0:return[4,c()];case 1:return h=B.sent(),f=function(v){return v===null?null:round(v,roundingPrecision)},[2,[f(h[0]),f(h[1]),f(h[2]),f(h[3])]]}})})}}function getCurrentScreenFrame(){var a=screen;return[replaceNaN(toFloat(a.availTop),null),replaceNaN(toFloat(a.width)-toFloat(a.availWidth)-replaceNaN(toFloat(a.availLeft),0),null),replaceNaN(toFloat(a.height)-toFloat(a.availHeight)-replaceNaN(toFloat(a.availTop),0),null),replaceNaN(toFloat(a.availLeft),null)]}function isFrameSizeNull(a){for(var c=0;c<4;++c)if(a[c])return!1;return!0}function getHardwareConcurrency(){return replaceNaN(toInt(navigator.hardwareConcurrency),void 0)}function getTimezone(){var a,c=(a=window.Intl)===null||a===void 0?void 0:a.DateTimeFormat;if(c){var h=new c().resolvedOptions().timeZone;if(h)return h}var f=-getTimezoneOffset();return"UTC".concat(f>=0?"+":"").concat(Math.abs(f))}function getTimezoneOffset(){var a=new Date().getFullYear();return Math.max(toFloat(new Date(a,0,1).getTimezoneOffset()),toFloat(new Date(a,6,1).getTimezoneOffset()))}function getSessionStorage(){try{return!!window.sessionStorage}catch{return!0}}function getLocalStorage(){try{return!!window.localStorage}catch{return!0}}function getIndexedDB(){if(!(isTrident()||isEdgeHTML()))try{return!!window.indexedDB}catch{return!0}}function getOpenDatabase(){return!!window.openDatabase}function getCpuClass(){return navigator.cpuClass}function getPlatform(){var a=navigator.platform;return a==="MacIntel"&&isWebKit()&&!isDesktopSafari()?isIPad()?"iPad":"iPhone":a}function getVendor(){return navigator.vendor||""}function getVendorFlavors(){for(var a=[],c=0,h=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];c<h.length;c++){var f=h[c],B=window[f];B&&typeof B=="object"&&a.push(f)}return a.sort()}function areCookiesEnabled(){var a=document;try{a.cookie="cookietest=1; SameSite=Strict;";var c=a.cookie.indexOf("cookietest=")!==-1;return a.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",c}catch{return!1}}function getFilters(){var a=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',a("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",a("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",a("LnNwb25zb3JpdA=="),".ylamainos",a("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),a("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",a("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",a("LmhlYWRlci1ibG9ja2VkLWFk"),a("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",a("I2FkXzMwMFgyNTA="),a("I2Jhbm5lcmZsb2F0MjI="),a("I2NhbXBhaWduLWJhbm5lcg=="),a("I0FkLUNvbnRlbnQ=")],adGuardChinese:[a("LlppX2FkX2FfSA=="),a("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",a("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),a("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",a("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",a("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",a("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),a("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),a("LmFkZ29vZ2xl"),a("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[a("YW1wLWF1dG8tYWRz"),a("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",a("I2FkX2ludmlld19hcmVh")],adGuardRussian:[a("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),a("LnJlY2xhbWE="),'div[id^="smi2adblock"]',a("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[a("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),a("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",a("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),a("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),a("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",a("I3Jla2xhbWk="),a("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),a("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),a("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[a("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",a("LndpZGdldF9wb19hZHNfd2lkZ2V0"),a("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",a("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[a("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),a("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",a("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",a("I3Jla2xhbW5pLWJveA=="),a("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",a("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[a("I2FkdmVydGVudGll"),a("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",a("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",a("LnNwb25zb3JsaW5rZ3J1ZW4="),a("I3dlcmJ1bmdza3k="),a("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),a("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[a("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",a("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),a("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),a("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[a("LnJla2xhbW9zX3RhcnBhcw=="),a("LnJla2xhbW9zX251b3JvZG9z"),a("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),a("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),a("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[a("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[a("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),a("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",a("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[a("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),a("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),a("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",a("LmFkX19tYWlu"),a("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[a("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[a("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),a("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[a("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),a("I2xpdmVyZUFkV3JhcHBlcg=="),a("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),a("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[a("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",a("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),a("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),a("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[a("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),a("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),a("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",a("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),a("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),a("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),a("ZGl2I3NrYXBpZWNfYWQ=")],ro:[a("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),a("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),a("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),a("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[a("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),a("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),a("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",a("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),a("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",a("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function getDomBlockers(a){var c=a===void 0?{}:a,h=c.debug;return __awaiter$1(this,void 0,void 0,function(){var f,B,v,D,_,m;return __generator(this,function(I){switch(I.label){case 0:return isApplicable()?(f=getFilters(),B=Object.keys(f),v=(m=[]).concat.apply(m,B.map(function(Q){return f[Q]})),[4,getBlockedSelectors(v)]):[2,void 0];case 1:return D=I.sent(),h&&printDebug(f,D),_=B.filter(function(Q){var p=f[Q],u=countTruthy(p.map(function(y){return D[y]}));return u>p.length*.6}),_.sort(),[2,_]}})})}function isApplicable(){return isWebKit()||isAndroid()}function getBlockedSelectors(a){var c;return __awaiter$1(this,void 0,void 0,function(){var h,f,B,v,m,D,_,m;return __generator(this,function(I){switch(I.label){case 0:for(h=document,f=h.createElement("div"),B=new Array(a.length),v={},forceShow(f),m=0;m<a.length;++m)D=selectorToElement(a[m]),D.tagName==="DIALOG"&&D.show(),_=h.createElement("div"),forceShow(_),_.appendChild(D),f.appendChild(_),B[m]=D;I.label=1;case 1:return h.body?[3,3]:[4,wait(50)];case 2:return I.sent(),[3,1];case 3:h.body.appendChild(f);try{for(m=0;m<a.length;++m)B[m].offsetParent||(v[a[m]]=!0)}finally{(c=f.parentNode)===null||c===void 0||c.removeChild(f)}return[2,v]}})})}function forceShow(a){a.style.setProperty("display","block","important")}function printDebug(a,c){for(var h="DOM blockers debug:\n```",f=0,B=Object.keys(a);f<B.length;f++){var v=B[f];h+=`
`.concat(v,":");for(var D=0,_=a[v];D<_.length;D++){var m=_[D];h+=`
  `.concat(c[m]?"":""," ").concat(m)}}console.log("".concat(h,"\n```"))}function getColorGamut(){for(var a=0,c=["rec2020","p3","srgb"];a<c.length;a++){var h=c[a];if(matchMedia("(color-gamut: ".concat(h,")")).matches)return h}}function areColorsInverted(){if(doesMatch$4("inverted"))return!0;if(doesMatch$4("none"))return!1}function doesMatch$4(a){return matchMedia("(inverted-colors: ".concat(a,")")).matches}function areColorsForced(){if(doesMatch$3("active"))return!0;if(doesMatch$3("none"))return!1}function doesMatch$3(a){return matchMedia("(forced-colors: ".concat(a,")")).matches}var maxValueToCheck=100;function getMonochromeDepth(){if(matchMedia("(min-monochrome: 0)").matches){for(var a=0;a<=maxValueToCheck;++a)if(matchMedia("(max-monochrome: ".concat(a,")")).matches)return a;throw new Error("Too high value")}}function getContrastPreference(){if(doesMatch$2("no-preference"))return 0;if(doesMatch$2("high")||doesMatch$2("more"))return 1;if(doesMatch$2("low")||doesMatch$2("less"))return-1;if(doesMatch$2("forced"))return 10}function doesMatch$2(a){return matchMedia("(prefers-contrast: ".concat(a,")")).matches}function isMotionReduced(){if(doesMatch$1("reduce"))return!0;if(doesMatch$1("no-preference"))return!1}function doesMatch$1(a){return matchMedia("(prefers-reduced-motion: ".concat(a,")")).matches}function isHDR(){if(doesMatch("high"))return!0;if(doesMatch("standard"))return!1}function doesMatch(a){return matchMedia("(dynamic-range: ".concat(a,")")).matches}var M=Math,fallbackFn=function(){return 0};function getMathFingerprint(){var a=M.acos||fallbackFn,c=M.acosh||fallbackFn,h=M.asin||fallbackFn,f=M.asinh||fallbackFn,B=M.atanh||fallbackFn,v=M.atan||fallbackFn,D=M.sin||fallbackFn,_=M.sinh||fallbackFn,m=M.cos||fallbackFn,I=M.cosh||fallbackFn,Q=M.tan||fallbackFn,p=M.tanh||fallbackFn,u=M.exp||fallbackFn,y=M.expm1||fallbackFn,N=M.log1p||fallbackFn,U=function(T){return M.pow(M.PI,T)},q=function(T){return M.log(T+M.sqrt(T*T-1))},te=function(T){return M.log(T+M.sqrt(T*T+1))},F=function(T){return M.log((1+T)/(1-T))/2},V=function(T){return M.exp(T)-1/M.exp(T)/2},z=function(T){return(M.exp(T)+1/M.exp(T))/2},$=function(T){return M.exp(T)-1},L=function(T){return(M.exp(2*T)-1)/(M.exp(2*T)+1)},O=function(T){return M.log(1+T)};return{acos:a(.12312423423423424),acosh:c(1e308),acoshPf:q(1e154),asin:h(.12312423423423424),asinh:f(1),asinhPf:te(1),atanh:B(.5),atanhPf:F(.5),atan:v(.5),sin:D(-1e300),sinh:_(1),sinhPf:V(1),cos:m(10.000000000123),cosh:I(1),coshPf:z(1),tan:Q(-1e300),tanh:p(1),tanhPf:L(1),exp:u(1),expm1:y(1),expm1Pf:$(1),log1p:N(10),log1pPf:O(10),powPI:U(-100)}}var defaultText="mmMwWLliI0fiflO&1",presets={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function getFontPreferences(){return withNaturalFonts(function(a,c){for(var h={},f={},B=0,v=Object.keys(presets);B<v.length;B++){var D=v[B],_=presets[D],m=_[0],I=m===void 0?{}:m,Q=_[1],p=Q===void 0?defaultText:Q,u=a.createElement("span");u.textContent=p,u.style.whiteSpace="nowrap";for(var y=0,N=Object.keys(I);y<N.length;y++){var U=N[y],q=I[U];q!==void 0&&(u.style[U]=q)}h[D]=u,c.appendChild(a.createElement("br")),c.appendChild(u)}for(var te=0,F=Object.keys(presets);te<F.length;te++){var D=F[te];f[D]=h[D].getBoundingClientRect().width}return f})}function withNaturalFonts(a,c){return c===void 0&&(c=4e3),withIframe(function(h,f){var B=f.document,v=B.body,D=v.style;D.width="".concat(c,"px"),D.webkitTextSizeAdjust=D.textSizeAdjust="none",isChromium()?v.style.zoom="".concat(1/f.devicePixelRatio):isWebKit()&&(v.style.zoom="reset");var _=B.createElement("div");return _.textContent=__spreadArray([],Array(c/20<<0),!0).map(function(){return"word"}).join(" "),v.appendChild(_),a(B,v)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function getVideoCard(){var a,c=document.createElement("canvas"),h=(a=c.getContext("webgl"))!==null&&a!==void 0?a:c.getContext("experimental-webgl");if(h&&"getExtension"in h){var f=h.getExtension("WEBGL_debug_renderer_info");if(f)return{vendor:(h.getParameter(f.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(h.getParameter(f.UNMASKED_RENDERER_WEBGL)||"").toString()}}}function isPdfViewerEnabled(){return navigator.pdfViewerEnabled}function getArchitecture(){var a=new Float32Array(1),c=new Uint8Array(a.buffer);return a[0]=1/0,a[0]=a[0]-a[0],c[3]}var sources={fonts:getFonts,domBlockers:getDomBlockers,fontPreferences:getFontPreferences,audio:getAudioFingerprint,screenFrame:getRoundedScreenFrame,osCpu:getOsCpu,languages:getLanguages,colorDepth:getColorDepth,deviceMemory:getDeviceMemory,screenResolution:getScreenResolution,hardwareConcurrency:getHardwareConcurrency,timezone:getTimezone,sessionStorage:getSessionStorage,localStorage:getLocalStorage,indexedDB:getIndexedDB,openDatabase:getOpenDatabase,cpuClass:getCpuClass,platform:getPlatform,plugins:getPlugins,canvas:getCanvasFingerprint,touchSupport:getTouchSupport,vendor:getVendor,vendorFlavors:getVendorFlavors,cookiesEnabled:areCookiesEnabled,colorGamut:getColorGamut,invertedColors:areColorsInverted,forcedColors:areColorsForced,monochrome:getMonochromeDepth,contrast:getContrastPreference,reducedMotion:isMotionReduced,hdr:isHDR,math:getMathFingerprint,videoCard:getVideoCard,pdfViewerEnabled:isPdfViewerEnabled,architecture:getArchitecture};function loadBuiltinSources(a){return loadSources(sources,a,[])}var commentTemplate="$ if upgrade to Pro: https://fpjs.dev/pro";function getConfidence(a){var c=getOpenConfidenceScore(a),h=deriveProConfidenceScore(c);return{score:c,comment:commentTemplate.replace(/\$/g,"".concat(h))}}function getOpenConfidenceScore(a){if(isAndroid())return .4;if(isWebKit())return isDesktopSafari()?.5:.3;var c=a.platform.value||"";return/^Win/.test(c)?.6:/^Mac/.test(c)?.5:.7}function deriveProConfidenceScore(a){return round(.99+.01*a,1e-4)}function componentsToCanonicalString(a){for(var c="",h=0,f=Object.keys(a).sort();h<f.length;h++){var B=f[h],v=a[B],D=v.error?"error":JSON.stringify(v.value);c+="".concat(c?"|":"").concat(B.replace(/([:|\\])/g,"\\$1"),":").concat(D)}return c}function componentsToDebugString(a){return JSON.stringify(a,function(c,h){return h instanceof Error?errorToObject(h):h},2)}function hashComponents(a){return x64hash128(componentsToCanonicalString(a))}function makeLazyGetResult(a){var c,h=getConfidence(a);return{get visitorId(){return c===void 0&&(c=hashComponents(this.components)),c},set visitorId(f){c=f},confidence:h,components:a,version}}function prepareForSources(a){return a===void 0&&(a=50),requestIdleCallbackIfAvailable(a,a*2)}function makeAgent(a,c){var h=Date.now();return{get:function(f){return __awaiter$1(this,void 0,void 0,function(){var B,v,D;return __generator(this,function(_){switch(_.label){case 0:return B=Date.now(),[4,a()];case 1:return v=_.sent(),D=makeLazyGetResult(v),(c||f!=null&&f.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(D.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(B-h,`
visitorId: `).concat(D.visitorId,`
components: `).concat(componentsToDebugString(v),"\n```")),[2,D]}})})}}}function monitor(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var a=new XMLHttpRequest;a.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(version,"/npm-monitoring"),!0),a.send()}catch(c){console.error(c)}}function load(a){var c=a===void 0?{}:a,h=c.delayFallback,f=c.debug,B=c.monitoring,v=B===void 0?!0:B;return __awaiter$1(this,void 0,void 0,function(){var D;return __generator(this,function(_){switch(_.label){case 0:return v&&monitor(),[4,prepareForSources(h)];case 1:return _.sent(),D=loadBuiltinSources({debug:f}),[2,makeAgent(D,f)]}})})}var index={load,hashComponents,componentsToDebugString};async function getDeviceId(){const a=await index.load().then(h=>h.get());baseUserStore.getState().setDeviceId(a.visitorId)}const subsEdit={biz:WsBizEnum.im,type:WsTypesEnum.userInfoModify},subsSignOUT={biz:WsBizEnum.im,type:WsTypesEnum.friendDestroy},subs=[subsEdit,subsSignOUT],callbackEdit=a=>{baseAddressBookStore.getState().setAddressBookList()},editPushNotification=()=>{ws.subscribe({subs,callback:callbackEdit})},onsignOUTPushNotification=()=>{ws.unsubscribe({subs,callback:callbackEdit})};async function initWS(){ws.setOptions({wsUrl,success(){baseUserStore.getState().isLogin&&ws.login()},getToken:()=>{var a;return(a=baseUserStore.getState().token)==null?void 0:a.accessToken}}),ws.connect(),ws.onAddWsDelayTimeChange(a=>{baseCommonStore.getState().setwsDelayTime(a)})}baseUserStore.subscribe(a=>a.isLogin,()=>{baseUserStore.getState().isLogin?ws.login():ws.logout()});getI18nEmptyObject();function setOkxThemeColor(){baseCommonStore.getState().setThemeType(ColorPlateEnum.okx)}function initThemeColor(){baseCommonStore.getState().isMergeMode&&setOkxThemeColor()}var ResizeObserver$1={},ResizeObservation$1={},ContentRect$1={};Object.defineProperty(ContentRect$1,"__esModule",{value:!0});var ContentRect=function(a){if("getBBox"in a){var c=a.getBBox();return Object.freeze({height:c.height,left:0,top:0,width:c.width})}else{var h=window.getComputedStyle(a);return Object.freeze({height:parseFloat(h.height||"0"),left:parseFloat(h.paddingLeft||"0"),top:parseFloat(h.paddingTop||"0"),width:parseFloat(h.width||"0")})}};ContentRect$1.ContentRect=ContentRect;Object.defineProperty(ResizeObservation$1,"__esModule",{value:!0});var ContentRect_1$1=ContentRect$1,ResizeObservation=function(){function a(c){this.target=c,this.$$broadcastWidth=this.$$broadcastHeight=0}return Object.defineProperty(a.prototype,"broadcastWidth",{get:function(){return this.$$broadcastWidth},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"broadcastHeight",{get:function(){return this.$$broadcastHeight},enumerable:!0,configurable:!0}),a.prototype.isActive=function(){var c=ContentRect_1$1.ContentRect(this.target);return!!c&&(c.width!==this.broadcastWidth||c.height!==this.broadcastHeight)},a}();ResizeObservation$1.ResizeObservation=ResizeObservation;var ResizeObserverEntry$1={};Object.defineProperty(ResizeObserverEntry$1,"__esModule",{value:!0});var ContentRect_1=ContentRect$1,ResizeObserverEntry=function(){function a(c){this.target=c,this.contentRect=ContentRect_1.ContentRect(c)}return a}();ResizeObserverEntry$1.ResizeObserverEntry=ResizeObserverEntry;Object.defineProperty(ResizeObserver$1,"__esModule",{value:!0});var ResizeObservation_1=ResizeObservation$1,ResizeObserverEntry_1=ResizeObserverEntry$1,resizeObservers=[],ResizeObserver=function(){function a(c){this.$$observationTargets=[],this.$$activeTargets=[],this.$$skippedTargets=[];var h=callbackGuard(c);if(h)throw TypeError(h);this.$$callback=c}return a.prototype.observe=function(c){var h=targetGuard("observe",c);if(h)throw TypeError(h);var f=findTargetIndex(this.$$observationTargets,c);f>=0||(this.$$observationTargets.push(new ResizeObservation_1.ResizeObservation(c)),registerResizeObserver(this))},a.prototype.unobserve=function(c){var h=targetGuard("unobserve",c);if(h)throw TypeError(h);var f=findTargetIndex(this.$$observationTargets,c);f<0||(this.$$observationTargets.splice(f,1),this.$$observationTargets.length===0&&deregisterResizeObserver(this))},a.prototype.disconnect=function(){this.$$observationTargets=[],this.$$activeTargets=[],deregisterResizeObserver(this)},a}();ResizeObserver$1.ResizeObserver=ResizeObserver;function registerResizeObserver(a){var c=resizeObservers.indexOf(a);c<0&&(resizeObservers.push(a),startLoop())}function deregisterResizeObserver(a){var c=resizeObservers.indexOf(a);c>=0&&(resizeObservers.splice(c,1),checkStopLoop())}function callbackGuard(a){if(typeof a>"u")return"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.";if(typeof a!="function")return"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function."}function targetGuard(a,c){if(typeof c>"u")return"Failed to execute '"+a+"' on 'ResizeObserver': 1 argument required, but only 0 present.";if(!(c&&c.nodeType===window.Node.ELEMENT_NODE))return"Failed to execute '"+a+"' on 'ResizeObserver': parameter 1 is not of type 'Element'."}function findTargetIndex(a,c){for(var h=0;h<a.length;h+=1)if(a[h].target===c)return h;return-1}var gatherActiveObservationsAtDepth=function(a){resizeObservers.forEach(function(c){c.$$activeTargets=[],c.$$skippedTargets=[],c.$$observationTargets.forEach(function(h){if(h.isActive()){var f=calculateDepthForNode(h.target);f>a?c.$$activeTargets.push(h):c.$$skippedTargets.push(h)}})})},hasActiveObservations=function(){return resizeObservers.some(function(a){return!!a.$$activeTargets.length})},hasSkippedObservations=function(){return resizeObservers.some(function(a){return!!a.$$skippedTargets.length})},broadcastActiveObservations=function(){var a=1/0;return resizeObservers.forEach(function(c){if(c.$$activeTargets.length){var h=[];c.$$activeTargets.forEach(function(f){var B=new ResizeObserverEntry_1.ResizeObserverEntry(f.target);h.push(B),f.$$broadcastWidth=B.contentRect.width,f.$$broadcastHeight=B.contentRect.height;var v=calculateDepthForNode(f.target);v<a&&(a=v)}),c.$$callback(h,c),c.$$activeTargets=[]}}),a},deliverResizeLoopErrorNotification=function(){var a=new window.ErrorEvent("ResizeLoopError",{message:"ResizeObserver loop completed with undelivered notifications."});window.dispatchEvent(a)},calculateDepthForNode=function(a){for(var c=0;a.parentNode;)a=a.parentNode,c+=1;return c},notificationIteration=function(){var a=0;for(gatherActiveObservationsAtDepth(a);hasActiveObservations();)a=broadcastActiveObservations(),gatherActiveObservationsAtDepth(a);hasSkippedObservations()&&deliverResizeLoopErrorNotification()},animationFrameCancelToken,startLoop=function(){animationFrameCancelToken||runLoop()},runLoop=function(){animationFrameCancelToken=window.requestAnimationFrame(function(){notificationIteration(),runLoop()})},checkStopLoop=function(){animationFrameCancelToken&&!resizeObservers.some(function(a){return!!a.$$observationTargets.length})&&(window.cancelAnimationFrame(animationFrameCancelToken),animationFrameCancelToken=void 0)},install=function(){return window.ResizeObserver=ResizeObserver},install_1=ResizeObserver$1.install=install;function initObserver(){window.ResizeObserver||install_1()}const getImToken=()=>Request$1({path:"/v1/im/chat/zeGo/refreshToken",method:"POST",data:{}}),ImGlobalConfig={initParams:{},initRes:{settings:{},login:async()=>{}},isLogin:!1};async function initIm(a){if(ImGlobalConfig.initRes.settings.token)return console.info("IM "),ImGlobalConfig.initRes;let{getUserInfo:c,getImToken:h}=a;const f=await h();function B(){const D=c(),_=D==null?void 0:D.uid;return getImInstance().login({userID:`${_}`,userName:D.nickname},ImGlobalConfig.initRes.settings.token).then(()=>{ImGlobalConfig.isLogin=!0})}const v={settings:f,login:B};return ImGlobalConfig.initParams=a,ImGlobalConfig.initRes=v,v}function imLogout(){ImGlobalConfig.initRes={settings:{},login:async()=>{}},ImGlobalConfig.isLogin&&(getImInstance().logout(),ImGlobalConfig.isLogin=!1)}function useEventListener(a,c,h){h===void 0&&(h={});var f=useLatest(c);useEffectWithTarget(function(){var B=getTargetElement(h.target,window);if(B!=null&&B.addEventListener){var v=function(D){return f.current(D)};return B.addEventListener(a,v,{capture:h.capture,once:h.once,passive:h.passive}),function(){B.removeEventListener(a,v,{capture:h.capture})}}},[a,h.capture,h.once,h.passive],h.target)}var useInterval=function(a,c,h){h===void 0&&(h={});var f=useMemoizedFn(a),B=reactExports.useRef(null),v=reactExports.useCallback(function(){B.current&&clearInterval(B.current)},[]);return reactExports.useEffect(function(){if(!(!isNumber(c)||c<0))return h.immediate&&f(),B.current=setInterval(f,c),v},[c,h.immediate]),v};const useInterval$1=useInterval;var info,responsiveConfig={xs:0,sm:576,md:768,lg:992,xl:1200};function calculate(){var a,c,h=window.innerWidth,f={},B=!1;try{for(var v=__values(Object.keys(responsiveConfig)),D=v.next();!D.done;D=v.next()){var _=D.value;f[_]=h>=responsiveConfig[_],f[_]!==info[_]&&(B=!0)}}catch(m){a={error:m}}finally{try{D&&!D.done&&(c=v.return)&&c.call(v)}finally{if(a)throw a.error}}B&&(info=f)}function configResponsive(a){responsiveConfig=a,info&&calculate()}function bindEventOnImStageChange(){addEventListenerOnIm(ZIMEventEnum.connectionStateChanged,(a,{state:c,event:h,extendedData:f})=>{const{setImIsOnline:B}=baseImStore.getState();B(c===ZIMConnectionState.Connected),h===ZIMConnectionEvent.KickedOut&&(Message.error(i18n._("helper_im_index_rtmbybaskj")),baseUserStore.getState().clearUserCacheData(),link("/login",{overwriteLastHistoryEntry:!0}))}),window.addEventListener("offline",()=>{const{setImIsOnline:a}=baseImStore.getState();a(!1)}),window.addEventListener("online",()=>{const{setImIsOnline:a,imIsLogin:c}=baseImStore.getState();a(c)}),addEventListenerOnIm(ZIMEventEnum.connectionStateChanged,function(a,{state:c,event:h,extendedData:f}){if(c===ZIMConnectionState.Disconnected&&h!==ZIMConnectionEvent.Success&&h!==ZIMConnectionEvent.KickedOut&&ImGlobalConfig.isLogin){const{login:B}=ImGlobalConfig.initRes;B()}}),addEventListenerOnIm(ZIMEventEnum.tokenWillExpire,async function(a,{second:c}){const{settings:h}=ImGlobalConfig.initRes,f=await getImInstance().renewToken(h.token);f.token&&(h.token=f.token)})}function bindEventOnImUserInfoUpdate(){addEventListenerOnIm(ZIMEventEnum.userInfoUpdated,()=>{fetchAndUpdateUserInfo()})}async function awaitImLoaded(){return new Promise(a=>{const c=setInterval(()=>{getImInstance()&&(clearInterval(c),a(null))},100)})}async function onLogin(){const a=await initIm({async getImToken(){return{token:baseUserStore.getState().zimToken}},getUserInfo:()=>{const{userInfo:c}=baseUserStore.getState();return{uid:c.uid,nickname:c.nickName}}});if(a&&a){const{login:c}=a;let h;if(await c().catch(async B=>{h=B}),h){if(![ZIMErrorCode.NetworkModuleTokenExpired,ZIMErrorCode.NetworkModuleTokenInvalid].includes(h.code))return Message.error(i18n._("helper_lifecycle_login_im_pq9_uant_x")),console.error(h),Promise.reject(h);const{data:B,message:v}=await getImToken();if(!B)return Promise.reject(v);baseUserStore.getState().setZimToken(B.zeGoToken),imLogout(),await onLogin();return}const{setImIsLogin:f}=baseImStore.getState();f(!0)}}async function onLogout(){imLogout();const{setZimToken:a}=baseUserStore.getState(),{setImIsLogin:c,updateConversations:h,clearAllMessagesByConversation:f}=baseImStore.getState();h([],"replace"),f(),c(!1),a("")}function loginIm(){bindEventOnReceiveMessage(),bindEventOnMessageSentStatsChange(),binEventOnMessageDelete(),binEventOnMessageRevoke(),binEventOnMessageRead(),bindEventOnImStageChange(),bindEventOnConversationChange(),bindEventOnGroupChange(),bindEventOnImUserInfoUpdate(),baseUserStore.subscribe(a=>a.isLogin,async a=>{a?onLogin():onLogout()}),baseUserStore.getState().isLogin&&onLogin()}async function updateQueryEntity(){const a=await getV1ImChatImUserIndividualQueryEntityApiRequest({}),{data:c}=a||{};c&&(c.videoCallBeauty=2,setChatConfiguration(c))}const getFooterApiData=a=>Request$1({path:"/v1/im-home/column/getList",method:"GET",params:a,timeout:3*1e3}),getBasicWebApiData=a=>Request$1({path:"/v1/im-home/website/getData",method:"GET",params:a,timeout:3*1e3});function recursiveColumnMap(a){let c={};function h(f){!f||f.length===0||f.forEach(B=>{h(B.childColumns),B.homeColumnCd&&(c[B.homeColumnCd]=B)})}return h(a),c}function initializeLayoutStore(){const a=baseLayoutStore.getState(),{setLayoutProps:c,setColumnsDataByCd:h}=a,{locale:f,businessId:B}=baseCommonStore.getState();Promise.all([getBasicWebApiData({businessId:B,lanType:f}),getFooterApiData({businessId:B,lanType:f})]).then(v=>{var _,m;const D={...(_=v[0])==null?void 0:_.data,...(m=v[1])==null?void 0:m.data};c(D),h(recursiveColumnMap((D==null?void 0:D.columnsDatas)||[]))})}function afterLogin(){if(!getIsLogin())return;updateRemarkMapToStore();const{setAddressBookList:a,setMyGroupList:c,setJoinGroupList:h}=baseAddressBookStore.getState();a(),c(),h(),updateQueryEntity(),updateUserIsBanToStore(),editPushNotification(),initializeLayoutStore(),fetchAndUpdateUserInfo()}function afterLogout(){if(getIsLogin())return;const{setRemarkMap:a}=baseAddressBookStore.getState(),{setAccessKey:c,setBusinessId:h}=baseCommonStore.getState();c(""),h(""),a({groupList:[],friendList:[]}),onsignOUTPushNotification()}function registerOnLoginChange(){baseUserStore.subscribe(a=>a.isLogin,()=>{afterLogin(),afterLogout()}),afterLogin(),afterLogout()}function initVConsoleOnDev(){envIsProd||__vitePreload(()=>import("../chunks/chunk-0d5fea17.js").then(a=>a.v),["assets/chunks/chunk-0d5fea17.js","assets/chunks/chunk-e9cd8943.js","assets/chunks/chunk-cf010ec4.js"]).then(a=>{const c=a.default;let h=new c;window.addEventListener("resize",()=>{h&&h.destroy(),h=new c})})}function initTheme(){const{themeOption:a}=baseCommonStore.getState();applyTheme(a),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:h})=>{baseCommonStore.getState().themeOption===ThemeOptionEnum.system&&applyTheme(ThemeOptionEnum.system)})}sn(!1);const onInstallForClient=async a=>{initTheme(),initSentry(),initObserver(),await getDeviceId(),await awaitImLoaded(),initCache(),addGlobalLibrary(),initWS(),logGitCommitId(),initThemeColor(),registerOnLoginChange(),loginIm(),initVConsoleOnDev(),initializeLayoutStore()},getSeo=a=>{const{documentProps:c}=a;return baseLayoutStore.getState(),(c||{}).title,(c||{}).description,{title:"",description:""}},layout="",LinguiContext=React.createContext(null),I18nProvider=a=>{let{i18n:c,defaultComponent:h,forceRenderOnLocaleChange:f=!0,children:B}=a;const v=()=>({i18n:c,defaultComponent:h}),D=()=>f&&c.locale||"default",[_,m]=React.useState(v()),[I,Q]=React.useState(D());return React.useEffect(()=>{const p=c.on("change",()=>{m(v()),Q(D())});return I==="default"&&Q(D()),f&&I==="default"&&console.log("I18nProvider did not render. A call to i18n.activate still needs to happen or forceRenderOnLocaleChange must be set to false."),()=>p()},[]),f&&I==="default"?null:React.createElement(LinguiContext.Provider,{value:_,key:I},B)};var zhCN={};Object.defineProperty(zhCN,"__esModule",{value:!0});var Calendar$2={formatYear:"YYYY ",formatMonth:"YYYY  MM ",today:"",view:{month:"",year:"",week:"",day:""},month:{long:{January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:""},short:{January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:""}},week:{long:{self:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""},short:{self:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}}},_default$2=zhCN.default={locale:"zh-CN",dayjsLocale:"zh-cn",Calendar:Calendar$2,DatePicker:{Calendar:Calendar$2,placeholder:{date:"",week:"",month:"",year:"",quarter:""},placeholders:{date:["",""],week:["",""],month:["",""],year:["",""],quarter:["",""]},selectTime:"",selectDate:"",today:"",now:"",ok:""},Drawer:{okText:"",cancelText:""},Empty:{noData:""},Modal:{okText:"",cancelText:""},Pagination:{goto:"",page:"",countPerPage:"/",total:" {0} ",prev:"",next:"",currentPage:" {0} ",prevSomePages:" {0} ",nextSomePages:" {0} ",pageSize:""},Popconfirm:{okText:"",cancelText:""},Table:{okText:"",resetText:"",sortAscend:"",sortDescend:"",cancelSort:""},TimePicker:{ok:"",placeholder:"",placeholders:["",""],now:""},Progress:{success:"",error:""},Upload:{start:"",cancel:"",delete:"",reupload:"",upload:"",preview:"",drag:"",dragHover:"",error:""},Typography:{copy:"",copied:"",edit:"",fold:"",unfold:""},Transfer:{resetText:""},ImagePreview:{fullScreen:"",rotateRight:"",rotateLeft:"",zoomIn:"",zoomOut:"",originalSize:""},Form:{validateMessages:{required:"#{field} ",type:{string:"#{value} ",number:"#{value} ",boolean:"#{value} ",array:"#{value} ",object:"#{value} ",url:"#{value}  url ",email:"#{value} ",ip:"#{value}  IP "},number:{min:"`#{value}`  `#{min}`",max:"`#{value}`  `#{max}`",equal:"`#{value}`  `#{equal}`",range:"`#{value}`  `#{min} ~ #{max}` ",positive:"`#{value}` ",negative:"`#{value}` "},array:{length:"`#{value}`  #{length}",minLength:"`#{value}`  #{minLength}",maxLength:"`#{value}`  #{maxLength}",includes:"#{value}  #{includes}",deepEqual:"#{value}  #{deepEqual}",empty:"`#{value}` "},string:{minLength:" #{minLength}",maxLength:" #{maxLength}",length:"`#{value}`  #{length}",match:"`#{value}`  #{pattern}",uppercase:"`#{value}` ",lowercase:"`#{value}` "},object:{deepEqual:"`#{value}`  #{deepEqual}",hasKeys:"`#{value}`  #{keys}",empty:"`#{value}` "},boolean:{true:" `true`",false:" `false`"}}}},zhHK={},zhHk={exports:{}};(function(a,c){(function(h,f){a.exports=f(dayjs_minExports)})(commonjsGlobal,function(h){function f(D){return D&&typeof D=="object"&&"default"in D?D:{default:D}}var B=f(h),v={name:"zh-hk",months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),ordinal:function(D){return D+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "}};return B.default.locale(v,null,!0),v})})(zhHk);Object.defineProperty(zhHK,"__esModule",{value:!0});var Calendar$1={formatYear:"YYYY ",formatMonth:"YYYY  MM ",today:"",view:{month:"",year:"",week:"",day:""},month:{long:{January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:""},short:{January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:""}},week:{long:{self:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""},short:{self:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}}},_default$1=zhHK.default={locale:"zh-HK",dayjsLocale:"zh-hk",Calendar:Calendar$1,DatePicker:{Calendar:Calendar$1,placeholder:{date:"",week:"",month:"",year:"",quarter:""},placeholders:{date:["",""],week:["",""],month:["",""],year:["",""],quarter:["",""]},selectTime:"",selectDate:"",today:"",now:"",ok:""},Drawer:{okText:"",cancelText:""},Empty:{noData:""},Modal:{okText:"",cancelText:""},Pagination:{goto:"",page:"",countPerPage:"/",total:" {0} ",prev:"",next:"",currentPage:" {0} ",prevSomePages:" {0} ",nextSomePages:" {0} ",pageSize:""},Popconfirm:{okText:"",cancelText:""},Table:{okText:"",resetText:"",sortAscend:"",sortDescend:"",cancelSort:""},TimePicker:{ok:"",placeholder:"",placeholders:["",""],now:""},Progress:{success:"",error:""},Upload:{start:"",cancel:"",delete:"",reupload:"",upload:"",preview:"",drag:"",dragHover:"",error:""},Typography:{copy:"",copied:"",edit:"",fold:"",unfold:""},Transfer:{resetText:""},ImagePreview:{fullScreen:"",rotateRight:"",rotateLeft:"",zoomIn:"",zoomOut:"",originalSize:""},Form:{validateMessages:{required:"#{field} ",type:{string:"#{value} ",number:"#{value} ",boolean:"#{value} ",array:"#{value} ",object:"#{value} ",url:"#{value}  url ",email:"#{value} ",ip:"#{value}  IP "},number:{min:"`#{value}`  `#{min}`",max:"`#{value}`  `#{max}`",equal:"`#{value}`  `#{equal}`",range:"`#{value}`  `#{min} ~ #{max}` ",positive:"`#{value}` ",negative:"`#{value}` "},array:{length:"`#{value}`  #{length}",minLength:"`#{value}`  #{minLength}",maxLength:"`#{value}`  #{maxLength}",includes:"#{value}  #{includes}",deepEqual:"#{value}  #{deepEqual}",empty:"`#{value}` "},string:{minLength:" #{minLength}",maxLength:" #{maxLength}",length:"`#{value}`  #{length}",match:"`#{value}`  #{pattern}",uppercase:"`#{value}` ",lowercase:"`#{value}` "},object:{deepEqual:"`#{value}`  #{deepEqual}",hasKeys:"`#{value}`  #{keys}",empty:"`#{value}` "},boolean:{true:" `true`",false:" `false`"}}}},enUS={},en={exports:{}};(function(a,c){(function(h,f){a.exports=f()})(commonjsGlobal,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")}})})(en);Object.defineProperty(enUS,"__esModule",{value:!0});var Calendar={formatYear:"YYYY",formatMonth:"MMM YYYY",today:"Today",view:{month:"Month",year:"Year",week:"Week",day:"Day"},month:{long:{January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December"},short:{January:"Jan",February:"Feb",March:"Mar",April:"Apr",May:"May",June:"Jun",July:"Jul",August:"Aug",September:"Sept",October:"Oct",November:"Nov",December:"Dec"}},week:{long:{self:"Week",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},short:{self:"Week",monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"}}},_default=enUS.default={locale:"en-US",dayjsLocale:"en",Calendar,DatePicker:{Calendar,placeholder:{date:"Please select date",week:"Please select week",month:"Please select month",year:"Please select year",quarter:"Please select quarter"},placeholders:{date:["Start date","End date"],week:["Start week","End week"],month:["Start month","End month"],year:["Start year","End year"],quarter:["Start quarter","End quarter"]},selectTime:"Select time",selectDate:"Select Date",today:"Today",now:"Now",ok:"Ok"},Drawer:{okText:"Ok",cancelText:"Cancel"},Empty:{noData:"No data"},Modal:{okText:"OK",cancelText:"Cancel"},Pagination:{goto:"Goto",page:"Page",countPerPage:" / Page",total:"Total: {0}",prev:"Go to previous page",next:"Go to next page",currentPage:"page {0}",prevSomePages:"Previous {0} pages",nextSomePages:"Next {0} pages",pageSize:"page size"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Table:{okText:"Ok",resetText:"Reset",sortAscend:"Click to sort ascending",sortDescend:"Click to sort descending",cancelSort:"Click to cancel sorting"},TimePicker:{ok:"OK",placeholder:"Select time",placeholders:["Start time","End time"],now:"Now"},Progress:{success:"Completed",error:"Failed"},Upload:{start:"Start",cancel:"Cancel",delete:"Delete",reupload:"Click to retry",upload:"Upload",preview:"Preview",drag:"Click or drag file to this area to upload",dragHover:"Release to upload",error:"Upload Error"},Typography:{copy:"Copy",copied:"Copied",edit:"Edit",fold:"Fold",unfold:"Unfold"},Transfer:{resetText:"Reset"},ImagePreview:{fullScreen:"Full Screen",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",zoomIn:"Zoom In",zoomOut:"Zoom Out",originalSize:"Original Size"}};const postV1ImChatRoomCreateApiRequest=a=>Request$1({path:"/v1/im/chat/room/create",method:"POST",data:a}),styles$4={"resize-drag-video-wrap":"video-index-module__resize-drag-video-wrap--gNy","resize-drag-video-wrap-initial":"video-index-module__resize-drag-video-wrap-initial--aq-","resize-drag-video":"video-index-module__resize-drag-video--pJm","resize-drag-video-full":"video-index-module__resize-drag-video-full--mf7","resize-drag-video-container":"video-index-module__resize-drag-video-container--ERD","video-zoom-out-box":"video-index-module__video-zoom-out-box--Hjd","video-zoom-out-box-container":"video-index-module__video-zoom-out-box-container--A0g"};var interact_min={exports:{}};(function(a,c){(function(h){a.exports=h()})(function(){var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default=function(R){return!(!R||!R.Window)&&R instanceof R.Window};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.getWindow=function(R){return(0,h.default)(R)?R:(R.ownerDocument||R).defaultView||v.window},f.init=D,f.window=f.realWindow=void 0;var B=void 0;f.realWindow=B;var v=void 0;function D(R){f.realWindow=B=R;var G=R.document.createTextNode("");G.ownerDocument!==R.document&&typeof R.wrap=="function"&&R.wrap(G)===G&&(R=R.wrap(R)),f.window=v=R}f.window=v,typeof window<"u"&&window&&D(window);var _={};function m(R){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},m(R)}Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var I=function(R){return!!R&&m(R)==="object"},Q=function(R){return typeof R=="function"},p={window:function(R){return R===f.window||(0,h.default)(R)},docFrag:function(R){return I(R)&&R.nodeType===11},object:I,func:Q,number:function(R){return typeof R=="number"},bool:function(R){return typeof R=="boolean"},string:function(R){return typeof R=="string"},element:function(R){if(!R||m(R)!=="object")return!1;var G=f.getWindow(R)||f.window;return/object|function/.test(typeof Element>"u"?"undefined":m(Element))?R instanceof Element||R instanceof G.Element:R.nodeType===1&&typeof R.nodeName=="string"},plainObject:function(R){return I(R)&&!!R.constructor&&/function Object\b/.test(R.constructor.toString())},array:function(R){return I(R)&&R.length!==void 0&&Q(R.splice)}};_.default=p;var u={};function y(R){var G=R.interaction;if(G.prepared.name==="drag"){var oe=G.prepared.axis;oe==="x"?(G.coords.cur.page.y=G.coords.start.page.y,G.coords.cur.client.y=G.coords.start.client.y,G.coords.velocity.client.y=0,G.coords.velocity.page.y=0):oe==="y"&&(G.coords.cur.page.x=G.coords.start.page.x,G.coords.cur.client.x=G.coords.start.client.x,G.coords.velocity.client.x=0,G.coords.velocity.page.x=0)}}function N(R){var G=R.iEvent,oe=R.interaction;if(oe.prepared.name==="drag"){var se=oe.prepared.axis;if(se==="x"||se==="y"){var Ie=se==="x"?"y":"x";G.page[Ie]=oe.coords.start.page[Ie],G.client[Ie]=oe.coords.start.client[Ie],G.delta[Ie]=0}}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var U={id:"actions/drag",install:function(R){var G=R.actions,oe=R.Interactable,se=R.defaults;oe.prototype.draggable=U.draggable,G.map.drag=U,G.methodDict.drag="draggable",se.actions.drag=U.defaults},listeners:{"interactions:before-action-move":y,"interactions:action-resume":y,"interactions:action-move":N,"auto-start:check":function(R){var G=R.interaction,oe=R.interactable,se=R.buttons,Ie=oe.options.drag;if(Ie&&Ie.enabled&&(!G.pointerIsDown||!/mouse|pointer/.test(G.pointerType)||se&oe.options.drag.mouseButtons))return R.action={name:"drag",axis:Ie.lockAxis==="start"?Ie.startAxis:Ie.lockAxis},!1}},draggable:function(R){return _.default.object(R)?(this.options.drag.enabled=R.enabled!==!1,this.setPerAction("drag",R),this.setOnEvents("drag",R),/^(xy|x|y|start)$/.test(R.lockAxis)&&(this.options.drag.lockAxis=R.lockAxis),/^(xy|x|y)$/.test(R.startAxis)&&(this.options.drag.startAxis=R.startAxis),this):_.default.bool(R)?(this.options.drag.enabled=R,this):this.options.drag},beforeMove:y,move:N,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(R){return R.search("drag")===0}},q=U;u.default=q;var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.default=void 0;var F={init:function(R){var G=R;F.document=G.document,F.DocumentFragment=G.DocumentFragment||V,F.SVGElement=G.SVGElement||V,F.SVGSVGElement=G.SVGSVGElement||V,F.SVGElementInstance=G.SVGElementInstance||V,F.Element=G.Element||V,F.HTMLElement=G.HTMLElement||F.Element,F.Event=G.Event,F.Touch=G.Touch||V,F.PointerEvent=G.PointerEvent||G.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function V(){}var z=F;te.default=z;var $={};Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var L={init:function(R){var G=te.default.Element,oe=R.navigator||{};L.supportsTouch="ontouchstart"in R||_.default.func(R.DocumentTouch)&&te.default.document instanceof R.DocumentTouch,L.supportsPointerEvent=oe.pointerEnabled!==!1&&!!te.default.PointerEvent,L.isIOS=/iP(hone|od|ad)/.test(oe.platform),L.isIOS7=/iP(hone|od|ad)/.test(oe.platform)&&/OS 7[^\d]/.test(oe.appVersion),L.isIe9=/MSIE 9/.test(oe.userAgent),L.isOperaMobile=oe.appName==="Opera"&&L.supportsTouch&&/Presto/.test(oe.userAgent),L.prefixedMatchesSelector="matches"in G.prototype?"matches":"webkitMatchesSelector"in G.prototype?"webkitMatchesSelector":"mozMatchesSelector"in G.prototype?"mozMatchesSelector":"oMatchesSelector"in G.prototype?"oMatchesSelector":"msMatchesSelector",L.pEventTypes=L.supportsPointerEvent?te.default.PointerEvent===R.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,L.wheelEvent=te.default.document&&"onmousewheel"in te.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},O=L;$.default=O;var T={};function w(R){var G=R.parentNode;if(_.default.docFrag(G)){for(;(G=G.host)&&_.default.docFrag(G););return G}return G}function k(R,G){return f.window!==f.realWindow&&(G=G.replace(/\/deep\//g," ")),R[$.default.prefixedMatchesSelector](G)}Object.defineProperty(T,"__esModule",{value:!0}),T.closest=function(R,G){for(;_.default.element(R);){if(k(R,G))return R;R=w(R)}return null},T.getActualElement=function(R){return R.correspondingUseElement||R},T.getElementClientRect=K,T.getElementRect=function(R){var G=K(R);if(!$.default.isIOS7&&G){var oe=W(f.getWindow(R));G.left+=oe.x,G.right+=oe.x,G.top+=oe.y,G.bottom+=oe.y}return G},T.getPath=function(R){for(var G=[];R;)G.push(R),R=w(R);return G},T.getScrollXY=W,T.indexOfDeepestElement=function(R){for(var G,oe=[],se=0;se<R.length;se++){var Ie=R[se],Ne=R[G];if(Ie&&se!==G)if(Ne){var Ye=Y(Ie),Te=Y(Ne);if(Ye!==Ie.ownerDocument)if(Te!==Ie.ownerDocument)if(Ye!==Te){oe=oe.length?oe:Z(Ne);var Je=void 0;if(Ne instanceof te.default.HTMLElement&&Ie instanceof te.default.SVGElement&&!(Ie instanceof te.default.SVGSVGElement)){if(Ie===Te)continue;Je=Ie.ownerSVGElement}else Je=Ie;for(var mt=Z(Je,Ne.ownerDocument),vt=0;mt[vt]&&mt[vt]===oe[vt];)vt++;var Mt=[mt[vt-1],mt[vt],oe[vt]];if(Mt[0])for(var Xt=Mt[0].lastChild;Xt;){if(Xt===Mt[1]){G=se,oe=mt;break}if(Xt===Mt[2])break;Xt=Xt.previousSibling}}else er=Ie,jt=Ne,(parseInt(f.getWindow(er).getComputedStyle(er).zIndex,10)||0)>=(parseInt(f.getWindow(jt).getComputedStyle(jt).zIndex,10)||0)&&(G=se);else G=se}else G=se}var er,jt;return G},T.matchesSelector=k,T.matchesUpTo=function(R,G,oe){for(;_.default.element(R);){if(k(R,G))return!0;if((R=w(R))===oe)return k(R,G)}return!1},T.nodeContains=function(R,G){if(R.contains)return R.contains(G);for(;G;){if(G===R)return!0;G=G.parentNode}return!1},T.parentNode=w,T.trySelector=function(R){return!!_.default.string(R)&&(te.default.document.querySelector(R),!0)};var Y=function(R){return R.parentNode||R.host};function Z(R,G){for(var oe,se=[],Ie=R;(oe=Y(Ie))&&Ie!==G&&oe!==Ie.ownerDocument;)se.unshift(Ie),Ie=oe;return se}function W(R){return{x:(R=R||f.window).scrollX||R.document.documentElement.scrollLeft,y:R.scrollY||R.document.documentElement.scrollTop}}function K(R){var G=R instanceof te.default.SVGElement?R.getBoundingClientRect():R.getClientRects()[0];return G&&{left:G.left,right:G.right,top:G.top,bottom:G.bottom,width:G.width||G.right-G.left,height:G.height||G.bottom-G.top}}var x={};Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(R,G){for(var oe in G)R[oe]=G[oe];return R};var X={};function H(R,G){(G==null||G>R.length)&&(G=R.length);for(var oe=0,se=Array(G);oe<G;oe++)se[oe]=R[oe];return se}function j(R,G,oe){return R==="parent"?(0,T.parentNode)(oe):R==="self"?G.getRect(oe):(0,T.closest)(oe,R)}Object.defineProperty(X,"__esModule",{value:!0}),X.addEdges=function(R,G,oe){R.left&&(G.left+=oe.x),R.right&&(G.right+=oe.x),R.top&&(G.top+=oe.y),R.bottom&&(G.bottom+=oe.y),G.width=G.right-G.left,G.height=G.bottom-G.top},X.getStringOptionResult=j,X.rectToXY=function(R){return R&&{x:"x"in R?R.x:R.left,y:"y"in R?R.y:R.top}},X.resolveRectLike=function(R,G,oe,se){var Ie,Ne=R;return _.default.string(Ne)?Ne=j(Ne,G,oe):_.default.func(Ne)&&(Ne=Ne.apply(void 0,function(Ye){if(Array.isArray(Ye))return H(Ye)}(Ie=se)||function(Ye){if(typeof Symbol<"u"&&Ye[Symbol.iterator]!=null||Ye["@@iterator"]!=null)return Array.from(Ye)}(Ie)||function(Ye,Te){if(Ye){if(typeof Ye=="string")return H(Ye,Te);var Je=Object.prototype.toString.call(Ye).slice(8,-1);return Je==="Object"&&Ye.constructor&&(Je=Ye.constructor.name),Je==="Map"||Je==="Set"?Array.from(Ye):Je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Je)?H(Ye,Te):void 0}}(Ie)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),_.default.element(Ne)&&(Ne=(0,T.getElementRect)(Ne)),Ne},X.tlbrToXywh=function(R){return!R||"x"in R&&"y"in R||((R=(0,x.default)({},R)).x=R.left||0,R.y=R.top||0,R.width=R.width||(R.right||0)-R.x,R.height=R.height||(R.bottom||0)-R.y),R},X.toFullRect=function(R){var G,oe;return{top:R.top,left:R.left,bottom:R.bottom,right:R.right,width:(G=R.width)!=null?G:R.right-R.left,height:(oe=R.height)!=null?oe:R.bottom-R.top}},X.xywhToTlbr=function(R){return!R||"left"in R&&"top"in R||((R=(0,x.default)({},R)).left=R.x||0,R.top=R.y||0,R.right=R.right||R.left+R.width,R.bottom=R.bottom||R.top+R.height),R};var ae={};Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=function(R,G,oe){var se=oe&&R.options[oe],Ie=se&&se.origin||R.options.origin,Ne=(0,X.resolveRectLike)(Ie,R,G,[R&&G]);return(0,X.rectToXY)(Ne)||{x:0,y:0}};var ce={};function ne(R){return R.trim().split(/ +/)}Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=function R(G,oe){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(mt){return!0},Ie=arguments.length>3?arguments[3]:void 0;if(Ie=Ie||{},_.default.string(G)&&G.search(" ")!==-1&&(G=ne(G)),_.default.array(G))return G.forEach(function(mt){return R(mt,oe,se,Ie)}),Ie;if(_.default.object(G)&&(oe=G,G=""),_.default.func(oe)&&se(G))Ie[G]=Ie[G]||[],Ie[G].push(oe);else if(_.default.array(oe))for(var Ne=0;Ne<oe.length;Ne++){var Ye=oe[Ne];R(G,Ye,se,Ie)}else if(_.default.object(oe))for(var Te in oe){var Je=ne(Te).map(function(mt){return"".concat(G).concat(mt)});R(Je,oe[Te],se,Ie)}return Ie};var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0,Qe.default=function(R,G){return Math.sqrt(R*R+G*G)};var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.default=function(R,G){R.__set||(R.__set={});var oe=function(Ie){if(Fe.some(function(Ne){return Ie.indexOf(Ne)===0}))return"continue";typeof R[Ie]!="function"&&Ie!=="__set"&&Object.defineProperty(R,Ie,{get:function(){return Ie in R.__set?R.__set[Ie]:R.__set[Ie]=G[Ie]},set:function(Ne){R.__set[Ie]=Ne},configurable:!0})};for(var se in G)oe(se);return R};var Fe=["webkit","moz"],pe={};function ot(R){return R instanceof te.default.Event||R instanceof te.default.Touch}function ft(R,G,oe){return R=R||"page",(oe=oe||{}).x=G[R+"X"],oe.y=G[R+"Y"],oe}function yt(R,G){return G=G||{x:0,y:0},$.default.isOperaMobile&&ot(R)?(ft("screen",R,G),G.x+=window.scrollX,G.y+=window.scrollY):ft("page",R,G),G}function Ot(R,G){return G=G||{},$.default.isOperaMobile&&ot(R)?ft("screen",R,G):ft("client",R,G),G}function ge(R){var G=[];return _.default.array(R)?(G[0]=R[0],G[1]=R[1]):R.type==="touchend"?R.touches.length===1?(G[0]=R.touches[0],G[1]=R.changedTouches[0]):R.touches.length===0&&(G[0]=R.changedTouches[0],G[1]=R.changedTouches[1]):(G[0]=R.touches[0],G[1]=R.touches[1]),G}function Ee(R){for(var G={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},oe=0;oe<R.length;oe++){var se=R[oe];for(var Ie in G)G[Ie]+=se[Ie]}for(var Ne in G)G[Ne]/=R.length;return G}Object.defineProperty(pe,"__esModule",{value:!0}),pe.coordsToEvent=function(R){return{coords:R,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},pe.copyCoords=function(R,G){R.page=R.page||{},R.page.x=G.page.x,R.page.y=G.page.y,R.client=R.client||{},R.client.x=G.client.x,R.client.y=G.client.y,R.timeStamp=G.timeStamp},pe.getClientXY=Ot,pe.getEventTargets=function(R){var G=_.default.func(R.composedPath)?R.composedPath():R.path;return[T.getActualElement(G?G[0]:R.target),T.getActualElement(R.currentTarget)]},pe.getPageXY=yt,pe.getPointerId=function(R){return _.default.number(R.pointerId)?R.pointerId:R.identifier},pe.getPointerType=function(R){return _.default.string(R.pointerType)?R.pointerType:_.default.number(R.pointerType)?[void 0,void 0,"touch","pen","mouse"][R.pointerType]:/touch/.test(R.type||"")||R instanceof te.default.Touch?"touch":"mouse"},pe.getTouchPair=ge,pe.getXY=ft,pe.isNativePointer=ot,pe.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},pe.pointerAverage=Ee,Object.defineProperty(pe,"pointerExtend",{enumerable:!0,get:function(){return De.default}}),pe.setCoordDeltas=function(R,G,oe){R.page.x=oe.page.x-G.page.x,R.page.y=oe.page.y-G.page.y,R.client.x=oe.client.x-G.client.x,R.client.y=oe.client.y-G.client.y,R.timeStamp=oe.timeStamp-G.timeStamp},pe.setCoordVelocity=function(R,G){var oe=Math.max(G.timeStamp/1e3,.001);R.page.x=G.page.x/oe,R.page.y=G.page.y/oe,R.client.x=G.client.x/oe,R.client.y=G.client.y/oe,R.timeStamp=oe},pe.setCoords=function(R,G,oe){var se=G.length>1?Ee(G):G[0];yt(se,R.page),Ot(se,R.client),R.timeStamp=oe},pe.setZeroCoords=function(R){R.page.x=0,R.page.y=0,R.client.x=0,R.client.y=0},pe.touchAngle=function(R,G){var oe=G+"X",se=G+"Y",Ie=ge(R),Ne=Ie[1][oe]-Ie[0][oe],Ye=Ie[1][se]-Ie[0][se];return 180*Math.atan2(Ye,Ne)/Math.PI},pe.touchBBox=function(R){if(!R.length)return null;var G=ge(R),oe=Math.min(G[0].pageX,G[1].pageX),se=Math.min(G[0].pageY,G[1].pageY),Ie=Math.max(G[0].pageX,G[1].pageX),Ne=Math.max(G[0].pageY,G[1].pageY);return{x:oe,y:se,left:oe,top:se,right:Ie,bottom:Ne,width:Ie-oe,height:Ne-se}},pe.touchDistance=function(R,G){var oe=G+"X",se=G+"Y",Ie=ge(R),Ne=Ie[0][oe]-Ie[1][oe],Ye=Ie[0][se]-Ie[1][se];return(0,Qe.default)(Ne,Ye)};var fe={};function ie(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function ue(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(fe,"__esModule",{value:!0}),fe.BaseEvent=void 0;var de=function(){function R(se){(function(Ie,Ne){if(!(Ie instanceof Ne))throw new TypeError("Cannot call a class as a function")})(this,R),ue(this,"immediatePropagationStopped",!1),ue(this,"propagationStopped",!1),this._interaction=se}var G,oe;return G=R,(oe=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&ie(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),R}();fe.BaseEvent=de,Object.defineProperty(de.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.remove=le.merge=le.from=le.findIndex=le.find=le.contains=void 0,le.contains=function(R,G){return R.indexOf(G)!==-1},le.remove=function(R,G){return R.splice(R.indexOf(G),1)};var Ve=function(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];R.push(se)}return R};le.merge=Ve,le.from=function(R){return Ve([],R)};var nt=function(R,G){for(var oe=0;oe<R.length;oe++)if(G(R[oe],oe,R))return oe;return-1};le.findIndex=nt,le.find=function(R,G){return R[nt(R,G)]};var ct={};function Re(R){return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},Re(R)}function lt(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function St(R,G){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,se){return oe.__proto__=se,oe},St(R,G)}function Yt(R,G){if(G&&(Re(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xe(R)}function xe(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function st(R){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},st(R)}function At(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(ct,"__esModule",{value:!0}),ct.DropEvent=void 0;var Et=function(R){(function(Te,Je){if(typeof Je!="function"&&Je!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(Je&&Je.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),Je&&St(Te,Je)})(Ye,R);var G,oe,se,Ie,Ne=(se=Ye,Ie=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Te,Je=st(se);if(Ie){var mt=st(this).constructor;Te=Reflect.construct(Je,arguments,mt)}else Te=Je.apply(this,arguments);return Yt(this,Te)});function Ye(Te,Je,mt){var vt;(function(jt,dr){if(!(jt instanceof dr))throw new TypeError("Cannot call a class as a function")})(this,Ye),At(xe(vt=Ne.call(this,Je._interaction)),"dropzone",void 0),At(xe(vt),"dragEvent",void 0),At(xe(vt),"relatedTarget",void 0),At(xe(vt),"draggable",void 0),At(xe(vt),"propagationStopped",!1),At(xe(vt),"immediatePropagationStopped",!1);var Mt=mt==="dragleave"?Te.prev:Te.cur,Xt=Mt.element,er=Mt.dropzone;return vt.type=mt,vt.target=Xt,vt.currentTarget=Xt,vt.dropzone=er,vt.dragEvent=Je,vt.relatedTarget=Je.target,vt.draggable=Je.interactable,vt.timeStamp=Je.timeStamp,vt}return G=Ye,(oe=[{key:"reject",value:function(){var Te=this,Je=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&Je.cur.dropzone===this.dropzone&&Je.cur.element===this.target)if(Je.prev.dropzone=this.dropzone,Je.prev.element=this.target,Je.rejected=!0,Je.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var mt=Je.activeDrops,vt=le.findIndex(mt,function(Xt){var er=Xt.dropzone,jt=Xt.element;return er===Te.dropzone&&jt===Te.target});Je.activeDrops.splice(vt,1);var Mt=new Ye(Je,this.dragEvent,"dropdeactivate");Mt.dropzone=this.dropzone,Mt.target=this.target,this.dropzone.fire(Mt)}else this.dropzone.fire(new Ye(Je,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&lt(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),Ye}(fe.BaseEvent);ct.DropEvent=Et;var Dt={};function Ft(R,G){for(var oe=0;oe<R.slice().length;oe++){var se=R.slice()[oe],Ie=se.dropzone,Ne=se.element;G.dropzone=Ie,G.target=Ne,Ie.fire(G),G.propagationStopped=G.immediatePropagationStopped=!1}}function zt(R,G){for(var oe=function(Ne,Ye){for(var Te=Ne.interactables,Je=[],mt=0;mt<Te.list.length;mt++){var vt=Te.list[mt];if(vt.options.drop.enabled){var Mt=vt.options.drop.accept;if(!(_.default.element(Mt)&&Mt!==Ye||_.default.string(Mt)&&!T.matchesSelector(Ye,Mt)||_.default.func(Mt)&&!Mt({dropzone:vt,draggableElement:Ye})))for(var Xt=0;Xt<vt.getAllElements().length;Xt++){var er=vt.getAllElements()[Xt];er!==Ye&&Je.push({dropzone:vt,element:er,rect:vt.getRect(er)})}}}return Je}(R,G),se=0;se<oe.length;se++){var Ie=oe[se];Ie.rect=Ie.dropzone.getRect(Ie.element)}return oe}function Ut(R,G,oe){for(var se=R.dropState,Ie=R.interactable,Ne=R.element,Ye=[],Te=0;Te<se.activeDrops.length;Te++){var Je=se.activeDrops[Te],mt=Je.dropzone,vt=Je.element,Mt=Je.rect,Xt=mt.dropCheck(G,oe,Ie,Ne,vt,Mt);Ye.push(Xt?vt:null)}var er=T.indexOfDeepestElement(Ye);return se.activeDrops[er]||null}function Vt(R,G,oe){var se=R.dropState,Ie={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return oe.type==="dragstart"&&(Ie.activate=new ct.DropEvent(se,oe,"dropactivate"),Ie.activate.target=null,Ie.activate.dropzone=null),oe.type==="dragend"&&(Ie.deactivate=new ct.DropEvent(se,oe,"dropdeactivate"),Ie.deactivate.target=null,Ie.deactivate.dropzone=null),se.rejected||(se.cur.element!==se.prev.element&&(se.prev.dropzone&&(Ie.leave=new ct.DropEvent(se,oe,"dragleave"),oe.dragLeave=Ie.leave.target=se.prev.element,oe.prevDropzone=Ie.leave.dropzone=se.prev.dropzone),se.cur.dropzone&&(Ie.enter=new ct.DropEvent(se,oe,"dragenter"),oe.dragEnter=se.cur.element,oe.dropzone=se.cur.dropzone)),oe.type==="dragend"&&se.cur.dropzone&&(Ie.drop=new ct.DropEvent(se,oe,"drop"),oe.dropzone=se.cur.dropzone,oe.relatedTarget=se.cur.element),oe.type==="dragmove"&&se.cur.dropzone&&(Ie.move=new ct.DropEvent(se,oe,"dropmove"),oe.dropzone=se.cur.dropzone)),Ie}function mr(R,G){var oe=R.dropState,se=oe.activeDrops,Ie=oe.cur,Ne=oe.prev;G.leave&&Ne.dropzone.fire(G.leave),G.enter&&Ie.dropzone.fire(G.enter),G.move&&Ie.dropzone.fire(G.move),G.drop&&Ie.dropzone.fire(G.drop),G.deactivate&&Ft(se,G.deactivate),oe.prev.dropzone=Ie.dropzone,oe.prev.element=Ie.element}function Br(R,G){var oe=R.interaction,se=R.iEvent,Ie=R.event;if(se.type==="dragmove"||se.type==="dragend"){var Ne=oe.dropState;G.dynamicDrop&&(Ne.activeDrops=zt(G,oe.element));var Ye=se,Te=Ut(oe,Ye,Ie);Ne.rejected=Ne.rejected&&!!Te&&Te.dropzone===Ne.cur.dropzone&&Te.element===Ne.cur.element,Ne.cur.dropzone=Te&&Te.dropzone,Ne.cur.element=Te&&Te.element,Ne.events=Vt(oe,0,Ye)}}Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.default=void 0;var Zt={id:"actions/drop",install:function(R){var G=R.actions,oe=R.interactStatic,se=R.Interactable,Ie=R.defaults;R.usePlugin(u.default),se.prototype.dropzone=function(Ne){return function(Ye,Te){if(_.default.object(Te)){if(Ye.options.drop.enabled=Te.enabled!==!1,Te.listeners){var Je=(0,ce.default)(Te.listeners),mt=Object.keys(Je).reduce(function(Mt,Xt){return Mt[/^(enter|leave)/.test(Xt)?"drag".concat(Xt):/^(activate|deactivate|move)/.test(Xt)?"drop".concat(Xt):Xt]=Je[Xt],Mt},{}),vt=Ye.options.drop.listeners;vt&&Ye.off(vt),Ye.on(mt),Ye.options.drop.listeners=mt}return _.default.func(Te.ondrop)&&Ye.on("drop",Te.ondrop),_.default.func(Te.ondropactivate)&&Ye.on("dropactivate",Te.ondropactivate),_.default.func(Te.ondropdeactivate)&&Ye.on("dropdeactivate",Te.ondropdeactivate),_.default.func(Te.ondragenter)&&Ye.on("dragenter",Te.ondragenter),_.default.func(Te.ondragleave)&&Ye.on("dragleave",Te.ondragleave),_.default.func(Te.ondropmove)&&Ye.on("dropmove",Te.ondropmove),/^(pointer|center)$/.test(Te.overlap)?Ye.options.drop.overlap=Te.overlap:_.default.number(Te.overlap)&&(Ye.options.drop.overlap=Math.max(Math.min(1,Te.overlap),0)),"accept"in Te&&(Ye.options.drop.accept=Te.accept),"checker"in Te&&(Ye.options.drop.checker=Te.checker),Ye}return _.default.bool(Te)?(Ye.options.drop.enabled=Te,Ye):Ye.options.drop}(this,Ne)},se.prototype.dropCheck=function(Ne,Ye,Te,Je,mt,vt){return function(Mt,Xt,er,jt,dr,kr,Cr){var Ur=!1;if(!(Cr=Cr||Mt.getRect(kr)))return!!Mt.options.drop.checker&&Mt.options.drop.checker(Xt,er,Ur,Mt,kr,jt,dr);var jr=Mt.options.drop.overlap;if(jr==="pointer"){var cn=(0,ae.default)(jt,dr,"drag"),pn=pe.getPageXY(Xt);pn.x+=cn.x,pn.y+=cn.y;var Qn=pn.x>Cr.left&&pn.x<Cr.right,En=pn.y>Cr.top&&pn.y<Cr.bottom;Ur=Qn&&En}var On=jt.getRect(dr);if(On&&jr==="center"){var Ji=On.left+On.width/2,Xn=On.top+On.height/2;Ur=Ji>=Cr.left&&Ji<=Cr.right&&Xn>=Cr.top&&Xn<=Cr.bottom}return On&&_.default.number(jr)&&(Ur=Math.max(0,Math.min(Cr.right,On.right)-Math.max(Cr.left,On.left))*Math.max(0,Math.min(Cr.bottom,On.bottom)-Math.max(Cr.top,On.top))/(On.width*On.height)>=jr),Mt.options.drop.checker&&(Ur=Mt.options.drop.checker(Xt,er,Ur,Mt,kr,jt,dr)),Ur}(this,Ne,Ye,Te,Je,mt,vt)},oe.dynamicDrop=function(Ne){return _.default.bool(Ne)?(R.dynamicDrop=Ne,oe):R.dynamicDrop},(0,x.default)(G.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),G.methodDict.drop="dropzone",R.dynamicDrop=!1,Ie.actions.drop=Zt.defaults},listeners:{"interactions:before-action-start":function(R){var G=R.interaction;G.prepared.name==="drag"&&(G.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(R,G){var oe=R.interaction,se=(R.event,R.iEvent);if(oe.prepared.name==="drag"){var Ie=oe.dropState;Ie.activeDrops=[],Ie.events={},Ie.activeDrops=zt(G,oe.element),Ie.events=Vt(oe,0,se),Ie.events.activate&&(Ft(Ie.activeDrops,Ie.events.activate),G.fire("actions/drop:start",{interaction:oe,dragEvent:se}))}},"interactions:action-move":Br,"interactions:after-action-move":function(R,G){var oe=R.interaction,se=R.iEvent;if(oe.prepared.name==="drag"){var Ie=oe.dropState;mr(oe,Ie.events),G.fire("actions/drop:move",{interaction:oe,dragEvent:se}),Ie.events={}}},"interactions:action-end":function(R,G){if(R.interaction.prepared.name==="drag"){var oe=R.interaction,se=R.iEvent;Br(R,G),mr(oe,oe.dropState.events),G.fire("actions/drop:end",{interaction:oe,dragEvent:se})}},"interactions:stop":function(R){var G=R.interaction;if(G.prepared.name==="drag"){var oe=G.dropState;oe&&(oe.activeDrops=null,oe.events=null,oe.cur.dropzone=null,oe.cur.element=null,oe.prev.dropzone=null,oe.prev.element=null,oe.rejected=!1)}}},getActiveDrops:zt,getDrop:Ut,getDropEvents:Vt,fireDropEvents:mr,filterEventType:function(R){return R.search("drag")===0||R.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},wr=Zt;Dt.default=wr;var kt={};function Ar(R){var G=R.interaction,oe=R.iEvent,se=R.phase;if(G.prepared.name==="gesture"){var Ie=G.pointers.map(function(mt){return mt.pointer}),Ne=se==="start",Ye=se==="end",Te=G.interactable.options.deltaSource;if(oe.touches=[Ie[0],Ie[1]],Ne)oe.distance=pe.touchDistance(Ie,Te),oe.box=pe.touchBBox(Ie),oe.scale=1,oe.ds=0,oe.angle=pe.touchAngle(Ie,Te),oe.da=0,G.gesture.startDistance=oe.distance,G.gesture.startAngle=oe.angle;else if(Ye||G.pointers.length<2){var Je=G.prevEvent;oe.distance=Je.distance,oe.box=Je.box,oe.scale=Je.scale,oe.ds=0,oe.angle=Je.angle,oe.da=0}else oe.distance=pe.touchDistance(Ie,Te),oe.box=pe.touchBBox(Ie),oe.scale=oe.distance/G.gesture.startDistance,oe.angle=pe.touchAngle(Ie,Te),oe.ds=oe.scale-G.gesture.scale,oe.da=oe.angle-G.gesture.angle;G.gesture.distance=oe.distance,G.gesture.angle=oe.angle,_.default.number(oe.scale)&&oe.scale!==1/0&&!isNaN(oe.scale)&&(G.gesture.scale=oe.scale)}}Object.defineProperty(kt,"__esModule",{value:!0}),kt.default=void 0;var qe={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(R){var G=R.actions,oe=R.Interactable,se=R.defaults;oe.prototype.gesturable=function(Ie){return _.default.object(Ie)?(this.options.gesture.enabled=Ie.enabled!==!1,this.setPerAction("gesture",Ie),this.setOnEvents("gesture",Ie),this):_.default.bool(Ie)?(this.options.gesture.enabled=Ie,this):this.options.gesture},G.map.gesture=qe,G.methodDict.gesture="gesturable",se.actions.gesture=qe.defaults},listeners:{"interactions:action-start":Ar,"interactions:action-move":Ar,"interactions:action-end":Ar,"interactions:new":function(R){R.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(R){if(!(R.interaction.pointers.length<2)){var G=R.interactable.options.gesture;if(G&&G.enabled)return R.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(R){return R.search("gesture")===0}},nr=qe;kt.default=nr;var tr={};function lr(R,G,oe,se,Ie,Ne,Ye){if(!G)return!1;if(G===!0){var Te=_.default.number(Ne.width)?Ne.width:Ne.right-Ne.left,Je=_.default.number(Ne.height)?Ne.height:Ne.bottom-Ne.top;if(Ye=Math.min(Ye,Math.abs((R==="left"||R==="right"?Te:Je)/2)),Te<0&&(R==="left"?R="right":R==="right"&&(R="left")),Je<0&&(R==="top"?R="bottom":R==="bottom"&&(R="top")),R==="left"){var mt=Te>=0?Ne.left:Ne.right;return oe.x<mt+Ye}if(R==="top"){var vt=Je>=0?Ne.top:Ne.bottom;return oe.y<vt+Ye}if(R==="right")return oe.x>(Te>=0?Ne.right:Ne.left)-Ye;if(R==="bottom")return oe.y>(Je>=0?Ne.bottom:Ne.top)-Ye}return!!_.default.element(se)&&(_.default.element(G)?G===se:T.matchesUpTo(se,G,Ie))}function pr(R){var G=R.iEvent,oe=R.interaction;if(oe.prepared.name==="resize"&&oe.resizeAxes){var se=G;oe.interactable.options.resize.square?(oe.resizeAxes==="y"?se.delta.x=se.delta.y:se.delta.y=se.delta.x,se.axes="xy"):(se.axes=oe.resizeAxes,oe.resizeAxes==="x"?se.delta.y=0:oe.resizeAxes==="y"&&(se.delta.x=0))}}Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0;var rr={id:"actions/resize",before:["actions/drag"],install:function(R){var G=R.actions,oe=R.browser,se=R.Interactable,Ie=R.defaults;rr.cursors=function(Ne){return Ne.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(oe),rr.defaultMargin=oe.supportsTouch||oe.supportsPointerEvent?20:10,se.prototype.resizable=function(Ne){return function(Ye,Te,Je){return _.default.object(Te)?(Ye.options.resize.enabled=Te.enabled!==!1,Ye.setPerAction("resize",Te),Ye.setOnEvents("resize",Te),_.default.string(Te.axis)&&/^x$|^y$|^xy$/.test(Te.axis)?Ye.options.resize.axis=Te.axis:Te.axis===null&&(Ye.options.resize.axis=Je.defaults.actions.resize.axis),_.default.bool(Te.preserveAspectRatio)?Ye.options.resize.preserveAspectRatio=Te.preserveAspectRatio:_.default.bool(Te.square)&&(Ye.options.resize.square=Te.square),Ye):_.default.bool(Te)?(Ye.options.resize.enabled=Te,Ye):Ye.options.resize}(this,Ne,R)},G.map.resize=rr,G.methodDict.resize="resizable",Ie.actions.resize=rr.defaults},listeners:{"interactions:new":function(R){R.interaction.resizeAxes="xy"},"interactions:action-start":function(R){(function(G){var oe=G.iEvent,se=G.interaction;if(se.prepared.name==="resize"&&se.prepared.edges){var Ie=oe,Ne=se.rect;se._rects={start:(0,x.default)({},Ne),corrected:(0,x.default)({},Ne),previous:(0,x.default)({},Ne),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},Ie.edges=se.prepared.edges,Ie.rect=se._rects.corrected,Ie.deltaRect=se._rects.delta}})(R),pr(R)},"interactions:action-move":function(R){(function(G){var oe=G.iEvent,se=G.interaction;if(se.prepared.name==="resize"&&se.prepared.edges){var Ie=oe,Ne=se.interactable.options.resize.invert,Ye=Ne==="reposition"||Ne==="negate",Te=se.rect,Je=se._rects,mt=Je.start,vt=Je.corrected,Mt=Je.delta,Xt=Je.previous;if((0,x.default)(Xt,vt),Ye){if((0,x.default)(vt,Te),Ne==="reposition"){if(vt.top>vt.bottom){var er=vt.top;vt.top=vt.bottom,vt.bottom=er}if(vt.left>vt.right){var jt=vt.left;vt.left=vt.right,vt.right=jt}}}else vt.top=Math.min(Te.top,mt.bottom),vt.bottom=Math.max(Te.bottom,mt.top),vt.left=Math.min(Te.left,mt.right),vt.right=Math.max(Te.right,mt.left);for(var dr in vt.width=vt.right-vt.left,vt.height=vt.bottom-vt.top,vt)Mt[dr]=vt[dr]-Xt[dr];Ie.edges=se.prepared.edges,Ie.rect=vt,Ie.deltaRect=Mt}})(R),pr(R)},"interactions:action-end":function(R){var G=R.iEvent,oe=R.interaction;if(oe.prepared.name==="resize"&&oe.prepared.edges){var se=G;se.edges=oe.prepared.edges,se.rect=oe._rects.corrected,se.deltaRect=oe._rects.delta}},"auto-start:check":function(R){var G=R.interaction,oe=R.interactable,se=R.element,Ie=R.rect,Ne=R.buttons;if(Ie){var Ye=(0,x.default)({},G.coords.cur.page),Te=oe.options.resize;if(Te&&Te.enabled&&(!G.pointerIsDown||!/mouse|pointer/.test(G.pointerType)||Ne&Te.mouseButtons)){if(_.default.object(Te.edges)){var Je={left:!1,right:!1,top:!1,bottom:!1};for(var mt in Je)Je[mt]=lr(mt,Te.edges[mt],Ye,G._latestPointer.eventTarget,se,Ie,Te.margin||rr.defaultMargin);Je.left=Je.left&&!Je.right,Je.top=Je.top&&!Je.bottom,(Je.left||Je.right||Je.top||Je.bottom)&&(R.action={name:"resize",edges:Je})}else{var vt=Te.axis!=="y"&&Ye.x>Ie.right-rr.defaultMargin,Mt=Te.axis!=="x"&&Ye.y>Ie.bottom-rr.defaultMargin;(vt||Mt)&&(R.action={name:"resize",axes:(vt?"x":"")+(Mt?"y":"")})}return!R.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(R){var G=R.edges,oe=R.axis,se=R.name,Ie=rr.cursors,Ne=null;if(oe)Ne=Ie[se+oe];else if(G){for(var Ye="",Te=["top","bottom","left","right"],Je=0;Je<Te.length;Je++){var mt=Te[Je];G[mt]&&(Ye+=mt)}Ne=Ie[Ye]}return Ne},filterEventType:function(R){return R.search("resize")===0},defaultMargin:null},Dr=rr;tr.default=Dr;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.default=void 0;var $t={id:"actions",install:function(R){R.usePlugin(kt.default),R.usePlugin(tr.default),R.usePlugin(u.default),R.usePlugin(Dt.default)}};Kt.default=$t;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.default=void 0;var Rr,fr,un=0,ln={request:function(R){return Rr(R)},cancel:function(R){return fr(R)},init:function(R){if(Rr=R.requestAnimationFrame,fr=R.cancelAnimationFrame,!Rr)for(var G=["ms","moz","webkit","o"],oe=0;oe<G.length;oe++){var se=G[oe];Rr=R["".concat(se,"RequestAnimationFrame")],fr=R["".concat(se,"CancelAnimationFrame")]||R["".concat(se,"CancelRequestAnimationFrame")]}Rr=Rr&&Rr.bind(R),fr=fr&&fr.bind(R),Rr||(Rr=function(Ie){var Ne=Date.now(),Ye=Math.max(0,16-(Ne-un)),Te=R.setTimeout(function(){Ie(Ne+Ye)},Ye);return un=Ne+Ye,Te},fr=function(Ie){return clearTimeout(Ie)})}};Nr.default=ln;var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.default=void 0,_r.getContainer=Qr,_r.getScroll=vr,_r.getScrollSize=function(R){return _.default.window(R)&&(R=window.document.body),{x:R.scrollWidth,y:R.scrollHeight}},_r.getScrollSizeDelta=function(R,G){var oe=R.interaction,se=R.element,Ie=oe&&oe.interactable.options[oe.prepared.name].autoScroll;if(!Ie||!Ie.enabled)return G(),{x:0,y:0};var Ne=Qr(Ie.container,oe.interactable,se),Ye=vr(Ne);G();var Te=vr(Ne);return{x:Te.x-Ye.x,y:Te.y-Ye.y}};var gr={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(R){gr.isScrolling=!0,Nr.default.cancel(gr.i),R.autoScroll=gr,gr.interaction=R,gr.prevTime=gr.now(),gr.i=Nr.default.request(gr.scroll)},stop:function(){gr.isScrolling=!1,gr.interaction&&(gr.interaction.autoScroll=null),Nr.default.cancel(gr.i)},scroll:function(){var R=gr.interaction,G=R.interactable,oe=R.element,se=R.prepared.name,Ie=G.options[se].autoScroll,Ne=Qr(Ie.container,G,oe),Ye=gr.now(),Te=(Ye-gr.prevTime)/1e3,Je=Ie.speed*Te;if(Je>=1){var mt={x:gr.x*Je,y:gr.y*Je};if(mt.x||mt.y){var vt=vr(Ne);_.default.window(Ne)?Ne.scrollBy(mt.x,mt.y):Ne&&(Ne.scrollLeft+=mt.x,Ne.scrollTop+=mt.y);var Mt=vr(Ne),Xt={x:Mt.x-vt.x,y:Mt.y-vt.y};(Xt.x||Xt.y)&&G.fire({type:"autoscroll",target:oe,interactable:G,delta:Xt,interaction:R,container:Ne})}gr.prevTime=Ye}gr.isScrolling&&(Nr.default.cancel(gr.i),gr.i=Nr.default.request(gr.scroll))},check:function(R,G){var oe;return(oe=R.options[G].autoScroll)==null?void 0:oe.enabled},onInteractionMove:function(R){var G=R.interaction,oe=R.pointer;if(G.interacting()&&gr.check(G.interactable,G.prepared.name))if(G.simulation)gr.x=gr.y=0;else{var se,Ie,Ne,Ye,Te=G.interactable,Je=G.element,mt=G.prepared.name,vt=Te.options[mt].autoScroll,Mt=Qr(vt.container,Te,Je);if(_.default.window(Mt))Ye=oe.clientX<gr.margin,se=oe.clientY<gr.margin,Ie=oe.clientX>Mt.innerWidth-gr.margin,Ne=oe.clientY>Mt.innerHeight-gr.margin;else{var Xt=T.getElementClientRect(Mt);Ye=oe.clientX<Xt.left+gr.margin,se=oe.clientY<Xt.top+gr.margin,Ie=oe.clientX>Xt.right-gr.margin,Ne=oe.clientY>Xt.bottom-gr.margin}gr.x=Ie?1:Ye?-1:0,gr.y=Ne?1:se?-1:0,gr.isScrolling||(gr.margin=vt.margin,gr.speed=vt.speed,gr.start(G))}}};function Qr(R,G,oe){return(_.default.string(R)?(0,X.getStringOptionResult)(R,G,oe):R)||(0,f.getWindow)(oe)}function vr(R){return _.default.window(R)&&(R=window.document.body),{x:R.scrollLeft,y:R.scrollTop}}var Gr={id:"auto-scroll",install:function(R){var G=R.defaults,oe=R.actions;R.autoScroll=gr,gr.now=function(){return R.now()},oe.phaselessTypes.autoscroll=!0,G.perAction.autoScroll=gr.defaults},listeners:{"interactions:new":function(R){R.interaction.autoScroll=null},"interactions:destroy":function(R){R.interaction.autoScroll=null,gr.stop(),gr.interaction&&(gr.interaction=null)},"interactions:stop":gr.stop,"interactions:action-move":function(R){return gr.onInteractionMove(R)}}},$r=Gr;_r.default=$r;var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.copyAction=function(R,G){return R.name=G.name,R.axis=G.axis,R.edges=G.edges,R},ur.sign=void 0,ur.warnOnce=function(R,G){var oe=!1;return function(){return oe||(f.window.console.warn(G),oe=!0),R.apply(this,arguments)}},ur.sign=function(R){return R>=0?1:-1};var Kr={};function Hr(R){return _.default.bool(R)?(this.options.styleCursor=R,this):R===null?(delete this.options.styleCursor,this):this.options.styleCursor}function gn(R){return _.default.func(R)?(this.options.actionChecker=R,this):R===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.default=void 0;var Tr={id:"auto-start/interactableMethods",install:function(R){var G=R.Interactable;G.prototype.getAction=function(oe,se,Ie,Ne){var Ye=function(Te,Je,mt,vt,Mt){var Xt=Te.getRect(vt),er={action:null,interactable:Te,interaction:mt,element:vt,rect:Xt,buttons:Je.buttons||{0:1,1:4,3:8,4:16}[Je.button]};return Mt.fire("auto-start:check",er),er.action}(this,se,Ie,Ne,R);return this.options.actionChecker?this.options.actionChecker(oe,se,Ye,this,Ne,Ie):Ye},G.prototype.ignoreFrom=(0,ur.warnOnce)(function(oe){return this._backCompatOption("ignoreFrom",oe)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),G.prototype.allowFrom=(0,ur.warnOnce)(function(oe){return this._backCompatOption("allowFrom",oe)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),G.prototype.actionChecker=gn,G.prototype.styleCursor=Hr}};Kr.default=Tr;var Or={};function Sr(R,G,oe,se,Ie){return G.testIgnoreAllow(G.options[R.name],oe,se)&&G.options[R.name].enabled&&Ge(G,oe,R,Ie)?R:null}function Vr(R,G,oe,se,Ie,Ne,Ye){for(var Te=0,Je=se.length;Te<Je;Te++){var mt=se[Te],vt=Ie[Te],Mt=mt.getAction(G,oe,R,vt);if(Mt){var Xt=Sr(Mt,mt,vt,Ne,Ye);if(Xt)return{action:Xt,interactable:mt,element:vt}}}return{action:null,interactable:null,element:null}}function qr(R,G,oe,se,Ie){var Ne=[],Ye=[],Te=se;function Je(vt){Ne.push(vt),Ye.push(Te)}for(;_.default.element(Te);){Ne=[],Ye=[],Ie.interactables.forEachMatch(Te,Je);var mt=Vr(R,G,oe,Ne,Ye,se,Ie);if(mt.action&&!mt.interactable.options[mt.action.name].manualStart)return mt;Te=T.parentNode(Te)}return{action:null,interactable:null,element:null}}function ke(R,G,oe){var se=G.action,Ie=G.interactable,Ne=G.element;se=se||{name:null},R.interactable=Ie,R.element=Ne,(0,ur.copyAction)(R.prepared,se),R.rect=Ie&&se.name?Ie.getRect(Ne):null,Ae(R,oe),oe.fire("autoStart:prepared",{interaction:R})}function Ge(R,G,oe,se){var Ie=R.options,Ne=Ie[oe.name].max,Ye=Ie[oe.name].maxPerElement,Te=se.autoStart.maxInteractions,Je=0,mt=0,vt=0;if(!(Ne&&Ye&&Te))return!1;for(var Mt=0;Mt<se.interactions.list.length;Mt++){var Xt=se.interactions.list[Mt],er=Xt.prepared.name;if(Xt.interacting()&&(++Je>=Te||Xt.interactable===R&&((mt+=er===oe.name?1:0)>=Ne||Xt.element===G&&(vt++,er===oe.name&&vt>=Ye))))return!1}return Te>0}function Ke(R,G){return _.default.number(R)?(G.autoStart.maxInteractions=R,this):G.autoStart.maxInteractions}function We(R,G,oe){var se=oe.autoStart.cursorElement;se&&se!==R&&(se.style.cursor=""),R.ownerDocument.documentElement.style.cursor=G,R.style.cursor=G,oe.autoStart.cursorElement=G?R:null}function Ae(R,G){var oe=R.interactable,se=R.element,Ie=R.prepared;if(R.pointerType==="mouse"&&oe&&oe.options.styleCursor){var Ne="";if(Ie.name){var Ye=oe.options[Ie.name].cursorChecker;Ne=_.default.func(Ye)?Ye(Ie,oe,se,R._interacting):G.actions.map[Ie.name].getCursor(Ie)}We(R.element,Ne||"",G)}else G.autoStart.cursorElement&&We(G.autoStart.cursorElement,"",G)}Object.defineProperty(Or,"__esModule",{value:!0}),Or.default=void 0;var be={id:"auto-start/base",before:["actions"],install:function(R){var G=R.interactStatic,oe=R.defaults;R.usePlugin(Kr.default),oe.base.actionChecker=null,oe.base.styleCursor=!0,(0,x.default)(oe.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),G.maxInteractions=function(se){return Ke(se,R)},R.autoStart={maxInteractions:1/0,withinInteractionLimit:Ge,cursorElement:null}},listeners:{"interactions:down":function(R,G){var oe=R.interaction,se=R.pointer,Ie=R.event,Ne=R.eventTarget;oe.interacting()||ke(oe,qr(oe,se,Ie,Ne,G),G)},"interactions:move":function(R,G){(function(oe,se){var Ie=oe.interaction,Ne=oe.pointer,Ye=oe.event,Te=oe.eventTarget;Ie.pointerType!=="mouse"||Ie.pointerIsDown||Ie.interacting()||ke(Ie,qr(Ie,Ne,Ye,Te,se),se)})(R,G),function(oe,se){var Ie=oe.interaction;if(Ie.pointerIsDown&&!Ie.interacting()&&Ie.pointerWasMoved&&Ie.prepared.name){se.fire("autoStart:before-start",oe);var Ne=Ie.interactable,Ye=Ie.prepared.name;Ye&&Ne&&(Ne.options[Ye].manualStart||!Ge(Ne,Ie.element,Ie.prepared,se)?Ie.stop():(Ie.start(Ie.prepared,Ne,Ie.element),Ae(Ie,se)))}}(R,G)},"interactions:stop":function(R,G){var oe=R.interaction,se=oe.interactable;se&&se.options.styleCursor&&We(oe.element,"",G)}},maxInteractions:Ke,withinInteractionLimit:Ge,validateAction:Sr},tt=be;Or.default=tt;var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.default=void 0;var It={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(R,G){var oe=R.interaction,se=R.eventTarget,Ie=R.dx,Ne=R.dy;if(oe.prepared.name==="drag"){var Ye=Math.abs(Ie),Te=Math.abs(Ne),Je=oe.interactable.options.drag,mt=Je.startAxis,vt=Ye>Te?"x":Ye<Te?"y":"xy";if(oe.prepared.axis=Je.lockAxis==="start"?vt[0]:Je.lockAxis,vt!=="xy"&&mt!=="xy"&&mt!==vt){oe.prepared.name=null;for(var Mt=se,Xt=function(jt){if(jt!==oe.interactable){var dr=oe.interactable.options.drag;if(!dr.manualStart&&jt.testIgnoreAllow(dr,Mt,se)){var kr=jt.getAction(oe.downPointer,oe.downEvent,oe,Mt);if(kr&&kr.name==="drag"&&function(Cr,Ur){if(!Ur)return!1;var jr=Ur.options.drag.startAxis;return Cr==="xy"||jr==="xy"||jr===Cr}(vt,jt)&&Or.default.validateAction(kr,jt,Mt,se,G))return jt}}};_.default.element(Mt);){var er=G.interactables.forEachMatch(Mt,Xt);if(er){oe.prepared.name="drag",oe.interactable=er,oe.element=Mt;break}Mt=(0,T.parentNode)(Mt)}}}}}};dt.default=It;var rt={};function Ze(R){var G=R.prepared&&R.prepared.name;if(!G)return null;var oe=R.interactable.options;return oe[G].hold||oe[G].delay}Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=void 0;var Nt={id:"auto-start/hold",install:function(R){var G=R.defaults;R.usePlugin(Or.default),G.perAction.hold=0,G.perAction.delay=0},listeners:{"interactions:new":function(R){R.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(R){var G=R.interaction,oe=Ze(G);oe>0&&(G.autoStartHoldTimer=setTimeout(function(){G.start(G.prepared,G.interactable,G.element)},oe))},"interactions:move":function(R){var G=R.interaction,oe=R.duplicate;G.autoStartHoldTimer&&G.pointerWasMoved&&!oe&&(clearTimeout(G.autoStartHoldTimer),G.autoStartHoldTimer=null)},"autoStart:before-start":function(R){var G=R.interaction;Ze(G)>0&&(G.prepared.name=null)}},getHoldDuration:Ze},Lt=Nt;rt.default=Lt;var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var Me={id:"auto-start",install:function(R){R.usePlugin(Or.default),R.usePlugin(rt.default),R.usePlugin(dt.default)}};cr.default=Me;var me={};function Be(R){return/^(always|never|auto)$/.test(R)?(this.options.preventDefault=R,this):_.default.bool(R)?(this.options.preventDefault=R?"always":"never",this):this.options.preventDefault}function ve(R){var G=R.interaction,oe=R.event;G.interactable&&G.interactable.checkAndPreventDefault(oe)}function Ue(R){var G=R.Interactable;G.prototype.preventDefault=Be,G.prototype.checkAndPreventDefault=function(oe){return function(se,Ie,Ne){var Ye=se.options.preventDefault;if(Ye!=="never")if(Ye!=="always"){if(Ie.events.supportsPassive&&/^touch(start|move)$/.test(Ne.type)){var Te=(0,f.getWindow)(Ne.target).document,Je=Ie.getDocOptions(Te);if(!Je||!Je.events||Je.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(Ne.type)||_.default.element(Ne.target)&&(0,T.matchesSelector)(Ne.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||Ne.preventDefault()}else Ne.preventDefault()}(this,R,oe)},R.interactions.docEvents.push({type:"dragstart",listener:function(oe){for(var se=0;se<R.interactions.list.length;se++){var Ie=R.interactions.list[se];if(Ie.element&&(Ie.element===oe.target||(0,T.nodeContains)(Ie.element,oe.target)))return void Ie.interactable.checkAndPreventDefault(oe)}}})}Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0,me.install=Ue;var Se={id:"core/interactablePreventDefault",install:Ue,listeners:["down","move","up","cancel"].reduce(function(R,G){return R["interactions:".concat(G)]=ve,R},{})};me.default=Se;var je={};Object.defineProperty(je,"__esModule",{value:!0}),je.default=void 0,je.default={};var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=function(R,G){if(G.phaselessTypes[R])return!0;for(var oe in G.map)if(R.indexOf(oe)===0&&R.substr(oe.length)in G.phases)return!0;return!1};var ee,Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=void 0,function(R){R.touchAction="touchAction",R.boxSizing="boxSizing",R.noListeners="noListeners"}(ee||(ee={})),ee.touchAction,ee.boxSizing,ee.noListeners;var He={id:"dev-tools",install:function(){}};Pe.default=He;var it={};Object.defineProperty(it,"__esModule",{value:!0}),it.default=function R(G){var oe={};for(var se in G){var Ie=G[se];_.default.plainObject(Ie)?oe[se]=R(Ie):_.default.array(Ie)?oe[se]=le.from(Ie):oe[se]=Ie}return oe};var ht={};function Ht(R,G){return function(oe){if(Array.isArray(oe))return oe}(R)||function(oe,se){var Ie=oe==null?null:typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(Ie!=null){var Ne,Ye,Te=[],Je=!0,mt=!1;try{for(Ie=Ie.call(oe);!(Je=(Ne=Ie.next()).done)&&(Te.push(Ne.value),!se||Te.length!==se);Je=!0);}catch(vt){mt=!0,Ye=vt}finally{try{Je||Ie.return==null||Ie.return()}finally{if(mt)throw Ye}}return Te}}(R,G)||function(oe,se){if(oe){if(typeof oe=="string")return xt(oe,se);var Ie=Object.prototype.toString.call(oe).slice(8,-1);return Ie==="Object"&&oe.constructor&&(Ie=oe.constructor.name),Ie==="Map"||Ie==="Set"?Array.from(oe):Ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ie)?xt(oe,se):void 0}}(R,G)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xt(R,G){(G==null||G>R.length)&&(G=R.length);for(var oe=0,se=Array(G);oe<G;oe++)se[oe]=R[oe];return se}function Gt(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function Tt(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=void 0,ht.getRectOffset=Zr;var Ir=function(){function R(se){(function(Ie,Ne){if(!(Ie instanceof Ne))throw new TypeError("Cannot call a class as a function")})(this,R),Tt(this,"states",[]),Tt(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Tt(this,"startDelta",void 0),Tt(this,"result",void 0),Tt(this,"endResult",void 0),Tt(this,"startEdges",void 0),Tt(this,"edges",void 0),Tt(this,"interaction",void 0),this.interaction=se,this.result=bt(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var G,oe;return G=R,(oe=[{key:"start",value:function(se,Ie){var Ne=se.phase,Ye=this.interaction,Te=function(mt){var vt=mt.interactable.options[mt.prepared.name],Mt=vt.modifiers;return Mt&&Mt.length?Mt:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(Xt){var er=vt[Xt];return er&&er.enabled&&{options:er,methods:er._methods}}).filter(function(Xt){return!!Xt})}(Ye);this.prepareStates(Te),this.startEdges=(0,x.default)({},Ye.edges),this.edges=(0,x.default)({},this.startEdges),this.startOffset=Zr(Ye.rect,Ie),this.startDelta={x:0,y:0};var Je=this.fillArg({phase:Ne,pageCoords:Ie,preEnd:!1});return this.result=bt(),this.startAll(Je),this.result=this.setAll(Je)}},{key:"fillArg",value:function(se){var Ie=this.interaction;return se.interaction=Ie,se.interactable=Ie.interactable,se.element=Ie.element,se.rect||(se.rect=Ie.rect),se.edges||(se.edges=this.startEdges),se.startOffset=this.startOffset,se}},{key:"startAll",value:function(se){for(var Ie=0;Ie<this.states.length;Ie++){var Ne=this.states[Ie];Ne.methods.start&&(se.state=Ne,Ne.methods.start(se))}}},{key:"setAll",value:function(se){var Ie=se.phase,Ne=se.preEnd,Ye=se.skipModifiers,Te=se.rect,Je=se.edges;se.coords=(0,x.default)({},se.pageCoords),se.rect=(0,x.default)({},Te),se.edges=(0,x.default)({},Je);for(var mt=Ye?this.states.slice(Ye):this.states,vt=bt(se.coords,se.rect),Mt=0;Mt<mt.length;Mt++){var Xt,er=mt[Mt],jt=er.options,dr=(0,x.default)({},se.coords),kr=null;(Xt=er.methods)!=null&&Xt.set&&this.shouldDo(jt,Ne,Ie)&&(se.state=er,kr=er.methods.set(se),X.addEdges(se.edges,se.rect,{x:se.coords.x-dr.x,y:se.coords.y-dr.y})),vt.eventProps.push(kr)}(0,x.default)(this.edges,se.edges),vt.delta.x=se.coords.x-se.pageCoords.x,vt.delta.y=se.coords.y-se.pageCoords.y,vt.rectDelta.left=se.rect.left-Te.left,vt.rectDelta.right=se.rect.right-Te.right,vt.rectDelta.top=se.rect.top-Te.top,vt.rectDelta.bottom=se.rect.bottom-Te.bottom;var Cr=this.result.coords,Ur=this.result.rect;if(Cr&&Ur){var jr=vt.rect.left!==Ur.left||vt.rect.right!==Ur.right||vt.rect.top!==Ur.top||vt.rect.bottom!==Ur.bottom;vt.changed=jr||Cr.x!==vt.coords.x||Cr.y!==vt.coords.y}return vt}},{key:"applyToInteraction",value:function(se){var Ie=this.interaction,Ne=se.phase,Ye=Ie.coords.cur,Te=Ie.coords.start,Je=this.result,mt=this.startDelta,vt=Je.delta;Ne==="start"&&(0,x.default)(this.startDelta,Je.delta);for(var Mt=0;Mt<[[Te,mt],[Ye,vt]].length;Mt++){var Xt=Ht([[Te,mt],[Ye,vt]][Mt],2),er=Xt[0],jt=Xt[1];er.page.x+=jt.x,er.page.y+=jt.y,er.client.x+=jt.x,er.client.y+=jt.y}var dr=this.result.rectDelta,kr=se.rect||Ie.rect;kr.left+=dr.left,kr.right+=dr.right,kr.top+=dr.top,kr.bottom+=dr.bottom,kr.width=kr.right-kr.left,kr.height=kr.bottom-kr.top}},{key:"setAndApply",value:function(se){var Ie=this.interaction,Ne=se.phase,Ye=se.preEnd,Te=se.skipModifiers,Je=this.setAll(this.fillArg({preEnd:Ye,phase:Ne,pageCoords:se.modifiedCoords||Ie.coords.cur.page}));if(this.result=Je,!Je.changed&&(!Te||Te<this.states.length)&&Ie.interacting())return!1;if(se.modifiedCoords){var mt=Ie.coords.cur.page,vt={x:se.modifiedCoords.x-mt.x,y:se.modifiedCoords.y-mt.y};Je.coords.x+=vt.x,Je.coords.y+=vt.y,Je.delta.x+=vt.x,Je.delta.y+=vt.y}this.applyToInteraction(se)}},{key:"beforeEnd",value:function(se){var Ie=se.interaction,Ne=se.event,Ye=this.states;if(Ye&&Ye.length){for(var Te=!1,Je=0;Je<Ye.length;Je++){var mt=Ye[Je];se.state=mt;var vt=mt.options,Mt=mt.methods,Xt=Mt.beforeEnd&&Mt.beforeEnd(se);if(Xt)return this.endResult=Xt,!1;Te=Te||!Te&&this.shouldDo(vt,!0,se.phase,!0)}Te&&Ie.move({event:Ne,preEnd:!0})}}},{key:"stop",value:function(se){var Ie=se.interaction;if(this.states&&this.states.length){var Ne=(0,x.default)({states:this.states,interactable:Ie.interactable,element:Ie.element,rect:null},se);this.fillArg(Ne);for(var Ye=0;Ye<this.states.length;Ye++){var Te=this.states[Ye];Ne.state=Te,Te.methods.stop&&Te.methods.stop(Ne)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(se){this.states=[];for(var Ie=0;Ie<se.length;Ie++){var Ne=se[Ie],Ye=Ne.options,Te=Ne.methods,Je=Ne.name;this.states.push({options:Ye,methods:Te,index:Ie,name:Je})}return this.states}},{key:"restoreInteractionCoords",value:function(se){var Ie=se.interaction,Ne=Ie.coords,Ye=Ie.rect,Te=Ie.modification;if(Te.result){for(var Je=Te.startDelta,mt=Te.result,vt=mt.delta,Mt=mt.rectDelta,Xt=[[Ne.start,Je],[Ne.cur,vt]],er=0;er<Xt.length;er++){var jt=Ht(Xt[er],2),dr=jt[0],kr=jt[1];dr.page.x-=kr.x,dr.page.y-=kr.y,dr.client.x-=kr.x,dr.client.y-=kr.y}Ye.left-=Mt.left,Ye.right-=Mt.right,Ye.top-=Mt.top,Ye.bottom-=Mt.bottom}}},{key:"shouldDo",value:function(se,Ie,Ne,Ye){return!(!se||se.enabled===!1||Ye&&!se.endOnly||se.endOnly&&!Ie||Ne==="start"&&!se.setStart)}},{key:"copyFrom",value:function(se){this.startOffset=se.startOffset,this.startDelta=se.startDelta,this.startEdges=se.startEdges,this.edges=se.edges,this.states=se.states.map(function(Ie){return(0,it.default)(Ie)}),this.result=bt((0,x.default)({},se.result.coords),(0,x.default)({},se.result.rect))}},{key:"destroy",value:function(){for(var se in this)this[se]=null}}])&&Gt(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),R}();function bt(R,G){return{rect:G,coords:R,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Zr(R,G){return R?{left:G.x-R.left,top:G.y-R.top,right:R.right-G.x,bottom:R.bottom-G.y}:{left:0,top:0,right:0,bottom:0}}ht.default=Ir;var Wr={};function Mn(R){var G=R.iEvent,oe=R.interaction.modification.result;oe&&(G.modifiers=oe.eventProps)}Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.addEventModifiers=Mn,Wr.default=void 0,Wr.makeModifier=function(R,G){var oe=R.defaults,se={start:R.start,set:R.set,beforeEnd:R.beforeEnd,stop:R.stop},Ie=function(Ne){var Ye=Ne||{};for(var Te in Ye.enabled=Ye.enabled!==!1,oe)Te in Ye||(Ye[Te]=oe[Te]);var Je={options:Ye,methods:se,name:G,enable:function(){return Ye.enabled=!0,Je},disable:function(){return Ye.enabled=!1,Je}};return Je};return G&&typeof G=="string"&&(Ie._defaults=oe,Ie._methods=se),Ie};var ui={id:"modifiers/base",before:["actions"],install:function(R){R.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(R){var G=R.interaction;G.modification=new ht.default(G)},"interactions:before-action-start":function(R){var G=R.interaction,oe=R.interaction.modification;oe.start(R,G.coords.start.page),G.edges=oe.edges,oe.applyToInteraction(R)},"interactions:before-action-move":function(R){var G=R.interaction,oe=G.modification,se=oe.setAndApply(R);return G.edges=oe.edges,se},"interactions:before-action-end":function(R){var G=R.interaction,oe=G.modification,se=oe.beforeEnd(R);return G.edges=oe.startEdges,se},"interactions:action-start":Mn,"interactions:action-move":Mn,"interactions:action-end":Mn,"interactions:after-action-start":function(R){return R.interaction.modification.restoreInteractionCoords(R)},"interactions:after-action-move":function(R){return R.interaction.modification.restoreInteractionCoords(R)},"interactions:stop":function(R){return R.interaction.modification.stop(R)}}},tn=ui;Wr.default=tn;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.defaults=void 0,Bn.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var jn={};function di(R){return di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},di(R)}function Jr(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function Ci(R,G){return Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,se){return oe.__proto__=se,oe},Ci(R,G)}function vi(R,G){if(G&&(di(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pr(R)}function Pr(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function Un(R){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},Un(R)}function Mr(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(jn,"__esModule",{value:!0}),jn.InteractEvent=void 0;var Dn=function(R){(function(Te,Je){if(typeof Je!="function"&&Je!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(Je&&Je.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),Je&&Ci(Te,Je)})(Ye,R);var G,oe,se,Ie,Ne=(se=Ye,Ie=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Te,Je=Un(se);if(Ie){var mt=Un(this).constructor;Te=Reflect.construct(Je,arguments,mt)}else Te=Je.apply(this,arguments);return vi(this,Te)});function Ye(Te,Je,mt,vt,Mt,Xt,er){var jt;(function(Qn,En){if(!(Qn instanceof En))throw new TypeError("Cannot call a class as a function")})(this,Ye),Mr(Pr(jt=Ne.call(this,Te)),"relatedTarget",null),Mr(Pr(jt),"screenX",void 0),Mr(Pr(jt),"screenY",void 0),Mr(Pr(jt),"button",void 0),Mr(Pr(jt),"buttons",void 0),Mr(Pr(jt),"ctrlKey",void 0),Mr(Pr(jt),"shiftKey",void 0),Mr(Pr(jt),"altKey",void 0),Mr(Pr(jt),"metaKey",void 0),Mr(Pr(jt),"page",void 0),Mr(Pr(jt),"client",void 0),Mr(Pr(jt),"delta",void 0),Mr(Pr(jt),"rect",void 0),Mr(Pr(jt),"x0",void 0),Mr(Pr(jt),"y0",void 0),Mr(Pr(jt),"t0",void 0),Mr(Pr(jt),"dt",void 0),Mr(Pr(jt),"duration",void 0),Mr(Pr(jt),"clientX0",void 0),Mr(Pr(jt),"clientY0",void 0),Mr(Pr(jt),"velocity",void 0),Mr(Pr(jt),"speed",void 0),Mr(Pr(jt),"swipe",void 0),Mr(Pr(jt),"axes",void 0),Mr(Pr(jt),"preEnd",void 0),Mt=Mt||Te.element;var dr=Te.interactable,kr=(dr&&dr.options||Bn.defaults).deltaSource,Cr=(0,ae.default)(dr,Mt,mt),Ur=vt==="start",jr=vt==="end",cn=Ur?Pr(jt):Te.prevEvent,pn=Ur?Te.coords.start:jr?{page:cn.page,client:cn.client,timeStamp:Te.coords.cur.timeStamp}:Te.coords.cur;return jt.page=(0,x.default)({},pn.page),jt.client=(0,x.default)({},pn.client),jt.rect=(0,x.default)({},Te.rect),jt.timeStamp=pn.timeStamp,jr||(jt.page.x-=Cr.x,jt.page.y-=Cr.y,jt.client.x-=Cr.x,jt.client.y-=Cr.y),jt.ctrlKey=Je.ctrlKey,jt.altKey=Je.altKey,jt.shiftKey=Je.shiftKey,jt.metaKey=Je.metaKey,jt.button=Je.button,jt.buttons=Je.buttons,jt.target=Mt,jt.currentTarget=Mt,jt.preEnd=Xt,jt.type=er||mt+(vt||""),jt.interactable=dr,jt.t0=Ur?Te.pointers[Te.pointers.length-1].downTime:cn.t0,jt.x0=Te.coords.start.page.x-Cr.x,jt.y0=Te.coords.start.page.y-Cr.y,jt.clientX0=Te.coords.start.client.x-Cr.x,jt.clientY0=Te.coords.start.client.y-Cr.y,jt.delta=Ur||jr?{x:0,y:0}:{x:jt[kr].x-cn[kr].x,y:jt[kr].y-cn[kr].y},jt.dt=Te.coords.delta.timeStamp,jt.duration=jt.timeStamp-jt.t0,jt.velocity=(0,x.default)({},Te.coords.velocity[kr]),jt.speed=(0,Qe.default)(jt.velocity.x,jt.velocity.y),jt.swipe=jr||vt==="inertiastart"?jt.getSwipe():null,jt}return G=Ye,(oe=[{key:"getSwipe",value:function(){var Te=this._interaction;if(Te.prevEvent.speed<600||this.timeStamp-Te.prevEvent.timeStamp>150)return null;var Je=180*Math.atan2(Te.prevEvent.velocityY,Te.prevEvent.velocityX)/Math.PI;Je<0&&(Je+=360);var mt=112.5<=Je&&Je<247.5,vt=202.5<=Je&&Je<337.5;return{up:vt,down:!vt&&22.5<=Je&&Je<157.5,left:mt,right:!mt&&(292.5<=Je||Je<67.5),angle:Je,speed:Te.prevEvent.speed,velocity:{x:Te.prevEvent.velocityX,y:Te.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&Jr(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),Ye}(fe.BaseEvent);jn.InteractEvent=Dn,Object.defineProperties(Dn.prototype,{pageX:{get:function(){return this.page.x},set:function(R){this.page.x=R}},pageY:{get:function(){return this.page.y},set:function(R){this.page.y=R}},clientX:{get:function(){return this.client.x},set:function(R){this.client.x=R}},clientY:{get:function(){return this.client.y},set:function(R){this.client.y=R}},dx:{get:function(){return this.delta.x},set:function(R){this.delta.x=R}},dy:{get:function(){return this.delta.y},set:function(R){this.delta.y=R}},velocityX:{get:function(){return this.velocity.x},set:function(R){this.velocity.x=R}},velocityY:{get:function(){return this.velocity.y},set:function(R){this.velocity.y=R}}});var Co={};function li(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function Qi(R,G,oe){return G&&li(R.prototype,G),oe&&li(R,oe),Object.defineProperty(R,"prototype",{writable:!1}),R}function Lo(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(Co,"__esModule",{value:!0}),Co.PointerInfo=void 0;var oo=Qi(function R(G,oe,se,Ie,Ne){(function(Ye,Te){if(!(Ye instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,R),Lo(this,"id",void 0),Lo(this,"pointer",void 0),Lo(this,"event",void 0),Lo(this,"downTime",void 0),Lo(this,"downTarget",void 0),this.id=G,this.pointer=oe,this.event=se,this.downTime=Ie,this.downTarget=Ne});Co.PointerInfo=oo;var Zo,bn,hi={};function fn(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function An(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(hi,"__esModule",{value:!0}),hi.Interaction=void 0,Object.defineProperty(hi,"PointerInfo",{enumerable:!0,get:function(){return Co.PointerInfo}}),hi.default=hi._ProxyValues=hi._ProxyMethods=void 0,hi._ProxyValues=Zo,function(R){R.interactable="",R.element="",R.prepared="",R.pointerIsDown="",R.pointerWasMoved="",R._proxy=""}(Zo||(hi._ProxyValues=Zo={})),hi._ProxyMethods=bn,function(R){R.start="",R.move="",R.end="",R.stop="",R.interacting=""}(bn||(hi._ProxyMethods=bn={}));var Vi=0,vn=function(){function R(se){var Ie=this,Ne=se.pointerType,Ye=se.scopeFire;(function(Xt,er){if(!(Xt instanceof er))throw new TypeError("Cannot call a class as a function")})(this,R),An(this,"interactable",null),An(this,"element",null),An(this,"rect",null),An(this,"_rects",void 0),An(this,"edges",null),An(this,"_scopeFire",void 0),An(this,"prepared",{name:null,axis:null,edges:null}),An(this,"pointerType",void 0),An(this,"pointers",[]),An(this,"downEvent",null),An(this,"downPointer",{}),An(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),An(this,"prevEvent",null),An(this,"pointerIsDown",!1),An(this,"pointerWasMoved",!1),An(this,"_interacting",!1),An(this,"_ending",!1),An(this,"_stopped",!0),An(this,"_proxy",void 0),An(this,"simulation",null),An(this,"doMove",(0,ur.warnOnce)(function(Xt){this.move(Xt)},"The interaction.doMove() method has been renamed to interaction.move()")),An(this,"coords",{start:pe.newCoords(),prev:pe.newCoords(),cur:pe.newCoords(),delta:pe.newCoords(),velocity:pe.newCoords()}),An(this,"_id",Vi++),this._scopeFire=Ye,this.pointerType=Ne;var Te=this;this._proxy={};var Je=function(Xt){Object.defineProperty(Ie._proxy,Xt,{get:function(){return Te[Xt]}})};for(var mt in Zo)Je(mt);var vt=function(Xt){Object.defineProperty(Ie._proxy,Xt,{value:function(){return Te[Xt].apply(Te,arguments)}})};for(var Mt in bn)vt(Mt);this._scopeFire("interactions:new",{interaction:this})}var G,oe;return G=R,oe=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(se,Ie,Ne){var Ye=this.updatePointer(se,Ie,Ne,!0),Te=this.pointers[Ye];this._scopeFire("interactions:down",{pointer:se,event:Ie,eventTarget:Ne,pointerIndex:Ye,pointerInfo:Te,type:"down",interaction:this})}},{key:"start",value:function(se,Ie,Ne){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(se.name==="gesture"?2:1)||!Ie.options[se.name].enabled)&&((0,ur.copyAction)(this.prepared,se),this.interactable=Ie,this.element=Ne,this.rect=Ie.getRect(Ne),this.edges=this.prepared.edges?(0,x.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(se,Ie,Ne){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(se,Ie,Ne,!1);var Ye,Te,Je=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(Ye=this.coords.cur.client.x-this.coords.start.client.x,Te=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,Qe.default)(Ye,Te)>this.pointerMoveTolerance);var mt=this.getPointerIndex(se),vt={pointer:se,pointerIndex:mt,pointerInfo:this.pointers[mt],event:Ie,type:"move",eventTarget:Ne,dx:Ye,dy:Te,duplicate:Je,interaction:this};Je||pe.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",vt),Je||this.simulation||(this.interacting()&&(vt.type=null,this.move(vt)),this.pointerWasMoved&&pe.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(se){se&&se.event||pe.setZeroCoords(this.coords.delta),(se=(0,x.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},se||{})).phase="move",this._doPhase(se)}},{key:"pointerUp",value:function(se,Ie,Ne,Ye){var Te=this.getPointerIndex(se);Te===-1&&(Te=this.updatePointer(se,Ie,Ne,!1));var Je=/cancel$/i.test(Ie.type)?"cancel":"up";this._scopeFire("interactions:".concat(Je),{pointer:se,pointerIndex:Te,pointerInfo:this.pointers[Te],event:Ie,eventTarget:Ne,type:Je,curEventTarget:Ye,interaction:this}),this.simulation||this.end(Ie),this.removePointer(se,Ie)}},{key:"documentBlur",value:function(se){this.end(se),this._scopeFire("interactions:blur",{event:se,type:"blur",interaction:this})}},{key:"end",value:function(se){var Ie;this._ending=!0,se=se||this._latestPointer.event,this.interacting()&&(Ie=this._doPhase({event:se,interaction:this,phase:"end"})),this._ending=!1,Ie===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(se){var Ie=pe.getPointerId(se);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:le.findIndex(this.pointers,function(Ne){return Ne.id===Ie})}},{key:"getPointerInfo",value:function(se){return this.pointers[this.getPointerIndex(se)]}},{key:"updatePointer",value:function(se,Ie,Ne,Ye){var Te=pe.getPointerId(se),Je=this.getPointerIndex(se),mt=this.pointers[Je];return Ye=Ye!==!1&&(Ye||/(down|start)$/i.test(Ie.type)),mt?mt.pointer=se:(mt=new Co.PointerInfo(Te,se,Ie,null,null),Je=this.pointers.length,this.pointers.push(mt)),pe.setCoords(this.coords.cur,this.pointers.map(function(vt){return vt.pointer}),this._now()),pe.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),Ye&&(this.pointerIsDown=!0,mt.downTime=this.coords.cur.timeStamp,mt.downTarget=Ne,pe.pointerExtend(this.downPointer,se),this.interacting()||(pe.copyCoords(this.coords.start,this.coords.cur),pe.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=Ie,this.pointerWasMoved=!1)),this._updateLatestPointer(se,Ie,Ne),this._scopeFire("interactions:update-pointer",{pointer:se,event:Ie,eventTarget:Ne,down:Ye,pointerInfo:mt,pointerIndex:Je,interaction:this}),Je}},{key:"removePointer",value:function(se,Ie){var Ne=this.getPointerIndex(se);if(Ne!==-1){var Ye=this.pointers[Ne];this._scopeFire("interactions:remove-pointer",{pointer:se,event:Ie,eventTarget:null,pointerIndex:Ne,pointerInfo:Ye,interaction:this}),this.pointers.splice(Ne,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(se,Ie,Ne){this._latestPointer.pointer=se,this._latestPointer.event=Ie,this._latestPointer.eventTarget=Ne}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(se,Ie,Ne,Ye){return new jn.InteractEvent(this,se,this.prepared.name,Ie,this.element,Ne,Ye)}},{key:"_fireEvent",value:function(se){var Ie;(Ie=this.interactable)==null||Ie.fire(se),(!this.prevEvent||se.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=se)}},{key:"_doPhase",value:function(se){var Ie=se.event,Ne=se.phase,Ye=se.preEnd,Te=se.type,Je=this.rect;if(Je&&Ne==="move"&&(X.addEdges(this.edges,Je,this.coords.delta[this.interactable.options.deltaSource]),Je.width=Je.right-Je.left,Je.height=Je.bottom-Je.top),this._scopeFire("interactions:before-action-".concat(Ne),se)===!1)return!1;var mt=se.iEvent=this._createPreparedEvent(Ie,Ne,Ye,Te);return this._scopeFire("interactions:action-".concat(Ne),se),Ne==="start"&&(this.prevEvent=mt),this._fireEvent(mt),this._scopeFire("interactions:after-action-".concat(Ne),se),!0}},{key:"_now",value:function(){return Date.now()}}],oe&&fn(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),R}();hi.Interaction=vn;var Ai=vn;hi.default=Ai;var Kn={};function Xo(R){R.pointerIsDown&&(Oo(R.coords.cur,R.offset.total),R.offset.pending.x=0,R.offset.pending.y=0)}function _s(R){dn(R.interaction)}function dn(R){if(!function(oe){return!(!oe.offset.pending.x&&!oe.offset.pending.y)}(R))return!1;var G=R.offset.pending;return Oo(R.coords.cur,G),Oo(R.coords.delta,G),X.addEdges(R.edges,R.rect,G),G.x=0,G.y=0,!0}function Ua(R){var G=R.x,oe=R.y;this.offset.pending.x+=G,this.offset.pending.y+=oe,this.offset.total.x+=G,this.offset.total.y+=oe}function Oo(R,G){var oe=R.page,se=R.client,Ie=G.x,Ne=G.y;oe.x+=Ie,oe.y+=Ne,se.x+=Ie,se.y+=Ne}Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.addTotal=Xo,Kn.applyPending=dn,Kn.default=void 0,hi._ProxyMethods.offsetBy="";var ni={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(R){R.Interaction.prototype.offsetBy=Ua},listeners:{"interactions:new":function(R){R.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(R){return Xo(R.interaction)},"interactions:before-action-start":_s,"interactions:before-action-move":_s,"interactions:before-action-end":function(R){var G=R.interaction;if(dn(G))return G.move({offset:!0}),G.end(),!1},"interactions:stop":function(R){var G=R.interaction;G.offset.total.x=0,G.offset.total.y=0,G.offset.pending.x=0,G.offset.pending.y=0}}},Li=ni;Kn.default=Li;var Wi={};function ea(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function Yn(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.default=Wi.InertiaState=void 0;var ta=function(){function R(se){(function(Ie,Ne){if(!(Ie instanceof Ne))throw new TypeError("Cannot call a class as a function")})(this,R),Yn(this,"active",!1),Yn(this,"isModified",!1),Yn(this,"smoothEnd",!1),Yn(this,"allowResume",!1),Yn(this,"modification",void 0),Yn(this,"modifierCount",0),Yn(this,"modifierArg",void 0),Yn(this,"startCoords",void 0),Yn(this,"t0",0),Yn(this,"v0",0),Yn(this,"te",0),Yn(this,"targetOffset",void 0),Yn(this,"modifiedOffset",void 0),Yn(this,"currentOffset",void 0),Yn(this,"lambda_v0",0),Yn(this,"one_ve_v0",0),Yn(this,"timeout",void 0),Yn(this,"interaction",void 0),this.interaction=se}var G,oe;return G=R,(oe=[{key:"start",value:function(se){var Ie=this.interaction,Ne=Oi(Ie);if(!Ne||!Ne.enabled)return!1;var Ye=Ie.coords.velocity.client,Te=(0,Qe.default)(Ye.x,Ye.y),Je=this.modification||(this.modification=new ht.default(Ie));if(Je.copyFrom(Ie.modification),this.t0=Ie._now(),this.allowResume=Ne.allowResume,this.v0=Te,this.currentOffset={x:0,y:0},this.startCoords=Ie.coords.cur.page,this.modifierArg=Je.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-Ie.coords.cur.timeStamp<50&&Te>Ne.minSpeed&&Te>Ne.endSpeed)this.startInertia();else{if(Je.result=Je.setAll(this.modifierArg),!Je.result.changed)return!1;this.startSmoothEnd()}return Ie.modification.result.rect=null,Ie.offsetBy(this.targetOffset),Ie._doPhase({interaction:Ie,event:se,phase:"inertiastart"}),Ie.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),Ie.modification.result.rect=null,this.active=!0,Ie.simulation=this,!0}},{key:"startInertia",value:function(){var se=this,Ie=this.interaction.coords.velocity.client,Ne=Oi(this.interaction),Ye=Ne.resistance,Te=-Math.log(Ne.endSpeed/this.v0)/Ye;this.targetOffset={x:(Ie.x-Te)/Ye,y:(Ie.y-Te)/Ye},this.te=Te,this.lambda_v0=Ye/this.v0,this.one_ve_v0=1-Ne.endSpeed/this.v0;var Je=this.modification,mt=this.modifierArg;mt.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},Je.result=Je.setAll(mt),Je.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+Je.result.delta.x,y:this.targetOffset.y+Je.result.delta.y}),this.onNextFrame(function(){return se.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var se=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return se.smoothEndTick()})}},{key:"onNextFrame",value:function(se){var Ie=this;this.timeout=Nr.default.request(function(){Ie.active&&se()})}},{key:"inertiaTick",value:function(){var se,Ie,Ne,Ye,Te,Je=this,mt=this.interaction,vt=Oi(mt).resistance,Mt=(mt._now()-this.t0)/1e3;if(Mt<this.te){var Xt,er=1-(Math.exp(-vt*Mt)-this.lambda_v0)/this.one_ve_v0;this.isModified?(se=this.targetOffset.x,Ie=this.targetOffset.y,Ne=this.modifiedOffset.x,Ye=this.modifiedOffset.y,Xt={x:so(Te=er,0,se,Ne),y:so(Te,0,Ie,Ye)}):Xt={x:this.targetOffset.x*er,y:this.targetOffset.y*er};var jt={x:Xt.x-this.currentOffset.x,y:Xt.y-this.currentOffset.y};this.currentOffset.x+=jt.x,this.currentOffset.y+=jt.y,mt.offsetBy(jt),mt.move(),this.onNextFrame(function(){return Je.inertiaTick()})}else mt.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var se=this,Ie=this.interaction,Ne=Ie._now()-this.t0,Ye=Oi(Ie).smoothEndDuration;if(Ne<Ye){var Te={x:Hn(Ne,0,this.targetOffset.x,Ye),y:Hn(Ne,0,this.targetOffset.y,Ye)},Je={x:Te.x-this.currentOffset.x,y:Te.y-this.currentOffset.y};this.currentOffset.x+=Je.x,this.currentOffset.y+=Je.y,Ie.offsetBy(Je),Ie.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return se.smoothEndTick()})}else Ie.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(se){var Ie=se.pointer,Ne=se.event,Ye=se.eventTarget,Te=this.interaction;Te.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),Te.updatePointer(Ie,Ne,Ye,!0),Te._doPhase({interaction:Te,event:Ne,phase:"resume"}),(0,pe.copyCoords)(Te.coords.prev,Te.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Nr.default.cancel(this.timeout)}}])&&ea(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),R}();function Oi(R){var G=R.interactable,oe=R.prepared;return G&&G.options&&oe.name&&G.options[oe.name].inertia}Wi.InertiaState=ta;var Io={id:"inertia",before:["modifiers","actions"],install:function(R){var G=R.defaults;R.usePlugin(Kn.default),R.usePlugin(Wr.default),R.actions.phases.inertiastart=!0,R.actions.phases.resume=!0,G.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(R){var G=R.interaction;G.inertia=new ta(G)},"interactions:before-action-end":function(R){var G=R.interaction,oe=R.event;return(!G._interacting||G.simulation||!G.inertia.start(oe))&&null},"interactions:down":function(R){var G=R.interaction,oe=R.eventTarget,se=G.inertia;if(se.active)for(var Ie=oe;_.default.element(Ie);){if(Ie===G.element){se.resume(R);break}Ie=T.parentNode(Ie)}},"interactions:stop":function(R){var G=R.interaction.inertia;G.active&&G.stop()},"interactions:before-action-resume":function(R){var G=R.interaction.modification;G.stop(R),G.start(R,R.interaction.coords.cur.page),G.applyToInteraction(R)},"interactions:before-action-inertiastart":function(R){return R.interaction.modification.setAndApply(R)},"interactions:action-resume":Wr.addEventModifiers,"interactions:action-inertiastart":Wr.addEventModifiers,"interactions:after-action-inertiastart":function(R){return R.interaction.modification.restoreInteractionCoords(R)},"interactions:after-action-resume":function(R){return R.interaction.modification.restoreInteractionCoords(R)}}};function so(R,G,oe,se){var Ie=1-R;return Ie*Ie*G+2*Ie*R*oe+R*R*se}function Hn(R,G,oe,se){return-oe*(R/=se)*(R-2)+G}var Po=Io;Wi.default=Po;var ir={};function ki(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function Fo(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}function ra(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];if(R.immediatePropagationStopped)break;se(R)}}Object.defineProperty(ir,"__esModule",{value:!0}),ir.Eventable=void 0;var Ga=function(){function R(se){(function(Ie,Ne){if(!(Ie instanceof Ne))throw new TypeError("Cannot call a class as a function")})(this,R),Fo(this,"options",void 0),Fo(this,"types",{}),Fo(this,"propagationStopped",!1),Fo(this,"immediatePropagationStopped",!1),Fo(this,"global",void 0),this.options=(0,x.default)({},se||{})}var G,oe;return G=R,(oe=[{key:"fire",value:function(se){var Ie,Ne=this.global;(Ie=this.types[se.type])&&ra(se,Ie),!se.propagationStopped&&Ne&&(Ie=Ne[se.type])&&ra(se,Ie)}},{key:"on",value:function(se,Ie){var Ne=(0,ce.default)(se,Ie);for(se in Ne)this.types[se]=le.merge(this.types[se]||[],Ne[se])}},{key:"off",value:function(se,Ie){var Ne=(0,ce.default)(se,Ie);for(se in Ne){var Ye=this.types[se];if(Ye&&Ye.length)for(var Te=0;Te<Ne[se].length;Te++){var Je=Ne[se][Te],mt=Ye.indexOf(Je);mt!==-1&&Ye.splice(mt,1)}}}},{key:"getRect",value:function(se){return null}}])&&ki(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),R}();ir.Eventable=Ga;var mo={};Object.defineProperty(mo,"__esModule",{value:!0}),mo.createInteractStatic=function(R){var G=function oe(se,Ie){var Ne=R.interactables.getExisting(se,Ie);return Ne||((Ne=R.interactables.new(se,Ie)).events.global=oe.globalEvents),Ne};return G.getPointerAverage=pe.pointerAverage,G.getTouchBBox=pe.touchBBox,G.getTouchDistance=pe.touchDistance,G.getTouchAngle=pe.touchAngle,G.getElementRect=T.getElementRect,G.getElementClientRect=T.getElementClientRect,G.matchesSelector=T.matchesSelector,G.closest=T.closest,G.globalEvents={},G.version="1.10.23",G.scope=R,G.use=function(oe,se){return this.scope.usePlugin(oe,se),this},G.isSet=function(oe,se){return!!this.scope.interactables.get(oe,se&&se.context)},G.on=(0,ur.warnOnce)(function(oe,se,Ie){if(_.default.string(oe)&&oe.search(" ")!==-1&&(oe=oe.trim().split(/ +/)),_.default.array(oe)){for(var Ne=0;Ne<oe.length;Ne++){var Ye=oe[Ne];this.on(Ye,se,Ie)}return this}if(_.default.object(oe)){for(var Te in oe)this.on(Te,oe[Te],se);return this}return(0,pt.default)(oe,this.scope.actions)?this.globalEvents[oe]?this.globalEvents[oe].push(se):this.globalEvents[oe]=[se]:this.scope.events.add(this.scope.document,oe,se,{options:Ie}),this},"The interact.on() method is being deprecated"),G.off=(0,ur.warnOnce)(function(oe,se,Ie){if(_.default.string(oe)&&oe.search(" ")!==-1&&(oe=oe.trim().split(/ +/)),_.default.array(oe)){for(var Ne=0;Ne<oe.length;Ne++){var Ye=oe[Ne];this.off(Ye,se,Ie)}return this}if(_.default.object(oe)){for(var Te in oe)this.off(Te,oe[Te],se);return this}var Je;return(0,pt.default)(oe,this.scope.actions)?oe in this.globalEvents&&(Je=this.globalEvents[oe].indexOf(se))!==-1&&this.globalEvents[oe].splice(Je,1):this.scope.events.remove(this.scope.document,oe,se,Ie),this},"The interact.off() method is being deprecated"),G.debug=function(){return this.scope},G.supportsTouch=function(){return $.default.supportsTouch},G.supportsPointerEvent=function(){return $.default.supportsPointerEvent},G.stop=function(){for(var oe=0;oe<this.scope.interactions.list.length;oe++)this.scope.interactions.list[oe].stop();return this},G.pointerMoveTolerance=function(oe){return _.default.number(oe)?(this.scope.interactions.pointerMoveTolerance=oe,this):this.scope.interactions.pointerMoveTolerance},G.addDocument=function(oe,se){this.scope.addDocument(oe,se)},G.removeDocument=function(oe){this.scope.removeDocument(oe)},G};var In,Zi={};function Ri(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function ii(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.Interactable=void 0,function(R){R[R.On=0]="On",R[R.Off=1]="Off"}(In||(In={}));var ci=function(){function R(se,Ie,Ne,Ye){(function(Te,Je){if(!(Te instanceof Je))throw new TypeError("Cannot call a class as a function")})(this,R),ii(this,"options",void 0),ii(this,"_actions",void 0),ii(this,"target",void 0),ii(this,"events",new ir.Eventable),ii(this,"_context",void 0),ii(this,"_win",void 0),ii(this,"_doc",void 0),ii(this,"_scopeEvents",void 0),this._actions=Ie.actions,this.target=se,this._context=Ie.context||Ne,this._win=(0,f.getWindow)((0,T.trySelector)(se)?this._context:se),this._doc=this._win.document,this._scopeEvents=Ye,this.set(Ie)}var G,oe;return G=R,(oe=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(se,Ie){return _.default.func(Ie.onstart)&&this.on("".concat(se,"start"),Ie.onstart),_.default.func(Ie.onmove)&&this.on("".concat(se,"move"),Ie.onmove),_.default.func(Ie.onend)&&this.on("".concat(se,"end"),Ie.onend),_.default.func(Ie.oninertiastart)&&this.on("".concat(se,"inertiastart"),Ie.oninertiastart),this}},{key:"updatePerActionListeners",value:function(se,Ie,Ne){var Ye,Te=this,Je=(Ye=this._actions.map[se])==null?void 0:Ye.filterEventType,mt=function(vt){return(Je==null||Je(vt))&&(0,pt.default)(vt,Te._actions)};(_.default.array(Ie)||_.default.object(Ie))&&this._onOff(In.Off,se,Ie,void 0,mt),(_.default.array(Ne)||_.default.object(Ne))&&this._onOff(In.On,se,Ne,void 0,mt)}},{key:"setPerAction",value:function(se,Ie){var Ne=this._defaults;for(var Ye in Ie){var Te=Ye,Je=this.options[se],mt=Ie[Te];Te==="listeners"&&this.updatePerActionListeners(se,Je.listeners,mt),_.default.array(mt)?Je[Te]=le.from(mt):_.default.plainObject(mt)?(Je[Te]=(0,x.default)(Je[Te]||{},(0,it.default)(mt)),_.default.object(Ne.perAction[Te])&&"enabled"in Ne.perAction[Te]&&(Je[Te].enabled=mt.enabled!==!1)):_.default.bool(mt)&&_.default.object(Ne.perAction[Te])?Je[Te].enabled=mt:Je[Te]=mt}}},{key:"getRect",value:function(se){return se=se||(_.default.element(this.target)?this.target:null),_.default.string(this.target)&&(se=se||this._context.querySelector(this.target)),(0,T.getElementRect)(se)}},{key:"rectChecker",value:function(se){var Ie=this;return _.default.func(se)?(this.getRect=function(Ne){var Ye=(0,x.default)({},se.apply(Ie,Ne));return"width"in Ye||(Ye.width=Ye.right-Ye.left,Ye.height=Ye.bottom-Ye.top),Ye},this):se===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(se,Ie){if((0,T.trySelector)(Ie)||_.default.object(Ie)){for(var Ne in this.options[se]=Ie,this._actions.map)this.options[Ne][se]=Ie;return this}return this.options[se]}},{key:"origin",value:function(se){return this._backCompatOption("origin",se)}},{key:"deltaSource",value:function(se){return se==="page"||se==="client"?(this.options.deltaSource=se,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var se=this.target;return _.default.string(se)?Array.from(this._context.querySelectorAll(se)):_.default.func(se)&&se.getAllElements?se.getAllElements():_.default.element(se)?[se]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(se){return this._context===se.ownerDocument||(0,T.nodeContains)(this._context,se)}},{key:"testIgnoreAllow",value:function(se,Ie,Ne){return!this.testIgnore(se.ignoreFrom,Ie,Ne)&&this.testAllow(se.allowFrom,Ie,Ne)}},{key:"testAllow",value:function(se,Ie,Ne){return!se||!!_.default.element(Ne)&&(_.default.string(se)?(0,T.matchesUpTo)(Ne,se,Ie):!!_.default.element(se)&&(0,T.nodeContains)(se,Ne))}},{key:"testIgnore",value:function(se,Ie,Ne){return!(!se||!_.default.element(Ne))&&(_.default.string(se)?(0,T.matchesUpTo)(Ne,se,Ie):!!_.default.element(se)&&(0,T.nodeContains)(se,Ne))}},{key:"fire",value:function(se){return this.events.fire(se),this}},{key:"_onOff",value:function(se,Ie,Ne,Ye,Te){_.default.object(Ie)&&!_.default.array(Ie)&&(Ye=Ne,Ne=null);var Je=(0,ce.default)(Ie,Ne,Te);for(var mt in Je){mt==="wheel"&&(mt=$.default.wheelEvent);for(var vt=0;vt<Je[mt].length;vt++){var Mt=Je[mt][vt];(0,pt.default)(mt,this._actions)?this.events[se===In.On?"on":"off"](mt,Mt):_.default.string(this.target)?this._scopeEvents[se===In.On?"addDelegate":"removeDelegate"](this.target,this._context,mt,Mt,Ye):this._scopeEvents[se===In.On?"add":"remove"](this.target,mt,Mt,Ye)}}return this}},{key:"on",value:function(se,Ie,Ne){return this._onOff(In.On,se,Ie,Ne)}},{key:"off",value:function(se,Ie,Ne){return this._onOff(In.Off,se,Ie,Ne)}},{key:"set",value:function(se){var Ie=this._defaults;for(var Ne in _.default.object(se)||(se={}),this.options=(0,it.default)(Ie.base),this._actions.methodDict){var Ye=Ne,Te=this._actions.methodDict[Ye];this.options[Ye]={},this.setPerAction(Ye,(0,x.default)((0,x.default)({},Ie.perAction),Ie.actions[Ye])),this[Te](se[Ye])}for(var Je in se)Je!=="getRect"?_.default.func(this[Je])&&this[Je](se[Je]):this.rectChecker(se.getRect);return this}},{key:"unset",value:function(){if(_.default.string(this.target))for(var se in this._scopeEvents.delegatedEvents)for(var Ie=this._scopeEvents.delegatedEvents[se],Ne=Ie.length-1;Ne>=0;Ne--){var Ye=Ie[Ne],Te=Ye.selector,Je=Ye.context,mt=Ye.listeners;Te===this.target&&Je===this._context&&Ie.splice(Ne,1);for(var vt=mt.length-1;vt>=0;vt--)this._scopeEvents.removeDelegate(this.target,this._context,se,mt[vt][0],mt[vt][1])}else this._scopeEvents.remove(this.target,"all")}}])&&Ri(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),R}();Zi.Interactable=ci;var xo={};function kn(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function Ii(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(xo,"__esModule",{value:!0}),xo.InteractableSet=void 0;var Ha=function(){function R(se){var Ie=this;(function(Ne,Ye){if(!(Ne instanceof Ye))throw new TypeError("Cannot call a class as a function")})(this,R),Ii(this,"list",[]),Ii(this,"selectorMap",{}),Ii(this,"scope",void 0),this.scope=se,se.addListeners({"interactable:unset":function(Ne){var Ye=Ne.interactable,Te=Ye.target,Je=_.default.string(Te)?Ie.selectorMap[Te]:Te[Ie.scope.id],mt=le.findIndex(Je,function(vt){return vt===Ye});Je.splice(mt,1)}})}var G,oe;return G=R,(oe=[{key:"new",value:function(se,Ie){Ie=(0,x.default)(Ie||{},{actions:this.scope.actions});var Ne=new this.scope.Interactable(se,Ie,this.scope.document,this.scope.events);return this.scope.addDocument(Ne._doc),this.list.push(Ne),_.default.string(se)?(this.selectorMap[se]||(this.selectorMap[se]=[]),this.selectorMap[se].push(Ne)):(Ne.target[this.scope.id]||Object.defineProperty(se,this.scope.id,{value:[],configurable:!0}),se[this.scope.id].push(Ne)),this.scope.fire("interactable:new",{target:se,options:Ie,interactable:Ne,win:this.scope._win}),Ne}},{key:"getExisting",value:function(se,Ie){var Ne=Ie&&Ie.context||this.scope.document,Ye=_.default.string(se),Te=Ye?this.selectorMap[se]:se[this.scope.id];if(Te)return le.find(Te,function(Je){return Je._context===Ne&&(Ye||Je.inContext(se))})}},{key:"forEachMatch",value:function(se,Ie){for(var Ne=0;Ne<this.list.length;Ne++){var Ye=this.list[Ne],Te=void 0;if((_.default.string(Ye.target)?_.default.element(se)&&T.matchesSelector(se,Ye.target):se===Ye.target)&&Ye.inContext(se)&&(Te=Ie(Ye)),Te!==void 0)return Te}}}])&&kn(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),R}();xo.InteractableSet=Ha;var xr={};function na(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function mn(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}function ia(R,G){(G==null||G>R.length)&&(G=R.length);for(var oe=0,se=Array(G);oe<G;oe++)se[oe]=R[oe];return se}Object.defineProperty(xr,"__esModule",{value:!0}),xr.default=void 0;var qa=function(){function R(se){(function(Ie,Ne){if(!(Ie instanceof Ne))throw new TypeError("Cannot call a class as a function")})(this,R),mn(this,"currentTarget",void 0),mn(this,"originalEvent",void 0),mn(this,"type",void 0),this.originalEvent=se,(0,De.default)(this,se)}var G,oe;return G=R,(oe=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&na(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),R}();function oi(R){return _.default.object(R)?{capture:!!R.capture,passive:!!R.passive}:{capture:!!R,passive:!1}}function _i(R,G){return R===G||(typeof R=="boolean"?!!G.capture===R&&!!G.passive==0:!!R.capture==!!G.capture&&!!R.passive==!!G.passive)}var Uo={id:"events",install:function(R){var G,oe=[],se={},Ie=[],Ne={add:Ye,remove:Te,addDelegate:function(vt,Mt,Xt,er,jt){var dr=oi(jt);if(!se[Xt]){se[Xt]=[];for(var kr=0;kr<Ie.length;kr++){var Cr=Ie[kr];Ye(Cr,Xt,Je),Ye(Cr,Xt,mt,!0)}}var Ur=se[Xt],jr=le.find(Ur,function(cn){return cn.selector===vt&&cn.context===Mt});jr||(jr={selector:vt,context:Mt,listeners:[]},Ur.push(jr)),jr.listeners.push({func:er,options:dr})},removeDelegate:function(vt,Mt,Xt,er,jt){var dr,kr=oi(jt),Cr=se[Xt],Ur=!1;if(Cr)for(dr=Cr.length-1;dr>=0;dr--){var jr=Cr[dr];if(jr.selector===vt&&jr.context===Mt){for(var cn=jr.listeners,pn=cn.length-1;pn>=0;pn--){var Qn=cn[pn];if(Qn.func===er&&_i(Qn.options,kr)){cn.splice(pn,1),cn.length||(Cr.splice(dr,1),Te(Mt,Xt,Je),Te(Mt,Xt,mt,!0)),Ur=!0;break}}if(Ur)break}}},delegateListener:Je,delegateUseCapture:mt,delegatedEvents:se,documents:Ie,targets:oe,supportsOptions:!1,supportsPassive:!1};function Ye(vt,Mt,Xt,er){if(vt.addEventListener){var jt=oi(er),dr=le.find(oe,function(kr){return kr.eventTarget===vt});dr||(dr={eventTarget:vt,events:{}},oe.push(dr)),dr.events[Mt]||(dr.events[Mt]=[]),le.find(dr.events[Mt],function(kr){return kr.func===Xt&&_i(kr.options,jt)})||(vt.addEventListener(Mt,Xt,Ne.supportsOptions?jt:jt.capture),dr.events[Mt].push({func:Xt,options:jt}))}}function Te(vt,Mt,Xt,er){if(vt.addEventListener&&vt.removeEventListener){var jt=le.findIndex(oe,function(En){return En.eventTarget===vt}),dr=oe[jt];if(dr&&dr.events)if(Mt!=="all"){var kr=!1,Cr=dr.events[Mt];if(Cr){if(Xt==="all"){for(var Ur=Cr.length-1;Ur>=0;Ur--){var jr=Cr[Ur];Te(vt,Mt,jr.func,jr.options)}return}for(var cn=oi(er),pn=0;pn<Cr.length;pn++){var Qn=Cr[pn];if(Qn.func===Xt&&_i(Qn.options,cn)){vt.removeEventListener(Mt,Xt,Ne.supportsOptions?cn:cn.capture),Cr.splice(pn,1),Cr.length===0&&(delete dr.events[Mt],kr=!0);break}}}kr&&!Object.keys(dr.events).length&&oe.splice(jt,1)}else for(Mt in dr.events)dr.events.hasOwnProperty(Mt)&&Te(vt,Mt,"all")}}function Je(vt,Mt){for(var Xt=oi(Mt),er=new qa(vt),jt=se[vt.type],dr=function(On,Ji){return function(Xn){if(Array.isArray(Xn))return Xn}(On)||function(Xn,Yi){var fi=Xn==null?null:typeof Symbol<"u"&&Xn[Symbol.iterator]||Xn["@@iterator"];if(fi!=null){var us,bi,Ls=[],ls=!0,ma=!1;try{for(fi=fi.call(Xn);!(ls=(us=fi.next()).done)&&(Ls.push(us.value),!Yi||Ls.length!==Yi);ls=!0);}catch(iA){ma=!0,bi=iA}finally{try{ls||fi.return==null||fi.return()}finally{if(ma)throw bi}}return Ls}}(On,Ji)||function(Xn,Yi){if(Xn){if(typeof Xn=="string")return ia(Xn,Yi);var fi=Object.prototype.toString.call(Xn).slice(8,-1);return fi==="Object"&&Xn.constructor&&(fi=Xn.constructor.name),fi==="Map"||fi==="Set"?Array.from(Xn):fi==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fi)?ia(Xn,Yi):void 0}}(On,Ji)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(pe.getEventTargets(vt),1)[0],kr=dr;_.default.element(kr);){for(var Cr=0;Cr<jt.length;Cr++){var Ur=jt[Cr],jr=Ur.selector,cn=Ur.context;if(T.matchesSelector(kr,jr)&&T.nodeContains(cn,dr)&&T.nodeContains(cn,kr)){var pn=Ur.listeners;er.currentTarget=kr;for(var Qn=0;Qn<pn.length;Qn++){var En=pn[Qn];_i(En.options,Xt)&&En.func(er)}}}kr=T.parentNode(kr)}}function mt(vt){return Je(vt,!0)}return(G=R.document)==null||G.createElement("div").addEventListener("test",null,{get capture(){return Ne.supportsOptions=!0},get passive(){return Ne.supportsPassive=!0}}),R.events=Ne,Ne}};xr.default=Uo;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.default=void 0;var Pi={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(R){for(var G=0;G<Pi.methodOrder.length;G++){var oe;oe=Pi.methodOrder[G];var se=Pi[oe](R);if(se)return se}return null},simulationResume:function(R){var G=R.pointerType,oe=R.eventType,se=R.eventTarget,Ie=R.scope;if(!/down|start/i.test(oe))return null;for(var Ne=0;Ne<Ie.interactions.list.length;Ne++){var Ye=Ie.interactions.list[Ne],Te=se;if(Ye.simulation&&Ye.simulation.allowResume&&Ye.pointerType===G)for(;Te;){if(Te===Ye.element)return Ye;Te=T.parentNode(Te)}}return null},mouseOrPen:function(R){var G,oe=R.pointerId,se=R.pointerType,Ie=R.eventType,Ne=R.scope;if(se!=="mouse"&&se!=="pen")return null;for(var Ye=0;Ye<Ne.interactions.list.length;Ye++){var Te=Ne.interactions.list[Ye];if(Te.pointerType===se){if(Te.simulation&&!ar(Te,oe))continue;if(Te.interacting())return Te;G||(G=Te)}}if(G)return G;for(var Je=0;Je<Ne.interactions.list.length;Je++){var mt=Ne.interactions.list[Je];if(!(mt.pointerType!==se||/down/i.test(Ie)&&mt.simulation))return mt}return null},hasPointer:function(R){for(var G=R.pointerId,oe=R.scope,se=0;se<oe.interactions.list.length;se++){var Ie=oe.interactions.list[se];if(ar(Ie,G))return Ie}return null},idle:function(R){for(var G=R.pointerType,oe=R.scope,se=0;se<oe.interactions.list.length;se++){var Ie=oe.interactions.list[se];if(Ie.pointers.length===1){var Ne=Ie.interactable;if(Ne&&(!Ne.options.gesture||!Ne.options.gesture.enabled))continue}else if(Ie.pointers.length>=2)continue;if(!Ie.interacting()&&G===Ie.pointerType)return Ie}return null}};function ar(R,G){return R.pointers.some(function(oe){return oe.id===G})}var oa=Pi;Hi.default=oa;var Eo={};function Ss(R){return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},Ss(R)}function Vn(R,G){return function(oe){if(Array.isArray(oe))return oe}(R)||function(oe,se){var Ie=oe==null?null:typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(Ie!=null){var Ne,Ye,Te=[],Je=!0,mt=!1;try{for(Ie=Ie.call(oe);!(Je=(Ne=Ie.next()).done)&&(Te.push(Ne.value),!se||Te.length!==se);Je=!0);}catch(vt){mt=!0,Ye=vt}finally{try{Je||Ie.return==null||Ie.return()}finally{if(mt)throw Ye}}return Te}}(R,G)||function(oe,se){if(oe){if(typeof oe=="string")return $o(oe,se);var Ie=Object.prototype.toString.call(oe).slice(8,-1);return Ie==="Object"&&oe.constructor&&(Ie=oe.constructor.name),Ie==="Map"||Ie==="Set"?Array.from(oe):Ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ie)?$o(oe,se):void 0}}(R,G)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $o(R,G){(G==null||G>R.length)&&(G=R.length);for(var oe=0,se=Array(G);oe<G;oe++)se[oe]=R[oe];return se}function sa(R,G){if(!(R instanceof G))throw new TypeError("Cannot call a class as a function")}function aa(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function Nn(R,G){return Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,se){return oe.__proto__=se,oe},Nn(R,G)}function Aa(R,G){if(G&&(Ss(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}(R)}function zn(R){return zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},zn(R)}Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.default=void 0;var C=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function P(R,G){return function(oe){var se=G.interactions.list,Ie=pe.getPointerType(oe),Ne=Vn(pe.getEventTargets(oe),2),Ye=Ne[0],Te=Ne[1],Je=[];if(/^touch/.test(oe.type)){G.prevTouchTime=G.now();for(var mt=0;mt<oe.changedTouches.length;mt++){var vt=oe.changedTouches[mt],Mt={pointer:vt,pointerId:pe.getPointerId(vt),pointerType:Ie,eventType:oe.type,eventTarget:Ye,curEventTarget:Te,scope:G},Xt=re(Mt);Je.push([Mt.pointer,Mt.eventTarget,Mt.curEventTarget,Xt])}}else{var er=!1;if(!$.default.supportsPointerEvent&&/mouse/.test(oe.type)){for(var jt=0;jt<se.length&&!er;jt++)er=se[jt].pointerType!=="mouse"&&se[jt].pointerIsDown;er=er||G.now()-G.prevTouchTime<500||oe.timeStamp===0}if(!er){var dr={pointer:oe,pointerId:pe.getPointerId(oe),pointerType:Ie,eventType:oe.type,curEventTarget:Te,eventTarget:Ye,scope:G},kr=re(dr);Je.push([dr.pointer,dr.eventTarget,dr.curEventTarget,kr])}}for(var Cr=0;Cr<Je.length;Cr++){var Ur=Vn(Je[Cr],4),jr=Ur[0],cn=Ur[1],pn=Ur[2];Ur[3][R](jr,oe,cn,pn)}}}function re(R){var G=R.pointerType,oe=R.scope,se={interaction:Hi.default.search(R),searchDetails:R};return oe.fire("interactions:find",se),se.interaction||oe.interactions.new({pointerType:G})}function ye(R,G){var oe=R.doc,se=R.scope,Ie=R.options,Ne=se.interactions.docEvents,Ye=se.events,Te=Ye[G];for(var Je in se.browser.isIOS&&!Ie.events&&(Ie.events={passive:!1}),Ye.delegatedEvents)Te(oe,Je,Ye.delegateListener),Te(oe,Je,Ye.delegateUseCapture,!0);for(var mt=Ie&&Ie.events,vt=0;vt<Ne.length;vt++){var Mt=Ne[vt];Te(oe,Mt.type,Mt.listener,mt)}}var we={id:"core/interactions",install:function(R){for(var G={},oe=0;oe<C.length;oe++){var se=C[oe];G[se]=P(se,R)}var Ie,Ne=$.default.pEventTypes;function Ye(){for(var Te=0;Te<R.interactions.list.length;Te++){var Je=R.interactions.list[Te];if(Je.pointerIsDown&&Je.pointerType==="touch"&&!Je._interacting)for(var mt=function(){var Mt=Je.pointers[vt];R.documents.some(function(Xt){var er=Xt.doc;return(0,T.nodeContains)(er,Mt.downTarget)})||Je.removePointer(Mt.pointer,Mt.event)},vt=0;vt<Je.pointers.length;vt++)mt()}}(Ie=te.default.PointerEvent?[{type:Ne.down,listener:Ye},{type:Ne.down,listener:G.pointerDown},{type:Ne.move,listener:G.pointerMove},{type:Ne.up,listener:G.pointerUp},{type:Ne.cancel,listener:G.pointerUp}]:[{type:"mousedown",listener:G.pointerDown},{type:"mousemove",listener:G.pointerMove},{type:"mouseup",listener:G.pointerUp},{type:"touchstart",listener:Ye},{type:"touchstart",listener:G.pointerDown},{type:"touchmove",listener:G.pointerMove},{type:"touchend",listener:G.pointerUp},{type:"touchcancel",listener:G.pointerUp}]).push({type:"blur",listener:function(Te){for(var Je=0;Je<R.interactions.list.length;Je++)R.interactions.list[Je].documentBlur(Te)}}),R.prevTouchTime=0,R.Interaction=function(Te){(function(jt,dr){if(typeof dr!="function"&&dr!==null)throw new TypeError("Super expression must either be null or a function");jt.prototype=Object.create(dr&&dr.prototype,{constructor:{value:jt,writable:!0,configurable:!0}}),Object.defineProperty(jt,"prototype",{writable:!1}),dr&&Nn(jt,dr)})(er,Te);var Je,mt,vt,Mt,Xt=(vt=er,Mt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var jt,dr=zn(vt);if(Mt){var kr=zn(this).constructor;jt=Reflect.construct(dr,arguments,kr)}else jt=dr.apply(this,arguments);return Aa(this,jt)});function er(){return sa(this,er),Xt.apply(this,arguments)}return Je=er,(mt=[{key:"pointerMoveTolerance",get:function(){return R.interactions.pointerMoveTolerance},set:function(jt){R.interactions.pointerMoveTolerance=jt}},{key:"_now",value:function(){return R.now()}}])&&aa(Je.prototype,mt),Object.defineProperty(Je,"prototype",{writable:!1}),er}(hi.default),R.interactions={list:[],new:function(Te){Te.scopeFire=function(mt,vt){return R.fire(mt,vt)};var Je=new R.Interaction(Te);return R.interactions.list.push(Je),Je},listeners:G,docEvents:Ie,pointerMoveTolerance:1},R.usePlugin(me.default)},listeners:{"scope:add-document":function(R){return ye(R,"add")},"scope:remove-document":function(R){return ye(R,"remove")},"interactable:unset":function(R,G){for(var oe=R.interactable,se=G.interactions.list.length-1;se>=0;se--){var Ie=G.interactions.list[se];Ie.interactable===oe&&(Ie.stop(),G.fire("interactions:destroy",{interaction:Ie}),Ie.destroy(),G.interactions.list.length>2&&G.interactions.list.splice(se,1))}}},onDocSignal:ye,doOnInteractions:P,methodNames:C},Le=we;Eo.default=Le;var at={};function Qt(R){return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},Qt(R)}function Rt(){return Rt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(R,G,oe){var se=Jt(R,G);if(se){var Ie=Object.getOwnPropertyDescriptor(se,G);return Ie.get?Ie.get.call(arguments.length<3?R:oe):Ie.value}},Rt.apply(this,arguments)}function Jt(R,G){for(;!Object.prototype.hasOwnProperty.call(R,G)&&(R=rn(R))!==null;);return R}function qt(R,G){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,se){return oe.__proto__=se,oe},qt(R,G)}function Wt(R,G){if(G&&(Qt(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}(R)}function rn(R){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},rn(R)}function Yr(R,G){if(!(R instanceof G))throw new TypeError("Cannot call a class as a function")}function an(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function Er(R,G,oe){return G&&an(R.prototype,G),oe&&an(R,oe),Object.defineProperty(R,"prototype",{writable:!1}),R}function zr(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(at,"__esModule",{value:!0}),at.Scope=void 0,at.initScope=nn;var Tn=function(){function R(){var G=this;Yr(this,R),zr(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),zr(this,"isInitialized",!1),zr(this,"listenerMaps",[]),zr(this,"browser",$.default),zr(this,"defaults",(0,it.default)(Bn.defaults)),zr(this,"Eventable",ir.Eventable),zr(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),zr(this,"interactStatic",(0,mo.createInteractStatic)(this)),zr(this,"InteractEvent",jn.InteractEvent),zr(this,"Interactable",void 0),zr(this,"interactables",new xo.InteractableSet(this)),zr(this,"_win",void 0),zr(this,"document",void 0),zr(this,"window",void 0),zr(this,"documents",[]),zr(this,"_plugins",{list:[],map:{}}),zr(this,"onWindowUnload",function(se){return G.removeDocument(se.target)});var oe=this;this.Interactable=function(se){(function(Je,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(mt&&mt.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),Object.defineProperty(Je,"prototype",{writable:!1}),mt&&qt(Je,mt)})(Te,se);var Ie,Ne,Ye=(Ie=Te,Ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Je,mt=rn(Ie);if(Ne){var vt=rn(this).constructor;Je=Reflect.construct(mt,arguments,vt)}else Je=mt.apply(this,arguments);return Wt(this,Je)});function Te(){return Yr(this,Te),Ye.apply(this,arguments)}return Er(Te,[{key:"_defaults",get:function(){return oe.defaults}},{key:"set",value:function(Je){return Rt(rn(Te.prototype),"set",this).call(this,Je),oe.fire("interactable:set",{options:Je,interactable:this}),this}},{key:"unset",value:function(){Rt(rn(Te.prototype),"unset",this).call(this);var Je=oe.interactables.list.indexOf(this);Je<0||(oe.interactables.list.splice(Je,1),oe.fire("interactable:unset",{interactable:this}))}}]),Te}(Zi.Interactable)}return Er(R,[{key:"addListeners",value:function(G,oe){this.listenerMaps.push({id:oe,map:G})}},{key:"fire",value:function(G,oe){for(var se=0;se<this.listenerMaps.length;se++){var Ie=this.listenerMaps[se].map[G];if(Ie&&Ie(oe,this,G)===!1)return!1}}},{key:"init",value:function(G){return this.isInitialized?this:nn(this,G)}},{key:"pluginIsInstalled",value:function(G){var oe=G.id;return oe?!!this._plugins.map[oe]:this._plugins.list.indexOf(G)!==-1}},{key:"usePlugin",value:function(G,oe){if(!this.isInitialized)return this;if(this.pluginIsInstalled(G))return this;if(G.id&&(this._plugins.map[G.id]=G),this._plugins.list.push(G),G.install&&G.install(this,oe),G.listeners&&G.before){for(var se=0,Ie=this.listenerMaps.length,Ne=G.before.reduce(function(Te,Je){return Te[Je]=!0,Te[qn(Je)]=!0,Te},{});se<Ie;se++){var Ye=this.listenerMaps[se].id;if(Ye&&(Ne[Ye]||Ne[qn(Ye)]))break}this.listenerMaps.splice(se,0,{id:G.id,map:G.listeners})}else G.listeners&&this.listenerMaps.push({id:G.id,map:G.listeners});return this}},{key:"addDocument",value:function(G,oe){if(this.getDocIndex(G)!==-1)return!1;var se=f.getWindow(G);oe=oe?(0,x.default)({},oe):{},this.documents.push({doc:G,options:oe}),this.events.documents.push(G),G!==this.document&&this.events.add(se,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:G,window:se,scope:this,options:oe})}},{key:"removeDocument",value:function(G){var oe=this.getDocIndex(G),se=f.getWindow(G),Ie=this.documents[oe].options;this.events.remove(se,"unload",this.onWindowUnload),this.documents.splice(oe,1),this.events.documents.splice(oe,1),this.fire("scope:remove-document",{doc:G,window:se,scope:this,options:Ie})}},{key:"getDocIndex",value:function(G){for(var oe=0;oe<this.documents.length;oe++)if(this.documents[oe].doc===G)return oe;return-1}},{key:"getDocOptions",value:function(G){var oe=this.getDocIndex(G);return oe===-1?null:this.documents[oe].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),R}();function nn(R,G){return R.isInitialized=!0,_.default.window(G)&&f.init(G),te.default.init(G),$.default.init(G),Nr.default.init(G),R.window=G,R.document=G.document,R.usePlugin(Eo.default),R.usePlugin(xr.default),R}function qn(R){return R&&R.replace(/\/.*$/,"")}at.Scope=Tn;var _n={};Object.defineProperty(_n,"__esModule",{value:!0}),_n.default=void 0;var Wn=new at.Scope,Ln=Wn.interactStatic;_n.default=Ln;var Si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;Wn.init(Si);var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.default=void 0,Xi.default=function(){};var ca={};Object.defineProperty(ca,"__esModule",{value:!0}),ca.default=void 0,ca.default=function(){};var ua={};function PA(R,G){return function(oe){if(Array.isArray(oe))return oe}(R)||function(oe,se){var Ie=oe==null?null:typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(Ie!=null){var Ne,Ye,Te=[],Je=!0,mt=!1;try{for(Ie=Ie.call(oe);!(Je=(Ne=Ie.next()).done)&&(Te.push(Ne.value),!se||Te.length!==se);Je=!0);}catch(vt){mt=!0,Ye=vt}finally{try{Je||Ie.return==null||Ie.return()}finally{if(mt)throw Ye}}return Te}}(R,G)||function(oe,se){if(oe){if(typeof oe=="string")return Ja(oe,se);var Ie=Object.prototype.toString.call(oe).slice(8,-1);return Ie==="Object"&&oe.constructor&&(Ie=oe.constructor.name),Ie==="Map"||Ie==="Set"?Array.from(oe):Ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ie)?Ja(oe,se):void 0}}(R,G)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ja(R,G){(G==null||G>R.length)&&(G=R.length);for(var oe=0,se=Array(G);oe<G;oe++)se[oe]=R[oe];return se}Object.defineProperty(ua,"__esModule",{value:!0}),ua.default=void 0,ua.default=function(R){var G=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(se){var Ie=PA(se,2),Ne=Ie[0],Ye=Ie[1];return Ne in R||Ye in R}),oe=function(se,Ie){for(var Ne=R.range,Ye=R.limits,Te=Ye===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:Ye,Je=R.offset,mt=Je===void 0?{x:0,y:0}:Je,vt={range:Ne,grid:R,x:null,y:null},Mt=0;Mt<G.length;Mt++){var Xt=PA(G[Mt],2),er=Xt[0],jt=Xt[1],dr=Math.round((se-mt.x)/R[er]),kr=Math.round((Ie-mt.y)/R[jt]);vt[er]=Math.max(Te.left,Math.min(Te.right,dr*R[er]+mt.x)),vt[jt]=Math.max(Te.top,Math.min(Te.bottom,kr*R[jt]+mt.y))}return vt};return oe.grid=R,oe.coordFields=G,oe};var es={};Object.defineProperty(es,"__esModule",{value:!0}),Object.defineProperty(es,"edgeTarget",{enumerable:!0,get:function(){return Xi.default}}),Object.defineProperty(es,"elements",{enumerable:!0,get:function(){return ca.default}}),Object.defineProperty(es,"grid",{enumerable:!0,get:function(){return ua.default}});var bs={};Object.defineProperty(bs,"__esModule",{value:!0}),bs.default=void 0;var Lc={id:"snappers",install:function(R){var G=R.interactStatic;G.snappers=(0,x.default)(G.snappers||{},es),G.createSnapGrid=G.snappers.grid}},Oc=Lc;bs.default=Oc;var ts={};function FA(R,G){var oe=Object.keys(R);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(R);G&&(se=se.filter(function(Ie){return Object.getOwnPropertyDescriptor(R,Ie).enumerable})),oe.push.apply(oe,se)}return oe}function Ya(R){for(var G=1;G<arguments.length;G++){var oe=arguments[G]!=null?arguments[G]:{};G%2?FA(Object(oe),!0).forEach(function(se){Pc(R,se,oe[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(oe)):FA(Object(oe)).forEach(function(se){Object.defineProperty(R,se,Object.getOwnPropertyDescriptor(oe,se))})}return R}function Pc(R,G,oe){return G in R?Object.defineProperty(R,G,{value:oe,enumerable:!0,configurable:!0,writable:!0}):R[G]=oe,R}Object.defineProperty(ts,"__esModule",{value:!0}),ts.default=ts.aspectRatio=void 0;var xA={start:function(R){var G=R.state,oe=R.rect,se=R.edges,Ie=R.pageCoords,Ne=G.options,Ye=Ne.ratio,Te=Ne.enabled,Je=G.options,mt=Je.equalDelta,vt=Je.modifiers;Ye==="preserve"&&(Ye=oe.width/oe.height),G.startCoords=(0,x.default)({},Ie),G.startRect=(0,x.default)({},oe),G.ratio=Ye,G.equalDelta=mt;var Mt=G.linkedEdges={top:se.top||se.left&&!se.bottom,left:se.left||se.top&&!se.right,bottom:se.bottom||se.right&&!se.top,right:se.right||se.bottom&&!se.left};if(G.xIsPrimaryAxis=!(!se.left&&!se.right),G.equalDelta){var Xt=(Mt.left?1:-1)*(Mt.top?1:-1);G.edgeSign={x:Xt,y:Xt}}else G.edgeSign={x:Mt.left?-1:1,y:Mt.top?-1:1};if(Te!==!1&&(0,x.default)(se,Mt),vt!=null&&vt.length){var er=new ht.default(R.interaction);er.copyFrom(R.interaction.modification),er.prepareStates(vt),G.subModification=er,er.startAll(Ya({},R))}},set:function(R){var G=R.state,oe=R.rect,se=R.coords,Ie=G.linkedEdges,Ne=(0,x.default)({},se),Ye=G.equalDelta?Fc:xc;if((0,x.default)(R.edges,Ie),Ye(G,G.xIsPrimaryAxis,se,oe),!G.subModification)return null;var Te=(0,x.default)({},oe);(0,X.addEdges)(Ie,Te,{x:se.x-Ne.x,y:se.y-Ne.y});var Je=G.subModification.setAll(Ya(Ya({},R),{},{rect:Te,edges:Ie,pageCoords:se,prevCoords:se,prevRect:Te})),mt=Je.delta;return Je.changed&&(Ye(G,Math.abs(mt.x)>Math.abs(mt.y),Je.coords,Je.rect),(0,x.default)(se,Je.coords)),Je.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Fc(R,G,oe){var se=R.startCoords,Ie=R.edgeSign;G?oe.y=se.y+(oe.x-se.x)*Ie.y:oe.x=se.x+(oe.y-se.y)*Ie.x}function xc(R,G,oe,se){var Ie=R.startRect,Ne=R.startCoords,Ye=R.ratio,Te=R.edgeSign;if(G){var Je=se.width/Ye;oe.y=Ne.y+(Je-Ie.height)*Te.y}else{var mt=se.height*Ye;oe.x=Ne.x+(mt-Ie.width)*Te.x}}ts.aspectRatio=xA;var UA=(0,Wr.makeModifier)(xA,"aspectRatio");ts.default=UA;var $i={};Object.defineProperty($i,"__esModule",{value:!0}),$i.default=void 0;var GA=function(){};GA._defaults={};var Uc=GA;$i.default=Uc;var za={};Object.defineProperty(za,"__esModule",{value:!0}),Object.defineProperty(za,"default",{enumerable:!0,get:function(){return $i.default}});var mi={};function Ka(R,G,oe){return _.default.func(R)?X.resolveRectLike(R,G.interactable,G.element,[oe.x,oe.y,G]):X.resolveRectLike(R,G.interactable,G.element)}Object.defineProperty(mi,"__esModule",{value:!0}),mi.default=void 0,mi.getRestrictionRect=Ka,mi.restrict=void 0;var HA={start:function(R){var G=R.rect,oe=R.startOffset,se=R.state,Ie=R.interaction,Ne=R.pageCoords,Ye=se.options,Te=Ye.elementRect,Je=(0,x.default)({left:0,top:0,right:0,bottom:0},Ye.offset||{});if(G&&Te){var mt=Ka(Ye.restriction,Ie,Ne);if(mt){var vt=mt.right-mt.left-G.width,Mt=mt.bottom-mt.top-G.height;vt<0&&(Je.left+=vt,Je.right+=vt),Mt<0&&(Je.top+=Mt,Je.bottom+=Mt)}Je.left+=oe.left-G.width*Te.left,Je.top+=oe.top-G.height*Te.top,Je.right+=oe.right-G.width*(1-Te.right),Je.bottom+=oe.bottom-G.height*(1-Te.bottom)}se.offset=Je},set:function(R){var G=R.coords,oe=R.interaction,se=R.state,Ie=se.options,Ne=se.offset,Ye=Ka(Ie.restriction,oe,G);if(Ye){var Te=X.xywhToTlbr(Ye);G.x=Math.max(Math.min(Te.right-Ne.right,G.x),Te.left+Ne.left),G.y=Math.max(Math.min(Te.bottom-Ne.bottom,G.y),Te.top+Ne.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};mi.restrict=HA;var la=(0,Wr.makeModifier)(HA,"restrict");mi.default=la;var eo={};Object.defineProperty(eo,"__esModule",{value:!0}),eo.restrictEdges=eo.default=void 0;var qA={top:1/0,left:1/0,bottom:-1/0,right:-1/0},JA={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function YA(R,G){for(var oe=["top","left","bottom","right"],se=0;se<oe.length;se++){var Ie=oe[se];Ie in R||(R[Ie]=G[Ie])}return R}var ga={noInner:qA,noOuter:JA,start:function(R){var G,oe=R.interaction,se=R.startOffset,Ie=R.state,Ne=Ie.options;if(Ne){var Ye=(0,mi.getRestrictionRect)(Ne.offset,oe,oe.coords.start.page);G=X.rectToXY(Ye)}G=G||{x:0,y:0},Ie.offset={top:G.y+se.top,left:G.x+se.left,bottom:G.y-se.bottom,right:G.x-se.right}},set:function(R){var G=R.coords,oe=R.edges,se=R.interaction,Ie=R.state,Ne=Ie.offset,Ye=Ie.options;if(oe){var Te=(0,x.default)({},G),Je=(0,mi.getRestrictionRect)(Ye.inner,se,Te)||{},mt=(0,mi.getRestrictionRect)(Ye.outer,se,Te)||{};YA(Je,qA),YA(mt,JA),oe.top?G.y=Math.min(Math.max(mt.top+Ne.top,Te.y),Je.top+Ne.top):oe.bottom&&(G.y=Math.max(Math.min(mt.bottom+Ne.bottom,Te.y),Je.bottom+Ne.bottom)),oe.left?G.x=Math.min(Math.max(mt.left+Ne.left,Te.x),Je.left+Ne.left):oe.right&&(G.x=Math.max(Math.min(mt.right+Ne.right,Te.x),Je.right+Ne.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};eo.restrictEdges=ga;var Gc=(0,Wr.makeModifier)(ga,"restrictEdges");eo.default=Gc;var rs={};Object.defineProperty(rs,"__esModule",{value:!0}),rs.restrictRect=rs.default=void 0;var Hc=(0,x.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(R){}},mi.restrict.defaults),zA={start:mi.restrict.start,set:mi.restrict.set,defaults:Hc};rs.restrictRect=zA;var qc=(0,Wr.makeModifier)(zA,"restrictRect");rs.default=qc;var ns={};Object.defineProperty(ns,"__esModule",{value:!0}),ns.restrictSize=ns.default=void 0;var Jc={width:-1/0,height:-1/0},Yc={width:1/0,height:1/0},KA={start:function(R){return eo.restrictEdges.start(R)},set:function(R){var G=R.interaction,oe=R.state,se=R.rect,Ie=R.edges,Ne=oe.options;if(Ie){var Ye=X.tlbrToXywh((0,mi.getRestrictionRect)(Ne.min,G,R.coords))||Jc,Te=X.tlbrToXywh((0,mi.getRestrictionRect)(Ne.max,G,R.coords))||Yc;oe.options={endOnly:Ne.endOnly,inner:(0,x.default)({},eo.restrictEdges.noInner),outer:(0,x.default)({},eo.restrictEdges.noOuter)},Ie.top?(oe.options.inner.top=se.bottom-Ye.height,oe.options.outer.top=se.bottom-Te.height):Ie.bottom&&(oe.options.inner.bottom=se.top+Ye.height,oe.options.outer.bottom=se.top+Te.height),Ie.left?(oe.options.inner.left=se.right-Ye.width,oe.options.outer.left=se.right-Te.width):Ie.right&&(oe.options.inner.right=se.left+Ye.width,oe.options.outer.right=se.left+Te.width),eo.restrictEdges.set(R),oe.options=Ne}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};ns.restrictSize=KA;var ja=(0,Wr.makeModifier)(KA,"restrictSize");ns.default=ja;var Va={};Object.defineProperty(Va,"__esModule",{value:!0}),Object.defineProperty(Va,"default",{enumerable:!0,get:function(){return $i.default}});var yo={};Object.defineProperty(yo,"__esModule",{value:!0}),yo.snap=yo.default=void 0;var jA={start:function(R){var G,oe=R.interaction,se=R.interactable,Ie=R.element,Ne=R.rect,Ye=R.state,Te=R.startOffset,Je=Ye.options,mt=Je.offsetWithOrigin?function(Xt){var er=Xt.interaction.element;return(0,X.rectToXY)((0,X.resolveRectLike)(Xt.state.options.origin,null,null,[er]))||(0,ae.default)(Xt.interactable,er,Xt.interaction.prepared.name)}(R):{x:0,y:0};if(Je.offset==="startCoords")G={x:oe.coords.start.page.x,y:oe.coords.start.page.y};else{var vt=(0,X.resolveRectLike)(Je.offset,se,Ie,[oe]);(G=(0,X.rectToXY)(vt)||{x:0,y:0}).x+=mt.x,G.y+=mt.y}var Mt=Je.relativePoints;Ye.offsets=Ne&&Mt&&Mt.length?Mt.map(function(Xt,er){return{index:er,relativePoint:Xt,x:Te.left-Ne.width*Xt.x+G.x,y:Te.top-Ne.height*Xt.y+G.y}}):[{index:0,relativePoint:null,x:G.x,y:G.y}]},set:function(R){var G=R.interaction,oe=R.coords,se=R.state,Ie=se.options,Ne=se.offsets,Ye=(0,ae.default)(G.interactable,G.element,G.prepared.name),Te=(0,x.default)({},oe),Je=[];Ie.offsetWithOrigin||(Te.x-=Ye.x,Te.y-=Ye.y);for(var mt=0;mt<Ne.length;mt++)for(var vt=Ne[mt],Mt=Te.x-vt.x,Xt=Te.y-vt.y,er=0,jt=Ie.targets.length;er<jt;er++){var dr,kr=Ie.targets[er];(dr=_.default.func(kr)?kr(Mt,Xt,G._proxy,vt,er):kr)&&Je.push({x:(_.default.number(dr.x)?dr.x:Mt)+vt.x,y:(_.default.number(dr.y)?dr.y:Xt)+vt.y,range:_.default.number(dr.range)?dr.range:Ie.range,source:kr,index:er,offset:vt})}for(var Cr={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Ur=0;Ur<Je.length;Ur++){var jr=Je[Ur],cn=jr.range,pn=jr.x-Te.x,Qn=jr.y-Te.y,En=(0,Qe.default)(pn,Qn),On=En<=cn;cn===1/0&&Cr.inRange&&Cr.range!==1/0&&(On=!1),Cr.target&&!(On?Cr.inRange&&cn!==1/0?En/cn<Cr.distance/Cr.range:cn===1/0&&Cr.range!==1/0||En<Cr.distance:!Cr.inRange&&En<Cr.distance)||(Cr.target=jr,Cr.distance=En,Cr.range=cn,Cr.inRange=On,Cr.delta.x=pn,Cr.delta.y=Qn)}return Cr.inRange&&(oe.x=Cr.target.x,oe.y=Cr.target.y),se.closest=Cr,Cr},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};yo.snap=jA;var zc=(0,Wr.makeModifier)(jA,"snap");yo.default=zc;var ao={};function VA(R,G){(G==null||G>R.length)&&(G=R.length);for(var oe=0,se=Array(G);oe<G;oe++)se[oe]=R[oe];return se}Object.defineProperty(ao,"__esModule",{value:!0}),ao.snapSize=ao.default=void 0;var qi={start:function(R){var G=R.state,oe=R.edges,se=G.options;if(!oe)return null;R.state={options:{targets:null,relativePoints:[{x:oe.left?0:1,y:oe.top?0:1}],offset:se.offset||"self",origin:{x:0,y:0},range:se.range}},G.targetFields=G.targetFields||[["width","height"],["x","y"]],yo.snap.start(R),G.offsets=R.state.offsets,R.state=G},set:function(R){var G,oe,se=R.interaction,Ie=R.state,Ne=R.coords,Ye=Ie.options,Te=Ie.offsets,Je={x:Ne.x-Te[0].x,y:Ne.y-Te[0].y};Ie.options=(0,x.default)({},Ye),Ie.options.targets=[];for(var mt=0;mt<(Ye.targets||[]).length;mt++){var vt=(Ye.targets||[])[mt],Mt=void 0;if(Mt=_.default.func(vt)?vt(Je.x,Je.y,se):vt){for(var Xt=0;Xt<Ie.targetFields.length;Xt++){var er=(G=Ie.targetFields[Xt],oe=2,function(Cr){if(Array.isArray(Cr))return Cr}(G)||function(Cr,Ur){var jr=Cr==null?null:typeof Symbol<"u"&&Cr[Symbol.iterator]||Cr["@@iterator"];if(jr!=null){var cn,pn,Qn=[],En=!0,On=!1;try{for(jr=jr.call(Cr);!(En=(cn=jr.next()).done)&&(Qn.push(cn.value),!Ur||Qn.length!==Ur);En=!0);}catch(Ji){On=!0,pn=Ji}finally{try{En||jr.return==null||jr.return()}finally{if(On)throw pn}}return Qn}}(G,oe)||function(Cr,Ur){if(Cr){if(typeof Cr=="string")return VA(Cr,Ur);var jr=Object.prototype.toString.call(Cr).slice(8,-1);return jr==="Object"&&Cr.constructor&&(jr=Cr.constructor.name),jr==="Map"||jr==="Set"?Array.from(Cr):jr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(jr)?VA(Cr,Ur):void 0}}(G,oe)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),jt=er[0],dr=er[1];if(jt in Mt||dr in Mt){Mt.x=Mt[jt],Mt.y=Mt[dr];break}}Ie.options.targets.push(Mt)}}var kr=yo.snap.set(R);return Ie.options=Ye,kr},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};ao.snapSize=qi;var Kc=(0,Wr.makeModifier)(qi,"snapSize");ao.default=Kc;var is={};Object.defineProperty(is,"__esModule",{value:!0}),is.snapEdges=is.default=void 0;var WA={start:function(R){var G=R.edges;return G?(R.state.targetFields=R.state.targetFields||[[G.left?"left":"right",G.top?"top":"bottom"]],ao.snapSize.start(R)):null},set:ao.snapSize.set,defaults:(0,x.default)((0,it.default)(ao.snapSize.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})};is.snapEdges=WA;var ZA=(0,Wr.makeModifier)(WA,"snapEdges");is.default=ZA;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0}),Object.defineProperty(Ei,"default",{enumerable:!0,get:function(){return $i.default}});var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0}),Object.defineProperty(Wa,"default",{enumerable:!0,get:function(){return $i.default}});var os={};Object.defineProperty(os,"__esModule",{value:!0}),os.default=void 0;var Za={aspectRatio:ts.default,restrictEdges:eo.default,restrict:mi.default,restrictRect:rs.default,restrictSize:ns.default,snapEdges:is.default,snap:yo.default,snapSize:ao.default,spring:Ei.default,avoid:za.default,transform:Wa.default,rubberband:Va.default};os.default=Za;var da={};Object.defineProperty(da,"__esModule",{value:!0}),da.default=void 0;var XA={id:"modifiers",install:function(R){var G=R.interactStatic;for(var oe in R.usePlugin(Wr.default),R.usePlugin(bs.default),G.modifiers=os.default,os.default){var se=os.default[oe],Ie=se._defaults,Ne=se._methods;Ie._methods=Ne,R.defaults.perAction[oe]=Ie}}},Xa=XA;da.default=Xa;var Go={};function $a(R){return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},$a(R)}function jc(R,G){for(var oe=0;oe<G.length;oe++){var se=G[oe];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(R,se.key,se)}}function eA(R,G){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,se){return oe.__proto__=se,oe},eA(R,G)}function Vc(R,G){if(G&&($a(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tA(R)}function tA(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function ha(R){return ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},ha(R)}Object.defineProperty(Go,"__esModule",{value:!0}),Go.default=Go.PointerEvent=void 0;var Ao=function(R){(function(Te,Je){if(typeof Je!="function"&&Je!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(Je&&Je.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),Je&&eA(Te,Je)})(Ye,R);var G,oe,se,Ie,Ne=(se=Ye,Ie=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Te,Je=ha(se);if(Ie){var mt=ha(this).constructor;Te=Reflect.construct(Je,arguments,mt)}else Te=Je.apply(this,arguments);return Vc(this,Te)});function Ye(Te,Je,mt,vt,Mt,Xt){var er;if(function(kr,Cr){if(!(kr instanceof Cr))throw new TypeError("Cannot call a class as a function")}(this,Ye),er=Ne.call(this,Mt),pe.pointerExtend(tA(er),mt),mt!==Je&&pe.pointerExtend(tA(er),Je),er.timeStamp=Xt,er.originalEvent=mt,er.type=Te,er.pointerId=pe.getPointerId(Je),er.pointerType=pe.getPointerType(Je),er.target=vt,er.currentTarget=null,Te==="tap"){var jt=Mt.getPointerIndex(Je);er.dt=er.timeStamp-Mt.pointers[jt].downTime;var dr=er.timeStamp-Mt.tapTime;er.double=!!Mt.prevTap&&Mt.prevTap.type!=="doubletap"&&Mt.prevTap.target===er.target&&dr<500}else Te==="doubletap"&&(er.dt=Je.timeStamp-Mt.tapTime,er.double=!0);return er}return G=Ye,(oe=[{key:"_subtractOrigin",value:function(Te){var Je=Te.x,mt=Te.y;return this.pageX-=Je,this.pageY-=mt,this.clientX-=Je,this.clientY-=mt,this}},{key:"_addOrigin",value:function(Te){var Je=Te.x,mt=Te.y;return this.pageX+=Je,this.pageY+=mt,this.clientX+=Je,this.clientY+=mt,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&jc(G.prototype,oe),Object.defineProperty(G,"prototype",{writable:!1}),Ye}(fe.BaseEvent);Go.PointerEvent=Go.default=Ao;var ss={};Object.defineProperty(ss,"__esModule",{value:!0}),ss.default=void 0;var Ho={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(R){R.pointerEvents=Ho,R.defaults.actions.pointerEvents=Ho.defaults,(0,x.default)(R.actions.phaselessTypes,Ho.types)},listeners:{"interactions:new":function(R){var G=R.interaction;G.prevTap=null,G.tapTime=0},"interactions:update-pointer":function(R){var G=R.down,oe=R.pointerInfo;!G&&oe.hold||(oe.hold={duration:1/0,timeout:null})},"interactions:move":function(R,G){var oe=R.interaction,se=R.pointer,Ie=R.event,Ne=R.eventTarget;R.duplicate||oe.pointerIsDown&&!oe.pointerWasMoved||(oe.pointerIsDown&&ks(R),Bo({interaction:oe,pointer:se,event:Ie,eventTarget:Ne,type:"move"},G))},"interactions:down":function(R,G){(function(oe,se){for(var Ie=oe.interaction,Ne=oe.pointer,Ye=oe.event,Te=oe.eventTarget,Je=oe.pointerIndex,mt=Ie.pointers[Je].hold,vt=T.getPath(Te),Mt={interaction:Ie,pointer:Ne,event:Ye,eventTarget:Te,type:"hold",targets:[],path:vt,node:null},Xt=0;Xt<vt.length;Xt++){var er=vt[Xt];Mt.node=er,se.fire("pointerEvents:collect-targets",Mt)}if(Mt.targets.length){for(var jt=1/0,dr=0;dr<Mt.targets.length;dr++){var kr=Mt.targets[dr].eventable.options.holdDuration;kr<jt&&(jt=kr)}mt.duration=jt,mt.timeout=setTimeout(function(){Bo({interaction:Ie,eventTarget:Te,pointer:Ne,event:Ye,type:"hold"},se)},jt)}})(R,G),Bo(R,G)},"interactions:up":function(R,G){ks(R),Bo(R,G),function(oe,se){var Ie=oe.interaction,Ne=oe.pointer,Ye=oe.event,Te=oe.eventTarget;Ie.pointerWasMoved||Bo({interaction:Ie,eventTarget:Te,pointer:Ne,event:Ye,type:"tap"},se)}(R,G)},"interactions:cancel":function(R,G){ks(R),Bo(R,G)}},PointerEvent:Go.PointerEvent,fire:Bo,collectEventTargets:Ds,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Bo(R,G){var oe=R.interaction,se=R.pointer,Ie=R.event,Ne=R.eventTarget,Ye=R.type,Te=R.targets,Je=Te===void 0?Ds(R,G):Te,mt=new Go.PointerEvent(Ye,se,Ie,Ne,oe,G.now());G.fire("pointerEvents:new",{pointerEvent:mt});for(var vt={interaction:oe,pointer:se,event:Ie,eventTarget:Ne,targets:Je,type:Ye,pointerEvent:mt},Mt=0;Mt<Je.length;Mt++){var Xt=Je[Mt];for(var er in Xt.props||{})mt[er]=Xt.props[er];var jt=(0,ae.default)(Xt.eventable,Xt.node);if(mt._subtractOrigin(jt),mt.eventable=Xt.eventable,mt.currentTarget=Xt.node,Xt.eventable.fire(mt),mt._addOrigin(jt),mt.immediatePropagationStopped||mt.propagationStopped&&Mt+1<Je.length&&Je[Mt+1].node!==mt.currentTarget)break}if(G.fire("pointerEvents:fired",vt),Ye==="tap"){var dr=mt.double?Bo({interaction:oe,pointer:se,event:Ie,eventTarget:Ne,type:"doubletap"},G):mt;oe.prevTap=dr,oe.tapTime=dr.timeStamp}return mt}function Ds(R,G){var oe=R.interaction,se=R.pointer,Ie=R.event,Ne=R.eventTarget,Ye=R.type,Te=oe.getPointerIndex(se),Je=oe.pointers[Te];if(Ye==="tap"&&(oe.pointerWasMoved||!Je||Je.downTarget!==Ne))return[];for(var mt=T.getPath(Ne),vt={interaction:oe,pointer:se,event:Ie,eventTarget:Ne,type:Ye,path:mt,targets:[],node:null},Mt=0;Mt<mt.length;Mt++){var Xt=mt[Mt];vt.node=Xt,G.fire("pointerEvents:collect-targets",vt)}return Ye==="hold"&&(vt.targets=vt.targets.filter(function(er){var jt,dr;return er.eventable.options.holdDuration===((jt=oe.pointers[Te])==null||(dr=jt.hold)==null?void 0:dr.duration)})),vt.targets}function ks(R){var G=R.interaction,oe=R.pointerIndex,se=G.pointers[oe].hold;se&&se.timeout&&(clearTimeout(se.timeout),se.timeout=null)}var $A=Ho;ss.default=$A;var Rs={};function pa(R){var G=R.interaction;G.holdIntervalHandle&&(clearInterval(G.holdIntervalHandle),G.holdIntervalHandle=null)}Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.default=void 0;var rA={id:"pointer-events/holdRepeat",install:function(R){R.usePlugin(ss.default);var G=R.pointerEvents;G.defaults.holdRepeatInterval=0,G.types.holdrepeat=R.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(R,G){return R["pointerEvents:".concat(G)]=pa,R},{"pointerEvents:new":function(R){var G=R.pointerEvent;G.type==="hold"&&(G.count=(G.count||0)+1)},"pointerEvents:fired":function(R,G){var oe=R.interaction,se=R.pointerEvent,Ie=R.eventTarget,Ne=R.targets;if(se.type==="hold"&&Ne.length){var Ye=Ne[0].eventable.options.holdRepeatInterval;Ye<=0||(oe.holdIntervalHandle=setTimeout(function(){G.pointerEvents.fire({interaction:oe,eventTarget:Ie,type:"hold",pointer:se,event:se},G)},Ye))}}})},ec=rA;Rs.default=ec;var Ns={};function Ts(R){return(0,x.default)(this.events.options,R),this}Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.default=void 0;var vo={id:"pointer-events/interactableTargets",install:function(R){var G=R.Interactable;G.prototype.pointerEvents=Ts;var oe=G.prototype._backCompatOption;G.prototype._backCompatOption=function(se,Ie){var Ne=oe.call(this,se,Ie);return Ne===this&&(this.events.options[se]=Ie),Ne}},listeners:{"pointerEvents:collect-targets":function(R,G){var oe=R.targets,se=R.node,Ie=R.type,Ne=R.eventTarget;G.interactables.forEachMatch(se,function(Ye){var Te=Ye.events,Je=Te.options;Te.types[Ie]&&Te.types[Ie].length&&Ye.testIgnoreAllow(Je,se,Ne)&&oe.push({node:se,eventable:Te,props:{interactable:Ye}})})},"interactable:new":function(R){var G=R.interactable;G.events.getRect=function(oe){return G.getRect(oe)}},"interactable:set":function(R,G){var oe=R.interactable,se=R.options;(0,x.default)(oe.events.options,G.pointerEvents.defaults),(0,x.default)(oe.events.options,se.pointerEvents||{})}}},nA=vo;Ns.default=nA;var qo={};Object.defineProperty(qo,"__esModule",{value:!0}),qo.default=void 0;var gi={id:"pointer-events",install:function(R){R.usePlugin(ss),R.usePlugin(Rs.default),R.usePlugin(Ns.default)}},fa=gi;qo.default=fa;var as={};function As(R){var G=R.Interactable;R.actions.phases.reflow=!0,G.prototype.reflow=function(oe){return function(se,Ie,Ne){for(var Ye=se.getAllElements(),Te=Ne.window.Promise,Je=Te?[]:null,mt=function(){var Mt=Ye[vt],Xt=se.getRect(Mt);if(!Xt)return"break";var er=le.find(Ne.interactions.list,function(Ur){return Ur.interacting()&&Ur.interactable===se&&Ur.element===Mt&&Ur.prepared.name===Ie.name}),jt=void 0;if(er)er.move(),Je&&(jt=er._reflowPromise||new Te(function(Ur){er._reflowResolve=Ur}));else{var dr=(0,X.tlbrToXywh)(Xt),kr={page:{x:dr.x,y:dr.y},client:{x:dr.x,y:dr.y},timeStamp:Ne.now()},Cr=pe.coordsToEvent(kr);jt=function(Ur,jr,cn,pn,Qn){var En=Ur.interactions.new({pointerType:"reflow"}),On={interaction:En,event:Qn,pointer:Qn,eventTarget:cn,phase:"reflow"};En.interactable=jr,En.element=cn,En.prevEvent=Qn,En.updatePointer(Qn,Qn,cn,!0),pe.setZeroCoords(En.coords.delta),(0,ur.copyAction)(En.prepared,pn),En._doPhase(On);var Ji=Ur.window.Promise,Xn=Ji?new Ji(function(Yi){En._reflowResolve=Yi}):void 0;return En._reflowPromise=Xn,En.start(pn,jr,cn),En._interacting?(En.move(On),En.end(Qn)):(En.stop(),En._reflowResolve()),En.removePointer(Qn,Qn),Xn}(Ne,se,Mt,Ie,Cr)}Je&&Je.push(jt)},vt=0;vt<Ye.length&&mt()!=="break";vt++);return Je&&Te.all(Je).then(function(){return se})}(this,oe,R)}}Object.defineProperty(as,"__esModule",{value:!0}),as.default=void 0,as.install=As;var Ca={id:"reflow",install:As,listeners:{"interactions:stop":function(R,G){var oe=R.interaction;oe.pointerType==="reflow"&&(oe._reflowResolve&&oe._reflowResolve(),le.remove(G.interactions.list,oe))}}},Ia=Ca;as.default=Ia;var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.default=void 0,_n.default.use(me.default),_n.default.use(Kn.default),_n.default.use(qo.default),_n.default.use(Wi.default),_n.default.use(da.default),_n.default.use(cr.default),_n.default.use(Kt.default),_n.default.use(_r.default),_n.default.use(as.default);var Jn=_n.default;Qo.default=Jn,_n.default.default=_n.default;var Zn={exports:{}};function cs(R){return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},cs(R)}Object.defineProperty(Zn.exports,"__esModule",{value:!0}),Zn.exports.default=void 0;var Ms=Qo.default;if(Zn.exports.default=Ms,cs(Zn)==="object"&&Zn)try{Zn.exports=Qo.default}catch{}return Qo.default.default=Qo.default,Zn.exports})})(interact_min);var interact_minExports=interact_min.exports;const interact=getDefaultExportFromCjs(interact_minExports);var ZegoExpressWebRTC={exports:{}},ZegoExpressWebRTM={exports:{}},indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=a;function a(c,h){for(var f=new Array(arguments.length-1),B=0,v=2,D=!0;v<arguments.length;)f[B++]=arguments[v++];return new Promise(function(m,I){f[B]=function(p){if(D)if(D=!1,p)I(p);else{for(var u=new Array(arguments.length-1),y=0;y<u.length;)u[y++]=arguments[y];m.apply(null,u)}};try{c.apply(h||null,f)}catch(Q){D&&(D=!1,I(Q))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(a){var c=a;c.length=function(_){var m=_.length;if(!m)return 0;for(var I=0;--m%4>1&&_.charAt(m)==="=";)++I;return Math.ceil(_.length*3)/4-I};for(var h=new Array(64),f=new Array(123),B=0;B<64;)f[h[B]=B<26?B+65:B<52?B+71:B<62?B-4:B-59|43]=B++;c.encode=function(_,m,I){for(var Q=null,p=[],u=0,y=0,N;m<I;){var U=_[m++];switch(y){case 0:p[u++]=h[U>>2],N=(U&3)<<4,y=1;break;case 1:p[u++]=h[N|U>>4],N=(U&15)<<2,y=2;break;case 2:p[u++]=h[N|U>>6],p[u++]=h[U&63],y=0;break}u>8191&&((Q||(Q=[])).push(String.fromCharCode.apply(String,p)),u=0)}return y&&(p[u++]=h[N],p[u++]=61,y===1&&(p[u++]=61)),Q?(u&&Q.push(String.fromCharCode.apply(String,p.slice(0,u))),Q.join("")):String.fromCharCode.apply(String,p.slice(0,u))};var v="invalid encoding";c.decode=function(_,m,I){for(var Q=I,p=0,u,y=0;y<_.length;){var N=_.charCodeAt(y++);if(N===61&&p>1)break;if((N=f[N])===void 0)throw Error(v);switch(p){case 0:u=N,p=1;break;case 1:m[I++]=u<<2|(N&48)>>4,u=N,p=2;break;case 2:m[I++]=(u&15)<<4|(N&60)>>2,u=N,p=3;break;case 3:m[I++]=(u&3)<<6|N,p=0;break}}if(p===1)throw Error(v);return I-Q},c.test=function(_){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(_)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=a;function a(){this._listeners={}}return a.prototype.on=function(h,f,B){return(this._listeners[h]||(this._listeners[h]=[])).push({fn:f,ctx:B||this}),this},a.prototype.off=function(h,f){if(h===void 0)this._listeners={};else if(f===void 0)this._listeners[h]=[];else for(var B=this._listeners[h],v=0;v<B.length;)B[v].fn===f?B.splice(v,1):++v;return this},a.prototype.emit=function(h){var f=this._listeners[h];if(f){for(var B=[],v=1;v<arguments.length;)B.push(arguments[v++]);for(v=0;v<f.length;)f[v].fn.apply(f[v++].ctx,B)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=a(a);function a(v){return typeof Float32Array<"u"?function(){var D=new Float32Array([-0]),_=new Uint8Array(D.buffer),m=_[3]===128;function I(y,N,U){D[0]=y,N[U]=_[0],N[U+1]=_[1],N[U+2]=_[2],N[U+3]=_[3]}function Q(y,N,U){D[0]=y,N[U]=_[3],N[U+1]=_[2],N[U+2]=_[1],N[U+3]=_[0]}v.writeFloatLE=m?I:Q,v.writeFloatBE=m?Q:I;function p(y,N){return _[0]=y[N],_[1]=y[N+1],_[2]=y[N+2],_[3]=y[N+3],D[0]}function u(y,N){return _[3]=y[N],_[2]=y[N+1],_[1]=y[N+2],_[0]=y[N+3],D[0]}v.readFloatLE=m?p:u,v.readFloatBE=m?u:p}():function(){function D(m,I,Q,p){var u=I<0?1:0;if(u&&(I=-I),I===0)m(1/I>0?0:2147483648,Q,p);else if(isNaN(I))m(2143289344,Q,p);else if(I>34028234663852886e22)m((u<<31|2139095040)>>>0,Q,p);else if(I<11754943508222875e-54)m((u<<31|Math.round(I/1401298464324817e-60))>>>0,Q,p);else{var y=Math.floor(Math.log(I)/Math.LN2),N=Math.round(I*Math.pow(2,-y)*8388608)&8388607;m((u<<31|y+127<<23|N)>>>0,Q,p)}}v.writeFloatLE=D.bind(null,c),v.writeFloatBE=D.bind(null,h);function _(m,I,Q){var p=m(I,Q),u=(p>>31)*2+1,y=p>>>23&255,N=p&8388607;return y===255?N?NaN:u*(1/0):y===0?u*1401298464324817e-60*N:u*Math.pow(2,y-150)*(N+8388608)}v.readFloatLE=_.bind(null,f),v.readFloatBE=_.bind(null,B)}(),typeof Float64Array<"u"?function(){var D=new Float64Array([-0]),_=new Uint8Array(D.buffer),m=_[7]===128;function I(y,N,U){D[0]=y,N[U]=_[0],N[U+1]=_[1],N[U+2]=_[2],N[U+3]=_[3],N[U+4]=_[4],N[U+5]=_[5],N[U+6]=_[6],N[U+7]=_[7]}function Q(y,N,U){D[0]=y,N[U]=_[7],N[U+1]=_[6],N[U+2]=_[5],N[U+3]=_[4],N[U+4]=_[3],N[U+5]=_[2],N[U+6]=_[1],N[U+7]=_[0]}v.writeDoubleLE=m?I:Q,v.writeDoubleBE=m?Q:I;function p(y,N){return _[0]=y[N],_[1]=y[N+1],_[2]=y[N+2],_[3]=y[N+3],_[4]=y[N+4],_[5]=y[N+5],_[6]=y[N+6],_[7]=y[N+7],D[0]}function u(y,N){return _[7]=y[N],_[6]=y[N+1],_[5]=y[N+2],_[4]=y[N+3],_[3]=y[N+4],_[2]=y[N+5],_[1]=y[N+6],_[0]=y[N+7],D[0]}v.readDoubleLE=m?p:u,v.readDoubleBE=m?u:p}():function(){function D(m,I,Q,p,u,y){var N=p<0?1:0;if(N&&(p=-p),p===0)m(0,u,y+I),m(1/p>0?0:2147483648,u,y+Q);else if(isNaN(p))m(0,u,y+I),m(2146959360,u,y+Q);else if(p>17976931348623157e292)m(0,u,y+I),m((N<<31|2146435072)>>>0,u,y+Q);else{var U;if(p<22250738585072014e-324)U=p/5e-324,m(U>>>0,u,y+I),m((N<<31|U/4294967296)>>>0,u,y+Q);else{var q=Math.floor(Math.log(p)/Math.LN2);q===1024&&(q=1023),U=p*Math.pow(2,-q),m(U*4503599627370496>>>0,u,y+I),m((N<<31|q+1023<<20|U*1048576&1048575)>>>0,u,y+Q)}}}v.writeDoubleLE=D.bind(null,c,0,4),v.writeDoubleBE=D.bind(null,h,4,0);function _(m,I,Q,p,u){var y=m(p,u+I),N=m(p,u+Q),U=(N>>31)*2+1,q=N>>>20&2047,te=4294967296*(N&1048575)+y;return q===2047?te?NaN:U*(1/0):q===0?U*5e-324*te:U*Math.pow(2,q-1075)*(te+4503599627370496)}v.readDoubleLE=_.bind(null,f,0,4),v.readDoubleBE=_.bind(null,B,4,0)}(),v}function c(v,D,_){D[_]=v&255,D[_+1]=v>>>8&255,D[_+2]=v>>>16&255,D[_+3]=v>>>24}function h(v,D,_){D[_]=v>>>24,D[_+1]=v>>>16&255,D[_+2]=v>>>8&255,D[_+3]=v&255}function f(v,D){return(v[D]|v[D+1]<<8|v[D+2]<<16|v[D+3]<<24)>>>0}function B(v,D){return(v[D]<<24|v[D+1]<<16|v[D+2]<<8|v[D+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(a){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(a){var c=a;c.length=function(f){for(var B=0,v=0,D=0;D<f.length;++D)v=f.charCodeAt(D),v<128?B+=1:v<2048?B+=2:(v&64512)===55296&&(f.charCodeAt(D+1)&64512)===56320?(++D,B+=4):B+=3;return B},c.read=function(f,B,v){var D=v-B;if(D<1)return"";for(var _=null,m=[],I=0,Q;B<v;)Q=f[B++],Q<128?m[I++]=Q:Q>191&&Q<224?m[I++]=(Q&31)<<6|f[B++]&63:Q>239&&Q<365?(Q=((Q&7)<<18|(f[B++]&63)<<12|(f[B++]&63)<<6|f[B++]&63)-65536,m[I++]=55296+(Q>>10),m[I++]=56320+(Q&1023)):m[I++]=(Q&15)<<12|(f[B++]&63)<<6|f[B++]&63,I>8191&&((_||(_=[])).push(String.fromCharCode.apply(String,m)),I=0);return _?(I&&_.push(String.fromCharCode.apply(String,m.slice(0,I))),_.join("")):String.fromCharCode.apply(String,m.slice(0,I))},c.write=function(f,B,v){for(var D=v,_,m,I=0;I<f.length;++I)_=f.charCodeAt(I),_<128?B[v++]=_:_<2048?(B[v++]=_>>6|192,B[v++]=_&63|128):(_&64512)===55296&&((m=f.charCodeAt(I+1))&64512)===56320?(_=65536+((_&1023)<<10)+(m&1023),++I,B[v++]=_>>18|240,B[v++]=_>>12&63|128,B[v++]=_>>6&63|128,B[v++]=_&63|128):(B[v++]=_>>12|224,B[v++]=_>>6&63|128,B[v++]=_&63|128);return v-D}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=a;function a(c,h,f){var B=f||8192,v=B>>>1,D=null,_=B;return function(I){if(I<1||I>v)return c(I);_+I>B&&(D=c(B),_=0);var Q=h.call(D,_,_+=I);return _&7&&(_=(_|7)+1),Q}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=c;var a=requireMinimal$1();function c(v,D){this.lo=v>>>0,this.hi=D>>>0}var h=c.zero=new c(0,0);h.toNumber=function(){return 0},h.zzEncode=h.zzDecode=function(){return this},h.length=function(){return 1};var f=c.zeroHash="\0\0\0\0\0\0\0\0";c.fromNumber=function(D){if(D===0)return h;var _=D<0;_&&(D=-D);var m=D>>>0,I=(D-m)/4294967296>>>0;return _&&(I=~I>>>0,m=~m>>>0,++m>4294967295&&(m=0,++I>4294967295&&(I=0))),new c(m,I)},c.from=function(D){if(typeof D=="number")return c.fromNumber(D);if(a.isString(D))if(a.Long)D=a.Long.fromString(D);else return c.fromNumber(parseInt(D,10));return D.low||D.high?new c(D.low>>>0,D.high>>>0):h},c.prototype.toNumber=function(D){if(!D&&this.hi>>>31){var _=~this.lo+1>>>0,m=~this.hi>>>0;return _||(m=m+1>>>0),-(_+m*4294967296)}return this.lo+this.hi*4294967296},c.prototype.toLong=function(D){return a.Long?new a.Long(this.lo|0,this.hi|0,!!D):{low:this.lo|0,high:this.hi|0,unsigned:!!D}};var B=String.prototype.charCodeAt;return c.fromHash=function(D){return D===f?h:new c((B.call(D,0)|B.call(D,1)<<8|B.call(D,2)<<16|B.call(D,3)<<24)>>>0,(B.call(D,4)|B.call(D,5)<<8|B.call(D,6)<<16|B.call(D,7)<<24)>>>0)},c.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},c.prototype.zzEncode=function(){var D=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^D)>>>0,this.lo=(this.lo<<1^D)>>>0,this},c.prototype.zzDecode=function(){var D=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^D)>>>0,this.hi=(this.hi>>>1^D)>>>0,this},c.prototype.length=function(){var D=this.lo,_=(this.lo>>>28|this.hi<<4)>>>0,m=this.hi>>>24;return m===0?_===0?D<16384?D<128?1:2:D<2097152?3:4:_<16384?_<128?5:6:_<2097152?7:8:m<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(a){var c=a;c.asPromise=requireAspromise(),c.base64=requireBase64(),c.EventEmitter=requireEventemitter(),c.float=requireFloat(),c.inquire=requireInquire(),c.utf8=requireUtf8(),c.pool=requirePool(),c.LongBits=requireLongbits(),c.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),c.global=c.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,c.emptyArray=Object.freeze?Object.freeze([]):[],c.emptyObject=Object.freeze?Object.freeze({}):{},c.isInteger=Number.isInteger||function(v){return typeof v=="number"&&isFinite(v)&&Math.floor(v)===v},c.isString=function(v){return typeof v=="string"||v instanceof String},c.isObject=function(v){return v&&typeof v=="object"},c.isset=c.isSet=function(v,D){var _=v[D];return _!=null&&v.hasOwnProperty(D)?typeof _!="object"||(Array.isArray(_)?_.length:Object.keys(_).length)>0:!1},c.Buffer=function(){try{var B=c.inquire("buffer").Buffer;return B.prototype.utf8Write?B:null}catch{return null}}(),c._Buffer_from=null,c._Buffer_allocUnsafe=null,c.newBuffer=function(v){return typeof v=="number"?c.Buffer?c._Buffer_allocUnsafe(v):new c.Array(v):c.Buffer?c._Buffer_from(v):typeof Uint8Array>"u"?v:new Uint8Array(v)},c.Array=typeof Uint8Array<"u"?Uint8Array:Array,c.Long=c.global.dcodeIO&&c.global.dcodeIO.Long||c.global.Long||c.inquire("long"),c.key2Re=/^true|false|0|1$/,c.key32Re=/^-?(?:0|[1-9][0-9]*)$/,c.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,c.longToHash=function(v){return v?c.LongBits.from(v).toHash():c.LongBits.zeroHash},c.longFromHash=function(v,D){var _=c.LongBits.fromHash(v);return c.Long?c.Long.fromBits(_.lo,_.hi,D):_.toNumber(!!D)};function h(B,v,D){for(var _=Object.keys(v),m=0;m<_.length;++m)(B[_[m]]===void 0||!D)&&(B[_[m]]=v[_[m]]);return B}c.merge=h,c.lcFirst=function(v){return v.charAt(0).toLowerCase()+v.substring(1)};function f(B){function v(D,_){if(!(this instanceof v))return new v(D,_);Object.defineProperty(this,"message",{get:function(){return D}}),Error.captureStackTrace?Error.captureStackTrace(this,v):Object.defineProperty(this,"stack",{value:new Error().stack||""}),_&&h(this,_)}return(v.prototype=Object.create(Error.prototype)).constructor=v,Object.defineProperty(v.prototype,"name",{get:function(){return B}}),v.prototype.toString=function(){return this.name+": "+this.message},v}c.newError=f,c.ProtocolError=f("ProtocolError"),c.oneOfGetter=function(v){for(var D={},_=0;_<v.length;++_)D[v[_]]=1;return function(){for(var m=Object.keys(this),I=m.length-1;I>-1;--I)if(D[m[I]]===1&&this[m[I]]!==void 0&&this[m[I]]!==null)return m[I]}},c.oneOfSetter=function(v){return function(D){for(var _=0;_<v.length;++_)v[_]!==D&&delete this[v[_]]}},c.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},c._configure=function(){var B=c.Buffer;if(!B){c._Buffer_from=c._Buffer_allocUnsafe=null;return}c._Buffer_from=B.from!==Uint8Array.from&&B.from||function(D,_){return new B(D,_)},c._Buffer_allocUnsafe=B.allocUnsafe||function(D){return new B(D)}}}(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=m;var a=requireMinimal$1(),c,h=a.LongBits,f=a.base64,B=a.utf8;function v(q,te,F){this.fn=q,this.len=te,this.next=void 0,this.val=F}function D(){}function _(q){this.head=q.head,this.tail=q.tail,this.len=q.len,this.next=q.states}function m(){this.len=0,this.head=new v(D,0,0),this.tail=this.head,this.states=null}var I=function(){return a.Buffer?function(){return(m.create=function(){return new c})()}:function(){return new m}};m.create=I(),m.alloc=function(te){return new a.Array(te)},a.Array!==Array&&(m.alloc=a.pool(m.alloc,a.Array.prototype.subarray)),m.prototype._push=function(te,F,V){return this.tail=this.tail.next=new v(te,F,V),this.len+=F,this};function Q(q,te,F){te[F]=q&255}function p(q,te,F){for(;q>127;)te[F++]=q&127|128,q>>>=7;te[F]=q}function u(q,te){this.len=q,this.next=void 0,this.val=te}u.prototype=Object.create(v.prototype),u.prototype.fn=p,m.prototype.uint32=function(te){return this.len+=(this.tail=this.tail.next=new u((te=te>>>0)<128?1:te<16384?2:te<2097152?3:te<268435456?4:5,te)).len,this},m.prototype.int32=function(te){return te<0?this._push(y,10,h.fromNumber(te)):this.uint32(te)},m.prototype.sint32=function(te){return this.uint32((te<<1^te>>31)>>>0)};function y(q,te,F){for(;q.hi;)te[F++]=q.lo&127|128,q.lo=(q.lo>>>7|q.hi<<25)>>>0,q.hi>>>=7;for(;q.lo>127;)te[F++]=q.lo&127|128,q.lo=q.lo>>>7;te[F++]=q.lo}m.prototype.uint64=function(te){var F=h.from(te);return this._push(y,F.length(),F)},m.prototype.int64=m.prototype.uint64,m.prototype.sint64=function(te){var F=h.from(te).zzEncode();return this._push(y,F.length(),F)},m.prototype.bool=function(te){return this._push(Q,1,te?1:0)};function N(q,te,F){te[F]=q&255,te[F+1]=q>>>8&255,te[F+2]=q>>>16&255,te[F+3]=q>>>24}m.prototype.fixed32=function(te){return this._push(N,4,te>>>0)},m.prototype.sfixed32=m.prototype.fixed32,m.prototype.fixed64=function(te){var F=h.from(te);return this._push(N,4,F.lo)._push(N,4,F.hi)},m.prototype.sfixed64=m.prototype.fixed64,m.prototype.float=function(te){return this._push(a.float.writeFloatLE,4,te)},m.prototype.double=function(te){return this._push(a.float.writeDoubleLE,8,te)};var U=a.Array.prototype.set?function(te,F,V){F.set(te,V)}:function(te,F,V){for(var z=0;z<te.length;++z)F[V+z]=te[z]};return m.prototype.bytes=function(te){var F=te.length>>>0;if(!F)return this._push(Q,1,0);if(a.isString(te)){var V=m.alloc(F=f.length(te));f.decode(te,V,0),te=V}return this.uint32(F)._push(U,F,te)},m.prototype.string=function(te){var F=B.length(te);return F?this.uint32(F)._push(B.write,F,te):this._push(Q,1,0)},m.prototype.fork=function(){return this.states=new _(this),this.head=this.tail=new v(D,0,0),this.len=0,this},m.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new v(D,0,0),this.len=0),this},m.prototype.ldelim=function(){var te=this.head,F=this.tail,V=this.len;return this.reset().uint32(V),V&&(this.tail.next=te.next,this.tail=F,this.len+=V),this},m.prototype.finish=function(){for(var te=this.head.next,F=this.constructor.alloc(this.len),V=0;te;)te.fn(te.val,F,V),V+=te.len,te=te.next;return F},m._configure=function(q){c=q,m.create=I(),c._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=h;var a=requireWriter();(h.prototype=Object.create(a.prototype)).constructor=h;var c=requireMinimal$1();function h(){a.call(this)}h._configure=function(){h.alloc=c._Buffer_allocUnsafe,h.writeBytesBuffer=c.Buffer&&c.Buffer.prototype instanceof Uint8Array&&c.Buffer.prototype.set.name==="set"?function(v,D,_){D.set(v,_)}:function(v,D,_){if(v.copy)v.copy(D,_,0,v.length);else for(var m=0;m<v.length;)D[_++]=v[m++]}},h.prototype.bytes=function(v){c.isString(v)&&(v=c._Buffer_from(v,"base64"));var D=v.length>>>0;return this.uint32(D),D&&this._push(h.writeBytesBuffer,D,v),this};function f(B,v,D){B.length<40?c.utf8.write(B,v,D):v.utf8Write?v.utf8Write(B,D):v.write(B,D)}return h.prototype.string=function(v){var D=c.Buffer.byteLength(v);return this.uint32(D),D&&this._push(f,D,v),this},h._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=v;var a=requireMinimal$1(),c,h=a.LongBits,f=a.utf8;function B(p,u){return RangeError("index out of range: "+p.pos+" + "+(u||1)+" > "+p.len)}function v(p){this.buf=p,this.pos=0,this.len=p.length}var D=typeof Uint8Array<"u"?function(u){if(u instanceof Uint8Array||Array.isArray(u))return new v(u);throw Error("illegal buffer")}:function(u){if(Array.isArray(u))return new v(u);throw Error("illegal buffer")},_=function(){return a.Buffer?function(y){return(v.create=function(U){return a.Buffer.isBuffer(U)?new c(U):D(U)})(y)}:D};v.create=_(),v.prototype._slice=a.Array.prototype.subarray||a.Array.prototype.slice,v.prototype.uint32=function(){var u=4294967295;return function(){if(u=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(u=(u|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(u=(u|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(u=(u|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(u=(u|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return u;if((this.pos+=5)>this.len)throw this.pos=this.len,B(this,10);return u}}(),v.prototype.int32=function(){return this.uint32()|0},v.prototype.sint32=function(){var u=this.uint32();return u>>>1^-(u&1)|0};function m(){var p=new h(0,0),u=0;if(this.len-this.pos>4){for(;u<4;++u)if(p.lo=(p.lo|(this.buf[this.pos]&127)<<u*7)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(this.buf[this.pos]&127)<<28)>>>0,p.hi=(p.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return p;u=0}else{for(;u<3;++u){if(this.pos>=this.len)throw B(this);if(p.lo=(p.lo|(this.buf[this.pos]&127)<<u*7)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(this.buf[this.pos++]&127)<<u*7)>>>0,p}if(this.len-this.pos>4){for(;u<5;++u)if(p.hi=(p.hi|(this.buf[this.pos]&127)<<u*7+3)>>>0,this.buf[this.pos++]<128)return p}else for(;u<5;++u){if(this.pos>=this.len)throw B(this);if(p.hi=(p.hi|(this.buf[this.pos]&127)<<u*7+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}v.prototype.bool=function(){return this.uint32()!==0};function I(p,u){return(p[u-4]|p[u-3]<<8|p[u-2]<<16|p[u-1]<<24)>>>0}v.prototype.fixed32=function(){if(this.pos+4>this.len)throw B(this,4);return I(this.buf,this.pos+=4)},v.prototype.sfixed32=function(){if(this.pos+4>this.len)throw B(this,4);return I(this.buf,this.pos+=4)|0};function Q(){if(this.pos+8>this.len)throw B(this,8);return new h(I(this.buf,this.pos+=4),I(this.buf,this.pos+=4))}return v.prototype.float=function(){if(this.pos+4>this.len)throw B(this,4);var u=a.float.readFloatLE(this.buf,this.pos);return this.pos+=4,u},v.prototype.double=function(){if(this.pos+8>this.len)throw B(this,4);var u=a.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,u},v.prototype.bytes=function(){var u=this.uint32(),y=this.pos,N=this.pos+u;if(N>this.len)throw B(this,u);return this.pos+=u,Array.isArray(this.buf)?this.buf.slice(y,N):y===N?new this.buf.constructor(0):this._slice.call(this.buf,y,N)},v.prototype.string=function(){var u=this.bytes();return f.read(u,0,u.length)},v.prototype.skip=function(u){if(typeof u=="number"){if(this.pos+u>this.len)throw B(this,u);this.pos+=u}else do if(this.pos>=this.len)throw B(this);while(this.buf[this.pos++]&128);return this},v.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(p=this.uint32()&7)!==4;)this.skipType(p);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},v._configure=function(p){c=p,v.create=_(),c._configure();var u=a.Long?"toLong":"toNumber";a.merge(v.prototype,{int64:function(){return m.call(this)[u](!1)},uint64:function(){return m.call(this)[u](!0)},sint64:function(){return m.call(this).zzDecode()[u](!1)},fixed64:function(){return Q.call(this)[u](!0)},sfixed64:function(){return Q.call(this)[u](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=h;var a=requireReader();(h.prototype=Object.create(a.prototype)).constructor=h;var c=requireMinimal$1();function h(f){a.call(this,f)}return h._configure=function(){c.Buffer&&(h.prototype._slice=c.Buffer.prototype.slice)},h.prototype.string=function(){var B=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+B,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+B,this.len))},h._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=c;var a=requireMinimal$1();(c.prototype=Object.create(a.EventEmitter.prototype)).constructor=c;function c(h,f,B){if(typeof h!="function")throw TypeError("rpcImpl must be a function");a.EventEmitter.call(this),this.rpcImpl=h,this.requestDelimited=!!f,this.responseDelimited=!!B}return c.prototype.rpcCall=function h(f,B,v,D,_){if(!D)throw TypeError("request must be specified");var m=this;if(!_)return a.asPromise(h,m,f,B,v,D);if(!m.rpcImpl){setTimeout(function(){_(Error("already ended"))},0);return}try{return m.rpcImpl(f,B[m.requestDelimited?"encodeDelimited":"encode"](D).finish(),function(Q,p){if(Q)return m.emit("error",Q,f),_(Q);if(p===null){m.end(!0);return}if(!(p instanceof v))try{p=v[m.responseDelimited?"decodeDelimited":"decode"](p)}catch(u){return m.emit("error",u,f),_(u)}return m.emit("data",p,f),_(null,p)})}catch(I){m.emit("error",I,f),setTimeout(function(){_(I)},0);return}},c.prototype.end=function(f){return this.rpcImpl&&(f||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(a){var c=a;c.Service=requireService()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(a){var c=a;c.build="minimal",c.Writer=requireWriter(),c.BufferWriter=requireWriter_buffer(),c.Reader=requireReader(),c.BufferReader=requireReader_buffer(),c.util=requireMinimal$1(),c.rpc=requireRpc(),c.roots=requireRoots(),c.configure=h;function h(){c.util._configure(),c.Writer._configure(c.BufferWriter),c.Reader._configure(c.BufferReader)}h()}(indexMinimal)),indexMinimal}var minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var localforage={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var hasRequiredLocalforage;function requireLocalforage(){return hasRequiredLocalforage||(hasRequiredLocalforage=1,function(a,c){(function(h){a.exports=h()})(function(){return function h(f,B,v){function D(I,Q){if(!B[I]){if(!f[I]){var p=typeof commonjsRequire=="function"&&commonjsRequire;if(!Q&&p)return p(I,!0);if(_)return _(I,!0);var u=new Error("Cannot find module '"+I+"'");throw u.code="MODULE_NOT_FOUND",u}var y=B[I]={exports:{}};f[I][0].call(y.exports,function(N){var U=f[I][1][N];return D(U||N)},y,y.exports,h,f,B,v)}return B[I].exports}for(var _=typeof commonjsRequire=="function"&&commonjsRequire,m=0;m<v.length;m++)D(v[m]);return D}({1:[function(h,f,B){(function(v){var D=v.MutationObserver||v.WebKitMutationObserver,_;if(D){var m=0,I=new D(N),Q=v.document.createTextNode("");I.observe(Q,{characterData:!0}),_=function(){Q.data=m=++m%2}}else if(!v.setImmediate&&typeof v.MessageChannel<"u"){var p=new v.MessageChannel;p.port1.onmessage=N,_=function(){p.port2.postMessage(0)}}else"document"in v&&"onreadystatechange"in v.document.createElement("script")?_=function(){var q=v.document.createElement("script");q.onreadystatechange=function(){N(),q.onreadystatechange=null,q.parentNode.removeChild(q),q=null},v.document.documentElement.appendChild(q)}:_=function(){setTimeout(N,0)};var u,y=[];function N(){u=!0;for(var q,te,F=y.length;F;){for(te=y,y=[],q=-1;++q<F;)te[q]();F=y.length}u=!1}f.exports=U;function U(q){y.push(q)===1&&!u&&_()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(h,f,B){var v=h(1);function D(){}var _={},m=["REJECTED"],I=["FULFILLED"],Q=["PENDING"];f.exports=p;function p($){if(typeof $!="function")throw new TypeError("resolver must be a function");this.state=Q,this.queue=[],this.outcome=void 0,$!==D&&U(this,$)}p.prototype.catch=function($){return this.then(null,$)},p.prototype.then=function($,L){if(typeof $!="function"&&this.state===I||typeof L!="function"&&this.state===m)return this;var O=new this.constructor(D);if(this.state!==Q){var T=this.state===I?$:L;y(O,T,this.outcome)}else this.queue.push(new u(O,$,L));return O};function u($,L,O){this.promise=$,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}u.prototype.callFulfilled=function($){_.resolve(this.promise,$)},u.prototype.otherCallFulfilled=function($){y(this.promise,this.onFulfilled,$)},u.prototype.callRejected=function($){_.reject(this.promise,$)},u.prototype.otherCallRejected=function($){y(this.promise,this.onRejected,$)};function y($,L,O){v(function(){var T;try{T=L(O)}catch(w){return _.reject($,w)}T===$?_.reject($,new TypeError("Cannot resolve promise with itself")):_.resolve($,T)})}_.resolve=function($,L){var O=q(N,L);if(O.status==="error")return _.reject($,O.value);var T=O.value;if(T)U($,T);else{$.state=I,$.outcome=L;for(var w=-1,k=$.queue.length;++w<k;)$.queue[w].callFulfilled(L)}return $},_.reject=function($,L){$.state=m,$.outcome=L;for(var O=-1,T=$.queue.length;++O<T;)$.queue[O].callRejected(L);return $};function N($){var L=$&&$.then;if($&&(typeof $=="object"||typeof $=="function")&&typeof L=="function")return function(){L.apply($,arguments)}}function U($,L){var O=!1;function T(Z){O||(O=!0,_.reject($,Z))}function w(Z){O||(O=!0,_.resolve($,Z))}function k(){L(w,T)}var Y=q(k);Y.status==="error"&&T(Y.value)}function q($,L){var O={};try{O.value=$(L),O.status="success"}catch(T){O.status="error",O.value=T}return O}p.resolve=te;function te($){return $ instanceof this?$:_.resolve(new this(D),$)}p.reject=F;function F($){var L=new this(D);return _.reject(L,$)}p.all=V;function V($){var L=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=$.length,T=!1;if(!O)return this.resolve([]);for(var w=new Array(O),k=0,Y=-1,Z=new this(D);++Y<O;)W($[Y],Y);return Z;function W(K,x){L.resolve(K).then(X,function(H){T||(T=!0,_.reject(Z,H))});function X(H){w[x]=H,++k===O&&!T&&(T=!0,_.resolve(Z,w))}}}p.race=z;function z($){var L=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=$.length,T=!1;if(!O)return this.resolve([]);for(var w=-1,k=new this(D);++w<O;)Y($[w]);return k;function Y(Z){L.resolve(Z).then(function(W){T||(T=!0,_.resolve(k,W))},function(W){T||(T=!0,_.reject(k,W))})}}},{1:1}],3:[function(h,f,B){(function(v){typeof v.Promise!="function"&&(v.Promise=h(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(h,f,B){var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me};function D(Me,me){if(!(Me instanceof me))throw new TypeError("Cannot call a class as a function")}function _(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var m=_();function I(){try{if(!m||!m.open)return!1;var Me=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),me=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Me||me)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function Q(Me,me){Me=Me||[],me=me||{};try{return new Blob(Me,me)}catch(Se){if(Se.name!=="TypeError")throw Se;for(var Be=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ve=new Be,Ue=0;Ue<Me.length;Ue+=1)ve.append(Me[Ue]);return ve.getBlob(me.type)}}typeof Promise>"u"&&h(3);var p=Promise;function u(Me,me){me&&Me.then(function(Be){me(null,Be)},function(Be){me(Be)})}function y(Me,me,Be){typeof me=="function"&&Me.then(me),typeof Be=="function"&&Me.catch(Be)}function N(Me){return typeof Me!="string"&&(console.warn(Me+" used as a key, but it is not a string."),Me=String(Me)),Me}function U(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var q="local-forage-detect-blob-support",te=void 0,F={},V=Object.prototype.toString,z="readonly",$="readwrite";function L(Me){for(var me=Me.length,Be=new ArrayBuffer(me),ve=new Uint8Array(Be),Ue=0;Ue<me;Ue++)ve[Ue]=Me.charCodeAt(Ue);return Be}function O(Me){return new p(function(me){var Be=Me.transaction(q,$),ve=Q([""]);Be.objectStore(q).put(ve,"key"),Be.onabort=function(Ue){Ue.preventDefault(),Ue.stopPropagation(),me(!1)},Be.oncomplete=function(){var Ue=navigator.userAgent.match(/Chrome\/(\d+)/),Se=navigator.userAgent.match(/Edge\//);me(Se||!Ue||parseInt(Ue[1],10)>=43)}}).catch(function(){return!1})}function T(Me){return typeof te=="boolean"?p.resolve(te):O(Me).then(function(me){return te=me,te})}function w(Me){var me=F[Me.name],Be={};Be.promise=new p(function(ve,Ue){Be.resolve=ve,Be.reject=Ue}),me.deferredOperations.push(Be),me.dbReady?me.dbReady=me.dbReady.then(function(){return Be.promise}):me.dbReady=Be.promise}function k(Me){var me=F[Me.name],Be=me.deferredOperations.pop();if(Be)return Be.resolve(),Be.promise}function Y(Me,me){var Be=F[Me.name],ve=Be.deferredOperations.pop();if(ve)return ve.reject(me),ve.promise}function Z(Me,me){return new p(function(Be,ve){if(F[Me.name]=F[Me.name]||Qe(),Me.db)if(me)w(Me),Me.db.close();else return Be(Me.db);var Ue=[Me.name];me&&Ue.push(Me.version);var Se=m.open.apply(m,Ue);me&&(Se.onupgradeneeded=function(je){var pt=Se.result;try{pt.createObjectStore(Me.storeName),je.oldVersion<=1&&pt.createObjectStore(q)}catch(ee){if(ee.name==="ConstraintError")console.warn('The database "'+Me.name+'" has been upgraded from version '+je.oldVersion+" to version "+je.newVersion+', but the storage "'+Me.storeName+'" already exists.');else throw ee}}),Se.onerror=function(je){je.preventDefault(),ve(Se.error)},Se.onsuccess=function(){var je=Se.result;je.onversionchange=function(pt){pt.target.close()},Be(je),k(Me)}})}function W(Me){return Z(Me,!1)}function K(Me){return Z(Me,!0)}function x(Me,me){if(!Me.db)return!0;var Be=!Me.db.objectStoreNames.contains(Me.storeName),ve=Me.version<Me.db.version,Ue=Me.version>Me.db.version;if(ve&&(Me.version!==me&&console.warn('The database "'+Me.name+`" can't be downgraded from version `+Me.db.version+" to version "+Me.version+"."),Me.version=Me.db.version),Ue||Be){if(Be){var Se=Me.db.version+1;Se>Me.version&&(Me.version=Se)}return!0}return!1}function X(Me){return new p(function(me,Be){var ve=new FileReader;ve.onerror=Be,ve.onloadend=function(Ue){var Se=btoa(Ue.target.result||"");me({__local_forage_encoded_blob:!0,data:Se,type:Me.type})},ve.readAsBinaryString(Me)})}function H(Me){var me=L(atob(Me.data));return Q([me],{type:Me.type})}function j(Me){return Me&&Me.__local_forage_encoded_blob}function ae(Me){var me=this,Be=me._initReady().then(function(){var ve=F[me._dbInfo.name];if(ve&&ve.dbReady)return ve.dbReady});return y(Be,Me,Me),Be}function ce(Me){w(Me);for(var me=F[Me.name],Be=me.forages,ve=0;ve<Be.length;ve++){var Ue=Be[ve];Ue._dbInfo.db&&(Ue._dbInfo.db.close(),Ue._dbInfo.db=null)}return Me.db=null,W(Me).then(function(Se){return Me.db=Se,x(Me)?K(Me):Se}).then(function(Se){Me.db=me.db=Se;for(var je=0;je<Be.length;je++)Be[je]._dbInfo.db=Se}).catch(function(Se){throw Y(Me,Se),Se})}function ne(Me,me,Be,ve){ve===void 0&&(ve=1);try{var Ue=Me.db.transaction(Me.storeName,me);Be(null,Ue)}catch(Se){if(ve>0&&(!Me.db||Se.name==="InvalidStateError"||Se.name==="NotFoundError"))return p.resolve().then(function(){if(!Me.db||Se.name==="NotFoundError"&&!Me.db.objectStoreNames.contains(Me.storeName)&&Me.version<=Me.db.version)return Me.db&&(Me.version=Me.db.version+1),K(Me)}).then(function(){return ce(Me).then(function(){ne(Me,me,Be,ve-1)})}).catch(Be);Be(Se)}}function Qe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function De(Me){var me=this,Be={db:null};if(Me)for(var ve in Me)Be[ve]=Me[ve];var Ue=F[Be.name];Ue||(Ue=Qe(),F[Be.name]=Ue),Ue.forages.push(me),me._initReady||(me._initReady=me.ready,me.ready=ae);var Se=[];function je(){return p.resolve()}for(var pt=0;pt<Ue.forages.length;pt++){var ee=Ue.forages[pt];ee!==me&&Se.push(ee._initReady().catch(je))}var Pe=Ue.forages.slice(0);return p.all(Se).then(function(){return Be.db=Ue.db,W(Be)}).then(function(He){return Be.db=He,x(Be,me._defaultConfig.version)?K(Be):He}).then(function(He){Be.db=Ue.db=He,me._dbInfo=Be;for(var it=0;it<Pe.length;it++){var ht=Pe[it];ht!==me&&(ht._dbInfo.db=Be.db,ht._dbInfo.version=Be.version)}})}function Fe(Me,me){var Be=this;Me=N(Me);var ve=new p(function(Ue,Se){Be.ready().then(function(){ne(Be._dbInfo,z,function(je,pt){if(je)return Se(je);try{var ee=pt.objectStore(Be._dbInfo.storeName),Pe=ee.get(Me);Pe.onsuccess=function(){var He=Pe.result;He===void 0&&(He=null),j(He)&&(He=H(He)),Ue(He)},Pe.onerror=function(){Se(Pe.error)}}catch(He){Se(He)}})}).catch(Se)});return u(ve,me),ve}function pe(Me,me){var Be=this,ve=new p(function(Ue,Se){Be.ready().then(function(){ne(Be._dbInfo,z,function(je,pt){if(je)return Se(je);try{var ee=pt.objectStore(Be._dbInfo.storeName),Pe=ee.openCursor(),He=1;Pe.onsuccess=function(){var it=Pe.result;if(it){var ht=it.value;j(ht)&&(ht=H(ht));var Ht=Me(ht,it.key,He++);Ht!==void 0?Ue(Ht):it.continue()}else Ue()},Pe.onerror=function(){Se(Pe.error)}}catch(it){Se(it)}})}).catch(Se)});return u(ve,me),ve}function ot(Me,me,Be){var ve=this;Me=N(Me);var Ue=new p(function(Se,je){var pt;ve.ready().then(function(){return pt=ve._dbInfo,V.call(me)==="[object Blob]"?T(pt.db).then(function(ee){return ee?me:X(me)}):me}).then(function(ee){ne(ve._dbInfo,$,function(Pe,He){if(Pe)return je(Pe);try{var it=He.objectStore(ve._dbInfo.storeName);ee===null&&(ee=void 0);var ht=it.put(ee,Me);He.oncomplete=function(){ee===void 0&&(ee=null),Se(ee)},He.onabort=He.onerror=function(){var Ht=ht.error?ht.error:ht.transaction.error;je(Ht)}}catch(Ht){je(Ht)}})}).catch(je)});return u(Ue,Be),Ue}function ft(Me,me){var Be=this;Me=N(Me);var ve=new p(function(Ue,Se){Be.ready().then(function(){ne(Be._dbInfo,$,function(je,pt){if(je)return Se(je);try{var ee=pt.objectStore(Be._dbInfo.storeName),Pe=ee.delete(Me);pt.oncomplete=function(){Ue()},pt.onerror=function(){Se(Pe.error)},pt.onabort=function(){var He=Pe.error?Pe.error:Pe.transaction.error;Se(He)}}catch(He){Se(He)}})}).catch(Se)});return u(ve,me),ve}function yt(Me){var me=this,Be=new p(function(ve,Ue){me.ready().then(function(){ne(me._dbInfo,$,function(Se,je){if(Se)return Ue(Se);try{var pt=je.objectStore(me._dbInfo.storeName),ee=pt.clear();je.oncomplete=function(){ve()},je.onabort=je.onerror=function(){var Pe=ee.error?ee.error:ee.transaction.error;Ue(Pe)}}catch(Pe){Ue(Pe)}})}).catch(Ue)});return u(Be,Me),Be}function Ot(Me){var me=this,Be=new p(function(ve,Ue){me.ready().then(function(){ne(me._dbInfo,z,function(Se,je){if(Se)return Ue(Se);try{var pt=je.objectStore(me._dbInfo.storeName),ee=pt.count();ee.onsuccess=function(){ve(ee.result)},ee.onerror=function(){Ue(ee.error)}}catch(Pe){Ue(Pe)}})}).catch(Ue)});return u(Be,Me),Be}function ge(Me,me){var Be=this,ve=new p(function(Ue,Se){if(Me<0){Ue(null);return}Be.ready().then(function(){ne(Be._dbInfo,z,function(je,pt){if(je)return Se(je);try{var ee=pt.objectStore(Be._dbInfo.storeName),Pe=!1,He=ee.openKeyCursor();He.onsuccess=function(){var it=He.result;if(!it){Ue(null);return}Me===0||Pe?Ue(it.key):(Pe=!0,it.advance(Me))},He.onerror=function(){Se(He.error)}}catch(it){Se(it)}})}).catch(Se)});return u(ve,me),ve}function Ee(Me){var me=this,Be=new p(function(ve,Ue){me.ready().then(function(){ne(me._dbInfo,z,function(Se,je){if(Se)return Ue(Se);try{var pt=je.objectStore(me._dbInfo.storeName),ee=pt.openKeyCursor(),Pe=[];ee.onsuccess=function(){var He=ee.result;if(!He){ve(Pe);return}Pe.push(He.key),He.continue()},ee.onerror=function(){Ue(ee.error)}}catch(He){Ue(He)}})}).catch(Ue)});return u(Be,Me),Be}function fe(Me,me){me=U.apply(this,arguments);var Be=this.config();Me=typeof Me!="function"&&Me||{},Me.name||(Me.name=Me.name||Be.name,Me.storeName=Me.storeName||Be.storeName);var ve=this,Ue;if(!Me.name)Ue=p.reject("Invalid arguments");else{var Se=Me.name===Be.name&&ve._dbInfo.db,je=Se?p.resolve(ve._dbInfo.db):W(Me).then(function(pt){var ee=F[Me.name],Pe=ee.forages;ee.db=pt;for(var He=0;He<Pe.length;He++)Pe[He]._dbInfo.db=pt;return pt});Me.storeName?Ue=je.then(function(pt){if(pt.objectStoreNames.contains(Me.storeName)){var ee=pt.version+1;w(Me);var Pe=F[Me.name],He=Pe.forages;pt.close();for(var it=0;it<He.length;it++){var ht=He[it];ht._dbInfo.db=null,ht._dbInfo.version=ee}var Ht=new p(function(xt,Gt){var Tt=m.open(Me.name,ee);Tt.onerror=function(Ir){var bt=Tt.result;bt.close(),Gt(Ir)},Tt.onupgradeneeded=function(){var Ir=Tt.result;Ir.deleteObjectStore(Me.storeName)},Tt.onsuccess=function(){var Ir=Tt.result;Ir.close(),xt(Ir)}});return Ht.then(function(xt){Pe.db=xt;for(var Gt=0;Gt<He.length;Gt++){var Tt=He[Gt];Tt._dbInfo.db=xt,k(Tt._dbInfo)}}).catch(function(xt){throw(Y(Me,xt)||p.resolve()).catch(function(){}),xt})}}):Ue=je.then(function(pt){w(Me);var ee=F[Me.name],Pe=ee.forages;pt.close();for(var He=0;He<Pe.length;He++){var it=Pe[He];it._dbInfo.db=null}var ht=new p(function(Ht,xt){var Gt=m.deleteDatabase(Me.name);Gt.onerror=function(){var Tt=Gt.result;Tt&&Tt.close(),xt(Gt.error)},Gt.onblocked=function(){console.warn('dropInstance blocked for database "'+Me.name+'" until all open connections are closed')},Gt.onsuccess=function(){var Tt=Gt.result;Tt&&Tt.close(),Ht(Tt)}});return ht.then(function(Ht){ee.db=Ht;for(var xt=0;xt<Pe.length;xt++){var Gt=Pe[xt];k(Gt._dbInfo)}}).catch(function(Ht){throw(Y(Me,Ht)||p.resolve()).catch(function(){}),Ht})})}return u(Ue,me),Ue}var ie={_driver:"asyncStorage",_initStorage:De,_support:I(),iterate:pe,getItem:Fe,setItem:ot,removeItem:ft,clear:yt,length:Ot,key:ge,keys:Ee,dropInstance:fe};function ue(){return typeof openDatabase=="function"}var de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",le="~~local_forage_type~",Ve=/^~~local_forage_type~([^~]+)~/,nt="__lfsc__:",ct=nt.length,Re="arbf",lt="blob",St="si08",Yt="ui08",xe="uic8",st="si16",At="si32",Et="ur16",Dt="ui32",Ft="fl32",zt="fl64",Ut=ct+Re.length,Vt=Object.prototype.toString;function mr(Me){var me=Me.length*.75,Be=Me.length,ve,Ue=0,Se,je,pt,ee;Me[Me.length-1]==="="&&(me--,Me[Me.length-2]==="="&&me--);var Pe=new ArrayBuffer(me),He=new Uint8Array(Pe);for(ve=0;ve<Be;ve+=4)Se=de.indexOf(Me[ve]),je=de.indexOf(Me[ve+1]),pt=de.indexOf(Me[ve+2]),ee=de.indexOf(Me[ve+3]),He[Ue++]=Se<<2|je>>4,He[Ue++]=(je&15)<<4|pt>>2,He[Ue++]=(pt&3)<<6|ee&63;return Pe}function Br(Me){var me=new Uint8Array(Me),Be="",ve;for(ve=0;ve<me.length;ve+=3)Be+=de[me[ve]>>2],Be+=de[(me[ve]&3)<<4|me[ve+1]>>4],Be+=de[(me[ve+1]&15)<<2|me[ve+2]>>6],Be+=de[me[ve+2]&63];return me.length%3===2?Be=Be.substring(0,Be.length-1)+"=":me.length%3===1&&(Be=Be.substring(0,Be.length-2)+"=="),Be}function Zt(Me,me){var Be="";if(Me&&(Be=Vt.call(Me)),Me&&(Be==="[object ArrayBuffer]"||Me.buffer&&Vt.call(Me.buffer)==="[object ArrayBuffer]")){var ve,Ue=nt;Me instanceof ArrayBuffer?(ve=Me,Ue+=Re):(ve=Me.buffer,Be==="[object Int8Array]"?Ue+=St:Be==="[object Uint8Array]"?Ue+=Yt:Be==="[object Uint8ClampedArray]"?Ue+=xe:Be==="[object Int16Array]"?Ue+=st:Be==="[object Uint16Array]"?Ue+=Et:Be==="[object Int32Array]"?Ue+=At:Be==="[object Uint32Array]"?Ue+=Dt:Be==="[object Float32Array]"?Ue+=Ft:Be==="[object Float64Array]"?Ue+=zt:me(new Error("Failed to get type for BinaryArray"))),me(Ue+Br(ve))}else if(Be==="[object Blob]"){var Se=new FileReader;Se.onload=function(){var je=le+Me.type+"~"+Br(this.result);me(nt+lt+je)},Se.readAsArrayBuffer(Me)}else try{me(JSON.stringify(Me))}catch(je){console.error("Couldn't convert value into a JSON string: ",Me),me(null,je)}}function wr(Me){if(Me.substring(0,ct)!==nt)return JSON.parse(Me);var me=Me.substring(Ut),Be=Me.substring(ct,Ut),ve;if(Be===lt&&Ve.test(me)){var Ue=me.match(Ve);ve=Ue[1],me=me.substring(Ue[0].length)}var Se=mr(me);switch(Be){case Re:return Se;case lt:return Q([Se],{type:ve});case St:return new Int8Array(Se);case Yt:return new Uint8Array(Se);case xe:return new Uint8ClampedArray(Se);case st:return new Int16Array(Se);case Et:return new Uint16Array(Se);case At:return new Int32Array(Se);case Dt:return new Uint32Array(Se);case Ft:return new Float32Array(Se);case zt:return new Float64Array(Se);default:throw new Error("Unkown type: "+Be)}}var kt={serialize:Zt,deserialize:wr,stringToBuffer:mr,bufferToString:Br};function Ar(Me,me,Be,ve){Me.executeSql("CREATE TABLE IF NOT EXISTS "+me.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Be,ve)}function qe(Me){var me=this,Be={db:null};if(Me)for(var ve in Me)Be[ve]=typeof Me[ve]!="string"?Me[ve].toString():Me[ve];var Ue=new p(function(Se,je){try{Be.db=openDatabase(Be.name,String(Be.version),Be.description,Be.size)}catch(pt){return je(pt)}Be.db.transaction(function(pt){Ar(pt,Be,function(){me._dbInfo=Be,Se()},function(ee,Pe){je(Pe)})},je)});return Be.serializer=kt,Ue}function nr(Me,me,Be,ve,Ue,Se){Me.executeSql(Be,ve,Ue,function(je,pt){pt.code===pt.SYNTAX_ERR?je.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[me.storeName],function(ee,Pe){Pe.rows.length?Se(ee,pt):Ar(ee,me,function(){ee.executeSql(Be,ve,Ue,Se)},Se)},Se):Se(je,pt)},Se)}function tr(Me,me){var Be=this;Me=N(Me);var ve=new p(function(Ue,Se){Be.ready().then(function(){var je=Be._dbInfo;je.db.transaction(function(pt){nr(pt,je,"SELECT * FROM "+je.storeName+" WHERE key = ? LIMIT 1",[Me],function(ee,Pe){var He=Pe.rows.length?Pe.rows.item(0).value:null;He&&(He=je.serializer.deserialize(He)),Ue(He)},function(ee,Pe){Se(Pe)})})}).catch(Se)});return u(ve,me),ve}function lr(Me,me){var Be=this,ve=new p(function(Ue,Se){Be.ready().then(function(){var je=Be._dbInfo;je.db.transaction(function(pt){nr(pt,je,"SELECT * FROM "+je.storeName,[],function(ee,Pe){for(var He=Pe.rows,it=He.length,ht=0;ht<it;ht++){var Ht=He.item(ht),xt=Ht.value;if(xt&&(xt=je.serializer.deserialize(xt)),xt=Me(xt,Ht.key,ht+1),xt!==void 0){Ue(xt);return}}Ue()},function(ee,Pe){Se(Pe)})})}).catch(Se)});return u(ve,me),ve}function pr(Me,me,Be,ve){var Ue=this;Me=N(Me);var Se=new p(function(je,pt){Ue.ready().then(function(){me===void 0&&(me=null);var ee=me,Pe=Ue._dbInfo;Pe.serializer.serialize(me,function(He,it){it?pt(it):Pe.db.transaction(function(ht){nr(ht,Pe,"INSERT OR REPLACE INTO "+Pe.storeName+" (key, value) VALUES (?, ?)",[Me,He],function(){je(ee)},function(Ht,xt){pt(xt)})},function(ht){if(ht.code===ht.QUOTA_ERR){if(ve>0){je(pr.apply(Ue,[Me,ee,Be,ve-1]));return}pt(ht)}})})}).catch(pt)});return u(Se,Be),Se}function rr(Me,me,Be){return pr.apply(this,[Me,me,Be,1])}function Dr(Me,me){var Be=this;Me=N(Me);var ve=new p(function(Ue,Se){Be.ready().then(function(){var je=Be._dbInfo;je.db.transaction(function(pt){nr(pt,je,"DELETE FROM "+je.storeName+" WHERE key = ?",[Me],function(){Ue()},function(ee,Pe){Se(Pe)})})}).catch(Se)});return u(ve,me),ve}function Kt(Me){var me=this,Be=new p(function(ve,Ue){me.ready().then(function(){var Se=me._dbInfo;Se.db.transaction(function(je){nr(je,Se,"DELETE FROM "+Se.storeName,[],function(){ve()},function(pt,ee){Ue(ee)})})}).catch(Ue)});return u(Be,Me),Be}function $t(Me){var me=this,Be=new p(function(ve,Ue){me.ready().then(function(){var Se=me._dbInfo;Se.db.transaction(function(je){nr(je,Se,"SELECT COUNT(key) as c FROM "+Se.storeName,[],function(pt,ee){var Pe=ee.rows.item(0).c;ve(Pe)},function(pt,ee){Ue(ee)})})}).catch(Ue)});return u(Be,Me),Be}function Nr(Me,me){var Be=this,ve=new p(function(Ue,Se){Be.ready().then(function(){var je=Be._dbInfo;je.db.transaction(function(pt){nr(pt,je,"SELECT key FROM "+je.storeName+" WHERE id = ? LIMIT 1",[Me+1],function(ee,Pe){var He=Pe.rows.length?Pe.rows.item(0).key:null;Ue(He)},function(ee,Pe){Se(Pe)})})}).catch(Se)});return u(ve,me),ve}function Rr(Me){var me=this,Be=new p(function(ve,Ue){me.ready().then(function(){var Se=me._dbInfo;Se.db.transaction(function(je){nr(je,Se,"SELECT key FROM "+Se.storeName,[],function(pt,ee){for(var Pe=[],He=0;He<ee.rows.length;He++)Pe.push(ee.rows.item(He).key);ve(Pe)},function(pt,ee){Ue(ee)})})}).catch(Ue)});return u(Be,Me),Be}function fr(Me){return new p(function(me,Be){Me.transaction(function(ve){ve.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ue,Se){for(var je=[],pt=0;pt<Se.rows.length;pt++)je.push(Se.rows.item(pt).name);me({db:Me,storeNames:je})},function(Ue,Se){Be(Se)})},function(ve){Be(ve)})})}function un(Me,me){me=U.apply(this,arguments);var Be=this.config();Me=typeof Me!="function"&&Me||{},Me.name||(Me.name=Me.name||Be.name,Me.storeName=Me.storeName||Be.storeName);var ve=this,Ue;return Me.name?Ue=new p(function(Se){var je;Me.name===Be.name?je=ve._dbInfo.db:je=openDatabase(Me.name,"","",0),Me.storeName?Se({db:je,storeNames:[Me.storeName]}):Se(fr(je))}).then(function(Se){return new p(function(je,pt){Se.db.transaction(function(ee){function Pe(Ht){return new p(function(xt,Gt){ee.executeSql("DROP TABLE IF EXISTS "+Ht,[],function(){xt()},function(Tt,Ir){Gt(Ir)})})}for(var He=[],it=0,ht=Se.storeNames.length;it<ht;it++)He.push(Pe(Se.storeNames[it]));p.all(He).then(function(){je()}).catch(function(Ht){pt(Ht)})},function(ee){pt(ee)})})}):Ue=p.reject("Invalid arguments"),u(Ue,me),Ue}var ln={_driver:"webSQLStorage",_initStorage:qe,_support:ue(),iterate:lr,getItem:tr,setItem:rr,removeItem:Dr,clear:Kt,length:$t,key:Nr,keys:Rr,dropInstance:un};function _r(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function gr(Me,me){var Be=Me.name+"/";return Me.storeName!==me.storeName&&(Be+=Me.storeName+"/"),Be}function Qr(){var Me="_localforage_support_test";try{return localStorage.setItem(Me,!0),localStorage.removeItem(Me),!1}catch{return!0}}function vr(){return!Qr()||localStorage.length>0}function Gr(Me){var me=this,Be={};if(Me)for(var ve in Me)Be[ve]=Me[ve];return Be.keyPrefix=gr(Me,me._defaultConfig),vr()?(me._dbInfo=Be,Be.serializer=kt,p.resolve()):p.reject()}function $r(Me){var me=this,Be=me.ready().then(function(){for(var ve=me._dbInfo.keyPrefix,Ue=localStorage.length-1;Ue>=0;Ue--){var Se=localStorage.key(Ue);Se.indexOf(ve)===0&&localStorage.removeItem(Se)}});return u(Be,Me),Be}function ur(Me,me){var Be=this;Me=N(Me);var ve=Be.ready().then(function(){var Ue=Be._dbInfo,Se=localStorage.getItem(Ue.keyPrefix+Me);return Se&&(Se=Ue.serializer.deserialize(Se)),Se});return u(ve,me),ve}function Kr(Me,me){var Be=this,ve=Be.ready().then(function(){for(var Ue=Be._dbInfo,Se=Ue.keyPrefix,je=Se.length,pt=localStorage.length,ee=1,Pe=0;Pe<pt;Pe++){var He=localStorage.key(Pe);if(He.indexOf(Se)===0){var it=localStorage.getItem(He);if(it&&(it=Ue.serializer.deserialize(it)),it=Me(it,He.substring(je),ee++),it!==void 0)return it}}});return u(ve,me),ve}function Hr(Me,me){var Be=this,ve=Be.ready().then(function(){var Ue=Be._dbInfo,Se;try{Se=localStorage.key(Me)}catch{Se=null}return Se&&(Se=Se.substring(Ue.keyPrefix.length)),Se});return u(ve,me),ve}function gn(Me){var me=this,Be=me.ready().then(function(){for(var ve=me._dbInfo,Ue=localStorage.length,Se=[],je=0;je<Ue;je++){var pt=localStorage.key(je);pt.indexOf(ve.keyPrefix)===0&&Se.push(pt.substring(ve.keyPrefix.length))}return Se});return u(Be,Me),Be}function Tr(Me){var me=this,Be=me.keys().then(function(ve){return ve.length});return u(Be,Me),Be}function Or(Me,me){var Be=this;Me=N(Me);var ve=Be.ready().then(function(){var Ue=Be._dbInfo;localStorage.removeItem(Ue.keyPrefix+Me)});return u(ve,me),ve}function Sr(Me,me,Be){var ve=this;Me=N(Me);var Ue=ve.ready().then(function(){me===void 0&&(me=null);var Se=me;return new p(function(je,pt){var ee=ve._dbInfo;ee.serializer.serialize(me,function(Pe,He){if(He)pt(He);else try{localStorage.setItem(ee.keyPrefix+Me,Pe),je(Se)}catch(it){(it.name==="QuotaExceededError"||it.name==="NS_ERROR_DOM_QUOTA_REACHED")&&pt(it),pt(it)}})})});return u(Ue,Be),Ue}function Vr(Me,me){if(me=U.apply(this,arguments),Me=typeof Me!="function"&&Me||{},!Me.name){var Be=this.config();Me.name=Me.name||Be.name,Me.storeName=Me.storeName||Be.storeName}var ve=this,Ue;return Me.name?Ue=new p(function(Se){Me.storeName?Se(gr(Me,ve._defaultConfig)):Se(Me.name+"/")}).then(function(Se){for(var je=localStorage.length-1;je>=0;je--){var pt=localStorage.key(je);pt.indexOf(Se)===0&&localStorage.removeItem(pt)}}):Ue=p.reject("Invalid arguments"),u(Ue,me),Ue}var qr={_driver:"localStorageWrapper",_initStorage:Gr,_support:_r(),iterate:Kr,getItem:ur,setItem:Sr,removeItem:Or,clear:$r,length:Tr,key:Hr,keys:gn,dropInstance:Vr},ke=function(me,Be){return me===Be||typeof me=="number"&&typeof Be=="number"&&isNaN(me)&&isNaN(Be)},Ge=function(me,Be){for(var ve=me.length,Ue=0;Ue<ve;){if(ke(me[Ue],Be))return!0;Ue++}return!1},Ke=Array.isArray||function(Me){return Object.prototype.toString.call(Me)==="[object Array]"},We={},Ae={},be={INDEXEDDB:ie,WEBSQL:ln,LOCALSTORAGE:qr},tt=[be.INDEXEDDB._driver,be.WEBSQL._driver,be.LOCALSTORAGE._driver],dt=["dropInstance"],It=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(dt),rt={description:"",driver:tt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ze(Me,me){Me[me]=function(){var Be=arguments;return Me.ready().then(function(){return Me[me].apply(Me,Be)})}}function Nt(){for(var Me=1;Me<arguments.length;Me++){var me=arguments[Me];if(me)for(var Be in me)me.hasOwnProperty(Be)&&(Ke(me[Be])?arguments[0][Be]=me[Be].slice():arguments[0][Be]=me[Be])}return arguments[0]}var Lt=function(){function Me(me){D(this,Me);for(var Be in be)if(be.hasOwnProperty(Be)){var ve=be[Be],Ue=ve._driver;this[Be]=Ue,We[Ue]||this.defineDriver(ve)}this._defaultConfig=Nt({},rt),this._config=Nt({},this._defaultConfig,me),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Me.prototype.config=function(Be){if((typeof Be>"u"?"undefined":v(Be))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ve in Be){if(ve==="storeName"&&(Be[ve]=Be[ve].replace(/\W/g,"_")),ve==="version"&&typeof Be[ve]!="number")return new Error("Database version must be a number.");this._config[ve]=Be[ve]}return"driver"in Be&&Be.driver?this.setDriver(this._config.driver):!0}else return typeof Be=="string"?this._config[Be]:this._config},Me.prototype.defineDriver=function(Be,ve,Ue){var Se=new p(function(je,pt){try{var ee=Be._driver,Pe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Be._driver){pt(Pe);return}for(var He=It.concat("_initStorage"),it=0,ht=He.length;it<ht;it++){var Ht=He[it],xt=!Ge(dt,Ht);if((xt||Be[Ht])&&typeof Be[Ht]!="function"){pt(Pe);return}}var Gt=function(){for(var bt=function(tn){return function(){var Bn=new Error("Method "+tn+" is not implemented by the current driver"),jn=p.reject(Bn);return u(jn,arguments[arguments.length-1]),jn}},Zr=0,Wr=dt.length;Zr<Wr;Zr++){var Mn=dt[Zr];Be[Mn]||(Be[Mn]=bt(Mn))}};Gt();var Tt=function(bt){We[ee]&&console.info("Redefining LocalForage driver: "+ee),We[ee]=Be,Ae[ee]=bt,je()};"_support"in Be?Be._support&&typeof Be._support=="function"?Be._support().then(Tt,pt):Tt(!!Be._support):Tt(!0)}catch(Ir){pt(Ir)}});return y(Se,ve,Ue),Se},Me.prototype.driver=function(){return this._driver||null},Me.prototype.getDriver=function(Be,ve,Ue){var Se=We[Be]?p.resolve(We[Be]):p.reject(new Error("Driver not found."));return y(Se,ve,Ue),Se},Me.prototype.getSerializer=function(Be){var ve=p.resolve(kt);return y(ve,Be),ve},Me.prototype.ready=function(Be){var ve=this,Ue=ve._driverSet.then(function(){return ve._ready===null&&(ve._ready=ve._initDriver()),ve._ready});return y(Ue,Be,Be),Ue},Me.prototype.setDriver=function(Be,ve,Ue){var Se=this;Ke(Be)||(Be=[Be]);var je=this._getSupportedDrivers(Be);function pt(){Se._config.driver=Se.driver()}function ee(it){return Se._extend(it),pt(),Se._ready=Se._initStorage(Se._config),Se._ready}function Pe(it){return function(){var ht=0;function Ht(){for(;ht<it.length;){var xt=it[ht];return ht++,Se._dbInfo=null,Se._ready=null,Se.getDriver(xt).then(ee).catch(Ht)}pt();var Gt=new Error("No available storage method found.");return Se._driverSet=p.reject(Gt),Se._driverSet}return Ht()}}var He=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=He.then(function(){var it=je[0];return Se._dbInfo=null,Se._ready=null,Se.getDriver(it).then(function(ht){Se._driver=ht._driver,pt(),Se._wrapLibraryMethodsWithReady(),Se._initDriver=Pe(je)})}).catch(function(){pt();var it=new Error("No available storage method found.");return Se._driverSet=p.reject(it),Se._driverSet}),y(this._driverSet,ve,Ue),this._driverSet},Me.prototype.supports=function(Be){return!!Ae[Be]},Me.prototype._extend=function(Be){Nt(this,Be)},Me.prototype._getSupportedDrivers=function(Be){for(var ve=[],Ue=0,Se=Be.length;Ue<Se;Ue++){var je=Be[Ue];this.supports(je)&&ve.push(je)}return ve},Me.prototype._wrapLibraryMethodsWithReady=function(){for(var Be=0,ve=It.length;Be<ve;Be++)Ze(this,It[Be])},Me.prototype.createInstance=function(Be){return new Me(Be)},Me}(),cr=new Lt;f.exports=cr},{3:3}]},{},[4])(4)})}(localforage)),localforage.exports}var hasRequiredZegoExpressWebRTM;function requireZegoExpressWebRTM(){return hasRequiredZegoExpressWebRTM||(hasRequiredZegoExpressWebRTM=1,function(a,c){(function(h,f){a.exports=f(requireMinimal(),requireLocalforage())})(typeof self<"u"?self:commonjsGlobal,function(h,f){return v=[function(_,m,I){var Q=function(p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var u=null;try{u=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function y(ne,Qe,De){this.low=0|ne,this.high=0|Qe,this.unsigned=!!De}function N(ne){return(ne&&ne.__isLong__)===!0}function U(ne){var Qe=Math.clz32(ne&-ne);return ne?31-Qe:Qe}Object.defineProperty(y.prototype,"__isLong__",{value:!0}),y.isLong=N;var q={},te={};function F(ne,Qe){var De,Fe,pe;return Qe?(pe=0<=(ne>>>=0)&&ne<256)&&(Fe=te[ne])?Fe:(De=z(ne,0,!0),pe&&(te[ne]=De),De):(pe=-128<=(ne|=0)&&ne<128)&&(Fe=q[ne])?Fe:(De=z(ne,ne<0?-1:0,!1),pe&&(q[ne]=De),De)}function V(ne,Qe){if(isNaN(ne))return Qe?W:Z;if(Qe){if(ne<0)return W;if(w<=ne)return j}else{if(ne<=-k)return ae;if(k<=ne+1)return H}return ne<0?V(-ne,Qe).neg():z(ne%T|0,ne/T|0,Qe)}function z(ne,Qe,De){return new y(ne,Qe,De)}y.fromInt=F,y.fromNumber=V,y.fromBits=z;var $=Math.pow;function L(ne,Qe,De){if(ne.length===0)throw Error("empty string");if(Qe=typeof Qe=="number"?(De=Qe,!1):!!Qe,ne==="NaN"||ne==="Infinity"||ne==="+Infinity"||ne==="-Infinity")return Qe?W:Z;if((De=De||10)<2||36<De)throw RangeError("radix");var Fe;if(0<(Fe=ne.indexOf("-")))throw Error("interior hyphen");if(Fe===0)return L(ne.substring(1),Qe,De).neg();for(var pe=V($(De,8)),ot=Z,ft=0;ft<ne.length;ft+=8){var yt=Math.min(8,ne.length-ft),Ot=parseInt(ne.substring(ft,ft+yt),De);ot=(yt<8?(yt=V($(De,yt)),ot.mul(yt)):ot=ot.mul(pe)).add(V(Ot))}return ot.unsigned=Qe,ot}function O(ne,Qe){return typeof ne=="number"?V(ne,Qe):typeof ne=="string"?L(ne,Qe):z(ne.low,ne.high,typeof Qe=="boolean"?Qe:ne.unsigned)}y.fromString=L,y.fromValue=O;var T=4294967296,w=T*T,k=w/2,Y=F(1<<24),Z=F(0),W=(y.ZERO=Z,F(0,!0)),K=(y.UZERO=W,F(1)),x=(y.ONE=K,F(1,!0)),X=(y.UONE=x,F(-1)),H=(y.NEG_ONE=X,z(-1,2147483647,!1)),j=(y.MAX_VALUE=H,z(-1,-1,!0)),ae=(y.MAX_UNSIGNED_VALUE=j,z(0,-2147483648,!1)),ce=(y.MIN_VALUE=ae,y.prototype);return ce.toInt=function(){return this.unsigned?this.low>>>0:this.low},ce.toNumber=function(){return this.unsigned?(this.high>>>0)*T+(this.low>>>0):this.high*T+(this.low>>>0)},ce.toString=function(ne){if((ne=ne||10)<2||36<ne)throw RangeError("radix");if(this.isZero())return"0";var Qe,De;if(this.isNegative())return this.eq(ae)?(De=V(ne),De=(Qe=this.div(De)).mul(De).sub(this),Qe.toString(ne)+De.toInt().toString(ne)):"-"+this.neg().toString(ne);for(var Fe=V($(ne,6),this.unsigned),pe=this,ot="";;){var ft=pe.div(Fe),yt=(pe.sub(ft.mul(Fe)).toInt()>>>0).toString(ne);if((pe=ft).isZero())return yt+ot;for(;yt.length<6;)yt="0"+yt;ot=""+yt+ot}},ce.getHighBits=function(){return this.high},ce.getHighBitsUnsigned=function(){return this.high>>>0},ce.getLowBits=function(){return this.low},ce.getLowBitsUnsigned=function(){return this.low>>>0},ce.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ae)?64:this.neg().getNumBitsAbs();for(var ne=this.high!=0?this.high:this.low,Qe=31;0<Qe&&!(ne&1<<Qe);Qe--);return this.high!=0?Qe+33:Qe+1},ce.isZero=function(){return this.high===0&&this.low===0},ce.eqz=ce.isZero,ce.isNegative=function(){return!this.unsigned&&this.high<0},ce.isPositive=function(){return this.unsigned||0<=this.high},ce.isOdd=function(){return(1&this.low)==1},ce.isEven=function(){return(1&this.low)==0},ce.equals=function(ne){return N(ne)||(ne=O(ne)),(this.unsigned===ne.unsigned||this.high>>>31!=1||ne.high>>>31!=1)&&this.high===ne.high&&this.low===ne.low},ce.eq=ce.equals,ce.notEquals=function(ne){return!this.eq(ne)},ce.neq=ce.notEquals,ce.ne=ce.notEquals,ce.lessThan=function(ne){return this.comp(ne)<0},ce.lt=ce.lessThan,ce.lessThanOrEqual=function(ne){return this.comp(ne)<=0},ce.lte=ce.lessThanOrEqual,ce.le=ce.lessThanOrEqual,ce.greaterThan=function(ne){return 0<this.comp(ne)},ce.gt=ce.greaterThan,ce.greaterThanOrEqual=function(ne){return 0<=this.comp(ne)},ce.gte=ce.greaterThanOrEqual,ce.ge=ce.greaterThanOrEqual,ce.compare=function(ne){var Qe,De;return N(ne)||(ne=O(ne)),this.eq(ne)?0:(Qe=this.isNegative(),De=ne.isNegative(),Qe&&!De?-1:!Qe&&De?1:this.unsigned?ne.high>>>0>this.high>>>0||ne.high===this.high&&ne.low>>>0>this.low>>>0?-1:1:this.sub(ne).isNegative()?-1:1)},ce.comp=ce.compare,ce.negate=function(){return!this.unsigned&&this.eq(ae)?ae:this.not().add(K)},ce.neg=ce.negate,ce.add=function(ne){N(ne)||(ne=O(ne));var Qe=this.high>>>16,De=65535&this.high,Fe=this.low>>>16,pe=65535&this.low,ot=ne.high>>>16,ft=65535&ne.high,yt=ne.low>>>16,Ot=0,ge=0,Ee=0,fe=0;return ge+=(Ee=Ee+((fe+=pe+(65535&ne.low))>>>16)+(Fe+yt))>>>16,z((Ee&=65535)<<16|(fe&=65535),((Ot+=(ge+=De+ft)>>>16)+(Qe+ot)&65535)<<16|(ge&=65535),this.unsigned)},ce.subtract=function(ne){return N(ne)||(ne=O(ne)),this.add(ne.neg())},ce.sub=ce.subtract,ce.multiply=function(ne){var Qe,De,Fe,pe,ot,ft,yt,Ot,ge,Ee,fe;return this.isZero()?this:(N(ne)||(ne=O(ne)),u?z(u.mul(this.low,this.high,ne.low,ne.high),u.get_high(),this.unsigned):ne.isZero()?this.unsigned?W:Z:this.eq(ae)?ne.isOdd()?ae:Z:ne.eq(ae)?this.isOdd()?ae:Z:this.isNegative()?ne.isNegative()?this.neg().mul(ne.neg()):this.neg().mul(ne).neg():ne.isNegative()?this.mul(ne.neg()).neg():this.lt(Y)&&ne.lt(Y)?V(this.toNumber()*ne.toNumber(),this.unsigned):(Qe=this.high>>>16,De=65535&this.high,Fe=this.low>>>16,pe=65535&this.low,ot=ne.high>>>16,ft=65535&ne.high,yt=ne.low>>>16,fe=(fe=Ee=ge=Ot=0)+((ge=ge+((Ee+=pe*(ne=65535&ne.low))>>>16)+Fe*ne)>>>16)+((ge=(65535&ge)+pe*yt)>>>16),z((ge&=65535)<<16|(Ee&=65535),(Ot=(Ot=(Ot+=(fe+=De*ne)>>>16)+((fe=(65535&fe)+Fe*yt)>>>16)+((fe=(65535&fe)+pe*ft)>>>16))+(Qe*ne+De*yt+Fe*ft+pe*ot)&65535)<<16|(fe&=65535),this.unsigned)))},ce.mul=ce.multiply,ce.divide=function(ne){if((ne=N(ne)?ne:O(ne)).isZero())throw Error("division by zero");var Qe,De,Fe;if(u)return this.unsigned||this.high!==-2147483648||ne.low!==-1||ne.high!==-1?z((this.unsigned?u.div_u:u.div_s)(this.low,this.high,ne.low,ne.high),u.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?W:Z;if(this.unsigned){if((ne=ne.unsigned?ne:ne.toUnsigned()).gt(this))return W;if(ne.gt(this.shru(1)))return x;De=W}else{if(this.eq(ae))return ne.eq(K)||ne.eq(X)?ae:ne.eq(ae)?K:(Fe=this.shr(1).div(ne).shl(1)).eq(Z)?ne.isNegative()?K:X:(Qe=this.sub(ne.mul(Fe)),Fe.add(Qe.div(ne)));if(ne.eq(ae))return this.unsigned?W:Z;if(this.isNegative())return ne.isNegative()?this.neg().div(ne.neg()):this.neg().div(ne).neg();if(ne.isNegative())return this.div(ne.neg()).neg();De=Z}for(Qe=this;Qe.gte(ne);){Fe=Math.max(1,Math.floor(Qe.toNumber()/ne.toNumber()));for(var pe=Math.ceil(Math.log(Fe)/Math.LN2),ot=pe<=48?1:$(2,pe-48),ft=V(Fe),yt=ft.mul(ne);yt.isNegative()||yt.gt(Qe);)yt=(ft=V(Fe-=ot,this.unsigned)).mul(ne);ft.isZero()&&(ft=K),De=De.add(ft),Qe=Qe.sub(yt)}return De},ce.div=ce.divide,ce.modulo=function(ne){return N(ne)||(ne=O(ne)),u?z((this.unsigned?u.rem_u:u.rem_s)(this.low,this.high,ne.low,ne.high),u.get_high(),this.unsigned):this.sub(this.div(ne).mul(ne))},ce.mod=ce.modulo,ce.rem=ce.modulo,ce.not=function(){return z(~this.low,~this.high,this.unsigned)},ce.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},ce.clz=ce.countLeadingZeros,ce.countTrailingZeros=function(){return this.low?U(this.low):U(this.high)+32},ce.ctz=ce.countTrailingZeros,ce.and=function(ne){return N(ne)||(ne=O(ne)),z(this.low&ne.low,this.high&ne.high,this.unsigned)},ce.or=function(ne){return N(ne)||(ne=O(ne)),z(this.low|ne.low,this.high|ne.high,this.unsigned)},ce.xor=function(ne){return N(ne)||(ne=O(ne)),z(this.low^ne.low,this.high^ne.high,this.unsigned)},ce.shiftLeft=function(ne){return N(ne)&&(ne=ne.toInt()),(ne&=63)==0?this:ne<32?z(this.low<<ne,this.high<<ne|this.low>>>32-ne,this.unsigned):z(0,this.low<<ne-32,this.unsigned)},ce.shl=ce.shiftLeft,ce.shiftRight=function(ne){return N(ne)&&(ne=ne.toInt()),(ne&=63)==0?this:ne<32?z(this.low>>>ne|this.high<<32-ne,this.high>>ne,this.unsigned):z(this.high>>ne-32,0<=this.high?0:-1,this.unsigned)},ce.shr=ce.shiftRight,ce.shiftRightUnsigned=function(ne){return N(ne)&&(ne=ne.toInt()),(ne&=63)==0?this:ne<32?z(this.low>>>ne|this.high<<32-ne,this.high>>>ne,this.unsigned):z(ne===32?this.high:this.high>>>ne-32,0,this.unsigned)},ce.shru=ce.shiftRightUnsigned,ce.shr_u=ce.shiftRightUnsigned,ce.rotateLeft=function(ne){var Qe;return N(ne)&&(ne=ne.toInt()),(ne&=63)==0?this:ne===32?z(this.high,this.low,this.unsigned):ne<32?z(this.low<<ne|this.high>>>(Qe=32-ne),this.high<<ne|this.low>>>Qe,this.unsigned):z(this.high<<(ne-=32)|this.low>>>(Qe=32-ne),this.low<<ne|this.high>>>Qe,this.unsigned)},ce.rotl=ce.rotateLeft,ce.rotateRight=function(ne){var Qe;return N(ne)&&(ne=ne.toInt()),(ne&=63)==0?this:ne===32?z(this.high,this.low,this.unsigned):ne<32?z(this.high<<(Qe=32-ne)|this.low>>>ne,this.low<<Qe|this.high>>>ne,this.unsigned):z(this.low<<(Qe=32-(ne-=32))|this.high>>>ne,this.high<<Qe|this.low>>>ne,this.unsigned)},ce.rotr=ce.rotateRight,ce.toSigned=function(){return this.unsigned?z(this.low,this.high,!1):this},ce.toUnsigned=function(){return this.unsigned?this:z(this.low,this.high,!0)},ce.toBytes=function(ne){return ne?this.toBytesLE():this.toBytesBE()},ce.toBytesLE=function(){var ne=this.high,Qe=this.low;return[255&Qe,Qe>>>8&255,Qe>>>16&255,Qe>>>24,255&ne,ne>>>8&255,ne>>>16&255,ne>>>24]},ce.toBytesBE=function(){var ne=this.high,Qe=this.low;return[ne>>>24,ne>>>16&255,ne>>>8&255,255&ne,Qe>>>24,Qe>>>16&255,Qe>>>8&255,255&Qe]},y.fromBytes=function(ne,Qe,De){return De?y.fromBytesLE(ne,Qe):y.fromBytesBE(ne,Qe)},y.fromBytesLE=function(ne,Qe){return new y(ne[0]|ne[1]<<8|ne[2]<<16|ne[3]<<24,ne[4]|ne[5]<<8|ne[6]<<16|ne[7]<<24,Qe)},y.fromBytesBE=function(ne,Qe){return new y(ne[4]<<24|ne[5]<<16|ne[6]<<8|ne[7],ne[0]<<24|ne[1]<<16|ne[2]<<8|ne[3],Qe)},p.default=y,"default"in p?p.default:p}({});(m=(function(){return Q}).apply(m,[]))!==void 0&&(_.exports=m)},function(_,m,I){(function(Q){var p;_.exports=(p=function(u){var y;if(typeof window<"u"&&window.crypto&&(y=window.crypto),typeof self<"u"&&self.crypto&&(y=self.crypto),!(y=!(y=!(y=typeof globalThis<"u"&&globalThis.crypto?globalThis.crypto:y)&&typeof window<"u"&&window.msCrypto?window.msCrypto:y)&&Q!==void 0&&Q.crypto?Q.crypto:y))try{y=I(14)}catch{}var N=Object.create||function(k){return U.prototype=k,k=new U,U.prototype=null,k};function U(){}var q={},te=q.lib={},F=te.Base={extend:function(k){var Y=N(this);return k&&Y.mixIn(k),Y.hasOwnProperty("init")&&this.init!==Y.init||(Y.init=function(){Y.$super.init.apply(this,arguments)}),(Y.init.prototype=Y).$super=this,Y},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var Y in k)k.hasOwnProperty(Y)&&(this[Y]=k[Y]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}},V=te.WordArray=F.extend({init:function(k,Y){k=this.words=k||[],this.sigBytes=Y!=null?Y:4*k.length},toString:function(k){return(k||$).stringify(this)},concat:function(k){var Y=this.words,Z=k.words,W=this.sigBytes,K=k.sigBytes;if(this.clamp(),W%4)for(var x=0;x<K;x++){var X=Z[x>>>2]>>>24-x%4*8&255;Y[W+x>>>2]|=X<<24-(W+x)%4*8}else for(var H=0;H<K;H+=4)Y[W+H>>>2]=Z[H>>>2];return this.sigBytes+=K,this},clamp:function(){var k=this.words,Y=this.sigBytes;k[Y>>>2]&=4294967295<<32-Y%4*8,k.length=u.ceil(Y/4)},clone:function(){var k=F.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var Y=[],Z=0;Z<k;Z+=4)Y.push(function(){if(y){if(typeof y.getRandomValues=="function")try{return y.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof y.randomBytes=="function")try{return y.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new V.init(Y,k)}}),z=q.enc={},$=z.Hex={stringify:function(k){for(var Y=k.words,Z=k.sigBytes,W=[],K=0;K<Z;K++){var x=Y[K>>>2]>>>24-K%4*8&255;W.push((x>>>4).toString(16)),W.push((15&x).toString(16))}return W.join("")},parse:function(k){for(var Y=k.length,Z=[],W=0;W<Y;W+=2)Z[W>>>3]|=parseInt(k.substr(W,2),16)<<24-W%8*4;return new V.init(Z,Y/2)}},L=z.Latin1={stringify:function(k){for(var Y=k.words,Z=k.sigBytes,W=[],K=0;K<Z;K++){var x=Y[K>>>2]>>>24-K%4*8&255;W.push(String.fromCharCode(x))}return W.join("")},parse:function(k){for(var Y=k.length,Z=[],W=0;W<Y;W++)Z[W>>>2]|=(255&k.charCodeAt(W))<<24-W%4*8;return new V.init(Z,Y)}},O=z.Utf8={stringify:function(k){try{return decodeURIComponent(escape(L.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return L.parse(unescape(encodeURIComponent(k)))}},T=te.BufferedBlockAlgorithm=F.extend({reset:function(){this._data=new V.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=O.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var Y,Z=this._data,W=Z.words,K=Z.sigBytes,x=this.blockSize,X=K/(4*x),H=(X=k?u.ceil(X):u.max((0|X)-this._minBufferSize,0))*x;if(k=u.min(4*H,K),H){for(var j=0;j<H;j+=x)this._doProcessBlock(W,j);Y=W.splice(0,H),Z.sigBytes-=k}return new V.init(Y,k)},clone:function(){var k=F.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0}),w=(te.Hasher=T.extend({cfg:F.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){return k&&this._append(k),this._doFinalize()},blockSize:16,_createHelper:function(k){return function(Y,Z){return new k.init(Z).finalize(Y)}},_createHmacHelper:function(k){return function(Y,Z){return new w.HMAC.init(k,Z).finalize(Y)}}}),q.algo={});return q}(Math),p)}).call(this,I(13))},function(_,m){_.exports=h},function(_,m,I){function Q(y){var N;return(u[y]||(N=u[y]={i:y,l:!1,exports:{}},p[y].call(N.exports,N,N.exports,Q),N.l=!0,N)).exports}var p,u;_.exports=(p=[function(y,N){var U=function(){return this}();try{U=U||new Function("return this")()}catch{typeof window=="object"&&(U=window)}y.exports=U},function(y,N){var U,q;y=y.exports={};function te(){throw new Error("setTimeout has not been defined")}function F(){throw new Error("clearTimeout has not been defined")}function V(Z){if(U===setTimeout)return setTimeout(Z,0);if((U===te||!U)&&setTimeout)return(U=setTimeout)(Z,0);try{return U(Z,0)}catch{try{return U.call(null,Z,0)}catch{return U.call(this,Z,0)}}}try{U=typeof setTimeout=="function"?setTimeout:te}catch{U=te}try{q=typeof clearTimeout=="function"?clearTimeout:F}catch{q=F}var z,$=[],L=!1,O=-1;function T(){L&&z&&(L=!1,z.length?$=z.concat($):O=-1,$.length)&&w()}function w(){if(!L){var Z=V(T);L=!0;for(var W=$.length;W;){for(z=$,$=[];++O<W;)z&&z[O].run();O=-1,W=$.length}z=null,L=!1,function(K){if(q===clearTimeout)return clearTimeout(K);if((q===F||!q)&&clearTimeout)return(q=clearTimeout)(K);try{q(K)}catch{try{return q.call(null,K)}catch{return q.call(this,K)}}}(Z)}}function k(Z,W){this.fun=Z,this.array=W}function Y(){}y.nextTick=function(Z){var W=new Array(arguments.length-1);if(1<arguments.length)for(var K=1;K<arguments.length;K++)W[K-1]=arguments[K];$.push(new k(Z,W)),$.length!==1||L||V(w)},k.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=Y,y.addListener=Y,y.once=Y,y.off=Y,y.removeListener=Y,y.removeAllListeners=Y,y.emit=Y,y.prependListener=Y,y.prependOnceListener=Y,y.listeners=function(Z){return[]},y.binding=function(Z){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(Z){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},function(y,N,U){(function(q,te,F,V){y.exports=function z($,L,O){function T(k,Y){if(!L[k]){if(!$[k])throw(Z=new Error("Cannot find module '"+k+"'")).code="MODULE_NOT_FOUND",Z;var Z=L[k]={exports:{}};$[k][0].call(Z.exports,function(W){return T($[k][1][W]||W)},Z,Z.exports,z,$,L,O)}return L[k].exports}for(var w=0;w<O.length;w++)T(O[w]);return T}({1:[function(z,$,L){var O=z("./utils"),T=z("./support"),w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";L.encode=function(k){for(var Y,Z,W,K,x,X,H=[],j=0,ae=k.length,ce=O.getTypeOf(k)!=="string";j<k.length;)X=ae-j,W=ce?(Y=k[j++],Z=j<ae?k[j++]:0,j<ae?k[j++]:0):(Y=k.charCodeAt(j++),Z=j<ae?k.charCodeAt(j++):0,j<ae?k.charCodeAt(j++):0),K=(3&Y)<<4|Z>>4,x=1<X?(15&Z)<<2|W>>6:64,X=2<X?63&W:64,H.push(w.charAt(Y>>2)+w.charAt(K)+w.charAt(x)+w.charAt(X));return H.join("")},L.decode=function(k){var Y,Z,W,K,x,X=0,H=0;if(k.substr(0,5)==="data:")throw new Error("Invalid base64 input, it looks like a data url.");var j,ae=3*(k=k.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(k.charAt(k.length-1)===w.charAt(64)&&ae--,k.charAt(k.length-2)===w.charAt(64)&&ae--,ae%1!=0)throw new Error("Invalid base64 input, bad content length.");for(j=new(T.uint8array?Uint8Array:Array)(0|ae);X<k.length;)Y=w.indexOf(k.charAt(X++))<<2|(K=w.indexOf(k.charAt(X++)))>>4,Z=(15&K)<<4|(K=w.indexOf(k.charAt(X++)))>>2,W=(3&K)<<6|(x=w.indexOf(k.charAt(X++))),j[H++]=Y,K!==64&&(j[H++]=Z),x!==64&&(j[H++]=W);return j}},{"./support":30,"./utils":32}],2:[function(z,$,L){var O=z("./external"),T=z("./stream/DataWorker"),w=z("./stream/Crc32Probe"),k=z("./stream/DataLengthProbe");function Y(Z,W,K,x,X){this.compressedSize=Z,this.uncompressedSize=W,this.crc32=K,this.compression=x,this.compressedContent=X}Y.prototype={getContentWorker:function(){var Z=new T(O.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new k("data_length")),W=this;return Z.on("end",function(){if(this.streamInfo.data_length!==W.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Z},getCompressedWorker:function(){return new T(O.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},Y.createWorkerFrom=function(Z,W,K){return Z.pipe(new w).pipe(new k("uncompressedSize")).pipe(W.compressWorker(K)).pipe(new k("compressedSize")).withStreamInfo("compression",W)},$.exports=Y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(z,$,L){var O=z("./stream/GenericWorker");L.STORE={magic:"\0\0",compressWorker:function(){return new O("STORE compression")},uncompressWorker:function(){return new O("STORE decompression")}},L.DEFLATE=z("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(z,$,L){var O=z("./utils"),T=function(){for(var w=[],k=0;k<256;k++){for(var Y=k,Z=0;Z<8;Z++)Y=1&Y?3988292384^Y>>>1:Y>>>1;w[k]=Y}return w}();$.exports=function(w,k){return w!==void 0&&w.length?(O.getTypeOf(w)!=="string"?function(Y,Z,W){var K=T,x=0+W;Y^=-1;for(var X=0;X<x;X++)Y=Y>>>8^K[255&(Y^Z[X])];return-1^Y}:function(Y,Z,W){var K=T,x=0+W;Y^=-1;for(var X=0;X<x;X++)Y=Y>>>8^K[255&(Y^Z.charCodeAt(X))];return-1^Y})(0|k,w,w.length):0}},{"./utils":32}],5:[function(z,$,L){L.base64=!1,L.binary=!1,L.dir=!1,L.createFolders=!0,L.date=null,L.compression=null,L.compressionOptions=null,L.comment=null,L.unixPermissions=null,L.dosPermissions=null},{}],6:[function(z,$,L){z=typeof Promise<"u"?Promise:z("lie"),$.exports={Promise:z}},{lie:37}],7:[function(z,$,L){var O=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",T=z("pako"),w=z("./utils"),k=z("./stream/GenericWorker"),Y=O?"uint8array":"array";function Z(W,K){k.call(this,"FlateWorker/"+W),this._pako=null,this._pakoAction=W,this._pakoOptions=K,this.meta={}}L.magic="\b\0",w.inherits(Z,k),Z.prototype.processChunk=function(W){this.meta=W.meta,this._pako===null&&this._createPako(),this._pako.push(w.transformTo(Y,W.data),!1)},Z.prototype.flush=function(){k.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},Z.prototype.cleanUp=function(){k.prototype.cleanUp.call(this),this._pako=null},Z.prototype._createPako=function(){this._pako=new T[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var W=this;this._pako.onData=function(K){W.push({data:K,meta:W.meta})}},L.compressWorker=function(W){return new Z("Deflate",W)},L.uncompressWorker=function(){return new Z("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(z,$,L){function O(x,X){for(var H="",j=0;j<X;j++)H+=String.fromCharCode(255&x),x>>>=8;return H}function T(x,X,H,j,ae,ce){var ne=x.file,Qe=x.compression,De=ce!==Y.utf8encode,Fe=w.transformTo("string",ce(ne.name)),pe=w.transformTo("string",Y.utf8encode(ne.name)),ot=ne.comment,ft=(ce=w.transformTo("string",ce(ot)),w.transformTo("string",Y.utf8encode(ot))),yt=pe.length!==ne.name.length,Ot=(ot=ft.length!==ot.length,""),ge=ne.dir,Ee=ne.date,fe={crc32:0,compressedSize:0,uncompressedSize:0};return X&&!H||(fe.crc32=x.crc32,fe.compressedSize=x.compressedSize,fe.uncompressedSize=x.uncompressedSize),H=0,X&&(H|=8),De||!yt&&!ot||(H|=2048),x=0,X=0,ge&&(x|=16),ae==="UNIX"?(X=798,x|=(65535&((De=ne.unixPermissions)?De:ge?16893:33204))<<16):(X=20,x|=63&(ne.dosPermissions||0)),ae=Ee.getUTCHours(),ae=(ae=((ae<<=6)|Ee.getUTCMinutes())<<5)|Ee.getUTCSeconds()/2,De=Ee.getUTCFullYear()-1980,De=(De=((De<<=4)|Ee.getUTCMonth()+1)<<5)|Ee.getUTCDate(),yt&&(ge=O(1,1)+O(Z(Fe),4)+pe,Ot+="up"+O(ge.length,2)+ge),ot&&(ne=O(1,1)+O(Z(ce),4)+ft,Ot+="uc"+O(ne.length,2)+ne),Ee="",Ee=(Ee=(Ee=(Ee=(Ee=(Ee=(Ee=(Ee=(Ee=(Ee+=`
\0`)+O(H,2))+Qe.magic)+O(ae,2))+O(De,2))+O(fe.crc32,4))+O(fe.compressedSize,4))+O(fe.uncompressedSize,4))+O(Fe.length,2))+O(Ot.length,2),{fileRecord:W.LOCAL_FILE_HEADER+Ee+Fe+Ot,dirRecord:W.CENTRAL_FILE_HEADER+O(X,2)+Ee+O(ce.length,2)+"\0\0\0\0"+O(x,4)+O(j,4)+Fe+Ot+ce}}var w=z("../utils"),k=z("../stream/GenericWorker"),Y=z("../utf8"),Z=z("../crc32"),W=z("../signature");function K(x,X,H,j){k.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=X,this.zipPlatform=H,this.encodeFileName=j,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}w.inherits(K,k),K.prototype.push=function(x){var X=x.meta.percent||0,H=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,k.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:H?(X+100*(H-j-1))/H:100}}))},K.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var X=this.streamFiles&&!x.file.dir;X?(x=T(x,X,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:x.fileRecord,meta:{percent:0}})):this.accumulate=!0},K.prototype.closedSource=function(x){this.accumulate=!1;var X=this.streamFiles&&!x.file.dir,H=T(x,X,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(H.dirRecord),X)this.push({data:(X=x,W.DATA_DESCRIPTOR+O(X.crc32,4)+O(X.compressedSize,4)+O(X.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:H.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},K.prototype.flush=function(){for(var x=this.bytesWritten,X=0;X<this.dirRecords.length;X++)this.push({data:this.dirRecords[X],meta:{percent:100}});var H=this.bytesWritten-x;H=function(j,ae,ce,ne,Qe){return Qe=w.transformTo("string",Qe(ne)),W.CENTRAL_DIRECTORY_END+"\0\0\0\0"+O(j,2)+O(j,2)+O(ae,4)+O(ce,4)+O(Qe.length,2)+Qe}(this.dirRecords.length,H,x,this.zipComment,this.encodeFileName),this.push({data:H,meta:{percent:100}})},K.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},K.prototype.registerPrevious=function(x){this._sources.push(x);var X=this;return x.on("data",function(H){X.processChunk(H)}),x.on("end",function(){X.closedSource(X.previous.streamInfo),X._sources.length?X.prepareNextSource():X.end()}),x.on("error",function(H){X.error(H)}),this},K.prototype.resume=function(){return!!k.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},K.prototype.error=function(x){var X=this._sources;if(!k.prototype.error.call(this,x))return!1;for(var H=0;H<X.length;H++)try{X[H].error(x)}catch{}return!0},K.prototype.lock=function(){k.prototype.lock.call(this);for(var x=this._sources,X=0;X<x.length;X++)x[X].lock()},$.exports=K},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(z,$,L){var O=z("../compressions"),T=z("./ZipFileWorker");L.generateWorker=function(w,k,Y){var Z=new T(k.streamFiles,Y,k.platform,k.encodeFileName),W=0;try{w.forEach(function(K,x){W++;var X=function(ce,ne){if(ne=O[ce=ce||ne])return ne;throw new Error(ce+" is not a valid compression method !")}(x.options.compression,k.compression),H=x.options.compressionOptions||k.compressionOptions||{},j=x.dir,ae=x.date;x._compressWorker(X,H).withStreamInfo("file",{name:K,dir:j,date:ae,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(Z)}),Z.entriesCount=W}catch(K){Z.error(K)}return Z}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(z,$,L){function O(){if(!(this instanceof O))return new O;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var T,w=new O;for(T in this)typeof this[T]!="function"&&(w[T]=this[T]);return w}}(O.prototype=z("./object")).loadAsync=z("./load"),O.support=z("./support"),O.defaults=z("./defaults"),O.version="3.10.1",O.loadAsync=function(T,w){return new O().loadAsync(T,w)},O.external=z("./external"),$.exports=O},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(z,$,L){var O=z("./utils"),T=z("./external"),w=z("./utf8"),k=z("./zipEntries"),Y=z("./stream/Crc32Probe"),Z=z("./nodejsUtils");$.exports=function(W,K){var x=this;return K=O.extend(K||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:w.utf8decode}),Z.isNode&&Z.isStream(W)?T.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):O.prepareContent("the loaded zip file",W,!0,K.optimizedBinaryString,K.base64).then(function(X){var H=new k(K);return H.load(X),H}).then(function(X){var H=[T.Promise.resolve(X)],j=X.files;if(K.checkCRC32)for(var ae=0;ae<j.length;ae++)H.push(function(ce){return new T.Promise(function(ne,Qe){var De=ce.decompressed.getContentWorker().pipe(new Y);De.on("error",function(Fe){Qe(Fe)}).on("end",function(){De.streamInfo.crc32!==ce.decompressed.crc32?Qe(new Error("Corrupted zip : CRC32 mismatch")):ne()}).resume()})}(j[ae]));return T.Promise.all(H)}).then(function(X){for(var H=(X=X.shift()).files,j=0;j<H.length;j++){var ae=H[j],ce=ae.fileNameStr,ne=O.resolve(ae.fileNameStr);x.file(ne,ae.decompressed,{binary:!0,optimizedBinaryString:!0,date:ae.date,dir:ae.dir,comment:ae.fileCommentStr.length?ae.fileCommentStr:null,unixPermissions:ae.unixPermissions,dosPermissions:ae.dosPermissions,createFolders:K.createFolders}),ae.dir||(x.file(ne).unsafeOriginalName=ce)}return X.zipComment.length&&(x.comment=X.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(z,$,L){var O=z("../utils"),T=z("../stream/GenericWorker");function w(k,Y){T.call(this,"Nodejs stream input adapter for "+k),this._upstreamEnded=!1,this._bindStream(Y)}O.inherits(w,T),w.prototype._bindStream=function(k){var Y=this;(this._stream=k).pause(),k.on("data",function(Z){Y.push({data:Z,meta:{percent:0}})}).on("error",function(Z){Y.isPaused?this.generatedError=Z:Y.error(Z)}).on("end",function(){Y.isPaused?Y._upstreamEnded=!0:Y.end()})},w.prototype.pause=function(){return!!T.prototype.pause.call(this)&&(this._stream.pause(),!0)},w.prototype.resume=function(){return!!T.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},$.exports=w},{"../stream/GenericWorker":28,"../utils":32}],13:[function(z,$,L){var O=z("readable-stream").Readable;function T(w,k,Y){O.call(this,k),this._helper=w;var Z=this;w.on("data",function(W,K){Z.push(W)||Z._helper.pause(),Y&&Y(K)}).on("error",function(W){Z.emit("error",W)}).on("end",function(){Z.push(null)})}z("../utils").inherits(T,O),T.prototype._read=function(){this._helper.resume()},$.exports=T},{"../utils":32,"readable-stream":16}],14:[function(z,$,L){$.exports={isNode:q!==void 0,newBufferFrom:function(O,T){if(q.from&&q.from!==Uint8Array.from)return q.from(O,T);if(typeof O=="number")throw new Error('The "data" argument must not be a number');return new q(O,T)},allocBuffer:function(O){return q.alloc?q.alloc(O):((O=new q(O)).fill(0),O)},isBuffer:function(O){return q.isBuffer(O)},isStream:function(O){return O&&typeof O.on=="function"&&typeof O.pause=="function"&&typeof O.resume=="function"}}},{}],15:[function(z,$,L){function O(ne,Qe,De){var Fe=k.getTypeOf(Qe),pe=k.extend(De||{},W);pe.date=pe.date||new Date,pe.compression!==null&&(pe.compression=pe.compression.toUpperCase()),typeof pe.unixPermissions=="string"&&(pe.unixPermissions=parseInt(pe.unixPermissions,8)),pe.unixPermissions&&16384&pe.unixPermissions&&(pe.dir=!0),pe.dosPermissions&&16&pe.dosPermissions&&(pe.dir=!0),pe.dir&&(ne=ae(ne)),pe.createFolders&&(ot=function(ft){var yt=(ft=ft.slice(-1)==="/"?ft.substring(0,ft.length-1):ft).lastIndexOf("/");return 0<yt?ft.substring(0,yt):""}(ne))&&T.call(this,ot,!0);var ot=Fe==="string"&&pe.binary===!1&&pe.base64===!1;De&&De.binary!==void 0||(pe.binary=!ot),(Qe instanceof K&&Qe.uncompressedSize===0||pe.dir||!Qe||Qe.length===0)&&(pe.base64=!1,pe.binary=!0,Qe="",pe.compression="STORE"),Fe=Qe instanceof K||Qe instanceof Y?Qe:H.isNode&&H.isStream(Qe)?new j(ne,Qe):k.prepareContent(ne,Qe,pe.binary,pe.optimizedBinaryString,pe.base64),De=new x(ne,Fe,pe),this.files[ne]=De}function T(ne,Qe){return Qe=Qe!==void 0?Qe:W.createFolders,ne=ae(ne),this.files[ne]||O.call(this,ne,null,{dir:!0,createFolders:Qe}),this.files[ne]}var w=z("./utf8"),k=z("./utils"),Y=z("./stream/GenericWorker"),Z=z("./stream/StreamHelper"),W=z("./defaults"),K=z("./compressedObject"),x=z("./zipObject"),X=z("./generate"),H=z("./nodejsUtils"),j=z("./nodejs/NodejsStreamInputAdapter"),ae=function(ne){return ne.slice(-1)!=="/"&&(ne+="/"),ne};function ce(ne){return Object.prototype.toString.call(ne)==="[object RegExp]"}$.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(ne){var Qe,De,Fe;for(Qe in this.files)Fe=this.files[Qe],(De=Qe.slice(this.root.length,Qe.length))&&Qe.slice(0,this.root.length)===this.root&&ne(De,Fe)},filter:function(ne){var Qe=[];return this.forEach(function(De,Fe){ne(De,Fe)&&Qe.push(Fe)}),Qe},file:function(ne,Qe,De){var Fe;return arguments.length!==1?(ne=this.root+ne,O.call(this,ne,Qe,De),this):ce(ne)?(Fe=ne,this.filter(function(pe,ot){return!ot.dir&&Fe.test(pe)})):(Qe=this.files[this.root+ne])&&!Qe.dir?Qe:null},folder:function(ne){var Qe,De;return ne?ce(ne)?this.filter(function(Fe,pe){return pe.dir&&ne.test(Fe)}):(Qe=this.root+ne,Qe=T.call(this,Qe),(De=this.clone()).root=Qe.name,De):this},remove:function(ne){ne=this.root+ne;var Qe=this.files[ne];if(Qe||(ne.slice(-1)!=="/"&&(ne+="/"),Qe=this.files[ne]),Qe&&!Qe.dir)delete this.files[ne];else for(var De=this.filter(function(pe,ot){return ot.name.slice(0,ne.length)===ne}),Fe=0;Fe<De.length;Fe++)delete this.files[De[Fe].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(ne){var Qe={};try{if((Qe=k.extend(ne||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:w.utf8encode})).type=Qe.type.toLowerCase(),Qe.compression=Qe.compression.toUpperCase(),Qe.type==="binarystring"&&(Qe.type="string"),!Qe.type)throw new Error("No output type specified.");k.checkSupport(Qe.type),Qe.platform!=="darwin"&&Qe.platform!=="freebsd"&&Qe.platform!=="linux"&&Qe.platform!=="sunos"||(Qe.platform="UNIX"),Qe.platform==="win32"&&(Qe.platform="DOS");var De=Qe.comment||this.comment||"",Fe=X.generateWorker(this,Qe,De)}catch(pe){(Fe=new Y("error")).error(pe)}return new Z(Fe,Qe.type||"string",Qe.mimeType)},generateAsync:function(ne,Qe){return this.generateInternalStream(ne).accumulate(Qe)},generateNodeStream:function(ne,Qe){return(ne=ne||{}).type||(ne.type="nodebuffer"),this.generateInternalStream(ne).toNodejsStream(Qe)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(z,$,L){$.exports=z("stream")},{stream:void 0}],17:[function(z,$,L){var O=z("./DataReader");function T(w){O.call(this,w);for(var k=0;k<this.data.length;k++)w[k]=255&w[k]}z("../utils").inherits(T,O),T.prototype.byteAt=function(w){return this.data[this.zero+w]},T.prototype.lastIndexOfSignature=function(w){for(var k=w.charCodeAt(0),Y=w.charCodeAt(1),Z=w.charCodeAt(2),W=w.charCodeAt(3),K=this.length-4;0<=K;--K)if(this.data[K]===k&&this.data[K+1]===Y&&this.data[K+2]===Z&&this.data[K+3]===W)return K-this.zero;return-1},T.prototype.readAndCheckSignature=function(w){var k=w.charCodeAt(0),Y=w.charCodeAt(1),Z=w.charCodeAt(2),W=(w=w.charCodeAt(3),this.readData(4));return k===W[0]&&Y===W[1]&&Z===W[2]&&w===W[3]},T.prototype.readData=function(w){var k;return this.checkOffset(w),w===0?[]:(k=this.data.slice(this.zero+this.index,this.zero+this.index+w),this.index+=w,k)},$.exports=T},{"../utils":32,"./DataReader":18}],18:[function(z,$,L){var O=z("../utils");function T(w){this.data=w,this.length=w.length,this.index=0,this.zero=0}T.prototype={checkOffset:function(w){this.checkIndex(this.index+w)},checkIndex:function(w){if(this.length<this.zero+w||w<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+w+"). Corrupted zip ?")},setIndex:function(w){this.checkIndex(w),this.index=w},skip:function(w){this.setIndex(this.index+w)},byteAt:function(){},readInt:function(w){var k,Y=0;for(this.checkOffset(w),k=this.index+w-1;k>=this.index;k--)Y=(Y<<8)+this.byteAt(k);return this.index+=w,Y},readString:function(w){return O.transformTo("string",this.readData(w))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var w=this.readInt(4);return new Date(Date.UTC(1980+(w>>25&127),(w>>21&15)-1,w>>16&31,w>>11&31,w>>5&63,(31&w)<<1))}},$.exports=T},{"../utils":32}],19:[function(z,$,L){var O=z("./Uint8ArrayReader");function T(w){O.call(this,w)}z("../utils").inherits(T,O),T.prototype.readData=function(w){this.checkOffset(w);var k=this.data.slice(this.zero+this.index,this.zero+this.index+w);return this.index+=w,k},$.exports=T},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(z,$,L){var O=z("./DataReader");function T(w){O.call(this,w)}z("../utils").inherits(T,O),T.prototype.byteAt=function(w){return this.data.charCodeAt(this.zero+w)},T.prototype.lastIndexOfSignature=function(w){return this.data.lastIndexOf(w)-this.zero},T.prototype.readAndCheckSignature=function(w){return w===this.readData(4)},T.prototype.readData=function(w){this.checkOffset(w);var k=this.data.slice(this.zero+this.index,this.zero+this.index+w);return this.index+=w,k},$.exports=T},{"../utils":32,"./DataReader":18}],21:[function(z,$,L){var O=z("./ArrayReader");function T(w){O.call(this,w)}z("../utils").inherits(T,O),T.prototype.readData=function(w){var k;return this.checkOffset(w),w===0?new Uint8Array(0):(k=this.data.subarray(this.zero+this.index,this.zero+this.index+w),this.index+=w,k)},$.exports=T},{"../utils":32,"./ArrayReader":17}],22:[function(z,$,L){var O=z("../utils"),T=z("../support"),w=z("./ArrayReader"),k=z("./StringReader"),Y=z("./NodeBufferReader"),Z=z("./Uint8ArrayReader");$.exports=function(W){var K=O.getTypeOf(W);return O.checkSupport(K),K!=="string"||T.uint8array?K==="nodebuffer"?new Y(W):T.uint8array?new Z(O.transformTo("uint8array",W)):new w(O.transformTo("array",W)):new k(W)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(z,$,L){L.LOCAL_FILE_HEADER="PK",L.CENTRAL_FILE_HEADER="PK",L.CENTRAL_DIRECTORY_END="PK",L.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",L.ZIP64_CENTRAL_DIRECTORY_END="PK",L.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(z,$,L){var O=z("./GenericWorker"),T=z("../utils");function w(k){O.call(this,"ConvertWorker to "+k),this.destType=k}T.inherits(w,O),w.prototype.processChunk=function(k){this.push({data:T.transformTo(this.destType,k.data),meta:k.meta})},$.exports=w},{"../utils":32,"./GenericWorker":28}],25:[function(z,$,L){var O=z("./GenericWorker"),T=z("../crc32");function w(){O.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}z("../utils").inherits(w,O),w.prototype.processChunk=function(k){this.streamInfo.crc32=T(k.data,this.streamInfo.crc32||0),this.push(k)},$.exports=w},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(z,$,L){var O=z("../utils"),T=z("./GenericWorker");function w(k){T.call(this,"DataLengthProbe for "+k),this.propName=k,this.withStreamInfo(k,0)}O.inherits(w,T),w.prototype.processChunk=function(k){var Y;k&&(Y=this.streamInfo[this.propName]||0,this.streamInfo[this.propName]=Y+k.data.length),T.prototype.processChunk.call(this,k)},$.exports=w},{"../utils":32,"./GenericWorker":28}],27:[function(z,$,L){var O=z("../utils"),T=z("./GenericWorker");function w(k){T.call(this,"DataWorker");var Y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,k.then(function(Z){Y.dataIsReady=!0,Y.data=Z,Y.max=Z&&Z.length||0,Y.type=O.getTypeOf(Z),Y.isPaused||Y._tickAndRepeat()},function(Z){Y.error(Z)})}O.inherits(w,T),w.prototype.cleanUp=function(){T.prototype.cleanUp.call(this),this.data=null},w.prototype.resume=function(){return!!T.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,O.delay(this._tickAndRepeat,[],this)),!0)},w.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished)||(O.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0)},w.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var k=null,Y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":k=this.data.substring(this.index,Y);break;case"uint8array":k=this.data.subarray(this.index,Y);break;case"array":case"nodebuffer":k=this.data.slice(this.index,Y)}return this.index=Y,this.push({data:k,meta:{percent:this.max?this.index/this.max*100:0}})},$.exports=w},{"../utils":32,"./GenericWorker":28}],28:[function(z,$,L){function O(T){this.name=T||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}O.prototype={push:function(T){this.emit("data",T)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(T){this.emit("error",T)}return!0},error:function(T){return!this.isFinished&&(this.isPaused?this.generatedError=T:(this.isFinished=!0,this.emit("error",T),this.previous&&this.previous.error(T),this.cleanUp()),!0)},on:function(T,w){return this._listeners[T].push(w),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(T,w){if(this._listeners[T])for(var k=0;k<this._listeners[T].length;k++)this._listeners[T][k].call(this,w)},pipe:function(T){return T.registerPrevious(this)},registerPrevious:function(T){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=T.streamInfo,this.mergeStreamInfo(),this.previous=T;var w=this;return T.on("data",function(k){w.processChunk(k)}),T.on("end",function(){w.end()}),T.on("error",function(k){w.error(k)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){var T;return!(!this.isPaused||this.isFinished||(T=this.isPaused=!1,this.generatedError&&(this.error(this.generatedError),T=!0),this.previous&&this.previous.resume(),T))},flush:function(){},processChunk:function(T){this.push(T)},withStreamInfo:function(T,w){return this.extraStreamInfo[T]=w,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var T in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,T)&&(this.streamInfo[T]=this.extraStreamInfo[T])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var T="Worker "+this.name;return this.previous?this.previous+" -> "+T:T}},$.exports=O},{}],29:[function(z,$,L){var O=z("../utils"),T=z("./ConvertWorker"),w=z("./GenericWorker"),k=z("../base64"),Y=z("../support"),Z=z("../external"),W=null;if(Y.nodestream)try{W=z("../nodejs/NodejsStreamOutputAdapter")}catch{}function K(x,X,H){var j=X;switch(X){case"blob":case"arraybuffer":j="uint8array";break;case"base64":j="string"}try{this._internalType=j,this._outputType=X,this._mimeType=H,O.checkSupport(j),this._worker=x.pipe(new T(j)),x.lock()}catch(ae){this._worker=new w("error"),this._worker.error(ae)}}K.prototype={accumulate:function(x){return X=this,H=x,new Z.Promise(function(j,ae){var ce=[],ne=X._internalType,Qe=X._outputType,De=X._mimeType;X.on("data",function(Fe,pe){ce.push(Fe),H&&H(pe)}).on("error",function(Fe){ce=[],ae(Fe)}).on("end",function(){try{var Fe=function(pe,ot,ft){switch(pe){case"blob":return O.newBlob(O.transformTo("arraybuffer",ot),ft);case"base64":return k.encode(ot);default:return O.transformTo(pe,ot)}}(Qe,function(pe,ot){for(var ft=0,yt=null,Ot=0,ge=0;ge<ot.length;ge++)Ot+=ot[ge].length;switch(pe){case"string":return ot.join("");case"array":return Array.prototype.concat.apply([],ot);case"uint8array":for(yt=new Uint8Array(Ot),ge=0;ge<ot.length;ge++)yt.set(ot[ge],ft),ft+=ot[ge].length;return yt;case"nodebuffer":return q.concat(ot);default:throw new Error("concat : unsupported type '"+pe+"'")}}(ne,ce),De);j(Fe)}catch(pe){ae(pe)}ce=[]}).resume()});var X,H},on:function(x,X){var H=this;return x==="data"?this._worker.on(x,function(j){X.call(H,j.data,j.meta)}):this._worker.on(x,function(){O.delay(X,arguments,H)}),this},resume:function(){return O.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(O.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new W(this,{objectMode:this._outputType!=="nodebuffer"},x)}},$.exports=K},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(z,$,L){if(L.base64=!0,L.array=!0,L.string=!0,L.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",L.nodebuffer=q!==void 0,L.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")L.blob=!1;else{var O=new ArrayBuffer(0);try{L.blob=new Blob([O],{type:"application/zip"}).size===0}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);T.append(O),L.blob=T.getBlob("application/zip").size===0}catch{L.blob=!1}}}try{L.nodestream=!!z("readable-stream").Readable}catch{L.nodestream=!1}},{"readable-stream":16}],31:[function(z,$,L){for(var O=z("./utils"),T=z("./support"),w=z("./nodejsUtils"),k=z("./stream/GenericWorker"),Y=new Array(256),Z=0;Z<256;Z++)Y[Z]=252<=Z?6:248<=Z?5:240<=Z?4:224<=Z?3:192<=Z?2:1;function W(){k.call(this,"utf-8 decode"),this.leftOver=null}function K(){k.call(this,"utf-8 encode")}Y[254]=Y[254]=1,L.utf8encode=function(x){if(T.nodebuffer)return w.newBufferFrom(x,"utf-8");for(var X,H,j,ae,ce=x,ne=ce.length,Qe=0,De=0;De<ne;De++)(64512&(H=ce.charCodeAt(De)))==55296&&De+1<ne&&(64512&(j=ce.charCodeAt(De+1)))==56320&&(H=65536+(H-55296<<10)+(j-56320),De++),Qe+=H<128?1:H<2048?2:H<65536?3:4;for(X=new(T.uint8array?Uint8Array:Array)(Qe),De=ae=0;ae<Qe;De++)(64512&(H=ce.charCodeAt(De)))==55296&&De+1<ne&&(64512&(j=ce.charCodeAt(De+1)))==56320&&(H=65536+(H-55296<<10)+(j-56320),De++),H<128?X[ae++]=H:(H<2048?X[ae++]=192|H>>>6:(H<65536?X[ae++]=224|H>>>12:(X[ae++]=240|H>>>18,X[ae++]=128|H>>>12&63),X[ae++]=128|H>>>6&63),X[ae++]=128|63&H);return X},L.utf8decode=function(x){if(T.nodebuffer)return O.transformTo("nodebuffer",x).toString("utf-8");for(var X,H,j,ae=x=O.transformTo(T.uint8array?"uint8array":"array",x),ce=ae.length,ne=new Array(2*ce),Qe=X=0;Qe<ce;)if((H=ae[Qe++])<128)ne[X++]=H;else if(4<(j=Y[H]))ne[X++]=65533,Qe+=j-1;else{for(H&=j===2?31:j===3?15:7;1<j&&Qe<ce;)H=H<<6|63&ae[Qe++],j--;1<j?ne[X++]=65533:H<65536?ne[X++]=H:(H-=65536,ne[X++]=55296|H>>10&1023,ne[X++]=56320|1023&H)}return ne.length!==X&&(ne.subarray?ne=ne.subarray(0,X):ne.length=X),O.applyFromCharCode(ne)},O.inherits(W,k),W.prototype.processChunk=function(x){var X=O.transformTo(T.uint8array?"uint8array":"array",x.data),H=(this.leftOver&&this.leftOver.length&&(T.uint8array?(H=X,(X=new Uint8Array(H.length+this.leftOver.length)).set(this.leftOver,0),X.set(H,this.leftOver.length)):X=this.leftOver.concat(X),this.leftOver=null),function(ae,ce){for(var ne=(ce=(ce=ce||ae.length)>ae.length?ae.length:ce)-1;0<=ne&&(192&ae[ne])==128;)ne--;return!(ne<0||ne===0)&&ne+Y[ae[ne]]>ce?ne:ce}(X)),j=X;H!==X.length&&(T.uint8array?(j=X.subarray(0,H),this.leftOver=X.subarray(H,X.length)):(j=X.slice(0,H),this.leftOver=X.slice(H,X.length))),this.push({data:L.utf8decode(j),meta:x.meta})},W.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:L.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},L.Utf8DecodeWorker=W,O.inherits(K,k),K.prototype.processChunk=function(x){this.push({data:L.utf8encode(x.data),meta:x.meta})},L.Utf8EncodeWorker=K},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(z,$,L){var O=z("./support"),T=z("./base64"),w=z("./nodejsUtils"),k=z("./external");function Y(H){return H}function Z(H,j){for(var ae=0;ae<H.length;++ae)j[ae]=255&H.charCodeAt(ae);return j}z("setimmediate"),L.newBlob=function(H,j){L.checkSupport("blob");try{return new Blob([H],{type:j})}catch{try{var ae=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return ae.append(H),ae.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var W={stringifyByChunk:function(H,j,ae){var ce=[],ne=0,Qe=H.length;if(Qe<=ae)return String.fromCharCode.apply(null,H);for(;ne<Qe;)ce.push(j==="array"||j==="nodebuffer"?String.fromCharCode.apply(null,H.slice(ne,Math.min(ne+ae,Qe))):String.fromCharCode.apply(null,H.subarray(ne,Math.min(ne+ae,Qe)))),ne+=ae;return ce.join("")},stringifyByChar:function(H){for(var j="",ae=0;ae<H.length;ae++)j+=String.fromCharCode(H[ae]);return j},applyCanBeUsed:{uint8array:function(){try{return O.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return O.nodebuffer&&String.fromCharCode.apply(null,w.allocBuffer(1)).length===1}catch{return!1}}()}};function K(H){var j=65536,ae=L.getTypeOf(H),ce=!0;if(ae==="uint8array"?ce=W.applyCanBeUsed.uint8array:ae==="nodebuffer"&&(ce=W.applyCanBeUsed.nodebuffer),ce)for(;1<j;)try{return W.stringifyByChunk(H,ae,j)}catch{j=Math.floor(j/2)}return W.stringifyByChar(H)}function x(H,j){for(var ae=0;ae<H.length;ae++)j[ae]=H[ae];return j}L.applyFromCharCode=K;var X={};X.string={string:Y,array:function(H){return Z(H,new Array(H.length))},arraybuffer:function(H){return X.string.uint8array(H).buffer},uint8array:function(H){return Z(H,new Uint8Array(H.length))},nodebuffer:function(H){return Z(H,w.allocBuffer(H.length))}},X.array={string:K,array:Y,arraybuffer:function(H){return new Uint8Array(H).buffer},uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return w.newBufferFrom(H)}},X.arraybuffer={string:function(H){return K(new Uint8Array(H))},array:function(H){return x(new Uint8Array(H),new Array(H.byteLength))},arraybuffer:Y,uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return w.newBufferFrom(new Uint8Array(H))}},X.uint8array={string:K,array:function(H){return x(H,new Array(H.length))},arraybuffer:function(H){return H.buffer},uint8array:Y,nodebuffer:function(H){return w.newBufferFrom(H)}},X.nodebuffer={string:K,array:function(H){return x(H,new Array(H.length))},arraybuffer:function(H){return X.nodebuffer.uint8array(H).buffer},uint8array:function(H){return x(H,new Uint8Array(H.length))},nodebuffer:Y},L.transformTo=function(H,j){if(j=j||"",!H)return j;L.checkSupport(H);var ae=L.getTypeOf(j);return X[ae][H](j)},L.resolve=function(H){for(var j=H.split("/"),ae=[],ce=0;ce<j.length;ce++){var ne=j[ce];ne==="."||ne===""&&ce!==0&&ce!==j.length-1||(ne===".."?ae.pop():ae.push(ne))}return ae.join("/")},L.getTypeOf=function(H){return typeof H=="string"?"string":Object.prototype.toString.call(H)==="[object Array]"?"array":O.nodebuffer&&w.isBuffer(H)?"nodebuffer":O.uint8array&&H instanceof Uint8Array?"uint8array":O.arraybuffer&&H instanceof ArrayBuffer?"arraybuffer":void 0},L.checkSupport=function(H){if(!O[H.toLowerCase()])throw new Error(H+" is not supported by this platform")},L.MAX_VALUE_16BITS=65535,L.MAX_VALUE_32BITS=-1,L.pretty=function(H){for(var j,ae="",ce=0;ce<(H||"").length;ce++)ae+="\\x"+((j=H.charCodeAt(ce))<16?"0":"")+j.toString(16).toUpperCase();return ae},L.delay=function(H,j,ae){te(function(){H.apply(ae||null,j||[])})},L.inherits=function(H,j){function ae(){}ae.prototype=j.prototype,H.prototype=new ae},L.extend=function(){for(var H,j={},ae=0;ae<arguments.length;ae++)for(H in arguments[ae])Object.prototype.hasOwnProperty.call(arguments[ae],H)&&j[H]===void 0&&(j[H]=arguments[ae][H]);return j},L.prepareContent=function(H,j,ae,ce,ne){return k.Promise.resolve(j).then(function(Qe){return O.blob&&(Qe instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Qe))!==-1)&&typeof FileReader<"u"?new k.Promise(function(De,Fe){var pe=new FileReader;pe.onload=function(ot){De(ot.target.result)},pe.onerror=function(ot){Fe(ot.target.error)},pe.readAsArrayBuffer(Qe)}):Qe}).then(function(Qe){var De=L.getTypeOf(Qe);return De?(De==="arraybuffer"?Qe=L.transformTo("uint8array",Qe):De==="string"&&(ne?Qe=T.decode(Qe):ae&&ce!==!0&&(Qe=Z(De=Qe,new(O.uint8array?Uint8Array:Array)(De.length)))),Qe):k.Promise.reject(new Error("Can't read the data of '"+H+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(z,$,L){var O=z("./reader/readerFor"),T=z("./utils"),w=z("./signature"),k=z("./zipEntry"),Y=z("./support");function Z(W){this.files=[],this.loadOptions=W}Z.prototype={checkSignature:function(W){var K;if(!this.reader.readAndCheckSignature(W))throw this.reader.index-=4,K=this.reader.readString(4),new Error("Corrupted zip or bug: unexpected signature ("+T.pretty(K)+", expected "+T.pretty(W)+")")},isSignature:function(W,K){var x=this.reader.index;return this.reader.setIndex(W),W=this.reader.readString(4)===K,this.reader.setIndex(x),W},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var W=this.reader.readData(this.zipCommentLength),K=Y.uint8array?"uint8array":"array";K=T.transformTo(K,W),this.zipComment=this.loadOptions.decodeFileName(K)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var W,K,x,X=this.zip64EndOfCentralSize-44;0<X;)W=this.reader.readInt(2),K=this.reader.readInt(4),x=this.reader.readData(K),this.zip64ExtensibleData[W]={id:W,length:K,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){for(var W,K=0;K<this.files.length;K++)W=this.files[K],this.reader.setIndex(W.localHeaderOffset),this.checkSignature(w.LOCAL_FILE_HEADER),W.readLocalPart(this.reader),W.handleUTF8(),W.processAttributes()},readCentralDir:function(){var W;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(w.CENTRAL_FILE_HEADER);)(W=new k({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(W);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var W=this.reader.lastIndexOfSignature(w.CENTRAL_DIRECTORY_END);if(W<0)throw this.isSignature(0,w.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(W);var K=W;if(this.checkSignature(w.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===T.MAX_VALUE_16BITS||this.diskWithCentralDirStart===T.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===T.MAX_VALUE_16BITS||this.centralDirRecords===T.MAX_VALUE_16BITS||this.centralDirSize===T.MAX_VALUE_32BITS||this.centralDirOffset===T.MAX_VALUE_32BITS){if(this.zip64=!0,(W=this.reader.lastIndexOfSignature(w.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(W),this.checkSignature(w.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,w.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(w.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(w.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}if(W=this.centralDirOffset+this.centralDirSize,0<(W=K-(W=this.zip64?W+20+(12+this.zip64EndOfCentralSize):W)))this.isSignature(K,w.CENTRAL_FILE_HEADER)||(this.reader.zero=W);else if(W<0)throw new Error("Corrupted zip: missing "+Math.abs(W)+" bytes.")},prepareReader:function(W){this.reader=O(W)},load:function(W){this.prepareReader(W),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},$.exports=Z},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(z,$,L){var O=z("./reader/readerFor"),T=z("./utils"),w=z("./compressedObject"),k=z("./crc32"),Y=z("./utf8"),Z=z("./compressions"),W=z("./support");function K(x,X){this.options=x,this.loadOptions=X}K.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var X;if(x.skip(22),this.fileNameLength=x.readInt(2),X=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(X),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((X=function(H){for(var j in Z)if(Object.prototype.hasOwnProperty.call(Z,j)&&Z[j].magic===H)return Z[j];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+T.pretty(this.compressionMethod)+" unknown (inner file : "+T.transformTo("string",this.fileName)+")");this.decompressed=new w(this.compressedSize,this.uncompressedSize,this.crc32,X,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var X=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(X),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){var x;this.extraFields[1]&&(x=O(this.extraFields[1].value),this.uncompressedSize===T.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===T.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===T.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===T.MAX_VALUE_32BITS)&&(this.diskNumberStart=x.readInt(4))},readExtraFields:function(x){var X,H,j,ae=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<ae;)X=x.readInt(2),H=x.readInt(2),j=x.readData(H),this.extraFields[X]={id:X,length:H,value:j};x.setIndex(ae)},handleUTF8:function(){var x,X=W.uint8array?"uint8array":"array";this.useUTF8()?(this.fileNameStr=Y.utf8decode(this.fileName),this.fileCommentStr=Y.utf8decode(this.fileComment)):((x=this.findExtraFieldUnicodePath())!==null?this.fileNameStr=x:(x=T.transformTo(X,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(x)),(x=this.findExtraFieldUnicodeComment())!==null?this.fileCommentStr=x:(x=T.transformTo(X,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(x)))},findExtraFieldUnicodePath:function(){var x,X=this.extraFields[28789];return X&&(x=O(X.value)).readInt(1)===1&&k(this.fileName)===x.readInt(4)?Y.utf8decode(x.readData(X.length-5)):null},findExtraFieldUnicodeComment:function(){var x,X=this.extraFields[25461];return X&&(x=O(X.value)).readInt(1)===1&&k(this.fileComment)===x.readInt(4)?Y.utf8decode(x.readData(X.length-5)):null}},$.exports=K},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(z,$,L){function O(X,H,j){this.name=X,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=H,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var T=z("./stream/StreamHelper"),w=z("./stream/DataWorker"),k=z("./utf8"),Y=z("./compressedObject"),Z=z("./stream/GenericWorker");O.prototype={internalStream:function(X){var H=null,j="string";try{if(!X)throw new Error("No output type specified.");var ae=(j=X.toLowerCase())==="string"||j==="text",ce=(j!=="binarystring"&&j!=="text"||(j="string"),H=this._decompressWorker(),!this._dataBinary);ce&&!ae&&(H=H.pipe(new k.Utf8EncodeWorker)),!ce&&ae&&(H=H.pipe(new k.Utf8DecodeWorker))}catch(ne){(H=new Z("error")).error(ne)}return new T(H,j,"")},async:function(X,H){return this.internalStream(X).accumulate(H)},nodeStream:function(X,H){return this.internalStream(X||"nodebuffer").toNodejsStream(H)},_compressWorker:function(X,H){var j;return this._data instanceof Y&&this._data.compression.magic===X.magic?this._data.getCompressedWorker():(j=this._decompressWorker(),this._dataBinary||(j=j.pipe(new k.Utf8EncodeWorker)),Y.createWorkerFrom(j,X,H))},_decompressWorker:function(){return this._data instanceof Y?this._data.getContentWorker():this._data instanceof Z?this._data:new w(this._data)}};for(var W=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],K=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<W.length;x++)O.prototype[W[x]]=K;$.exports=O},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(z,$,L){(function(O){var T,w,k,Y,Z=O.MutationObserver||O.WebKitMutationObserver,W=Z?(w=0,Z=new Z(x),k=O.document.createTextNode(""),Z.observe(k,{characterData:!0}),function(){k.data=w=++w%2}):O.setImmediate||O.MessageChannel===void 0?"document"in O&&"onreadystatechange"in O.document.createElement("script")?function(){var X=O.document.createElement("script");X.onreadystatechange=function(){x(),X.onreadystatechange=null,X.parentNode.removeChild(X),X=null},O.document.documentElement.appendChild(X)}:function(){setTimeout(x,0)}:((Y=new O.MessageChannel).port1.onmessage=x,function(){Y.port2.postMessage(0)}),K=[];function x(){var X,H;T=!0;for(var j=K.length;j;){for(H=K,K=[],X=-1;++X<j;)H[X]();j=K.length}T=!1}$.exports=function(X){K.push(X)!==1||T||W()}}).call(this,F!==void 0?F:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(z,$,L){var O=z("immediate");function T(){}var w={},k=["REJECTED"],Y=["FULFILLED"],Z=["PENDING"];function W(ae){if(typeof ae!="function")throw new TypeError("resolver must be a function");this.state=Z,this.queue=[],this.outcome=void 0,ae!==T&&H(this,ae)}function K(ae,ce,ne){this.promise=ae,typeof ce=="function"&&(this.onFulfilled=ce,this.callFulfilled=this.otherCallFulfilled),typeof ne=="function"&&(this.onRejected=ne,this.callRejected=this.otherCallRejected)}function x(ae,ce,ne){O(function(){var Qe;try{Qe=ce(ne)}catch(De){return w.reject(ae,De)}Qe===ae?w.reject(ae,new TypeError("Cannot resolve promise with itself")):w.resolve(ae,Qe)})}function X(ae){var ce=ae&&ae.then;if(ae&&(typeof ae=="object"||typeof ae=="function")&&typeof ce=="function")return function(){ce.apply(ae,arguments)}}function H(ae,ce){var ne=!1;function Qe(pe){ne||(ne=!0,w.reject(ae,pe))}function De(pe){ne||(ne=!0,w.resolve(ae,pe))}var Fe=j(function(){ce(De,Qe)});Fe.status==="error"&&Qe(Fe.value)}function j(ae,ce){var ne={};try{ne.value=ae(ce),ne.status="success"}catch(Qe){ne.status="error",ne.value=Qe}return ne}($.exports=W).prototype.finally=function(ae){var ce;return typeof ae!="function"?this:(ce=this.constructor,this.then(function(ne){return ce.resolve(ae()).then(function(){return ne})},function(ne){return ce.resolve(ae()).then(function(){throw ne})}))},W.prototype.catch=function(ae){return this.then(null,ae)},W.prototype.then=function(ae,ce){var ne;return typeof ae!="function"&&this.state===Y||typeof ce!="function"&&this.state===k?this:(ne=new this.constructor(T),this.state!==Z?x(ne,this.state===Y?ae:ce,this.outcome):this.queue.push(new K(ne,ae,ce)),ne)},K.prototype.callFulfilled=function(ae){w.resolve(this.promise,ae)},K.prototype.otherCallFulfilled=function(ae){x(this.promise,this.onFulfilled,ae)},K.prototype.callRejected=function(ae){w.reject(this.promise,ae)},K.prototype.otherCallRejected=function(ae){x(this.promise,this.onRejected,ae)},w.resolve=function(ae,ce){var ne=j(X,ce);if(ne.status==="error")return w.reject(ae,ne.value);if(ne=ne.value)H(ae,ne);else{ae.state=Y,ae.outcome=ce;for(var Qe=-1,De=ae.queue.length;++Qe<De;)ae.queue[Qe].callFulfilled(ce)}return ae},w.reject=function(ae,ce){ae.state=k,ae.outcome=ce;for(var ne=-1,Qe=ae.queue.length;++ne<Qe;)ae.queue[ne].callRejected(ce);return ae},W.resolve=function(ae){return ae instanceof this?ae:w.resolve(new this(T),ae)},W.reject=function(ae){var ce=new this(T);return w.reject(ce,ae)},W.all=function(ae){var ce=this;if(Object.prototype.toString.call(ae)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ne=ae.length,Qe=!1;if(!ne)return this.resolve([]);for(var De=new Array(ne),Fe=0,pe=-1,ot=new this(T);++pe<ne;)(function(ft,yt){ce.resolve(ft).then(function(Ot){De[yt]=Ot,++Fe!==ne||Qe||(Qe=!0,w.resolve(ot,De))},function(Ot){Qe||(Qe=!0,w.reject(ot,Ot))})})(ae[pe],pe);return ot},W.race=function(ae){if(Object.prototype.toString.call(ae)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ce=ae.length,ne=!1;if(!ce)return this.resolve([]);for(var Qe,De=-1,Fe=new this(T);++De<ce;)Qe=ae[De],this.resolve(Qe).then(function(pe){ne||(ne=!0,w.resolve(Fe,pe))},function(pe){ne||(ne=!0,w.reject(Fe,pe))});return Fe}},{immediate:36}],38:[function(z,$,L){var O={};(0,z("./lib/utils/common").assign)(O,z("./lib/deflate"),z("./lib/inflate"),z("./lib/zlib/constants")),$.exports=O},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(z,$,L){var O=z("./zlib/deflate"),T=z("./utils/common"),w=z("./utils/strings"),k=z("./zlib/messages"),Y=z("./zlib/zstream"),Z=Object.prototype.toString;function W(x){if(!(this instanceof W))return new W(x);this.options=T.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},x||{});var X=((x=this.options).raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Y,this.strm.avail_out=0,O.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy));if(X!==0)throw new Error(k[X]);if(x.header&&O.deflateSetHeader(this.strm,x.header),x.dictionary){if(x=typeof x.dictionary=="string"?w.string2buf(x.dictionary):Z.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(X=O.deflateSetDictionary(this.strm,x))!==0)throw new Error(k[X]);this._dict_set=!0}}function K(x,X){if((X=new W(X)).push(x,!0),X.err)throw X.msg||k[X.err];return X.result}W.prototype.push=function(x,X){var H,j,ae=this.strm,ce=this.options.chunkSize;if(this.ended)return!1;j=X===~~X?X:X===!0?4:0,typeof x=="string"?ae.input=w.string2buf(x):Z.call(x)==="[object ArrayBuffer]"?ae.input=new Uint8Array(x):ae.input=x,ae.next_in=0,ae.avail_in=ae.input.length;do if(ae.avail_out===0&&(ae.output=new T.Buf8(ce),ae.next_out=0,ae.avail_out=ce),(H=O.deflate(ae,j))!==1&&H!==0)return this.onEnd(H),!(this.ended=!0);while(ae.avail_out!==0&&(ae.avail_in!==0||j!==4&&j!==2)||(this.options.to==="string"?this.onData(w.buf2binstring(T.shrinkBuf(ae.output,ae.next_out))):this.onData(T.shrinkBuf(ae.output,ae.next_out))),(0<ae.avail_in||ae.avail_out===0)&&H!==1);return j===4?(H=O.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===0):j!==2||(this.onEnd(0),!(ae.avail_out=0))},W.prototype.onData=function(x){this.chunks.push(x)},W.prototype.onEnd=function(x){x===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},L.Deflate=W,L.deflate=K,L.deflateRaw=function(x,X){return(X=X||{}).raw=!0,K(x,X)},L.gzip=function(x,X){return(X=X||{}).gzip=!0,K(x,X)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(z,$,L){var O=z("./zlib/inflate"),T=z("./utils/common"),w=z("./utils/strings"),k=z("./zlib/constants"),Y=z("./zlib/messages"),Z=z("./zlib/zstream"),W=z("./zlib/gzheader"),K=Object.prototype.toString;function x(H){if(!(this instanceof x))return new x(H);this.options=T.assign({chunkSize:16384,windowBits:0,to:""},H||{});var j=this.options;if((H=(j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0)&&(j.windowBits=-15),!(0<=j.windowBits&&j.windowBits<16)||H&&H.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&!(15&j.windowBits)&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Z,this.strm.avail_out=0,O.inflateInit2(this.strm,j.windowBits)))!==k.Z_OK)throw new Error(Y[H]);this.header=new W,O.inflateGetHeader(this.strm,this.header)}function X(H,j){if((j=new x(j)).push(H,!0),j.err)throw j.msg||Y[j.err];return j.result}x.prototype.push=function(H,j){var ae,ce,ne,Qe,De,Fe=this.strm,pe=this.options.chunkSize,ot=this.options.dictionary,ft=!1;if(this.ended)return!1;ce=j===~~j?j:j===!0?k.Z_FINISH:k.Z_NO_FLUSH,typeof H=="string"?Fe.input=w.binstring2buf(H):K.call(H)==="[object ArrayBuffer]"?Fe.input=new Uint8Array(H):Fe.input=H,Fe.next_in=0,Fe.avail_in=Fe.input.length;do if(Fe.avail_out===0&&(Fe.output=new T.Buf8(pe),Fe.next_out=0,Fe.avail_out=pe),(ae=O.inflate(Fe,k.Z_NO_FLUSH))===k.Z_NEED_DICT&&ot&&(De=typeof ot=="string"?w.string2buf(ot):K.call(ot)==="[object ArrayBuffer]"?new Uint8Array(ot):ot,ae=O.inflateSetDictionary(this.strm,De)),ae===k.Z_BUF_ERROR&&ft===!0&&(ae=k.Z_OK,ft=!1),ae!==k.Z_STREAM_END&&ae!==k.Z_OK)return this.onEnd(ae),!(this.ended=!0);while(!Fe.next_out||Fe.avail_out!==0&&ae!==k.Z_STREAM_END&&(Fe.avail_in!==0||ce!==k.Z_FINISH&&ce!==k.Z_SYNC_FLUSH)||(this.options.to==="string"?(De=w.utf8border(Fe.output,Fe.next_out),ne=Fe.next_out-De,Qe=w.buf2string(Fe.output,De),Fe.next_out=ne,Fe.avail_out=pe-ne,ne&&T.arraySet(Fe.output,Fe.output,De,ne,0),this.onData(Qe)):this.onData(T.shrinkBuf(Fe.output,Fe.next_out))),Fe.avail_in===0&&Fe.avail_out===0&&(ft=!0),(0<Fe.avail_in||Fe.avail_out===0)&&ae!==k.Z_STREAM_END);return(ce=ae===k.Z_STREAM_END?k.Z_FINISH:ce)===k.Z_FINISH?(ae=O.inflateEnd(this.strm),this.onEnd(ae),this.ended=!0,ae===k.Z_OK):ce!==k.Z_SYNC_FLUSH||(this.onEnd(k.Z_OK),!(Fe.avail_out=0))},x.prototype.onData=function(H){this.chunks.push(H)},x.prototype.onEnd=function(H){H===k.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},L.Inflate=x,L.inflate=X,L.inflateRaw=function(H,j){return(j=j||{}).raw=!0,X(H,j)},L.ungzip=X},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(z,$,L){var O=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u",T=(L.assign=function(k){for(var Y=Array.prototype.slice.call(arguments,1);Y.length;){var Z=Y.shift();if(Z){if(typeof Z!="object")throw new TypeError(Z+"must be non-object");for(var W in Z)Z.hasOwnProperty(W)&&(k[W]=Z[W])}}return k},L.shrinkBuf=function(k,Y){return k.length===Y?k:k.subarray?k.subarray(0,Y):(k.length=Y,k)},{arraySet:function(k,Y,Z,W,K){if(Y.subarray&&k.subarray)k.set(Y.subarray(Z,Z+W),K);else for(var x=0;x<W;x++)k[K+x]=Y[Z+x]},flattenChunks:function(k){for(var Y,Z,W,K,x=Y=0,X=k.length;x<X;x++)Y+=k[x].length;for(K=new Uint8Array(Y),x=Z=0,X=k.length;x<X;x++)W=k[x],K.set(W,Z),Z+=W.length;return K}}),w={arraySet:function(k,Y,Z,W,K){for(var x=0;x<W;x++)k[K+x]=Y[Z+x]},flattenChunks:function(k){return[].concat.apply([],k)}};L.setTyped=function(k){k?(L.Buf8=Uint8Array,L.Buf16=Uint16Array,L.Buf32=Int32Array,L.assign(L,T)):(L.Buf8=Array,L.Buf16=Array,L.Buf32=Array,L.assign(L,w))},L.setTyped(O)},{}],42:[function(z,$,L){var O=z("./common"),T=!0,w=!0;try{String.fromCharCode.apply(null,[0])}catch{T=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{w=!1}for(var k=new O.Buf8(256),Y=0;Y<256;Y++)k[Y]=252<=Y?6:248<=Y?5:240<=Y?4:224<=Y?3:192<=Y?2:1;function Z(W,K){if(K<65537&&(W.subarray&&w||!W.subarray&&T))return String.fromCharCode.apply(null,O.shrinkBuf(W,K));for(var x="",X=0;X<K;X++)x+=String.fromCharCode(W[X]);return x}k[254]=k[254]=1,L.string2buf=function(W){for(var K,x,X,H,j=W.length,ae=0,ce=0;ce<j;ce++)(64512&(x=W.charCodeAt(ce)))==55296&&ce+1<j&&(64512&(X=W.charCodeAt(ce+1)))==56320&&(x=65536+(x-55296<<10)+(X-56320),ce++),ae+=x<128?1:x<2048?2:x<65536?3:4;for(K=new O.Buf8(ae),ce=H=0;H<ae;ce++)(64512&(x=W.charCodeAt(ce)))==55296&&ce+1<j&&(64512&(X=W.charCodeAt(ce+1)))==56320&&(x=65536+(x-55296<<10)+(X-56320),ce++),x<128?K[H++]=x:(x<2048?K[H++]=192|x>>>6:(x<65536?K[H++]=224|x>>>12:(K[H++]=240|x>>>18,K[H++]=128|x>>>12&63),K[H++]=128|x>>>6&63),K[H++]=128|63&x);return K},L.buf2binstring=function(W){return Z(W,W.length)},L.binstring2buf=function(W){for(var K=new O.Buf8(W.length),x=0,X=K.length;x<X;x++)K[x]=W.charCodeAt(x);return K},L.buf2string=function(W,K){for(var x,X,H,j=K||W.length,ae=new Array(2*j),ce=x=0;ce<j;)if((X=W[ce++])<128)ae[x++]=X;else if(4<(H=k[X]))ae[x++]=65533,ce+=H-1;else{for(X&=H===2?31:H===3?15:7;1<H&&ce<j;)X=X<<6|63&W[ce++],H--;1<H?ae[x++]=65533:X<65536?ae[x++]=X:(X-=65536,ae[x++]=55296|X>>10&1023,ae[x++]=56320|1023&X)}return Z(ae,x)},L.utf8border=function(W,K){for(var x=(K=(K=K||W.length)>W.length?W.length:K)-1;0<=x&&(192&W[x])==128;)x--;return!(x<0||x===0)&&x+k[W[x]]>K?x:K}},{"./common":41}],43:[function(z,$,L){$.exports=function(O,T,w,k){for(var Y=65535&O|0,Z=O>>>16&65535|0,W=0;w!==0;){for(w-=W=2e3<w?2e3:w;Z=Z+(Y=Y+T[k++]|0)|0,--W;);Y%=65521,Z%=65521}return Y|Z<<16|0}},{}],44:[function(z,$,L){$.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(z,$,L){var O=function(){for(var T=[],w=0;w<256;w++){for(var k=w,Y=0;Y<8;Y++)k=1&k?3988292384^k>>>1:k>>>1;T[w]=k}return T}();$.exports=function(T,w,k,Y){var Z=O,W=Y+k;T^=-1;for(var K=Y;K<W;K++)T=T>>>8^Z[255&(T^w[K])];return-1^T}},{}],46:[function(z,$,L){var O,T=z("../utils/common"),w=z("./trees"),k=z("./adler32"),Y=z("./crc32"),Z=z("./messages"),W=-2,K=258,x=262,X=113;function H(ie,ue){return ie.msg=Z[ue],ue}function j(ie){return(ie<<1)-(4<ie?9:0)}function ae(ie){for(var ue=ie.length;0<=--ue;)ie[ue]=0}function ce(ie){var ue=ie.state,de=ue.pending;(de=de>ie.avail_out?ie.avail_out:de)!==0&&(T.arraySet(ie.output,ue.pending_buf,ue.pending_out,de,ie.next_out),ie.next_out+=de,ue.pending_out+=de,ie.total_out+=de,ie.avail_out-=de,ue.pending-=de,ue.pending===0)&&(ue.pending_out=0)}function ne(ie,ue){w._tr_flush_block(ie,0<=ie.block_start?ie.block_start:-1,ie.strstart-ie.block_start,ue),ie.block_start=ie.strstart,ce(ie.strm)}function Qe(ie,ue){ie.pending_buf[ie.pending++]=ue}function De(ie,ue){ie.pending_buf[ie.pending++]=ue>>>8&255,ie.pending_buf[ie.pending++]=255&ue}function Fe(ie,ue){var de,le,Ve=ie.max_chain_length,nt=ie.strstart,ct=ie.prev_length,Re=ie.nice_match,lt=ie.strstart>ie.w_size-x?ie.strstart-(ie.w_size-x):0,St=ie.window,Yt=ie.w_mask,xe=ie.prev,st=ie.strstart+K,At=St[nt+ct-1],Et=St[nt+ct];ie.prev_length>=ie.good_match&&(Ve>>=2),Re>ie.lookahead&&(Re=ie.lookahead);do if(St[(de=ue)+ct]===Et&&St[de+ct-1]===At&&St[de]===St[nt]&&St[++de]===St[nt+1]){for(nt+=2,de++;St[++nt]===St[++de]&&St[++nt]===St[++de]&&St[++nt]===St[++de]&&St[++nt]===St[++de]&&St[++nt]===St[++de]&&St[++nt]===St[++de]&&St[++nt]===St[++de]&&St[++nt]===St[++de]&&nt<st;);if(le=K-(st-nt),nt=st-K,ct<le){if(ie.match_start=ue,Re<=(ct=le))break;At=St[nt+ct-1],Et=St[nt+ct]}}while((ue=xe[ue&Yt])>lt&&--Ve!=0);return ct<=ie.lookahead?ct:ie.lookahead}function pe(ie){var ue,de,le,Ve,nt,ct,Re,lt,St,Yt=ie.w_size;do{if(lt=ie.window_size-ie.lookahead-ie.strstart,ie.strstart>=Yt+(Yt-x)){for(T.arraySet(ie.window,ie.window,Yt,Yt,0),ie.match_start-=Yt,ie.strstart-=Yt,ie.block_start-=Yt,ue=de=ie.hash_size;le=ie.head[--ue],ie.head[ue]=Yt<=le?le-Yt:0,--de;);for(ue=de=Yt;le=ie.prev[--ue],ie.prev[ue]=Yt<=le?le-Yt:0,--de;);lt+=Yt}if(ie.strm.avail_in===0)break;if(nt=ie.strm,ct=ie.window,Re=ie.strstart+ie.lookahead,St=void 0,de=(St=lt<(St=nt.avail_in)?lt:St)===0?0:(nt.avail_in-=St,T.arraySet(ct,nt.input,nt.next_in,St,Re),nt.state.wrap===1?nt.adler=k(nt.adler,ct,St,Re):nt.state.wrap===2&&(nt.adler=Y(nt.adler,ct,St,Re)),nt.next_in+=St,nt.total_in+=St,St),ie.lookahead+=de,3<=ie.lookahead+ie.insert)for(Ve=ie.strstart-ie.insert,ie.ins_h=ie.window[Ve],ie.ins_h=(ie.ins_h<<ie.hash_shift^ie.window[Ve+1])&ie.hash_mask;ie.insert&&(ie.ins_h=(ie.ins_h<<ie.hash_shift^ie.window[Ve+3-1])&ie.hash_mask,ie.prev[Ve&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=Ve,Ve++,ie.insert--,!(ie.lookahead+ie.insert<3)););}while(ie.lookahead<x&&ie.strm.avail_in!==0)}function ot(ie,ue){for(var de,le;;){if(ie.lookahead<x){if(pe(ie),ie.lookahead<x&&ue===0)return 1;if(ie.lookahead===0)break}if(de=0,3<=ie.lookahead&&(ie.ins_h=(ie.ins_h<<ie.hash_shift^ie.window[ie.strstart+3-1])&ie.hash_mask,de=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart),de!==0&&ie.strstart-de<=ie.w_size-x&&(ie.match_length=Fe(ie,de)),3<=ie.match_length)if(le=w._tr_tally(ie,ie.strstart-ie.match_start,ie.match_length-3),ie.lookahead-=ie.match_length,ie.match_length<=ie.max_lazy_match&&3<=ie.lookahead){for(ie.match_length--;ie.strstart++,ie.ins_h=(ie.ins_h<<ie.hash_shift^ie.window[ie.strstart+3-1])&ie.hash_mask,de=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart,--ie.match_length!=0;);ie.strstart++}else ie.strstart+=ie.match_length,ie.match_length=0,ie.ins_h=ie.window[ie.strstart],ie.ins_h=(ie.ins_h<<ie.hash_shift^ie.window[ie.strstart+1])&ie.hash_mask;else le=w._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++;if(le&&(ne(ie,!1),ie.strm.avail_out===0))return 1}return ie.insert=ie.strstart<2?ie.strstart:2,ue===4?(ne(ie,!0),ie.strm.avail_out===0?3:4):ie.last_lit&&(ne(ie,!1),ie.strm.avail_out===0)?1:2}function ft(ie,ue){for(var de,le,Ve;;){if(ie.lookahead<x){if(pe(ie),ie.lookahead<x&&ue===0)return 1;if(ie.lookahead===0)break}if(de=0,3<=ie.lookahead&&(ie.ins_h=(ie.ins_h<<ie.hash_shift^ie.window[ie.strstart+3-1])&ie.hash_mask,de=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart),ie.prev_length=ie.match_length,ie.prev_match=ie.match_start,ie.match_length=2,de!==0&&ie.prev_length<ie.max_lazy_match&&ie.strstart-de<=ie.w_size-x&&(ie.match_length=Fe(ie,de),ie.match_length<=5)&&(ie.strategy===1||ie.match_length===3&&4096<ie.strstart-ie.match_start)&&(ie.match_length=2),3<=ie.prev_length&&ie.match_length<=ie.prev_length){for(Ve=ie.strstart+ie.lookahead-3,le=w._tr_tally(ie,ie.strstart-1-ie.prev_match,ie.prev_length-3),ie.lookahead-=ie.prev_length-1,ie.prev_length-=2;++ie.strstart<=Ve&&(ie.ins_h=(ie.ins_h<<ie.hash_shift^ie.window[ie.strstart+3-1])&ie.hash_mask,de=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart),--ie.prev_length!=0;);if(ie.match_available=0,ie.match_length=2,ie.strstart++,le&&(ne(ie,!1),ie.strm.avail_out===0))return 1}else if(ie.match_available){if((le=w._tr_tally(ie,0,ie.window[ie.strstart-1]))&&ne(ie,!1),ie.strstart++,ie.lookahead--,ie.strm.avail_out===0)return 1}else ie.match_available=1,ie.strstart++,ie.lookahead--}return ie.match_available&&(le=w._tr_tally(ie,0,ie.window[ie.strstart-1]),ie.match_available=0),ie.insert=ie.strstart<2?ie.strstart:2,ue===4?(ne(ie,!0),ie.strm.avail_out===0?3:4):ie.last_lit&&(ne(ie,!1),ie.strm.avail_out===0)?1:2}function yt(ie,ue,de,le,Ve){this.good_length=ie,this.max_lazy=ue,this.nice_length=de,this.max_chain=le,this.func=Ve}function Ot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new T.Buf16(1146),this.dyn_dtree=new T.Buf16(122),this.bl_tree=new T.Buf16(78),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new T.Buf16(16),this.heap=new T.Buf16(573),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new T.Buf16(573),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ge(ie){var ue;return ie&&ie.state?(ie.total_in=ie.total_out=0,ie.data_type=2,(ue=ie.state).pending=0,ue.pending_out=0,ue.wrap<0&&(ue.wrap=-ue.wrap),ue.status=ue.wrap?42:X,ie.adler=ue.wrap===2?0:1,ue.last_flush=0,w._tr_init(ue),0):H(ie,W)}function Ee(ie){var ue=ge(ie);return ue===0&&((ie=ie.state).window_size=2*ie.w_size,ae(ie.head),ie.max_lazy_match=O[ie.level].max_lazy,ie.good_match=O[ie.level].good_length,ie.nice_match=O[ie.level].nice_length,ie.max_chain_length=O[ie.level].max_chain,ie.strstart=0,ie.block_start=0,ie.lookahead=0,ie.insert=0,ie.match_length=ie.prev_length=2,ie.match_available=0,ie.ins_h=0),ue}function fe(ie,ue,de,le,Ve,nt){if(!ie)return W;var ct=1;if(ue===-1&&(ue=6),le<0?(ct=0,le=-le):15<le&&(ct=2,le-=16),Ve<1||9<Ve||de!==8||le<8||15<le||ue<0||9<ue||nt<0||4<nt)return H(ie,W);le===8&&(le=9);var Re=new Ot;return(ie.state=Re).strm=ie,Re.wrap=ct,Re.gzhead=null,Re.w_bits=le,Re.w_size=1<<Re.w_bits,Re.w_mask=Re.w_size-1,Re.hash_bits=Ve+7,Re.hash_size=1<<Re.hash_bits,Re.hash_mask=Re.hash_size-1,Re.hash_shift=~~((Re.hash_bits+3-1)/3),Re.window=new T.Buf8(2*Re.w_size),Re.head=new T.Buf16(Re.hash_size),Re.prev=new T.Buf16(Re.w_size),Re.lit_bufsize=1<<Ve+6,Re.pending_buf_size=4*Re.lit_bufsize,Re.pending_buf=new T.Buf8(Re.pending_buf_size),Re.d_buf=+Re.lit_bufsize,Re.l_buf=3*Re.lit_bufsize,Re.level=ue,Re.strategy=nt,Re.method=de,Ee(ie)}O=[new yt(0,0,0,0,function(ie,ue){var de=65535;for(de>ie.pending_buf_size-5&&(de=ie.pending_buf_size-5);;){if(ie.lookahead<=1){if(pe(ie),ie.lookahead===0&&ue===0)return 1;if(ie.lookahead===0)break}ie.strstart+=ie.lookahead,ie.lookahead=0;var le=ie.block_start+de;if((ie.strstart===0||ie.strstart>=le)&&(ie.lookahead=ie.strstart-le,ie.strstart=le,ne(ie,!1),ie.strm.avail_out===0)||ie.strstart-ie.block_start>=ie.w_size-x&&(ne(ie,!1),ie.strm.avail_out===0))return 1}return ie.insert=0,ue===4?(ne(ie,!0),ie.strm.avail_out===0?3:4):(ie.strstart>ie.block_start&&(ne(ie,!1),ie.strm.avail_out),1)}),new yt(4,4,8,4,ot),new yt(4,5,16,8,ot),new yt(4,6,32,32,ot),new yt(4,4,16,16,ft),new yt(8,16,32,32,ft),new yt(8,16,128,128,ft),new yt(8,32,128,256,ft),new yt(32,128,258,1024,ft),new yt(32,258,258,4096,ft)],L.deflateInit=function(ie,ue){return fe(ie,ue,8,15,8,0)},L.deflateInit2=fe,L.deflateReset=Ee,L.deflateResetKeep=ge,L.deflateSetHeader=function(ie,ue){return ie&&ie.state&&ie.state.wrap===2?(ie.state.gzhead=ue,0):W},L.deflate=function(ie,ue){var de,le,Ve,nt;if(!ie||!ie.state||5<ue||ue<0)return ie?H(ie,W):W;if(le=ie.state,!ie.output||!ie.input&&ie.avail_in!==0||le.status===666&&ue!==4)return H(ie,ie.avail_out===0?-5:W);if(le.strm=ie,de=le.last_flush,le.last_flush=ue,le.status===42&&(le.wrap===2?(ie.adler=0,Qe(le,31),Qe(le,139),Qe(le,8),le.gzhead?(Qe(le,(le.gzhead.text?1:0)+(le.gzhead.hcrc?2:0)+(le.gzhead.extra?4:0)+(le.gzhead.name?8:0)+(le.gzhead.comment?16:0)),Qe(le,255&le.gzhead.time),Qe(le,le.gzhead.time>>8&255),Qe(le,le.gzhead.time>>16&255),Qe(le,le.gzhead.time>>24&255),Qe(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),Qe(le,255&le.gzhead.os),le.gzhead.extra&&le.gzhead.extra.length&&(Qe(le,255&le.gzhead.extra.length),Qe(le,le.gzhead.extra.length>>8&255)),le.gzhead.hcrc&&(ie.adler=Y(ie.adler,le.pending_buf,le.pending,0)),le.gzindex=0,le.status=69):(Qe(le,0),Qe(le,0),Qe(le,0),Qe(le,0),Qe(le,0),Qe(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),Qe(le,3),le.status=X)):(ct=8+(le.w_bits-8<<4)<<8,ct|=(2<=le.strategy||le.level<2?0:le.level<6?1:le.level===6?2:3)<<6,le.strstart!==0&&(ct|=32),ct+=31-ct%31,le.status=X,De(le,ct),le.strstart!==0&&(De(le,ie.adler>>>16),De(le,65535&ie.adler)),ie.adler=1)),le.status===69)if(le.gzhead.extra){for(Ve=le.pending;le.gzindex<(65535&le.gzhead.extra.length)&&(le.pending!==le.pending_buf_size||(le.gzhead.hcrc&&le.pending>Ve&&(ie.adler=Y(ie.adler,le.pending_buf,le.pending-Ve,Ve)),ce(ie),Ve=le.pending,le.pending!==le.pending_buf_size));)Qe(le,255&le.gzhead.extra[le.gzindex]),le.gzindex++;le.gzhead.hcrc&&le.pending>Ve&&(ie.adler=Y(ie.adler,le.pending_buf,le.pending-Ve,Ve)),le.gzindex===le.gzhead.extra.length&&(le.gzindex=0,le.status=73)}else le.status=73;if(le.status===73)if(le.gzhead.name){Ve=le.pending;do if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>Ve&&(ie.adler=Y(ie.adler,le.pending_buf,le.pending-Ve,Ve)),ce(ie),Ve=le.pending,le.pending===le.pending_buf_size)){nt=1;break}while(nt=le.gzindex<le.gzhead.name.length?255&le.gzhead.name.charCodeAt(le.gzindex++):0,Qe(le,nt),nt!==0);le.gzhead.hcrc&&le.pending>Ve&&(ie.adler=Y(ie.adler,le.pending_buf,le.pending-Ve,Ve)),nt===0&&(le.gzindex=0,le.status=91)}else le.status=91;if(le.status===91)if(le.gzhead.comment){Ve=le.pending;do if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>Ve&&(ie.adler=Y(ie.adler,le.pending_buf,le.pending-Ve,Ve)),ce(ie),Ve=le.pending,le.pending===le.pending_buf_size)){nt=1;break}while(nt=le.gzindex<le.gzhead.comment.length?255&le.gzhead.comment.charCodeAt(le.gzindex++):0,Qe(le,nt),nt!==0);le.gzhead.hcrc&&le.pending>Ve&&(ie.adler=Y(ie.adler,le.pending_buf,le.pending-Ve,Ve)),nt===0&&(le.status=103)}else le.status=103;if(le.status===103&&(le.gzhead.hcrc?(le.pending+2>le.pending_buf_size&&ce(ie),le.pending+2<=le.pending_buf_size&&(Qe(le,255&ie.adler),Qe(le,ie.adler>>8&255),ie.adler=0,le.status=X)):le.status=X),le.pending!==0){if(ce(ie),ie.avail_out===0)return le.last_flush=-1,0}else if(ie.avail_in===0&&j(ue)<=j(de)&&ue!==4)return H(ie,-5);if(le.status===666&&ie.avail_in!==0)return H(ie,-5);if(ie.avail_in!==0||le.lookahead!==0||ue!==0&&le.status!==666){var ct=le.strategy===2?function(Re,lt){for(var St;;){if(Re.lookahead===0&&(pe(Re),Re.lookahead===0)){if(lt===0)return 1;break}if(Re.match_length=0,St=w._tr_tally(Re,0,Re.window[Re.strstart]),Re.lookahead--,Re.strstart++,St&&(ne(Re,!1),Re.strm.avail_out===0))return 1}return Re.insert=0,lt===4?(ne(Re,!0),Re.strm.avail_out===0?3:4):Re.last_lit&&(ne(Re,!1),Re.strm.avail_out===0)?1:2}(le,ue):le.strategy===3?function(Re,lt){for(var St,Yt,xe,st,At=Re.window;;){if(Re.lookahead<=K){if(pe(Re),Re.lookahead<=K&&lt===0)return 1;if(Re.lookahead===0)break}if(Re.match_length=0,3<=Re.lookahead&&0<Re.strstart&&(Yt=At[xe=Re.strstart-1])===At[++xe]&&Yt===At[++xe]&&Yt===At[++xe]){for(st=Re.strstart+K;Yt===At[++xe]&&Yt===At[++xe]&&Yt===At[++xe]&&Yt===At[++xe]&&Yt===At[++xe]&&Yt===At[++xe]&&Yt===At[++xe]&&Yt===At[++xe]&&xe<st;);Re.match_length=K-(st-xe),Re.match_length>Re.lookahead&&(Re.match_length=Re.lookahead)}if(3<=Re.match_length?(St=w._tr_tally(Re,1,Re.match_length-3),Re.lookahead-=Re.match_length,Re.strstart+=Re.match_length,Re.match_length=0):(St=w._tr_tally(Re,0,Re.window[Re.strstart]),Re.lookahead--,Re.strstart++),St&&(ne(Re,!1),Re.strm.avail_out===0))return 1}return Re.insert=0,lt===4?(ne(Re,!0),Re.strm.avail_out===0?3:4):Re.last_lit&&(ne(Re,!1),Re.strm.avail_out===0)?1:2}(le,ue):O[le.level].func(le,ue);if(ct!==3&&ct!==4||(le.status=666),ct===1||ct===3)return ie.avail_out===0&&(le.last_flush=-1),0;if(ct===2&&(ue===1?w._tr_align(le):ue!==5&&(w._tr_stored_block(le,0,0,!1),ue===3)&&(ae(le.head),le.lookahead===0)&&(le.strstart=0,le.block_start=0,le.insert=0),ce(ie),ie.avail_out===0))return le.last_flush=-1,0}return ue===4&&(le.wrap<=0||(le.wrap===2?(Qe(le,255&ie.adler),Qe(le,ie.adler>>8&255),Qe(le,ie.adler>>16&255),Qe(le,ie.adler>>24&255),Qe(le,255&ie.total_in),Qe(le,ie.total_in>>8&255),Qe(le,ie.total_in>>16&255),Qe(le,ie.total_in>>24&255)):(De(le,ie.adler>>>16),De(le,65535&ie.adler)),ce(ie),0<le.wrap&&(le.wrap=-le.wrap),le.pending===0))?1:0},L.deflateEnd=function(ie){var ue;return ie&&ie.state?(ue=ie.state.status)!==42&&ue!==69&&ue!==73&&ue!==91&&ue!==103&&ue!==X&&ue!==666?H(ie,W):(ie.state=null,ue===X?H(ie,-3):0):W},L.deflateSetDictionary=function(ie,ue){var de,le,Ve,nt,ct,Re,lt,St=ue.length;if(!ie||!ie.state||(nt=(de=ie.state).wrap)===2||nt===1&&de.status!==42||de.lookahead)return W;for(nt===1&&(ie.adler=k(ie.adler,ue,St,0)),de.wrap=0,St>=de.w_size&&(nt===0&&(ae(de.head),de.strstart=0,de.block_start=0,de.insert=0),lt=new T.Buf8(de.w_size),T.arraySet(lt,ue,St-de.w_size,de.w_size,0),ue=lt,St=de.w_size),lt=ie.avail_in,ct=ie.next_in,Re=ie.input,ie.avail_in=St,ie.next_in=0,ie.input=ue,pe(de);3<=de.lookahead;){for(le=de.strstart,Ve=de.lookahead-2;de.ins_h=(de.ins_h<<de.hash_shift^de.window[le+3-1])&de.hash_mask,de.prev[le&de.w_mask]=de.head[de.ins_h],de.head[de.ins_h]=le,le++,--Ve;);de.strstart=le,de.lookahead=2,pe(de)}return de.strstart+=de.lookahead,de.block_start=de.strstart,de.insert=de.lookahead,de.lookahead=0,de.match_length=de.prev_length=2,de.match_available=0,ie.next_in=ct,ie.input=Re,ie.avail_in=lt,de.wrap=nt,0},L.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(z,$,L){$.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(z,$,L){$.exports=function(O,T){var w,k,Y,Z,W,K,x=O.state,X=O.next_in,H=O.input,j=X+(O.avail_in-5),ae=O.next_out,ce=O.output,ne=ae-(T-O.avail_out),Qe=ae+(O.avail_out-257),De=x.dmax,Fe=x.wsize,pe=x.whave,ot=x.wnext,ft=x.window,yt=x.hold,Ot=x.bits,ge=x.lencode,Ee=x.distcode,fe=(1<<x.lenbits)-1,ie=(1<<x.distbits)-1;e:do for(Ot<15&&(yt+=H[X++]<<Ot,Ot+=8,yt+=H[X++]<<Ot,Ot+=8),w=ge[yt&fe];;){if(yt>>>=k=w>>>24,Ot-=k,(k=w>>>16&255)==0)ce[ae++]=65535&w;else{if(!(16&k)){if(!(64&k)){w=ge[(65535&w)+(yt&(1<<k)-1)];continue}if(32&k){x.mode=12;break e}O.msg="invalid literal/length code",x.mode=30;break e}for(Y=65535&w,(k&=15)&&(Ot<k&&(yt+=H[X++]<<Ot,Ot+=8),Y+=yt&(1<<k)-1,yt>>>=k,Ot-=k),Ot<15&&(yt+=H[X++]<<Ot,Ot+=8,yt+=H[X++]<<Ot,Ot+=8),w=Ee[yt&ie];;){if(yt>>>=k=w>>>24,Ot-=k,!(16&(k=w>>>16&255))){if(!(64&k)){w=Ee[(65535&w)+(yt&(1<<k)-1)];continue}O.msg="invalid distance code",x.mode=30;break e}if(Z=65535&w,Ot<(k&=15)&&(yt+=H[X++]<<Ot,(Ot+=8)<k)&&(yt+=H[X++]<<Ot,Ot+=8),De<(Z+=yt&(1<<k)-1)){O.msg="invalid distance too far back",x.mode=30;break e}if(yt>>>=k,Ot-=k,(k=ae-ne)<Z){if(pe<(k=Z-k)&&x.sane){O.msg="invalid distance too far back",x.mode=30;break e}if(K=ft,(W=0)===ot){if(W+=Fe-k,k<Y){for(Y-=k;ce[ae++]=ft[W++],--k;);W=ae-Z,K=ce}}else if(ot<k){if(W+=Fe+ot-k,(k-=ot)<Y){for(Y-=k;ce[ae++]=ft[W++],--k;);if(W=0,ot<Y){for(Y-=k=ot;ce[ae++]=ft[W++],--k;);W=ae-Z,K=ce}}}else if(W+=ot-k,k<Y){for(Y-=k;ce[ae++]=ft[W++],--k;);W=ae-Z,K=ce}for(;2<Y;)ce[ae++]=K[W++],ce[ae++]=K[W++],ce[ae++]=K[W++],Y-=3;Y&&(ce[ae++]=K[W++],1<Y)&&(ce[ae++]=K[W++])}else{for(W=ae-Z;ce[ae++]=ce[W++],ce[ae++]=ce[W++],ce[ae++]=ce[W++],2<(Y-=3););Y&&(ce[ae++]=ce[W++],1<Y)&&(ce[ae++]=ce[W++])}break}}break}while(X<j&&ae<Qe);X-=Y=Ot>>3,yt&=(1<<(Ot-=Y<<3))-1,O.next_in=X,O.next_out=ae,O.avail_in=X<j?j-X+5:5-(X-j),O.avail_out=ae<Qe?Qe-ae+257:257-(ae-Qe),x.hold=yt,x.bits=Ot}},{}],49:[function(z,$,L){var O=z("../utils/common"),T=z("./adler32"),w=z("./crc32"),k=z("./inffast"),Y=z("./inftrees"),Z=-2;function W(De){return(De>>>24&255)+(De>>>8&65280)+((65280&De)<<8)+((255&De)<<24)}function K(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new O.Buf16(320),this.work=new O.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(De){var Fe;return De&&De.state?(Fe=De.state,De.total_in=De.total_out=Fe.total=0,De.msg="",Fe.wrap&&(De.adler=1&Fe.wrap),Fe.mode=1,Fe.last=0,Fe.havedict=0,Fe.dmax=32768,Fe.head=null,Fe.hold=0,Fe.bits=0,Fe.lencode=Fe.lendyn=new O.Buf32(852),Fe.distcode=Fe.distdyn=new O.Buf32(592),Fe.sane=1,Fe.back=-1,0):Z}function X(De){var Fe;return De&&De.state?((Fe=De.state).wsize=0,Fe.whave=0,Fe.wnext=0,x(De)):Z}function H(De,Fe){var pe,ot;return!De||!De.state||(ot=De.state,Fe<0?(pe=0,Fe=-Fe):(pe=1+(Fe>>4),Fe<48&&(Fe&=15)),Fe&&(Fe<8||15<Fe))?Z:(ot.window!==null&&ot.wbits!==Fe&&(ot.window=null),ot.wrap=pe,ot.wbits=Fe,X(De))}function j(De,Fe){var pe;return De?(pe=new K,(De.state=pe).window=null,(pe=H(De,Fe))!==0&&(De.state=null),pe):Z}var ae,ce,ne=!0;function Qe(De,Fe,pe,ot){var ft;return(De=De.state).window===null&&(De.wsize=1<<De.wbits,De.wnext=0,De.whave=0,De.window=new O.Buf8(De.wsize)),ot>=De.wsize?(O.arraySet(De.window,Fe,pe-De.wsize,De.wsize,0),De.wnext=0,De.whave=De.wsize):(ot<(ft=De.wsize-De.wnext)&&(ft=ot),O.arraySet(De.window,Fe,pe-ot,ft,De.wnext),(ot-=ft)?(O.arraySet(De.window,Fe,pe-ot,ot,0),De.wnext=ot,De.whave=De.wsize):(De.wnext+=ft,De.wnext===De.wsize&&(De.wnext=0),De.whave<De.wsize&&(De.whave+=ft))),0}L.inflateReset=X,L.inflateReset2=H,L.inflateResetKeep=x,L.inflateInit=function(De){return j(De,15)},L.inflateInit2=j,L.inflate=function(De,Fe){var pe,ot,ft,yt,Ot,ge,Ee,fe,ie,ue,de,le,Ve,nt,ct,Re,lt,St,Yt,xe,st,At,Et,Dt,Ft=0,zt=new O.Buf8(4),Ut=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!De||!De.state||!De.output||!De.input&&De.avail_in!==0)return Z;(pe=De.state).mode===12&&(pe.mode=13),Ot=De.next_out,ft=De.output,Ee=De.avail_out,yt=De.next_in,ot=De.input,ge=De.avail_in,fe=pe.hold,ie=pe.bits,ue=ge,de=Ee,At=0;e:for(;;)switch(pe.mode){case 1:if(pe.wrap===0)pe.mode=13;else{for(;ie<16;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}if(2&pe.wrap&&fe===35615)zt[pe.check=0]=255&fe,zt[1]=fe>>>8&255,pe.check=w(pe.check,zt,2,0),ie=fe=0,pe.mode=2;else if(pe.flags=0,pe.head&&(pe.head.done=!1),!(1&pe.wrap)||(((255&fe)<<8)+(fe>>8))%31)De.msg="incorrect header check",pe.mode=30;else if((15&fe)!=8)De.msg="unknown compression method",pe.mode=30;else{if(ie-=4,st=8+(15&(fe>>>=4)),pe.wbits===0)pe.wbits=st;else if(st>pe.wbits){De.msg="invalid window size",pe.mode=30;break}pe.dmax=1<<st,De.adler=pe.check=1,pe.mode=512&fe?10:12,ie=fe=0}}break;case 2:for(;ie<16;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}if(pe.flags=fe,(255&pe.flags)!=8){De.msg="unknown compression method",pe.mode=30;break}if(57344&pe.flags){De.msg="unknown header flags set",pe.mode=30;break}pe.head&&(pe.head.text=fe>>8&1),512&pe.flags&&(zt[0]=255&fe,zt[1]=fe>>>8&255,pe.check=w(pe.check,zt,2,0)),ie=fe=0,pe.mode=3;case 3:for(;ie<32;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}pe.head&&(pe.head.time=fe),512&pe.flags&&(zt[0]=255&fe,zt[1]=fe>>>8&255,zt[2]=fe>>>16&255,zt[3]=fe>>>24&255,pe.check=w(pe.check,zt,4,0)),ie=fe=0,pe.mode=4;case 4:for(;ie<16;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}pe.head&&(pe.head.xflags=255&fe,pe.head.os=fe>>8),512&pe.flags&&(zt[0]=255&fe,zt[1]=fe>>>8&255,pe.check=w(pe.check,zt,2,0)),ie=fe=0,pe.mode=5;case 5:if(1024&pe.flags){for(;ie<16;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}pe.length=fe,pe.head&&(pe.head.extra_len=fe),512&pe.flags&&(zt[0]=255&fe,zt[1]=fe>>>8&255,pe.check=w(pe.check,zt,2,0)),ie=fe=0}else pe.head&&(pe.head.extra=null);pe.mode=6;case 6:if(1024&pe.flags&&((le=ge<(le=pe.length)?ge:le)&&(pe.head&&(st=pe.head.extra_len-pe.length,pe.head.extra||(pe.head.extra=new Array(pe.head.extra_len)),O.arraySet(pe.head.extra,ot,yt,le,st)),512&pe.flags&&(pe.check=w(pe.check,ot,le,yt)),ge-=le,yt+=le,pe.length-=le),pe.length))break e;pe.length=0,pe.mode=7;case 7:if(2048&pe.flags){if(ge===0)break e;for(le=0;st=ot[yt+le++],pe.head&&st&&pe.length<65536&&(pe.head.name+=String.fromCharCode(st)),st&&le<ge;);if(512&pe.flags&&(pe.check=w(pe.check,ot,le,yt)),ge-=le,yt+=le,st)break e}else pe.head&&(pe.head.name=null);pe.length=0,pe.mode=8;case 8:if(4096&pe.flags){if(ge===0)break e;for(le=0;st=ot[yt+le++],pe.head&&st&&pe.length<65536&&(pe.head.comment+=String.fromCharCode(st)),st&&le<ge;);if(512&pe.flags&&(pe.check=w(pe.check,ot,le,yt)),ge-=le,yt+=le,st)break e}else pe.head&&(pe.head.comment=null);pe.mode=9;case 9:if(512&pe.flags){for(;ie<16;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}if(fe!==(65535&pe.check)){De.msg="header crc mismatch",pe.mode=30;break}ie=fe=0}pe.head&&(pe.head.hcrc=pe.flags>>9&1,pe.head.done=!0),De.adler=pe.check=0,pe.mode=12;break;case 10:for(;ie<32;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}De.adler=pe.check=W(fe),ie=fe=0,pe.mode=11;case 11:if(pe.havedict===0)return De.next_out=Ot,De.avail_out=Ee,De.next_in=yt,De.avail_in=ge,pe.hold=fe,pe.bits=ie,2;De.adler=pe.check=1,pe.mode=12;case 12:if(Fe===5||Fe===6)break e;case 13:if(pe.last)fe>>>=7&ie,ie-=7&ie,pe.mode=27;else{for(;ie<3;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}switch(pe.last=1&fe,--ie,3&(fe>>>=1)){case 0:pe.mode=14;break;case 1:Vt=mr=void 0;var Vt,mr=pe;if(ne){for(ae=new O.Buf32(512),ce=new O.Buf32(32),Vt=0;Vt<144;)mr.lens[Vt++]=8;for(;Vt<256;)mr.lens[Vt++]=9;for(;Vt<280;)mr.lens[Vt++]=7;for(;Vt<288;)mr.lens[Vt++]=8;for(Y(1,mr.lens,0,288,ae,0,mr.work,{bits:9}),Vt=0;Vt<32;)mr.lens[Vt++]=5;Y(2,mr.lens,0,32,ce,0,mr.work,{bits:5}),ne=!1}if(mr.lencode=ae,mr.lenbits=9,mr.distcode=ce,mr.distbits=5,pe.mode=20,Fe!==6)break;fe>>>=2,ie-=2;break e;case 2:pe.mode=17;break;case 3:De.msg="invalid block type",pe.mode=30}fe>>>=2,ie-=2}break;case 14:for(fe>>>=7&ie,ie-=7&ie;ie<32;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}if((65535&fe)!=(fe>>>16^65535)){De.msg="invalid stored block lengths",pe.mode=30;break}if(pe.length=65535&fe,ie=fe=0,pe.mode=15,Fe===6)break e;case 15:pe.mode=16;case 16:if(le=pe.length){if((le=Ee<(le=ge<le?ge:le)?Ee:le)===0)break e;O.arraySet(ft,ot,yt,le,Ot),ge-=le,yt+=le,Ee-=le,Ot+=le,pe.length-=le}else pe.mode=12;break;case 17:for(;ie<14;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}if(pe.nlen=257+(31&fe),fe>>>=5,ie-=5,pe.ndist=1+(31&fe),fe>>>=5,ie-=5,pe.ncode=4+(15&fe),fe>>>=4,ie-=4,286<pe.nlen||30<pe.ndist){De.msg="too many length or distance symbols",pe.mode=30;break}pe.have=0,pe.mode=18;case 18:for(;pe.have<pe.ncode;){for(;ie<3;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}pe.lens[Ut[pe.have++]]=7&fe,fe>>>=3,ie-=3}for(;pe.have<19;)pe.lens[Ut[pe.have++]]=0;if(pe.lencode=pe.lendyn,pe.lenbits=7,Et={bits:pe.lenbits},At=Y(0,pe.lens,0,19,pe.lencode,0,pe.work,Et),pe.lenbits=Et.bits,At){De.msg="invalid code lengths set",pe.mode=30;break}pe.have=0,pe.mode=19;case 19:for(;pe.have<pe.nlen+pe.ndist;){for(;Re=(Ft=pe.lencode[fe&(1<<pe.lenbits)-1])>>>16&255,lt=65535&Ft,!((ct=Ft>>>24)<=ie);){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}if(lt<16)fe>>>=ct,ie-=ct,pe.lens[pe.have++]=lt;else{if(lt===16){for(Dt=ct+2;ie<Dt;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}if(fe>>>=ct,ie-=ct,pe.have===0){De.msg="invalid bit length repeat",pe.mode=30;break}st=pe.lens[pe.have-1],le=3+(3&fe),fe>>>=2,ie-=2}else if(lt===17){for(Dt=ct+3;ie<Dt;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}st=0,le=3+(7&(fe>>>=ct)),fe>>>=3,ie=ie-ct-3}else{for(Dt=ct+7;ie<Dt;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}st=0,le=11+(127&(fe>>>=ct)),fe>>>=7,ie=ie-ct-7}if(pe.have+le>pe.nlen+pe.ndist){De.msg="invalid bit length repeat",pe.mode=30;break}for(;le--;)pe.lens[pe.have++]=st}}if(pe.mode===30)break;if(pe.lens[256]===0){De.msg="invalid code -- missing end-of-block",pe.mode=30;break}if(pe.lenbits=9,Et={bits:pe.lenbits},At=Y(1,pe.lens,0,pe.nlen,pe.lencode,0,pe.work,Et),pe.lenbits=Et.bits,At){De.msg="invalid literal/lengths set",pe.mode=30;break}if(pe.distbits=6,pe.distcode=pe.distdyn,Et={bits:pe.distbits},At=Y(2,pe.lens,pe.nlen,pe.ndist,pe.distcode,0,pe.work,Et),pe.distbits=Et.bits,At){De.msg="invalid distances set",pe.mode=30;break}if(pe.mode=20,Fe===6)break e;case 20:pe.mode=21;case 21:if(6<=ge&&258<=Ee){De.next_out=Ot,De.avail_out=Ee,De.next_in=yt,De.avail_in=ge,pe.hold=fe,pe.bits=ie,k(De,de),Ot=De.next_out,ft=De.output,Ee=De.avail_out,yt=De.next_in,ot=De.input,ge=De.avail_in,fe=pe.hold,ie=pe.bits,pe.mode===12&&(pe.back=-1);break}for(pe.back=0;Re=(Ft=pe.lencode[fe&(1<<pe.lenbits)-1])>>>16&255,lt=65535&Ft,!((ct=Ft>>>24)<=ie);){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}if(Re&&!(240&Re)){for(St=ct,Yt=Re,xe=lt;Re=(Ft=pe.lencode[xe+((fe&(1<<St+Yt)-1)>>St)])>>>16&255,lt=65535&Ft,!(St+(ct=Ft>>>24)<=ie);){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}fe>>>=St,ie-=St,pe.back+=St}if(fe>>>=ct,ie-=ct,pe.back+=ct,pe.length=lt,Re===0){pe.mode=26;break}if(32&Re){pe.back=-1,pe.mode=12;break}if(64&Re){De.msg="invalid literal/length code",pe.mode=30;break}pe.extra=15&Re,pe.mode=22;case 22:if(pe.extra){for(Dt=pe.extra;ie<Dt;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}pe.length+=fe&(1<<pe.extra)-1,fe>>>=pe.extra,ie-=pe.extra,pe.back+=pe.extra}pe.was=pe.length,pe.mode=23;case 23:for(;Re=(Ft=pe.distcode[fe&(1<<pe.distbits)-1])>>>16&255,lt=65535&Ft,!((ct=Ft>>>24)<=ie);){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}if(!(240&Re)){for(St=ct,Yt=Re,xe=lt;Re=(Ft=pe.distcode[xe+((fe&(1<<St+Yt)-1)>>St)])>>>16&255,lt=65535&Ft,!(St+(ct=Ft>>>24)<=ie);){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}fe>>>=St,ie-=St,pe.back+=St}if(fe>>>=ct,ie-=ct,pe.back+=ct,64&Re){De.msg="invalid distance code",pe.mode=30;break}pe.offset=lt,pe.extra=15&Re,pe.mode=24;case 24:if(pe.extra){for(Dt=pe.extra;ie<Dt;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}pe.offset+=fe&(1<<pe.extra)-1,fe>>>=pe.extra,ie-=pe.extra,pe.back+=pe.extra}if(pe.offset>pe.dmax){De.msg="invalid distance too far back",pe.mode=30;break}pe.mode=25;case 25:if(Ee===0)break e;if(pe.offset>(le=de-Ee)){if((le=pe.offset-le)>pe.whave&&pe.sane){De.msg="invalid distance too far back",pe.mode=30;break}Ve=le>pe.wnext?(le-=pe.wnext,pe.wsize-le):pe.wnext-le,le>pe.length&&(le=pe.length),nt=pe.window}else nt=ft,Ve=Ot-pe.offset,le=pe.length;for(Ee-=le=Ee<le?Ee:le,pe.length-=le;ft[Ot++]=nt[Ve++],--le;);pe.length===0&&(pe.mode=21);break;case 26:if(Ee===0)break e;ft[Ot++]=pe.length,Ee--,pe.mode=21;break;case 27:if(pe.wrap){for(;ie<32;){if(ge===0)break e;ge--,fe|=ot[yt++]<<ie,ie+=8}if(de-=Ee,De.total_out+=de,pe.total+=de,de&&(De.adler=pe.check=(pe.flags?w:T)(pe.check,ft,de,Ot-de)),de=Ee,(pe.flags?fe:W(fe))!==pe.check){De.msg="incorrect data check",pe.mode=30;break}ie=fe=0}pe.mode=28;case 28:if(pe.wrap&&pe.flags){for(;ie<32;){if(ge===0)break e;ge--,fe+=ot[yt++]<<ie,ie+=8}if(fe!==(4294967295&pe.total)){De.msg="incorrect length check",pe.mode=30;break}ie=fe=0}pe.mode=29;case 29:At=1;break e;case 30:At=-3;break e;case 31:return-4;default:return Z}return De.next_out=Ot,De.avail_out=Ee,De.next_in=yt,De.avail_in=ge,pe.hold=fe,pe.bits=ie,(pe.wsize||de!==De.avail_out&&pe.mode<30&&(pe.mode<27||Fe!==4))&&Qe(De,De.output,De.next_out,de-De.avail_out)?(pe.mode=31,-4):(ue-=De.avail_in,de-=De.avail_out,De.total_in+=ue,De.total_out+=de,pe.total+=de,pe.wrap&&de&&(De.adler=pe.check=(pe.flags?w:T)(pe.check,ft,de,De.next_out-de)),De.data_type=pe.bits+(pe.last?64:0)+(pe.mode===12?128:0)+(pe.mode===20||pe.mode===15?256:0),At=(ue==0&&de===0||Fe===4)&&At===0?-5:At)},L.inflateEnd=function(De){var Fe;return De&&De.state?((Fe=De.state).window&&(Fe.window=null),De.state=null,0):Z},L.inflateGetHeader=function(De,Fe){return De&&De.state&&2&(De=De.state).wrap?((De.head=Fe).done=!1,0):Z},L.inflateSetDictionary=function(De,Fe){var pe,ot=Fe.length;return!De||!De.state||(pe=De.state).wrap!==0&&pe.mode!==11?Z:pe.mode===11&&T(1,Fe,ot,0)!==pe.check?-3:Qe(De,Fe,ot,ot)?(pe.mode=31,-4):(pe.havedict=1,0)},L.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(z,$,L){var O=z("../utils/common"),T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],w=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];$.exports=function(Z,W,K,x,X,H,j,ae){var ce,ne,Qe,De,Fe,pe,ot,ft,yt,Ot=ae.bits,ge=0,Ee=0,fe=0,ie=0,ue=0,de=0,le=0,Ve=0,nt=0,ct=0,Re=null,lt=0,St=new O.Buf16(16),Yt=new O.Buf16(16),xe=null,st=0;for(ge=0;ge<=15;ge++)St[ge]=0;for(Ee=0;Ee<x;Ee++)St[W[K+Ee]]++;for(ue=Ot,ie=15;1<=ie&&St[ie]===0;ie--);if(ie<ue&&(ue=ie),ie===0)X[H++]=20971520,X[H++]=20971520,ae.bits=1;else{for(fe=1;fe<ie&&St[fe]===0;fe++);for(ue<fe&&(ue=fe),ge=Ve=1;ge<=15;ge++)if((Ve=(Ve<<1)-St[ge])<0)return-1;if(0<Ve&&(Z===0||ie!==1))return-1;for(Yt[1]=0,ge=1;ge<15;ge++)Yt[ge+1]=Yt[ge]+St[ge];for(Ee=0;Ee<x;Ee++)W[K+Ee]!==0&&(j[Yt[W[K+Ee]]++]=Ee);if(pe=Z===0?(Re=xe=j,19):Z===1?(Re=T,lt-=257,xe=w,st-=257,256):(Re=k,xe=Y,-1),ge=fe,Fe=H,le=Ee=ct=0,Qe=-1,De=(nt=1<<(de=ue))-1,Z===1&&852<nt||Z===2&&592<nt)return 1;for(;;){for(yt=j[Ee]<pe?(ft=0,j[Ee]):j[Ee]>pe?(ft=xe[st+j[Ee]],Re[lt+j[Ee]]):(ft=96,0),ce=1<<(ot=ge-le),fe=ne=1<<de;X[Fe+(ct>>le)+(ne-=ce)]=ot<<24|ft<<16|yt|0,ne!==0;);for(ce=1<<ge-1;ct&ce;)ce>>=1;if(ct=ce!==0?(ct&ce-1)+ce:0,Ee++,--St[ge]==0){if(ge===ie)break;ge=W[K+j[Ee]]}if(ue<ge&&(ct&De)!==Qe){for(Fe+=fe,Ve=1<<(de=ge-(le=le===0?ue:le));de+le<ie&&!((Ve-=St[de+le])<=0);)de++,Ve<<=1;if(nt+=1<<de,Z===1&&852<nt||Z===2&&592<nt)return 1;X[Qe=ct&De]=ue<<24|de<<16|Fe-H|0}}ct!==0&&(X[Fe+ct]=ge-le<<24|64<<16|0),ae.bits=ue}return 0}},{"../utils/common":41}],51:[function(z,$,L){$.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(z,$,L){var O=z("../utils/common");function T(Re){for(var lt=Re.length;0<=--lt;)Re[lt]=0}var w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(576),K=(T(W),new Array(60)),x=(T(K),new Array(512)),X=(T(x),new Array(256)),H=(T(X),new Array(29));T(H);var j,ae,ce,ne=new Array(30);function Qe(Re,lt,St,Yt,xe){this.static_tree=Re,this.extra_bits=lt,this.extra_base=St,this.elems=Yt,this.max_length=xe,this.has_stree=Re&&Re.length}function De(Re,lt){this.dyn_tree=Re,this.max_code=0,this.stat_desc=lt}function Fe(Re){return Re<256?x[Re]:x[256+(Re>>>7)]}function pe(Re,lt){Re.pending_buf[Re.pending++]=255&lt,Re.pending_buf[Re.pending++]=lt>>>8&255}function ot(Re,lt,St){Re.bi_valid>16-St?(Re.bi_buf|=lt<<Re.bi_valid&65535,pe(Re,Re.bi_buf),Re.bi_buf=lt>>16-Re.bi_valid,Re.bi_valid+=St-16):(Re.bi_buf|=lt<<Re.bi_valid&65535,Re.bi_valid+=St)}function ft(Re,lt,St){ot(Re,St[2*lt],St[2*lt+1])}function yt(Re,lt){for(var St=0;St|=1&Re,Re>>>=1,St<<=1,0<--lt;);return St>>>1}function Ot(Re,lt,St){for(var Yt,xe=new Array(16),st=0,At=1;At<=15;At++)xe[At]=st=st+St[At-1]<<1;for(Yt=0;Yt<=lt;Yt++){var Et=Re[2*Yt+1];Et!==0&&(Re[2*Yt]=yt(xe[Et]++,Et))}}function ge(Re){for(var lt=0;lt<286;lt++)Re.dyn_ltree[2*lt]=0;for(lt=0;lt<30;lt++)Re.dyn_dtree[2*lt]=0;for(lt=0;lt<19;lt++)Re.bl_tree[2*lt]=0;Re.dyn_ltree[512]=1,Re.opt_len=Re.static_len=0,Re.last_lit=Re.matches=0}function Ee(Re){8<Re.bi_valid?pe(Re,Re.bi_buf):0<Re.bi_valid&&(Re.pending_buf[Re.pending++]=Re.bi_buf),Re.bi_buf=0,Re.bi_valid=0}function fe(Re,lt,St,Yt){var xe=2*lt,st=2*St;return Re[xe]<Re[st]||Re[xe]===Re[st]&&Yt[lt]<=Yt[St]}function ie(Re,lt,St){for(var Yt=Re.heap[St],xe=St<<1;xe<=Re.heap_len&&(xe<Re.heap_len&&fe(lt,Re.heap[xe+1],Re.heap[xe],Re.depth)&&xe++,!fe(lt,Yt,Re.heap[xe],Re.depth));)Re.heap[St]=Re.heap[xe],St=xe,xe<<=1;Re.heap[St]=Yt}function ue(Re,lt,St){var Yt,xe,st,At,Et=0;if(Re.last_lit!==0)for(;Yt=Re.pending_buf[Re.d_buf+2*Et]<<8|Re.pending_buf[Re.d_buf+2*Et+1],xe=Re.pending_buf[Re.l_buf+Et],Et++,Yt==0?ft(Re,xe,lt):(ft(Re,(st=X[xe])+256+1,lt),(At=w[st])!==0&&ot(Re,xe-=H[st],At),ft(Re,st=Fe(--Yt),St),(At=k[st])!==0&&ot(Re,Yt-=ne[st],At)),Et<Re.last_lit;);ft(Re,256,lt)}function de(Re,lt){var St,Yt,xe,st=lt.dyn_tree,At=lt.stat_desc.static_tree,Et=lt.stat_desc.has_stree,Dt=lt.stat_desc.elems,Ft=-1;for(Re.heap_len=0,Re.heap_max=573,St=0;St<Dt;St++)st[2*St]!==0?(Re.heap[++Re.heap_len]=Ft=St,Re.depth[St]=0):st[2*St+1]=0;for(;Re.heap_len<2;)st[2*(xe=Re.heap[++Re.heap_len]=Ft<2?++Ft:0)]=1,Re.depth[xe]=0,Re.opt_len--,Et&&(Re.static_len-=At[2*xe+1]);for(lt.max_code=Ft,St=Re.heap_len>>1;1<=St;St--)ie(Re,st,St);for(xe=Dt;St=Re.heap[1],Re.heap[1]=Re.heap[Re.heap_len--],ie(Re,st,1),Yt=Re.heap[1],Re.heap[--Re.heap_max]=St,Re.heap[--Re.heap_max]=Yt,st[2*xe]=st[2*St]+st[2*Yt],Re.depth[xe]=(Re.depth[St]>=Re.depth[Yt]?Re.depth[St]:Re.depth[Yt])+1,st[2*St+1]=st[2*Yt+1]=xe,Re.heap[1]=xe++,ie(Re,st,1),2<=Re.heap_len;);Re.heap[--Re.heap_max]=Re.heap[1];for(var zt,Ut,Vt,mr,Br,Zt=Re,wr=lt.dyn_tree,kt=lt.max_code,Ar=lt.stat_desc.static_tree,qe=lt.stat_desc.has_stree,nr=lt.stat_desc.extra_bits,tr=lt.stat_desc.extra_base,lr=lt.stat_desc.max_length,pr=0,rr=0;rr<=15;rr++)Zt.bl_count[rr]=0;for(wr[2*Zt.heap[Zt.heap_max]+1]=0,zt=Zt.heap_max+1;zt<573;zt++)lr<(rr=wr[2*wr[2*(Ut=Zt.heap[zt])+1]+1]+1)&&(rr=lr,pr++),wr[2*Ut+1]=rr,kt<Ut||(Zt.bl_count[rr]++,mr=0,tr<=Ut&&(mr=nr[Ut-tr]),Br=wr[2*Ut],Zt.opt_len+=Br*(rr+mr),qe&&(Zt.static_len+=Br*(Ar[2*Ut+1]+mr)));if(pr!==0){do for(rr=lr-1;Zt.bl_count[rr]===0;)rr--;while(Zt.bl_count[rr]--,Zt.bl_count[rr+1]+=2,Zt.bl_count[lr]--,0<(pr-=2));for(rr=lr;rr!==0;rr--)for(Ut=Zt.bl_count[rr];Ut!==0;)kt<(Vt=Zt.heap[--zt])||(wr[2*Vt+1]!==rr&&(Zt.opt_len+=(rr-wr[2*Vt+1])*wr[2*Vt],wr[2*Vt+1]=rr),Ut--)}Ot(st,Ft,Re.bl_count)}function le(Re,lt,St){var Yt,xe,st=-1,At=lt[1],Et=0,Dt=7,Ft=4;for(At===0&&(Dt=138,Ft=3),lt[2*(St+1)+1]=65535,Yt=0;Yt<=St;Yt++)xe=At,At=lt[2*(Yt+1)+1],++Et<Dt&&xe===At||(Et<Ft?Re.bl_tree[2*xe]+=Et:xe!==0?(xe!==st&&Re.bl_tree[2*xe]++,Re.bl_tree[32]++):Et<=10?Re.bl_tree[34]++:Re.bl_tree[36]++,st=xe,Ft=(Et=0)===At?(Dt=138,3):xe===At?(Dt=6,3):(Dt=7,4))}function Ve(Re,lt,St){var Yt,xe,st=-1,At=lt[1],Et=0,Dt=7,Ft=4;for(At===0&&(Dt=138,Ft=3),Yt=0;Yt<=St;Yt++)if(xe=At,At=lt[2*(Yt+1)+1],!(++Et<Dt&&xe===At)){if(Et<Ft)for(;ft(Re,xe,Re.bl_tree),--Et!=0;);else xe!==0?(xe!==st&&(ft(Re,xe,Re.bl_tree),Et--),ft(Re,16,Re.bl_tree),ot(Re,Et-3,2)):Et<=10?(ft(Re,17,Re.bl_tree),ot(Re,Et-3,3)):(ft(Re,18,Re.bl_tree),ot(Re,Et-11,7));st=xe,Ft=(Et=0)===At?(Dt=138,3):xe===At?(Dt=6,3):(Dt=7,4)}}T(ne);var nt=!1;function ct(Re,lt,St,Yt){ot(Re,0+(Yt?1:0),3),Yt=lt,lt=St,Ee(St=Re),pe(St,lt),pe(St,~lt),O.arraySet(St.pending_buf,St.window,Yt,lt,St.pending),St.pending+=lt}L._tr_init=function(Re){if(!nt){for(var lt,St,Yt,xe,st=new Array(16),At=Yt=0;At<28;At++)for(H[At]=Yt,lt=0;lt<1<<w[At];lt++)X[Yt++]=At;for(X[Yt-1]=At,At=xe=0;At<16;At++)for(ne[At]=xe,lt=0;lt<1<<k[At];lt++)x[xe++]=At;for(xe>>=7;At<30;At++)for(ne[At]=xe<<7,lt=0;lt<1<<k[At]-7;lt++)x[256+xe++]=At;for(St=0;St<=15;St++)st[St]=0;for(lt=0;lt<=143;)W[2*lt+1]=8,lt++,st[8]++;for(;lt<=255;)W[2*lt+1]=9,lt++,st[9]++;for(;lt<=279;)W[2*lt+1]=7,lt++,st[7]++;for(;lt<=287;)W[2*lt+1]=8,lt++,st[8]++;for(Ot(W,287,st),lt=0;lt<30;lt++)K[2*lt+1]=5,K[2*lt]=yt(lt,5);j=new Qe(W,w,257,286,15),ae=new Qe(K,k,0,30,15),ce=new Qe(new Array(0),Y,0,19,7),nt=!0}Re.l_desc=new De(Re.dyn_ltree,j),Re.d_desc=new De(Re.dyn_dtree,ae),Re.bl_desc=new De(Re.bl_tree,ce),Re.bi_buf=0,Re.bi_valid=0,ge(Re)},L._tr_stored_block=ct,L._tr_flush_block=function(Re,lt,St,Yt){var xe,st,At,Et=0;if(0<Re.level?(Re.strm.data_type===2&&(Re.strm.data_type=function(zt){for(var Ut=4093624447,Vt=0;Vt<=31;Vt++,Ut>>>=1)if(1&Ut&&zt.dyn_ltree[2*Vt]!==0)return 0;if(zt.dyn_ltree[18]!==0||zt.dyn_ltree[20]!==0||zt.dyn_ltree[26]!==0)return 1;for(Vt=32;Vt<256;Vt++)if(zt.dyn_ltree[2*Vt]!==0)return 1;return 0}(Re)),de(Re,Re.l_desc),de(Re,Re.d_desc),Et=function(zt){var Ut;for(le(zt,zt.dyn_ltree,zt.l_desc.max_code),le(zt,zt.dyn_dtree,zt.d_desc.max_code),de(zt,zt.bl_desc),Ut=18;3<=Ut&&zt.bl_tree[2*Z[Ut]+1]===0;Ut--);return zt.opt_len+=3*(Ut+1)+5+5+4,Ut}(Re),xe=Re.opt_len+3+7>>>3,(st=Re.static_len+3+7>>>3)<=xe&&(xe=st)):xe=st=St+5,St+4<=xe&&lt!==-1)ct(Re,lt,St,Yt);else if(Re.strategy===4||st===xe)ot(Re,2+(Yt?1:0),3),ue(Re,W,K);else{ot(Re,4+(Yt?1:0),3);var Dt=Re,Ft=(lt=Re.l_desc.max_code+1,St=Re.d_desc.max_code+1,Et+1);for(ot(Dt,lt-257,5),ot(Dt,St-1,5),ot(Dt,Ft-4,4),At=0;At<Ft;At++)ot(Dt,Dt.bl_tree[2*Z[At]+1],3);Ve(Dt,Dt.dyn_ltree,lt-1),Ve(Dt,Dt.dyn_dtree,St-1),ue(Re,Re.dyn_ltree,Re.dyn_dtree)}ge(Re),Yt&&Ee(Re)},L._tr_tally=function(Re,lt,St){return Re.pending_buf[Re.d_buf+2*Re.last_lit]=lt>>>8&255,Re.pending_buf[Re.d_buf+2*Re.last_lit+1]=255&lt,Re.pending_buf[Re.l_buf+Re.last_lit]=255&St,Re.last_lit++,lt===0?Re.dyn_ltree[2*St]++:(Re.matches++,lt--,Re.dyn_ltree[2*(X[St]+256+1)]++,Re.dyn_dtree[2*Fe(lt)]++),Re.last_lit===Re.lit_bufsize-1},L._tr_align=function(Re){ot(Re,2,3),ft(Re,256,W),Re.bi_valid===16?(pe(Re,Re.bi_buf),Re.bi_buf=0,Re.bi_valid=0):8<=Re.bi_valid&&(Re.pending_buf[Re.pending++]=255&Re.bi_buf,Re.bi_buf>>=8,Re.bi_valid-=8)}},{"../utils/common":41}],53:[function(z,$,L){$.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(z,$,L){(function(O){(function(T){var w,k,Y,Z,W,K,x,X,H;function j(ne){delete W[ne]}function ae(ne){if(K)setTimeout(ae,0,ne);else{var Qe=W[ne];if(Qe){K=!0;try{var De=Qe.callback,Fe=Qe.args;switch(Fe.length){case 0:De();break;case 1:De(Fe[0]);break;case 2:De(Fe[0],Fe[1]);break;case 3:De(Fe[0],Fe[1],Fe[2]);break;default:De.apply(void 0,Fe)}}finally{j(ne),K=!1}}}}function ce(ne){ne.source===T&&typeof ne.data=="string"&&ne.data.indexOf(Y)===0&&ae(+ne.data.slice(Y.length))}T.setImmediate||(Z=1,K=!(W={}),x=T.document,X=(X=Object.getPrototypeOf&&Object.getPrototypeOf(T))&&X.setTimeout?X:T,H={}.toString.call(T.process)==="[object process]"?function(ne){V.nextTick(function(){ae(ne)})}:function(){var ne,Qe;if(T.postMessage&&!T.importScripts)return ne=!0,Qe=T.onmessage,T.onmessage=function(){ne=!1},T.postMessage("","*"),T.onmessage=Qe,ne}()?(Y="setImmediate$"+Math.random()+"$",T.addEventListener?T.addEventListener("message",ce,!1):T.attachEvent("onmessage",ce),function(ne){T.postMessage(Y+ne,"*")}):T.MessageChannel?((k=new MessageChannel).port1.onmessage=function(ne){ae(ne.data)},function(ne){k.port2.postMessage(ne)}):x&&"onreadystatechange"in x.createElement("script")?(w=x.documentElement,function(ne){var Qe=x.createElement("script");Qe.onreadystatechange=function(){ae(ne),Qe.onreadystatechange=null,w.removeChild(Qe),Qe=null},w.appendChild(Qe)}):function(ne){setTimeout(ae,0,ne)},X.setImmediate=function(ne){typeof ne!="function"&&(ne=new Function(""+ne));for(var Qe=new Array(arguments.length-1),De=0;De<Qe.length;De++)Qe[De]=arguments[De+1];return W[Z]={callback:ne,args:Qe},H(Z),Z++},X.clearImmediate=j)})(typeof self>"u"?O===void 0?this:O:self)}).call(this,F!==void 0?F:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}).call(this,U(4).Buffer,U(8).setImmediate,U(0),U(1))},,function(y,N,U){(function(q){var te=U(5),F=U(6),V=U(7);function z(){return L.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function $(ge,Ee){if(z()<Ee)throw new RangeError("Invalid typed array length");return L.TYPED_ARRAY_SUPPORT?(ge=new Uint8Array(Ee)).__proto__=L.prototype:(ge=ge===null?new L(Ee):ge).length=Ee,ge}function L(ge,Ee,fe){if(!(L.TYPED_ARRAY_SUPPORT||this instanceof L))return new L(ge,Ee,fe);if(typeof ge!="number")return O(this,ge,Ee,fe);if(typeof Ee=="string")throw new Error("If encoding is specified then the first argument must be a string");return w(this,ge)}function O(ge,Ee,fe,ie){if(typeof Ee=="number")throw new TypeError('"value" argument must not be a number');if(typeof ArrayBuffer<"u"&&Ee instanceof ArrayBuffer){var ue=ge,de=Ee,le=fe;if(de.byteLength,le<0||de.byteLength<le)throw new RangeError("'offset' is out of bounds");if(de.byteLength<le+(ie||0))throw new RangeError("'length' is out of bounds");return de=le===void 0&&ie===void 0?new Uint8Array(de):ie===void 0?new Uint8Array(de,le):new Uint8Array(de,le,ie),L.TYPED_ARRAY_SUPPORT?(ue=de).__proto__=L.prototype:ue=k(ue,de),ue}if(typeof Ee=="string"){if(le=ge,ie=Ee,de=fe,L.isEncoding(de=typeof de=="string"&&de!==""?de:"utf8"))return(ie=(le=$(le,ue=0|Z(ie,de))).write(ie,de))!==ue?le.slice(0,ie):le;throw new TypeError('"encoding" must be a valid string encoding')}var Ve;if(fe=ge,ie=Ee,L.isBuffer(ie))return(fe=$(fe,Ve=0|Y(ie.length))).length!==0&&ie.copy(fe,0,0,Ve),fe;if(ie){if(typeof ArrayBuffer<"u"&&ie.buffer instanceof ArrayBuffer||"length"in ie)return typeof ie.length!="number"||(Ve=ie.length)!=Ve?$(fe,0):k(fe,ie);if(ie.type==="Buffer"&&V(ie.data))return k(fe,ie.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function T(ge){if(typeof ge!="number")throw new TypeError('"size" argument must be a number');if(ge<0)throw new RangeError('"size" argument must not be negative')}function w(ge,Ee){if(T(Ee),ge=$(ge,Ee<0?0:0|Y(Ee)),!L.TYPED_ARRAY_SUPPORT)for(var fe=0;fe<Ee;++fe)ge[fe]=0;return ge}function k(ge,Ee){var fe=Ee.length<0?0:0|Y(Ee.length);ge=$(ge,fe);for(var ie=0;ie<fe;ie+=1)ge[ie]=255&Ee[ie];return ge}function Y(ge){if(ge>=z())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z().toString(16)+" bytes");return 0|ge}function Z(ge,Ee){if(L.isBuffer(ge))return ge.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ge)||ge instanceof ArrayBuffer))return ge.byteLength;var fe=(ge=typeof ge!="string"?""+ge:ge).length;if(fe===0)return 0;for(var ie=!1;;)switch(Ee){case"ascii":case"latin1":case"binary":return fe;case"utf8":case"utf-8":case void 0:return ft(ge).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*fe;case"hex":return fe>>>1;case"base64":return yt(ge).length;default:if(ie)return ft(ge).length;Ee=(""+Ee).toLowerCase(),ie=!0}}function W(ge,Ee,fe){var ie,ue=!1;if((Ee=Ee===void 0||Ee<0?0:Ee)>this.length||(fe=fe===void 0||fe>this.length?this.length:fe)<=0||(fe>>>=0)<=(Ee>>>=0))return"";for(ge=ge||"utf8";;)switch(ge){case"hex":var de=Ee,le=fe,Ve=this.length;(!le||le<0||Ve<le)&&(le=Ve);for(var nt="",ct=de=!de||de<0?0:de;ct<le;++ct)nt+=function(Ut){return Ut<16?"0"+Ut.toString(16):Ut.toString(16)}(this[ct]);return nt;case"utf8":case"utf-8":return j(this,Ee,fe);case"ascii":Ve=Ee;var Re=fe,lt="";Re=Math.min(this.length,Re);for(var St=Ve;St<Re;++St)lt+=String.fromCharCode(127&this[St]);return lt;case"latin1":case"binary":de=Ee;var Yt=fe,xe="";Yt=Math.min(this.length,Yt);for(var st=de;st<Yt;++st)xe+=String.fromCharCode(this[st]);return xe;case"base64":return At=this,ie=fe,(Et=Ee)===0&&ie===At.length?te.fromByteArray(At):te.fromByteArray(At.slice(Et,ie));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var At=Ee,Et=fe,Dt=this.slice(At,Et),Ft="",zt=0;zt<Dt.length;zt+=2)Ft+=String.fromCharCode(Dt[zt]+256*Dt[zt+1]);return Ft;default:if(ue)throw new TypeError("Unknown encoding: "+ge);ge=(ge+"").toLowerCase(),ue=!0}}function K(ge,Ee,fe){var ie=ge[Ee];ge[Ee]=ge[fe],ge[fe]=ie}function x(ge,Ee,fe,ie,ue){if(ge.length===0)return-1;if(typeof fe=="string"?(ie=fe,fe=0):2147483647<fe?fe=2147483647:fe<-2147483648&&(fe=-2147483648),fe=+fe,(fe=(fe=isNaN(fe)?ue?0:ge.length-1:fe)<0?ge.length+fe:fe)>=ge.length){if(ue)return-1;fe=ge.length-1}else if(fe<0){if(!ue)return-1;fe=0}if(typeof Ee=="string"&&(Ee=L.from(Ee,ie)),L.isBuffer(Ee))return Ee.length===0?-1:X(ge,Ee,fe,ie,ue);if(typeof Ee=="number")return Ee&=255,L.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?(ue?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(ge,Ee,fe):X(ge,[Ee],fe,ie,ue);throw new TypeError("val must be string, number or Buffer")}function X(ge,Ee,fe,ie,ue){var de=1,le=ge.length,Ve=Ee.length;if(ie!==void 0&&((ie=String(ie).toLowerCase())==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(ge.length<2||Ee.length<2)return-1;le/=de=2,Ve/=2,fe/=2}function nt(Yt,xe){return de===1?Yt[xe]:Yt.readUInt16BE(xe*de)}if(ue)for(var ct=-1,Re=fe;Re<le;Re++)if(nt(ge,Re)===nt(Ee,ct===-1?0:Re-ct)){if(Re-(ct=ct===-1?Re:ct)+1===Ve)return ct*de}else ct!==-1&&(Re-=Re-ct),ct=-1;else for(Re=fe=le<fe+Ve?le-Ve:fe;0<=Re;Re--){for(var lt=!0,St=0;St<Ve;St++)if(nt(ge,Re+St)!==nt(Ee,St)){lt=!1;break}if(lt)return Re}return-1}function H(ge,Ee,fe,ie){return Ot(function(ue){for(var de=[],le=0;le<ue.length;++le)de.push(255&ue.charCodeAt(le));return de}(Ee),ge,fe,ie)}function j(ge,Ee,fe){fe=Math.min(ge.length,fe);for(var ie=[],ue=Ee;ue<fe;){var de,le,Ve,nt,ct=ge[ue],Re=null,lt=239<ct?4:223<ct?3:191<ct?2:1;if(ue+lt<=fe)switch(lt){case 1:ct<128&&(Re=ct);break;case 2:(192&(de=ge[ue+1]))==128&&127<(nt=(31&ct)<<6|63&de)&&(Re=nt);break;case 3:de=ge[ue+1],le=ge[ue+2],(192&de)==128&&(192&le)==128&&2047<(nt=(15&ct)<<12|(63&de)<<6|63&le)&&(nt<55296||57343<nt)&&(Re=nt);break;case 4:de=ge[ue+1],le=ge[ue+2],Ve=ge[ue+3],(192&de)==128&&(192&le)==128&&(192&Ve)==128&&65535<(nt=(15&ct)<<18|(63&de)<<12|(63&le)<<6|63&Ve)&&nt<1114112&&(Re=nt)}Re===null?(Re=65533,lt=1):65535<Re&&(ie.push((Re-=65536)>>>10&1023|55296),Re=56320|1023&Re),ie.push(Re),ue+=lt}var St=ie,Yt=St.length;if(Yt<=4096)return String.fromCharCode.apply(String,St);for(var xe="",st=0;st<Yt;)xe+=String.fromCharCode.apply(String,St.slice(st,st+=4096));return xe}function ae(ge,Ee,fe){if(ge%1!=0||ge<0)throw new RangeError("offset is not uint");if(fe<ge+Ee)throw new RangeError("Trying to access beyond buffer length")}function ce(ge,Ee,fe,ie,ue,de){if(!L.isBuffer(ge))throw new TypeError('"buffer" argument must be a Buffer instance');if(ue<Ee||Ee<de)throw new RangeError('"value" argument is out of bounds');if(fe+ie>ge.length)throw new RangeError("Index out of range")}function ne(ge,Ee,fe,ie){Ee<0&&(Ee=65535+Ee+1);for(var ue=0,de=Math.min(ge.length-fe,2);ue<de;++ue)ge[fe+ue]=(Ee&255<<8*(ie?ue:1-ue))>>>8*(ie?ue:1-ue)}function Qe(ge,Ee,fe,ie){Ee<0&&(Ee=4294967295+Ee+1);for(var ue=0,de=Math.min(ge.length-fe,4);ue<de;++ue)ge[fe+ue]=Ee>>>8*(ie?ue:3-ue)&255}function De(ge,Ee,fe,ie){if(fe+ie>ge.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("Index out of range")}function Fe(ge,Ee,fe,ie,ue){return ue||De(ge,0,fe,4),F.write(ge,Ee,fe,ie,23,4),fe+4}function pe(ge,Ee,fe,ie,ue){return ue||De(ge,0,fe,8),F.write(ge,Ee,fe,ie,52,8),fe+8}N.Buffer=L,N.SlowBuffer=function(ge){return L.alloc(+(ge=+ge!=ge?0:ge))},N.INSPECT_MAX_BYTES=50,L.TYPED_ARRAY_SUPPORT=q.TYPED_ARRAY_SUPPORT!==void 0?q.TYPED_ARRAY_SUPPORT:function(){try{var ge=new Uint8Array(1);return ge.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},ge.foo()===42&&typeof ge.subarray=="function"&&ge.subarray(1,1).byteLength===0}catch{return!1}}(),N.kMaxLength=z(),L.poolSize=8192,L._augment=function(ge){return ge.__proto__=L.prototype,ge},L.from=function(ge,Ee,fe){return O(null,ge,Ee,fe)},L.TYPED_ARRAY_SUPPORT&&(L.prototype.__proto__=Uint8Array.prototype,L.__proto__=Uint8Array,typeof Symbol<"u")&&Symbol.species&&L[Symbol.species]===L&&Object.defineProperty(L,Symbol.species,{value:null,configurable:!0}),L.alloc=function(ge,Ee,fe){return T(ge),ge<=0||Ee===void 0?$(null,ge):typeof fe=="string"?$(null,ge).fill(Ee,fe):$(null,ge).fill(Ee)},L.allocUnsafe=function(ge){return w(null,ge)},L.allocUnsafeSlow=function(ge){return w(null,ge)},L.isBuffer=function(ge){return!(ge==null||!ge._isBuffer)},L.compare=function(ge,Ee){if(!L.isBuffer(ge)||!L.isBuffer(Ee))throw new TypeError("Arguments must be Buffers");if(ge===Ee)return 0;for(var fe=ge.length,ie=Ee.length,ue=0,de=Math.min(fe,ie);ue<de;++ue)if(ge[ue]!==Ee[ue]){fe=ge[ue],ie=Ee[ue];break}return fe<ie?-1:ie<fe?1:0},L.isEncoding=function(ge){switch(String(ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},L.concat=function(ge,Ee){if(!V(ge))throw new TypeError('"list" argument must be an Array of Buffers');if(ge.length===0)return L.alloc(0);if(Ee===void 0)for(ue=Ee=0;ue<ge.length;++ue)Ee+=ge[ue].length;for(var fe=L.allocUnsafe(Ee),ie=0,ue=0;ue<ge.length;++ue){var de=ge[ue];if(!L.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(fe,ie),ie+=de.length}return fe},L.byteLength=Z,L.prototype._isBuffer=!0,L.prototype.swap16=function(){var ge=this.length;if(ge%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ee=0;Ee<ge;Ee+=2)K(this,Ee,Ee+1);return this},L.prototype.swap32=function(){var ge=this.length;if(ge%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ee=0;Ee<ge;Ee+=4)K(this,Ee,Ee+3),K(this,Ee+1,Ee+2);return this},L.prototype.swap64=function(){var ge=this.length;if(ge%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ee=0;Ee<ge;Ee+=8)K(this,Ee,Ee+7),K(this,Ee+1,Ee+6),K(this,Ee+2,Ee+5),K(this,Ee+3,Ee+4);return this},L.prototype.toString=function(){var ge=0|this.length;return ge==0?"":arguments.length===0?j(this,0,ge):W.apply(this,arguments)},L.prototype.equals=function(ge){if(L.isBuffer(ge))return this===ge||L.compare(this,ge)===0;throw new TypeError("Argument must be a Buffer")},L.prototype.inspect=function(){var ge="",Ee=N.INSPECT_MAX_BYTES;return 0<this.length&&(ge=this.toString("hex",0,Ee).match(/.{2}/g).join(" "),this.length>Ee)&&(ge+=" ... "),"<Buffer "+ge+">"},L.prototype.compare=function(ge,Ee,fe,ie,ue){if(!L.isBuffer(ge))throw new TypeError("Argument must be a Buffer");if(fe===void 0&&(fe=ge?ge.length:0),ie===void 0&&(ie=0),ue===void 0&&(ue=this.length),(Ee=Ee===void 0?0:Ee)<0||fe>ge.length||ie<0||ue>this.length)throw new RangeError("out of range index");if(ue<=ie&&fe<=Ee)return 0;if(ue<=ie)return-1;if(fe<=Ee)return 1;if(this===ge)return 0;for(var de=(ue>>>=0)-(ie>>>=0),le=(fe>>>=0)-(Ee>>>=0),Ve=Math.min(de,le),nt=this.slice(ie,ue),ct=ge.slice(Ee,fe),Re=0;Re<Ve;++Re)if(nt[Re]!==ct[Re]){de=nt[Re],le=ct[Re];break}return de<le?-1:le<de?1:0},L.prototype.includes=function(ge,Ee,fe){return this.indexOf(ge,Ee,fe)!==-1},L.prototype.indexOf=function(ge,Ee,fe){return x(this,ge,Ee,fe,!0)},L.prototype.lastIndexOf=function(ge,Ee,fe){return x(this,ge,Ee,fe,!1)},L.prototype.write=function(ge,Ee,fe,ie){if(Ee===void 0)ie="utf8",fe=this.length,Ee=0;else if(fe===void 0&&typeof Ee=="string")ie=Ee,fe=this.length,Ee=0;else{if(!isFinite(Ee))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Ee|=0,isFinite(fe)?(fe|=0,ie===void 0&&(ie="utf8")):(ie=fe,fe=void 0)}var ue=this.length-Ee;if((fe===void 0||ue<fe)&&(fe=ue),0<ge.length&&(fe<0||Ee<0)||Ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie=ie||"utf8";for(var de,le,Ve,nt,ct=!1;;)switch(ie){case"hex":var Re=ge,lt=Ee,St=fe,Yt=(lt=Number(lt)||0,this.length-lt);if((!St||(St=Number(St))>Yt)&&(St=Yt),(Yt=Re.length)%2!=0)throw new TypeError("Invalid hex string");Yt/2<St&&(St=Yt/2);for(var xe=0;xe<St;++xe){var st=parseInt(Re.substr(2*xe,2),16);if(isNaN(st))return xe;this[lt+xe]=st}return xe;case"utf8":case"utf-8":return Yt=Ee,nt=fe,Ot(ft(ge,(Ve=this).length-Yt),Ve,Yt,nt);case"ascii":case"latin1":case"binary":return H(this,ge,Ee,fe);case"base64":return Ve=this,nt=Ee,le=fe,Ot(yt(ge),Ve,nt,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le=Ee,de=fe,Ot(function(At,Et){for(var Dt,Ft,zt=[],Ut=0;Ut<At.length&&!((Et-=2)<0);++Ut)Ft=(Dt=At.charCodeAt(Ut))>>8,zt.push(Dt%256),zt.push(Ft);return zt}(ge,this.length-le),this,le,de);default:if(ct)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),ct=!0}},L.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},L.prototype.slice=function(ge,Ee){var fe=this.length;if((ge=~~ge)<0?(ge+=fe)<0&&(ge=0):fe<ge&&(ge=fe),(Ee=Ee===void 0?fe:~~Ee)<0?(Ee+=fe)<0&&(Ee=0):fe<Ee&&(Ee=fe),Ee<ge&&(Ee=ge),L.TYPED_ARRAY_SUPPORT)(ue=this.subarray(ge,Ee)).__proto__=L.prototype;else for(var ie=Ee-ge,ue=new L(ie,void 0),de=0;de<ie;++de)ue[de]=this[de+ge];return ue},L.prototype.readUIntLE=function(ge,Ee,fe){ge|=0,Ee|=0,fe||ae(ge,Ee,this.length);for(var ie=this[ge],ue=1,de=0;++de<Ee&&(ue*=256);)ie+=this[ge+de]*ue;return ie},L.prototype.readUIntBE=function(ge,Ee,fe){ge|=0,Ee|=0,fe||ae(ge,Ee,this.length);for(var ie=this[ge+--Ee],ue=1;0<Ee&&(ue*=256);)ie+=this[ge+--Ee]*ue;return ie},L.prototype.readUInt8=function(ge,Ee){return Ee||ae(ge,1,this.length),this[ge]},L.prototype.readUInt16LE=function(ge,Ee){return Ee||ae(ge,2,this.length),this[ge]|this[ge+1]<<8},L.prototype.readUInt16BE=function(ge,Ee){return Ee||ae(ge,2,this.length),this[ge]<<8|this[ge+1]},L.prototype.readUInt32LE=function(ge,Ee){return Ee||ae(ge,4,this.length),(this[ge]|this[ge+1]<<8|this[ge+2]<<16)+16777216*this[ge+3]},L.prototype.readUInt32BE=function(ge,Ee){return Ee||ae(ge,4,this.length),16777216*this[ge]+(this[ge+1]<<16|this[ge+2]<<8|this[ge+3])},L.prototype.readIntLE=function(ge,Ee,fe){ge|=0,Ee|=0,fe||ae(ge,Ee,this.length);for(var ie=this[ge],ue=1,de=0;++de<Ee&&(ue*=256);)ie+=this[ge+de]*ue;return ie>=(ue*=128)&&(ie-=Math.pow(2,8*Ee)),ie},L.prototype.readIntBE=function(ge,Ee,fe){ge|=0,Ee|=0,fe||ae(ge,Ee,this.length);for(var ie=Ee,ue=1,de=this[ge+--ie];0<ie&&(ue*=256);)de+=this[ge+--ie]*ue;return de>=(ue*=128)&&(de-=Math.pow(2,8*Ee)),de},L.prototype.readInt8=function(ge,Ee){return Ee||ae(ge,1,this.length),128&this[ge]?-1*(255-this[ge]+1):this[ge]},L.prototype.readInt16LE=function(ge,Ee){return Ee||ae(ge,2,this.length),32768&(Ee=this[ge]|this[ge+1]<<8)?4294901760|Ee:Ee},L.prototype.readInt16BE=function(ge,Ee){return Ee||ae(ge,2,this.length),32768&(Ee=this[ge+1]|this[ge]<<8)?4294901760|Ee:Ee},L.prototype.readInt32LE=function(ge,Ee){return Ee||ae(ge,4,this.length),this[ge]|this[ge+1]<<8|this[ge+2]<<16|this[ge+3]<<24},L.prototype.readInt32BE=function(ge,Ee){return Ee||ae(ge,4,this.length),this[ge]<<24|this[ge+1]<<16|this[ge+2]<<8|this[ge+3]},L.prototype.readFloatLE=function(ge,Ee){return Ee||ae(ge,4,this.length),F.read(this,ge,!0,23,4)},L.prototype.readFloatBE=function(ge,Ee){return Ee||ae(ge,4,this.length),F.read(this,ge,!1,23,4)},L.prototype.readDoubleLE=function(ge,Ee){return Ee||ae(ge,8,this.length),F.read(this,ge,!0,52,8)},L.prototype.readDoubleBE=function(ge,Ee){return Ee||ae(ge,8,this.length),F.read(this,ge,!1,52,8)},L.prototype.writeUIntLE=function(ge,Ee,fe,ie){ge=+ge,Ee|=0,fe|=0,ie||ce(this,ge,Ee,fe,Math.pow(2,8*fe)-1,0);var ue=1,de=0;for(this[Ee]=255&ge;++de<fe&&(ue*=256);)this[Ee+de]=ge/ue&255;return Ee+fe},L.prototype.writeUIntBE=function(ge,Ee,fe,ie){ge=+ge,Ee|=0,fe|=0,ie||ce(this,ge,Ee,fe,Math.pow(2,8*fe)-1,0);var ue=fe-1,de=1;for(this[Ee+ue]=255&ge;0<=--ue&&(de*=256);)this[Ee+ue]=ge/de&255;return Ee+fe},L.prototype.writeUInt8=function(ge,Ee,fe){return ge=+ge,Ee|=0,fe||ce(this,ge,Ee,1,255,0),L.TYPED_ARRAY_SUPPORT||(ge=Math.floor(ge)),this[Ee]=255&ge,Ee+1},L.prototype.writeUInt16LE=function(ge,Ee,fe){return ge=+ge,Ee|=0,fe||ce(this,ge,Ee,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[Ee]=255&ge,this[Ee+1]=ge>>>8):ne(this,ge,Ee,!0),Ee+2},L.prototype.writeUInt16BE=function(ge,Ee,fe){return ge=+ge,Ee|=0,fe||ce(this,ge,Ee,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[Ee]=ge>>>8,this[Ee+1]=255&ge):ne(this,ge,Ee,!1),Ee+2},L.prototype.writeUInt32LE=function(ge,Ee,fe){return ge=+ge,Ee|=0,fe||ce(this,ge,Ee,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[Ee+3]=ge>>>24,this[Ee+2]=ge>>>16,this[Ee+1]=ge>>>8,this[Ee]=255&ge):Qe(this,ge,Ee,!0),Ee+4},L.prototype.writeUInt32BE=function(ge,Ee,fe){return ge=+ge,Ee|=0,fe||ce(this,ge,Ee,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[Ee]=ge>>>24,this[Ee+1]=ge>>>16,this[Ee+2]=ge>>>8,this[Ee+3]=255&ge):Qe(this,ge,Ee,!1),Ee+4},L.prototype.writeIntLE=function(ge,Ee,fe,ie){ge=+ge,Ee|=0,ie||ce(this,ge,Ee,fe,(ie=Math.pow(2,8*fe-1))-1,-ie);var ue=0,de=1,le=0;for(this[Ee]=255&ge;++ue<fe&&(de*=256);)ge<0&&le===0&&this[Ee+ue-1]!==0&&(le=1),this[Ee+ue]=(ge/de>>0)-le&255;return Ee+fe},L.prototype.writeIntBE=function(ge,Ee,fe,ie){ge=+ge,Ee|=0,ie||ce(this,ge,Ee,fe,(ie=Math.pow(2,8*fe-1))-1,-ie);var ue=fe-1,de=1,le=0;for(this[Ee+ue]=255&ge;0<=--ue&&(de*=256);)ge<0&&le===0&&this[Ee+ue+1]!==0&&(le=1),this[Ee+ue]=(ge/de>>0)-le&255;return Ee+fe},L.prototype.writeInt8=function(ge,Ee,fe){return ge=+ge,Ee|=0,fe||ce(this,ge,Ee,1,127,-128),L.TYPED_ARRAY_SUPPORT||(ge=Math.floor(ge)),this[Ee]=255&(ge=ge<0?255+ge+1:ge),Ee+1},L.prototype.writeInt16LE=function(ge,Ee,fe){return ge=+ge,Ee|=0,fe||ce(this,ge,Ee,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[Ee]=255&ge,this[Ee+1]=ge>>>8):ne(this,ge,Ee,!0),Ee+2},L.prototype.writeInt16BE=function(ge,Ee,fe){return ge=+ge,Ee|=0,fe||ce(this,ge,Ee,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[Ee]=ge>>>8,this[Ee+1]=255&ge):ne(this,ge,Ee,!1),Ee+2},L.prototype.writeInt32LE=function(ge,Ee,fe){return ge=+ge,Ee|=0,fe||ce(this,ge,Ee,4,2147483647,-2147483648),L.TYPED_ARRAY_SUPPORT?(this[Ee]=255&ge,this[Ee+1]=ge>>>8,this[Ee+2]=ge>>>16,this[Ee+3]=ge>>>24):Qe(this,ge,Ee,!0),Ee+4},L.prototype.writeInt32BE=function(ge,Ee,fe){return ge=+ge,Ee|=0,fe||ce(this,ge,Ee,4,2147483647,-2147483648),ge<0&&(ge=4294967295+ge+1),L.TYPED_ARRAY_SUPPORT?(this[Ee]=ge>>>24,this[Ee+1]=ge>>>16,this[Ee+2]=ge>>>8,this[Ee+3]=255&ge):Qe(this,ge,Ee,!1),Ee+4},L.prototype.writeFloatLE=function(ge,Ee,fe){return Fe(this,ge,Ee,!0,fe)},L.prototype.writeFloatBE=function(ge,Ee,fe){return Fe(this,ge,Ee,!1,fe)},L.prototype.writeDoubleLE=function(ge,Ee,fe){return pe(this,ge,Ee,!0,fe)},L.prototype.writeDoubleBE=function(ge,Ee,fe){return pe(this,ge,Ee,!1,fe)},L.prototype.copy=function(ge,Ee,fe,ie){if(fe=fe||0,ie||ie===0||(ie=this.length),Ee>=ge.length&&(Ee=ge.length),(ie=0<ie&&ie<fe?fe:ie)===fe||ge.length===0||this.length===0)return 0;if((Ee=Ee||0)<0)throw new RangeError("targetStart out of bounds");if(fe<0||fe>=this.length)throw new RangeError("sourceStart out of bounds");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length);var ue,de=(ie=ge.length-Ee<ie-fe?ge.length-Ee+fe:ie)-fe;if(this===ge&&fe<Ee&&Ee<ie)for(ue=de-1;0<=ue;--ue)ge[ue+Ee]=this[ue+fe];else if(de<1e3||!L.TYPED_ARRAY_SUPPORT)for(ue=0;ue<de;++ue)ge[ue+Ee]=this[ue+fe];else Uint8Array.prototype.set.call(ge,this.subarray(fe,fe+de),Ee);return de},L.prototype.fill=function(ge,Ee,fe,ie){if(typeof ge=="string"){var ue;if(typeof Ee=="string"?(ie=Ee,Ee=0,fe=this.length):typeof fe=="string"&&(ie=fe,fe=this.length),ge.length===1&&(ue=ge.charCodeAt(0))<256&&(ge=ue),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!L.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie)}else typeof ge=="number"&&(ge&=255);if(Ee<0||this.length<Ee||this.length<fe)throw new RangeError("Out of range index");if(!(fe<=Ee))if(Ee>>>=0,fe=fe===void 0?this.length:fe>>>0,typeof(ge=ge||0)=="number")for(Ve=Ee;Ve<fe;++Ve)this[Ve]=ge;else for(var de=L.isBuffer(ge)?ge:ft(new L(ge,ie).toString()),le=de.length,Ve=0;Ve<fe-Ee;++Ve)this[Ve+Ee]=de[Ve%le];return this};var ot=/[^+\/0-9A-Za-z-_]/g;function ft(ge,Ee){var fe;Ee=Ee||1/0;for(var ie=ge.length,ue=null,de=[],le=0;le<ie;++le){if(55295<(fe=ge.charCodeAt(le))&&fe<57344){if(!ue){if(56319<fe){-1<(Ee-=3)&&de.push(239,191,189);continue}if(le+1===ie){-1<(Ee-=3)&&de.push(239,191,189);continue}ue=fe;continue}if(fe<56320){-1<(Ee-=3)&&de.push(239,191,189),ue=fe;continue}fe=65536+(ue-55296<<10|fe-56320)}else ue&&-1<(Ee-=3)&&de.push(239,191,189);if(ue=null,fe<128){if(--Ee<0)break;de.push(fe)}else if(fe<2048){if((Ee-=2)<0)break;de.push(fe>>6|192,63&fe|128)}else if(fe<65536){if((Ee-=3)<0)break;de.push(fe>>12|224,fe>>6&63|128,63&fe|128)}else{if(!(fe<1114112))throw new Error("Invalid code point");if((Ee-=4)<0)break;de.push(fe>>18|240,fe>>12&63|128,fe>>6&63|128,63&fe|128)}}return de}function yt(ge){return te.toByteArray(function(Ee){if((Ee=((fe=Ee).trim?fe.trim():fe.replace(/^\s+|\s+$/g,"")).replace(ot,"")).length<2)return"";for(var fe;Ee.length%4!=0;)Ee+="=";return Ee}(ge))}function Ot(ge,Ee,fe,ie){for(var ue=0;ue<ie&&!(ue+fe>=Ee.length||ue>=ge.length);++ue)Ee[ue+fe]=ge[ue];return ue}}).call(this,U(0))},function(y,N,U){N.byteLength=function(L){return 3*((L=$(L))[0]+(L=L[1]))/4-L},N.toByteArray=function(L){for(var O,T=(w=$(L))[0],w=w[1],k=new F(3*(T+w)/4-w),Y=0,Z=0<w?T-4:T,W=0;W<Z;W+=4)O=te[L.charCodeAt(W)]<<18|te[L.charCodeAt(W+1)]<<12|te[L.charCodeAt(W+2)]<<6|te[L.charCodeAt(W+3)],k[Y++]=O>>16&255,k[Y++]=O>>8&255,k[Y++]=255&O;return w===2&&(O=te[L.charCodeAt(W)]<<2|te[L.charCodeAt(W+1)]>>4,k[Y++]=255&O),w===1&&(O=te[L.charCodeAt(W)]<<10|te[L.charCodeAt(W+1)]<<4|te[L.charCodeAt(W+2)]>>2,k[Y++]=O>>8&255,k[Y++]=255&O),k},N.fromByteArray=function(L){for(var O,T=L.length,w=T%3,k=[],Y=0,Z=T-w;Y<Z;Y+=16383)k.push(function(W,K,x){for(var X,H=[],j=K;j<x;j+=3)X=(W[j]<<16&16711680)+(W[j+1]<<8&65280)+(255&W[j+2]),H.push(q[X>>18&63]+q[X>>12&63]+q[X>>6&63]+q[63&X]);return H.join("")}(L,Y,Z<Y+16383?Z:Y+16383));return w==1?(O=L[T-1],k.push(q[O>>2]+q[O<<4&63]+"==")):w==2&&(O=(L[T-2]<<8)+L[T-1],k.push(q[O>>10]+q[O>>4&63]+q[O<<2&63]+"=")),k.join("")};for(var q=[],te=[],F=typeof Uint8Array<"u"?Uint8Array:Array,V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z=0;z<64;++z)q[z]=V[z],te[V.charCodeAt(z)]=z;function $(L){var O=L.length;if(0<O%4)throw new Error("Invalid string. Length must be a multiple of 4");return[L=(L=L.indexOf("="))===-1?O:L,L===O?0:4-L%4]}te["-".charCodeAt(0)]=62,te["_".charCodeAt(0)]=63},function(y,N){N.read=function(U,q,te,F,V){var z,$,L=8*V-F-1,O=(1<<L)-1,T=O>>1,w=-7,k=te?V-1:0,Y=te?-1:1;for(V=U[q+k],k+=Y,z=V&(1<<-w)-1,V>>=-w,w+=L;0<w;z=256*z+U[q+k],k+=Y,w-=8);for($=z&(1<<-w)-1,z>>=-w,w+=F;0<w;$=256*$+U[q+k],k+=Y,w-=8);if(z===0)z=1-T;else{if(z===O)return $?NaN:1/0*(V?-1:1);$+=Math.pow(2,F),z-=T}return(V?-1:1)*$*Math.pow(2,z-F)},N.write=function(U,q,te,F,V,z){var $,L,O=8*z-V-1,T=(1<<O)-1,w=T>>1,k=V===23?Math.pow(2,-24)-Math.pow(2,-77):0,Y=F?0:z-1,Z=F?1:-1;for(z=q<0||q===0&&1/q<0?1:0,q=Math.abs(q),isNaN(q)||q===1/0?(L=isNaN(q)?1:0,$=T):($=Math.floor(Math.log(q)/Math.LN2),q*(F=Math.pow(2,-$))<1&&($--,F*=2),2<=(q+=1<=$+w?k/F:k*Math.pow(2,1-w))*F&&($++,F/=2),T<=$+w?(L=0,$=T):1<=$+w?(L=(q*F-1)*Math.pow(2,V),$+=w):(L=q*Math.pow(2,w-1)*Math.pow(2,V),$=0));8<=V;U[te+Y]=255&L,Y+=Z,L/=256,V-=8);for($=$<<V|L,O+=V;0<O;U[te+Y]=255&$,Y+=Z,$/=256,O-=8);U[te+Y-Z]|=128*z}},function(y,N){var U={}.toString;y.exports=Array.isArray||function(q){return U.call(q)=="[object Array]"}},function(y,N,U){(function(q){var te=q!==void 0&&q||typeof self<"u"&&self||window,F=Function.prototype.apply;function V(z,$){this._id=z,this._clearFn=$}N.setTimeout=function(){return new V(F.call(setTimeout,te,arguments),clearTimeout)},N.setInterval=function(){return new V(F.call(setInterval,te,arguments),clearInterval)},N.clearTimeout=N.clearInterval=function(z){z&&z.close()},V.prototype.unref=V.prototype.ref=function(){},V.prototype.close=function(){this._clearFn.call(te,this._id)},N.enroll=function(z,$){clearTimeout(z._idleTimeoutId),z._idleTimeout=$},N.unenroll=function(z){clearTimeout(z._idleTimeoutId),z._idleTimeout=-1},N._unrefActive=N.active=function(z){clearTimeout(z._idleTimeoutId);var $=z._idleTimeout;0<=$&&(z._idleTimeoutId=setTimeout(function(){z._onTimeout&&z._onTimeout()},$))},U(9),N.setImmediate=typeof self<"u"&&self.setImmediate||q!==void 0&&q.setImmediate||this&&this.setImmediate,N.clearImmediate=typeof self<"u"&&self.clearImmediate||q!==void 0&&q.clearImmediate||this&&this.clearImmediate}).call(this,U(0))},function(y,N,U){(function(q,te){(function(F){var V,z,$,L,O,T,w,k,Y,Z;function W(x){delete T[x]}function K(x){if(w)setTimeout(K,0,x);else{var X=T[x];if(X){w=!0;try{var H=X.callback,j=X.args;switch(j.length){case 0:H();break;case 1:H(j[0]);break;case 2:H(j[0],j[1]);break;case 3:H(j[0],j[1],j[2]);break;default:H.apply(void 0,j)}}finally{W(x),w=!1}}}}F.setImmediate||(O=1,w=!(T={}),k=F.document,Y=(Y=Object.getPrototypeOf&&Object.getPrototypeOf(F))&&Y.setTimeout?Y:F,Z={}.toString.call(F.process)==="[object process]"?function(x){te.nextTick(function(){K(x)})}:function(){var x,X;if(F.postMessage&&!F.importScripts)return x=!0,X=F.onmessage,F.onmessage=function(){x=!1},F.postMessage("","*"),F.onmessage=X,x}()?($="setImmediate$"+Math.random()+"$",L=function(x){x.source===F&&typeof x.data=="string"&&x.data.indexOf($)===0&&K(+x.data.slice($.length))},F.addEventListener?F.addEventListener("message",L,!1):F.attachEvent("onmessage",L),function(x){F.postMessage($+x,"*")}):F.MessageChannel?((z=new MessageChannel).port1.onmessage=function(x){K(x.data)},function(x){z.port2.postMessage(x)}):k&&"onreadystatechange"in k.createElement("script")?(V=k.documentElement,function(x){var X=k.createElement("script");X.onreadystatechange=function(){K(x),X.onreadystatechange=null,V.removeChild(X),X=null},V.appendChild(X)}):function(x){setTimeout(K,0,x)},Y.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var X=new Array(arguments.length-1),H=0;H<X.length;H++)X[H]=arguments[H+1];return T[O]={callback:x,args:X},Z(O),O++},Y.clearImmediate=W)})(typeof self>"u"?q===void 0?this:q:self)}).call(this,U(0),U(1))},function(y,N,U){U.r(N),U.d(N,"ZegoLogger",function(){return Or}),U.d(N,"ZegoDataReport",function(){return k}),U.d(N,"createZegoWebSocket",function(){return T}),U.d(N,"LoggerStateCenter",function(){return V}),z.getInstance=function(){return z.instance||(z.instance=new z).init(),z.instance},z.prototype.init=function(){},Object.defineProperty(z.prototype,"testEnvironment",{get:function(){return this._testEnvironment},set:function(ke){this._testEnvironment=ke},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"ENV",{get:function(){return this._ENV},set:function(ke){this._ENV=ke},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"debug",{get:function(){return this._debug},set:function(ke){this._debug=ke},enumerable:!1,configurable:!0}),z.instance=new z;var q,te,F,V=z;function z(){this._testEnvironment=!0,this._ENV=0,this._debug=!0}(N=q=q||{})[N.BROWSER=0]="BROWSER",N[N.WEIXINMINI=1]="WEIXINMINI",(te=te||{})[te.DEFAULT=0]="DEFAULT",(N=F=F||{})[N.DISABLE=0]="DISABLE",N[N.WEBSOCKET=1]="WEBSOCKET",N[N.HTTPS=2]="HTTPS";var $={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},L=(O.prototype.init=function(){var ke=this;this._websocket&&(this.readyState=0,this._websocket.onOpen(function(Ge){ke.readyState=ke._websocket.readyState,typeof ke.onopen=="function"&&(ke.onopen(Ge),ke._websocket.onClose(function(Ke){ke.readyState=ke._websocket.readyState,typeof ke.onclose=="function"&&ke.onclose(Ke)}),ke._websocket.onMessage(function(Ke){typeof ke.onmessage=="function"&&ke.onmessage(Ke)}))}),this._websocket.onError(function(Ge){ke.readyState=ke._websocket.readyState,typeof ke.onerror=="function"&&ke.onerror(Ge)}))},O.prototype.onopen=function(ke){},O.prototype.onerror=function(ke){},O.prototype.onclose=function(ke){},O.prototype.onmessage=function(ke){},O.prototype.send=function(ke){this._websocket&&this._websocket.send({data:ke})},O.prototype.close=function(){this._websocket&&this._websocket.close()},O);function O(ke,Ge){this.url=ke,this.readyState=3,this.init()}function T(ke,Ge){return new(Ge%2===q.BROWSER?WebSocket:L)(ke)}var w=function(){return(w=Object.assign||function(ke){for(var Ge,Ke=1,We=arguments.length;Ke<We;Ke++)for(var Ae in Ge=arguments[Ke])Object.prototype.hasOwnProperty.call(Ge,Ae)&&(ke[Ae]=Ge[Ae]);return ke}).apply(this,arguments)},k=(Y.prototype.newReport=function(ke,Ge){this.dataStatistics[ke]={event_time:Date.now(),time_consumed:0,seq:ke,error:0,message:"success",event:Ge,events:[]}},Y.prototype.addMsgExt=function(ke,Ge){this.dataStatistics[ke]?this.dataStatistics[ke].msg_ext=Ge:console.warn("".concat(ke," not exist"))},Y.prototype.addMsgInfo=function(ke,Ge){this.dataStatistics[ke]?Object.assign(this.dataStatistics[ke],Ge):console.warn("".concat(ke," not exist"))},Y.prototype.eventStart=function(ke,Ge){this.dataStatistics[ke]?this.dataStatistics[ke].events!=null?this.dataStatistics[ke].events.push({event:Ge,event_time:Date.now(),time_consumed:0}):this.logger.warn("zd.es.0 no events"):this.logger.warn("zd.es.0 no seq match")},Y.prototype.eventEnd=function(ke,Ge,Ke){if(this.dataStatistics[ke]){var We=this.dataStatistics[ke].events;if(We&&We.length!==0){for(var Ae=We.length-1;0<=Ae;Ae--)if(We[Ae].event==Ge&&We[Ae].time_consumed==0){We[Ae].time_consumed=Date.now()-We[Ae].event_time;break}}else this.logger.info("zd.ee.0 no events")}else this.logger.info("zd.ee.0 no seq match")},Y.prototype.eventEndWithMsg=function(ke,Ge,Ke){if(this.dataStatistics[ke]){var We=this.dataStatistics[ke].events;if(We){for(var Ae=We.length-1;0<=Ae;Ae--)if(We[Ae].event==Ge&&We[Ae].time_consumed==0){We[Ae].time_consumed=Date.now()-We[Ae].event_time,We[Ae].msg_ext==null&&(We[Ae].msg_ext={}),We[Ae].msg_ext=w({},Ke);break}}else this.logger.warn("zd.ee.0 no events")}else this.logger.warn("zd.ee.0 no seq match")},Y.prototype.eventEndWithMsgInfo=function(ke,Ge,Ke){if(this.dataStatistics[ke]){var We=this.dataStatistics[ke].events;if(We){for(var Ae=We.length-1;0<=Ae;Ae--)if(We[Ae].event==Ge&&We[Ae].time_consumed==0){We[Ae].time_consumed=Date.now()-We[Ae].event_time,Object.assign(We[Ae],Ke);break}}else this.logger.warn("zd.ee.0 no events")}else this.logger.warn("zd.ee.0 no seq match")},Y.prototype.addEventInfo=function(ke,Ge,Ke,We){if(this.dataStatistics[ke]){var Ae=this.dataStatistics[ke].events;if(Ae!=null){for(var be=Ae.length-1;0<=be;be--)if(Ae[be].event==Ge&&Ae[be].time_consumed!=null){Ae[be].msg_ext==null?Ae[be].msg_ext={}:Ae[be].msg_ext&&(Ae[be].msg_ext[Ke]=We);break}}else this.logger.warn("zd.aei.0 no events")}else this.logger.warn("zd.aei.0 no seq match")},Y.prototype.addEventMsg=function(ke,Ge,Ke,We){if(this.dataStatistics[ke]){var Ae=this.dataStatistics[ke].events;if(Ae!=null){for(var be=Ae.length-1;0<=be;be--)if(Ae[be].event==Ge){Ae[be][Ke]=We;break}}else this.logger.warn("zd.aem.0 no events")}else this.logger.warn("zd.aem.0 no seq match")},Y.prototype.addEvent=function(ke,Ge,Ke){this.dataStatistics[ke]?this.dataStatistics[ke].events&&(Ke?this.dataStatistics[ke].events.push({event:Ge,event_time:Date.now(),msg_ext:Ke}):this.dataStatistics[ke].events.push({event:Ge,event_time:Date.now()})):this.logger.warn("zd.ae.0 no seq match")},Y.prototype.uploadReport=function(ke,Ge,Ke,We){var Ae=this.dataStatistics[ke];Ae!=null&&(Ge&&(Ae.event=Ge),Ae.time_consumed=Date.now()-Ae.event_time,Ke&&this.addMsgInfo(ke,{error:Ke.code,message:Ke.message||Ke.msg+" "+(We||"")}),this.logger.report(Ae),delete this.dataStatistics[ke])},Y);function Y(ke){this.dataStatistics={},this.logger=ke}var Z,W=["00","01","02","03","04","05","06","07","08","09"];function K(){var ke=new Date;return[ke.getFullYear()+"/",(W[ke.getMonth()+1]||ke.getMonth()+1)+"/",(W[ke.getDate()]||ke.getDate())+" ",(W[ke.getHours()]||ke.getHours())+":",(W[ke.getMinutes()]||ke.getMinutes())+":",W[ke.getSeconds()]||ke.getSeconds(),"."+ke.getTime()%1e3].join("")}function x(ke){this.cache=ke}(N=Z=Z||{}).WEBSOCKET_STATE_CHANGE="zl.net.wsc",N.OPEN_WS="zl.net.opws",Object.defineProperty(Qr.prototype,"url",{get:function(){return this.configState.url},set:function(ke){this.configState.url=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Qr.prototype,"strategy",{get:function(){return this.senderBuilder.strategy},enumerable:!1,configurable:!0}),Qr.prototype.setStrategy=function(ke){this.senderBuilder.setStrategy(ke),this.sender=this.senderBuilder.build()},Qr.prototype.addRemoteWsLog=function(ke){if(this.configState.env!=q.BROWSER)throw new Error("cannot use net strategy on  mini program");var Ge;this.closed()&&(Ge=this.url,this.url="",this.openWebSocketLogServer(Ge)),this.cache.push(ke),this.connected()&&this.sender&&this.sender.active()},Qr.prototype.stopWebSocketServer=function(){this.websocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null)},Qr.prototype.updateSender=function(){this.websocket instanceof WebSocket&&this.configState.useStrategy&&(this.senderBuilder.setWs(this.websocket),this.senderBuilder.setCache(this.cache),this.sender=this.senderBuilder.build())},Qr.prototype.updateWebSocketState=function(ke){for(var Ge=[],Ke=1;Ke<arguments.length;Ke++)Ge[Ke-1]=arguments[Ke];var We=this.websocketState,Ae="";switch(ke){case"onconnecting":this.websocketState==="never_opened"?this.websocketState="first_connecting":this.websocketState="reconnecting";break;case"onopen":this.websocketState="connected";break;case"onclosed":this.websocketState="closed";var be=Ge[0];be&&(Ae+=" close code=".concat(be.code));break;case"onerror":this.websocketState="error"}ke=Z.WEBSOCKET_STATE_CHANGE+" log ws state change: ".concat(We," -> ").concat(this.websocketState),Ae&&(ke+=Ae),this.innerLogger.info(ke)},Qr.prototype.openWebSocketLogServer=function(ke){var Ge=this;this.url!=ke&&((this.url&&this.url!==""||this.websocketState==="never_opened")&&this.innerLogger.info(Z.OPEN_WS+" log url change to: ".concat(ke)),this.url=ke)&&(this.stopWebSocketServer(),this.websocket=T(ke,this.configState.env),this.updateSender(),this.updateWebSocketState("onconnecting"),this.websocket.onopen=function(){var Ke;Ge.configState.useStrategy&&(Ke=Ge.sender)!=null&&Ke.active(),Ge.updateWebSocketState("onopen")},this.websocket.onclose=function(){for(var Ke=[],We=0;We<arguments.length;We++)Ke[We]=arguments[We];console.warn("onclose   websocket error:",Ke),Ge.updateWebSocketState.apply(Ge,function(Ae,be,tt){if(tt||arguments.length===2)for(var dt,It=0,rt=be.length;It<rt;It++)!dt&&It in be||((dt=dt||Array.prototype.slice.call(be,0,It))[It]=be[It]);return Ae.concat(dt||Array.prototype.slice.call(be))}(["onclosed"],Ke,!1))},this.websocket.onmessage=function(){},this.websocket.onerror=function(){for(var Ke=[],We=0;We<arguments.length;We++)Ke[We]=arguments[We];console.warn("open log websocket error:",Ke),Ge.updateWebSocketState("onerror")})},Qr.prototype.closed=function(){return this.websocket==null||this.websocket.readyState==2||this.websocket.readyState==3},Qr.prototype.connected=function(){return this.websocket!==null&&this.websocket.readyState==1},Qr.prototype.connecting=function(){return this.websocket!==null&&this.websocket.readyState==0},Qr.prototype.wsSend=function(ke){this.websocket&&this.websocket.send(ke)},Qr.prototype.destroy=function(){this.websocket=null};var X,H=Qr,j=(gr.prototype.active=function(){var ke=this;this.ws&&this.ws.readyState===1&&this.cache.size()!==0&&this.strategy.canSendLog()&&(this.strategy.getLog().forEach(function(Ge){ke.ws.send(Ge)}),this.strategy.onSendLog())},gr),ae=(X=function(ke,Ge){return(X=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(Ke,We){Ke.__proto__=We}:function(Ke,We){for(var Ae in We)Object.prototype.hasOwnProperty.call(We,Ae)&&(Ke[Ae]=We[Ae])}))(ke,Ge)},function(ke){function Ge(be){return ke.call(this,be)||this}var Ke=Ge,We=ke;if(typeof We!="function"&&We!==null)throw new TypeError("Class extends value "+String(We)+" is not a constructor or null");function Ae(){this.constructor=Ke}return X(Ke,We),Ke.prototype=We===null?Object.create(We):(Ae.prototype=We.prototype,new Ae),Ge.prototype.getLog=function(){return this.cache.clear()},Ge.prototype.canSendLog=function(){return 0<this.cache.size()},Ge.prototype.onSendLog=function(){},Ge}(x));mr=function(ke,Ge){return(mr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(Ke,We){Ke.__proto__=We}:function(Ke,We){for(var Ae in We)Object.prototype.hasOwnProperty.call(We,Ae)&&(Ke[Ae]=We[Ae])}))(ke,Ge)},function(ke,Ge){if(typeof Ge!="function"&&Ge!==null)throw new TypeError("Class extends value "+String(Ge)+" is not a constructor or null");function Ke(){this.constructor=ke}mr(ke,Ge),ke.prototype=Ge===null?Object.create(Ge):(Ke.prototype=Ge.prototype,new Ke)}(_r,Vt=x),_r.prototype.canSendLog=function(){return!this.locked&&0<this.cache.size()},_r.prototype.getLog=function(){for(var ke=[],Ge=0;Ge<this.maxPacketLen-4e3;){var Ke=this.cache.getOneLogPacket();if(!Ke||Ke.length<=0)break;Ge+=Ke.length||0,ke.push(Ke)}return ke},_r.prototype.onSendLog=function(){var ke=this;this.locked=!0,setTimeout(function(){ke.locked=!1,ke.onCanSendActive&&ke.onCanSendActive()},this.maxDelay)},Ut=function(ke,Ge){return(Ut=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(Ke,We){Ke.__proto__=We}:function(Ke,We){for(var Ae in We)Object.prototype.hasOwnProperty.call(We,Ae)&&(Ke[Ae]=We[Ae])}))(ke,Ge)},function(ke,Ge){if(typeof Ge!="function"&&Ge!==null)throw new TypeError("Class extends value "+String(Ge)+" is not a constructor or null");function Ke(){this.constructor=ke}Ut(ke,Ge),ke.prototype=Ge===null?Object.create(Ge):(Ke.prototype=Ge.prototype,new Ke)}(ln,zt=N=_r);var ce=ln,ne=(Ft=function(ke,Ge){return(Ft=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(Ke,We){Ke.__proto__=We}:function(Ke,We){for(var Ae in We)Object.prototype.hasOwnProperty.call(We,Ae)&&(Ke[Ae]=We[Ae])}))(ke,Ge)},function(){return Dt!==null&&Dt.apply(this,arguments)||this});if(typeof(yt=Dt=N)!="function"&&yt!==null)throw new TypeError("Class extends value "+String(yt)+" is not a constructor or null");function Qe(){this.constructor=ne}Ft(ne,yt),ne.prototype=yt===null?Object.create(yt):(Qe.prototype=yt.prototype,new Qe),Et=function(ke,Ge){return(Et=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(Ke,We){Ke.__proto__=We}:function(Ke,We){for(var Ae in We)Object.prototype.hasOwnProperty.call(We,Ae)&&(Ke[Ae]=We[Ae])}))(ke,Ge)};var De=function(){return At!==null&&At.apply(this,arguments)||this};if(typeof(yt=At=N)!="function"&&yt!==null)throw new TypeError("Class extends value "+String(yt)+" is not a constructor or null");function Fe(){this.constructor=De}function pe(){this.url="",this.env=q.BROWSER,this.useStrategy=!0,this.token="",this.deviceid=ft.id()}Et(De,yt),De.prototype=yt===null?Object.create(yt):(Fe.prototype=yt.prototype,new Fe),st=function(ke,Ge){return(st=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(Ke,We){Ke.__proto__=We}:function(Ke,We){for(var Ae in We)Object.prototype.hasOwnProperty.call(We,Ae)&&(Ke[Ae]=We[Ae])}))(ke,Ge)},function(ke,Ge){if(typeof Ge!="function"&&Ge!==null)throw new TypeError("Class extends value "+String(Ge)+" is not a constructor or null");function Ke(){this.constructor=ke}st(ke,Ge),ke.prototype=Ge===null?Object.create(Ge):(Ke.prototype=Ge.prototype,new Ke)}(function(){return xe!==null&&xe.apply(this,arguments)||this},xe=N),Object.defineProperty(un.prototype,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),un.prototype.setWs=function(ke){this.ws=ke},un.prototype.setCache=function(ke){this.cache=ke},un.prototype.setStrategy=function(ke){ke&&(this._strategy=ke)},un.prototype.build=function(){if(this.ws&&this.cache)return this._strategy!==te.DEFAULT?new j(this.ws,this.cache,new ae(this.cache)):new j(this.ws,this.cache,new ce(this.cache));throw new Error("cannot build log sender")};var ot=un,ft=(fr.isEnvSupport=function(){return!(!window||!window.localStorage)},fr.bin2hex=function(ke){for(var Ge,Ke="",We=0,Ae=(ke+="").length;We<Ae;We++)Ke+=(Ge=ke.charCodeAt(We).toString(16)).length<2?"0"+Ge:Ge;return Ke},fr.getCanvasFingerprint=function(ke){var Ge=document.createElement("canvas"),Ke=((Ke=Ge.getContext("2d")).textBaseline="top",Ke.font="14px 'Arial'",Ke.fillStyle="#f60",Ke.fillRect(125,1,62,20),Ke.fillStyle="#069",Ke.fillText(ke,2,15),Ke.fillStyle="rgba(102, 204, 0, 0.7)",Ke.fillText(ke,4,17),Ge.toDataURL().replace("data:image/png;base64,",""));return ke=atob(Ke),this.bin2hex(ke.slice(-16,-12))},fr.generateUUID=function(){var ke,Ge,Ke;return(Ge=localStorage.getItem(this.storageKey))||(ke=new Date().getTime(),Ge="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(We){var Ae=(ke+16*Math.random())%16|0;return ke=Math.floor(ke/16),(We=="x"?Ae:3&Ae|8).toString(36)}),Ke=this.getCanvasFingerprint("hello, zego")+Ge.slice(8),localStorage.setItem(this.storageKey,Ke),Ge)},fr.id=function(){var ke;return fr.isEnvSupport()?((ke=localStorage.getItem(this.storageKey))||(ke=fr.generateUUID(),localStorage.setItem(this.storageKey,ke)),ke):""},fr.storageKey="z_deviceID",fr),yt=(Object.defineProperty(Rr.prototype,"buffer",{get:function(){return this.queue},set:function(ke){this.queue=ke},enumerable:!1,configurable:!0}),Rr.prototype.push=function(ke){if(!ke)throw new Error("item null!");ke&&this.queue.push(ke)},Rr.prototype.pop=function(){return this.queue.shift()},Rr.prototype.front=function(){return this.queue[0]},Rr);function Ot(ke,Ge,Ke,We){return new(Ke=Ke||Promise)(function(Ae,be){function tt(rt){try{It(We.next(rt))}catch(Ze){be(Ze)}}function dt(rt){try{It(We.throw(rt))}catch(Ze){be(Ze)}}function It(rt){var Ze;rt.done?Ae(rt.value):((Ze=rt.value)instanceof Ke?Ze:new Ke(function(Nt){Nt(Ze)})).then(tt,dt)}It((We=We.apply(ke,Ge||[])).next())})}function ge(ke,Ge){var Ke,We,Ae,be={label:0,sent:function(){if(1&Ae[0])throw Ae[1];return Ae[1]},trys:[],ops:[]},tt={next:dt(0),throw:dt(1),return:dt(2)};return typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function dt(It){return function(rt){var Ze=[It,rt];if(Ke)throw new TypeError("Generator is already executing.");for(;be=tt&&Ze[tt=0]?0:be;)try{if(Ke=1,We&&(Ae=2&Ze[0]?We.return:Ze[0]?We.throw||((Ae=We.return)&&Ae.call(We),0):We.next)&&!(Ae=Ae.call(We,Ze[1])).done)return Ae;switch(We=0,(Ze=Ae?[2&Ze[0],Ae.value]:Ze)[0]){case 0:case 1:Ae=Ze;break;case 4:return be.label++,{value:Ze[1],done:!1};case 5:be.label++,We=Ze[1],Ze=[0];continue;case 7:Ze=be.ops.pop(),be.trys.pop();continue;default:if(!((Ae=0<(Ae=be.trys).length&&Ae[Ae.length-1])||Ze[0]!==6&&Ze[0]!==2)){be=0;continue}if(Ze[0]===3&&(!Ae||Ze[1]>Ae[0]&&Ze[1]<Ae[3]))be.label=Ze[1];else if(Ze[0]===6&&be.label<Ae[1])be.label=Ae[1],Ae=Ze;else{if(!(Ae&&be.label<Ae[2])){Ae[2]&&be.ops.pop(),be.trys.pop();continue}be.label=Ae[2],be.ops.push(Ze)}}Ze=Ge.call(ke,be)}catch(Nt){Ze=[6,Nt],We=0}finally{Ke=Ae=0}if(5&Ze[0])throw Ze[1];return{value:Ze[0]?Ze[1]:void 0,done:!0}}}}Yt=function(ke,Ge){return(Yt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(Ke,We){Ke.__proto__=We}:function(Ke,We){for(var Ae in We)Object.prototype.hasOwnProperty.call(We,Ae)&&(Ke[Ae]=We[Ae])}))(ke,Ge)};var Ee=function(){return(Ee=Object.assign||function(ke){for(var Ge,Ke=1,We=arguments.length;Ke<We;Ke++)for(var Ae in Ge=arguments[Ke])Object.prototype.hasOwnProperty.call(Ge,Ae)&&(ke[Ae]=Ge[Ae]);return ke}).apply(this,arguments)},fe=(function(ke,Ge){if(typeof Ge!="function"&&Ge!==null)throw new TypeError("Class extends value "+String(Ge)+" is not a constructor or null");function Ke(){this.constructor=ke}Yt(ke,Ge),ke.prototype=Ge===null?Object.create(Ge):(Ke.prototype=Ge.prototype,new Ke)}(Nr,St=yt),Nr.prototype.size=function(){return this.queue.length},Nr.prototype.getOneLogPacket=function(){for(var ke="";0<this.queue.length;){if(4e3<(ke+this.queue[0]).length)return ke;var Ge=JSON.parse(this.queue[0]);Ge=Ee(Ee({},Ge),{userid:Ge.userid||this.configState.roomid,roomid:Ge.roomid||this.configState.roomid,userName:Ge.userName||this.configState.userName}),ke=ke+JSON.stringify(Ge)+`
`,this.queue.shift()}return ke===""?void 0:ke},Nr.prototype.clear=function(){for(var ke=[];0<this.queue.length;){var Ge=this.getOneLogPacket();if(!Ge)break;ke.push(Ge)}return ke},Nr),ie=($t.prototype.save=function(ke){return this.dbSaver.save(this.tableName,{log:ke})},$t.prototype.queryList=function(ke){return this.dbSaver.queryByCursor(this.tableName,ke)},$t.prototype.delete=function(ke){return this.dbSaver.deleteItems(this.tableName,ke)},$t.prototype.storedBytesSize=function(){var ke=this;return new Promise(function(Ge,Ke){return We=ke,be=function(){var tt,dt;return function(It,rt){var Ze,Nt,Lt,cr={label:0,sent:function(){if(1&Lt[0])throw Lt[1];return Lt[1]},trys:[],ops:[]},Me={next:me(0),throw:me(1),return:me(2)};return typeof Symbol=="function"&&(Me[Symbol.iterator]=function(){return this}),Me;function me(Be){return function(ve){var Ue=[Be,ve];if(Ze)throw new TypeError("Generator is already executing.");for(;cr=Me&&Ue[Me=0]?0:cr;)try{if(Ze=1,Nt&&(Lt=2&Ue[0]?Nt.return:Ue[0]?Nt.throw||((Lt=Nt.return)&&Lt.call(Nt),0):Nt.next)&&!(Lt=Lt.call(Nt,Ue[1])).done)return Lt;switch(Nt=0,(Ue=Lt?[2&Ue[0],Lt.value]:Ue)[0]){case 0:case 1:Lt=Ue;break;case 4:return cr.label++,{value:Ue[1],done:!1};case 5:cr.label++,Nt=Ue[1],Ue=[0];continue;case 7:Ue=cr.ops.pop(),cr.trys.pop();continue;default:if(!((Lt=0<(Lt=cr.trys).length&&Lt[Lt.length-1])||Ue[0]!==6&&Ue[0]!==2)){cr=0;continue}if(Ue[0]===3&&(!Lt||Ue[1]>Lt[0]&&Ue[1]<Lt[3]))cr.label=Ue[1];else if(Ue[0]===6&&cr.label<Lt[1])cr.label=Lt[1],Lt=Ue;else{if(!(Lt&&cr.label<Lt[2])){Lt[2]&&cr.ops.pop(),cr.trys.pop();continue}cr.label=Lt[2],cr.ops.push(Ue)}}Ue=rt.call(It,cr)}catch(Se){Ue=[6,Se],Nt=0}finally{Ze=Lt=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}}}(this,function(It){return tt=this.dbSaver.openCursor(this.tableName),dt=0,tt.onsuccess=function(rt){var Ze;(rt=(rt=rt.target)==null?void 0:rt.result)?(Ze=rt.value,dt+=Ze.log.length,rt.continue()):Ge(dt)},tt.onerror=function(rt){Ke(rt)},[2]})},new(Ae=(Ae=void 0)||Promise)(function(tt,dt){function It(Nt){try{Ze(be.next(Nt))}catch(Lt){dt(Lt)}}function rt(Nt){try{Ze(be.throw(Nt))}catch(Lt){dt(Lt)}}function Ze(Nt){var Lt;Nt.done?tt(Nt.value):((Lt=Nt.value)instanceof Ae?Lt:new Ae(function(cr){cr(Lt)})).then(It,rt)}Ze((be=be.apply(We,[])).next())});var We,Ae,be})},$t.prototype.lines=function(){return this.dbSaver.lines(this.tableName)},$t.prototype.deleteByCount=function(ke){return this.dbSaver.deleteByCount(this.tableName,ke)},$t.prototype.deleteAll=function(){return this.dbSaver.deleteAll(this.tableName)},$t),ue=(Kt.prototype.openDB=function(ke){return Ot(this,void 0,void 0,function(){var Ge,Ke,We=this;return ge(this,function(Ae){switch(Ae.label){case 0:return Ge=window.indexedDB.open(ke.database,ke.version),Ke=this,[4,new Promise(function(be){Ge.onupgradeneeded=function(tt){var dt=tt.target&&tt.target.result;ke.tableList.forEach(function(It){var rt;dt.objectStoreNames.contains(It.tableName)||(rt=dt.createObjectStore(It.tableName,{keyPath:"id",autoIncrement:!0}),It.tableItems.forEach(function(Ze){Ze.index&&rt.createIndex(Ze.itemName,Ze.itemName,{unique:Ze.unique})}))})},Ge.onsuccess=function(tt){tt=tt.target&&tt.target.result,We.db=tt,be(Ge)}})];case 1:return Ke.dbRequest=Ae.sent(),[2]}})})},Kt.prototype.checkConn=function(){if(!this.dbRequest&&!this.db)throw new Error("indexDB not open")},Kt.prototype.save=function(ke,Ge){var Ke=this;return new Promise(function(We,Ae){return Ot(Ke,void 0,void 0,function(){var be,tt;return ge(this,function(dt){return this.checkConn(),be=this.db.transaction([ke],"readwrite").objectStore(ke),(tt=be.add(Ge)).onsuccess=function(It){We(tt.result)},tt.onerror=function(It){Ae("save item fail")},[2]})})})},Kt.prototype.update=function(ke,Ge){var Ke=this;return new Promise(function(We,Ae){Ke.checkConn(),We()})},Kt.prototype.queryById=function(ke,Ge){var Ke=this;return new Promise(function(We,Ae){return Ot(Ke,void 0,void 0,function(){var be,tt;return ge(this,function(dt){return this.checkConn(),be=this.db.transaction([ke]).objectStore(ke),(tt=be.get(Ge)).onsuccess=function(It){tt.result?We(tt.result):We(null)},tt.onerror=function(It){Ae()},[2]})})})},Kt.prototype.queryByCursor=function(ke,Ge){var Ke=this;return new Promise(function(We,Ae){return Ot(Ke,void 0,void 0,function(){var be,tt;return ge(this,function(dt){return this.checkConn(),tt=this.db.transaction([ke]).objectStore(ke),be=[],(tt=tt.openCursor()).onsuccess=function(It){(It=(It=It.target)==null?void 0:It.result)&&(!Ge||be.length<Ge)?(be.push(It.value),It.continue()):We(be)},tt.onerror=function(It){Ae()},[2]})})})},Kt.prototype.lines=function(ke){var Ge=this;return new Promise(function(Ke,We){return Ot(Ge,void 0,void 0,function(){var Ae,be;return ge(this,function(tt){return this.checkConn(),Ae=(Ae=this.db.transaction([ke]).objectStore(ke)).openCursor(),be=0,Ae.onsuccess=function(dt){(dt=(dt=dt.target)==null?void 0:dt.result)?(be++,dt.continue()):Ke(be)},Ae.onerror=function(dt){We()},[2]})})})},Kt.prototype.openCursor=function(ke){return this.checkConn(),this.db.transaction([ke]).objectStore(ke).openCursor()},Kt.prototype.deleteById=function(ke,Ge){var Ke=this;return new Promise(function(We,Ae){return Ot(Ke,void 0,void 0,function(){var be;return ge(this,function(tt){return this.checkConn(),(be=(be=this.db.transaction([ke],"readwrite").objectStore(ke)).delete(Ge)).onsuccess=function(dt){We()},be.onerror=function(dt){Ae()},[2]})})})},Kt.prototype.deleteByCount=function(ke,Ge){var Ke=this;return new Promise(function(We,Ae){return Ot(Ke,void 0,void 0,function(){var be,tt;return ge(this,function(dt){switch(dt.label){case 0:this.checkConn(),be=8192,dt.label=1;case 1:return 0<Ge?[4,this.queryByCursor(ke,Math.min(Ge,be))]:[3,4];case 2:return(tt=dt.sent()).length===0?[3,4]:(Ge-=be,[4,this.deleteItems(ke,tt)]);case 3:return dt.sent(),[3,1];case 4:return We(),[2]}})})})},Kt.prototype.deleteAll=function(ke){var Ge=this;return new Promise(function(Ke,We){return Ot(Ge,void 0,void 0,function(){var Ae;return ge(this,function(be){return this.checkConn(),(Ae=(Ae=this.db.transaction([ke],"readwrite").objectStore(ke)).clear()).onsuccess=function(tt){Ke()},Ae.onerror=function(tt){We()},[2]})})})},Kt.prototype.deleteItems=function(ke,Ge){var Ke=this;return new Promise(function(We){return Ot(Ke,void 0,void 0,function(){var Ae;return ge(this,function(be){switch(be.label){case 0:return this.checkConn(),Ae=this.db.transaction([ke],"readwrite").objectStore(ke),[4,Promise.all(Ge.map(function(tt){return new Promise(function(dt,It){var rt=Ae.delete(tt.id);rt.onsuccess=function(Ze){dt()},rt.onerror=function(Ze){It()}})}))];case 1:return be.sent(),We(),[2]}})})})},Kt),de={version:1,database:"zego_logger_db",tableList:[{tableName:"zego_log",tableItems:[{itemName:"log",index:!1,unique:!1}]}]};function le(ke,Ge,Ke,We){return new(Ke=Ke||Promise)(function(Ae,be){function tt(rt){try{It(We.next(rt))}catch(Ze){be(Ze)}}function dt(rt){try{It(We.throw(rt))}catch(Ze){be(Ze)}}function It(rt){var Ze;rt.done?Ae(rt.value):((Ze=rt.value)instanceof Ke?Ze:new Ke(function(Nt){Nt(Ze)})).then(tt,dt)}It((We=We.apply(ke,Ge||[])).next())})}function Ve(ke,Ge){var Ke,We,Ae,be={label:0,sent:function(){if(1&Ae[0])throw Ae[1];return Ae[1]},trys:[],ops:[]},tt={next:dt(0),throw:dt(1),return:dt(2)};return typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function dt(It){return function(rt){var Ze=[It,rt];if(Ke)throw new TypeError("Generator is already executing.");for(;be=tt&&Ze[tt=0]?0:be;)try{if(Ke=1,We&&(Ae=2&Ze[0]?We.return:Ze[0]?We.throw||((Ae=We.return)&&Ae.call(We),0):We.next)&&!(Ae=Ae.call(We,Ze[1])).done)return Ae;switch(We=0,(Ze=Ae?[2&Ze[0],Ae.value]:Ze)[0]){case 0:case 1:Ae=Ze;break;case 4:return be.label++,{value:Ze[1],done:!1};case 5:be.label++,We=Ze[1],Ze=[0];continue;case 7:Ze=be.ops.pop(),be.trys.pop();continue;default:if(!((Ae=0<(Ae=be.trys).length&&Ae[Ae.length-1])||Ze[0]!==6&&Ze[0]!==2)){be=0;continue}if(Ze[0]===3&&(!Ae||Ze[1]>Ae[0]&&Ze[1]<Ae[3]))be.label=Ze[1];else if(Ze[0]===6&&be.label<Ae[1])be.label=Ae[1],Ae=Ze;else{if(!(Ae&&be.label<Ae[2])){Ae[2]&&be.ops.pop(),be.trys.pop();continue}be.label=Ae[2],be.ops.push(Ze)}}Ze=Ge.call(ke,be)}catch(Nt){Ze=[6,Nt],We=0}finally{Ke=Ae=0}if(5&Ze[0])throw Ze[1];return{value:Ze[0]?Ze[1]:void 0,done:!0}}}}function nt(ke,Ge,Ke,We){return new(Ke=Ke||Promise)(function(Ae,be){function tt(rt){try{It(We.next(rt))}catch(Ze){be(Ze)}}function dt(rt){try{It(We.throw(rt))}catch(Ze){be(Ze)}}function It(rt){var Ze;rt.done?Ae(rt.value):((Ze=rt.value)instanceof Ke?Ze:new Ke(function(Nt){Nt(Ze)})).then(tt,dt)}It((We=We.apply(ke,Ge||[])).next())})}function ct(ke,Ge){var Ke,We,Ae,be={label:0,sent:function(){if(1&Ae[0])throw Ae[1];return Ae[1]},trys:[],ops:[]},tt={next:dt(0),throw:dt(1),return:dt(2)};return typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function dt(It){return function(rt){var Ze=[It,rt];if(Ke)throw new TypeError("Generator is already executing.");for(;be=tt&&Ze[tt=0]?0:be;)try{if(Ke=1,We&&(Ae=2&Ze[0]?We.return:Ze[0]?We.throw||((Ae=We.return)&&Ae.call(We),0):We.next)&&!(Ae=Ae.call(We,Ze[1])).done)return Ae;switch(We=0,(Ze=Ae?[2&Ze[0],Ae.value]:Ze)[0]){case 0:case 1:Ae=Ze;break;case 4:return be.label++,{value:Ze[1],done:!1};case 5:be.label++,We=Ze[1],Ze=[0];continue;case 7:Ze=be.ops.pop(),be.trys.pop();continue;default:if(!((Ae=0<(Ae=be.trys).length&&Ae[Ae.length-1])||Ze[0]!==6&&Ze[0]!==2)){be=0;continue}if(Ze[0]===3&&(!Ae||Ze[1]>Ae[0]&&Ze[1]<Ae[3]))be.label=Ze[1];else if(Ze[0]===6&&be.label<Ae[1])be.label=Ae[1],Ae=Ze;else{if(!(Ae&&be.label<Ae[2])){Ae[2]&&be.ops.pop(),be.trys.pop();continue}be.label=Ae[2],be.ops.push(Ze)}}Ze=Ge.call(ke,be)}catch(Nt){Ze=[6,Nt],We=0}finally{Ke=Ae=0}if(5&Ze[0])throw Ze[1];return{value:Ze[0]?Ze[1]:void 0,done:!0}}}}lt=function(ke,Ge){return(lt=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(Ke,We){Ke.__proto__=We}:function(Ke,We){for(var Ae in We)Object.prototype.hasOwnProperty.call(We,Ae)&&(Ke[Ae]=We[Ae])}))(ke,Ge)},function(ke,Ge){if(typeof Ge!="function"&&Ge!==null)throw new TypeError("Class extends value "+String(Ge)+" is not a constructor or null");function Ke(){this.constructor=ke}lt(ke,Ge),ke.prototype=Ge===null?Object.create(Ge):(Ke.prototype=Ge.prototype,new Ke)}(Dr,Re=yt);var Re,lt,St,Yt,xe,st,At,Et,Dt,Ft,zt,Ut,Vt,mr,Br=Dr,Zt=function(){return(Zt=Object.assign||function(ke){for(var Ge,Ke=1,We=arguments.length;Ke<We;Ke++)for(var Ae in Ge=arguments[Ke])Object.prototype.hasOwnProperty.call(Ge,Ae)&&(ke[Ae]=Ge[Ae]);return ke}).apply(this,arguments)},wr=(rr.prototype.pushTask=function(ke,Ge,Ke,We,Ae){ke={task:ke},Ge&&(ke=Zt(Zt({},ke),{args:Ge})),Ke&&(ke=Zt(Zt({},ke),{successCallback:Ke})),We&&(ke=Zt(Zt({},ke),{errorCallback:We})),Ae&&(ke=Zt(Zt({},ke),{completeCallback:Ae})),this.queue.push(ke)},rr.prototype.runTaskQueueItem=function(ke){return le(this,void 0,void 0,function(){var Ge,Ke;return Ve(this,function(We){switch(We.label){case 0:Ge=null,We.label=1;case 1:return We.trys.push([1,4,5,6]),ke&&ke.args?Ge=ke.task.apply(ke,ke.args):ke&&(Ge=ke.task()),Ge instanceof Promise?[4,Ge]:[3,3];case 2:Ge=We.sent(),We.label=3;case 3:return ke.successCallback&&ke.successCallback(Ge),[3,6];case 4:if(Ke=We.sent(),ke.errorCallback)return ke.errorCallback(Ke),[3,6];throw Ke;case 5:return ke.completeCallback&&ke.completeCallback(),[7];case 6:return[2]}})})},rr.prototype.runATask=function(){return le(this,void 0,void 0,function(){var ke;return Ve(this,function(Ge){switch(Ge.label){case 0:return this.queue.length<=0?[2]:(ke=this.queue.shift())?[4,this.runTaskQueueItem(ke)]:[3,2];case 1:Ge.sent(),Ge.label=2;case 2:return[2]}})})},rr.prototype.runAllTask=function(){return le(this,void 0,void 0,function(){var ke;return Ve(this,function(Ge){switch(Ge.label){case 0:return 0<this.queue.length?(ke=this.queue.shift())?[4,this.runTaskQueueItem(ke)]:[3,2]:[3,3];case 1:Ge.sent(),Ge.label=2;case 2:return[3,0];case 3:return[2]}})})},rr.prototype.size=function(){return this.queue.length},rr),kt=(N=U(2),U.n(N)),Ar=(pr.prototype.writeLine=function(ke){ke&&ke!==""&&this.cacheLines.push(ke)},pr.prototype.saveAs=function(ke,Ge){var Ke=document.createElement("a");Ke.href=URL.createObjectURL(ke),Ke.download=Ge,Ke.click()},pr.prototype.createZip=function(){return ke=this,Ke=function(){var We,Ae;return function(be,tt){var dt,It,rt,Ze={label:0,sent:function(){if(1&rt[0])throw rt[1];return rt[1]},trys:[],ops:[]},Nt={next:Lt(0),throw:Lt(1),return:Lt(2)};return typeof Symbol=="function"&&(Nt[Symbol.iterator]=function(){return this}),Nt;function Lt(cr){return function(Me){var me=[cr,Me];if(dt)throw new TypeError("Generator is already executing.");for(;Ze=Nt&&me[Nt=0]?0:Ze;)try{if(dt=1,It&&(rt=2&me[0]?It.return:me[0]?It.throw||((rt=It.return)&&rt.call(It),0):It.next)&&!(rt=rt.call(It,me[1])).done)return rt;switch(It=0,(me=rt?[2&me[0],rt.value]:me)[0]){case 0:case 1:rt=me;break;case 4:return Ze.label++,{value:me[1],done:!1};case 5:Ze.label++,It=me[1],me=[0];continue;case 7:me=Ze.ops.pop(),Ze.trys.pop();continue;default:if(!((rt=0<(rt=Ze.trys).length&&rt[rt.length-1])||me[0]!==6&&me[0]!==2)){Ze=0;continue}if(me[0]===3&&(!rt||me[1]>rt[0]&&me[1]<rt[3]))Ze.label=me[1];else if(me[0]===6&&Ze.label<rt[1])Ze.label=rt[1],rt=me;else{if(!(rt&&Ze.label<rt[2])){rt[2]&&Ze.ops.pop(),Ze.trys.pop();continue}Ze.label=rt[2],Ze.ops.push(me)}}me=tt.call(be,Ze)}catch(Be){me=[6,Be],It=0}finally{dt=rt=0}if(5&me[0])throw me[1];return{value:me[0]?me[1]:void 0,done:!0}}}}(this,function(be){switch(be.label){case 0:We=new kt.a,Ae="",0<this.cacheLines.length&&(Ae=this.cacheLines.join(`
`),this.cacheLines=[]),Ae=new Blob([Ae],{type:"text/plain;charset=utf-8"}),We.file("log.txt",Ae),be.label=1;case 1:return be.trys.push([1,3,,4]),[4,We.generateAsync({type:"blob"})];case 2:return[2,be.sent()];case 3:throw Ae=be.sent(),console.error("create zip file failed",Ae),Ae;case 4:return[2]}})},new(Ge=(Ge=void 0)||Promise)(function(We,Ae){function be(It){try{dt(Ke.next(It))}catch(rt){Ae(rt)}}function tt(It){try{dt(Ke.throw(It))}catch(rt){Ae(rt)}}function dt(It){var rt;It.done?We(It.value):((rt=It.value)instanceof Ge?rt:new Ge(function(Ze){Ze(rt)})).then(be,tt)}dt((Ke=Ke.apply(ke,[])).next())});var ke,Ge,Ke},pr),qe=(lr.prototype.isUploadFieldReady=function(){return!!(this.configState.appid&&this.configState.userid&&this.configState.userid!==""&&this.configState.token&&this.configState.token!==""&&this.configState.deviceid&&this.configState.deviceid!=="")},lr.prototype.setUploadUrl=function(ke){this.uploadUrl=ke},lr.prototype.upload=function(ke){return nt(this,void 0,void 0,function(){var Ge=this;return ct(this,function(Ke){if(this.isUploadFieldReady())return[2,new Promise(function(We,Ae){return nt(Ge,void 0,void 0,function(){var be,tt=this;return ct(this,function(dt){switch(dt.label){case 0:return be=function(){return nt(tt,void 0,void 0,function(){var It,rt,Ze=this;return ct(this,function(Nt){switch(Nt.label){case 0:this.updateLocked=!0,(It=new FormData).append("logs",ke),It.append("hello",this.configState.appid.toString()),It.append("appid",this.configState.appid.toString()),It.append("uin",this.configState.userid.toString()),It.append("timestamp",new Date().getTime().toString()),It.append("token",this.configState.token),It.append("deviceid",this.configState.deviceid),Nt.label=1;case 1:return Nt.trys.push([1,3,4,5]),[4,nr.post(this.uploadUrl,It)];case 2:if((rt=Nt.sent()).code!==0)throw new Error("upload logs failed, error=".concat(JSON.stringify(rt)));return[3,5];case 3:return rt=Nt.sent(),Ae(rt),[3,5];case 4:return setTimeout(function(){return nt(Ze,void 0,void 0,function(){return ct(this,function(Lt){switch(Lt.label){case 0:return this.updateLocked=!1,[4,this.taskQueue.runATask()];case 1:return Lt.sent(),[2]}})})},100),[7];case 5:return[2]}})})},this.updateLocked?(this.taskQueue.pushTask(be,[],function(){We()},function(It){Ae(It)}),[3,3]):[3,1];case 1:return[4,be()];case 2:dt.sent(),We(),dt.label=3;case 3:return[2]}})})})];throw new Error("cannot upload logs, please login room before you upload logs.")})})},lr),nr=(tr.post=function(ke,Ge){return new Promise(function(Ke,We){try{var Ae=new XMLHttpRequest;Ae.open("POST",ke,!0),Ae.responseType="json",Ae.send(Ge),Ae.onreadystatechange=function(){Ae.readyState===XMLHttpRequest.DONE&&(Ae.status===200?Ke(Ae.response):We("request fail. status="+Ae.status))}}catch(be){We(be)}})},tr);function tr(){}function lr(ke){this.configState=ke,this.defaultDomain="detaillog-global.zego.im",this.uploadUrl="https://".concat(this.defaultDomain,"/log/userupload"),this.taskQueue=new wr,this.updateLocked=!1}function pr(){this.cacheLines=[]}function rr(){this.queue=[]}function Dr(){return Re!==null&&Re.apply(this,arguments)||this}function Kt(){}function $t(ke){this.dbSaver=ke,this.tableName="zego_log"}function Nr(ke){var Ge=St.call(this)||this;return Ge.configState=ke,Ge}function Rr(){this.queue=[]}function fr(){}function un(){this._strategy=te.DEFAULT}function ln(ke){return(ke=zt.call(this,ke)||this).maxDelay=10,ke.maxPacketLen=20480,ke}function _r(){var ke=Vt!==null&&Vt.apply(this,arguments)||this;return ke.maxDelay=10,ke.maxPacketLen=20480,ke.locked=!1,ke}function gr(ke,Ge,Ke){this.ws=ke,this.cache=Ge,this.strategy=Ke,this.strategy.onCanSendActive=this.active.bind(this)}function Qr(ke,Ge,Ke){this.cache=ke,this.configState=Ge,this.innerLogger=Ke,this.websocket=null,this.websocketState="never_opened",this.senderBuilder=new ot,this.sender=null}function vr(ke,Ge,Ke,We){return new(Ke=Ke||Promise)(function(Ae,be){function tt(rt){try{It(We.next(rt))}catch(Ze){be(Ze)}}function dt(rt){try{It(We.throw(rt))}catch(Ze){be(Ze)}}function It(rt){var Ze;rt.done?Ae(rt.value):((Ze=rt.value)instanceof Ke?Ze:new Ke(function(Nt){Nt(Ze)})).then(tt,dt)}It((We=We.apply(ke,Ge||[])).next())})}function Gr(ke,Ge){var Ke,We,Ae,be={label:0,sent:function(){if(1&Ae[0])throw Ae[1];return Ae[1]},trys:[],ops:[]},tt={next:dt(0),throw:dt(1),return:dt(2)};return typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function dt(It){return function(rt){var Ze=[It,rt];if(Ke)throw new TypeError("Generator is already executing.");for(;be=tt&&Ze[tt=0]?0:be;)try{if(Ke=1,We&&(Ae=2&Ze[0]?We.return:Ze[0]?We.throw||((Ae=We.return)&&Ae.call(We),0):We.next)&&!(Ae=Ae.call(We,Ze[1])).done)return Ae;switch(We=0,(Ze=Ae?[2&Ze[0],Ae.value]:Ze)[0]){case 0:case 1:Ae=Ze;break;case 4:return be.label++,{value:Ze[1],done:!1};case 5:be.label++,We=Ze[1],Ze=[0];continue;case 7:Ze=be.ops.pop(),be.trys.pop();continue;default:if(!((Ae=0<(Ae=be.trys).length&&Ae[Ae.length-1])||Ze[0]!==6&&Ze[0]!==2)){be=0;continue}if(Ze[0]===3&&(!Ae||Ze[1]>Ae[0]&&Ze[1]<Ae[3]))be.label=Ze[1];else if(Ze[0]===6&&be.label<Ae[1])be.label=Ae[1],Ae=Ze;else{if(!(Ae&&be.label<Ae[2])){Ae[2]&&be.ops.pop(),be.trys.pop();continue}be.label=Ae[2],be.ops.push(Ze)}}Ze=Ge.call(ke,be)}catch(Nt){Ze=[6,Nt],We=0}finally{Ke=Ae=0}if(5&Ze[0])throw Ze[1];return{value:Ze[0]?Ze[1]:void 0,done:!0}}}}function $r(ke,Ge,Ke,We){return new(Ke=Ke||Promise)(function(Ae,be){function tt(rt){try{It(We.next(rt))}catch(Ze){be(Ze)}}function dt(rt){try{It(We.throw(rt))}catch(Ze){be(Ze)}}function It(rt){var Ze;rt.done?Ae(rt.value):((Ze=rt.value)instanceof Ke?Ze:new Ke(function(Nt){Nt(Ze)})).then(tt,dt)}It((We=We.apply(ke,Ge||[])).next())})}function ur(ke,Ge){var Ke,We,Ae,be={label:0,sent:function(){if(1&Ae[0])throw Ae[1];return Ae[1]},trys:[],ops:[]},tt={next:dt(0),throw:dt(1),return:dt(2)};return typeof Symbol=="function"&&(tt[Symbol.iterator]=function(){return this}),tt;function dt(It){return function(rt){var Ze=[It,rt];if(Ke)throw new TypeError("Generator is already executing.");for(;be=tt&&Ze[tt=0]?0:be;)try{if(Ke=1,We&&(Ae=2&Ze[0]?We.return:Ze[0]?We.throw||((Ae=We.return)&&Ae.call(We),0):We.next)&&!(Ae=Ae.call(We,Ze[1])).done)return Ae;switch(We=0,(Ze=Ae?[2&Ze[0],Ae.value]:Ze)[0]){case 0:case 1:Ae=Ze;break;case 4:return be.label++,{value:Ze[1],done:!1};case 5:be.label++,We=Ze[1],Ze=[0];continue;case 7:Ze=be.ops.pop(),be.trys.pop();continue;default:if(!((Ae=0<(Ae=be.trys).length&&Ae[Ae.length-1])||Ze[0]!==6&&Ze[0]!==2)){be=0;continue}if(Ze[0]===3&&(!Ae||Ze[1]>Ae[0]&&Ze[1]<Ae[3]))be.label=Ze[1];else if(Ze[0]===6&&be.label<Ae[1])be.label=Ae[1],Ae=Ze;else{if(!(Ae&&be.label<Ae[2])){Ae[2]&&be.ops.pop(),be.trys.pop();continue}be.label=Ae[2],be.ops.push(Ze)}}Ze=Ge.call(ke,be)}catch(Nt){Ze=[6,Nt],We=0}finally{Ke=Ae=0}if(5&Ze[0])throw Ze[1];return{value:Ze[0]?Ze[1]:void 0,done:!0}}}}var Kr=function(){return(Kr=Object.assign||function(ke){for(var Ge,Ke=1,We=arguments.length;Ke<We;Ke++)for(var Ae in Ge=arguments[Ke])Object.prototype.hasOwnProperty.call(Ge,Ae)&&(ke[Ae]=Ge[Ae]);return ke}).apply(this,arguments)},Hr=(qr.prototype.build=function(ke){var Ge=Kr(Kr({},JSON.parse(ke)),{sdkid:this.sdkid});if(++this.buildedCount%100==0)return(ke=JSON.stringify(Ge)).substring(1,ke.length-1);for(Ke in Ge)this.excludedKeys.includes(Ke)||(Ge[Ke]===this.logCtx[Ke]?delete Ge[Ke]:this.logCtx[Ke]=Ge[Ke]);var Ke,We=[];for(Ke in Ge)this.excludedKeys.includes(Ke)?We.push(Ge[Ke]):We.push("".concat(Ke,":").concat(Ge[Ke]));return We.join(",")},qr.prototype.buildFullMessageLog=function(ke){return ke=JSON.parse(ke),ke=Kr(Kr(Kr({},this.logCtx),ke),{sdkid:this.sdkid}),JSON.stringify(ke)},qr),gn=(Object.defineProperty(Vr.prototype,"dbOpened",{get:function(){return this._dbOpened},enumerable:!1,configurable:!0}),Object.defineProperty(Vr.prototype,"dbTryOpened",{get:function(){return this._dbTryOpen},enumerable:!1,configurable:!0}),Vr.prototype.makeStorageSpace=function(){return vr(this,void 0,void 0,function(){var ke;return Gr(this,function(Ge){switch(Ge.label){case 0:return[4,this.logModel.lines()];case 1:return 153600<(ke=Ge.sent())?[4,this.logModel.deleteByCount(ke/2)]:[3,3];case 2:Ge.sent(),Ge.label=3;case 3:return[2]}})})},Vr.prototype.makeStorageSpaceUpload=function(){return vr(this,void 0,void 0,function(){var ke,Ge=this;return Gr(this,function(Ke){return this.zipLogEnabled?(ke=function(){return vr(Ge,void 0,void 0,function(){return Gr(this,function(We){switch(We.label){case 0:return[4,this.logModel.lines()];case 1:return 3072<We.sent()?[4,this.startASdkUploadTask()]:[3,3];case 2:We.sent(),We.label=3;case 3:return[2]}})})},[2,new Promise(function(We,Ae){return vr(Ge,void 0,void 0,function(){var be;return Gr(this,function(tt){switch(tt.label){case 0:return this.dbOpened?[3,1]:(this.dbTaskQueue.pushTask(ke,[],function(){We()},function(dt){Ae(dt)}),[3,5]);case 1:return tt.trys.push([1,3,,4]),[4,ke()];case 2:return tt.sent(),[3,4];case 3:return be=tt.sent(),Ae(be),[2];case 4:We(),tt.label=5;case 5:return[2]}})})})]):[2]})})},Vr.prototype.openDB=function(){return vr(this,void 0,void 0,function(){return Gr(this,function(ke){switch(ke.label){case 0:return this._dbTryOpen?[2]:(this._dbTryOpen=!0,[4,this.dbSaver.openDB(de)]);case 1:return ke.sent(),this._dbOpened=!0,[4,this.makeStorageSpace()];case 2:return ke.sent(),[4,this.dbTaskQueue.runAllTask()];case 3:return ke.sent(),[4,this.uploadTaskQueue.runATask()];case 4:return ke.sent(),this.activeSaving(),[2]}})})},Vr.prototype.shouldOpenDB=function(){return this.zipLogEnabled&&Vr.isEnvSupport()&&!this._dbOpened&&!this._dbTryOpen},Vr.prototype.enable=function(){this.zipLogEnabled||(this.zipLogEnabled=!0,this.shouldOpenDB()&&this.openDB())},Vr.prototype.saveLog=function(ke){this.shouldOpenDB()&&this.openDB(),this.cache.push(this.zipLogBuilder.build(ke)),this.activeSaving()},Vr.prototype.removeLogList=function(ke){return vr(this,void 0,void 0,function(){return Gr(this,function(Ge){switch(Ge.label){case 0:return ke.length===0?[2]:[4,this.logModel.delete(ke)];case 1:return Ge.sent(),[2]}})})},Vr.prototype.empty=function(){return vr(this,void 0,void 0,function(){return Gr(this,function(ke){switch(ke.label){case 0:return[4,this.logModel.queryList(1)];case 1:return[2,ke.sent().length===0]}})})},Vr.prototype.activeSaving=function(){var ke,Ge=this;this.zipLogEnabled&&this.dbOpened&&!this.activating&&(this.activating=!0,(ke=function(){var Ke=Ge.cache.front();Ke?Ge.logModel.save(Ke).then(function(){Ge.cache.pop(),ke()}).catch(function(We){Ge.activating=!1,console.error(We)}):Ge.activating=!1})())},Vr.isEnvSupport=function(){return!(!window||!("indexedDB"in window))},Vr.prototype.uploadTask=function(){return vr(this,void 0,void 0,function(){var ke,Ge,Ke;return Gr(this,function(We){switch(We.label){case 0:return[4,this.logModel.lines()];case 1:ke=We.sent(),Ge=function(){var Ae,be,tt;return Gr(this,function(dt){switch(dt.label){case 0:return[4,Ke.logModel.queryList(Math.min(3145728,ke))];case 1:return Ae=dt.sent(),ke-=3145728,Ae.length<=0?[2,"break"]:(be=new Ar,Ae.forEach(function(It){be.writeLine(It.log)}),[4,be.createZip()]);case 2:return tt=dt.sent(),[4,Ke.zipLogUploader.upload(tt)];case 3:return dt.sent(),[4,Ke.logModel.delete(Ae)];case 4:return dt.sent(),[2]}})},Ke=this,We.label=2;case 2:return 0<ke?[5,Ge()]:[3,4];case 3:return We.sent()==="break"?[3,4]:[3,2];case 4:return[2]}})})},Vr.prototype.startASdkUploadTask=function(){var ke=this;return new Promise(function(Ge,Ke){return vr(ke,void 0,void 0,function(){var We,Ae=this;return Gr(this,function(be){return We=function(){return vr(Ae,void 0,void 0,function(){return Gr(this,function(tt){switch(tt.label){case 0:return[4,this.uploadTask()];case 1:return tt.sent(),[2]}})})},this.uploadTaskQueue.pushTask(We,[],function(){Ge()},function(tt){Ke(tt)},function(){0<Ae.uploadTaskQueue.size()&&Ae.uploadTaskQueue.runATask()}),this.dbOpened&&this.uploadTaskQueue.size()===1&&this.uploadTaskQueue.runATask(),[2]})})})},Vr.prototype.startAUserUploadTask=function(){var ke=this;return new Promise(function(Ge,Ke){return vr(ke,void 0,void 0,function(){var We,Ae=this;return Gr(this,function(be){return this.userLastUploadSuccess=!1,this.userUploading=!0,We=function(){return vr(Ae,void 0,void 0,function(){return Gr(this,function(tt){switch(tt.label){case 0:return this.userUploading=!0,[4,this.uploadTask()];case 1:return tt.sent(),[2]}})})},this.uploadTaskQueue.pushTask(We,[],function(){Ae.userLastUploadSuccess=!0,Ae.userUploading=!1,Ge()},function(tt){Ae.userUploading=!1,Ke(tt)},function(){0<Ae.uploadTaskQueue.size()&&Ae.uploadTaskQueue.runATask()}),this.dbOpened&&this.uploadTaskQueue.size()===1&&this.uploadTaskQueue.runATask(),[2]})})})},Vr.prototype.setUploadUrl=function(ke){this.zipLogUploader.setUploadUrl(ke)},Vr.prototype.startUpload=function(){return vr(this,void 0,void 0,function(){return Gr(this,function(ke){switch(ke.label){case 0:if(!this.zipLogEnabled)throw new Error("zip logs upload is not enabled.");if(this.userLastUploadTime!==0&&performance.now()-this.userLastUploadTime<6e4&&this.userLastUploadSuccess||this.userUploading)throw new Error("Logs upload failed. Do not report frequently.");return this.userLastUploadTime=performance.now(),[4,this.startAUserUploadTask()];case 1:return ke.sent(),[2]}})})},Vr.prototype.destroy=function(){},Vr),Tr=function(){return(Tr=Object.assign||function(ke){for(var Ge,Ke=1,We=arguments.length;Ke<We;Ke++)for(var Ae in Ge=arguments[Ke])Object.prototype.hasOwnProperty.call(Ge,Ae)&&(ke[Ae]=Ge[Ae]);return ke}).apply(this,arguments)},Or=(Object.defineProperty(Sr.prototype,"url",{get:function(){return this.configState.url||""},set:function(ke){this.configState.url=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Sr.prototype,"logType",{get:function(){return this.configState.logType||F.DISABLE},set:function(ke){this.configState.logType=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Sr.prototype,"env",{get:function(){return this.configState.env},set:function(ke){this.configState.env=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Sr.prototype,"appid",{get:function(){return this.configState.appid},set:function(ke){this.configState.appid=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Sr.prototype,"roomid",{get:function(){return this.configState.roomid},set:function(ke){this.configState.roomid=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Sr.prototype,"sessionid",{get:function(){return this.configState.sessionid},set:function(ke){this.configState.sessionid=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Sr.prototype,"userid",{get:function(){return this.configState.userid},set:function(ke){this.configState.userid=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Sr.prototype,"userName",{get:function(){return this.configState.userName},set:function(ke){this.configState.userName=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Sr.prototype,"version",{get:function(){return this.configState.userName},set:function(ke){this.configState.version=ke},enumerable:!1,configurable:!0}),Sr.prototype.setLogLevel=function(ke){return(ke=$[ke])!==void 0&&(this.logLevel=ke,!0)},Sr.prototype.setRemoteLogLevel=function(ke){return(ke=$[ke])!==void 0&&(this.logRemoteLevel=ke,!0)},Sr.prototype.setSessionInfo=function(ke,Ge,Ke,We,Ae,be){this.appid=ke,this.roomid=Ge,this.sessionid=Ke,this.userid=We,this.userName=Ae,this.version=be},Sr.prototype.setTokenInfo=function(ke,Ge){this.configState.token=ke,Ge&&(this.configState.userid=Ge)},Sr.prototype.setZipLogConfig=function(ke,Ge){ke===1&&this.zipLogContext?this.zipLogContext.enable():ke==0&&Ge&&this.zipLogContext&&(this.zipLogContext.destroy(),this.zipLogContext=null)},Sr.prototype.setZipLogUploadUrl=function(ke){this.zipLogContext&&this.zipLogContext.setUploadUrl(ke)},Sr.prototype.makeZipLogSpaceUpload=function(){return $r(this,void 0,void 0,function(){return ur(this,function(ke){switch(ke.label){case 0:return this.zipLogContext?[4,this.zipLogContext.makeStorageSpaceUpload()]:[3,2];case 1:ke.sent(),ke.label=2;case 2:return[2]}})})},Sr.prototype.uploadStorageLog=function(){return $r(this,void 0,void 0,function(){return ur(this,function(ke){switch(ke.label){case 0:return this.zipLogContext?[4,this.zipLogContext.startUpload()]:[3,2];case 1:return ke.sent(),[3,3];case 2:throw new Error("cannot use zip log module");case 3:return[2]}})})},Sr.prototype.report=function(ke){ke=this.logReportParamList($.REPORT,ke),this.logLevel!==$.DISABLE&&this.logLevel<=$.REPORT&&console.debug(ke),this.RemoteLog($.REPORT,ke,!0)},Sr.prototype.debug=function(){for(var ke=[],Ge=0;Ge<arguments.length;Ge++)ke[Ge]=arguments[Ge];var Ke=this.logParamList($.DEBUG,ke.join(""));this.logLevel!==$.DISABLE&&this.logLevel<=$.DEBUG&&console.debug(Ke),this.log($.DEBUG,Ke)},Sr.prototype.info=function(){for(var ke=[],Ge=0;Ge<arguments.length;Ge++)ke[Ge]=arguments[Ge];var Ke=this.logParamList($.INFO,ke.join(""));this.logLevel!==$.DISABLE&&this.logLevel<=$.INFO&&console.info(Ke),this.log($.INFO,Ke)},Sr.prototype.warn=function(){for(var ke=[],Ge=0;Ge<arguments.length;Ge++)ke[Ge]=arguments[Ge];var Ke=this.logParamList($.WARN,ke.join(""));this.logLevel!==$.DISABLE&&this.logLevel<=$.WARN&&console.warn(Ke),this.log($.WARN,Ke)},Sr.prototype.error=function(){for(var ke=[],Ge=0;Ge<arguments.length;Ge++)ke[Ge]=arguments[Ge];var Ke=this.logParamList($.ERROR,ke.join(""));this.logLevel!==$.DISABLE&&this.logLevel<=$.ERROR&&(console.error(Ke),this.env%2===q.BROWSER&&window?this.stateCenter.debug&&window.alert(ke.join("").substr(ke.join("").indexOf(" ")+1,4500)):(this.env,q.WEIXINMINI)),this.log($.ERROR,Ke)},Sr.prototype.log=function(ke,Ge){this.logRemoteLevel!==$.DISABLE&&this.logRemoteLevel<=ke&&(this.RemoteLog(ke,Ge),this.zipLogContext)&&this.zipLogContext.saveLog(Ge)},Sr.prototype.setLogServer=function(ke){if(this.isDestroy)return!1;try{return ke.startsWith("wss:")?(this.logType=F.WEBSOCKET,this.netContext.openWebSocketLogServer(ke)):ke.startsWith("https:")?(this.logType=F.HTTPS,this.openHttpsLogServer(ke)):this.logType=F.DISABLE,!0}catch(Ge){return this.error(JSON.stringify(Ge)),!1}},Sr.prototype.stopLogServer=function(){this.logType==F.WEBSOCKET?this.stopWebSocketServer():this.logType==F.HTTPS&&(this.SendHttpsLog(),this.stopHttpsServer()),this.logType=F.DISABLE},Sr.prototype.stopWebSocketServer=function(){this.netContext.stopWebSocketServer()},Sr.prototype.openHttpsLogServer=function(ke){var Ge=this;(this.url=ke)&&(this.stopHttpsServer(),this.logUploadTimer||(this.logUploadTimer=setInterval(function(){Ge.SendHttpsLog()},this.logUploadInterval)))},Sr.prototype.stopHttpsServer=function(){this.logUploadTimer&&(clearInterval(this.logUploadTimer),this.logUploadTimer=null)},Sr.prototype.RemoteLog=function(ke,Ge,Ke){return Ke===void 0&&(Ke=!1),$r(this,void 0,void 0,function(){return ur(this,function(We){if(this.url!=""&&!this.isDestroy){if(this.logType==F.WEBSOCKET)this.RemoteWebSocketLog(ke,Ge);else if(this.logType==F.HTTPS)this.RemoteHttpsLog(ke,Ge,Ke);else if(this.logLevel!==$.DISABLE&&this.logLevel<=ke)for(this.logCache.push(Ge);this.logCache.size()>this.logCacheMax;)this.logCache.pop()}return[2]})})},Sr.prototype.clearLogCache=function(){var ke=this;this.netContext.connected()&&this.logCache.clear().forEach(function(Ge){ke.netContext.wsSend(Ge)})},Sr.prototype.clearCache=function(){this.logCache.size()!==0&&this.clearLogCache()},Sr.prototype.saveLog=function(ke){this.logCache.size()<this.logCacheMax&&this.logCache.push(ke)},Sr.prototype.websocketSendLog=function(ke){this.netContext.connected()?this.netContext.wsSend(ke):this.saveLog(ke)},Sr.prototype.RemoteWebSocketLog=function(ke,Ge){return $r(this,void 0,void 0,function(){var Ke;return ur(this,function(We){return typeof Ge=="string"&&4e3<Ge.length?console.info("log over maximum, ignore"):this.configState.useStrategy&&this.env==q.BROWSER?this.netContext.addRemoteWsLog(Ge):this.netContext.closed()?(Ke=this.url,this.url="",this.setLogServer(Ke),this.saveLog(Ge)):this.netContext.connecting()?this.saveLog(Ge):this.netContext.connected()&&(this.clearCache(),this.websocketSendLog(Ge)),[2]})})},Sr.prototype.RemoteHttpsLog=function(ke,Ge,Ke){this.logCache.push(Ge),(this.logCache.size()>=this.logCacheMax||Ke===!0)&&this.SendHttpsLog()},Sr.prototype.logParamList=function(ke,Ge){var Ke={time:Ke=K(),level:ke,action:(Ge=[Ge.substr(0,Ge.indexOf(" "))||Ge,Ge.substr(Ge.indexOf(" ")+1,4500)||Ge])[0],content:Ge[1],appid:this.appid,roomid:this.roomid,userid:this.userid,userName:this.userName,sessionid:this.sessionid};return JSON.stringify(Ke)},Sr.prototype.logReportParamList=function(ke,Ge){var Ke=K(),We=this.env%2===q.BROWSER?"rtc":"ali";return Ge=Tr(Tr({},Ge),{time:Ke,level:ke,console:We,appid:this.appid,room_id:this.roomid,roomid:this.roomid,userid:this.userid,id_name:this.userid,userName:this.userName,sessionid:this.sessionid,sdk_version:this.version,test_environment:this.stateCenter.testEnvironment,version:this.version,event_id:this.appid+"_"+this.userid+"_"+Ge.event_time+"_"+Ge.seq}),JSON.stringify(Ge)},Sr.prototype.SendHttpsLog=function(){this.logCache.size()!=0&&(this.env%2===q.BROWSER?this.SendHttpsLogWeb():this.SendHttpsLogWeChatMini())},Sr.prototype.SendHttpsLogWeb=function(){var ke=this,Ge=this.logCache.buffer.join(`
`),Ke=this.logCache.buffer,We=new XMLHttpRequest;We.onreadystatechange=function(){if(We.readyState==4){if(We.status==200){if(We.responseText.length==0)return;try{var Ae=JSON.parse(We.responseText).interval;typeof Ae=="number"&&ke.logUploadInterval!==Ae&&(ke.timeInterval=Ae,ke.openHttpsLogServer(ke.url))}catch(be){ke.logCache.buffer=Ke.concat(ke.logCache.buffer),console.log("send result failed "+be)}}else ke.logCache.buffer=Ke.concat(ke.logCache.buffer),console.log("send failed "+We.status);Ke=null}},We.open("POST",this.url,!0),this.env==0?We.send(Ge):this.env==1&&(We.setRequestHeader("content-type","application/json"),We.send(JSON.stringify({user_id:this.userid,log:Ge}))),this.logCache.buffer=[]},Sr.prototype.SendHttpsLogWeChatMini=function(){},Sr.prototype.destroy=function(){this.stopLogServer(),this.logUploadTimer&&clearTimeout(this.logUploadTimer),V.instance=void 0,this.netContext.destroy(),this.zipLogContext&&this.zipLogContext.destroy(),this.url=""},Sr.logVersion="1.4.0",Sr);function Sr(ke){var Ge=this;this.logLevel=$.INFO,this.logRemoteLevel=0,this.logUploadTimer=null,this.logUploadInterval=1e4,this.existUserID=!1,this.isDestroy=!1,this.logCacheMax=8192,this.innerLogger={debug:function(){for(var Ke=[],We=0;We<arguments.length;We++)Ke[We]=arguments[We];Ge.debug.apply(Ge,Ke)},info:function(){for(var Ke=[],We=0;We<arguments.length;We++)Ke[We]=arguments[We];Ge.info.apply(Ge,Ke)},warn:function(){for(var Ke=[],We=0;We<arguments.length;We++)Ke[We]=arguments[We];Ge.warn.apply(Ge,Ke)},error:function(){for(var Ke=[],We=0;We<arguments.length;We++)Ke[We]=arguments[We];Ge.error.apply(Ge,Ke)}},this.stateCenter=V.getInstance(),this.configState=new pe,this.configState.env=ke,this.logCache=new fe(this.configState),this.netContext=new H(this.logCache,this.configState,this.innerLogger),this.env==q.BROWSER&&gn.isEnvSupport()&&(this.zipLogContext=new gn(this.configState))}function Vr(ke){this.configState=ke,this.dbSaver=new ue,this.logModel=new ie(this.dbSaver),this._dbOpened=!1,this._dbTryOpen=!1,this.cache=new Br,this.activating=!1,this.dbTaskQueue=new wr,this.uploadTaskQueue=new wr,this.zipLogEnabled=!1,this.userLastUploadTime=0,this.userLastUploadSuccess=!1,this.userUploading=!1,this.zipLogUploader=new qe(this.configState),this.zipLogBuilder=new Hr(this.configState)}function qr(ke){this.configState=ke,this.logCtx={},this.excludedKeys=["time","action","content","sdkid"],this.buildedCount=0,this.sdkid=crypto.getRandomValues(new Uint8Array(5)).reduce((Ge,Ke)=>Ge+((Ke&=63)<36?Ke.toString(36):Ke<62?(Ke-26).toString(36).toUpperCase():62<Ke?"-":"_"),"")}}],u={},Q.m=p,Q.c=u,Q.d=function(y,N,U){Q.o(y,N)||Object.defineProperty(y,N,{enumerable:!0,get:U})},Q.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})},Q.t=function(y,N){if(1&N&&(y=Q(y)),8&N||4&N&&typeof y=="object"&&y&&y.__esModule)return y;var U=Object.create(null);if(Q.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:y}),2&N&&typeof y!="string")for(var q in y)Q.d(U,q,(function(te){return y[te]}).bind(null,q));return U},Q.n=function(y){var N=y&&y.__esModule?function(){return y.default}:function(){return y};return Q.d(N,"a",N),N},Q.o=function(y,N){return Object.prototype.hasOwnProperty.call(y,N)},Q.p="",Q(Q.s=10))},function(_,m,I){_.exports=function(Q){for(var p=Math,u=Q,y=u.lib,N=y.WordArray,U=y.Hasher,q=u.algo,te=[],F=0;F<64;F++)te[F]=4294967296*p.abs(p.sin(F+1))|0;var V=q.MD5=U.extend({_doReset:function(){this._hash=new N.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(T,w){for(var k=0;k<16;k++){var Y=w+k,Z=T[Y];T[Y]=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8)}var W=this._hash.words,K=T[w+0],x=T[w+1],X=T[w+2],H=T[w+3],j=T[w+4],ae=T[w+5],ce=T[w+6],ne=T[w+7],Qe=T[w+8],De=T[w+9],Fe=T[w+10],pe=T[w+11],ot=T[w+12],ft=T[w+13],yt=T[w+14],Ot=T[w+15],ge=W[0],Ee=W[1],fe=W[2],ie=W[3];ge=z(ge,Ee,fe,ie,K,7,te[0]),ie=z(ie,ge,Ee,fe,x,12,te[1]),fe=z(fe,ie,ge,Ee,X,17,te[2]),Ee=z(Ee,fe,ie,ge,H,22,te[3]),ge=z(ge,Ee,fe,ie,j,7,te[4]),ie=z(ie,ge,Ee,fe,ae,12,te[5]),fe=z(fe,ie,ge,Ee,ce,17,te[6]),Ee=z(Ee,fe,ie,ge,ne,22,te[7]),ge=z(ge,Ee,fe,ie,Qe,7,te[8]),ie=z(ie,ge,Ee,fe,De,12,te[9]),fe=z(fe,ie,ge,Ee,Fe,17,te[10]),Ee=z(Ee,fe,ie,ge,pe,22,te[11]),ge=z(ge,Ee,fe,ie,ot,7,te[12]),ie=z(ie,ge,Ee,fe,ft,12,te[13]),fe=z(fe,ie,ge,Ee,yt,17,te[14]),ge=$(ge,Ee=z(Ee,fe,ie,ge,Ot,22,te[15]),fe,ie,x,5,te[16]),ie=$(ie,ge,Ee,fe,ce,9,te[17]),fe=$(fe,ie,ge,Ee,pe,14,te[18]),Ee=$(Ee,fe,ie,ge,K,20,te[19]),ge=$(ge,Ee,fe,ie,ae,5,te[20]),ie=$(ie,ge,Ee,fe,Fe,9,te[21]),fe=$(fe,ie,ge,Ee,Ot,14,te[22]),Ee=$(Ee,fe,ie,ge,j,20,te[23]),ge=$(ge,Ee,fe,ie,De,5,te[24]),ie=$(ie,ge,Ee,fe,yt,9,te[25]),fe=$(fe,ie,ge,Ee,H,14,te[26]),Ee=$(Ee,fe,ie,ge,Qe,20,te[27]),ge=$(ge,Ee,fe,ie,ft,5,te[28]),ie=$(ie,ge,Ee,fe,X,9,te[29]),fe=$(fe,ie,ge,Ee,ne,14,te[30]),ge=L(ge,Ee=$(Ee,fe,ie,ge,ot,20,te[31]),fe,ie,ae,4,te[32]),ie=L(ie,ge,Ee,fe,Qe,11,te[33]),fe=L(fe,ie,ge,Ee,pe,16,te[34]),Ee=L(Ee,fe,ie,ge,yt,23,te[35]),ge=L(ge,Ee,fe,ie,x,4,te[36]),ie=L(ie,ge,Ee,fe,j,11,te[37]),fe=L(fe,ie,ge,Ee,ne,16,te[38]),Ee=L(Ee,fe,ie,ge,Fe,23,te[39]),ge=L(ge,Ee,fe,ie,ft,4,te[40]),ie=L(ie,ge,Ee,fe,K,11,te[41]),fe=L(fe,ie,ge,Ee,H,16,te[42]),Ee=L(Ee,fe,ie,ge,ce,23,te[43]),ge=L(ge,Ee,fe,ie,De,4,te[44]),ie=L(ie,ge,Ee,fe,ot,11,te[45]),fe=L(fe,ie,ge,Ee,Ot,16,te[46]),ge=O(ge,Ee=L(Ee,fe,ie,ge,X,23,te[47]),fe,ie,K,6,te[48]),ie=O(ie,ge,Ee,fe,ne,10,te[49]),fe=O(fe,ie,ge,Ee,yt,15,te[50]),Ee=O(Ee,fe,ie,ge,ae,21,te[51]),ge=O(ge,Ee,fe,ie,ot,6,te[52]),ie=O(ie,ge,Ee,fe,H,10,te[53]),fe=O(fe,ie,ge,Ee,Fe,15,te[54]),Ee=O(Ee,fe,ie,ge,x,21,te[55]),ge=O(ge,Ee,fe,ie,Qe,6,te[56]),ie=O(ie,ge,Ee,fe,Ot,10,te[57]),fe=O(fe,ie,ge,Ee,ce,15,te[58]),Ee=O(Ee,fe,ie,ge,ft,21,te[59]),ge=O(ge,Ee,fe,ie,j,6,te[60]),ie=O(ie,ge,Ee,fe,pe,10,te[61]),fe=O(fe,ie,ge,Ee,X,15,te[62]),Ee=O(Ee,fe,ie,ge,De,21,te[63]),W[0]=W[0]+ge|0,W[1]=W[1]+Ee|0,W[2]=W[2]+fe|0,W[3]=W[3]+ie|0},_doFinalize:function(){var T=this._data,w=T.words,k=8*this._nDataBytes,Y=8*T.sigBytes;w[Y>>>5]|=128<<24-Y%32;var Z=p.floor(k/4294967296),W=k;w[15+(Y+64>>>9<<4)]=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8),w[14+(Y+64>>>9<<4)]=16711935&(W<<8|W>>>24)|4278255360&(W<<24|W>>>8),T.sigBytes=4*(w.length+1),this._process();for(var K=this._hash,x=K.words,X=0;X<4;X++){var H=x[X];x[X]=16711935&(H<<8|H>>>24)|4278255360&(H<<24|H>>>8)}return K},clone:function(){var T=U.clone.call(this);return T._hash=this._hash.clone(),T}});function z(T,w,k,Y,Z,W,K){var x=T+(w&k|~w&Y)+Z+K;return(x<<W|x>>>32-W)+w}function $(T,w,k,Y,Z,W,K){var x=T+(w&Y|k&~Y)+Z+K;return(x<<W|x>>>32-W)+w}function L(T,w,k,Y,Z,W,K){var x=T+(w^k^Y)+Z+K;return(x<<W|x>>>32-W)+w}function O(T,w,k,Y,Z,W,K){var x=T+(k^(w|~Y))+Z+K;return(x<<W|x>>>32-W)+w}return u.MD5=U._createHelper(V),u.HmacMD5=U._createHmacHelper(V),Q.MD5}(I(1))},function(_,m,I){_.exports=function(Q){for(var p=Q,u=p.lib.BlockCipher,y=p.algo,N=[],U=[],q=[],te=[],F=[],V=[],z=[],$=[],L=[],O=[],T=[],w=0;w<256;w++)T[w]=w<128?w<<1:w<<1^283;var k=0,Y=0;for(w=0;w<256;w++){var Z=Y^Y<<1^Y<<2^Y<<3^Y<<4;Z=Z>>>8^255&Z^99,N[k]=Z,U[Z]=k;var W=T[k],K=T[W],x=T[K],X=257*T[Z]^16843008*Z;q[k]=X<<24|X>>>8,te[k]=X<<16|X>>>16,F[k]=X<<8|X>>>24,V[k]=X,X=16843009*x^65537*K^257*W^16843008*k,z[Z]=X<<24|X>>>8,$[Z]=X<<16|X>>>16,L[Z]=X<<8|X>>>24,O[Z]=X,k?(k=W^T[T[T[x^W]]],Y^=T[T[Y]]):k=Y=1}var H=[0,1,2,4,8,16,32,64,128,27,54],j=y.AES=u.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var ae=this._keyPriorReset=this._key,ce=ae.words,ne=ae.sigBytes/4,Qe=4*((this._nRounds=ne+6)+1),De=this._keySchedule=[],Fe=0;Fe<Qe;Fe++)Fe<ne?De[Fe]=ce[Fe]:(ft=De[Fe-1],Fe%ne?ne>6&&Fe%ne==4&&(ft=N[ft>>>24]<<24|N[ft>>>16&255]<<16|N[ft>>>8&255]<<8|N[255&ft]):(ft=N[(ft=ft<<8|ft>>>24)>>>24]<<24|N[ft>>>16&255]<<16|N[ft>>>8&255]<<8|N[255&ft],ft^=H[Fe/ne|0]<<24),De[Fe]=De[Fe-ne]^ft);for(var pe=this._invKeySchedule=[],ot=0;ot<Qe;ot++){if(Fe=Qe-ot,ot%4)var ft=De[Fe];else ft=De[Fe-4];pe[ot]=ot<4||Fe<=4?ft:z[N[ft>>>24]]^$[N[ft>>>16&255]]^L[N[ft>>>8&255]]^O[N[255&ft]]}}},encryptBlock:function(ae,ce){this._doCryptBlock(ae,ce,this._keySchedule,q,te,F,V,N)},decryptBlock:function(ae,ce){var ne=ae[ce+1];ae[ce+1]=ae[ce+3],ae[ce+3]=ne,this._doCryptBlock(ae,ce,this._invKeySchedule,z,$,L,O,U),ne=ae[ce+1],ae[ce+1]=ae[ce+3],ae[ce+3]=ne},_doCryptBlock:function(ae,ce,ne,Qe,De,Fe,pe,ot){for(var ft=this._nRounds,yt=ae[ce]^ne[0],Ot=ae[ce+1]^ne[1],ge=ae[ce+2]^ne[2],Ee=ae[ce+3]^ne[3],fe=4,ie=1;ie<ft;ie++){var ue=Qe[yt>>>24]^De[Ot>>>16&255]^Fe[ge>>>8&255]^pe[255&Ee]^ne[fe++],de=Qe[Ot>>>24]^De[ge>>>16&255]^Fe[Ee>>>8&255]^pe[255&yt]^ne[fe++],le=Qe[ge>>>24]^De[Ee>>>16&255]^Fe[yt>>>8&255]^pe[255&Ot]^ne[fe++],Ve=Qe[Ee>>>24]^De[yt>>>16&255]^Fe[Ot>>>8&255]^pe[255&ge]^ne[fe++];yt=ue,Ot=de,ge=le,Ee=Ve}ue=(ot[yt>>>24]<<24|ot[Ot>>>16&255]<<16|ot[ge>>>8&255]<<8|ot[255&Ee])^ne[fe++],de=(ot[Ot>>>24]<<24|ot[ge>>>16&255]<<16|ot[Ee>>>8&255]<<8|ot[255&yt])^ne[fe++],le=(ot[ge>>>24]<<24|ot[Ee>>>16&255]<<16|ot[yt>>>8&255]<<8|ot[255&Ot])^ne[fe++],Ve=(ot[Ee>>>24]<<24|ot[yt>>>16&255]<<16|ot[Ot>>>8&255]<<8|ot[255&ge])^ne[fe++],ae[ce]=ue,ae[ce+1]=de,ae[ce+2]=le,ae[ce+3]=Ve},keySize:8});return p.AES=u._createHelper(j),Q.AES}(I(1),(I(15),I(4),I(9),I(18)))},function(_,m,I){_.exports=I(1).enc.Utf8},function(_,m,I){function Q(te){var F;return(q[te]||(F=q[te]={i:te,l:!1,exports:{}},U[te].call(F.exports,F,F.exports,Q),F.l=!0,F)).exports}var p,u,y,N,U,q;_.exports=(p=I(8),u=I(4),y=I(5),N=I(6),U=[function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.LinkedList=F.ListNode=F.ENUM_CONNECT_STATE=F.ENUM_NETWORK_STATE=F.SOCKET_DISCONNECT=F.errorList=F.Queue=F.getSeq=F.E_CLIENT_TYPE=F.ENUM_LOG_LEVEL=F.ENUM_REMOTE_TYPE=F.ZEGO_BROWSER_TYPE=F.ZEGO_ENV=F.PROTO_VERSION=void 0,F.PROTO_VERSION="1.0.2",($=F.ZEGO_ENV||(F.ZEGO_ENV={}))[$.BROWSER=0]="BROWSER",$[$.WEIXINMINI=1]="WEIXINMINI",($=F.ZEGO_BROWSER_TYPE||(F.ZEGO_BROWSER_TYPE={}))[$.IE=0]="IE",$[$.FIREFOX=1]="FIREFOX",$[$.CHROME=2]="CHROME",$[$.SAFARI=3]="SAFARI",$[$.OPERA=4]="OPERA",$[$.WEIXIN=5]="WEIXIN",$[$.WEIXINMINI=6]="WEIXINMINI",$[$.UNKOWN=7]="UNKOWN",($=F.ENUM_REMOTE_TYPE||(F.ENUM_REMOTE_TYPE={}))[$.DISABLE=0]="DISABLE",$[$.WEBSOCKET=1]="WEBSOCKET",$[$.HTTPS=2]="HTTPS",F.ENUM_LOG_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},($=F.E_CLIENT_TYPE||(F.E_CLIENT_TYPE={}))[$.ClientType_None=0]="ClientType_None",$[$.ClientType_H5=1]="ClientType_H5",$[$.ClientType_SmallPragram=2]="ClientType_SmallPragram",$[$.ClientType_Webrtc=3]="ClientType_Webrtc",F.getSeq=(z=1,function(){return z++}),L.prototype.isEmpty=function(){return this.items.length==0},L.prototype.enqueue=function(k){this.items.push(k)},L.prototype.dequeue=function(){return this.isEmpty()?"Underflow":this.items.shift()},L.prototype.front=function(){return this.isEmpty()?"No elements in Queue":this.items[0]},L.prototype.size=function(){return this.items.length},L.prototype.clear=function(){this.items=[]},L.prototype.all=function(){return this.items};var z,$=L;function L(){this.items=[],this.items=[]}F.Queue=$,F.errorList={TIMEOUT:{code:100001,msg:"network timeout"},DATAEXIST:{code:100002,msg:"data exist"},BROKEN:{code:100003,msg:"network broken"}},F.SOCKET_DISCONNECT=-1,($=F.ENUM_NETWORK_STATE||(F.ENUM_NETWORK_STATE={}))[$.offline=0]="offline",$[$.online=1]="online",($=F.ENUM_CONNECT_STATE||(F.ENUM_CONNECT_STATE={}))[$.disconnected=0]="disconnected",$[$.connecting=1]="connecting",$[$.connected=2]="connected",Object.defineProperty(T.prototype,"id",{get:function(){return this._id||null},set:function(k){this._id=k},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"data",{get:function(){return this._data},set:function(k){this._data=k},enumerable:!1,configurable:!0}),T.prototype.hasNext=function(){return this.next&&this.next.id},T.prototype.hasPrev=function(){return this.prev&&this.prev.id};var O=T;function T(k,Y){k===void 0&&(k=null),Y===void 0&&(Y=null),this.next=null,this.prev=null,this._id=k,this._data=Y}function w(){this.start=new O,this.end=new O,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}F.ListNode=O,w.prototype.insertBefore=function(k,Y){return(Y=new O(this._idCounter,Y)).next=k,Y.prev=k.prev,k.prev&&(k.prev.next=Y),k.prev=Y,++this._idCounter,++this._numNodes,Y},w.prototype.addLast=function(k){return this.insertBefore(this.end,k)},w.prototype.add=function(k){return this.addLast(k)},w.prototype.getFirst=function(){return this._numNodes===0?null:this.start.next},w.prototype.getLast=function(){return this._numNodes===0?null:this.end.prev},w.prototype.size=function(){return this._numNodes},w.prototype.getFromFirst=function(k){var Y=0,Z=this.start.next;if(0<=k)for(;Y<k&&Z!==null;)Z=Z.next,++Y;else Z=null;if(Z===null)throw"Index out of bounds.";return Z},w.prototype.get=function(k){return k===0?this.getFirst():k===this._numNodes-1?this.getLast():this.getFromFirst(k)},w.prototype.remove=function(k){return k.prev&&(k.prev.next=k.next),k.next&&(k.next.prev=k.prev),--this._numNodes,k},w.prototype.removeFirst=function(){return 0<this._numNodes&&this.start.next?this.remove(this.start.next):null},w.prototype.removeLast=function(){return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):null},w.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},w.prototype.each=function(k){for(var Y=this.start;Y.hasNext();)k(Y=Y.next)},w.prototype.find=function(k){for(var Y=this.start,Z=!1,W=null;Y.hasNext()&&!Z;)k(Y=Y.next)&&(W=Y,Z=!0);return W},w.prototype.map=function(k){for(var Y=this.start,Z=[];Y.hasNext();)k(Y=Y.next)&&Z.push(Y);return Z},w.prototype.push=function(k){return this.addLast(k)},w.prototype.unshift=function(k){0<this._numNodes?this.insertBefore(this.start.next,k):this.insertBefore(this.end,k)},w.prototype.pop=function(){return this.removeLast()},w.prototype.shift=function(){return this.removeFirst()},F.LinkedList=w},function(te,F,V){var z=this&&this.__read||function(Z,W){var K=typeof Symbol=="function"&&Z[Symbol.iterator];if(!K)return Z;var x,X,H=K.call(Z),j=[];try{for(;(W===void 0||0<W--)&&!(x=H.next()).done;)j.push(x.value)}catch(ae){X={error:ae}}finally{try{x&&!x.done&&(K=H.return)&&K.call(H)}finally{if(X)throw X.error}}return j},$=this&&this.__spread||function(){for(var Z=[],W=0;W<arguments.length;W++)Z=Z.concat(z(arguments[W]));return Z},L=(Object.defineProperty(F,"__esModule",{value:!0}),F.ContextAPI=F.suppressInstrumentation=F.ROOT_CONTEXT=F.BaseContext=F.setSpan=F.getSpanContext=F.getSpan=F.createContextKey=void 0,V(16));function O(Z){return Symbol.for(Z)}var T=(F.createContextKey=O)("OpenTelemetry Context Key SUPPRESS_INSTRUMENTATION"),w=O("OpenTelemetry Context Key SPAN");function k(Z){return Z.getValue(w)||void 0}function Y(Z){this.name=Z,this.contextManager=new L.StackContextManager}F.getSpan=k,F.getSpanContext=function(Z){return(Z=k(Z))==null?void 0:Z.context()},F.setSpan=function(Z,W){return Z.setValue(w,W)},F.BaseContext=V=function Z(W){var K=this;K._currentContext=W?new Map(W):new Map,K.getValue=function(x){return K._currentContext.get(x)},K.setValue=function(x,X){var H=new Z(K._currentContext);return H._currentContext.set(x,X),H},K.deleteValue=function(x){var X=new Z(K._currentContext);return X._currentContext.delete(x),X}},F.ROOT_CONTEXT=new V,F.suppressInstrumentation=function(Z){return Z.setValue(T,!0)},Y.getInstance=function(Z){return Z===void 0&&(Z="context"),this._instance||(this._instance=new Y(Z)),this._instance},Y.prototype.active=function(){return this.contextManager.active()},Y.prototype.with=function(Z,W,K){for(var x,X=[],H=3;H<arguments.length;H++)X[H-3]=arguments[H];return(x=this._getContextManager()).with.apply(x,$([Z,W,K],X))},Y.prototype._getContextManager=function(){return this.contextManager},F.ContextAPI=Y},function(te,F,V){var z,$;Object.defineProperty(F,"__esModule",{value:!0}),F.INVALID_SPAN_CONTEXT=F.INVALID_TRACEID=F.INVALID_SPANID=F.TraceFlags=F.SpanKind=F.SpanStatusCode=void 0,(z=F.SpanStatusCode||(F.SpanStatusCode={}))[z.UNSET=0]="UNSET",z[z.OK=1]="OK",z[z.ERROR=2]="ERROR",(z=F.SpanKind||(F.SpanKind={}))[z.INTERNAL=0]="INTERNAL",z[z.SERVER=1]="SERVER",z[z.CLIENT=2]="CLIENT",z[z.PRODUCER=3]="PRODUCER",z[z.CONSUMER=4]="CONSUMER",($=z=F.TraceFlags||(F.TraceFlags={}))[$.NONE=0]="NONE",$[$.SAMPLED=1]="SAMPLED",F.INVALID_SPANID="0000000000000000",F.INVALID_TRACEID="00000000000000000000000000000000",F.INVALID_SPAN_CONTEXT={traceId:F.INVALID_TRACEID,spanId:F.INVALID_SPANID,traceFlags:z.NONE}},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.log=F.ZegoLog=void 0,$.prototype.log=function(){for(var L=[],O=0;O<arguments.length;O++)L[O]=arguments[O];var T=L.join("");console.log(T)},$.prototype.debug=function(){for(var L=[],O=0;O<arguments.length;O++)L[O]=arguments[O];var T=L.join("");console.debug(T)},$.prototype.info=function(){for(var L=[],O=0;O<arguments.length;O++)L[O]=arguments[O];var T=L.join("");console.info(T)},$.prototype.warn=function(){for(var L=[],O=0;O<arguments.length;O++)L[O]=arguments[O];var T=L.join("");console.warn(T)},$.prototype.error=function(){for(var L=[],O=0;O<arguments.length;O++)L[O]=arguments[O];var T=L.join("");console.error(T)};var z=$;function $(){}z=new(F.ZegoLog=z),F.log=z},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.FAIL_TIME=F.FAIL_MAX_COUNT=F.FAIL_COUNT=F.STORE_SIZE=F.CACHE_SIZE=F.BUCKET_CONFIG=F.DEFAULT_CONFIG=void 0,F.DEFAULT_CONFIG={importantLevel:0,reportSize:3e3,reportNum:10,bps:16e3,netTimeout:10},F.BUCKET_CONFIG={bucketSize:1e4,tokensPerInterval:1600},F.CACHE_SIZE={totalAvailCache:102400,cacheMaxSize:2e4,cacheDelPer:.2},F.STORE_SIZE={totalDBSize:2048e3,storeDelPer:.2},F.FAIL_COUNT=5,F.FAIL_MAX_COUNT=10,F.FAIL_TIME=30},function(te,F,V){var z=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}},$=(Object.defineProperty(F,"__esModule",{value:!0}),F.uuid=F.calculateMemSize=F.analyzeKey=F.getCurrentTime=F.getCurrentEnv=F.getBrowser=void 0,V(0)),L=z(V(31)),O=(F.getBrowser=function(){var T=window.navigator.userAgent,w=window.ActiveXObject!=null&&T.indexOf("MSIE")!=-1,k=T.indexOf("Firefox")!=-1,Y=window.opr!=null,Z=T.indexOf("Chrome")&&window.chrome,W=T.indexOf("Safari")!=-1&&T.indexOf("Version")!=-1;return T=T.toLowerCase().match(/MicroMessenger/i)&&T.toLowerCase().match(/MicroMessenger/i)[0]==="micromessenger",w?$.ZEGO_BROWSER_TYPE.IE:k?$.ZEGO_BROWSER_TYPE.FIREFOX:Y?$.ZEGO_BROWSER_TYPE.OPERA:Z?$.ZEGO_BROWSER_TYPE.CHROME:W?$.ZEGO_BROWSER_TYPE.SAFARI:T?$.ZEGO_BROWSER_TYPE.WEIXIN:$.ZEGO_BROWSER_TYPE.UNKOWN},F.getCurrentEnv=function(){var T=window.navigator.userAgent;return new Promise(function(w){T.indexOf("MicroMessage")==-1?w($.ZEGO_ENV.BROWSER):wx.miniProgram.getEnv(function(k){k.miniprogram})})},["00","01","02","03","04","05","06","07","08","09"]);F.getCurrentTime=function(){var T=new Date;return[T.getFullYear()+"/",(O[T.getMonth()+1]||T.getMonth()+1)+"/",(O[T.getDate()]||T.getDate())+" ",(O[T.getHours()]||T.getHours())+":",(O[T.getMinutes()]||T.getMinutes())+":",O[T.getSeconds()]||T.getSeconds(),"."+T.getTime()%1e3].join("")},F.analyzeKey=function(T){return T=T.split("_"),{level:Number(T[0]),timestamp:T[1],seq:T[2]}},F.calculateMemSize=function(T){return L.default(T)},F.uuid=function(T,w){var k,Y,Z="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),W=[];if(w=w||Z.length,T)for(k=0;k<T;k++)W[k]=Z[0|Math.random()*w];else for(W[8]=W[13]=W[18]=W[23]="-",W[14]="4",k=0;k<36;k++)W[k]||(Y=0|16*Math.random(),W[k]=Z[k==19?3&Y|8:Y]);return W.join("")}},function(te,F,V){var z=this&&this.__values||function(O){var T=typeof Symbol=="function"&&Symbol.iterator,w=T&&O[T],k=0;if(w)return w.call(O);if(O&&typeof O.length=="number")return{next:function(){return{value:(O=O&&k>=O.length?void 0:O)&&O[k++],done:!O}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")},$=this&&this.__read||function(O,T){var w=typeof Symbol=="function"&&O[Symbol.iterator];if(!w)return O;var k,Y,Z=w.call(O),W=[];try{for(;(T===void 0||0<T--)&&!(k=Z.next()).done;)W.push(k.value)}catch(K){Y={error:K}}finally{try{k&&!k.done&&(w=Z.return)&&w.call(Z)}finally{if(Y)throw Y.error}}return W};function L(O){var T,w,k;if(O!=null&&Array.isArray(O))try{for(var Y=z(O),Z=Y.next();!Z.done;Z=Y.next()){var W=Z.value;if(W!=null)if(k){if(typeof W!==k)return!1}else k=typeof W}}catch(K){T={error:K}}finally{try{Z&&!Z.done&&(w=Y.return)&&w.call(Y)}finally{if(T)throw T.error}}return!0}Object.defineProperty(F,"__esModule",{value:!0}),F.sanitizeAttributes=F.isAttributeValue=void 0,F.isAttributeValue=L,F.sanitizeAttributes=function(O){var T,w,k={};if(O!=null&&typeof O=="object")try{for(var Y=z(Object.entries(O)),Z=Y.next();!Z.done;Z=Y.next()){var W=$(Z.value,2),K=W[0],x=W[1];L(x)&&(Array.isArray(x)?k[K]=x.slice():k[K]=x)}}catch(X){T={error:X}}finally{try{Z&&!Z.done&&(w=Y.return)&&w.call(Y)}finally{if(T)throw T.error}}return k}},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.IdGenerator=void 0;var z=Array(32);function $(L){return function(){for(var O=0;O<2*L;O++)z[O]=Math.floor(16*Math.random())+48,58<=z[O]&&(z[O]+=39);return String.fromCharCode.apply(null,z.slice(0,2*L))}}F.IdGenerator=function(){this.generateTraceId=$(16),this.generateSpanId=$(8),this.generateEventId=$(4)}},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.Resource=F.SDK_INFO=F.SemanticResourceAttributes=void 0,F.SemanticResourceAttributes={PROCESS_RUNTIME_NAME:"process.runtime.name",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version"},F.SDK_INFO=((z={})[F.SemanticResourceAttributes.TELEMETRY_SDK_NAME]="opentelemetry",z[F.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]="browser",z[F.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]="webjs",z[F.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=F.VERSION,z),$.empty=function(){return $.EMPTY},$.createTelemetrySDKResource=function(){var L;return new $(((L={})[F.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]=F.SDK_INFO[F.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],L[F.SemanticResourceAttributes.TELEMETRY_SDK_NAME]=F.SDK_INFO[F.SemanticResourceAttributes.TELEMETRY_SDK_NAME],L[F.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=F.SDK_INFO[F.SemanticResourceAttributes.TELEMETRY_SDK_VERSION],L))},$.prototype.merge=function(L){return L&&Object.keys(L.attributes).length?new $(Object.assign({},this.attributes,L.attributes)):this},$.EMPTY=new $({});var z=$;function $(L){this.attributes=L}F.Resource=z},function(te,F,V){var z=this&&this.__values||function(Z){var W=typeof Symbol=="function"&&Symbol.iterator,K=W&&Z[W],x=0;if(K)return K.call(Z);if(Z&&typeof Z.length=="number")return{next:function(){return{value:(Z=Z&&x>=Z.length?void 0:Z)&&Z[x++],done:!Z}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")},$=this&&this.__read||function(Z,W){var K=typeof Symbol=="function"&&Z[Symbol.iterator];if(!K)return Z;var x,X,H=K.call(Z),j=[];try{for(;(W===void 0||0<W--)&&!(x=H.next()).done;)j.push(x.value)}catch(ae){X={error:ae}}finally{try{x&&!x.done&&(K=H.return)&&K.call(H)}finally{if(X)throw X.error}}return j},L=(Object.defineProperty(F,"__esModule",{value:!0}),F.Span=void 0,V(6)),O=V(1),T=V(2),w=V(7),k=V(17);function Y(Z,W,K,x,X,H,j,ae){ae===void 0&&(ae=[]),this.attributes={},this.links=[],this.events=[],this.status={code:T.SpanStatusCode.UNSET},this.endTime=0,this._ended=!1,this._duration=0,this.exported=!0,this.contextAPI=Z.context,this.reporter=Z.reporter,this.spanProcessor=Z.spanProcessor,this.parentTracer=Z,this.name=K,this.level=x,this.spanContext=X,this.parentSpanId=j,this.kind=H,this.links=ae,this.startTime=Date.now(),this.resource=Z.resource,this.instrumentationLibrary=Z.instrumentationLibrary,this._traceParams=Z.getActiveTraceParams(),this._idGenerator=new w.IdGenerator}Y.prototype.context=function(){return this.spanContext},Y.prototype.setAttribute=function(Z,W){return W==null||Z.length===0||!L.isAttributeValue(W)||Object.keys(this.attributes).length>=this._traceParams.numberOfAttributesPerSpan&&!Object.prototype.hasOwnProperty.call(this.attributes,Z)||(this.attributes[Z]=W),this},Y.prototype.appendAttribute=function(Z,W){return W==null||Z.length===0||!L.isAttributeValue(W)||Object.keys(this.attributes).length>=this._traceParams.numberOfAttributesPerSpan&&!Object.prototype.hasOwnProperty.call(this.attributes,Z)||(this.attributes[Z]&&Array.isArray(this.attributes[Z])?this.attributes[Z].push(W):this.attributes[Z]=[W]),this},Y.prototype.setAttributes=function(Z){var W,K;try{for(var x=z(Object.entries(Z)),X=x.next();!X.done;X=x.next()){var H=$(X.value,2),j=H[0],ae=H[1];this.setAttribute(j,ae)}}catch(ce){W={error:ce}}finally{try{X&&!X.done&&(K=x.return)&&K.call(x)}finally{if(W)throw W.error}}return this},Y.prototype.addEvent=function(Z,W,K){this.events.length>=this._traceParams.numberOfEventsPerSpan&&this.events.shift();var x=this._idGenerator.generateEventId();return k.isTimeInput(W)&&(K===void 0&&(K=W),W=void 0),K===void 0&&(K=k.hrTime()),this.events.push({name:Z,attributes:W,time:k.timeInputToHrTime(K),event_id:x}),this},Y.prototype.setStatus=function(Z){return this.status=Z,this},Y.prototype.updateName=function(Z){return this.name=Z,this},Y.prototype.end=function(Z){var W,K=this;this._isSpanEnded()||(this._ended=!0,this.resource=this.parentTracer.resource,this.spanProcessor.spanBeforeEnd&&this.spanProcessor.spanBeforeEnd(this),W=k.getCurrentTime(),this.setAttribute("e_time_s",W),this.endTime=Date.now(),this._duration=this.endTime-this.startTime,this.contextAPI.with(O.suppressInstrumentation(this.contextAPI.active()),function(){var x=K.toReporterSpan(K);K.spanProcessor.spanEnd&&K.spanProcessor.spanEnd(x,K.level),x.droped||Z===!1||(delete x.droped,K.reporter.report(JSON.stringify(x),K.level))}))},Y.prototype.spanReport=function(){var Z=this.toReporterSpan(this);this.reporter.report(JSON.stringify(Z),this.level)},Y.prototype.isRecording=function(){return this._ended===!1},Object.defineProperty(Y.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Y.prototype._isSpanEnded=function(){return this._ended,this._ended},Y.prototype.toReporterSpan=function(Z){var W=[],K=(Z.events.forEach(function(x){var X={};Object.keys(x).forEach(function(H){H==="name"&&(X[H]=x[H]),H==="time"&&(X.timestamp=k.hrTimeToMilliseconds(x[H])),H==="attributes"&&(X.tags=x[H])}),W.push(X)}),[]);return Z.links.forEach(function(x){K.push({span_id:x.context.spanId,trace_id:x.context.traceId})}),{trace_id:Z.spanContext.traceId,parent_span_id:Z.parentSpanId,name:Z.name,span_id:Z.spanContext.spanId,kind:Z.kind,start_time:Z.startTime,end_time:Z.endTime,duration:Z.duration,logs:W,tags:Z.attributes,links:K}},F.Span=Y},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.ZegoSpan=void 0;var z=V(3),$=V(9);function L(O,T){this.spanId=O,this.span=T}L.prototype.setAttribute=function(O,T){var w=this;return this.span?this.span.setAttribute(O,T):this._activeSpan().then(function(){w.span&&w.span.setAttribute(O,T)}),this},L.prototype.setAttributes=function(O){var T=this;return this.span?this.span.setAttributes(O):this._activeSpan().then(function(){T.span&&T.span.setAttributes(O)}),this},L.prototype.appendAttribute=function(O,T){var w=this;return this.span?this.span.appendAttribute(O,T):this._activeSpan().then(function(){w.span&&w.span.appendAttribute(O,T)}),this},L.prototype.addEvent=function(O,T,w){var k=this;return this.span?this.span.addEvent(O,T,w):this._activeSpan().then(function(){k.span&&k.span.addEvent(O,T,w)}),this},L.prototype.setStatus=function(O){var T=this;return this.span?this.span.setStatus(O):this._activeSpan().then(function(){T.span&&T.span.setStatus(O)}),this},L.prototype.updateName=function(O){var T=this;return this.span?this.span.updateName(O):this._activeSpan().then(function(){T.span&&T.span.updateName(O)}),this},L.prototype.end=function(O){var T=this;O===void 0&&(O=!0),this.span?this.span.end(O):this._activeSpan(!0).then(function(){T.span&&T.span.end(O),T._spanEnd()})},L.prototype.setSpanActive=function(O){this.activeCallback=O},L.prototype.setSpanEnd=function(O){this.endCallback=O},L.prototype.spanReport=function(){var O;(O=this.span)!=null&&O.spanReport()},L.prototype._spanEnd=function(){this._isSpanNoop()||(this.removeStoreItem(this.spanId),this.endCallback&&this.endCallback(this.spanInfo))},L.prototype._isSpanNoop=function(){return this.spanId==="noop"},L.prototype._activeSpan=function(O){var T=this;return O===void 0&&(O=!1),new Promise(function(w,k){T.store.getItem(T.spanId).then(function(Y){var Z=new $.Span(L.tracer,L.tracer.context.active(),Y.name,Y.level,Y.spanContext,Y.kind,Y.parentSpanId,Y.links);Z.setStatus(Y.status),Z.setAttributes(Y.attributes),T.span=Z,T.activeCallback&&T.activeCallback(T.spanId,O),w()}).catch(function(Y){k(Y)})})},L.prototype.removeStoreItem=function(O){var T=this;this.store.getItem(O).then(function(w){w&&T.store.removeItem(O).then(function(){z.log.log("remove suc")}).catch(function(k){z.log.warn("remove fail")})})},F.ZegoSpan=L},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.createZegoStore=F.ZegoWechatMiniStore=F.ZEGO_ENV=void 0;var z,$,L=V(12),O=(($=z=F.ZEGO_ENV||(F.ZEGO_ENV={}))[$.BROWSER=0]="BROWSER",$[$.WEIXINMINI=1]="WEIXINMINI",V(3)),T=(w.prototype.getItem=function(k){var Y=this;return new Promise(function(Z,W){try{Z(wx.getStorageSync(Y.keyPrefix+k))}catch(K){W(K)}})},w.prototype.setItem=function(k,Y){var Z=this;return new Promise(function(W,K){try{wx.setStorageSync(Z.keyPrefix+k,Y),W()}catch(x){K(x)}})},w.prototype.removeItem=function(k){var Y=this;return new Promise(function(Z,W){try{Z(wx.removeStorageSync(Y.keyPrefix+k))}catch(K){W(K)}})},w.prototype.clear=function(){return new Promise(function(k,Y){try{wx.clearStorageSync(),k()}catch(Z){Y(Z)}})},w.prototype.keys=function(){var k=this;return new Promise(function(Y,Z){try{var W=wx.getStorageInfoSync().keys,K=(O.log.warn("keys",W),[]);W.forEach(function(x){x.indexOf(k.keyPrefix)==0&&K.push(x.replace(k.keyPrefix,""))}),O.log.warn("keyArr",JSON.stringify(K)),K.sort(),Y(K)}catch(x){Z(x)}})},w);function w(k){this.storeName=k,this.keyPrefix=k+"/",this.storeName}F.ZegoWechatMiniStore=T,F.createZegoStore=function(k,Y,Z){return Y===z.BROWSER?L.createInstance({name:k+":"+(Z||"store")}):new T(k)}},function(te,F){te.exports=p},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.DynamicCode=F.ZegoTracer=F.ZegoSpan=void 0;var z=V(14),$=(Object.defineProperty(F,"ZegoTracer",{enumerable:!0,get:function(){return z.ZegoTracer}}),V(46)),L=(Object.defineProperty(F,"DynamicCode",{enumerable:!0,get:function(){return $.DynamicCode}}),V(10));Object.defineProperty(F,"ZegoSpan",{enumerable:!0,get:function(){return L.ZegoSpan}})},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.ZegoTracer=void 0;var z=V(15),$=V(21),L=V(10),O=V(22),T=V(3),w=V(1),k=V(8),Y=V(23),Z=V(39),W=V(11),K=V(44),x=V(45);function X(){this._maxTracingSpanSize=O.DEFAULT_MAX_SPAN_SIZE,this.level=0,this.log=new K.ZegoLog,this.stateCenter=new x.StateCenter(this.log)}X.prototype.init=function(H){this.options=H,this.name=H.product,this.reporter=new Y.ZegoDataReport(this.name,this.stateCenter),this.reporter.init({appID:H.appID,env:H.env||0,importantLevel:H.importantLevel,levels:H.levels,deviceID:H.deviceID,bps:H.bps,serverUrl:H.serverUrl}),this.tracer=new z.Tracer({name:this.name,version:H.version},{resource:new k.Resource(H.resources)},this.reporter,{spanStart:H.spanStart,spanBeforeEnd:H.spanBeforeEnd,spanEnd:H.spanEnd}),this.reporter.setProcessData(this.tracer.resource.attributes),this.initRoot(this.options),this.dyStore=W.createZegoStore(H.product+"_"+H.appID+"_dy",H.env||0)},X.prototype.initRoot=function(H){this.rootSpan=this.tracer.startSpan("root",0);var j=w.setSpan(this.tracer.context.active(),this.rootSpan);this.tracer.context._getContextManager()._currentContext=j,this.rootSpan.end()},X.prototype.createSpan=function(H,j,ae){var ce,ne;return H<=this.level?(ce=ae&&ae.parent?w.setSpan(this.tracer.context.active(),ae.parent.span):w.setSpan(this.tracer.context.active(),this.rootSpan),ne=[],ae&&ae.linkSpans&&(ae.linkSpans.forEach(function(Qe){ne.push({context:Qe.span.context()})}),delete ae.linkSpans),j=this.tracer.startSpan(j,H,Object.assign({},ae,{links:ne}),ce),H=new L.ZegoSpan(j.spanContext.spanId,j),L.ZegoSpan.tracer=this.tracer,H):(T.log.warn("createSpan level not fix"),new L.ZegoSpan(O.NOOP_SPAN_ID,new $.NoopSpan))},X.prototype.setLogger=function(H){this.stateCenter.logger=H},X.prototype.setTimeOffset=function(H){this.reporter.setTimeOffset(H)},X.prototype.setWaitNtpTimeout=function(H){this.reporter.setWaitNtpTimeout(H)},X.prototype.setLogLevel=function(H){return this.stateCenter._log.setLogLevel(H)},X.prototype.startReport=function(H){return this.reporter.startReport(H)},X.prototype.setConfig=function(H){this.reporter.setConfig(H)},X.prototype.loadJs=function(H,j,ae,ce,ne,Qe){return Z.loadJS(H,this.dyStore,j,ae,ce,ne,Qe)},X.prototype.flush=function(H){this.reporter.flush(H)},X.prototype.setUnloadState=function(H){this.reporter.setUnloadState(H)},X.prototype.shutdown=function(){this.reporter.saveDataBeforeUnload()},X.prototype.destroy=function(){this.reporter.uninit()},X.prototype.setSampleConfig=function(H){this.level=H.level||this.level},X.prototype.setResource=function(H){this.tracer.setResource(H),this.reporter.setProcessData(this.tracer.resource.attributes)},X.prototype.setNetStateCheck=function(){this.reporter.setNetStateCheck()},F.ZegoTracer=X},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.Tracer=void 0;var z=V(6),$=V(1),L=V(2),O=V(7),T=V(8),w=V(9),k=V(18),Y=V(19);function Z(W,K,x,X){var H=Y.mergeConfig(K);this._traceParams=H.traceParams,this._idGenerator=new O.IdGenerator,this.resource=(H=K.resource)!=null?H:T.Resource.createTelemetrySDKResource(),this.instrumentationLibrary=W,K=Math.random().toString(36).slice(-6),this.context=new $.ContextAPI(K),this.reporter=x,this.spanProcessor=X||{}}Z.prototype.startSpan=function(W,K,x,X){var H,j,ae,ce=function(Fe,pe){if(!Fe.root)return $.getSpanContext(pe)}(x=x===void 0?{}:x,X=X===void 0?this.context.active():X),ne=this._idGenerator.generateSpanId(),Qe=(ce&&k.isSpanContextValid(ce)?(H=ce.traceId,j=ce.traceState,ae=ce.spanId):H=this._idGenerator.generateTraceId(),ce=(ce=x.kind)!=null?ce:L.SpanKind.INTERNAL,(Qe=x.links)!=null?Qe:[]),De=(x=z.sanitizeAttributes(x.attributes),L.TraceFlags.NONE);return(X=new w.Span(this,X,W,K,{traceId:H,spanId:ne,traceFlags:De,traceState:j},ce,ae,Qe)).setAttributes(x),this.spanProcessor.spanStart&&this.spanProcessor.spanStart(X),X},Z.prototype.setResource=function(W){this.resource=this.resource.merge(new T.Resource(W))},Z.prototype.getActiveTraceParams=function(){return this._traceParams},F.Tracer=Z},function(te,F,V){var z=this&&this.__read||function(T,w){var k=typeof Symbol=="function"&&T[Symbol.iterator];if(!k)return T;var Y,Z,W=k.call(T),K=[];try{for(;(w===void 0||0<w--)&&!(Y=W.next()).done;)K.push(Y.value)}catch(x){Z={error:x}}finally{try{Y&&!Y.done&&(k=W.return)&&k.call(W)}finally{if(Z)throw Z.error}}return K},$=this&&this.__spread||function(){for(var T=[],w=0;w<arguments.length;w++)T=T.concat(z(arguments[w]));return T},L=(Object.defineProperty(F,"__esModule",{value:!0}),F.StackContextManager=void 0,V(1));function O(){this._enabled=!1,this._currentContext=L.ROOT_CONTEXT}O.prototype._bindFunction=function(T,w){function k(){for(var Z=this,W=[],K=0;K<arguments.length;K++)W[K]=arguments[K];return Y.with(w,function(){return T.apply(Z,W)})}w===void 0&&(w=L.ROOT_CONTEXT);var Y=this;return Object.defineProperty(k,"length",{enumerable:!1,configurable:!0,writable:!1,value:T.length}),k},O.prototype.active=function(){return this._currentContext},O.prototype.bind=function(T,w){return(w=w===void 0?L.ROOT_CONTEXT:w)===void 0&&(w=this.active()),typeof T=="function"?this._bindFunction(T,w):T},O.prototype.disable=function(){return this._currentContext=L.ROOT_CONTEXT,this._enabled=!1,this},O.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=L.ROOT_CONTEXT),this},O.prototype.with=function(T,w,k){for(var Y=[],Z=3;Z<arguments.length;Z++)Y[Z-3]=arguments[Z];var W=this._currentContext;this._currentContext=T||L.ROOT_CONTEXT;try{return w.call.apply(w,$([k],Y))}finally{this._currentContext=W}},F.StackContextManager=O},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.getCurrentTime=F.isTimeInput=F.hrTimeToMilliseconds=F.hrTimeDuration=F.timeInputToHrTime=F.isTimeInputHrTime=F.hrTime=void 0;var z=Math.pow(10,9),$=["00","01","02","03","04","05","06","07","08","09"];function L(k){k/=1e3;var Y=Math.trunc(k);return[Y,Number((k-Y).toFixed(9))*z]}function O(){var k,Y=performance.timeOrigin;return typeof Y!="number"?(k=performance).timing&&k.timing.fetchStart:Y}function T(k){var Y=L(O()),Z=(k=L(typeof k=="number"?k:performance.now()),Y[0]+k[0]);return Y=Y[1]+k[1],z<Y&&(Y-=z,Z+=1),[Z,Y]}function w(k){return Array.isArray(k)&&k.length===2&&typeof k[0]=="number"&&typeof k[1]=="number"}F.hrTime=T,F.isTimeInputHrTime=w,F.timeInputToHrTime=function(k){if(w(k))return k;if(typeof k=="number")return(k<O()?T:L)(k);if(k instanceof Date)return L(k.getTime());throw TypeError("Invalid input type")},F.hrTimeDuration=function(k,Y){var Z=Y[0]-k[0];return(Y=Y[1]-k[1])<0&&(--Z,Y+=z),[Z,Y]},F.hrTimeToMilliseconds=function(k){return Math.round(1e3*k[0]+k[1]/1e6)},F.isTimeInput=function(k){return w(k)||typeof k=="number"||k instanceof Date},F.getCurrentTime=function(){var k=new Date;return[k.getFullYear()+"/",($[k.getMonth()+1]||k.getMonth()+1)+"/",($[k.getDate()]||k.getDate())+" ",($[k.getHours()]||k.getHours())+":",($[k.getMinutes()]||k.getMinutes())+":",$[k.getSeconds()]||k.getSeconds(),"."+k.getTime()%1e3].join("")}},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.isSpanContextValid=F.isValidSpanId=F.isValidTraceId=F.INVALID_SPAN_CONTEXT=F.INVALID_TRACEID=F.INVALID_SPANID=void 0,V=V(2);var z=/^([0-9a-f]{32})$/i,$=/^[0-9a-f]{16}$/i;function L(T){return z.test(T)&&T!==F.INVALID_TRACEID}function O(T){return $.test(T)&&T!==F.INVALID_SPANID}F.INVALID_SPANID="0000000000000000",F.INVALID_TRACEID="00000000000000000000000000000000",F.INVALID_SPAN_CONTEXT={traceId:F.INVALID_TRACEID,spanId:F.INVALID_SPANID,traceFlags:V.TraceFlags.NONE},F.isValidTraceId=L,F.isValidSpanId=O,F.isSpanContextValid=function(T){return L(T.traceId)&&O(T.spanId)}},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.mergeConfig=void 0;var z=V(20);F.mergeConfig=function($){var L=Object.assign({},z.DEFAULT_CONFIG,$);return L.traceParams=Object.assign({},z.DEFAULT_CONFIG.traceParams,$.traceParams||{}),L}},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.DEFAULT_CONFIG=void 0,F.DEFAULT_CONFIG={traceParams:{numberOfAttributesPerSpan:128,numberOfLinksPerSpan:128,numberOfEventsPerSpan:128}}},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.NoopSpan=void 0;var z=V(2);function $(L){L===void 0&&(L=z.INVALID_SPAN_CONTEXT),this._spanContext=L}$.prototype.context=function(){return this._spanContext},$.prototype.setAttribute=function(L,O){return this},$.prototype.appendAttribute=function(L,O){return this},$.prototype.setAttributes=function(L){return this},$.prototype.addEvent=function(L,O,T){return this},$.prototype.setStatus=function(L){return this},$.prototype.updateName=function(L){return this},$.prototype.end=function(L){},$.prototype.isRecording=function(){return!1},$.prototype.spanReport=function(){},$.prototype.recordException=function(L,O){},F.NoopSpan=$},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.NOOP_SPAN_ID=F.SCHEDULED_DELAY_MILLIS=F.DEFAULT_MAX_SPAN_SIZE=F.readSpanKeys=void 0,F.readSpanKeys=["name","level","kind","spanContext","parentSpanId","startTime","endTime","status","attributes","links","events","duration","ended","resource","instrumentationLibrary"],F.DEFAULT_MAX_SPAN_SIZE=1e3,F.SCHEDULED_DELAY_MILLIS=3e3,F.NOOP_SPAN_ID="noop"},function(te,F,V){var z=this&&this.__assign||function(){return(z=Object.assign||function(H){for(var j,ae=1,ce=arguments.length;ae<ce;ae++)for(var ne in j=arguments[ae])Object.prototype.hasOwnProperty.call(j,ne)&&(H[ne]=j[ne]);return H}).apply(this,arguments)},$=this&&this.__awaiter||function(H,j,ae,ce){return new(ae=ae||Promise)(function(ne,Qe){function De(ot){try{pe(ce.next(ot))}catch(ft){Qe(ft)}}function Fe(ot){try{pe(ce.throw(ot))}catch(ft){Qe(ft)}}function pe(ot){var ft;ot.done?ne(ot.value):((ft=ot.value)instanceof ae?ft:new ae(function(yt){yt(ft)})).then(De,Fe)}pe((ce=ce.apply(H,j||[])).next())})},L=this&&this.__generator||function(H,j){var ae,ce,ne,Qe={label:0,sent:function(){if(1&ne[0])throw ne[1];return ne[1]},trys:[],ops:[]},De={next:Fe(0),throw:Fe(1),return:Fe(2)};return typeof Symbol=="function"&&(De[Symbol.iterator]=function(){return this}),De;function Fe(pe){return function(ot){var ft=[pe,ot];if(ae)throw new TypeError("Generator is already executing.");for(;Qe;)try{if(ae=1,ce&&(ne=2&ft[0]?ce.return:ft[0]?ce.throw||((ne=ce.return)&&ne.call(ce),0):ce.next)&&!(ne=ne.call(ce,ft[1])).done)return ne;switch(ce=0,(ft=ne?[2&ft[0],ne.value]:ft)[0]){case 0:case 1:ne=ft;break;case 4:return Qe.label++,{value:ft[1],done:!1};case 5:Qe.label++,ce=ft[1],ft=[0];continue;case 7:ft=Qe.ops.pop(),Qe.trys.pop();continue;default:if(!(ne=0<(ne=Qe.trys).length&&ne[ne.length-1])&&(ft[0]===6||ft[0]===2)){Qe=0;continue}if(ft[0]===3&&(!ne||ft[1]>ne[0]&&ft[1]<ne[3]))Qe.label=ft[1];else if(ft[0]===6&&Qe.label<ne[1])Qe.label=ne[1],ne=ft;else{if(!(ne&&Qe.label<ne[2])){ne[2]&&Qe.ops.pop(),Qe.trys.pop();continue}Qe.label=ne[2],Qe.ops.push(ft)}}ft=j.call(H,Qe)}catch(yt){ft=[6,yt],ce=0}finally{ae=ne=0}if(5&ft[0])throw ft[1];return{value:ft[0]?ft[1]:void 0,done:!0}}}},O=this&&this.__read||function(H,j){var ae=typeof Symbol=="function"&&H[Symbol.iterator];if(!ae)return H;var ce,ne,Qe=ae.call(H),De=[];try{for(;(j===void 0||0<j--)&&!(ce=Qe.next()).done;)De.push(ce.value)}catch(Fe){ne={error:Fe}}finally{try{ce&&!ce.done&&(ae=Qe.return)&&ae.call(Qe)}finally{if(ne)throw ne.error}}return De},T=this&&this.__spread||function(){for(var H=[],j=0;j<arguments.length;j++)H=H.concat(O(arguments[j]));return H},w=this&&this.__values||function(H){var j=typeof Symbol=="function"&&Symbol.iterator,ae=j&&H[j],ce=0;if(ae)return ae.call(H);if(H&&typeof H.length=="number")return{next:function(){return{value:(H=H&&ce>=H.length?void 0:H)&&H[ce++],done:!H}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")},k=(Object.defineProperty(F,"__esModule",{value:!0}),F.ZegoDataReport=void 0,V(0)),Y=V(24),Z=V(30),W=V(38),K=V(5),x=V(4);function X(H,j){this.stateCenter=j,this.QUEUE_MAX=100,this.cacheMaxSize=x.CACHE_SIZE.cacheMaxSize,this.cacheDelPer=x.CACHE_SIZE.cacheDelPer,this.state="normal",this.forceDataTotalLen=0,this.reportPackagesSize=0,this.staticConfig={totalAvailCache:x.CACHE_SIZE.totalAvailCache,totalDBSize:x.STORE_SIZE.totalDBSize,bps:1600},this.dataInDb=[],this.listenerList={progressUpdate:[],forceResult:[],postFail:[],dataDroped:[]},this.tempBuffer=[],this.traceType={MEM_I_API:0,MEM_O_DONE:0,MEM_O_DUMP:0,MEM_I_LOAD:0,DB_O_DROP:0,DB_O_DONE:0,DB_I_BACKUP:0},this.isPaused=!1,this.pro="json",this.isLoadReportData=!1,this.dropCount=0,this.timeInterval=!1,this.isWaitNtpTimeout=!1,this.waitNtpTimeout=2e3,this.postDataState="",this.product=H,this.reportMap=new Map}X.prototype.init=function(H){return $(this,void 0,void 0,function(){var j=this;return L(this,function(ae){switch(ae.label){case 0:return this.config=z(z({},x.DEFAULT_CONFIG),H),this.config.env%2!=1&&this.bindWindowListener(),this.zegoService=new Y.ZegoService(this.config.env||k.ZEGO_ENV.BROWSER,this.config.bps||x.DEFAULT_CONFIG.bps,this.product,this.pro,this.stateCenter),this.zegoService.setLogUrlParams({product:this.product,signature:this.config.token||"",appid:this.config.appID,id_name:this.config.userID||"",deviceid:this.config.deviceID||""}),this.config.serverUrl&&this.zegoService.setLogServer(this.config.serverUrl),this.zegoService.setPostSucCallback(this.product,this.postSucHandler.bind(this)),this.zegoService.setPostFailCallback(this.product,function(ce){return $(j,void 0,void 0,function(){return L(this,function(ne){switch(ne.label){case 0:return this.stateCenter.logger.warn("zt.zd.i fail"),this.postDataState="fail",this.dropCount++,this.storePackagesDataToDB(ce),[4,this.storePendingDataToDB(1)];case 1:return ne.sent(),this._actionListener("postFail"),[2]}})})}),this.initPendingQueue(),this.storeHandler=new Z.ZegoStoreHandler(this.product+"_"+this.config.appID+"_datareporter",K.uuid(6),this.config,this.traceType,this.staticConfig,this.stateCenter),this.storeHandler.setDropCallBack(function(ce){j.traceType.DB_O_DROP+=K.calculateMemSize(ce),j._actionListener("dataDroped",ce)}),[4,this.storeHandler.loadPendingData()];case 1:return ae.sent(),this.storeHandler.init().then(function(){j.loadReportData()}).catch(function(ce){console.warn(ce)}),this.startReportTimer(),this.setWaitNtpTimer(),this.checkCacheDataTimer(),[2]}})})},X.prototype.uninit=function(){this.isWaitNtpTimeout=!1,this.ntpTimer&&(clearTimeout(this.ntpTimer),this.ntpTimer=null),this.zegoService.destroy()},X.prototype.setConfig=function(H){typeof H=="object"&&typeof H.bps=="number"&&(this.config.bps=H.bps,this.zegoService.setBps(this.config.bps)),typeof H=="object"&&typeof H.totalDBSize=="number"&&(this.staticConfig.totalDBSize=H.totalDBSize),typeof H=="object"&&typeof H.serverUrl=="string"&&H.serverUrl!==""&&(this.config.serverUrl=H.serverUrl,this.zegoService.setLogServer(this.config.serverUrl))},X.prototype.pause=function(){this.isPaused=!0},X.prototype.resume=function(){this.isPaused=!1;var H=(j=this.pendingQueue.getPendingDataInfo()).pendingDataSize,j=j.size;this.checkPendingQueue(H,j)},X.prototype.startReport=function(H){var j=H.get("userID"),ae=H.get("token");return!(!j||typeof j!="string"||!ae||typeof ae!="string"||(this.startCommonField=H,this.config.userID=j,this.config.token=ae,this.zegoService.setLogUrlParams({product:this.product,signature:this.config.token,appid:this.config.appID,id_name:this.config.userID||"",deviceid:this.config.deviceID||""}),this.isWithNtp()&&this.bufferDump(),(j=H.get("serverUrl"))&&(this.config.serverUrl=j,this.zegoService.setLogServer(this.config.serverUrl)),this.isConfigOK(this.config)&&(H=(ae=this.pendingQueue.getPendingDataInfo()).pendingDataSize,j=ae.size,this.checkPendingQueue(H,j)),0))},X.prototype.setTimeOffset=function(H){var j=this;this.clientTimeOffset=H,this.tempBuffer.forEach(function(ae){(ae=ae.data).tags.time_offset||(ae.tags.time_offset=j.clientTimeOffset)}),this.config.userID&&this.bufferDump()},X.prototype.setProcessData=function(H){this.stateCenter.processData=H},X.prototype.on=function(H,j){return this._bindListener(H,j)},X.prototype.off=function(H,j){return this._deleteListener(H,j)},X.prototype.report=function(H,j){var ae;if(15e3<H.length)return!1;try{ae=JSON.parse(H)}catch{return!1}return this.stateCenter._log.debug(H+" "+j),(ae!=null&&ae.id_name||(H=ae==null?void 0:ae.tags)!=null&&H.id_name||this.config.userID)&&this.isWithNtp()?(ae!=null&&ae.id_name||(H=ae==null?void 0:ae.tags)!=null&&H.id_name?this.clientTimeOffset&&(ae.tags.time_offset=this.clientTimeOffset):(this.clientTimeOffset&&(ae.tags.time_offset=this.clientTimeOffset),ae.tags.id_name=this.config.userID),this.dumpData(JSON.stringify(ae),j)):this.tempBuffer.push({data:ae,level:j}),!0},X.prototype.setUnloadState=function(H){this.unloadLevel=H,this.state="unload"},X.prototype.dumpData=function(H,j){var ae=this,ce=K.calculateMemSize(H),ne=(this.traceType.MEM_I_API+=ce,k.getSeq()),Qe=new Date().getTime(),De={seq:ne,content:H,level:j,timestamp:Qe};this.state==="unload"?this.unloadLevel!==void 0&&j<=this.unloadLevel?(this.storeHandler.saveDataToStorage(De),this.pendingQueue.enqueue(De,j)):this.stateCenter._log.debug("level is low"):j<=this.config.importantLevel?(De.key=j+"_"+Qe+"_"+ne,this.dataInDb.push(De.key),this.storeHandler.storeData(De).then(function(Fe){ae.pendingQueue.enqueue(De,j),ae.traceType.DB_I_BACKUP+=ce}).catch(function(Fe){var pe=ae.dataInDb.findIndex(function(ot){return ot===De.key});-1<pe&&ae.dataInDb.splice(pe,1),ae.pendingQueue.enqueue(De,j)})):this.pendingQueue.enqueue(De,j),this.state==="force"&&(Qe=K.calculateMemSize(H),this.forceDataTotalLen+=Qe)},X.prototype.isWithNtp=function(){return this.isWaitNtpTimeout||this.clientTimeOffset!==void 0},X.prototype.bufferDump=function(){var H,j=this.tempBuffer.shift();j&&(H=j.data,j=j.level,H.tags.id_name=this.config.userID,this.dumpData(JSON.stringify(H),j),this.bufferDump())},X.prototype.isConfigOK=function(H){return H.userID!==""&&H.token!==""&&H.server!==""},X.prototype.testSize=function(H){},X.prototype.flush=function(H){var j;this.state!=="force"&&(this.state="force",j=16e6,typeof H=="object"&&typeof H.bps=="number"&&(j=H.bps),this.zegoService.setBps(j),this.forceDataTotalLen=this.storeHandler.storeSize+this.pendingQueue.pendingDataSize+this.reportPackagesSize,j=(H=this.pendingQueue.getPendingDataInfo()).pendingDataSize,H=H.size,0<j?this.checkPendingQueue(j,H):this.loadReportData())},X.prototype.setWaitNtpTimeout=function(H){this.waitNtpTimeout=H},X.prototype.setWaitNtpTimer=function(){var H=this;this.ntpTimer=setTimeout(function(){H.isWaitNtpTimeout=!0,H.config.userID&&H.bufferDump()},this.waitNtpTimeout)},X.prototype.startReportTimer=function(){var H=this,j=(this.stateCenter._log.debug("startReportTimer "+new Date),this.timeInterval=!0,(ae=this.pendingQueue.getPendingDataInfo()).pendingDataSize),ae=ae.size;this.checkPendingQueue(j,ae),this.reportTimer=window.setTimeout(function(){H.startReportTimer()},3e4)},X.prototype.checkCacheDataTimer=function(){return $(this,void 0,void 0,function(){var H,j,ae=this;return L(this,function(ce){switch(ce.label){case 0:return j=this.pendingQueue.getPendingDataInfo(),H=j.pendingDataSize,j=j.size,H>this.config.reportSize||j>this.config.reportNum?[4,this.checkPendingQueue(H,j)]:[3,2];case 1:return ce.sent(),[3,3];case 2:this.loadReportData(),ce.label=3;case 3:return this.checkDataTimer=window.setTimeout(function(){ae.checkCacheDataTimer()},15e3),[2]}})})},X.prototype.bindWindowListener=function(){var H=this,j=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i);navigator.userAgent.indexOf("Firefox"),window.addEventListener(j?"pagehide":"beforeunload",function(){window.event&&(window.event.cancelBubble=!0),H.saveDataBeforeUnload()})},X.prototype.saveDataBeforeUnload=function(){(H=this.pendingQueue.readStoreData(1)).totalLen;var H=H.storeArr,j=(this.storeHandler.resetCommonStore(),[]);j.push.apply(j,T(H)),H=this.zegoService.readReportQueueData(),j.push.apply(j,T(H)),0<j.length&&this.storeHandler.storePendingData(j)},X.prototype.setNetStateCheck=function(){this.postDataState==="fail"&&this.zegoService.handleNetConnect()},X.prototype.postSucHandler=function(H,j,ae){return $(this,void 0,void 0,function(){var ce,ne,Qe,De,Fe,pe=this;return L(this,function(ot){switch(ot.label){case 0:for(this.stateCenter._log.debug("post suc"),this.postDataState="suc",H.forEach(function(ft){pe.traceType.MEM_O_DONE+=K.calculateMemSize(ft.content)}),ce=function(ft){var yt=H[ft];ne.storeHandler.removeDataItem(yt).then(function(Ot){yt.key&&pe.reportMap.delete(yt.key)}).catch(function(Ot){})},ne=this,Qe=0;Qe<H.length;Qe++)ce(Qe);return this.reportPackagesSize-=j,Fe=this.pendingQueue.getPendingDataInfo(),De=Fe.pendingDataSize,Fe=Fe.size,De>this.config.reportSize||Fe>this.config.reportNum?[4,this.checkPendingQueue(De,Fe)]:[3,2];case 1:return ot.sent(),[3,3];case 2:this.loadReportData(),ot.label=3;case 3:return this.state==="force"&&this.reportPackagesSize==0&&(De=this.reportPackagesSize+this.pendingQueue.pendingDataSize+this.storeHandler.storeSize,Fe=1-Number((De/this.forceDataTotalLen).toFixed(2)),this.listenerList.progressUpdate&&this._actionListener("progressUpdate",Fe),0<this.storeHandler.storeSize)&&this.loadReportData(function(ft){ft===0&&(pe.state="normal",pe.zegoService.setBps(pe.config.bps||x.DEFAULT_CONFIG.bps),pe.listenerList.forceSuccessCallback)&&pe._actionListener("forceResult","SUCCESS")}),[2]}})})},X.prototype.checkPendingQueue=function(H,j){return $(this,void 0,void 0,function(){var ae,ce,ne,Qe,De;return L(this,function(Fe){switch(Fe.label){case 0:return H>this.config.reportSize||j>this.config.reportNum||["force","unload"].includes(this.state)||this.timeInterval?(this.timeInterval=!1,!this.isPaused&&this.config.userID&&this.config.token&&this.config.serverUrl?[3,3]:(this.stateCenter._log.debug("isPaused "+this.isPaused+" "+this.userID+" "+this.config.token+" "+this.config.serverUrl),H>=this.cacheMaxSize||this.staticConfig.totalAvailCache<=0?[4,this.storePendingDataToDB(this.cacheDelPer)]:[3,2])):[3,7];case 1:Fe.sent(),Fe.label=2;case 2:return[2];case 3:return this.zegoService.reportAllowed()?[3,6]:(this.zegoService.resumeReport(),H>=this.cacheMaxSize||this.staticConfig.totalAvailCache<=0?[4,this.storePendingDataToDB(this.cacheDelPer)]:[3,5]);case 4:Fe.sent(),Fe.label=5;case 5:return[2];case 6:if(ne=this.pendingQueue.readReportData(this.config.reportSize),ae=ne.totalLen,ne=ne.reportDataArr,ae<=0)return[2];for(ne=this.setCommonField(ne),ce=ne.packageArr,ne=ne.packageLen,this.zegoService.report(ce,ne,this.product,this.state==="unload"),Qe=0;Qe<ce.length;Qe++)De=ce[Qe],this.reportMap.set(De.key,De);this.reportPackagesSize+=ne,this.pendingQueue.refresh(ae),Fe.label=7;case 7:return[2]}})})},X.prototype.initPendingQueue=function(){var H=this;this.pendingQueue=new W.PendingQueue(this.config.levels,this.product,this.staticConfig,this.stateCenter),this.pendingQueue.setListener({enCallback:function(j,ae,ce){return $(H,void 0,void 0,function(){return L(this,function(ne){switch(ne.label){case 0:return[4,this.checkPendingQueue(ce,ae)];case 1:return ne.sent(),[2]}})})}})},X.prototype.loadDBDataToMem=function(){var H=this;this.storeHandler.readStoreDataItem().then(function(j){var ae=K.calculateMemSize(j.content);H.traceType.MEM_I_LOAD+=ae,H.pendingQueue.enqueue(j,j.level)}).catch(function(j){})},X.prototype.storePendingDataToDB=function(H){return $(this,void 0,void 0,function(){var j,ae,ce,ne,Qe,De,Fe,pe,ot;return L(this,function(ft){switch(ft.label){case 0:ae=this.pendingQueue.readStoreData(H),j=ae.totalLen,ae=ae.storeArr,ce=function(yt){var Ot,ge;return L(this,function(Ee){switch(Ee.label){case 0:return Ee.trys.push([0,2,,3]),[4,ne.storeDataItem(yt,j)];case 1:return Ee.sent(),Ot=yt.level+"_"+yt.timestamp+"_"+yt.seq,-1<(ge=ne.dataInDb.findIndex(function(fe){return fe===Ot}))&&ne.dataInDb.splice(ge,1),[3,3];case 2:return Ee.sent(),[3,3];case 3:return[2]}})},ne=this,ft.label=1;case 1:ft.trys.push([1,6,7,8]),Qe=w(ae),De=Qe.next(),ft.label=2;case 2:return De.done?[3,5]:(Fe=De.value,[5,ce(Fe)]);case 3:ft.sent(),ft.label=4;case 4:return De=Qe.next(),[3,2];case 5:return[3,8];case 6:return Fe=ft.sent(),pe={error:Fe},[3,8];case 7:try{De&&!De.done&&(ot=Qe.return)&&ot.call(Qe)}finally{if(pe)throw pe.error}return[7];case 8:return[2]}})})},X.prototype.storePackagesDataToDB=function(H){var j=this;H.length&&H.forEach(function(ae){j.storeHandler.storeData(ae).then(function(ce){var ne=K.calculateMemSize(ae.content);j.traceType.MEM_O_DUMP+=ne}).catch(function(ce){})})},X.prototype.storeDataItem=function(H,j){var ae=this;return new Promise(function(ce,ne){return $(ae,void 0,void 0,function(){var Qe;return L(this,function(De){switch(De.label){case 0:return De.trys.push([0,2,,3]),[4,this.storeHandler.storeData(H)];case 1:return De.sent(),Qe=K.calculateMemSize(H.content),this.traceType.MEM_O_DUMP+=Qe,ce(),[3,3];case 2:return Qe=De.sent(),ne(Qe),[3,3];case 3:return[2]}})})})},X.prototype.loadReportData=function(H){var j=this;this.storeHandler.storeSize<=0||this.isLoadReportData||(this.isLoadReportData=!0,this.storeHandler.loadDBData(this.config.reportSize,5,Math.floor(this.cacheMaxSize/3),function(ae){return-1<j.dataInDb.indexOf(ae)}).then(function(ae){j.isLoadReportData=!1,ae.datas.forEach(function(ce){var ne;j.reportMap.has(ce.key)||j.pendingQueue.findInQueue(ce)||(ne=K.calculateMemSize(ce.content),j.traceType.MEM_I_LOAD+=ne,j.pendingQueue.enqueue(ce,ce.level),j.dataInDb.push(ce.key))}),H&&H(ae.len)}).catch(function(ae){j.isLoadReportData=!1}))},X.prototype.setCommonField=function(H){var j=this,ae=0;return H.forEach(function(ce){var ne,Qe,De=JSON.parse(ce.content);if(j.startCommonField)try{for(var Fe=w(j.startCommonField),pe=Fe.next();!pe.done;pe=Fe.next()){var ot=O(pe.value,2),ft=ot[0],yt=ot[1];ft!=="userID"&&ft!=="token"&&ft!=="serverUrl"&&(De[ft]=yt)}}catch(Ot){ne={error:Ot}}finally{try{pe&&!pe.done&&(Qe=Fe.return)&&Qe.call(Fe)}finally{if(ne)throw ne.error}}ae+=K.calculateMemSize(De),ce.content=JSON.stringify(De)}),{packageArr:H,packageLen:ae}},X.prototype._bindListener=function(H,j){return!!this.listenerList[H]&&typeof j=="function"&&(this.listenerList[H].indexOf(j)==-1&&this.listenerList[H].push(j),!0)},X.prototype._deleteListener=function(H,j){var ae;return!!this.listenerList[H]&&(ae=this.listenerList[H],j?ae.splice(ae.indexOf(j),1):this.listenerList[H]=[],!0)},X.prototype._actionListener=function(H){for(var j=[],ae=1;ae<arguments.length;ae++)j[ae-1]=arguments[ae];this.listenerList[H]&&this.listenerList[H].forEach(function(ce){try{ce.apply(void 0,T(j))}catch{}})},F.ZegoDataReport=X},function(te,F,V){var z=this&&this.__read||function(Y,Z){var W=typeof Symbol=="function"&&Y[Symbol.iterator];if(!W)return Y;var K,x,X=W.call(Y),H=[];try{for(;(Z===void 0||0<Z--)&&!(K=X.next()).done;)H.push(K.value)}catch(j){x={error:j}}finally{try{K&&!K.done&&(W=X.return)&&W.call(X)}finally{if(x)throw x.error}}return H},$=this&&this.__spread||function(){for(var Y=[],Z=0;Z<arguments.length;Z++)Y=Y.concat(z(arguments[Z]));return Y},L=(Object.defineProperty(F,"__esModule",{value:!0}),F.ZegoService=void 0,V(0)),O=V(25),T=V(29),w=V(4);function k(Y,Z,W,K,x){var X,H,j,ae=this;this.env=Y,this.product=W,this.pro=K,this.stateCenter=x,this.isDestroy=!1,this.websocket=null,this.packageLen=0,this.packagesDataSize=0,this.PACKAGE_MAX_LEN=5,this.msgID=0,this.logUploadTimer=null,this.logUploadInterval=1e4,this.logCacheSend=[],this.logCacheMax=100,this.reportDataCheckInterval=1e3,this.postSucCallbackList={},this.postFailCallbackList={},this.failCount=0,this.failStartTime=0,this.netWorkFail=!1,this.networkState=L.ENUM_NETWORK_STATE.online,this.state=L.ENUM_CONNECT_STATE.disconnected,this.wsFrequentShutdownCounter=(H=X=0,j=function(){H=X=0},{onOpen:function(){X=performance.now()},onClose:function(){0<X&&(performance.now()-X<100?(H++,ae.stateCenter.logger.info("zt.rzs.wfsc frequently shutdown.")):j())},isOutOfMaxTimes:function(){return 10<=H}}),this.bindWindowListener(),this.networkState=L.ENUM_NETWORK_STATE.online,this.service=new O.LogService(Y,W,K,x),this.setBps(Z),this.reportQueue=new L.Queue}k.prototype.destroy=function(){var Y;(Y=this.websocket)!=null&&Y.close(),this.service.closeSocket(),this.logUploadTimer&&clearTimeout(this.logUploadTimer),this.reportQueue.clear(),this.isDestroy=!0},k.prototype.bindWindowListener=function(){var Y=this;window.addEventListener("offline",function(){Y.networkState=L.ENUM_NETWORK_STATE.offline}),window.addEventListener("online",function(Z){Y.handleNetConnect()})},k.prototype.handleNetConnect=function(){this.networkState=L.ENUM_NETWORK_STATE.online;var Y=this.url;this.url="",this.setLogServer(Y),this.netWorkFail=!1},k.prototype.setLogServer=function(Y){try{return Y.startsWith("wss:")||Y.startsWith("ws:")?(this.logType=L.ENUM_REMOTE_TYPE.WEBSOCKET,this.openWebSocketLogServer(Y)):Y.startsWith("https:")||Y.startsWith("http:")?(this.logType=L.ENUM_REMOTE_TYPE.HTTPS,this.openHttpsLogServer(Y)):this.logType=L.ENUM_REMOTE_TYPE.DISABLE,!0}catch{return!1}},k.prototype.setLogUrlParams=function(Y){this.logParams=Y},k.prototype.openWebSocketLogServer=function(Y){var Z=this;this.url!=Y&&(this.url=Y)&&(this.stopWebSocketServer(),this.logParams.id_name)&&(this.wsFrequentShutdownCounter.isOutOfMaxTimes()?(this.stateCenter.logger.warn("zt.rzs.owsls frequently shutdown too many times. cannot create socket anymore."),this.state=L.ENUM_CONNECT_STATE.disconnected):(this.state=L.ENUM_CONNECT_STATE.connecting,Y=Y+"?product="+this.logParams.product+"&appid="+this.logParams.appid+"&token="+encodeURIComponent(this.logParams.signature)+"&deviceid="+this.logParams.deviceid+"&id_name="+this.logParams.id_name,this.service.createSocket(Y),this.service.openHandler(function(){Z.service.onPush(),Z.service.startCheck(),Z.stateCenter.logger.info("zt.rzs.owsls socket open"),Z.openHandler(),Z.wsFrequentShutdownCounter.onOpen()}),this.service.closeHandler(function(W){Z.stateCenter.logger.warn("zt.rzs.owsls socket close "+JSON.stringify(W.code||W)),Z.state=L.ENUM_CONNECT_STATE.disconnected,Z.service.closeSocket(),Z.wsFrequentShutdownCounter.onClose()}),this.service.errorHandler(function(W){Z.stateCenter.logger.warn("zt.rzs.owsls socket error "+JSON.stringify(W.code||W)),Z.state=L.ENUM_CONNECT_STATE.disconnected,Z.service.closeSocket()})))},k.prototype.stopWebSocketServer=function(){this.service.closeSocket()},k.prototype.openHttpsLogServer=function(Y){(this.url=Y)&&this.stopHttpsServer()},k.prototype.stopHttpsServer=function(){this.logUploadTimer&&(clearInterval(this.logUploadTimer),this.logUploadTimer=null)},k.prototype.SendHttpsLog=function(Y,Z,W,K){this.env===L.ZEGO_ENV.BROWSER?this.SendHttpsLogWeb(Y,Z,W,K):this.SendHttpsLogWeChatMini(Y,Z,W,K)},k.prototype.SendHttpsLogWeb=function(Y,Z,W,K){var x=this,X=(Y=JSON.stringify({body:{data:Y}}),new XMLHttpRequest);X.onreadystatechange=function(){if(X.readyState==4)if(X.status==200){if(X.responseText.length!=0)try{var H=JSON.parse(X.responseText).interval;typeof H=="number"&&x.logUploadInterval!==H&&x.openHttpsLogServer(x.url),W&&W()}catch{K&&K()}}else K&&K()},X.open("POST",this.url,!0),X.send(Y)},k.prototype.SendHttpsLogWeChatMini=function(Y,Z,W,K){var x=this;Y={appid:this.logParams.appid+"",timestamp:new Date().getTime()+"",token:this.logParams.signature,id_name:this.logParams.id_name,product:this.logParams.product,message_id:++this.msgID,req_sdk:1,s:JSON.stringify({speed_detail:Y})},wx.request({url:this.url,data:JSON.stringify(Y),method:"POST",success:function(X){X.data.length!=0&&(typeof(X=X&&X.data&&X.data.interval)=="number"&&x.logUploadInterval!==X&&x.openHttpsLogServer(x.url),W)&&W()},fail:function(X){K&&K()}})},k.prototype.openHandler=function(){this.state=L.ENUM_CONNECT_STATE.connected,this.startReport()},k.prototype.setPostSucCallback=function(Y,Z){this.postSucCallbackList[Y]=Z},k.prototype.setPostFailCallback=function(Y,Z){this.postFailCallbackList[Y]=Z},k.prototype.reportAllowed=function(){return this.packageLen<this.PACKAGE_MAX_LEN},k.prototype.report=function(Y,Z,W,K){this.packageLen++,this.packagesDataSize+=Z,this.reportQueue.enqueue({reportDatas:Y,dataLen:Z,product:W}),this.netWorkFail=!1,this.failCount=0,this.failStartTime=0,this.startReport(K)},k.prototype.setBps=function(Y){this.tokenBucket=new T.TokenBucket(w.BUCKET_CONFIG.bucketSize,Y/8,"sec")},k.prototype.startReport=function(Y){var Z,W,K,x,X=this;this.isDestroy||(this.logType===L.ENUM_REMOTE_TYPE.WEBSOCKET&&this.state===L.ENUM_CONNECT_STATE.disconnected?(Z=this.url,this.url="",this.setLogServer(Z)):0<this.reportQueue.size()&&(Z=this.reportQueue.dequeue(),W=Z.reportDatas,K=Z.dataLen,x=Z.product,Y?this.sendReport(W,K,x):this.tokenBucket.removeTokens(K,function(){X.sendReport(W,K,x)})))},k.prototype.failTooMuch=function(){if(this.failCount<=0)return!1;this.failCount==1&&(this.failStartTime=Date.now());var Y=(Date.now()-this.failStartTime)/1e3;return this.failCount>=w.FAIL_COUNT&&Y>w.FAIL_TIME||this.failCount>=w.FAIL_MAX_COUNT},k.prototype.sendReport=function(Y,Z,W){var K=this;this.reportData(Y,Z,W,function(){K.failCount=0,K.failStartTime=0,K.packageLen--,K.packagesDataSize-=Z,K.postSucCallbackList[W]&&K.postSucCallbackList[W](Y,Z,W)},function(x){var X;K.reportQueue.enqueue({reportDatas:Y,dataLen:Z,product:W}),K.failCount++,K.failTooMuch()?(K.netWorkFail=!0,X=K.decodeReportQueue(),Object.keys(K.postFailCallbackList).forEach(function(H){K.postFailCallbackList[W](X[H])})):K.startReport()})},k.prototype.resumeReport=function(){this.netWorkFail===!0&&this.networkState===L.ENUM_NETWORK_STATE.online&&(this.netWorkFail=!1,this.startReport())},k.prototype.reportData=function(Y,Z,W,K,x){var X=this,H=[];Y.forEach(function(j){H.push(JSON.parse(j.content))}),this.logType==L.ENUM_REMOTE_TYPE.WEBSOCKET?this.networkState===L.ENUM_NETWORK_STATE.offline?x&&x(L.errorList.BROKEN):this.service.sendMessage("report",H,K,function(j){var ae;X.state===L.ENUM_CONNECT_STATE.disconnected&&j===L.SOCKET_DISCONNECT&&(ae=X.url,X.url="",X.setLogServer(ae)),x&&x(j)}):this.logType==L.ENUM_REMOTE_TYPE.HTTPS&&this.SendHttpsLog(H,Z,K,function(){x&&x()})},k.prototype.unsigned2signed=function(Y){var Z=parseInt(Y,10);if(256<Z)return Z%256;for(var W=[];0<Z;)Z%2!=0?W.push(1):W.push(0),Z=Number(Z/2);for(W.reverse();W.length<8;)W.unshift(0);var K="";if((W=W.join("")).substr(0,1)==1){for(var x=1;x<W.length;x++)W.substr(x,1)==1?K+=0:K+=1;return"-"+(parseInt(K,2)+1)}for(x=0;x<W.length;x++)K+=W.substr(x,1);return parseInt(K,2)},k.prototype.decodeReportQueue=function(){for(var Y={},Z=this.reportQueue.size(),W=0;W<Z;W++){var K,x=(K=this.reportQueue.dequeue()).reportDatas,X=K.dataLen;Y[K=K.product]||(Y[K]=[]),Y[K]=$(Y[K],x),this.reportQueue.enqueue({reportDatas:x,dataLen:X,product:K})}return Y},k.prototype.readReportQueueData=function(){for(var Y=[],Z=this.reportQueue.size(),W=0;W<Z;W++){var K=this.reportQueue.dequeue(),x=K.reportDatas;K.dataLen,K.product,Y.push.apply(Y,$(x))}return Y},F.ZegoService=k},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.LogService=void 0;var z=V(26),$=V(4),L=V(0);function O(T,w,k,Y){this.env=T,this.product=w,this.pro=k,this.stateCenter=Y,this.service=new z.ZegoSocketService(this.env,this.product,this.pro,this.stateCenter),this.cmdSeq=0,this.responseRouters={}}O.prototype.handleSendCommandMsgRsp=function(T){var w,k,Y=this,Z=this.service.sendCommandMap[T.messageId||((Z=T==null?void 0:T.data)==null?void 0:Z.message_id)];Z!=null&&(k=Z._data,delete this.service.sendCommandMap[T.messageId||((w=T==null?void 0:T.data)==null?void 0:w.message_id)],this.service.sendCommandList.remove(Z),T.code===0?setTimeout(function(){k&&k.success!=null&&k.success(T,Y.cmdSeq)},0):setTimeout(function(){k&&k.error!=null&&k.error(T,Y.cmdSeq)},0))},O.prototype.onPush=function(){var T=this;this.service.onMessage=function(w){T.handleSendCommandMsgRsp(w)}},O.prototype.closeHandler=function(T){this.service.closeHandler(T)},O.prototype.openHandler=function(T){this.service.openHandler(T)},O.prototype.errorHandler=function(T){this.service.errorHandler(T)},O.prototype.getHeader=function(T){return{Protocol:"req",cmd:T,appid:123,seq:++this.cmdSeq,session_id:""}},O.prototype.startCheck=function(){this.service.startCheck()},O.prototype.stopCheck=function(){this.service.stopCheck()},O.prototype.isDisConnect=function(){return!this.service||this.service.isDisConnect()},O.prototype.createSocket=function(T){this.service.createSocket(T),this.responseRouters={}},O.prototype.closeSocket=function(){this.service.closeSocket()},O.prototype.sendMessage=function(T,w,k,Y,Z,W){return this.service.isDisConnect()?(Y&&Y(L.SOCKET_DISCONNECT),0):(Z=Z||this.getHeader(T),this.service.sendMessage(Z,w,k,Y,{timeOut:1e3*$.DEFAULT_CONFIG.netTimeout}))},O.prototype.on=function(T,w){this.responseRouters[T]=w},F.LogService=O},function(te,F,V){var z=this&&this.__assign||function(){return(z=Object.assign||function(w){for(var k,Y=1,Z=arguments.length;Y<Z;Y++)for(var W in k=arguments[Y])Object.prototype.hasOwnProperty.call(k,W)&&(w[W]=k[W]);return w}).apply(this,arguments)},$=(Object.defineProperty(F,"__esModule",{value:!0}),F.ZegoSocketService=void 0,V(27)),L=V(0),O=V(28);function T(w,k,Y,Z){this.product=k,this.pro=Y,this.stateCenter=Z,this.socket=null,this.sendCommandList=new L.LinkedList,this.sendCommandMap={},this.sendDataCheckOnceCount=100,this.sendDataDropTimeout=3e4,this.sendDataCheckInterval=2e3,this.ENV=w}T.prototype.createSocket=function(w){this.socket=$.createZegoWebSocket(w,this.ENV),this.socket.binaryType="arraybuffer"},T.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},T.prototype.isDisConnect=function(){return!this.socket||this.socket.readyState!==1},T.prototype.sendMessage=function(w,k,Y,Z,W){Y===void 0&&(Y=null),Z===void 0&&(Z=null),W===void 0&&(W={timeOut:6e3});var K=z(z({},this.stateCenter.processData),{time_upload:Date.now()});return K={data:k={message_id:w.seq,product:this.product,s:JSON.stringify({speed_detail:k,process:K})},seq:w.seq,deleted:!1,sendTime:Date.parse(new Date+""),timeOut:W.timeOut,success:Y,error:Z},W=this.sendCommandList.push(K),this.sendCommandMap[K.seq]=W,this.socket&&this.pro!=="pb"&&(this.stateCenter._log.debug("upload data",JSON.stringify(k)),Y=O.deflate(JSON.stringify(k),{to:"string"}),this.socket.send(Y)),w.seq},T.prototype.checkSendMessageList=function(w){for(var k=w.getFirst();k!=null;)w.remove(k),k._data&&k._data.error&&setTimeout(function(){k&&k._data&&k._data.error&&k._data.error(L.errorList.TIMEOUT,k._data.data.message_id,k._data.data.s)},0),k=w.getFirst()},T.prototype.checkMessageListTimeout=function(w,k){for(var Y=w.getFirst(),Z=Date.parse(new Date+""),W=0;!(Y==null||Y._data&&Y._data.sendTime+Y._data.timeOut>Z||(Y._data&&delete k[Y._data.data.message_id],w.remove(Y),Y._data&&Y._data.error==null||Y._data&&Y._data.sendTime+this.sendDataDropTimeout<Z||Y&&Y._data&&Y._data.error&&Y._data.error(L.errorList.TIMEOUT,Y._data.data.message_id,Y._data.data.s),++W>=this.sendDataCheckOnceCount));)Y=w.getFirst()},T.prototype.startCheck=function(){var w=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout(function(){w.startCheck()},this.sendDataCheckInterval)},T.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},T.prototype.openHandler=function(w){var k=this;this.socket&&(this.socket.onopen=function(Y){k.responseHandler(),w(Y)})},T.prototype.responseHandler=function(){var w=this;this.socket&&(this.socket.onmessage=function(k){k=typeof k.data=="string"?JSON.parse(k.data):JSON.parse(String.fromCharCode.apply(null,new Uint8Array(k.data))),w.onMessage(k)})},T.prototype.closeHandler=function(w){this.socket&&(this.socket.onclose=function(k){w(k)})},T.prototype.errorHandler=function(w){this.socket&&(this.socket.onerror=w)},T.prototype.onMessage=function(w){},F.ZegoSocketService=T},function(te,F,V){Object.defineProperty(F,"__esModule",{value:!0}),F.createZegoWebSocket=F.ZegoWeiXinMiniWebSocket=void 0;var z=V(0),$=(L.prototype.init=function(){var O=this;this._websocket&&(this.readyState=0,this._websocket.onOpen(function(T){O.readyState=O._websocket.readyState,typeof O.onopen=="function"&&(O.onopen(T),O._websocket.onClose(function(w){O.readyState=O._websocket.readyState,typeof O.onclose=="function"&&O.onclose(w)}),O._websocket.onMessage(function(w){typeof O.onmessage=="function"&&O.onmessage(w)}))}),this._websocket.onError(function(T){O.readyState=O._websocket.readyState,typeof O.onerror=="function"&&O.onerror(T)}))},L.prototype.onopen=function(O){},L.prototype.onerror=function(O){},L.prototype.onclose=function(O){},L.prototype.onmessage=function(O){},L.prototype.send=function(O){this._websocket&&this._websocket.send({data:O})},L.prototype.close=function(){this._websocket&&this._websocket.close()},L);function L(O,T){this.url=O,this.readyState=3,this._websocket=wx.connectSocket({url:O}),this.init()}F.ZegoWeiXinMiniWebSocket=$,F.createZegoWebSocket=function(O,T){return new(T===z.ZEGO_ENV.BROWSER?WebSocket:$)(O)}},function(te,F,V){(function(z){function $(ee){for(var Pe=ee.length;0<=--Pe;)ee[Pe]=0}var L=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),O=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),T=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),k=new Array(576),Y=($(k),new Array(60)),Z=($(Y),new Array(512)),W=($(Z),new Array(256)),K=($(W),new Array(29));$(K);var x,X,H,j=new Array(30);function ae(ee,Pe,He,it,ht){this.static_tree=ee,this.extra_bits=Pe,this.extra_base=He,this.elems=it,this.max_length=ht,this.has_stree=ee&&ee.length}function ce(ee,Pe){this.dyn_tree=ee,this.max_code=0,this.stat_desc=Pe}function ne(ee){for(var Pe=0;Pe<286;Pe++)ee.dyn_ltree[2*Pe]=0;for(Pe=0;Pe<30;Pe++)ee.dyn_dtree[2*Pe]=0;for(Pe=0;Pe<19;Pe++)ee.bl_tree[2*Pe]=0;ee.dyn_ltree[512]=1,ee.opt_len=ee.static_len=0,ee.sym_next=ee.matches=0}function Qe(ee){8<ee.bi_valid?ct(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function De(ee,Pe,He,it){var ht=2*Pe,Ht=2*He;return ee[ht]<ee[Ht]||ee[ht]===ee[Ht]&&it[Pe]<=it[He]}function Fe(ee,Pe,He){var it,ht,Ht,xt,Gt=0;if(ee.sym_next!==0)for(;it=255&ee.pending_buf[ee.sym_buf+Gt++],it+=(255&ee.pending_buf[ee.sym_buf+Gt++])<<8,ht=ee.pending_buf[ee.sym_buf+Gt++],it==0?lt(ee,ht,Pe):(Ht=W[ht],lt(ee,Ht+256+1,Pe),(xt=L[Ht])!==0&&(ht-=K[Ht],Re(ee,ht,xt)),Ht=nt(--it),lt(ee,Ht,He),(xt=O[Ht])!==0&&(it-=j[Ht],Re(ee,it,xt))),Gt<ee.sym_next;);lt(ee,256,Pe)}function pe(ee,Pe){var He,it,ht,Ht=Pe.dyn_tree,xt=Pe.stat_desc.static_tree,Gt=Pe.stat_desc.has_stree,Tt=Pe.stat_desc.elems,Ir=-1;for(ee.heap_len=0,ee.heap_max=573,He=0;He<Tt;He++)Ht[2*He]!==0?(ee.heap[++ee.heap_len]=Ir=He,ee.depth[He]=0):Ht[2*He+1]=0;for(;ee.heap_len<2;)Ht[2*(ht=ee.heap[++ee.heap_len]=Ir<2?++Ir:0)]=1,ee.depth[ht]=0,ee.opt_len--,Gt&&(ee.static_len-=xt[2*ht+1]);for(Pe.max_code=Ir,He=ee.heap_len>>1;1<=He;He--)xe(ee,Ht,He);for(ht=Tt;He=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],xe(ee,Ht,1),it=ee.heap[1],ee.heap[--ee.heap_max]=He,ee.heap[--ee.heap_max]=it,Ht[2*ht]=Ht[2*He]+Ht[2*it],ee.depth[ht]=(ee.depth[He]>=ee.depth[it]?ee.depth[He]:ee.depth[it])+1,Ht[2*He+1]=Ht[2*it+1]=ht,ee.heap[1]=ht++,xe(ee,Ht,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1];for(var bt,Zr,Wr,Mn,ui,tn=ee,Bn=Pe.dyn_tree,jn=Pe.max_code,di=Pe.stat_desc.static_tree,Jr=Pe.stat_desc.has_stree,Ci=Pe.stat_desc.extra_bits,vi=Pe.stat_desc.extra_base,Pr=Pe.stat_desc.max_length,Un=0,Mr=0;Mr<=15;Mr++)tn.bl_count[Mr]=0;for(Bn[2*tn.heap[tn.heap_max]+1]=0,bt=tn.heap_max+1;bt<573;bt++)(Mr=Bn[2*Bn[2*(Zr=tn.heap[bt])+1]+1]+1)>Pr&&(Mr=Pr,Un++),Bn[2*Zr+1]=Mr,jn<Zr||(tn.bl_count[Mr]++,Mn=0,vi<=Zr&&(Mn=Ci[Zr-vi]),ui=Bn[2*Zr],tn.opt_len+=ui*(Mr+Mn),Jr&&(tn.static_len+=ui*(di[2*Zr+1]+Mn)));if(Un!==0){do for(Mr=Pr-1;tn.bl_count[Mr]===0;)Mr--;while(tn.bl_count[Mr]--,tn.bl_count[Mr+1]+=2,tn.bl_count[Pr]--,0<(Un-=2));for(Mr=Pr;Mr!==0;Mr--)for(Zr=tn.bl_count[Mr];Zr!==0;)(Wr=tn.heap[--bt])>jn||(Bn[2*Wr+1]!==Mr&&(tn.opt_len+=(Mr-Bn[2*Wr+1])*Bn[2*Wr],Bn[2*Wr+1]=Mr),Zr--)}Yt(Ht,Ir,ee.bl_count)}function ot(ee,Pe,He){var it,ht,Ht=-1,xt=Pe[1],Gt=0,Tt=7,Ir=4;for(xt===0&&(Tt=138,Ir=3),Pe[2*(He+1)+1]=65535,it=0;it<=He;it++)ht=xt,xt=Pe[2*(it+1)+1],++Gt<Tt&&ht===xt||(Gt<Ir?ee.bl_tree[2*ht]+=Gt:ht!==0?(ht!==Ht&&ee.bl_tree[2*ht]++,ee.bl_tree[32]++):Gt<=10?ee.bl_tree[34]++:ee.bl_tree[36]++,Ht=ht,Ir=(Gt=0)===xt?(Tt=138,3):ht===xt?(Tt=6,3):(Tt=7,4))}function ft(ee,Pe,He){var it,ht,Ht=-1,xt=Pe[1],Gt=0,Tt=7,Ir=4;for(xt===0&&(Tt=138,Ir=3),it=0;it<=He;it++)if(ht=xt,xt=Pe[2*(it+1)+1],!(++Gt<Tt&&ht===xt)){if(Gt<Ir)for(;lt(ee,ht,ee.bl_tree),--Gt!=0;);else ht!==0?(ht!==Ht&&(lt(ee,ht,ee.bl_tree),Gt--),lt(ee,16,ee.bl_tree),Re(ee,Gt-3,2)):Gt<=10?(lt(ee,17,ee.bl_tree),Re(ee,Gt-3,3)):(lt(ee,18,ee.bl_tree),Re(ee,Gt-11,7));Ht=ht,Ir=(Gt=0)===xt?(Tt=138,3):ht===xt?(Tt=6,3):(Tt=7,4)}}function yt(ee,Pe,He,it){Re(ee,0+(it?1:0),3),Qe(ee),ct(ee,He),ct(ee,~He),He&&ee.pending_buf.set(ee.window.subarray(Pe,Pe+He),ee.pending),ee.pending+=He}function Ot(ee,Pe){return ee.msg=zt[Pe],Pe}function ge(ee){return 2*ee-(4<ee?9:0)}function Ee(ee,Pe){mr(ee,0<=ee.block_start?ee.block_start:-1,ee.strstart-ee.block_start,Pe),ee.block_start=ee.strstart,Hr(ee.strm)}function fe(ee,Pe){ee.pending_buf[ee.pending++]=Pe}function ie(ee,Pe){ee.pending_buf[ee.pending++]=Pe>>>8&255,ee.pending_buf[ee.pending++]=255&Pe}function ue(ee,Pe){var He,it,ht=ee.max_chain_length,Ht=ee.strstart,xt=ee.prev_length,Gt=ee.nice_match,Tt=ee.strstart>ee.w_size-gr?ee.strstart-(ee.w_size-gr):0,Ir=ee.window,bt=ee.w_mask,Zr=ee.prev,Wr=ee.strstart+_r,Mn=Ir[Ht+xt-1],ui=Ir[Ht+xt];ee.prev_length>=ee.good_match&&(ht>>=2),Gt>ee.lookahead&&(Gt=ee.lookahead);do if(Ir[(He=Pe)+xt]===ui&&Ir[He+xt-1]===Mn&&Ir[He]===Ir[Ht]&&Ir[++He]===Ir[Ht+1]){for(Ht+=2,He++;Ir[++Ht]===Ir[++He]&&Ir[++Ht]===Ir[++He]&&Ir[++Ht]===Ir[++He]&&Ir[++Ht]===Ir[++He]&&Ir[++Ht]===Ir[++He]&&Ir[++Ht]===Ir[++He]&&Ir[++Ht]===Ir[++He]&&Ir[++Ht]===Ir[++He]&&Ht<Wr;);if(it=_r-(Wr-Ht),Ht=Wr-_r,xt<it){if(ee.match_start=Pe,Gt<=(xt=it))break;Mn=Ir[Ht+xt-1],ui=Ir[Ht+xt]}}while((Pe=Zr[Pe&bt])>Tt&&--ht!=0);return xt<=ee.lookahead?xt:ee.lookahead}function de(ee,Pe){for(var He,it,ht,Ht=ee.pending_buf_size-5>ee.w_size?ee.w_size:ee.pending_buf_size-5,xt=0,Gt=ee.strm.avail_in;He=65535,ht=ee.bi_valid+42>>3,!(ee.strm.avail_out<ht||(He=(ht=ee.strm.avail_out-ht)<(He=He>(it=ee.strstart-ee.block_start)+ee.strm.avail_in?it+ee.strm.avail_in:He)?ht:He)<Ht&&(He===0&&Pe!==qe||Pe===wr||He!==it+ee.strm.avail_in)||(xt=Pe===qe&&He===it+ee.strm.avail_in?1:0,Vt(ee,0,0,xt),ee.pending_buf[ee.pending-4]=He,ee.pending_buf[ee.pending-3]=He>>8,ee.pending_buf[ee.pending-2]=~He,ee.pending_buf[ee.pending-1]=~He>>8,Hr(ee.strm),it&&(He<it&&(it=He),ee.strm.output.set(ee.window.subarray(ee.block_start,ee.block_start+it),ee.strm.next_out),ee.strm.next_out+=it,ee.strm.avail_out-=it,ee.strm.total_out+=it,ee.block_start+=it,He-=it),He&&(gn(ee.strm,ee.strm.output,ee.strm.next_out,He),ee.strm.next_out+=He,ee.strm.avail_out-=He,ee.strm.total_out+=He),xt!==0)););return(Gt-=ee.strm.avail_in)&&(Gt>=ee.w_size?(ee.matches=2,ee.window.set(ee.strm.input.subarray(ee.strm.next_in-ee.w_size,ee.strm.next_in),0),ee.strstart=ee.w_size,ee.insert=ee.strstart):(ee.window_size-ee.strstart<=Gt&&(ee.strstart-=ee.w_size,ee.window.set(ee.window.subarray(ee.w_size,ee.w_size+ee.strstart),0),ee.matches<2&&ee.matches++,ee.insert>ee.strstart)&&(ee.insert=ee.strstart),ee.window.set(ee.strm.input.subarray(ee.strm.next_in-Gt,ee.strm.next_in),ee.strstart),ee.strstart+=Gt,ee.insert+=Gt>ee.w_size-ee.insert?ee.w_size-ee.insert:Gt),ee.block_start=ee.strstart),ee.high_water<ee.strstart&&(ee.high_water=ee.strstart),xt?4:Pe!==wr&&Pe!==qe&&ee.strm.avail_in===0&&ee.strstart===ee.block_start?2:(ht=ee.window_size-ee.strstart,ee.strm.avail_in>ht&&ee.block_start>=ee.w_size&&(ee.block_start-=ee.w_size,ee.strstart-=ee.w_size,ee.window.set(ee.window.subarray(ee.w_size,ee.w_size+ee.strstart),0),ee.matches<2&&ee.matches++,ht+=ee.w_size,ee.insert>ee.strstart)&&(ee.insert=ee.strstart),(ht=ht>ee.strm.avail_in?ee.strm.avail_in:ht)&&(gn(ee.strm,ee.window,ee.strstart,ht),ee.strstart+=ht,ee.insert+=ht>ee.w_size-ee.insert?ee.w_size-ee.insert:ht),ee.high_water<ee.strstart&&(ee.high_water=ee.strstart),ht=ee.bi_valid+42>>3,Ht=(ht=65535<ee.pending_buf_size-ht?65535:ee.pending_buf_size-ht)>ee.w_size?ee.w_size:ht,((it=ee.strstart-ee.block_start)>=Ht||(it||Pe===qe)&&Pe!==wr&&ee.strm.avail_in===0&&it<=ht)&&(He=ht<it?ht:it,xt=Pe===qe&&ee.strm.avail_in===0&&He===it?1:0,Vt(ee,ee.block_start,He,xt),ee.block_start+=He,Hr(ee.strm)),xt?3:1)}function le(ee,Pe){for(var He,it;;){if(ee.lookahead<gr){if(Tr(ee),ee.lookahead<gr&&Pe===wr)return 1;if(ee.lookahead===0)break}if(He=0,3<=ee.lookahead&&(ee.ins_h=Kr(ee,ee.ins_h,ee.window[ee.strstart+3-1]),He=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart),He!==0&&ee.strstart-He<=ee.w_size-gr&&(ee.match_length=ue(ee,He)),3<=ee.match_length)if(it=Br(ee,ee.strstart-ee.match_start,ee.match_length-3),ee.lookahead-=ee.match_length,ee.match_length<=ee.max_lazy_match&&3<=ee.lookahead){for(ee.match_length--;ee.strstart++,ee.ins_h=Kr(ee,ee.ins_h,ee.window[ee.strstart+3-1]),He=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart,--ee.match_length!=0;);ee.strstart++}else ee.strstart+=ee.match_length,ee.match_length=0,ee.ins_h=ee.window[ee.strstart],ee.ins_h=Kr(ee,ee.ins_h,ee.window[ee.strstart+1]);else it=Br(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++;if(it&&(Ee(ee,!1),ee.strm.avail_out===0))return 1}return ee.insert=ee.strstart<2?ee.strstart:2,Pe===qe?(Ee(ee,!0),ee.strm.avail_out===0?3:4):ee.sym_next&&(Ee(ee,!1),ee.strm.avail_out===0)?1:2}function Ve(ee,Pe){for(var He,it,ht;;){if(ee.lookahead<gr){if(Tr(ee),ee.lookahead<gr&&Pe===wr)return 1;if(ee.lookahead===0)break}if(He=0,3<=ee.lookahead&&(ee.ins_h=Kr(ee,ee.ins_h,ee.window[ee.strstart+3-1]),He=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart),ee.prev_length=ee.match_length,ee.prev_match=ee.match_start,ee.match_length=2,He!==0&&ee.prev_length<ee.max_lazy_match&&ee.strstart-He<=ee.w_size-gr&&(ee.match_length=ue(ee,He),ee.match_length<=5)&&(ee.strategy===$t||ee.match_length===3&&4096<ee.strstart-ee.match_start)&&(ee.match_length=2),3<=ee.prev_length&&ee.match_length<=ee.prev_length){for(ht=ee.strstart+ee.lookahead-3,it=Br(ee,ee.strstart-1-ee.prev_match,ee.prev_length-3),ee.lookahead-=ee.prev_length-1,ee.prev_length-=2;++ee.strstart<=ht&&(ee.ins_h=Kr(ee,ee.ins_h,ee.window[ee.strstart+3-1]),He=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart),--ee.prev_length!=0;);if(ee.match_available=0,ee.match_length=2,ee.strstart++,it&&(Ee(ee,!1),ee.strm.avail_out===0))return 1}else if(ee.match_available){if((it=Br(ee,0,ee.window[ee.strstart-1]))&&Ee(ee,!1),ee.strstart++,ee.lookahead--,ee.strm.avail_out===0)return 1}else ee.match_available=1,ee.strstart++,ee.lookahead--}return ee.match_available&&(it=Br(ee,0,ee.window[ee.strstart-1]),ee.match_available=0),ee.insert=ee.strstart<2?ee.strstart:2,Pe===qe?(Ee(ee,!0),ee.strm.avail_out===0?3:4):ee.sym_next&&(Ee(ee,!1),ee.strm.avail_out===0)?1:2}$(j);var nt=function(ee){return ee<256?Z[ee]:Z[256+(ee>>>7)]},ct=function(ee,Pe){ee.pending_buf[ee.pending++]=255&Pe,ee.pending_buf[ee.pending++]=Pe>>>8&255},Re=function(ee,Pe,He){ee.bi_valid>16-He?(ee.bi_buf|=Pe<<ee.bi_valid&65535,ct(ee,ee.bi_buf),ee.bi_buf=Pe>>16-ee.bi_valid,ee.bi_valid+=He-16):(ee.bi_buf|=Pe<<ee.bi_valid&65535,ee.bi_valid+=He)},lt=function(ee,Pe,He){Re(ee,He[2*Pe],He[2*Pe+1])},St=function(ee,Pe){for(var He=0;He|=1&ee,ee>>>=1,He<<=1,0<--Pe;);return He>>>1},Yt=function(ee,Pe,He){for(var it,ht=new Array(16),Ht=0,xt=1;xt<=15;xt++)Ht=Ht+He[xt-1]<<1,ht[xt]=Ht;for(it=0;it<=Pe;it++){var Gt=ee[2*it+1];Gt!==0&&(ee[2*it]=St(ht[Gt]++,Gt))}},xe=function(ee,Pe,He){for(var it=ee.heap[He],ht=He<<1;ht<=ee.heap_len&&(ht<ee.heap_len&&De(Pe,ee.heap[ht+1],ee.heap[ht],ee.depth)&&ht++,!De(Pe,it,ee.heap[ht],ee.depth));)ee.heap[He]=ee.heap[ht],He=ht,ht<<=1;ee.heap[He]=it},st=!1,At=yt,Et=function(ee,Pe,He,it){for(var ht=65535&ee|0,Ht=ee>>>16&65535|0,xt=0;He!==0;){for(He-=xt=2e3<He?2e3:He;Ht=Ht+(ht=ht+Pe[it++]|0)|0,--xt;);ht%=65521,Ht%=65521}return ht|Ht<<16|0},Dt=new Uint32Array(function(){for(var ee=[],Pe=0;Pe<256;Pe++){for(var He=Pe,it=0;it<8;it++)He=1&He?3988292384^He>>>1:He>>>1;ee[Pe]=He}return ee}()),Ft=function(ee,Pe,He,it){var ht=Dt,Ht=it+He;ee^=-1;for(var xt=it;xt<Ht;xt++)ee=ee>>>8^ht[255&(ee^Pe[xt])];return-1^ee},zt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ut={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Vt=At,mr=function(ee,Pe,He,it){var ht,Ht,xt,Gt=0;if(0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=function(bt){for(var Zr=4093624447,Wr=0;Wr<=31;Wr++,Zr>>>=1)if(1&Zr&&bt.dyn_ltree[2*Wr]!==0)return 0;if(bt.dyn_ltree[18]!==0||bt.dyn_ltree[20]!==0||bt.dyn_ltree[26]!==0)return 1;for(Wr=32;Wr<256;Wr++)if(bt.dyn_ltree[2*Wr]!==0)return 1;return 0}(ee)),pe(ee,ee.l_desc),pe(ee,ee.d_desc),Gt=function(bt){var Zr;for(ot(bt,bt.dyn_ltree,bt.l_desc.max_code),ot(bt,bt.dyn_dtree,bt.d_desc.max_code),pe(bt,bt.bl_desc),Zr=18;3<=Zr&&bt.bl_tree[2*w[Zr]+1]===0;Zr--);return bt.opt_len+=3*(Zr+1)+5+5+4,Zr}(ee),ht=ee.opt_len+3+7>>>3,(Ht=ee.static_len+3+7>>>3)<=ht&&(ht=Ht)):ht=Ht=He+5,He+4<=ht&&Pe!==-1)yt(ee,Pe,He,it);else if(ee.strategy===4||Ht===ht)Re(ee,2+(it?1:0),3),Fe(ee,k,Y);else{Re(ee,4+(it?1:0),3);var Tt=ee,Ir=(Pe=ee.l_desc.max_code+1,He=ee.d_desc.max_code+1,Gt+1);for(Re(Tt,Pe-257,5),Re(Tt,He-1,5),Re(Tt,Ir-4,4),xt=0;xt<Ir;xt++)Re(Tt,Tt.bl_tree[2*w[xt]+1],3);ft(Tt,Tt.dyn_ltree,Pe-1),ft(Tt,Tt.dyn_dtree,He-1),Fe(ee,ee.dyn_ltree,ee.dyn_dtree)}ne(ee),it&&Qe(ee)},Br=function(ee,Pe,He){return ee.pending_buf[ee.sym_buf+ee.sym_next++]=Pe,ee.pending_buf[ee.sym_buf+ee.sym_next++]=Pe>>8,ee.pending_buf[ee.sym_buf+ee.sym_next++]=He,Pe===0?ee.dyn_ltree[2*He]++:(ee.matches++,Pe--,ee.dyn_ltree[2*(W[He]+256+1)]++,ee.dyn_dtree[2*nt(Pe)]++),ee.sym_next===ee.sym_end},Zt=function(ee){Re(ee,2,3),lt(ee,256,k),ee.bi_valid===16?(ct(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)},wr=Ut.Z_NO_FLUSH,kt=Ut.Z_PARTIAL_FLUSH,Ar=Ut.Z_FULL_FLUSH,qe=Ut.Z_FINISH,nr=Ut.Z_BLOCK,tr=Ut.Z_OK,lr=Ut.Z_STREAM_END,pr=Ut.Z_STREAM_ERROR,rr=Ut.Z_DATA_ERROR,Dr=Ut.Z_BUF_ERROR,Kt=Ut.Z_DEFAULT_COMPRESSION,$t=Ut.Z_FILTERED,Nr=Ut.Z_HUFFMAN_ONLY,Rr=Ut.Z_RLE,fr=Ut.Z_FIXED,un=Ut.Z_UNKNOWN,ln=Ut.Z_DEFLATED,_r=258,gr=262,Qr=42,vr=113,Gr=666,$r=function(ee){for(var Pe=ee.length;0<=--Pe;)ee[Pe]=0},ur=function(ee){for(var Pe,He,it=ee.w_size,ht=Pe=ee.hash_size;He=ee.head[--ht],ee.head[ht]=it<=He?He-it:0,--Pe;);for(ht=Pe=it;He=ee.prev[--ht],ee.prev[ht]=it<=He?He-it:0,--Pe;);},Kr=function(ee,Pe,He){return(Pe<<ee.hash_shift^He)&ee.hash_mask},Hr=function(ee){var Pe=ee.state,He=Pe.pending;(He=He>ee.avail_out?ee.avail_out:He)!==0&&(ee.output.set(Pe.pending_buf.subarray(Pe.pending_out,Pe.pending_out+He),ee.next_out),ee.next_out+=He,Pe.pending_out+=He,ee.total_out+=He,ee.avail_out-=He,Pe.pending-=He,Pe.pending===0)&&(Pe.pending_out=0)},gn=function(ee,Pe,He,it){var ht=ee.avail_in;return(ht=it<ht?it:ht)===0?0:(ee.avail_in-=ht,Pe.set(ee.input.subarray(ee.next_in,ee.next_in+ht),He),ee.state.wrap===1?ee.adler=Et(ee.adler,Pe,ht,He):ee.state.wrap===2&&(ee.adler=Ft(ee.adler,Pe,ht,He)),ee.next_in+=ht,ee.total_in+=ht,ht)},Tr=function(ee){var Pe,He,it=ee.w_size;do{if(Pe=ee.window_size-ee.lookahead-ee.strstart,ee.strstart>=it+(it-gr)&&(ee.window.set(ee.window.subarray(it,it+it-Pe),0),ee.match_start-=it,ee.strstart-=it,ee.block_start-=it,ee.insert>ee.strstart&&(ee.insert=ee.strstart),ur(ee),Pe+=it),ee.strm.avail_in===0)break;if(Pe=gn(ee.strm,ee.window,ee.strstart+ee.lookahead,Pe),ee.lookahead+=Pe,3<=ee.lookahead+ee.insert)for(He=ee.strstart-ee.insert,ee.ins_h=ee.window[He],ee.ins_h=Kr(ee,ee.ins_h,ee.window[He+1]);ee.insert&&(ee.ins_h=Kr(ee,ee.ins_h,ee.window[He+3-1]),ee.prev[He&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=He,He++,ee.insert--,!(ee.lookahead+ee.insert<3)););}while(ee.lookahead<gr&&ee.strm.avail_in!==0)};function Or(ee,Pe,He,it,ht){this.good_length=ee,this.max_lazy=Pe,this.nice_length=He,this.max_chain=it,this.func=ht}var Sr=[new Or(0,0,0,0,de),new Or(4,4,8,4,le),new Or(4,5,16,8,le),new Or(4,6,32,32,le),new Or(4,4,16,16,Ve),new Or(8,16,32,32,Ve),new Or(8,16,128,128,Ve),new Or(8,32,128,256,Ve),new Or(32,128,258,1024,Ve),new Or(32,258,258,4096,Ve)];function Vr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ln,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),$r(this.dyn_ltree),$r(this.dyn_dtree),$r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),$r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),$r(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var qr=function(ee){var Pe;return!ee||!(Pe=ee.state)||Pe.strm!==ee||Pe.status!==Qr&&Pe.status!==57&&Pe.status!==69&&Pe.status!==73&&Pe.status!==91&&Pe.status!==103&&Pe.status!==vr&&Pe.status!==Gr?1:0},ke=function(ee){if(qr(ee))return Ot(ee,pr);ee.total_in=ee.total_out=0,ee.data_type=un;var Pe=ee.state;return Pe.pending=0,Pe.pending_out=0,Pe.wrap<0&&(Pe.wrap=-Pe.wrap),Pe.status=Pe.wrap===2?57:Pe.wrap?Qr:vr,ee.adler=Pe.wrap===2?0:1,Pe.last_flush=-2,function(He){if(!st){for(var it,ht,Ht,xt=new Array(16),Gt=0,Tt=0;Tt<28;Tt++)for(K[Tt]=Gt,it=0;it<1<<L[Tt];it++)W[Gt++]=Tt;for(W[Gt-1]=Tt,Tt=Ht=0;Tt<16;Tt++)for(j[Tt]=Ht,it=0;it<1<<O[Tt];it++)Z[Ht++]=Tt;for(Ht>>=7;Tt<30;Tt++)for(j[Tt]=Ht<<7,it=0;it<1<<O[Tt]-7;it++)Z[256+Ht++]=Tt;for(ht=0;ht<=15;ht++)xt[ht]=0;for(it=0;it<=143;)k[2*it+1]=8,it++,xt[8]++;for(;it<=255;)k[2*it+1]=9,it++,xt[9]++;for(;it<=279;)k[2*it+1]=7,it++,xt[7]++;for(;it<=287;)k[2*it+1]=8,it++,xt[8]++;for(Yt(k,287,xt),it=0;it<30;it++)Y[2*it+1]=5,Y[2*it]=St(it,5);x=new ae(k,L,257,286,15),X=new ae(Y,O,0,30,15),H=new ae(new Array(0),T,0,19,7),st=!0}He.l_desc=new ce(He.dyn_ltree,x),He.d_desc=new ce(He.dyn_dtree,X),He.bl_desc=new ce(He.bl_tree,H),He.bi_buf=0,He.bi_valid=0,ne(He)}(Pe),tr},Ge=function(ee,Pe,He,it,ht,Ht){if(!ee)return pr;var xt=1;if(Pe===Kt&&(Pe=6),it<0?(xt=0,it=-it):15<it&&(xt=2,it-=16),ht<1||9<ht||He!==ln||it<8||15<it||Pe<0||9<Pe||Ht<0||fr<Ht||it===8&&xt!==1)return Ot(ee,pr);it===8&&(it=9);var Gt=new Vr;return(ee.state=Gt).strm=ee,Gt.status=Qr,Gt.wrap=xt,Gt.gzhead=null,Gt.w_bits=it,Gt.w_size=1<<Gt.w_bits,Gt.w_mask=Gt.w_size-1,Gt.hash_bits=ht+7,Gt.hash_size=1<<Gt.hash_bits,Gt.hash_mask=Gt.hash_size-1,Gt.hash_shift=~~((Gt.hash_bits+3-1)/3),Gt.window=new Uint8Array(2*Gt.w_size),Gt.head=new Uint16Array(Gt.hash_size),Gt.prev=new Uint16Array(Gt.w_size),Gt.lit_bufsize=1<<ht+6,Gt.pending_buf_size=4*Gt.lit_bufsize,Gt.pending_buf=new Uint8Array(Gt.pending_buf_size),Gt.sym_buf=Gt.lit_bufsize,Gt.sym_end=3*(Gt.lit_bufsize-1),Gt.level=Pe,Gt.strategy=Ht,Gt.method=He,(it=ke(xt=ee))===tr&&((xt=xt.state).window_size=2*xt.w_size,$r(xt.head),xt.max_lazy_match=Sr[xt.level].max_lazy,xt.good_match=Sr[xt.level].good_length,xt.nice_match=Sr[xt.level].nice_length,xt.max_chain_length=Sr[xt.level].max_chain,xt.strstart=0,xt.block_start=0,xt.lookahead=0,xt.insert=0,xt.match_length=xt.prev_length=2,xt.match_available=0,xt.ins_h=0),it};function Ke(ee){return(Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe})(ee)}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}for(var We=new Uint8Array(256),Ae=0;Ae<256;Ae++)We[Ae]=252<=Ae?6:248<=Ae?5:240<=Ae?4:224<=Ae?3:192<=Ae?2:1;function be(ee){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(ee);for(var Pe,He,it,ht,Ht=ee.length,xt=0,Gt=0;Gt<Ht;Gt++)(64512&(He=ee.charCodeAt(Gt)))==55296&&Gt+1<Ht&&(64512&(it=ee.charCodeAt(Gt+1)))==56320&&(He=65536+(He-55296<<10)+(it-56320),Gt++),xt+=He<128?1:He<2048?2:He<65536?3:4;for(Pe=new Uint8Array(xt),Gt=ht=0;ht<xt;Gt++)(64512&(He=ee.charCodeAt(Gt)))==55296&&Gt+1<Ht&&(64512&(it=ee.charCodeAt(Gt+1)))==56320&&(He=65536+(He-55296<<10)+(it-56320),Gt++),He<128?Pe[ht++]=He:(He<2048?Pe[ht++]=192|He>>>6:(He<65536?Pe[ht++]=224|He>>>12:(Pe[ht++]=240|He>>>18,Pe[ht++]=128|He>>>12&63),Pe[ht++]=128|He>>>6&63),Pe[ht++]=128|63&He);return Pe}function tt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}We[254]=We[254]=1;var dt=Object.prototype.toString,It=Ut.Z_NO_FLUSH,rt=Ut.Z_SYNC_FLUSH,Ze=Ut.Z_FULL_FLUSH,Nt=Ut.Z_FINISH,Lt=Ut.Z_OK,cr=Ut.Z_STREAM_END,Me=Ut.Z_DEFAULT_COMPRESSION,me=Ut.Z_DEFAULT_STRATEGY,Be=Ut.Z_DEFLATED;function ve(ee){this.options=function(ht){for(var Ht,xt,Gt=Array.prototype.slice.call(arguments,1);Gt.length;){var Tt=Gt.shift();if(Tt){if(Ke(Tt)!=="object")throw new TypeError(Tt+"must be non-object");for(var Ir in Tt)Ht=Tt,xt=Ir,Object.prototype.hasOwnProperty.call(Ht,xt)&&(ht[Ir]=Tt[Ir])}}return ht}({level:Me,method:Be,chunkSize:16384,windowBits:15,memLevel:8,strategy:me},ee||{});var Pe,He=((ee=this.options).raw&&0<ee.windowBits?ee.windowBits=-ee.windowBits:ee.gzip&&0<ee.windowBits&&ee.windowBits<16&&(ee.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tt,this.strm.avail_out=0,Ge(this.strm,ee.level,ee.method,ee.windowBits,ee.memLevel,ee.strategy));if(He!==Lt)throw new Error(zt[He]);if(ee.header&&(it=this.strm,Pe=ee.header,qr(it)||it.state.wrap!==2||(it.state.gzhead=Pe)),ee.dictionary){var it=typeof ee.dictionary=="string"?be(ee.dictionary):dt.call(ee.dictionary)==="[object ArrayBuffer]"?new Uint8Array(ee.dictionary):ee.dictionary;if((He=function(ht,Ht){var xt=Ht.length;if(qr(ht))return pr;var Gt=ht.state,Tt=Gt.wrap;if(Tt===2||Tt===1&&Gt.status!==Qr||Gt.lookahead)return pr;Tt===1&&(ht.adler=Et(ht.adler,Ht,xt,0)),Gt.wrap=0,xt>=Gt.w_size&&(Tt===0&&($r(Gt.head),Gt.strstart=0,Gt.block_start=0,Gt.insert=0),(Ir=new Uint8Array(Gt.w_size)).set(Ht.subarray(xt-Gt.w_size,xt),0),Ht=Ir,xt=Gt.w_size);var Ir=ht.avail_in,bt=ht.next_in,Zr=ht.input;for(ht.avail_in=xt,ht.next_in=0,ht.input=Ht,Tr(Gt);3<=Gt.lookahead;){for(var Wr=Gt.strstart,Mn=Gt.lookahead-2;Gt.ins_h=Kr(Gt,Gt.ins_h,Gt.window[Wr+3-1]),Gt.prev[Wr&Gt.w_mask]=Gt.head[Gt.ins_h],Gt.head[Gt.ins_h]=Wr,Wr++,--Mn;);Gt.strstart=Wr,Gt.lookahead=2,Tr(Gt)}return Gt.strstart+=Gt.lookahead,Gt.block_start=Gt.strstart,Gt.insert=Gt.lookahead,Gt.lookahead=0,Gt.match_length=Gt.prev_length=2,Gt.match_available=0,ht.next_in=bt,ht.input=Zr,ht.avail_in=Ir,Gt.wrap=Tt,tr}(this.strm,it))!==Lt)throw new Error(zt[He]);this._dict_set=!0}}function Ue(ee,Pe){if((Pe=new ve(Pe)).push(ee,!0),Pe.err)throw Pe.msg||zt[Pe.err];return Pe.result}function Se(ee,Pe){return(Pe=Pe||{}).raw=!0,Ue(ee,Pe)}function je(ee,Pe){return(Pe=Pe||{}).gzip=!0,Ue(ee,Pe)}ve.prototype.push=function(ee,Pe){var He,it,ht,Ht,xt=this.strm,Gt=this.options.chunkSize;if(this.ended)return!1;for(it=Pe===~~Pe?Pe:Pe===!0?Nt:It,typeof ee=="string"?xt.input=be(ee):dt.call(ee)==="[object ArrayBuffer]"?xt.input=new Uint8Array(ee):xt.input=ee,xt.next_in=0,xt.avail_in=xt.input.length;;)if(xt.avail_out===0&&(xt.output=new Uint8Array(Gt),xt.next_out=0,xt.avail_out=Gt),(it===rt||it===Ze)&&xt.avail_out<=6)this.onData(xt.output.subarray(0,xt.next_out)),xt.avail_out=0;else{if((He=function(Tt,Ir){if(qr(Tt)||nr<Ir||Ir<0)return Tt?Ot(Tt,pr):pr;var bt=Tt.state;if(!Tt.output||Tt.avail_in!==0&&!Tt.input||bt.status===Gr&&Ir!==qe)return Ot(Tt,Tt.avail_out===0?Dr:pr);var Zr=bt.last_flush;if(bt.last_flush=Ir,bt.pending!==0){if(Hr(Tt),Tt.avail_out===0)return bt.last_flush=-1,tr}else if(Tt.avail_in===0&&ge(Ir)<=ge(Zr)&&Ir!==qe)return Ot(Tt,Dr);if(bt.status===Gr&&Tt.avail_in!==0)return Ot(Tt,Dr);if(bt.status===Qr&&bt.wrap===0&&(bt.status=vr),bt.status===Qr&&(Zr=ln+(bt.w_bits-8<<4)<<8,Zr|=(bt.strategy>=Nr||bt.level<2?0:bt.level<6?1:bt.level===6?2:3)<<6,bt.strstart!==0&&(Zr|=32),ie(bt,Zr+=31-Zr%31),bt.strstart!==0&&(ie(bt,Tt.adler>>>16),ie(bt,65535&Tt.adler)),Tt.adler=1,bt.status=vr,Hr(Tt),bt.pending!==0))return bt.last_flush=-1,tr;if(bt.status===57){if(Tt.adler=0,fe(bt,31),fe(bt,139),fe(bt,8),bt.gzhead)fe(bt,(bt.gzhead.text?1:0)+(bt.gzhead.hcrc?2:0)+(bt.gzhead.extra?4:0)+(bt.gzhead.name?8:0)+(bt.gzhead.comment?16:0)),fe(bt,255&bt.gzhead.time),fe(bt,bt.gzhead.time>>8&255),fe(bt,bt.gzhead.time>>16&255),fe(bt,bt.gzhead.time>>24&255),fe(bt,bt.level===9?2:bt.strategy>=Nr||bt.level<2?4:0),fe(bt,255&bt.gzhead.os),bt.gzhead.extra&&bt.gzhead.extra.length&&(fe(bt,255&bt.gzhead.extra.length),fe(bt,bt.gzhead.extra.length>>8&255)),bt.gzhead.hcrc&&(Tt.adler=Ft(Tt.adler,bt.pending_buf,bt.pending,0)),bt.gzindex=0,bt.status=69;else if(fe(bt,0),fe(bt,0),fe(bt,0),fe(bt,0),fe(bt,0),fe(bt,bt.level===9?2:bt.strategy>=Nr||bt.level<2?4:0),fe(bt,3),bt.status=vr,Hr(Tt),bt.pending!==0)return bt.last_flush=-1,tr}if(bt.status===69){if(bt.gzhead.extra){for(var Wr=bt.pending,Mn=(65535&bt.gzhead.extra.length)-bt.gzindex;bt.pending+Mn>bt.pending_buf_size;){var ui=bt.pending_buf_size-bt.pending;if(bt.pending_buf.set(bt.gzhead.extra.subarray(bt.gzindex,bt.gzindex+ui),bt.pending),bt.pending=bt.pending_buf_size,bt.gzhead.hcrc&&bt.pending>Wr&&(Tt.adler=Ft(Tt.adler,bt.pending_buf,bt.pending-Wr,Wr)),bt.gzindex+=ui,Hr(Tt),bt.pending!==0)return bt.last_flush=-1,tr;Wr=0,Mn-=ui}Zr=new Uint8Array(bt.gzhead.extra),bt.pending_buf.set(Zr.subarray(bt.gzindex,bt.gzindex+Mn),bt.pending),bt.pending+=Mn,bt.gzhead.hcrc&&bt.pending>Wr&&(Tt.adler=Ft(Tt.adler,bt.pending_buf,bt.pending-Wr,Wr)),bt.gzindex=0}bt.status=73}if(bt.status===73){if(bt.gzhead.name){var tn,Bn=bt.pending;do if(bt.pending===bt.pending_buf_size){if(bt.gzhead.hcrc&&bt.pending>Bn&&(Tt.adler=Ft(Tt.adler,bt.pending_buf,bt.pending-Bn,Bn)),Hr(Tt),bt.pending!==0)return bt.last_flush=-1,tr;Bn=0}while(tn=bt.gzindex<bt.gzhead.name.length?255&bt.gzhead.name.charCodeAt(bt.gzindex++):0,fe(bt,tn),tn!=0);bt.gzhead.hcrc&&bt.pending>Bn&&(Tt.adler=Ft(Tt.adler,bt.pending_buf,bt.pending-Bn,Bn)),bt.gzindex=0}bt.status=91}if(bt.status===91){if(bt.gzhead.comment){var jn,di=bt.pending;do if(bt.pending===bt.pending_buf_size){if(bt.gzhead.hcrc&&bt.pending>di&&(Tt.adler=Ft(Tt.adler,bt.pending_buf,bt.pending-di,di)),Hr(Tt),bt.pending!==0)return bt.last_flush=-1,tr;di=0}while(jn=bt.gzindex<bt.gzhead.comment.length?255&bt.gzhead.comment.charCodeAt(bt.gzindex++):0,fe(bt,jn),jn!=0);bt.gzhead.hcrc&&bt.pending>di&&(Tt.adler=Ft(Tt.adler,bt.pending_buf,bt.pending-di,di))}bt.status=103}if(bt.status===103){if(bt.gzhead.hcrc){if(bt.pending+2>bt.pending_buf_size&&(Hr(Tt),bt.pending!==0))return bt.last_flush=-1,tr;fe(bt,255&Tt.adler),fe(bt,Tt.adler>>8&255),Tt.adler=0}if(bt.status=vr,Hr(Tt),bt.pending!==0)return bt.last_flush=-1,tr}if(Tt.avail_in!==0||bt.lookahead!==0||Ir!==wr&&bt.status!==Gr){if(Zr=bt.level===0?de(bt,Ir):bt.strategy===Nr?function(Jr,Ci){for(var vi;;){if(Jr.lookahead===0&&(Tr(Jr),Jr.lookahead===0)){if(Ci===wr)return 1;break}if(Jr.match_length=0,vi=Br(Jr,0,Jr.window[Jr.strstart]),Jr.lookahead--,Jr.strstart++,vi&&(Ee(Jr,!1),Jr.strm.avail_out===0))return 1}return Jr.insert=0,Ci===qe?(Ee(Jr,!0),Jr.strm.avail_out===0?3:4):Jr.sym_next&&(Ee(Jr,!1),Jr.strm.avail_out===0)?1:2}(bt,Ir):bt.strategy===Rr?function(Jr,Ci){for(var vi,Pr,Un,Mr,Dn=Jr.window;;){if(Jr.lookahead<=_r){if(Tr(Jr),Jr.lookahead<=_r&&Ci===wr)return 1;if(Jr.lookahead===0)break}if(Jr.match_length=0,3<=Jr.lookahead&&0<Jr.strstart&&(Pr=Dn[Un=Jr.strstart-1])===Dn[++Un]&&Pr===Dn[++Un]&&Pr===Dn[++Un]){for(Mr=Jr.strstart+_r;Pr===Dn[++Un]&&Pr===Dn[++Un]&&Pr===Dn[++Un]&&Pr===Dn[++Un]&&Pr===Dn[++Un]&&Pr===Dn[++Un]&&Pr===Dn[++Un]&&Pr===Dn[++Un]&&Un<Mr;);Jr.match_length=_r-(Mr-Un),Jr.match_length>Jr.lookahead&&(Jr.match_length=Jr.lookahead)}if(3<=Jr.match_length?(vi=Br(Jr,1,Jr.match_length-3),Jr.lookahead-=Jr.match_length,Jr.strstart+=Jr.match_length,Jr.match_length=0):(vi=Br(Jr,0,Jr.window[Jr.strstart]),Jr.lookahead--,Jr.strstart++),vi&&(Ee(Jr,!1),Jr.strm.avail_out===0))return 1}return Jr.insert=0,Ci===qe?(Ee(Jr,!0),Jr.strm.avail_out===0?3:4):Jr.sym_next&&(Ee(Jr,!1),Jr.strm.avail_out===0)?1:2}(bt,Ir):Sr[bt.level].func(bt,Ir),Zr!==3&&Zr!==4||(bt.status=Gr),Zr===1||Zr===3)return Tt.avail_out===0&&(bt.last_flush=-1),tr;if(Zr===2&&(Ir===kt?Zt(bt):Ir!==nr&&(Vt(bt,0,0,!1),Ir===Ar)&&($r(bt.head),bt.lookahead===0)&&(bt.strstart=0,bt.block_start=0,bt.insert=0),Hr(Tt),Tt.avail_out===0))return bt.last_flush=-1,tr}return Ir===qe&&(bt.wrap<=0||(bt.wrap===2?(fe(bt,255&Tt.adler),fe(bt,Tt.adler>>8&255),fe(bt,Tt.adler>>16&255),fe(bt,Tt.adler>>24&255),fe(bt,255&Tt.total_in),fe(bt,Tt.total_in>>8&255),fe(bt,Tt.total_in>>16&255),fe(bt,Tt.total_in>>24&255)):(ie(bt,Tt.adler>>>16),ie(bt,65535&Tt.adler)),Hr(Tt),0<bt.wrap&&(bt.wrap=-bt.wrap),bt.pending===0))?lr:tr}(xt,it))===cr)return 0<xt.next_out&&this.onData(xt.output.subarray(0,xt.next_out)),ht=this.strm,Ht=void 0,He=qr(ht)?pr:(Ht=ht.state.status,ht.state=null,Ht===vr?Ot(ht,rr):tr),this.onEnd(He),this.ended=!0,He===Lt;if(xt.avail_out!==0){if(0<it&&0<xt.next_out)this.onData(xt.output.subarray(0,xt.next_out)),xt.avail_out=0;else if(xt.avail_in===0)break}else this.onData(xt.output)}return!0},ve.prototype.onData=function(ee){this.chunks.push(ee)},ve.prototype.onEnd=function(ee){ee===Lt&&(this.result=function(Pe){for(var He=0,it=0,ht=Pe.length;it<ht;it++)He+=Pe[it].length;for(var Ht=new Uint8Array(He),xt=0,Gt=0,Tt=Pe.length;xt<Tt;xt++){var Ir=Pe[xt];Ht.set(Ir,Gt),Gt+=Ir.length}return Ht}(this.chunks)),this.chunks=[],this.err=ee,this.msg=this.strm.msg};var pt={Deflate:ve,deflate:At=Ue,deflateRaw:Se,gzip:je,constants:Ut};z.Deflate=ve,z.constants=Ut,z.default=pt,z.deflate=At,z.deflateRaw=Se,z.gzip=je,Object.defineProperty(z,"__esModule",{value:!0})})(F)},function(te,F,V){function z($,L,O,T){if(this.bucketSize=1,this.tokensPerInterval=1,this.interval=1e3,this.parentBucket=null,this.content=0,this.lastDrip=0,this.bucketSize=$,this.tokensPerInterval=L,typeof O=="string")switch(O){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+O)}else this.interval=O;this.parentBucket=T,this.content=0,this.lastDrip=+new Date}Object.defineProperty(F,"__esModule",{value:!0}),F.TokenBucket=void 0,z.prototype.removeTokens=function($,L){var O=this;return this.bucketSize?$>this.bucketSize?(setTimeout(L.bind(null,"Requested tokens "+$+" exceeds bucket size "+this.bucketSize,null),0),!1):(this.drip(),$>this.content?T():this.parentBucket?this.parentBucket.removeTokens($,function(w,k){return w?L(w,null):$>O.content?T():(O.content-=$,void L(null,Math.min(k,O.content)))}):(this.content-=$,setTimeout(L.bind(null,null,this.content),0),!0)):(setTimeout(L.bind(null,null,$,Number.POSITIVE_INFINITY),0),!0);function T(){var w=Math.ceil(($-O.content)*(O.interval/O.tokensPerInterval));return setTimeout(function(){O.removeTokens($,L)},w),!1}},z.prototype.tryRemoveTokens=function($){if(this.bucketSize){if($>this.bucketSize||(this.drip(),$>this.content)||this.parentBucket&&!this.parentBucket.tryRemoveTokens($))return!1;this.content-=$}return!0},z.prototype.drip=function(){var $,L;this.tokensPerInterval?(L=+new Date,$=Math.max(L-this.lastDrip,0),this.lastDrip=L,L=$*(this.tokensPerInterval/this.interval),this.content=Math.min(this.content+L,this.bucketSize)):this.content=this.bucketSize},F.TokenBucket=z},function(te,F,V){var z=this&&this.__awaiter||function(Z,W,K,x){return new(K=K||Promise)(function(X,H){function j(ne){try{ce(x.next(ne))}catch(Qe){H(Qe)}}function ae(ne){try{ce(x.throw(ne))}catch(Qe){H(Qe)}}function ce(ne){var Qe;ne.done?X(ne.value):((Qe=ne.value)instanceof K?Qe:new K(function(De){De(Qe)})).then(j,ae)}ce((x=x.apply(Z,W||[])).next())})},$=this&&this.__generator||function(Z,W){var K,x,X,H={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]},j={next:ae(0),throw:ae(1),return:ae(2)};return typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function ae(ce){return function(ne){var Qe=[ce,ne];if(K)throw new TypeError("Generator is already executing.");for(;H;)try{if(K=1,x&&(X=2&Qe[0]?x.return:Qe[0]?x.throw||((X=x.return)&&X.call(x),0):x.next)&&!(X=X.call(x,Qe[1])).done)return X;switch(x=0,(Qe=X?[2&Qe[0],X.value]:Qe)[0]){case 0:case 1:X=Qe;break;case 4:return H.label++,{value:Qe[1],done:!1};case 5:H.label++,x=Qe[1],Qe=[0];continue;case 7:Qe=H.ops.pop(),H.trys.pop();continue;default:if(!(X=0<(X=H.trys).length&&X[X.length-1])&&(Qe[0]===6||Qe[0]===2)){H=0;continue}if(Qe[0]===3&&(!X||Qe[1]>X[0]&&Qe[1]<X[3]))H.label=Qe[1];else if(Qe[0]===6&&H.label<X[1])H.label=X[1],X=Qe;else{if(!(X&&H.label<X[2])){X[2]&&H.ops.pop(),H.trys.pop();continue}H.label=X[2],H.ops.push(Qe)}}Qe=W.call(Z,H)}catch(De){Qe=[6,De],x=0}finally{K=X=0}if(5&Qe[0])throw Qe[1];return{value:Qe[0]?Qe[1]:void 0,done:!0}}}},L=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}},O=(Object.defineProperty(F,"__esModule",{value:!0}),F.ZegoStoreHandler=void 0,V(11)),T=V(5),w=V(4),k=L(V(12));function Y(Z,W,K,x,X,H){this.name=Z,this.storeName=W,this.config=K,this.traceType=x,this.staticConfig=X,this.stateCenter=H,this.storeSize=0,this.storeTime=0,this.storeDelPer=w.STORE_SIZE.storeDelPer,this.updateTimeFreq=6e4,this.storeSleepInterval=6e5,this.droping=!1,this.bufferData=[],this.updateTimer=null,this.interSymbol="#",this.drops=[],this.storesKeys="",this.transStores=[],this.store=O.createZegoStore(Z,K.env,W),this.commonStore=O.createZegoStore("data_common",K.env,"reporter")}Object.defineProperty(Y.prototype,"KEY",{get:function(){return"z_t_"+this.config.appID},enumerable:!1,configurable:!0}),Object.defineProperty(Y.prototype,"STORES_KEY",{get:function(){return"z_store_keys"},enumerable:!1,configurable:!0}),Y.prototype.init=function(){return z(this,void 0,void 0,function(){var Z,W;return $(this,function(K){switch(K.label){case 0:return K.trys.push([0,6,,7]),this.setCommonStoreState(),[4,this.transferStoreData()];case 1:return K.sent(),[4,this.commonStore.getItem(this.name+this.interSymbol+this.storeName)];case 2:return(Z=K.sent())?[3,4]:(W={storeSize:this.storeSize,lock:0,pros:1},[4,this.commonStore.setItem(this.name+this.interSymbol+this.storeName,W)]);case 3:return K.sent(),[3,5];case 4:W=typeof Z=="string"?JSON.parse(Z):Z,this.storeSize=W.storeSize,K.label=5;case 5:return[3,7];case 6:return K.sent(),[3,7];case 7:return[2]}})})},Y.prototype.uninit=function(){this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)},Y.prototype.setCommonStoreState=function(){var Z=this,W=(this.getStorage(this.STORES_KEY)||"").split(";");this.transStores=W.filter(function(K){return K.includes(Z.config.appID+"")}),W=W.filter(function(K){return!K.includes(Z.config.appID+"")}),this.storesKeys=W.join(";")},Y.prototype.resetCommonStore=function(){return z(this,void 0,void 0,function(){var Z;return $(this,function(W){switch(W.label){case 0:return Z=0<this.storesKeys.length?";":"",this.saveStorage(this.STORES_KEY,this.storesKeys+Z+this.name+this.interSymbol+this.storeName),[4,this.commonStore.setItem(this.name+this.interSymbol+this.storeName,{storeSize:this.storeSize,lock:0,pros:0})];case 1:return W.sent(),[2]}})})},Y.prototype.transferStoreData=function(){return z(this,void 0,void 0,function(){var Z,W,K,x,X=this;return $(this,function(H){switch(H.label){case 0:return[4,this.commonStore.keys()];case 1:Z=H.sent(),W=function(j){var ae,ce,ne,Qe,De,Fe,pe,ot;return $(this,function(ft){switch(ft.label){case 0:return(ae=Z[j])===K.name+K.interSymbol+K.storeName?[3,9]:[4,K.commonStore.getItem(ae)];case 1:return(ce=typeof(ce=ft.sent())=="string"?JSON.parse(ce):ce).lock||ce.pros&&!K.transStores.includes(ae)?[3,9]:(Qe=ae.split(K.interSymbol),ne=Qe[0],Qe=Qe[1],[4,(De=O.createZegoStore(ne,K.config.env,Qe)).keys()]);case 2:return(Fe=ft.sent()).length!=0?[3,3]:[3,8];case 3:return ce.lock=1,[4,K.commonStore.setItem(ae,ce)];case 4:ft.sent(),pe=function(yt){var Ot,ge,Ee,fe,ie;return $(this,function(ue){switch(ue.label){case 0:return Ot=Fe[yt],[4,De.getItem(Ot)];case 1:return ge=ue.sent(),Ot.indexOf("pending")!==-1?ge&&JSON.parse(ge).forEach(function(de){return z(X,void 0,void 0,function(){return $(this,function(le){switch(le.label){case 0:return[4,this.storeData(de)];case 1:return le.sent(),[2]}})})}):(ie=T.analyzeKey(Ot),Ee=ie.level,fe=ie.timestamp,ie=ie.seq,K.storeData({level:Ee,timestamp:fe,seq:ie,content:ge})),setTimeout(function(){return z(X,void 0,void 0,function(){return $(this,function(de){switch(de.label){case 0:return[4,De.removeItem(Ot)];case 1:return de.sent(),[2]}})})},300),[2]}})},ot=0,ft.label=5;case 5:return ot<Fe.length?[5,pe(ot)]:[3,8];case 6:ft.sent(),ft.label=7;case 7:return ot++,[3,5];case 8:K.drops.push({name:ne,storeName:Qe}),ft.label=9;case 9:return[2]}})},K=this,x=0,H.label=2;case 2:return x<Z.length?[5,W(x)]:[3,5];case 3:H.sent(),H.label=4;case 4:return x++,[3,2];case 5:return this.transportStorageData(),setTimeout(function(){return z(X,void 0,void 0,function(){var j,ae,ce;return $(this,function(ne){switch(ne.label){case 0:j=0,ne.label=1;case 1:if(!(j<this.drops.length))return[3,7];ce=this.drops[j],ae=ce.name,ce=ce.storeName,ne.label=2;case 2:return ne.trys.push([2,5,,6]),[4,this.dropInstance(ae,ce)];case 3:return ne.sent(),[4,this.commonStore.removeItem(ae+this.interSymbol+ce)];case 4:case 5:return ne.sent(),[3,6];case 6:return j++,[3,1];case 7:return[2]}})})},1e3),[2]}})})},Y.prototype.dropInstance=function(Z,W){return new Promise(function(K,x){k.default.dropInstance({name:Z+":"+W}).then(function(){K()}).catch(function(X){x(X)})})},Y.prototype.setDropCallBack=function(Z){this.dropCallBack=Z},Y.prototype.storeData=function(Z){var W=this;return new Promise(function(K,x){return z(W,void 0,void 0,function(){var X,H,j,ae,ce,ne=this;return $(this,function(Qe){switch(Qe.label){case 0:X=Z.level,ae=Z.timestamp,H=Z.seq,j=Z.content,ae=X+"_"+ae+"_"+H,Qe.label=1;case 1:return Qe.trys.push([1,3,,4]),[4,this.store.getItem(ae)];case 2:return Qe.sent()?(K(),[2]):[3,4];case 3:return Qe.sent(),[3,4];case 4:if(this.droping)return this.bufferData.push(Z),[2];if(ce=T.calculateMemSize(ae)+T.calculateMemSize(j),this.staticConfig.totalDBSize-ce<=0)return this.dropDBData(X,ae,j).then(function(){ne.droping=!1,ne.bufferDump()}).catch(function(De){}),K(),[2];Qe.label=5;case 5:return Qe.trys.push([5,8,,9]),[4,this.store.setItem(ae,j)];case 6:return Qe.sent(),this.storeSize+=ce,this.staticConfig.totalDBSize-=ce,[4,this.refreshStoreInfo()];case 7:return Qe.sent(),K(),[3,9];case 8:return Qe.sent().name==="QuotaExceededError"&&this.dropDBData(X,ae,j).then(function(){ne.droping=!1,ne.bufferDump()}).catch(function(De){}),[3,9];case 9:return[2]}})})})},Y.prototype.loadPendingData=function(){return z(this,void 0,void 0,function(){var Z=this;return $(this,function(W){switch(W.label){case 0:return[4,this.store.keys()];case 1:return W.sent().forEach(function(K){return z(Z,void 0,void 0,function(){var x,X=this;return $(this,function(H){switch(H.label){case 0:return K.indexOf("pending")===-1?[3,3]:[4,this.store.getItem(K)];case 1:return(x=H.sent())?(JSON.parse(x).forEach(function(j){return z(X,void 0,void 0,function(){return $(this,function(ae){switch(ae.label){case 0:return[4,this.storeData(j)];case 1:return ae.sent(),[2]}})})}),[4,this.store.removeItem(K)]):[3,3];case 2:H.sent(),H.label=3;case 3:return[2]}})})}),[2]}})})},Y.prototype.storePendingData=function(Z){return z(this,void 0,void 0,function(){return $(this,function(W){switch(W.label){case 0:return[4,this.store.setItem("pending"+new Date().getTime(),JSON.stringify(Z))];case 1:return W.sent(),[2]}})})},Y.prototype.bufferDump=function(){return z(this,void 0,void 0,function(){var Z;return $(this,function(W){switch(W.label){case 0:return(Z=this.bufferData.pop())?[4,this.storeData(Z)]:[3,2];case 1:W.sent(),this.bufferDump(),W.label=2;case 2:return[2]}})})},Y.prototype.dropDBData=function(Z,W,K){return z(this,void 0,void 0,function(){var x=this;return $(this,function(X){return this.droping=!0,[2,new Promise(function(H,j){return z(x,void 0,void 0,function(){var ae,ce,ne,Qe,De;return $(this,function(Fe){switch(Fe.label){case 0:return Fe.trys.push([0,10,,11]),[4,this.store.keys()];case 1:(ae=Fe.sent()).reverse(),ce=Math.ceil(ae.length*this.storeDelPer),ne=0,Fe.label=2;case 2:return ne<ce?[4,this.store.getItem(ae[ne])]:[3,7];case 3:return(Qe=Fe.sent())==null?[3,6]:[4,this.store.removeItem(ae[ne])];case 4:return Fe.sent(),De=T.calculateMemSize(ae[ne])+T.calculateMemSize(Qe),this.staticConfig.totalDBSize+=De,this.storeSize-=De,[4,this.refreshStoreInfo()];case 5:Fe.sent(),this.dropCallBack(Qe),Fe.label=6;case 6:return ne++,[3,2];case 7:return[4,this.store.setItem(W,K)];case 8:return Fe.sent(),this.storeSize+=T.calculateMemSize(W)+T.calculateMemSize(K),[4,this.refreshStoreInfo()];case 9:return Fe.sent(),H(),[3,11];case 10:return De=Fe.sent(),j(De),[3,11];case 11:return[2]}})})})]})})},Y.prototype.removeDataItem=function(Z){var W=this;return new Promise(function(K,x){return z(W,void 0,void 0,function(){var X,H,j,ae,ce;return $(this,function(ne){switch(ne.label){case 0:X=Z.level,j=Z.timestamp,ae=Z.seq,Z.content,X=X+"_"+j+"_"+ae,ne.label=1;case 1:return ne.trys.push([1,6,,7]),[4,this.store.getItem(X)];case 2:return(H=ne.sent())?[4,this.store.removeItem(X)]:[3,5];case 3:return ne.sent(),j=this.config.env==1?T.calculateMemSize(JSON.parse(H)):T.calculateMemSize(H),ae=T.calculateMemSize(X)+j,this.storeSize-=ae,this.staticConfig.totalDBSize+=ae,this.traceType.DB_O_DONE+=ae,[4,this.refreshStoreInfo()];case 4:ne.sent(),K(),ne.label=5;case 5:return[3,7];case 6:return ce=ne.sent(),x(ce),[3,7];case 7:return[2]}})})})},Y.prototype.refreshStoreInfo=function(){return z(this,void 0,void 0,function(){return $(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,4,,5]),[4,this.commonStore.getItem(this.name+this.interSymbol+this.storeName)];case 1:return Z.sent()?[4,this.commonStore.setItem(this.name+this.interSymbol+this.storeName,{storeSize:this.storeSize,lock:0,pros:1})]:[3,3];case 2:Z.sent(),Z.label=3;case 3:return[3,5];case 4:return Z.sent(),[3,5];case 5:return[2]}})})},Y.prototype.readStoreDataItem=function(){var Z=this;return new Promise(function(W,K){return z(Z,void 0,void 0,function(){var x,X,H,j,ae;return $(this,function(ce){switch(ce.label){case 0:return ce.trys.push([0,3,,4]),[4,this.store.keys()];case 1:return x=ce.sent(),[4,this.store.getItem(x[0])];case 2:return X=ce.sent(),j=T.analyzeKey(x[0]),ae=j.level,H=j.timestamp,j=j.seq,W({level:ae,timestamp:H,seq:j,content:X}),[3,4];case 3:return ae=ce.sent(),K(ae),[3,4];case 4:return[2]}})})})},Y.prototype.loadDBData=function(Z,W,K,x){var X=this;return new Promise(function(H,j){return z(X,void 0,void 0,function(){var ae,ce,ne,Qe,De,Fe,pe,ot,ft,yt;return $(this,function(Ot){switch(Ot.label){case 0:return Ot.trys.push([0,6,,7]),[4,this.store.keys()];case 1:ae=Ot.sent(),ce=[],Fe=De=Qe=ne=0,Ot.label=2;case 2:return Fe<ae.length?x(ae[Fe])?[3,4]:[4,this.store.getItem(ae[Fe])]:[3,5];case 3:if((pe=Ot.sent())==null)return[3,4];if(ot=T.analyzeKey(ae[Fe]),ft=ot.level,yt=ot.timestamp,ot=ot.seq,ce.push({level:ft,timestamp:yt,seq:ot,content:pe,key:ae[Fe]}),ft=T.calculateMemSize(pe),Qe+=ft,Z<=(ne+=ft)&&(ne=0,De++),W<=De&&K<=Qe)return[3,5];Ot.label=4;case 4:return Fe++,[3,2];case 5:return H({datas:ce,len:Qe}),[3,7];case 6:return yt=Ot.sent(),j(yt),[3,7];case 7:return[2]}})})})},Y.prototype.sortKeys=function(Z,W){W===void 0&&(W=!1),Z.sort(function(K,x){return K=K.split("_"),+(x=x.split("_"))[0]-+K[0]||+x[1]-+K[1]||+x[2]-+K[2]}),W&&Z.reverse()},Y.prototype.saveStorage=function(Z,W){try{localStorage.setItem(Z,W)}catch{this.stateCenter._log.debug("storage set err")}},Y.prototype.getStorage=function(Z){try{return localStorage.getItem(Z)}catch{this.stateCenter._log.debug("storage get err")}},Y.prototype.saveDataToStorage=function(Z){try{var W=Z.level,K=Z.timestamp,x=Z.seq,X=Z.content,H=W+"_"+K+"_"+x;this.saveStorage(this.KEY+"_"+H,X)}catch(j){this.stateCenter._log.debug("saveDataToStorage "+JSON.stringify(j))}},Y.prototype.transportStorageData=function(){for(var Z=[],W=0;W<localStorage.length;W++){var K,x,X,H,j=localStorage.key(W);this.stateCenter._log.debug("transportStorageData "+j),j!=null&&j.startsWith(this.KEY)&&(X=j.replace(this.KEY+"_",""),K=(X=T.analyzeKey(X)).level,x=X.timestamp,X=X.seq,typeof(H=this.getStorage(j))=="string"&&this.storeData({level:K,timestamp:x,seq:X,content:H}),Z.push(j))}setTimeout(function(){for(var ae=0;ae<Z.length;ae++)localStorage.removeItem(Z[ae])},100)},F.ZegoStoreHandler=Y},function(te,F,V){var z=V(32),$=V(33).Buffer;function L(O){return function(T){if($.isBuffer(T))return T.length;switch(typeof T){case"string":return T.length*z.STRING;case"boolean":return z.BOOLEAN;case"number":return z.NUMBER;case"symbol":return Symbol.keyFor&&Symbol.keyFor(T)?Symbol.keyFor(T).length*z.STRING:(T.toString().length-8)*z.STRING;case"object":if(Array.isArray(T))return T.map(L(O)).reduce(function(x,X){return x+X},0);var w=O,k=T;if(k==null)return 0;for(var Y=0,Z=function(x){var X,H=[];for(X in x)H.push(X);return Object.getOwnPropertySymbols&&(x=Object.getOwnPropertySymbols(x),Array.prototype.push.apply(H,x)),H}(k),W=0;W<Z.length;W++){var K=Z[W];if(typeof k[K]=="object"&&k[K]!==null){if(w.has(k[K]))continue;w.add(k[K])}Y+=L(w)(K);try{Y+=L(w)(k[K])}catch(x){x instanceof RangeError&&(Y=0)}}return Y;default:return 0}}}te.exports=function(O){return L(new WeakSet)(O)}},function(te,F){te.exports={STRING:2,BOOLEAN:4,NUMBER:8}},function(te,F,V){(function(z){var $=V(35),L=V(36),O=V(37);function T(){return k.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function w(ue,de){if(T()<de)throw new RangeError("Invalid typed array length");return k.TYPED_ARRAY_SUPPORT?(ue=new Uint8Array(de)).__proto__=k.prototype:(ue=ue===null?new k(de):ue).length=de,ue}function k(ue,de,le){if(!(k.TYPED_ARRAY_SUPPORT||this instanceof k))return new k(ue,de,le);if(typeof ue!="number")return Y(this,ue,de,le);if(typeof de=="string")throw new Error("If encoding is specified then the first argument must be a string");return W(this,ue)}function Y(ue,de,le,Ve){if(typeof de=="number")throw new TypeError('"value" argument must not be a number');if(typeof ArrayBuffer<"u"&&de instanceof ArrayBuffer){var nt=ue,ct=de,Re=le;if(ct.byteLength,Re<0||ct.byteLength<Re)throw new RangeError("'offset' is out of bounds");if(ct.byteLength<Re+(Ve||0))throw new RangeError("'length' is out of bounds");return ct=Re===void 0&&Ve===void 0?new Uint8Array(ct):Ve===void 0?new Uint8Array(ct,Re):new Uint8Array(ct,Re,Ve),k.TYPED_ARRAY_SUPPORT?(nt=ct).__proto__=k.prototype:nt=K(nt,ct),nt}if(typeof de!="string"){if(Re=ue,Ve=de,k.isBuffer(Ve))return(Re=w(Re,ct=0|x(Ve.length))).length!==0&&Ve.copy(Re,0,0,ct),Re;if(Ve){if(typeof ArrayBuffer<"u"&&Ve.buffer instanceof ArrayBuffer||"length"in Ve)return typeof Ve.length!="number"||(ct=Ve.length)!=ct?w(Re,0):K(Re,Ve);if(Ve.type==="Buffer"&&O(Ve.data))return K(Re,Ve.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}if(nt=ue,Ve=de,k.isEncoding(ue=typeof(ue=le)=="string"&&ue!==""?ue:"utf8"))return(Ve=(nt=w(nt,de=0|X(Ve,ue))).write(Ve,ue))!==de?nt.slice(0,Ve):nt;throw new TypeError('"encoding" must be a valid string encoding')}function Z(ue){if(typeof ue!="number")throw new TypeError('"size" argument must be a number');if(ue<0)throw new RangeError('"size" argument must not be negative')}function W(ue,de){if(Z(de),ue=w(ue,de<0?0:0|x(de)),!k.TYPED_ARRAY_SUPPORT)for(var le=0;le<de;++le)ue[le]=0;return ue}function K(ue,de){var le=de.length<0?0:0|x(de.length);ue=w(ue,le);for(var Ve=0;Ve<le;Ve+=1)ue[Ve]=255&de[Ve];return ue}function x(ue){if(ue>=T())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T().toString(16)+" bytes");return 0|ue}function X(ue,de){if(k.isBuffer(ue))return ue.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ue)||ue instanceof ArrayBuffer))return ue.byteLength;var le=(ue=typeof ue!="string"?""+ue:ue).length;if(le===0)return 0;for(var Ve=!1;;)switch(de){case"ascii":case"latin1":case"binary":return le;case"utf8":case"utf-8":case void 0:return Ee(ue).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*le;case"hex":return le>>>1;case"base64":return fe(ue).length;default:if(Ve)return Ee(ue).length;de=(""+de).toLowerCase(),Ve=!0}}function H(ue,de,le){var Ve=ue[de];ue[de]=ue[le],ue[le]=Ve}function j(ue,de,le,Ve,nt){if(ue.length===0)return-1;if(typeof le=="string"?(Ve=le,le=0):2147483647<le?le=2147483647:le<-2147483648&&(le=-2147483648),le=+le,(le=(le=isNaN(le)?nt?0:ue.length-1:le)<0?ue.length+le:le)>=ue.length){if(nt)return-1;le=ue.length-1}else if(le<0){if(!nt)return-1;le=0}if(typeof de=="string"&&(de=k.from(de,Ve)),k.isBuffer(de))return de.length===0?-1:ae(ue,de,le,Ve,nt);if(typeof de=="number")return de&=255,k.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?(nt?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(ue,de,le):ae(ue,[de],le,Ve,nt);throw new TypeError("val must be string, number or Buffer")}function ae(ue,de,le,Ve,nt){var ct=1,Re=ue.length,lt=de.length;if(Ve!==void 0&&((Ve=String(Ve).toLowerCase())==="ucs2"||Ve==="ucs-2"||Ve==="utf16le"||Ve==="utf-16le")){if(ue.length<2||de.length<2)return-1;Re/=ct=2,lt/=2,le/=2}function St(Et,Dt){return ct===1?Et[Dt]:Et.readUInt16BE(Dt*ct)}if(nt)for(var Yt=-1,xe=le;xe<Re;xe++)if(St(ue,xe)===St(de,Yt===-1?0:xe-Yt)){if(xe-(Yt=Yt===-1?xe:Yt)+1===lt)return Yt*ct}else Yt!==-1&&(xe-=xe-Yt),Yt=-1;else for(xe=le=Re<le+lt?Re-lt:le;0<=xe;xe--){for(var st=!0,At=0;At<lt;At++)if(St(ue,xe+At)!==St(de,At)){st=!1;break}if(st)return xe}return-1}function ce(ue,de,le,Ve){return ie(function(nt){for(var ct=[],Re=0;Re<nt.length;++Re)ct.push(255&nt.charCodeAt(Re));return ct}(de),ue,le,Ve)}function ne(ue,de,le){le=Math.min(ue.length,le);for(var Ve=[],nt=de;nt<le;){var ct,Re,lt,St,Yt=ue[nt],xe=null,st=239<Yt?4:223<Yt?3:191<Yt?2:1;if(nt+st<=le)switch(st){case 1:Yt<128&&(xe=Yt);break;case 2:(192&(ct=ue[nt+1]))==128&&127<(St=(31&Yt)<<6|63&ct)&&(xe=St);break;case 3:ct=ue[nt+1],Re=ue[nt+2],(192&ct)==128&&(192&Re)==128&&2047<(St=(15&Yt)<<12|(63&ct)<<6|63&Re)&&(St<55296||57343<St)&&(xe=St);break;case 4:ct=ue[nt+1],Re=ue[nt+2],lt=ue[nt+3],(192&ct)==128&&(192&Re)==128&&(192&lt)==128&&65535<(St=(15&Yt)<<18|(63&ct)<<12|(63&Re)<<6|63&lt)&&St<1114112&&(xe=St)}xe===null?(xe=65533,st=1):65535<xe&&(Ve.push((xe-=65536)>>>10&1023|55296),xe=56320|1023&xe),Ve.push(xe),nt+=st}var At=Ve,Et=At.length;if(Et<=Qe)return String.fromCharCode.apply(String,At);for(var Dt="",Ft=0;Ft<Et;)Dt+=String.fromCharCode.apply(String,At.slice(Ft,Ft+=Qe));return Dt}F.Buffer=k,F.SlowBuffer=function(ue){return k.alloc(+(ue=+ue!=ue?0:ue))},F.INSPECT_MAX_BYTES=50,k.TYPED_ARRAY_SUPPORT=z.TYPED_ARRAY_SUPPORT!==void 0?z.TYPED_ARRAY_SUPPORT:function(){try{var ue=new Uint8Array(1);return ue.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},ue.foo()===42&&typeof ue.subarray=="function"&&ue.subarray(1,1).byteLength===0}catch{return!1}}(),F.kMaxLength=T(),k.poolSize=8192,k._augment=function(ue){return ue.__proto__=k.prototype,ue},k.from=function(ue,de,le){return Y(null,ue,de,le)},k.TYPED_ARRAY_SUPPORT&&(k.prototype.__proto__=Uint8Array.prototype,k.__proto__=Uint8Array,typeof Symbol<"u")&&Symbol.species&&k[Symbol.species]===k&&Object.defineProperty(k,Symbol.species,{value:null,configurable:!0}),k.alloc=function(ue,de,le){return Z(ue),ue<=0||de===void 0?w(null,ue):typeof le=="string"?w(null,ue).fill(de,le):w(null,ue).fill(de)},k.allocUnsafe=function(ue){return W(null,ue)},k.allocUnsafeSlow=function(ue){return W(null,ue)},k.isBuffer=function(ue){return!(ue==null||!ue._isBuffer)},k.compare=function(ue,de){if(!k.isBuffer(ue)||!k.isBuffer(de))throw new TypeError("Arguments must be Buffers");if(ue===de)return 0;for(var le=ue.length,Ve=de.length,nt=0,ct=Math.min(le,Ve);nt<ct;++nt)if(ue[nt]!==de[nt]){le=ue[nt],Ve=de[nt];break}return le<Ve?-1:Ve<le?1:0},k.isEncoding=function(ue){switch(String(ue).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},k.concat=function(ue,de){if(!O(ue))throw new TypeError('"list" argument must be an Array of Buffers');if(ue.length===0)return k.alloc(0);if(de===void 0)for(nt=de=0;nt<ue.length;++nt)de+=ue[nt].length;for(var le=k.allocUnsafe(de),Ve=0,nt=0;nt<ue.length;++nt){var ct=ue[nt];if(!k.isBuffer(ct))throw new TypeError('"list" argument must be an Array of Buffers');ct.copy(le,Ve),Ve+=ct.length}return le},k.byteLength=X,k.prototype._isBuffer=!0,k.prototype.swap16=function(){var ue=this.length;if(ue%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var de=0;de<ue;de+=2)H(this,de,de+1);return this},k.prototype.swap32=function(){var ue=this.length;if(ue%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var de=0;de<ue;de+=4)H(this,de,de+3),H(this,de+1,de+2);return this},k.prototype.swap64=function(){var ue=this.length;if(ue%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var de=0;de<ue;de+=8)H(this,de,de+7),H(this,de+1,de+6),H(this,de+2,de+5),H(this,de+3,de+4);return this},k.prototype.toString=function(){var ue=0|this.length;return ue==0?"":arguments.length===0?ne(this,0,ue):(function(de,le,Ve){var nt,ct,Re=!1;if((le=le===void 0||le<0?0:le)>this.length||(Ve=Ve===void 0||Ve>this.length?this.length:Ve)<=0||(Ve>>>=0)<=(le>>>=0))return"";for(de=de||"utf8";;)switch(de){case"hex":var lt=le,St=Ve,Yt=this.length;(!St||St<0||Yt<St)&&(St=Yt);for(var xe="",st=lt=!lt||lt<0?0:lt;st<St;++st)xe+=(ct=this[st])<16?"0"+ct.toString(16):ct.toString(16);return xe;case"utf8":case"utf-8":return ne(this,le,Ve);case"ascii":Yt=le;for(var At=Ve,Et="",Dt=(At=Math.min(this.length,At),Yt);Dt<At;++Dt)Et+=String.fromCharCode(127&this[Dt]);return Et;case"latin1":case"binary":lt=le;for(var Ft=Ve,zt="",Ut=(Ft=Math.min(this.length,Ft),lt);Ut<Ft;++Ut)zt+=String.fromCharCode(this[Ut]);return zt;case"base64":return Vt=this,nt=Ve,(mr=le)===0&&nt===Vt.length?$.fromByteArray(Vt):$.fromByteArray(Vt.slice(mr,nt));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Vt=le,mr=Ve,Br=this.slice(Vt,mr),Zt="",wr=0;wr<Br.length;wr+=2)Zt+=String.fromCharCode(Br[wr]+256*Br[wr+1]);return Zt;default:if(Re)throw new TypeError("Unknown encoding: "+de);de=(de+"").toLowerCase(),Re=!0}}).apply(this,arguments)},k.prototype.equals=function(ue){if(k.isBuffer(ue))return this===ue||k.compare(this,ue)===0;throw new TypeError("Argument must be a Buffer")},k.prototype.inspect=function(){var ue="",de=F.INSPECT_MAX_BYTES;return 0<this.length&&(ue=this.toString("hex",0,de).match(/.{2}/g).join(" "),this.length>de)&&(ue+=" ... "),"<Buffer "+ue+">"},k.prototype.compare=function(ue,de,le,Ve,nt){if(!k.isBuffer(ue))throw new TypeError("Argument must be a Buffer");if(le===void 0&&(le=ue?ue.length:0),Ve===void 0&&(Ve=0),nt===void 0&&(nt=this.length),(de=de===void 0?0:de)<0||le>ue.length||Ve<0||nt>this.length)throw new RangeError("out of range index");if(nt<=Ve&&le<=de)return 0;if(nt<=Ve)return-1;if(le<=de)return 1;if(this===ue)return 0;for(var ct=(nt>>>=0)-(Ve>>>=0),Re=(le>>>=0)-(de>>>=0),lt=Math.min(ct,Re),St=this.slice(Ve,nt),Yt=ue.slice(de,le),xe=0;xe<lt;++xe)if(St[xe]!==Yt[xe]){ct=St[xe],Re=Yt[xe];break}return ct<Re?-1:Re<ct?1:0},k.prototype.includes=function(ue,de,le){return this.indexOf(ue,de,le)!==-1},k.prototype.indexOf=function(ue,de,le){return j(this,ue,de,le,!0)},k.prototype.lastIndexOf=function(ue,de,le){return j(this,ue,de,le,!1)},k.prototype.write=function(ue,de,le,Ve){if(de===void 0)Ve="utf8",le=this.length,de=0;else if(le===void 0&&typeof de=="string")Ve=de,le=this.length,de=0;else{if(!isFinite(de))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");de|=0,isFinite(le)?(le|=0,Ve===void 0&&(Ve="utf8")):(Ve=le,le=void 0)}var nt=this.length-de;if((le===void 0||nt<le)&&(le=nt),0<ue.length&&(le<0||de<0)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ve=Ve||"utf8";for(var ct,Re,lt,St,Yt=!1;;)switch(Ve){case"hex":var xe,st=ue,At=le,Et=(xe=Number(de)||0,this.length-xe);if((!At||Et<(At=Number(At)))&&(At=Et),(Et=st.length)%2!=0)throw new TypeError("Invalid hex string");Et/2<At&&(At=Et/2);for(var Dt=0;Dt<At;++Dt){var Ft=parseInt(st.substr(2*Dt,2),16);if(isNaN(Ft))return Dt;this[xe+Dt]=Ft}return Dt;case"utf8":case"utf-8":return Et=de,Re=le,ie(Ee(ue,(ct=this).length-Et),ct,Et,Re);case"ascii":case"latin1":case"binary":return ce(this,ue,de,le);case"base64":return ct=this,Re=de,lt=le,ie(fe(ue),ct,Re,lt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt=de,St=le,ie(function(zt,Ut){for(var Vt,mr,Br=[],Zt=0;Zt<zt.length&&!((Ut-=2)<0);++Zt)mr=(Vt=zt.charCodeAt(Zt))>>8,Br.push(Vt%256),Br.push(mr);return Br}(ue,this.length-lt),this,lt,St);default:if(Yt)throw new TypeError("Unknown encoding: "+Ve);Ve=(""+Ve).toLowerCase(),Yt=!0}},k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Qe=4096;function De(ue,de,le){if(ue%1!=0||ue<0)throw new RangeError("offset is not uint");if(le<ue+de)throw new RangeError("Trying to access beyond buffer length")}function Fe(ue,de,le,Ve,nt,ct){if(!k.isBuffer(ue))throw new TypeError('"buffer" argument must be a Buffer instance');if(nt<de||de<ct)throw new RangeError('"value" argument is out of bounds');if(le+Ve>ue.length)throw new RangeError("Index out of range")}function pe(ue,de,le,Ve){de<0&&(de=65535+de+1);for(var nt=0,ct=Math.min(ue.length-le,2);nt<ct;++nt)ue[le+nt]=(de&255<<8*(Ve?nt:1-nt))>>>8*(Ve?nt:1-nt)}function ot(ue,de,le,Ve){de<0&&(de=4294967295+de+1);for(var nt=0,ct=Math.min(ue.length-le,4);nt<ct;++nt)ue[le+nt]=de>>>8*(Ve?nt:3-nt)&255}function ft(ue,de,le,Ve){if(le+Ve>ue.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("Index out of range")}function yt(ue,de,le,Ve,nt){return nt||ft(ue,0,le,4),L.write(ue,de,le,Ve,23,4),le+4}function Ot(ue,de,le,Ve,nt){return nt||ft(ue,0,le,8),L.write(ue,de,le,Ve,52,8),le+8}k.prototype.slice=function(ue,de){var le=this.length;if((ue=~~ue)<0?(ue+=le)<0&&(ue=0):le<ue&&(ue=le),(de=de===void 0?le:~~de)<0?(de+=le)<0&&(de=0):le<de&&(de=le),de<ue&&(de=ue),k.TYPED_ARRAY_SUPPORT)(nt=this.subarray(ue,de)).__proto__=k.prototype;else for(var Ve=de-ue,nt=new k(Ve,void 0),ct=0;ct<Ve;++ct)nt[ct]=this[ct+ue];return nt},k.prototype.readUIntLE=function(ue,de,le){ue|=0,de|=0,le||De(ue,de,this.length);for(var Ve=this[ue],nt=1,ct=0;++ct<de&&(nt*=256);)Ve+=this[ue+ct]*nt;return Ve},k.prototype.readUIntBE=function(ue,de,le){ue|=0,de|=0,le||De(ue,de,this.length);for(var Ve=this[ue+--de],nt=1;0<de&&(nt*=256);)Ve+=this[ue+--de]*nt;return Ve},k.prototype.readUInt8=function(ue,de){return de||De(ue,1,this.length),this[ue]},k.prototype.readUInt16LE=function(ue,de){return de||De(ue,2,this.length),this[ue]|this[ue+1]<<8},k.prototype.readUInt16BE=function(ue,de){return de||De(ue,2,this.length),this[ue]<<8|this[ue+1]},k.prototype.readUInt32LE=function(ue,de){return de||De(ue,4,this.length),(this[ue]|this[ue+1]<<8|this[ue+2]<<16)+16777216*this[ue+3]},k.prototype.readUInt32BE=function(ue,de){return de||De(ue,4,this.length),16777216*this[ue]+(this[ue+1]<<16|this[ue+2]<<8|this[ue+3])},k.prototype.readIntLE=function(ue,de,le){ue|=0,de|=0,le||De(ue,de,this.length);for(var Ve=this[ue],nt=1,ct=0;++ct<de&&(nt*=256);)Ve+=this[ue+ct]*nt;return(nt*=128)<=Ve&&(Ve-=Math.pow(2,8*de)),Ve},k.prototype.readIntBE=function(ue,de,le){ue|=0,de|=0,le||De(ue,de,this.length);for(var Ve=de,nt=1,ct=this[ue+--Ve];0<Ve&&(nt*=256);)ct+=this[ue+--Ve]*nt;return(nt*=128)<=ct&&(ct-=Math.pow(2,8*de)),ct},k.prototype.readInt8=function(ue,de){return de||De(ue,1,this.length),128&this[ue]?-1*(255-this[ue]+1):this[ue]},k.prototype.readInt16LE=function(ue,de){return de||De(ue,2,this.length),32768&(de=this[ue]|this[ue+1]<<8)?4294901760|de:de},k.prototype.readInt16BE=function(ue,de){return de||De(ue,2,this.length),32768&(de=this[ue+1]|this[ue]<<8)?4294901760|de:de},k.prototype.readInt32LE=function(ue,de){return de||De(ue,4,this.length),this[ue]|this[ue+1]<<8|this[ue+2]<<16|this[ue+3]<<24},k.prototype.readInt32BE=function(ue,de){return de||De(ue,4,this.length),this[ue]<<24|this[ue+1]<<16|this[ue+2]<<8|this[ue+3]},k.prototype.readFloatLE=function(ue,de){return de||De(ue,4,this.length),L.read(this,ue,!0,23,4)},k.prototype.readFloatBE=function(ue,de){return de||De(ue,4,this.length),L.read(this,ue,!1,23,4)},k.prototype.readDoubleLE=function(ue,de){return de||De(ue,8,this.length),L.read(this,ue,!0,52,8)},k.prototype.readDoubleBE=function(ue,de){return de||De(ue,8,this.length),L.read(this,ue,!1,52,8)},k.prototype.writeUIntLE=function(ue,de,le,Ve){ue=+ue,de|=0,le|=0,Ve||Fe(this,ue,de,le,Math.pow(2,8*le)-1,0);var nt=1,ct=0;for(this[de]=255&ue;++ct<le&&(nt*=256);)this[de+ct]=ue/nt&255;return de+le},k.prototype.writeUIntBE=function(ue,de,le,Ve){ue=+ue,de|=0,le|=0,Ve||Fe(this,ue,de,le,Math.pow(2,8*le)-1,0);var nt=le-1,ct=1;for(this[de+nt]=255&ue;0<=--nt&&(ct*=256);)this[de+nt]=ue/ct&255;return de+le},k.prototype.writeUInt8=function(ue,de,le){return ue=+ue,de|=0,le||Fe(this,ue,de,1,255,0),k.TYPED_ARRAY_SUPPORT||(ue=Math.floor(ue)),this[de]=255&ue,de+1},k.prototype.writeUInt16LE=function(ue,de,le){return ue=+ue,de|=0,le||Fe(this,ue,de,2,65535,0),k.TYPED_ARRAY_SUPPORT?(this[de]=255&ue,this[de+1]=ue>>>8):pe(this,ue,de,!0),de+2},k.prototype.writeUInt16BE=function(ue,de,le){return ue=+ue,de|=0,le||Fe(this,ue,de,2,65535,0),k.TYPED_ARRAY_SUPPORT?(this[de]=ue>>>8,this[de+1]=255&ue):pe(this,ue,de,!1),de+2},k.prototype.writeUInt32LE=function(ue,de,le){return ue=+ue,de|=0,le||Fe(this,ue,de,4,4294967295,0),k.TYPED_ARRAY_SUPPORT?(this[de+3]=ue>>>24,this[de+2]=ue>>>16,this[de+1]=ue>>>8,this[de]=255&ue):ot(this,ue,de,!0),de+4},k.prototype.writeUInt32BE=function(ue,de,le){return ue=+ue,de|=0,le||Fe(this,ue,de,4,4294967295,0),k.TYPED_ARRAY_SUPPORT?(this[de]=ue>>>24,this[de+1]=ue>>>16,this[de+2]=ue>>>8,this[de+3]=255&ue):ot(this,ue,de,!1),de+4},k.prototype.writeIntLE=function(ue,de,le,Ve){ue=+ue,de|=0,Ve||Fe(this,ue,de,le,(Ve=Math.pow(2,8*le-1))-1,-Ve);var nt=0,ct=1,Re=0;for(this[de]=255&ue;++nt<le&&(ct*=256);)ue<0&&Re===0&&this[de+nt-1]!==0&&(Re=1),this[de+nt]=(ue/ct>>0)-Re&255;return de+le},k.prototype.writeIntBE=function(ue,de,le,Ve){ue=+ue,de|=0,Ve||Fe(this,ue,de,le,(Ve=Math.pow(2,8*le-1))-1,-Ve);var nt=le-1,ct=1,Re=0;for(this[de+nt]=255&ue;0<=--nt&&(ct*=256);)ue<0&&Re===0&&this[de+nt+1]!==0&&(Re=1),this[de+nt]=(ue/ct>>0)-Re&255;return de+le},k.prototype.writeInt8=function(ue,de,le){return ue=+ue,de|=0,le||Fe(this,ue,de,1,127,-128),k.TYPED_ARRAY_SUPPORT||(ue=Math.floor(ue)),this[de]=255&(ue=ue<0?255+ue+1:ue),de+1},k.prototype.writeInt16LE=function(ue,de,le){return ue=+ue,de|=0,le||Fe(this,ue,de,2,32767,-32768),k.TYPED_ARRAY_SUPPORT?(this[de]=255&ue,this[de+1]=ue>>>8):pe(this,ue,de,!0),de+2},k.prototype.writeInt16BE=function(ue,de,le){return ue=+ue,de|=0,le||Fe(this,ue,de,2,32767,-32768),k.TYPED_ARRAY_SUPPORT?(this[de]=ue>>>8,this[de+1]=255&ue):pe(this,ue,de,!1),de+2},k.prototype.writeInt32LE=function(ue,de,le){return ue=+ue,de|=0,le||Fe(this,ue,de,4,2147483647,-2147483648),k.TYPED_ARRAY_SUPPORT?(this[de]=255&ue,this[de+1]=ue>>>8,this[de+2]=ue>>>16,this[de+3]=ue>>>24):ot(this,ue,de,!0),de+4},k.prototype.writeInt32BE=function(ue,de,le){return ue=+ue,de|=0,le||Fe(this,ue,de,4,2147483647,-2147483648),ue<0&&(ue=4294967295+ue+1),k.TYPED_ARRAY_SUPPORT?(this[de]=ue>>>24,this[de+1]=ue>>>16,this[de+2]=ue>>>8,this[de+3]=255&ue):ot(this,ue,de,!1),de+4},k.prototype.writeFloatLE=function(ue,de,le){return yt(this,ue,de,!0,le)},k.prototype.writeFloatBE=function(ue,de,le){return yt(this,ue,de,!1,le)},k.prototype.writeDoubleLE=function(ue,de,le){return Ot(this,ue,de,!0,le)},k.prototype.writeDoubleBE=function(ue,de,le){return Ot(this,ue,de,!1,le)},k.prototype.copy=function(ue,de,le,Ve){if(le=le||0,Ve||Ve===0||(Ve=this.length),de>=ue.length&&(de=ue.length),(Ve=0<Ve&&Ve<le?le:Ve)===le||ue.length===0||this.length===0)return 0;if((de=de||0)<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("sourceStart out of bounds");if(Ve<0)throw new RangeError("sourceEnd out of bounds");Ve>this.length&&(Ve=this.length);var nt,ct=(Ve=ue.length-de<Ve-le?ue.length-de+le:Ve)-le;if(this===ue&&le<de&&de<Ve)for(nt=ct-1;0<=nt;--nt)ue[nt+de]=this[nt+le];else if(ct<1e3||!k.TYPED_ARRAY_SUPPORT)for(nt=0;nt<ct;++nt)ue[nt+de]=this[nt+le];else Uint8Array.prototype.set.call(ue,this.subarray(le,le+ct),de);return ct},k.prototype.fill=function(ue,de,le,Ve){if(typeof ue=="string"){var nt;if(typeof de=="string"?(Ve=de,de=0,le=this.length):typeof le=="string"&&(Ve=le,le=this.length),ue.length===1&&(nt=ue.charCodeAt(0))<256&&(ue=nt),Ve!==void 0&&typeof Ve!="string")throw new TypeError("encoding must be a string");if(typeof Ve=="string"&&!k.isEncoding(Ve))throw new TypeError("Unknown encoding: "+Ve)}else typeof ue=="number"&&(ue&=255);if(de<0||this.length<de||this.length<le)throw new RangeError("Out of range index");if(!(le<=de))if(de>>>=0,le=le===void 0?this.length:le>>>0,typeof(ue=ue||0)=="number")for(lt=de;lt<le;++lt)this[lt]=ue;else for(var ct=k.isBuffer(ue)?ue:Ee(new k(ue,Ve).toString()),Re=ct.length,lt=0;lt<le-de;++lt)this[lt+de]=ct[lt%Re];return this};var ge=/[^+\/0-9A-Za-z-_]/g;function Ee(ue,de){de=de||1/0;for(var le,Ve=ue.length,nt=null,ct=[],Re=0;Re<Ve;++Re){if(55295<(le=ue.charCodeAt(Re))&&le<57344){if(!nt){if(56319<le){-1<(de-=3)&&ct.push(239,191,189);continue}if(Re+1===Ve){-1<(de-=3)&&ct.push(239,191,189);continue}nt=le;continue}if(le<56320){-1<(de-=3)&&ct.push(239,191,189),nt=le;continue}le=65536+(nt-55296<<10|le-56320)}else nt&&-1<(de-=3)&&ct.push(239,191,189);if(nt=null,le<128){if(--de<0)break;ct.push(le)}else if(le<2048){if((de-=2)<0)break;ct.push(le>>6|192,63&le|128)}else if(le<65536){if((de-=3)<0)break;ct.push(le>>12|224,le>>6&63|128,63&le|128)}else{if(!(le<1114112))throw new Error("Invalid code point");if((de-=4)<0)break;ct.push(le>>18|240,le>>12&63|128,le>>6&63|128,63&le|128)}}return ct}function fe(ue){return $.toByteArray(function(de){var le;if((de=((le=de).trim?le.trim():le.replace(/^\s+|\s+$/g,"")).replace(ge,"")).length<2)return"";for(;de.length%4!=0;)de+="=";return de}(ue))}function ie(ue,de,le,Ve){for(var nt=0;nt<Ve&&!(nt+le>=de.length||nt>=ue.length);++nt)de[nt+le]=ue[nt];return nt}}).call(this,V(34))},function(te,F){var V=function(){return this}();try{V=V||new Function("return this")()}catch{typeof window=="object"&&(V=window)}te.exports=V},function(te,F,V){F.byteLength=function(k){return 3*((k=w(k))[0]+(k=k[1]))/4-k},F.toByteArray=function(k){for(var Y,Z=(W=w(k))[0],W=W[1],K=new L(3*(Z+W)/4-W),x=0,X=0<W?Z-4:Z,H=0;H<X;H+=4)Y=$[k.charCodeAt(H)]<<18|$[k.charCodeAt(H+1)]<<12|$[k.charCodeAt(H+2)]<<6|$[k.charCodeAt(H+3)],K[x++]=Y>>16&255,K[x++]=Y>>8&255,K[x++]=255&Y;return W===2&&(Y=$[k.charCodeAt(H)]<<2|$[k.charCodeAt(H+1)]>>4,K[x++]=255&Y),W===1&&(Y=$[k.charCodeAt(H)]<<10|$[k.charCodeAt(H+1)]<<4|$[k.charCodeAt(H+2)]>>2,K[x++]=Y>>8&255,K[x++]=255&Y),K},F.fromByteArray=function(k){for(var Y,Z=k.length,W=Z%3,K=[],x=0,X=Z-W;x<X;x+=16383)K.push(function(H,j){for(var ae,ce=[],ne=x;ne<j;ne+=3)ae=(H[ne]<<16&16711680)+(H[ne+1]<<8&65280)+(255&H[ne+2]),ce.push(z[ae>>18&63]+z[ae>>12&63]+z[ae>>6&63]+z[63&ae]);return ce.join("")}(k,X<x+16383?X:x+16383));return W==1?(Y=k[Z-1],K.push(z[Y>>2]+z[Y<<4&63]+"==")):W==2&&(Y=(k[Z-2]<<8)+k[Z-1],K.push(z[Y>>10]+z[Y>>4&63]+z[Y<<2&63]+"=")),K.join("")};for(var z=[],$=[],L=typeof Uint8Array<"u"?Uint8Array:Array,O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0;T<64;++T)z[T]=O[T],$[O.charCodeAt(T)]=T;function w(k){var Y=k.length;if(0<Y%4)throw new Error("Invalid string. Length must be a multiple of 4");return Y=(k=(k=k.indexOf("="))===-1?Y:k)===Y?0:4-k%4,[k,Y]}$["-".charCodeAt(0)]=62,$["_".charCodeAt(0)]=63},function(te,F){F.read=function(V,z,$,L,O){var T,w,k=8*O-L-1,Y=(1<<k)-1,Z=Y>>1,W=-7,K=$?O-1:0,x=$?-1:1;for(O=V[z+K],K+=x,T=O&(1<<-W)-1,O>>=-W,W+=k;0<W;T=256*T+V[z+K],K+=x,W-=8);for(w=T&(1<<-W)-1,T>>=-W,W+=L;0<W;w=256*w+V[z+K],K+=x,W-=8);if(T===0)T=1-Z;else{if(T===Y)return w?NaN:1/0*(O?-1:1);w+=Math.pow(2,L),T-=Z}return(O?-1:1)*w*Math.pow(2,T-L)},F.write=function(V,z,$,L,O,T){var w,k,Y=8*T-O-1,Z=(1<<Y)-1,W=Z>>1,K=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=L?0:T-1,X=L?1:-1;for(T=z<0||z===0&&1/z<0?1:0,z=Math.abs(z),isNaN(z)||z===1/0?(k=isNaN(z)?1:0,w=Z):(w=Math.floor(Math.log(z)/Math.LN2),z*(L=Math.pow(2,-w))<1&&(w--,L*=2),2<=(z+=1<=w+W?K/L:K*Math.pow(2,1-W))*L&&(w++,L/=2),Z<=w+W?(k=0,w=Z):1<=w+W?(k=(z*L-1)*Math.pow(2,O),w+=W):(k=z*Math.pow(2,W-1)*Math.pow(2,O),w=0));8<=O;V[$+x]=255&k,x+=X,k/=256,O-=8);for(w=w<<O|k,Y+=O;0<Y;V[$+x]=255&w,x+=X,w/=256,Y-=8);V[$+x-X]|=128*T}},function(te,F){var V={}.toString;te.exports=Array.isArray||function(z){return V.call(z)=="[object Array]"}},function(te,F,V){var z=this&&this.__read||function(w,k){var Y=typeof Symbol=="function"&&w[Symbol.iterator];if(!Y)return w;var Z,W,K=Y.call(w),x=[];try{for(;(k===void 0||0<k--)&&!(Z=K.next()).done;)x.push(Z.value)}catch(X){W={error:X}}finally{try{Z&&!Z.done&&(Y=K.return)&&Y.call(K)}finally{if(W)throw W.error}}return x},$=this&&this.__spread||function(){for(var w=[],k=0;k<arguments.length;k++)w=w.concat(z(arguments[k]));return w},L=(Object.defineProperty(F,"__esModule",{value:!0}),F.PendingQueue=void 0,V(0)),O=V(5);function T(w,k,Y,Z){var W=this;this.levels=w,this.product=k,this.staticConfig=Y,this.stateCenter=Z,this.byteLength=0,this.size=0,this.pendingDataSize=0,this.cacheMap=new Map,w.forEach(function(K){W.cacheMap.set(K,new L.Queue)})}T.prototype.enqueue=function(w,k){(k=this.cacheMap.get(k))&&!k.all().find(function(Y){return Y.content==w.content})&&(k.enqueue(w),k=O.calculateMemSize(w.content),this.pendingDataSize+=k,this.size++,this.staticConfig.totalAvailCache-=k,this.enCallback)&&this.enCallback(this.byteLength,this.size,this.pendingDataSize)},T.prototype.dequeue=function(w){return w=(w=this.cacheMap.get(w))==null?void 0:w.dequeue(),this.size--,this.deCallback&&this.deCallback(),w},T.prototype.findInQueue=function(w){var k=(k=this.cacheMap.get(w.level))==null?void 0:k.all();return k==null?void 0:k.find(function(Y){return Y.key===w.key})},T.prototype.readReportData=function(w){var k=$(this.cacheMap.entries());return k=this.readData(k,w,!0),this.reset(),{totalLen:k.totalLen,reportDataArr:k.resArr}},T.prototype.readStoreData=function(w){w=Math.ceil(this.pendingDataSize*w);var k=$(this.cacheMap.entries()).reverse();return k=this.readData(k,w,!1),this.refresh(k.totalLen),{totalLen:k.totalLen,storeArr:k.resArr}},T.prototype.readData=function(w,k,Y){var Z=[],W=0;e:for(var K=0;K<w.length;K++)for(var x=z(w[K],2),X=x[0],H=x[1];H.size();){var j=this.dequeue(X);if(Z.push(j),k<(W+=O.calculateMemSize(j.content)))break e}return{totalLen:W,resArr:Z}},T.prototype.decodeReportData=function(w){var k=this;w.forEach(function(Y){k.enqueue(Y,Y.level)})},T.prototype.setListener=function(w){this.enCallback=w.enCallback,this.deCallback=w.deCallback},T.prototype.getPendingDataInfo=function(){return{pendingDataSize:this.pendingDataSize,size:this.size}},T.prototype.refresh=function(w){this.pendingDataSize-=w,this.staticConfig.totalAvailCache+=w},T.prototype.reset=function(){this.byteLength=0},F.PendingQueue=T},function(te,F,V){var z=this&&this.__awaiter||function(T,w,k,Y){return new(k=k||Promise)(function(Z,W){function K(H){try{X(Y.next(H))}catch(j){W(j)}}function x(H){try{X(Y.throw(H))}catch(j){W(j)}}function X(H){var j;H.done?Z(H.value):((j=H.value)instanceof k?j:new k(function(ae){ae(j)})).then(K,x)}X((Y=Y.apply(T,w||[])).next())})},$=this&&this.__generator||function(T,w){var k,Y,Z,W={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]},K={next:x(0),throw:x(1),return:x(2)};return typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function x(X){return function(H){var j=[X,H];if(k)throw new TypeError("Generator is already executing.");for(;W;)try{if(k=1,Y&&(Z=2&j[0]?Y.return:j[0]?Y.throw||((Z=Y.return)&&Z.call(Y),0):Y.next)&&!(Z=Z.call(Y,j[1])).done)return Z;switch(Y=0,(j=Z?[2&j[0],Z.value]:j)[0]){case 0:case 1:Z=j;break;case 4:return W.label++,{value:j[1],done:!1};case 5:W.label++,Y=j[1],j=[0];continue;case 7:j=W.ops.pop(),W.trys.pop();continue;default:if(!(Z=0<(Z=W.trys).length&&Z[Z.length-1])&&(j[0]===6||j[0]===2)){W=0;continue}if(j[0]===3&&(!Z||j[1]>Z[0]&&j[1]<Z[3]))W.label=j[1];else if(j[0]===6&&W.label<Z[1])W.label=Z[1],Z=j;else{if(!(Z&&W.label<Z[2])){Z[2]&&W.ops.pop(),W.trys.pop();continue}W.label=Z[2],W.ops.push(j)}}j=w.call(T,W)}catch(ae){j=[6,ae],Y=0}finally{k=Z=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}}},L=(Object.defineProperty(F,"__esModule",{value:!0}),F.loadJS=void 0,V(40));function O(T,w,k){return(T=L.decrypt(T,w))&&L.hashMd5(T)===k?T:""}F.loadJS=function(T,w,k,Y,Z,W,K){var x=this;return new Promise(function(X,H){return z(x,void 0,void 0,function(){var j,ae,ce,ne,Qe;return $(this,function(De){switch(De.label){case 0:if(j="dy",T)return[3,7];De.label=1;case 1:return De.trys.push([1,5,,6]),[4,w.getItem("code")];case 2:return ae=De.sent(),[4,w.getItem("key")];case 3:return ce=De.sent(),[4,w.getItem("hash")];case 4:ne=De.sent();var Fe=O(ae,ce,ne)||W,pe=j,ot=K,ft=document.getElementsByTagName("HEAD").item(0),yt=document.createElement("script");yt.language="javascript",yt.type="text/javascript",yt.id=pe,yt.param=ot;try{yt.appendChild(document.createTextNode(Fe))}catch{yt.text=Fe}return ft.appendChild(yt),X(),[3,6];case 5:return De.sent(),H(),[3,6];case 6:return[2];case 7:if(window.ActiveXObject)try{Qe=new ActiveXObject("Msxml2.XMLHTTP")}catch{Qe=new ActiveXObject("Microsoft.XMLHTTP")}else window.XMLHttpRequest&&(Qe=new XMLHttpRequest);return Qe.open("GET",k,!0),Qe.send(null),Qe.onreadystatechange=function(){return z(this,void 0,void 0,function(){return $(this,function(Ot){switch(Ot.label){case 0:if(Qe.readyState!=4)return[3,10];if(!(200<=Qe.status&&Qe.status<300||Qe.status==0||Qe.status==304))return[3,8];Ot.label=1;case 1:return Ot.trys.push([1,6,,7]),O(Qe.responseText,Y,Z)?[4,w.setItem("code",Qe.responseText)]:[3,5];case 2:return Ot.sent(),[4,w.setItem("key",Y)];case 3:return Ot.sent(),[4,w.setItem("hash",Z)];case 4:Ot.sent(),Ot.label=5;case 5:return X(),[3,7];case 6:return Ot.sent(),H(),[3,7];case 7:return[2];case 8:return H(),[2];case 9:return[3,11];case 10:case 11:return[2]}})})},[2]}})})})}},function(te,F,V){var z=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}},$=(Object.defineProperty(F,"__esModule",{value:!0}),F.hashMd5=F.decrypt=void 0,z(V(41))),L=z(V(42)),O=z(V(43));F.decrypt=function(T,w){var k="";try{k=L.default.decrypt(T,w).toString(O.default)}catch{}return k},F.hashMd5=function(T){return $.default(T).toString()}},function(te,F){te.exports=u},function(te,F){te.exports=y},function(te,F){te.exports=N},function(te,F,V){function z(){this.logLevel=F.ENUM_LOG_LEVEL.DISABLE}Object.defineProperty(F,"__esModule",{value:!0}),F.ZegoLog=F.ENUM_LOG_LEVEL=void 0,F.ENUM_LOG_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},z.prototype.setLogLevel=function($){return($=F.ENUM_LOG_LEVEL[$])!==void 0&&(this.logLevel=$,!0)},z.prototype.debug=function(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];var O=$.join(" ");this.logLevel!==F.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=F.ENUM_LOG_LEVEL.DEBUG&&console.debug(O)},z.prototype.log=function(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];var O=$.join(" ");this.logLevel!==F.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=F.ENUM_LOG_LEVEL.INFO&&console.log(O)},z.prototype.info=function(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];var O=$.join(" ");this.logLevel!==F.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=F.ENUM_LOG_LEVEL.INFO&&console.info(O)},z.prototype.warn=function(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];var O=$.join(" ");this.logLevel!==F.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=F.ENUM_LOG_LEVEL.WARN&&console.warn(O)},z.prototype.error=function(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];var O=$.join(" ");this.logLevel!==F.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=F.ENUM_LOG_LEVEL.ERROR&&console.error(O)},F.ZegoLog=z},function(te,F,V){function z($){this.logger=$,this._log=$}Object.defineProperty(F,"__esModule",{value:!0}),F.StateCenter=void 0,z.prototype.isLogin=function(){return!0},F.StateCenter=z},function(te,F,V){var z=this&&this.__read||function(T,w){var k=typeof Symbol=="function"&&T[Symbol.iterator];if(!k)return T;var Y,Z,W=k.call(T),K=[];try{for(;(w===void 0||0<w--)&&!(Y=W.next()).done;)K.push(Y.value)}catch(x){Z={error:x}}finally{try{Y&&!Y.done&&(k=W.return)&&k.call(W)}finally{if(Z)throw Z.error}}return K},$=this&&this.__spread||function(){for(var T=[],w=0;w<arguments.length;w++)T=T.concat(z(arguments[w]));return T},L=(Object.defineProperty(F,"__esModule",{value:!0}),F.DynamicCode=void 0,V(3));function O(){this.init()}O.prototype.init=function(){window.dyObj={}},O.prototype.runExecution=function(T,w,k){T=new(Function.bind.apply(Function,$([void 0],T,[k])));try{T.apply(void 0,$(w))}catch(Y){L.log.error(Y)}},F.DynamicCode=O}],q={},Q.m=U,Q.c=q,Q.d=function(te,F,V){Q.o(te,F)||Object.defineProperty(te,F,{enumerable:!0,get:V})},Q.r=function(te){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(te,"__esModule",{value:!0})},Q.t=function(te,F){if(1&F&&(te=Q(te)),8&F||4&F&&typeof te=="object"&&te&&te.__esModule)return te;var V=Object.create(null);if(Q.r(V),Object.defineProperty(V,"default",{enumerable:!0,value:te}),2&F&&typeof te!="string")for(var z in te)Q.d(V,z,(function($){return te[$]}).bind(null,z));return V},Q.n=function(te){var F=te&&te.__esModule?function(){return te.default}:function(){return te};return Q.d(F,"a",F),F},Q.o=function(te,F){return Object.prototype.hasOwnProperty.call(te,F)},Q.p="",Q(Q.s=13))},function(_,m){_.exports=f},function(_,m,I){var Q,p,u,y,N;_.exports=(_=I(1),I(16),I(17),Q=(u=(I=_).lib).Base,p=u.WordArray,y=(u=I.algo).MD5,N=u.EvpKDF=Q.extend({cfg:Q.extend({keySize:4,hasher:y,iterations:1}),init:function(U){this.cfg=this.cfg.extend(U)},compute:function(U,q){for(var te,F=this.cfg,V=F.hasher.create(),z=p.create(),$=z.words,L=F.keySize,O=F.iterations;$.length<L;){te&&V.update(te),te=V.update(U).finalize(q),V.reset();for(var T=1;T<O;T++)te=V.finalize(te),V.reset();z.concat(te)}return z.sigBytes=4*L,z}}),I.EvpKDF=function(U,q,te){return N.create(te).compute(U,q)},_.EvpKDF)},function(_,m,I){function Q(U){var q;return(N[U]||(q=N[U]={i:U,l:!1,exports:{}},y[U].call(q.exports,q,q.exports,Q),q.l=!0,q)).exports}var p,u,y,N;_.exports=(p=I(0),u=I(2),y=[function(U,q){U.exports=p},function(U,q){U.exports=u},function(U,q,te){var F,V,z,$,L,O,T,w;te.r(q),te.d(q,"ZegoConnectionAgent",function(){return $r}),te.d(q,"NetAgentPCRequest",function(){return Nr}),te.d(q,"NetAgentHttpRequest",function(){return gr}),te.d(q,"BusinessService",function(){return z}),te.d(q,"BrokenType",function(){return K}),te.d(q,"NET_ACCESS_CONFIG",function(){return tr}),te.d(q,"ConnectedType",function(){return W}),te.d(q,"DisconnectedType",function(){return Z}),te.d(q,"Mode",function(){return L}),te.d(q,"Method",function(){return Y}),(q=F=F||{})[q.offline=0]="offline",q[q.online=1]="online",(q=V=V||{})[q.MSG_TYPE_STREAM_CLOSED=2]="MSG_TYPE_STREAM_CLOSED",q[q.MSG_TYPE_CLOSE_CONNECTION=3]="MSG_TYPE_CLOSE_CONNECTION",q[q.MSG_TYPE_HTTP_REQUEST=4]="MSG_TYPE_HTTP_REQUEST",q[q.MSG_TYPE_HTTP_RESPONSE=5]="MSG_TYPE_HTTP_RESPONSE",q[q.MSG_TYPE_HB_REQUEST=12]="MSG_TYPE_HB_REQUEST",q[q.MSG_TYPE_HB_RESPONSE=13]="MSG_TYPE_HB_RESPONSE",q[q.MSG_TYPE_GET_CONFIG_REQUEST=14]="MSG_TYPE_GET_CONFIG_REQUEST",q[q.MSG_TYPE_GET_CONFIG_RESPONSE=15]="MSG_TYPE_GET_CONFIG_RESPONSE",q[q.MSG_TYPE_HTTP_REQUEST_ACK=16]="MSG_TYPE_HTTP_REQUEST_ACK",q[q.MSG_TYPE_PC_UPWARD_MESSAGE=17]="MSG_TYPE_PC_UPWARD_MESSAGE",q[q.MSG_TYPE_PC_UPWARD_MESSAGE_ACK=18]="MSG_TYPE_PC_UPWARD_MESSAGE_ACK",q[q.MSG_TYPE_PC_ESTABLISHED=19]="MSG_TYPE_PC_ESTABLISHED",q[q.MSG_TYPE_PC_BROKEN=20]="MSG_TYPE_PC_BROKEN",q[q.MSG_TYPE_PC_DOWNWARD_MESSAGE=21]="MSG_TYPE_PC_DOWNWARD_MESSAGE",q[q.MSG_TYPE_REDIRECT=22]="MSG_TYPE_REDIRECT",q[q.MSG_TYPE_GET_APPCONFIG_REQUEST=23]="MSG_TYPE_GET_APPCONFIG_REQUEST",q[q.MSG_TYPE_GET_APPCONFIG_RESPONSE=24]="MSG_TYPE_GET_APPCONFIG_RESPONSE",q[q.MSG_TYPE_PUSH_APPCONFIG=25]="MSG_TYPE_PUSH_APPCONFIG",q[q.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST=26]="MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST",q[q.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE=27]="MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE",q[q.MSG_TYPE_PUSH_EXCEPTION=30]="MSG_TYPE_PUSH_EXCEPTION",q[q.MSG_TYPE_HTTP_REQUEST2=33]="MSG_TYPE_HTTP_REQUEST2",q[q.MSG_TYPE_REDIRECT2=34]="MSG_TYPE_REDIRECT2",q[q.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2=35]="MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2",q[q.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE2=36]="MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE2",q[q.MSG_TYPE_GET_SVRADDR_REQUEST=39]="MSG_TYPE_GET_SVRADDR_REQUEST",q[q.MSG_TYPE_GET_SVRADDR_RESPONSE=40]="MSG_TYPE_GET_SVRADDR_RESPONSE",(q=H=H||{})[q.ACCESSHUB_INVALID_FRAME=2e4]="ACCESSHUB_INVALID_FRAME",q[q.ACCESSHUB_NEED_ENCRYPT=20001]="ACCESSHUB_NEED_ENCRYPT",q[q.ACCESSHUB_DECRYPT=20002]="ACCESSHUB_DECRYPT",q[q.ACCESSHUB_MSGTYPE=20003]="ACCESSHUB_MSGTYPE",q[q.ACCESSHUB_UNMARSHAL=20004]="ACCESSHUB_UNMARSHAL",q[q.ACCESSHUB_TIMEOUT=20005]="ACCESSHUB_TIMEOUT",q[q.ACCESSHUB_CONNECT=20006]="ACCESSHUB_CONNECT",q[q.ACCESSHUB_BROKEN=20007]="ACCESSHUB_BROKEN",q[q.ACCESSHUB_INTERNAL_ERROR=20008]="ACCESSHUB_INTERNAL_ERROR",q[q.ACCESSHUB_MARSHAL=20009]="ACCESSHUB_MARSHAL",q[q.ACCESSHUB_UNSUPPORTED_SERVICE=20010]="ACCESSHUB_UNSUPPORTED_SERVICE",q[q.ACCESSHUB_TOO_FREQUENTLY=20011]="ACCESSHUB_TOO_FREQUENTLY",q[q.ACCESSHUB_INVALID_APPID=20012]="ACCESSHUB_INVALID_APPID",q[q.ACCESSHUB_HB_TIMEOUT=20013]="ACCESSHUB_HB_TIMEOUT",q[q.ACCESSHUB_INVALID_SIGNATURE=20014]="ACCESSHUB_INVALID_SIGNATURE",(q=z=z||{})[q.SERVICE_UNSET=0]="SERVICE_UNSET",q[q.SERVICE_MEDIAGW=1]="SERVICE_MEDIAGW",q[q.SERVICE_LIVEROOM=2]="SERVICE_LIVEROOM",q[q.SERVICE_MIX=3]="SERVICE_MIX",q[q.SERVICE_ZEUS=4]="SERVICE_ZEUS",q[q.SERVICE_ZPUSH=5]="SERVICE_ZPUSH",q[q.SERVICE_L3=6]="SERVICE_L3",q[q.SERVICE_TALKLINE=7]="SERVICE_TALKLINE",q[q.SERVICE_EDUSUITE=8]="SERVICE_EDUSUITE",q[q.SERVICE_ZIM=9]="SERVICE_ZIM",q[q.SERVICE_ClOUD_SETTING=10]="SERVICE_ClOUD_SETTING",q[q.SERVICE_ZEUSHB=11]="SERVICE_ZEUSHB",q[q.SERVICE_USER_LOGIC=12]="SERVICE_USER_LOGIC",q[q.SERVICE_UNIFYDISPATCH=13]="SERVICE_UNIFYDISPATCH",q[q.SERVICE_QUALITY=14]="SERVICE_QUALITY",q[q.SERVICE_SECURITY=15]="SERVICE_SECURITY",q[q.SERVICE_KTVCPR=16]="SERVICE_KTVCPR",q[q.SERVICE_SWITCH4LIVEROOM=17]="SERVICE_SWITCH4LIVEROOM",q[q.SERVICE_WEBRTC_SIGNAL=18]="SERVICE_WEBRTC_SIGNAL",q[q.SERVICE_L3_WEBRTC_SIGNAL=19]="SERVICE_L3_WEBRTC_SIGNAL",q[q.SERVICE_VIDEOCPR=20]="SERVICE_VIDEOCPR",q[q.SERVICE_CDN=21]="SERVICE_CDN",q[q.SERVICE_CLOUDRECORD=22]="SERVICE_CLOUDRECORD",q[q.SERVICE_INNER_ECHO=23]="SERVICE_INNER_ECHO",q[q.SERVICE_OUTER_ECHO=24]="SERVICE_OUTER_ECHO",q[q.SERVICE_LOCALHOST_ECHO=25]="SERVICE_LOCALHOST_ECHO",q[q.SERVICE_ECHO=26]="SERVICE_ECHO",q[q.SERVICE_DOCSERVICE=27]="SERVICE_DOCSERVICE",q[q.SERVICE_AUTHSVR=28]="SERVICE_AUTHSVR",(q=$=$||{})[q.ZEGOCONN_RUN_ENV_UNSET=0]="ZEGOCONN_RUN_ENV_UNSET",q[q.ZEGOCONN_RUN_ENV_BROWSER=1]="ZEGOCONN_RUN_ENV_BROWSER",q[q.ZEGOCONN_RUN_ENV_APPLET=2]="ZEGOCONN_RUN_ENV_APPLET",(q=L=L||{})[q.Mode_UNSET=0]="Mode_UNSET",q[q.MODE_ONLINE=1]="MODE_ONLINE",q[q.MODE_TEST=2]="MODE_TEST",q[q.MODE_ALPHA=3]="MODE_ALPHA",(q=O=O||{})[q.HTTP=0]="HTTP",q[q.PC=1]="PC",q[q.OTHER=2]="OTHER",(q=T=T||{})[q.NONE=0]="NONE",q[q.BROKEN=1]="BROKEN",q[q.DISCONNECT=2]="DISCONNECT",(q=w=w||{})[q.CONNECTED=0]="CONNECTED",q[q.DISCONNECT=1]="DISCONNECT",q[q.BROKEN=2]="BROKEN";var k,Y,Z,W,K,x=[H.ACCESSHUB_INVALID_APPID,H.ACCESSHUB_INVALID_SIGNATURE],X=((q=k=k||{})[q.ACTION_RESERVED=0]="ACTION_RESERVED",q[q.ACTION_DISPATCH=1]="ACTION_DISPATCH",q[q.ACTION_RETRY=2]="ACTION_RETRY",q[q.ACTION_NEXT_NODE=3]="ACTION_NEXT_NODE",q[q.ACTION_ABORT=4]="ACTION_ABORT",q[q.ACTION_NEXT_GROUP=5]="ACTION_NEXT_GROUP",(H=Y=Y||{})[H.METHOD_UNSET=0]="METHOD_UNSET",H[H.METHOD_GET=1]="METHOD_GET",H[H.METHOD_POST=2]="METHOD_POST",H[H.METHOD_PUT=3]="METHOD_PUT",H[H.METHOD_PATCH=4]="METHOD_PATCH",H[H.METHOD_DELETE=5]="METHOD_DELETE",H[H.METHOD_HEAD=6]="METHOD_HEAD",H[H.METHOD_OPTIONS=7]="METHOD_OPTIONS",(q=Z=Z||{})[q.CLOSE=0]="CLOSE",q[q.TEMP=1]="TEMP",q[q.TIMEOUT=2]="TIMEOUT",(H=W=W||{})[H.AUTO=0]="AUTO",H[H.MANUAL=1]="MANUAL",(q=K=K||{})[q.EMPTY=0]="EMPTY",q[q.CLOSE=1]="CLOSE",{2:"stream_closed",3:"close_connection",4:"http_request",5:"http_response",12:"hb_request",13:"hb_response",14:"get_config_request",15:"get_config_response",16:"http_request_ack",17:"pc_upward_message",18:"pc_upward_message_ack",19:"pc_established",20:"pc_broken",21:"pc_downward_message",22:"redirect",23:"get_appconfig_request",24:"get_appconfig_response",25:"push_appconfig",26:"accesshub_dispatch_request",27:"accesshub_dispatch_response",30:"push_exception",33:"http_request2",34:"redirect2",35:"accesshub_dispatch_request2",36:"accesshub_dispatch_response2",39:"get_svraddr_request",40:"get_svraddr_response"}),H=te(0),j=te.n(H),ae=(q=te(1),te(1));const ce=ae.roots.default||(ae.roots.default={}),ne=te(0);ae.util.Long=ne,ae.util.Long.fromBits=ae.util.Long?ae.util.Long.fromBits:function(){return 0};for(var Qe=ae.types?ae.types.basic:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0,string:2,bytes:2},De=ae.types?ae.types.packed:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0},Fe=Object.keys(Qe),pe={$:function(Ae){return pe[Ae]?pe[Ae].call(this):ce[Ae].decode?ce[Ae].decode(this,this.uint32()):pe.$.call(this,"int32")}},ot={$:function(Ae,be,tt){var dt=Qe[Ae];return dt===void 0?ce[Ae].encode?(this.uint32((tt<<3|2)>>0).fork(),ce[Ae].encode(be,this).ldelim()):ot.$.call(this,"int32",be,tt):ot[Ae].call(this.uint32(tt<<3|dt),be)}},ft=0;ft<Fe.length;ft++)pe[Fe[ft]]=ae.Reader.prototype[Fe[ft]],ot[Fe[ft]]=ae.Writer.prototype[Fe[ft]];(function Ae(be,tt,dt,It){for(var rt=0,Ze=Object.keys(be);rt<Ze.length;rt++){var Nt=Ze[rt];if(be[Nt].$m&&Object.keys(be[Nt].$m).every(function(Lt){return Number(Lt)})){if(dt[Nt])throw Error(`nested type ${dt}.${Nt} has already exist`);dt[Nt]=function(Lt,cr){function Me(Se){for(var je in Lt)(je=Lt[je])[1].charAt(0)==="{"?this[je[0]]={}:je[1].charAt(0)!=="["&&je[1].charAt(0)!=="<"||(this[je[0]]=[]);if(Se)for(var pt=Object.keys(Se),ee=0;ee<pt.length;++ee)Se[pt[ee]]!=null&&(this[pt[ee]]=Se[pt[ee]])}var me,Be={};for(me in Lt){var ve=Lt[me],Ue=ve[1];Ue.charAt(0)==="{"?(Me.prototype[ve[0]]=ae.util.emptyObject,Be[Ue]={$m:Ue.substring(1).split(",").map(function(Se,je){return["$"+(je+1),Se,null]}).reduce(function(Se,je,pt){return Se[pt+1]=je,Se},{})}):Ue.charAt(0)==="["||Ue.charAt(0)==="<"?Me.prototype[ve[0]]=ae.util.emptyArray:Ue==="bytes"?Me.prototype[ve[0]]=ae.util.newBuffer([]):ve[2]&&ve[2].hasOwnProperty("low")&&ve[2].hasOwnProperty("high")?Me.prototype[ve[0]]=ae.util.Long.fromBits(ve[2].low,ve[2].high,ve[2].unsigned):Me.prototype[ve[0]]=ve[2]}return Me.decode=function(Se,je){Se instanceof ae.Reader||(Se=ae.Reader.create(Se));for(var pt=je===void 0?Se.len:Se.pos+je,ee=new Me;Se.pos<pt;){var Pe=Se.uint32(),He=Pe>>>3;if(0<He&&Lt[He]){var it=Lt[He][0],ht=Lt[He][1];if(ht.charAt(0)==="{")ee[it]===ae.util.emptyObject&&(ee[it]={}),He=Me.$namespace[ht].decode(Se,Se.uint32()),ee[it][He.$1]=He.$2;else if(ht.charAt(0)==="["||ht.charAt(0)==="<")if(ht=ht.substring(1),ee[it]&&ee[it].length||(ee[it]=[]),De[ht]!==void 0&&(7&Pe)==2)for(var Ht=Se.uint32()+Se.pos;Se.pos<Ht;)ee[it].push(pe.$.call(Se,ht));else ee[it].push(pe.$.call(Se,ht));else ee[it]=pe.$.call(Se,ht)}else Se.skipType(7&Pe)}return ee},Me.encode=function(Se,je){for(var pt in je=je||ae.Writer.create(),Lt){var ee=Lt[pt][0];if((ht=Lt[pt][1]).charAt(0)==="{"){if(Se[ee]!=null&&Se.hasOwnProperty(ee))for(var Pe=0,He=Object.keys(Se[ee]);Pe<He.length;++Pe)je.uint32((pt<<3|2)>>0).fork(),Me.$namespace[ht].encode({$1:He[Pe],$2:Se[ee][He[Pe]]},je).ldelim()}else if(ht.charAt(0)==="["||ht.charAt(0)==="<"){var it=ht.charAt(0)==="<",ht=ht.substring(1),Ht=Se[ee];if(Ht!=null&&Ht.length)if(it&&De[ht]!==void 0){for(je.uint32((pt<<3|2)>>0).fork(),Pe=0;Pe<Ht.length;Pe++)ot[ht].call(je,Ht[Pe]);je.ldelim()}else for(Pe=0;Pe<Ht.length;Pe++)ot.$.call(je,ht,Ht[Pe],pt)}else Se[ee]!=null&&Se.hasOwnProperty(ee)&&ot.$.call(je,ht,Se[ee],pt)}return je},Object.keys(Be).length&&(Me.$namespace=Ae(Be,tt+"."+cr,Me.$namespace||{},!0)),Me}(be[Nt].$m,Nt)}else be[Nt].$s?dt[Nt]=function(Lt,cr){function Me(me,Be,ve){ae.rpc.Service.call(this,me,Be,ve)}return(Me.prototype=Object.create(ae.rpc.Service.prototype)).constructor=Me,Object.keys(Lt).forEach(function(me){var Be=Lt[me];function ve(Ue,Se){return this.rpcCall(ve,ce[Be[0]],ce[Be[1]],Ue,Se)}Object.defineProperty(ve,"name",{value:me}),Object.defineProperty(ve,"path",{value:tt+"."+cr}),Me.prototype[me]=ve}),Me}(be[Nt].$s,Nt):be[Nt].$e&&Object.values(be[Nt].$e).every(function(Lt){return Number(Lt)===Lt})&&(dt[Nt]=function(Lt){for(var cr=Object.keys(Lt),Me={},me=0;me<cr.length;me++)Me[Me[cr[me]]=Lt[cr[me]]]=cr[me];return Me}(be[Nt].$e));dt[Nt]&&!It&&(ce[tt+"."+Nt]=dt[Nt]),delete be[Nt].$m,delete be[Nt].$s,delete be[Nt].$e,dt[Nt]=Ae(be[Nt],tt?tt+"."+Nt:Nt,dt[Nt]||{})}return dt})({PB:{proto_accesshub:{AccesshubAddr:{$m:{1:["ipv4","fixed32",0],2:["ipv6","PB.proto_accesshub.IPV6Addr",null],3:["quic_port","uint32",0],4:["wss_port","uint32",0]}},AccesshubDispatchGroup:{$m:{1:["group","string",""],2:["quic_nodes","<string",null],3:["mtcp_nodes","<string",null],4:["wss_nodes","<string",null]}},AccesshubDispatchGroup2:{$m:{1:["group","string",""],2:["nodes","<PB.proto_accesshub.AccesshubAddr",null],3:["nodes_dual","<PB.proto_accesshub.AccesshubAddr",null]}},AccesshubDispatchRequest2:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode_no","PB.proto_accesshub.Mode",0],5:["id_name","string",""],6:["sdk_type","PB.proto_accesshub.SdkType",0],7:["zegoconn_version","uint32",0],8:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],9:["device_id","string",""],10:["client_ip","string",""],11:["geofencing_type","uint32",0],12:["geofencings","[uint32",null],13:["addr_type","uint32",0]}},AccesshubDispatchResponse2:{$m:{1:["code","int32",0],2:["message","string",""],3:["data","PB.proto_accesshub.AccesshubDispatchResponseData2",null]}},AccesshubDispatchResponseData2:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["rand","string",""],3:["secret","string",""],4:["groups","<PB.proto_accesshub.AccesshubDispatchGroup2",null],5:["wss_groups","<PB.proto_accesshub.WssAccesshubDispatchGroup",null],6:["ttl","uint32",0]}},BackendConnType:{$e:{BACKEND_CONN_TYPE_UNSET:0,BACKEND_CONN_TYPE_TCP:1,BACKEND_CONN_TYPE_WSS:2}},CloseConnection:{$m:{1:["reason","int32",0],2:["msg","string",""],3:["action","int32",0]},Action:{$e:{ACTION_RESERVED:0,ACTION_DISPATCH:1,ACTION_RETRY:2,ACTION_NEXT_NODE:3,ACTION_ABORT:4,ACTION_NEXT_GROUP:5}}},ConnectionClosed:{$m:{1:["code","int32",0],2:["msg","string",""]}},ErrorCode:{$e:{OK:0,DISPATCH_NO_AVAILABLE_NODE:1e4,DISPATCH_INTERNAL_ERROR:10001,DISPATCH_INVALID_FRAME:10002,DISPATCH_UNMARSHAL:10003,DISPATCH_MSGTYPE:10004,DISPATCH_MARSHAL:10005,DISPATCH_TOO_FREQUENTLY:10006,DISPATCH_EMPTY_GEOFENCING:10007,ACCESSHUB_INVALID_FRAME:2e4,ACCESSHUB_NEED_ENCRYPT:20001,ACCESSHUB_DECRYPT:20002,ACCESSHUB_MSGTYPE:20003,ACCESSHUB_UNMARSHAL:20004,ACCESSHUB_TIMEOUT:20005,ACCESSHUB_CONNECT:20006,ACCESSHUB_BROKEN:20007,ACCESSHUB_INTERNAL_ERROR:20008,ACCESSHUB_MARSHAL:20009,ACCESSHUB_UNSUPPORTED_SERVICE:20010,ACCESSHUB_TOO_FREQUENTLY:20011,ACCESSHUB_INVALID_APPID:20012,ACCESSHUB_HB_TIMEOUT:20013,ACCESSHUB_INVALID_SIGNATURE:20014,ACCESSHUB_AUTH_FAILED:20015,ACCESSHUB_UNSUPPORTED_INTERFACE:20016,ACCESSHUB_EMPTY_GEOFENCING:20017,ACCESSHUB_ACCESS_DENIED:20018,ACCESSHUB_SPECIAL_CUSTOMER:20019,ACCESSHUB_GET_STREAM_FAILED:3e4,ACCESSHUB_GET_CONN_FAILED:30001,ACCESSHUB_DO_HTTP_REQUEST_FAILED:30002,ACCESSHUB_UNMARSHAL_HB_FAILED:30003,ACCESSHUB_DO_BACKEND_DISPATCH_FAILED:30004}},GeoFencing:{$e:{CN:2,NA:3,EU:4,AS:5,IN:6,NCN:7}},GeoFencingType:{$e:{NONE:0,UNION:1,EXCLUDE:2}},GetAppConfigRequest:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode_no","PB.proto_accesshub.Mode",0],5:["id_name","string",""],6:["config_key","string",""],7:["ts","uint64",{low:0,high:0,unsigned:!0}],8:["signature","bytes",[]],9:["lite_sign","string",""],10:["token","string",""],11:["sdk_type","PB.proto_accesshub.SdkType",0],12:["zegoconn_version","uint32",0],13:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],14:["device_id","string",""],15:["etag","uint32",0],16:["is_special_customer","uint32",0]}},GetAppConfigResponse:{$m:{1:["code","int32",0],2:["message","string",""],3:["data","PB.proto_accesshub.GetAppConfigResponseData",null]}},GetAppConfigResponseData:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["data","bytes",[]],3:["ts","uint64",{low:0,high:0,unsigned:!0}],4:["etag","uint32",0]}},GetConfigRequest:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode","string",""],5:["id_name","string",""],6:["reqid","string",""],7:["zegoconn_version","uint32",0],8:["sdk_type","PB.proto_accesshub.SdkType",0],9:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],10:["device_id","string",""],11:["mode_no","PB.proto_accesshub.Mode",0],12:["geofencing_type","uint32",0],13:["geofencings","[uint32",null]}},GetConfigResponse:{$m:{1:["code","int32",0],2:["message","string",""],3:["data","PB.proto_accesshub.GetConfigResponseData",null]}},GetConfigResponseData:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["quic_hb_interval","uint32",0],3:["quic_hb_timeout","uint32",0],4:["logic_hb_interval","uint32",0],5:["logic_hb_timeout","uint32",0],6:["pc_establish_timeout","uint32",0],7:["sdk_link_detect_interval","uint32",0],8:["sdk_link_detect_duration","uint32",0],9:["client_outer_ip","string",""],10:["ntp_time","uint64",{low:0,high:0,unsigned:!0}],11:["root_rsa_certs_ver","uint32",0],12:["geofencing_id","uint32",0],13:["svraddr_ver","uint32",0],14:["root_ecc_certs_ver","uint32",0]}},HBRequest:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["ts","int64",{low:0,high:0,unsigned:!1}]}},HBResponse:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["ts","int64",{low:0,high:0,unsigned:!1}],3:["ntp_time","uint64",{low:0,high:0,unsigned:!0}]}},HTTPRequest:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode","string",""],5:["id_name","string",""],6:["reqid","string",""],7:["stick","string",""],8:["service","string",""],9:["location","string",""],10:["method","string",""],11:["headers","<PB.proto_accesshub.HTTPRequest.HTTPHeader",null],12:["body","bytes",[]],13:["ack","bool",!1],14:["mode_no","PB.proto_accesshub.Mode",0],15:["service_no","PB.proto_accesshub.Service",0],16:["method_no","PB.proto_accesshub.Method",0],17:["sdk_type","PB.proto_accesshub.SdkType",0],18:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],19:["zegoconn_version","uint32",0],20:["device_id","string",""],21:["reduce_resp_header","uint32",0]},HTTPHeader:{$m:{1:["name","string",""],2:["val","string",""]}}},HTTPRequest2:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode","PB.proto_accesshub.Mode",0],5:["id_name","string",""],6:["sdk_type","PB.proto_accesshub.SdkType",0],7:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],8:["zegoconn_version","uint32",0],9:["headers","<PB.proto_accesshub.HTTPRequest.HTTPHeader",null],10:["method","PB.proto_accesshub.Method",0],11:["interface_id","uint32",0],12:["res_id","string",""],13:["params","string",""],14:["body","bytes",[]],15:["ack","bool",!1],16:["device_id","string",""],17:["ts","uint64",{low:0,high:0,unsigned:!0}],18:["signature","bytes",[]],19:["token","string",""],20:["lite_sign","string",""],21:["reduce_resp_header","uint32",0]}},HTTPRequestAck:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}]}},HTTPRequestDroped:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["reason","int32",0],3:["msg","string",""]}},HTTPResponse:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["headers","<PB.proto_accesshub.HTTPRequest.HTTPHeader",null],3:["status_code","int32",0],4:["body","bytes",[]]}},IPAddr:{$m:{1:["ipv4","fixed32",0],2:["ipv6","PB.proto_accesshub.IPV6Addr",null]}},IPV6Addr:{$m:{1:["high","fixed64",{low:0,high:0,unsigned:!1}],2:["low","fixed64",{low:0,high:0,unsigned:!1}]}},MessageType:{$e:{MSG_TYPE_EMPTY:0,MSG_TYPE_CONNECTION_CLOSED:1,MSG_TYPE_STREAM_CLOSED:2,MSG_TYPE_CLOSE_CONNECTION:3,MSG_TYPE_HTTP_REQUEST:4,MSG_TYPE_HTTP_RESPONSE:5,MSG_TYPE_HTTP_REQUEST_DROPED:6,MSG_TYPE_PROXY_CONNECT:7,MSG_TYPE_PROXY_CONNECTED:8,MSG_TYPE_PROXY_CONNECTION_CLOSED:9,MSG_TYPE_PROXY_SEND_DATA:10,MSG_TYPE_PROXY_RECV_DATA:11,MSG_TYPE_HB_REQUEST:12,MSG_TYPE_HB_RESPONSE:13,MSG_TYPE_GET_CONFIG_REQUEST:14,MSG_TYPE_GET_CONFIG_RESPONSE:15,MSG_TYPE_HTTP_REQUEST_ACK:16,MSG_TYPE_PC_UPWARD_MESSAGE:17,MSG_TYPE_PC_UPWARD_MESSAGE_ACK:18,MSG_TYPE_PC_ESTABLISHED:19,MSG_TYPE_PC_BROKEN:20,MSG_TYPE_PC_DOWNWARD_MESSAGE:21,MSG_TYPE_REDIRECT:22,MSG_TYPE_GET_APPCONFIG_REQUEST:23,MSG_TYPE_GET_APPCONFIG_RESPONSE:24,MSG_TYPE_PUSH_APPCONFIG:25,MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST:26,MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE:27,MSG_TYPE_GET_IM_CONFIG_REQUEST:28,MSG_TYPE_GET_IM_CONFIG_RESPONSE:29,MSG_TYPE_PUSH_EXCEPTION:30,MSG_TYPE_RESOLVE_DOMAIN_REQUEST:31,MSG_TYPE_RESOLVE_DOMAIN_RESPONSE:32,MSG_TYPE_HTTP_REQUEST2:33,MSG_TYPE_REDIRECT2:34,MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2:35,MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE2:36,MSG_TYPE_GET_ROOTCERTS_REQUEST:37,MSG_TYPE_GET_ROOTCERTS_RESPONSE:38,MSG_TYPE_GET_SVRADDR_REQUEST:39,MSG_TYPE_GET_SVRADDR_RESPONSE:40,MSG_TYPE_UA_DISPATCH_REQUEST:50,MSG_TYPE_UA_DISPATCH_RESPONSE:51,MSG_TYPE_UA_ECHO_REQUEST:52,MSG_TYPE_UA_ECHO_RESPONSE:53,MSG_TYPE_NODE_REGISTER_REQUEST:100,MSG_TYPE_NODE_REGISTER_RESPONSE:101,MSG_TYPE_NODE_HB_REQUEST:102,MSG_TYPE_NODE_HB_RESPONSE:103}},Method:{$e:{METHOD_UNSET:0,METHOD_GET:1,METHOD_POST:2,METHOD_PUT:3,METHOD_PATCH:4,METHOD_DELETE:5,METHOD_HEAD:6,METHOD_OPTIONS:7}},Mode:{$e:{Mode_UNSET:0,MODE_ONLINE:1,MODE_TEST:2,MODE_ALPHA:3}},PCBroken:{$m:{}},PCDownwardMessage:{$m:{1:["payload","bytes",[]],2:["wss_message_type","uint32",0],3:["ts","uint64",{low:0,high:0,unsigned:!0}]}},PCEstablished:{$m:{1:["elapse","uint32",0],2:["from","uint32",0]}},PCUpwardMessage:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}],2:["appid","uint32",0],3:["biz_type","uint32",0],4:["mode_no","PB.proto_accesshub.Mode",0],5:["id_name","string",""],6:["service_no","PB.proto_accesshub.Service",0],7:["ack","bool",!1],8:["payload","bytes",[]],9:["sdk_type","PB.proto_accesshub.SdkType",0],10:["wss_message_type","uint32",0],11:["wss_path","string",""],12:["wss_raw_query","string",""],13:["zegoconn_version","uint32",0],14:["zegoconn_run_env","PB.proto_accesshub.ZegoconnRunEnv",0],15:["backend_conn_type","PB.proto_accesshub.BackendConnType",0],16:["device_id","string",""],17:["geofencing_type","uint32",0],18:["geofencings","[uint32",null],19:["addr_type","uint32",0]}},PCUpwardMessageAck:{$m:{1:["txid","uint64",{low:0,high:0,unsigned:!0}]}},ProxyConnectionClosed:{$m:{1:["code","int32",0],2:["msg","string",""],3:["connected","int32",0]}},PushAppConfig:{$m:{1:["config_key","string",""],2:["data","bytes",[]]}},PushException:{$m:{1:["reason","int32",0],2:["msg","string",""],3:["txid","uint64",{low:0,high:0,unsigned:!0}]}},Redirect2:{$m:{1:["rand","string",""],2:["secret","string",""],3:["groups","<PB.proto_accesshub.AccesshubDispatchGroup2",null],4:["wss_groups","<PB.proto_accesshub.WssAccesshubDispatchGroup",null],5:["ttl","uint32",0]}},SdkType:{$e:{SDK_TYPE_UNSET:0,SDK_TYPE_NATIVE:1,SDK_TYPE_WSS_WEB:3}},Service:{$e:{SERVICE_UNSET:0,SERVICE_MEDIAGW:1,SERVICE_LIVEROOM:2,SERVICE_MIX:3,SERVICE_ZEUS:4,SERVICE_ZPUSH:5,SERVICE_L3:6,SERVICE_TALKLINE:7,SERVICE_EDUSUITE:8,SERVICE_ZIM:9,SERVICE_ClOUD_SETTING:10,SERVICE_ZEUSHB:11,SERVICE_USER_LOGIC:12,SERVICE_UNIFYDISPATCH:13,SERVICE_QUALITY:14,SERVICE_SECURITY:15,SERVICE_KTVCPR:16,SERVICE_SWITCH4LIVEROOM:17,SERVICE_WEBRTC_SIGNAL:18,SERVICE_L3_WEBRTC_SIGNAL:19,SERVICE_VIDEOCPR:20,SERVICE_CDN:21,SERVICE_CLOUDRECORD:22,SERVICE_INNER_ECHO:23,SERVICE_OUTER_ECHO:24,SERVICE_LOCALHOST_ECHO:25,SERVICE_ECHO:26,SERVICE_DOCSERVICE:27,SERVICE_AUTHSVR:28,SERVICE_WEBLIVEROOM:29,SERVICE_WHITEBOARD:30,SERVICE_METAWORLD:31,SERVICE_ZEGOLAND:32}},StreamClosed:{$m:{1:["code","int32",0],2:["msg","string",""]}},WssAccesshubDispatchGroup:{$m:{1:["group","string",""],2:["host","string",""],3:["main_domain","string",""]}},ZegoconnRunEnv:{$e:{ZEGOCONN_RUN_ENV_UNSET:0,ZEGOCONN_RUN_ENV_BROWSER:1,ZEGOCONN_RUN_ENV_APPLET:2}}},proto_initconfig:{AppConfig:{$m:{1:["test_id","int32",0],2:["domain","string",""],3:["flexible_domain","string",""],4:["replace_flexible_domain","string",""]}},InitConfig:{$m:{1:["app_config","PB.proto_initconfig.AppConfig",null],4:["speedlog_config","PB.proto_initconfig.SpeedlogConfig",null],5:["media_config","PB.proto_initconfig.MediaConfig",null]}},MediaConfig:{$m:{1:["play_config","PB.proto_initconfig.MediaPlayConfig",null],2:["publish_config","PB.proto_initconfig.MediaPublishConfig",null]}},MediaPlayConfig:{$m:{5:["resource_info","<PB.proto_initconfig.MediaResourceInfo",null]}},MediaPublishConfig:{$m:{2:["resource_info","<PB.proto_initconfig.MediaResourceInfo",null],5:["enable_subject_segmentation","int32",0],6:["object_segmentation_platform","int32",0]}},MediaResourceInfo:{$m:{1:["resource_type","PB.proto_initconfig.ResourceType",0],2:["service_info","<PB.proto_initconfig.MediaServiceProtocolInfo",null]}},MediaServiceProtocolInfo:{$m:{1:["config_id","string",""],2:["protocol","PB.proto_initconfig.ProtocolType",0],3:["url_template","string",""],4:["resolve_type","PB.proto_initconfig.ResolveType",0],5:["push_cdn_authentication","int32",0],6:["cdn_quic_version","<int32",null]}},ProtocolType:{$e:{UDP:0,RTMP:1,FLV:2,HLS:3,WEBRTC:4}},ResolveType:{$e:{LOCAL_DNS:0,DISPATCH:1}},ResourceType:{$e:{CDN:0,RTC:1,L3:2,CDN_PLUS:3,CDN_PLUS_BACKUP:4}},SpeedlogConfig:{$m:{1:["report_count","int32",0],2:["report_retry_interval","int32",0],3:["push_quality_sample_count","int32",0],4:["pull_quality_sample_count","int32",0],5:["hardware_report_cycle","int32",0],6:["room_user_max_count","int32",0],7:["room_stream_max_count","int32",0],8:["charge_info_report_cycle","int32",0],9:["charge_info_report_mode","int32",0],10:["disable_report_pull","<PB.proto_initconfig.ResourceType",null],11:["report_max_bytes","int32",0],12:["push_quality_report_freq","int32",0],13:["pull_quality_report_freq","int32",0],14:["charge_info_report_no_playing","int32",0]}}}}},"",ce,!1),ae.util.global.PB=ce.PB;var yt=ce.PB,Ot=function(){return(Ot=Object.assign||function(Ae){for(var be,tt=1,dt=arguments.length;tt<dt;tt++)for(var It in be=arguments[tt])Object.prototype.hasOwnProperty.call(be,It)&&(Ae[It]=be[It]);return Ae}).apply(this,arguments)};q.util.Long=j.a,q.configure(),Ve.prototype.encodeRequest=function(Ae,be,tt){var dt=(It=this.protoMap[Ae])[0],It=It[1];return It=(dt=this.encode(this.protoInstance[dt][It],be)).length,(be=new Uint8Array(13+It))[0]=175,be[1]=0,be[2]=Ae>>8,be[3]=Ae-(be[2]<<8),be.set(new Uint8Array(Int32Array.from([It]).buffer).reverse(),4),be.set(new Uint8Array(Int32Array.from([tt]).buffer).reverse(),8),be[12]=0,be.set(dt,13),be},Ve.prototype.decodeResponse=function(Ae){var be=(Ae[2]<<8)+Ae[3],tt=new DataView(Ae.buffer).getUint32(8),dt=Ae.slice(13);try{var It=this.protoMap[be],rt=It[0],Ze=It[1];return[tt,be,this.decode(this.protoInstance[rt][Ze],dt)]}catch{return[tt,be,{code:1}]}},Ve.prototype.decodeConfigMessage=function(Ae){return this.decode(this.protoInstance.proto_initconfig.InitConfig,Ae)},Ve.prototype.encode=function(Ae,be){return Ae.encode(new Ae(be)).finish()},Ve.prototype.decode=function(Ae,be){return Ot({},Ae.decode(be))};var ge,Ee=Ve,fe=(Object.defineProperty(le.prototype,"id",{get:function(){return this._id||null},set:function(Ae){this._id=Ae},enumerable:!1,configurable:!0}),Object.defineProperty(le.prototype,"data",{get:function(){return this._data},set:function(Ae){this._data=Ae},enumerable:!1,configurable:!0}),le.prototype.hasNext=function(){return this.next&&this.next.id},le.prototype.hasPrev=function(){return this.prev&&this.prev.id},le),ie=(de.prototype.insertBefore=function(Ae,be){return(be=new fe(this._idCounter,be)).next=Ae,be.prev=Ae.prev,Ae.prev&&(Ae.prev.next=be),Ae.prev=be,++this._idCounter,++this._numNodes,be},de.prototype.addLast=function(Ae){return this.insertBefore(this.end,Ae)},de.prototype.add=function(Ae){return this.addLast(Ae)},de.prototype.getFirst=function(){return this._numNodes===0?null:this.start.next},de.prototype.getLast=function(){return this._numNodes===0?null:this.end.prev},de.prototype.size=function(){return this._numNodes},de.prototype.getFromFirst=function(Ae){var be=0,tt=this.start.next;if(0<=Ae)for(;be<Ae&&tt!==null;)tt=tt.next,++be;else tt=null;if(tt===null)throw"Index out of bounds.";return tt},de.prototype.get=function(Ae){return Ae===0?this.getFirst():Ae===this._numNodes-1?this.getLast():this.getFromFirst(Ae)},de.prototype.remove=function(Ae){return Ae.prev&&(Ae.prev.next=Ae.next),Ae.next&&(Ae.next.prev=Ae.prev),--this._numNodes,Ae},de.prototype.removeFirst=function(){var Ae=null;return 0<this._numNodes&&this.start.next?this.remove(this.start.next):Ae},de.prototype.removeLast=function(){var Ae=null;return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):Ae},de.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},de.prototype.each=function(Ae){for(var be=this.start;be.hasNext();)Ae(be=be.next)},de.prototype.find=function(Ae){for(var be=this.start,tt=!1,dt=null;be.hasNext()&&!tt;)Ae(be=be.next)&&(dt=be,tt=!0);return dt},de.prototype.map=function(Ae){for(var be=this.start,tt=[];be.hasNext();)Ae(be=be.next)&&tt.push(be);return tt},de.prototype.push=function(Ae){return this.addLast(Ae)},de.prototype.unshift=function(Ae){0<this._numNodes?this.insertBefore(this.start.next,Ae):this.insertBefore(this.end,Ae)},de.prototype.pop=function(){return this.removeLast()},de.prototype.shift=function(){return this.removeFirst()},de);ue.prototype.createSocket=function(Ae){},ue.prototype.setState=function(Ae){},ue.prototype.initEvent=function(Ae,be,tt,dt){},ue.prototype.sendMessage=function(Ae,be,tt,dt,It,rt,Ze,Nt){},H=ue;function ue(){this.txid=0,this.linkRetryTime=60,this.updatedMsgTime=0,this.connectServer=""}function de(){this.start=new fe,this.end=new fe,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}function le(Ae,be){Ae===void 0&&(Ae=null),be===void 0&&(be=null),this.next=null,this.prev=null,this._id=Ae,this._data=be}function Ve(){var Ae;this.protoInstance=yt,this.protoMap=((Ae={})[V.MSG_TYPE_STREAM_CLOSED]=["proto_accesshub","ConnectionClosed"],Ae[V.MSG_TYPE_CLOSE_CONNECTION]=["proto_accesshub","CloseConnection"],Ae[V.MSG_TYPE_HTTP_REQUEST]=["proto_accesshub","HTTPRequest"],Ae[V.MSG_TYPE_HTTP_RESPONSE]=["proto_accesshub","HTTPResponse"],Ae[V.MSG_TYPE_HTTP_REQUEST2]=["proto_accesshub","HTTPRequest2"],Ae[V.MSG_TYPE_HB_REQUEST]=["proto_accesshub","HBRequest"],Ae[V.MSG_TYPE_HB_RESPONSE]=["proto_accesshub","HBResponse"],Ae[V.MSG_TYPE_GET_CONFIG_REQUEST]=["proto_accesshub","GetConfigRequest"],Ae[V.MSG_TYPE_GET_CONFIG_RESPONSE]=["proto_accesshub","GetConfigResponse"],Ae[V.MSG_TYPE_GET_SVRADDR_REQUEST]=["proto_accesshub","GetSvraddrRequest"],Ae[V.MSG_TYPE_GET_SVRADDR_RESPONSE]=["proto_accesshub","GetSvraddrResponse"],Ae[V.MSG_TYPE_HTTP_REQUEST_ACK]=["proto_accesshub","HTTPRequestAck"],Ae[V.MSG_TYPE_PC_UPWARD_MESSAGE]=["proto_accesshub","PCUpwardMessage"],Ae[V.MSG_TYPE_PC_UPWARD_MESSAGE_ACK]=["proto_accesshub","PCUpwardMessageAck"],Ae[V.MSG_TYPE_PC_ESTABLISHED]=["proto_accesshub","PCEstablished"],Ae[V.MSG_TYPE_PC_BROKEN]=["proto_accesshub","PCBroken"],Ae[V.MSG_TYPE_PC_DOWNWARD_MESSAGE]=["proto_accesshub","PCDownwardMessage"],Ae[V.MSG_TYPE_REDIRECT]=["proto_accesshub","Redirect"],Ae[V.MSG_TYPE_REDIRECT2]=["proto_accesshub","Redirect2"],Ae[V.MSG_TYPE_GET_APPCONFIG_REQUEST]=["proto_accesshub","GetAppConfigRequest"],Ae[V.MSG_TYPE_GET_APPCONFIG_RESPONSE]=["proto_accesshub","GetAppConfigResponse"],Ae[V.MSG_TYPE_PUSH_APPCONFIG]=["proto_accesshub","PushAppConfig"],Ae[V.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST]=["proto_accesshub","AccesshubDispatchRequest"],Ae[V.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE]=["proto_accesshub","AccesshubDispatchResponse"],Ae[V.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2]=["proto_accesshub","AccesshubDispatchRequest2"],Ae[V.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE2]=["proto_accesshub","AccesshubDispatchResponse2"],Ae[V.MSG_TYPE_PUSH_EXCEPTION]=["proto_accesshub","PushException"],Ae)}(te=ge=ge||{})[te.BROWSER=0]="BROWSER",te[te.WEIXINMINI=1]="WEIXINMINI",ct.prototype.init=function(){var Ae=this;this._websocket&&(this.readyState=0,this._websocket.onOpen(function(be){Ae.readyState=Ae._websocket.readyState,typeof Ae.onopen=="function"&&(Ae.onopen(be),Ae._websocket.onClose(function(tt){Ae.readyState=Ae._websocket.readyState,typeof Ae.onclose=="function"&&Ae.onclose(tt)}),Ae._websocket.onMessage(function(tt){typeof Ae.onmessage=="function"&&Ae.onmessage(tt)}))}),this._websocket.onError(function(be){Ae.readyState=Ae._websocket.readyState,typeof Ae.onerror=="function"&&Ae.onerror(be)}))},ct.prototype.onopen=function(Ae){},ct.prototype.onerror=function(Ae){},ct.prototype.onclose=function(Ae){},ct.prototype.onmessage=function(Ae){},ct.prototype.send=function(Ae){Ae instanceof Uint8Array&&(Ae=new Uint8Array(Ae).buffer),this._websocket&&this._websocket.send({data:Ae})},ct.prototype.close=function(){this._websocket&&this._websocket.close()};var nt=ct;function ct(Ae,be){this.url=Ae,this.readyState=3,this._websocket=wx.connectSocket({url:Ae}),this.init()}function Re(Ae,be,tt){if(tt||arguments.length===2)for(var dt,It=0,rt=be.length;It<rt;It++)!dt&&It in be||((dt=dt||Array.prototype.slice.call(be,0,It))[It]=be[It]);return Ae.concat(dt||Array.prototype.slice.call(be))}function lt(Ae){var be=unescape||window.unescape;return Uint8Array.from(Array.from(be(encodeURIComponent(Ae))).map(function(tt){return tt.charCodeAt(0)}))}function St(Ae){var be=escape||window.escape;return decodeURIComponent(be(String.fromCharCode.apply(String,Array.from(Ae))))}function Yt(Ae,be,tt){if(tt||arguments.length===2)for(var dt,It=0,rt=be.length;It<rt;It++)!dt&&It in be||((dt=dt||Array.prototype.slice.call(be,0,It))[It]=be[It]);return Ae.concat(dt||Array.prototype.slice.call(be))}We.prototype.createSocket=function(Ae){this.socket=new(this.ENV%2%2===ge.BROWSER?WebSocket:nt)(Ae)},We.prototype.openHandler=function(Ae){var be=this;this.socket&&(this.socket.onopen=function(tt){be.socket.binaryType="arraybuffer",be.responseHandler(),Ae(tt)})},We.prototype.responseHandler=function(){var Ae=this;this.socket&&(this.socket.onmessage=function(be){be=typeof be.data=="string"?JSON.parse(be.data):be.data,Ae.onMessage(be)})},We.prototype.onMessage=function(Ae){},We.prototype.closeHandler=function(Ae){this.socket&&(this.socket.onclose=function(be){Ae(be)})},We.prototype.errorHandler=function(Ae){this.socket&&(this.socket.onerror=Ae)},We.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},We.prototype.isDisConnect=function(){return!this.socket||this.socket.readyState!==1},We.prototype.sendMessage=function(Ae){this.isDisConnect()||this.socket&&this.socket.send(Ae)};var xe,st=We,At={TIMEOUT:{code:1100002,msg:"network timeout."},SOCKET_CLOSE:{code:1100003,msg:"socket close"},NET_SOCKET_TIMEOUT:{code:1100004,msg:"net agent timeout"},NET_HB_TIMEOUT:{code:1100005,msg:"net hb timeout"},NET_CONNECT_TIMEOUT:{code:1100006,msg:"net connect timeout"}},Et="zn.zca.gc",Dt="zn.zca.gac",Ft="zn.zca.rd",zt="zn.nab.du",Ut="zn.nab.gac",Vt="zn.nhb.s",mr="zn.rlh.at",Br="zn.rlh.sm",Zt="zn.wl.cs.0",wr="zn.wl.bse",kt="zn.napr.sr",Ar="zn.napr.ope",qe="zn.nahr.sr",nr="zn.nahr.sr2",tr={domains:["accesshub-wss.zego.im"],mode:"online",modeNo:L.MODE_ONLINE,sdkType:3,connectVer:30,pcEstablishTimeout:15,scheme:"wss",location:"accesshub",wssMessageType:1},lr=(xe=function(Ae,be){return(xe=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(tt,dt){tt.__proto__=dt}:function(tt,dt){for(var It in dt)Object.prototype.hasOwnProperty.call(dt,It)&&(tt[It]=dt[It])}))(Ae,be)},function(){return(lr=Object.assign||function(Ae){for(var be,tt=1,dt=arguments.length;tt<dt;tt++)for(var It in be=arguments[tt])Object.prototype.hasOwnProperty.call(be,It)&&(Ae[It]=be[It]);return Ae}).apply(this,arguments)}),pr=function(Ae){function be(rt,Ze,Nt,Lt,cr){var Me=Ae.call(this)||this;return Me.appID=rt,Me.env=Ze,Me.protobuf=Nt,Me.logger=Lt,Me.stateCenter=cr,Me.socketService=new st(Me.env),Me.urlIndex=0,Me.updatedMsgTime=0,Me.unUpdateMsgTimeTypes=[V.MSG_TYPE_HB_REQUEST,V.MSG_TYPE_HB_RESPONSE,V.MSG_TYPE_GET_CONFIG_REQUEST,V.MSG_TYPE_GET_CONFIG_RESPONSE,V.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2,V.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE2],Me.netLinkState=0,Me.sendCommandList=new ie,Me.unSendCommandList=new ie,Me.sendCommandMap={},Me.unSendCommandMap={},Me.sendDataCheckOnceCount=100,Me.sendDataDropTimeout=1e4,Me.sendDataCheckInterval=2e3,Me.timeout=5e3,Me.connectInterval=1e4,Me.connectTimer=null,Me.connectRsp={},Me.unlogTypes=[12,13],Me.tryServers=[],Me.tryConnectEvents=[],Me.connectStartTime=0,Me.updatedMsgTime=Date.now(),Me}var tt=be,dt=Ae;if(typeof dt!="function"&&dt!==null)throw new TypeError("Class extends value "+String(dt)+" is not a constructor or null");function It(){this.constructor=tt}return xe(tt,dt),tt.prototype=dt===null?Object.create(dt):(It.prototype=dt.prototype,new It),be.prototype.initEvent=function(rt,Ze,Nt,Lt){this.onConnectedEvent=rt,this.onDisConnectedEvent=Ze,this.onConnectingEvent=Nt,this.onPushEvent=Lt},be.prototype.createSocket=function(rt){this.servers=rt,this.urlIndex=0},be.prototype.destroySocket=function(rt){this.logger.info("zn.wl.ds.0 call "+rt),this.socketService.closeSocket(),this.netLinkState=0,rt!==T.NONE&&this.onDisConnectedEvent&&this.onDisConnectedEvent(rt===T.BROKEN),this.resetConnect()},be.prototype.refreshServers=function(rt){this.servers=Re(Re([],rt,!0),this.servers,!0)},be.prototype.connectSocket=function(rt,Ze,Nt){var Lt=this,cr=(rt===void 0&&(rt=!0),this.logger.info(Zt+" call"),this.connectRsp.suc=Ze,!1),Me=(this.connectRsp.fail=function(){Nt&&(cr?Lt.logger.info(Zt+" fail cb has exec"):(Nt(),cr=!0))},rt&&(this.urlIndex=(this.urlIndex+1)%this.servers.length),this.servers[this.urlIndex]);return this.connectServer=Me,this.logger.info(Zt+" server "+Me),this.tryServers.push(Me),this.connectStartTime=Date.now(),this.closeSocket(),this.netLinkState=1,this.socketService.createSocket(Me),this.onConnectingEvent&&this.onConnectingEvent(!0),this.bindSocketEvent(),this.connectTimer=setTimeout(function(){Lt.logger.info(Zt+" timeout"),Lt.connectEvent(Me,At.NET_CONNECT_TIMEOUT.code),Lt.connectRsp.fail&&Lt.connectRsp.fail()},this.connectInterval),!0},be.prototype.bindSocketEvent=function(){var rt=this;this.openHandler(function(){rt.logger.info(wr+" open"),rt.resetConnect(),rt.connectRsp.suc&&rt.connectRsp.suc(),rt.netLinkState=2,rt.connectEvent(rt.connectServer,0),rt.onConnectedEvent&&rt.onConnectedEvent(rt.tryServers,rt.tryConnectEvents),rt.tryConnectEvents=[],rt.checkUnSendMsgs(rt.unSendCommandList),rt.startCheck()}),this.closeHandler(function(Ze){rt.logger.warn(wr+" close "+JSON.stringify(Ze.code||Ze)),rt.resetConnect(),rt.connectRsp.fail&&rt.connectRsp.fail(),rt.connectEvent(rt.connectServer,(Ze==null?void 0:Ze.code)||At.NET_CONNECT_TIMEOUT.code),rt.onDisConnectedEvent&&rt.onDisConnectedEvent(!0),rt.netLinkState=0}),this.errorHandler(function(Ze){rt.logger.warn(wr+" error "+JSON.stringify(Ze.code||Ze)),rt.resetConnect(),rt.connectRsp.fail&&rt.connectRsp.fail(),rt.connectEvent(rt.connectServer,(Ze==null?void 0:Ze.code)||At.NET_CONNECT_TIMEOUT.code),rt.onDisConnectedEvent&&rt.onDisConnectedEvent(!0),rt.netLinkState=0}),this.onMessage()},be.prototype.closeSocket=function(){this.logger.info("zn.wl.cs.1 call"),this.socketService.closeSocket(),this.netLinkState=0},be.prototype.connectEvent=function(rt,Ze){var Nt;this.connectStartTime&&(Nt=Date.now()-this.connectStartTime,this.tryConnectEvents.push({url:rt,time_consumed:Nt,connect_type:3,error:Ze}))},be.prototype.resetConnect=function(){this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=null),this.stopCheck()},be.prototype.isConnect=function(){return this.netLinkState===2},be.prototype.isDisConnect=function(){return!this.socketService||this.socketService.isDisConnect()},be.prototype.isConnecting=function(){return this.netLinkState===1},be.prototype.setState=function(rt){this.netLinkState=rt},be.prototype.closeHandler=function(rt){this.socketService.closeHandler(rt)},be.prototype.openHandler=function(rt){this.socketService.openHandler(rt)},be.prototype.errorHandler=function(rt){this.socketService.errorHandler(rt)},be.prototype.sendMessage=function(rt,Ze,Nt,Lt,cr,Me,me,Be){Lt===void 0&&(Lt=!0),cr===void 0&&(cr=null),Me===void 0&&(Me=null),me===void 0&&(me=null),(Be=Be===void 0?{}:Be).timeout===void 0&&(Be.timeout=5e3),Be.isInSendMap===void 0&&(Be.isInSendMap=!0),Be.isMsgCache===void 0&&(Be.isMsgCache=!0),this.txid++;var ve={appid:this.appID,biz_type:0,mode_no:((ve=this.stateCenter.appInfo)==null?void 0:ve.mode)||tr.modeNo,id_name:this.stateCenter.userId,sdk_type:tr.sdkType,zegoconn_run_env:this.env===0?$.ZEGOCONN_RUN_ENV_BROWSER:$.ZEGOCONN_RUN_ENV_APPLET,zegoconn_version:((ve=this.stateCenter.appInfo)==null?void 0:ve.connVer)||tr.connectVer};(Ue=this.stateCenter.appInfo)!=null&&Ue.deviceID&&(ve.device_id=(Ue=this.stateCenter.appInfo)==null?void 0:Ue.deviceID);var Ue=lr(lr({txid:this.txid},Lt?ve:{}),Nt);Lt={data:Ue,txid:this.txid,sendTime:Date.now(),streamID:Ze,type:rt,timeOut:Be.timeout||this.timeout,ack:Nt.ack,success:cr,error:Me,ackFunc:me,isSend:!0,isCheck:rt!==V.MSG_TYPE_PC_UPWARD_MESSAGE,extras:Be.extras},Be.isInSendMap&&(ve=this.sendCommandList.push(Lt),this.sendCommandMap[this.txid]=ve),Ue.service!==10&&Ue.interface_id!==14&&this.unUpdateMsgTimeTypes.includes(rt)||(this.updatedMsgTime=Date.now()),this.unlogTypes.indexOf(rt)===-1&&this.logger.info("zn.wl.sm type: "+rt+"-"+X[rt]+" streamID: "+Ze+" txid: "+this.txid),this.isConnect()?this.sendUint8Data(rt,Ue,Ze,Be.extras):Be.isMsgCache&&(Lt.isSend=!1,Nt=this.unSendCommandList.push(Lt),this.unSendCommandMap[this.txid]=Nt)},be.prototype.checkUnSendMsgs=function(rt){for(var Ze,Nt=rt.getFirst();Nt!=null;)rt.remove(Nt),Nt._data&&((Ze=Nt._data)==null?void 0:Ze.isSend)===!1&&Nt._data.type&&Nt._data.streamID&&Nt._data.data&&(this.sendUint8Data(Nt._data.type,Nt._data.data,Nt._data.streamID),Nt._data.isSend=!0),Nt=rt.getFirst()},be.prototype.Uint8ToArrayBuffer=function(rt){return rt.buffer.slice(rt.byteOffset,rt.byteLength+rt.byteOffset)},be.prototype.sendUint8Data=function(rt,Ze,Nt,Lt){rt=this.protobuf.encodeRequest(rt,Ze,Nt),this.socketService.sendMessage(this.Uint8ToArrayBuffer(rt))},be.prototype.onMessage=function(){var rt=this;this.socketService.onMessage=function(Ze){Ze=new Uint8Array(Ze);var Nt,Lt,cr=(Lt=rt.protobuf.decodeResponse(Ze))[0],Me=Lt[1],me=((Lt=Lt[2]).txid&&j.a.isLong(Lt.txid)&&Lt.txid.toNumber&&(Lt.txid=Lt.txid.toNumber()),rt.unUpdateMsgTimeTypes.includes(Me)||(rt.updatedMsgTime=Date.now()),(Lt==null?void 0:Lt.txid)||((me=Lt==null?void 0:Lt.data)==null?void 0:me.txid));rt.unlogTypes.indexOf(Me)===-1&&(Nt=me?", txid: ".concat(me):"",rt.logger.info("zn.wl.om"+" streamID: ".concat(cr,", msgType: ").concat(Me,"-").concat(X[Me])+Nt)),me&&rt.isRspMsg(me)?rt.handleSendCommandMsgRsp(cr,Me,me,Lt,{size:Ze.length}):rt.onPushEvent(cr,Me,Lt,{size:Ze.length})}},be.prototype.isRspMsg=function(rt){return this.sendCommandMap[rt]!==void 0},be.prototype.startCheck=function(){var rt=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout(function(){rt.startCheck()},this.sendDataCheckInterval)},be.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},be.prototype.checkMessageListTimeout=function(rt,Ze){for(var Nt,Lt=rt.getFirst(),cr=Date.now(),Me=0,me=this;Lt!=null&&function(){var Be,ve,Ue;return Lt._data&&Lt._data.sendTime+Lt._data.timeOut>cr||(Lt._data&&delete Ze[Lt._data.data.txid],rt.remove(Lt),Lt._data&&Lt._data.error==null||Lt._data&&Lt._data.sendTime+me.sendDataDropTimeout<cr||(Be=Lt&&Lt._data&&Lt._data.error,ve=Lt&&Lt._data&&Lt._data.txid,Ue=Lt&&Lt._data&&((Nt=Lt._data)==null?void 0:Nt.isCheck),setTimeout(function(){Ue&&Be&&Be({},ve,At.TIMEOUT)},0)),++Me>=me.sendDataCheckOnceCount)?"break":void(Lt=rt.getFirst())}()!=="break";);},be.prototype.checkSendMessageList=function(rt){for(var Ze,Nt=rt.getFirst();Nt!=null&&Nt._data;)(function(){var Lt,cr,Me;rt.remove(Nt),Nt._data.isSend&&Nt._data.error&&(Lt=Nt&&Nt._data&&Nt._data.error,cr=Nt&&Nt._data&&Nt._data.txid,Me=Nt&&Nt._data&&((Ze=Nt._data)==null?void 0:Ze.isCheck),setTimeout(function(){Me&&Lt&&Lt({},cr,At.TIMEOUT)},0)),Nt=rt.getFirst()})()},be.prototype.handleSendCommandMsgRsp=function(rt,Ze,Nt,Lt,cr){var Me,me=this.sendCommandMap[Nt];me!=null&&((Me=me._data)!=null&&Me.ack||(delete this.sendCommandMap[Nt],this.sendCommandList.remove(me)),Lt.code&&Lt.code!==0?Me&&Me.error!=null&&Me.error(Lt,Nt):Ze===V.MSG_TYPE_PUSH_EXCEPTION?(Lt.code=Lt.reason,Lt.message=Lt.msg,delete Lt.reason,delete Lt.msg,Me&&Me.error!=null&&Me.error(Lt,Nt)):Ze===V.MSG_TYPE_HTTP_REQUEST_ACK?Me&&Me.ackFunc!=null&&Me.ackFunc(Lt,Nt):Me&&Me.success!=null&&Me.success(Lt,Nt,cr))},be}(H),rr=(Ke.prototype.getConfig=function(Ae,be){var tt;this.logger.info("zn.nab.gc call"),this.streamManager.createStream(O.OTHER).sendMessage(V.MSG_TYPE_GET_CONFIG_REQUEST,{geofencing_type:(tt=this.stateCenter.appInfo.geoFencing)==null?void 0:tt.type,geofencings:(tt=this.stateCenter.appInfo.geoFencing)==null?void 0:tt.list},Ae,be)},Ke.prototype.dispatchURL=function(Ae,be){var tt,dt=this;this.logger.info(zt+" call"),this.streamManager.createStream(O.OTHER).sendMessage(V.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST2,{geofencing_type:(tt=this.stateCenter.appInfo.geoFencing)==null?void 0:tt.type,geofencings:(tt=this.stateCenter.appInfo.geoFencing)==null?void 0:tt.list},function(It){dt.logger.info(zt+" suc "),Ae&&Ae(It)},function(It,rt,Ze){dt.logger.info(zt+" fail"),be&&be(Ze||It)})},Ke.prototype.getAppConfig=function(Ae,be,tt,dt,It){var rt=this;return new Promise(function(Ze,Nt){function Lt(Me,me,Be){Be?(rt.logger.error(Ut+" fail "+JSON.stringify(Be)),Nt(Be)):Me.code===0?(rt.logger.info(Ut+" suc"),Be=rt.decodeConfigMessage(Me.data.data),Ze({code:0,data:Be,etag:Me.data.etag})):(rt.logger.error(Ut+" fail "+Me.code),Nt({code:Me.code}))}rt.logger.info(Ut+" call");var cr={id_name:be,config_key:Ae,token:tt,mode_no:((cr=rt.stateCenter.appInfo)==null?void 0:cr.mode)||tr.modeNo,etag:It};rt.streamManager.createStream(O.OTHER).sendMessage(V.MSG_TYPE_GET_APPCONFIG_REQUEST,cr,Lt,Lt,null,{timeout:dt})})},Ke.prototype.decodeConfigMessage=function(Ae){return this.protobuf.decodeConfigMessage(Ae)},Ke),Dr=(Ge.prototype.init=function(Ae){var be=this;this.logger.info("zn.nhb.ii call"),this.hbStream||(this.hbStream=this.streamManager.createStream(O.OTHER)),1<=Ae.data.logic_hb_interval&&Ae.data.logic_hb_interval<=10&&(this.hbInterval=Ae.data.logic_hb_interval),3<=Ae.data.logic_hb_timeout&&Ae.data.logic_hb_timeout<=30&&(this.hbTimeout=Ae.data.logic_hb_timeout),this.tryHbCount=0,this.hbTimeoutMaxCount=this.hbTimeout/this.hbInterval,this.hbTimer&&clearTimeout(this.hbTimer),this.hbTimer=setTimeout(function(){be.start()},1e3*this.hbInterval)},Ge.prototype.start=function(){var Ae,be,tt,dt=this;this.logger.debug(Vt+" call "),this.tryHbCount++>this.hbTimeoutMaxCount?(this.logger.error(Vt+" come to try limit"),this.reset(),this.netHbLogout(At.NET_HB_TIMEOUT)):(Ae=new Date().getTime(),be=function(It,rt,Ze){var Nt=new Date().getTime()-Ae;dt.logger.debug(Vt+" hb callback "+Nt),Ze&&(Ze==null?void 0:Ze.code)!==0?dt.logger.info(Vt+" fail "+JSON.stringify(Ze)):(It!=null&&It.ntp_time&&(Ze=typeof(Nt=It.ntp_time)=="number"?Nt:Nt.toNumber(),It=new Date().getTime(),dt.stateCenter.updateNTP(Ae,Ze,It)),dt.tryHbCount=0)},tt={ts:Date.now()},this.hbStream.sendMessage(V.MSG_TYPE_HB_REQUEST,tt,be,be,null),this.hbStream.isFirst=!1,this.hbTimer&&clearTimeout(this.hbTimer),this.hbTimer=setTimeout(function(){dt.start()},1e3*this.hbInterval))},Ge.prototype.netHbLogout=function(Ae){},Ge.prototype.reset=function(){this.hbTimer&&(clearTimeout(this.hbTimer),this.hbTimer=null),this.tryHbCount=0},Ge),Kt=(ke.prototype.addEventHandler=function(Ae,be){if(this.handlerListMap[Ae]||(this.handlerListMap[Ae]=[]),typeof be!="function")throw new Error("Params callBack is not a Function");return this.handlerListMap[Ae]&&this.handlerListMap[Ae].indexOf(be)==-1&&this.handlerListMap[Ae].push(be),!0},ke.prototype.removeEventHandler=function(Ae,be){return!!this.handlerListMap[Ae]&&(this.handlerListMap[Ae]=be?this.handlerListMap[Ae].filter(function(tt){return tt!==be}):[],!0)},ke.prototype.emit=function(Ae){for(var be=[],tt=1;tt<arguments.length;tt++)be[tt-1]=arguments[tt];this.handlerListMap[Ae]&&this.handlerListMap[Ae].forEach(function(dt){try{dt.apply(void 0,be)}catch(It){console.error('Fail to execute callback of event "'.concat(Ae,'" : ').concat(It))}})},ke),$t=function(){return($t=Object.assign||function(Ae){for(var be,tt=1,dt=arguments.length;tt<dt;tt++)for(var It in be=arguments[tt])Object.prototype.hasOwnProperty.call(be,It)&&(Ae[It]=be[It]);return Ae}).apply(this,arguments)},Nr=(qr.prototype.sendRequest=function(Ae,be,tt,dt){var It=this,rt=Ae.payload,Ze=((Ze=this.option)!=null&&Ze.encode&&(rt=lt(Ae.payload)),{service_no:this.service,ack:Ae.ack,payload:rt,wss_message_type:(rt=(Ze=this.option)==null?void 0:Ze.messageType)!=null?rt:tr.wssMessageType,wss_path:(Ze=this.option)==null?void 0:Ze.path,wss_raw_query:(rt=this.option)==null?void 0:rt.query,zegoconn_version:tr.connectVer});this.netPcStream.isConnect()||(this.logger.info(kt+" pc is not connect"),this.eventManager.emit("connectStart")),this.netPcStream.sendMessage(V.MSG_TYPE_PC_UPWARD_MESSAGE,Ze,function(){It.logger.info(kt+" suc"),tt&&tt()},function(Nt){It.logger.error(kt+" fail"),be&&be(Nt)},null,{isInSendMap:typeof Ae.isInSendMap=="boolean"&&Ae.isInSendMap,extras:dt,isMsgCache:(rt=this.option)==null?void 0:rt.isMsgCache})},qr.prototype.onPushEvent=function(Ae,be,tt){var dt;switch(this.logger.info(Ar+" msgType: ".concat(Ae)),Ae){case V.MSG_TYPE_PC_ESTABLISHED:this.netPcStream.isFirst=!1,this.pcEstablished(be,this.netPcStream.StreamID);break;case V.MSG_TYPE_PC_BROKEN:this.pcBroken();break;case V.MSG_TYPE_PC_DOWNWARD_MESSAGE:this.logger.info(Ar+" ".concat(this.service," down ").concat((be==null?void 0:be.ts)&&be.ts.toNumber&&be.ts.toNumber()||be.ts));var It=be.payload;(dt=this.option)!=null&&dt.encode&&(It=St(be.payload)),this.eventManager.emit("downLoadMessage",It,tt);break;case V.MSG_TYPE_PUSH_EXCEPTION:this.logger.info(Ar+" ".concat(this.service," exception ").concat(JSON.stringify(be))),this.eventManager.emit("exception",be,tt)}},qr.prototype.on=function(Ae,be){return this.eventManager.addEventHandler(Ae,be)},qr.prototype.off=function(Ae,be){this.eventManager.removeEventHandler(Ae,be)},qr.prototype.pcEstablished=function(Ae,be){this.logger.info("zn.napr.pe call "+JSON.stringify(Ae)),this.setConnectState(w.CONNECTED);var tt=W.MANUAL;this.lastConnectState===w.BROKEN&&this.connectState===w.CONNECTED&&(tt=W.AUTO),this.eventManager.emit("connected",tt),this.reportEvent("pcConnectedEvent",{proxy_link_sources:Ae==null?void 0:Ae.from,connect_stream:be}),this.brokenTimer&&clearTimeout(this.brokenTimer)},qr.prototype.pcBroken=function(){var Ae=this;this.logger.info("zn.napr.pb call"),this.setConnectState(w.BROKEN),this.eventManager.emit("broken"),this.reportEvent("pcBrokenEvent"),this.brokenTimer=setTimeout(function(){Ae.eventManager.emit("disconnected",Z.TEMP),Ae.reportEvent("pcDisconnectedEvent")},1e3*this.pcEstablishTimeout)},qr.prototype.resetBrokenTimer=function(){this.brokenTimer&&clearTimeout(this.brokenTimer)},qr.prototype._close=function(Ae,be){var tt;this.logger.info("zn.napr.cr call "+this.service+" "+this.connectState),this.connectState!==w.DISCONNECT&&(this.netPcStream.closeStream(0,""),this.resetBrokenTimer(),tt=this.streamManager.getStreamID(),this.netPcStream.refresh(tt),this.eventManager.emit(Ae,be),tt="",Ae==="broken"?tt="pcBrokenEvent":Ae==="disconnected"&&(tt="pcDisconnectedEvent"),tt)&&this.reportEvent(tt),this.setConnectState(w.DISCONNECT)},qr.prototype.closePc=function(){this._close("broken")},qr.prototype.closeRequest=function(){this._close("disconnected",Z.CLOSE)},qr.prototype.setConnectState=function(Ae){this.connectState!==Ae&&(this.lastConnectState=this.connectState,this.connectState=Ae)},qr.prototype.reportEvent=function(Ae,be){this.eventManager.emit(Ae,$t({service_no:this.service},be))},qr),Rr=(Vr.prototype.getRequest=function(Ae,be){return Ae=new Nr(this.logger,Ae,this.streamManager,this.pcEstablishTimeout,be),this.pcStreamRequests.push(Ae),Ae},Vr.prototype.updateConnectState=function(Ae,be,tt){this.logger.info("zn.naprm.ucs call "+Ae+" "+be),this.pcStreamRequests.forEach(function(dt){Ae===w.BROKEN?(dt.eventManager.emit("broken"),dt.reportEvent("pcBrokenEvent")):Ae===w.DISCONNECT&&(dt.eventManager.emit("disconnected",be,tt),dt.reportEvent("pcDisconnectedEvent"))})},Vr.prototype.closePCs=function(){this.pcStreamRequests.forEach(function(Ae){Ae.closePc()})},Vr.prototype.setEstablishTimeout=function(Ae){this.pcEstablishTimeout=Ae},Vr),fr=(Sr.prototype.initLink=function(Ae){this.link=Ae},Sr.prototype.startMaxTime=function(){var Ae=this;this.logger.info(Br+" call"),this.maxTimer||(this.logger.info(Br+" start max timer"),this.maxTimer=setTimeout(function(){Ae.logger.warn(Br+" over max time ".concat(Ae.RETRY_MAX_TIME,"s, stop retry")),Ae.isOverTime=!0,Ae.link.destroySocket(T.NONE),Ae.stopMaxTime(),Ae.invalid(),Ae.onactive(!1,At.NET_SOCKET_TIMEOUT)},1e3*this.RETRY_MAX_TIME))},Sr.prototype.stopMaxTime=function(){this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},Sr.prototype.active=function(Ae,be,tt){var dt=this;if(tt===void 0&&(tt=!1),this.logger.info(mr+" call "+Ae+" "+(be=be!==void 0&&be)),this.retryTimer)return this.logger.info(mr+" has actived, ignore"),!1;var It=this.stateCenter.networkState==F.offline;if(It){if(this.logger.info(mr+"  check if really offline. "+this.retryNetCount),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn(mr+" network is broken, stop retry"),!1}else this.retryNetCount=0;return this.link.isConnecting()&&!tt?(this.logger.info(mr+" link is connecting, ignore"),!1):this.isOverTime?(this.logger.info(mr+" retry over time, stop retry"),!1):(this.retryActiveCount==1?this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL):(tt=Math.pow(2,Math.round(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)),this.retryActiveInterval=tt>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:tt),this.logger.info(mr+" interval "+this.retryActiveInterval),this.retryTimer=setTimeout(function(){dt.link.destroySocket(T.BROKEN),dt.link.connectSocket(Ae,function(){dt.logger.info(mr+" suc"),dt.stateCenter.networkState=F.online,dt.stopMaxTime(),dt.invalid(),dt.onactive(!0)},function(){dt.logger.info(mr+" fail"),dt.maxTimer||dt.startMaxTime(),dt.active(!0,!1,!0)}),dt.retryTimer&&clearTimeout(dt.retryTimer),dt.retryTimer=null,It?dt.retryNetCount++:dt.retryActiveCount++},be?0:1e3*this.retryActiveInterval),!0)},Sr.prototype.onactive=function(){},Sr.prototype.init=function(Ae,be,tt,dt){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,typeof Ae=="number"&&Ae<3600&&(this.RETRY_MAX_TIME=Ae),typeof be=="number"&&(this.RETRY_START_TIME_INTERVAL=be),typeof tt=="number"&&(this.RETRY_CONTINUE_COUNT=tt),typeof dt=="number"&&(this.RETRY_MAX_TIME_INTERVAL=dt)},Sr.prototype.invalid=function(){this.logger.info("zn.rlh.ivd end retry"),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.retryActiveCount=1,this.retryNetCount=0},Sr),un=(Or.prototype.updateNTP=function(Ae,be,tt){var dt;tt<Ae||(dt=tt-Ae,this.timeOffset=Math.round((be-Ae+(be-tt))/2),Ae=Math.round(be+dt/2),(!this.networkRTT||dt<this.networkRTT)&&(this.networkRTT=dt,this.ntpTimeInfo={performanceTime:Math.round(performance.now()),ntp:Ae}))},Or),ln=(Tr.prototype.log=function(){for(var Ae=[],be=0;be<arguments.length;be++)Ae[be]=arguments[be];var tt=Ae.join(" ");console.log(tt)},Tr.prototype.debug=function(){for(var Ae=[],be=0;be<arguments.length;be++)Ae[be]=arguments[be];var tt=Ae.join(" ");console.debug(tt)},Tr.prototype.info=function(){for(var Ae=[],be=0;be<arguments.length;be++)Ae[be]=arguments[be];var tt=Ae.join(" ");console.info(tt)},Tr.prototype.warn=function(){for(var Ae=[],be=0;be<arguments.length;be++)Ae[be]=arguments[be];var tt=Ae.join(" ");console.warn(tt)},Tr.prototype.error=function(){for(var Ae=[],be=0;be<arguments.length;be++)Ae[be]=arguments[be];var tt=Ae.join(" ");console.error(tt)},Tr),_r=function(){return(_r=Object.assign||function(Ae){for(var be,tt=1,dt=arguments.length;tt<dt;tt++)for(var It in be=arguments[tt])Object.prototype.hasOwnProperty.call(be,It)&&(Ae[It]=be[It]);return Ae}).apply(this,arguments)},gr=(gn.prototype.sendRequest=function(Ae,be,tt,dt,It){var rt=this,Ze=Ae.disableLog;Ae={service_no:this.service,ack:Ae.ack,headers:Ae.headers,body:lt(JSON.stringify(Ae.body)),id_name:Ae.idName,method_no:Ae.method_no,stick:Ae.stick,location:Ae.location,reduce_resp_header:Ae.reduceRspHeaders?1:0},this.netHttpStream.sendMessage(V.MSG_TYPE_HTTP_REQUEST,Ae,function(Nt){rt.closeStream();var Lt=(((Lt=(Nt==null?void 0:Nt.headers).find(function(cr){return(cr==null?void 0:cr.name)==="Content-Encoding"}))==null?void 0:Lt.val)==="gzip"?Ze||rt.logger.info(qe+" gzip"):Nt.body&&(Lt=St(Nt.body),Nt.body=Lt),_r(_r({},Nt),{body:void 0}));Ze||rt.logger.info(qe+" suc "+JSON.stringify(Lt)),be&&be(Nt)},function(Nt,Lt,cr){rt.closeStream(),Ze||rt.logger.error(qe+" fail"),tt&&tt(cr||Nt)},function(Nt){Ze||rt.logger.error(qe+" ack"),dt&&dt(Nt)},It),this.netHttpStream.isFirst=!1},gn.prototype.sendRequest2=function(Ae,be,tt,dt,It){var rt=this,Ze=Ae.format===1?lt(JSON.stringify(Ae.body)):Ae.body;Ze={ack:Ae.ack,body:Ze,id_name:Ae.idName,method:Ae.method,interface_id:Ae.interfaceID,token:Ae.token,reduce_resp_header:Ae.reduceRspHeaders?1:0},Ae.headers&&(Ze.headers=Ae.headers),Ae.resID&&(Ze.res_id=Ae.resID),Ae.urlParams&&(Ze.params=Ae.urlParams),Ae.mode&&(Ze.mode=Ae.mode),this.netHttpStream.sendMessage(V.MSG_TYPE_HTTP_REQUEST2,Ze,function(Nt,Lt){rt.closeStream();var cr=(Nt==null?void 0:Nt.headers).find(function(me){return(me==null?void 0:me.name)==="Content-Encoding"});if(Nt.status_code===200){if((cr==null?void 0:cr.val)==="gzip")rt.logger.info(nr+" gzip");else if(Nt.body&&Ae.format===1)try{Me=St(Nt.body),Nt.body=Me}catch(me){rt.logger.info(nr+" decode "+JSON.stringify(me))}cr=_r(_r({},Nt),{body:void 0}),rt.logger.info(nr+" suc "+JSON.stringify(cr)),be&&be(Nt,Lt)}else{try{var Me=St(Nt.body);Nt.body=Me}catch(me){rt.logger.info(nr+" status "+Nt.status_code+" "+JSON.stringify(me))}tt&&tt(Nt)}},function(Nt,Lt,cr){rt.closeStream(),rt.logger.error(nr+" fail"),tt&&tt(cr||Nt)},function(Nt){rt.logger.error(nr+" ack"),dt&&dt(Nt)},It),this.netHttpStream.isFirst=!1},gn.prototype.closeStream=function(){this.logger.info("zn.nahr.cs call"),this.netHttpStream.closeStream(0,"")},gn),Qr=(Object.defineProperty(Hr.prototype,"StreamID",{get:function(){return this.streamID},enumerable:!1,configurable:!0}),Hr.prototype.refresh=function(Ae){this.streamID=Ae,this.isFirst=!0},Hr.prototype.sendMessage=function(Ae,be,tt,dt,It,rt){var Ze=this;tt===void 0&&(tt=null),dt===void 0&&(dt=null),this.zegoLink.sendMessage(Ae,this.streamID,be,this.isFirst,function(Nt,Lt,cr){Ze.type!==O.PC&&(Ze.isFree=!0),tt&&tt(Nt,cr)},function(Nt,Lt,cr){Ze.type!==O.PC&&(Ze.isFree=!0),dt&&dt(Nt,Lt,cr)},It=It===void 0?null:It,rt=rt===void 0?{timeout:5e3,isInSendMap:!0}:rt)},Hr.prototype.onPushEvent=function(Ae,be,tt){},Hr.prototype.closeStream=function(Ae,be){this.zegoLink.sendMessage(V.MSG_TYPE_STREAM_CLOSED,this.streamID,{code:Ae,msg:be})},Hr.prototype.isConnect=function(){return this.zegoLink.isConnect()},Hr),vr=(Kr.prototype.createStream=function(Ae){var be=new Qr(Ae,this.streamID++,this.zegoLink);return Ae===O.PC&&this.pcStreams.push(be),be},Kr.prototype.onPushEvent=function(Ae,be,tt,dt){var It=this.pcStreams.find(function(rt){return rt.StreamID===Ae});It&&It.onPushEvent(be,tt,dt)},Kr.prototype.getStreamID=function(){return this.streamID++},Kr),Gr=function(){return(Gr=Object.assign||function(Ae){for(var be,tt=1,dt=arguments.length;tt<dt;tt++)for(var It in be=arguments[tt])Object.prototype.hasOwnProperty.call(be,It)&&(Ae[It]=be[It]);return Ae}).apply(this,arguments)},$r=(Object.defineProperty(ur.prototype,"clientIP",{get:function(){return this.stateCenter.clientIP},enumerable:!1,configurable:!0}),Object.defineProperty(ur.prototype,"timeOffset",{get:function(){return this.stateCenter.timeOffset},enumerable:!1,configurable:!0}),Object.defineProperty(ur.prototype,"linkConnectState",{get:function(){return this._linkConnectState},set:function(Ae){this.lastLinkConnectState=this._linkConnectState,this._linkConnectState=Ae},enumerable:!1,configurable:!0}),ur.prototype.init=function(){this.logger=new ln,this.protobuf=new Ee,this.stateCenter=new un,this.eventManager=new Kt,this.checkLinkMsg(),this.inited=!0},ur.prototype.unInit=function(){this.inited=!1},ur.prototype.setAppInfo=function(Ae){this.logger.info("zn.sai.0 "+JSON.stringify(Ae)),this.stateCenter.appInfo=Ae,this.stateCenter.networkState=!navigator||navigator.onLine?F.online:F.offline,Ae.env===0?this.bindWindowListener():Ae.env===1&&this.bindWxListener(),this.zegoLink=new pr(Ae.appID,Ae.env,this.protobuf,this.logger,this.stateCenter),this.zegoLink.initEvent(this.onConnectedEvent,this.onDisConnectedEvent,this.onConnectingEvent,this.onPushEvent),this.streamManager=new vr(this.zegoLink),this.businessRequestMgr=new rr(this.streamManager,this.protobuf,this.logger,this.stateCenter),this.netHeartBeatHandler=new Dr(this.streamManager,this.logger,this.stateCenter),this.netAgentPCRequestMgr=new Rr(this.streamManager,this.logger),this.heartBeatHandler()},ur.prototype.setUserInfo=function(Ae){this.stateCenter.userId=Ae},ur.prototype.setNetAgentDefaultServers=function(Ae){this.connectServers=Yt([],Ae,!0)},ur.prototype.setNetAgentSpecifiedServers=function(Ae){this.logger.info("zn.sss.0 "+JSON.stringify(Ae)),this.stateCenter.specified=!0,this.specifiedServers=Yt([],Ae,!0)},ur.prototype.setBackupDomains=function(Ae){this.primaryDomains=Ae},ur.prototype.setDispatchConnectServers=function(Ae){this.connect(Ae)},ur.prototype.startHttpRequest=function(Ae,be,tt,dt,It){var rt=this,Ze=this.reportSeq++;this.eventManager.emit("requestEvent",Ze,"start"),this.isConnect()||(this.logger.info("zn.shq.0 link is not connect"),this.connectUa()),new gr(this.logger,this.streamManager,Ae.service).sendRequest(Ae,function(Nt){rt.eventManager.emit("requestEvent",Ze,"end",{na_req_location:Ae.location,status_code:Nt.status_code,err_code:0}),be&&be(Nt)},function(Nt){rt.eventManager.emit("requestEvent",Ze,"end",{na_req_location:Ae.location,err_code:Nt.code||0}),tt&&tt(Nt)},dt,It)},ur.prototype.startHttpRequest2=function(Ae,be,tt,dt,It){var rt=this,Ze=this.reportSeq++;this.eventManager.emit("requestEvent",Ze,"start"),this.isConnect()||(this.logger.info("zn.shq.0 link is not connect"),this.connectUa()),new gr(this.logger,this.streamManager).sendRequest2(Ae,function(Nt,Lt){rt.eventManager.emit("requestEvent",Ze,"end",{na_req_interface:Ae.interfaceID,status_code:Nt.status_code,err_code:0}),be&&be(Nt,Lt)},function(Nt){rt.eventManager.emit("requestEvent",Ze,"end",{na_req_interface:Ae.interfaceID,err_code:Nt.code||0}),tt&&tt(Nt)},dt,It)},ur.prototype.getAppConfigByAgent=function(Ae,be,tt,dt){return this.isConnect()||(this.logger.info("zn.gab.0 link is not connect"),this.connectUa()),this.getAppConfig(Ae,this.stateCenter.userId,be,tt,dt)},ur.prototype.getPCRequest=function(Ae,be){var tt=this;return(be=this.netAgentPCRequestMgr.getRequest(Ae,be)).on("disconnected",function(dt){tt.logger.warn("zn.zca.gpr "+Ae+" disconnect "+dt),dt===Z.TEMP&&(tt.disConnect(),tt.connectStart())}),be.on("connectStart",function(){tt.connectUa()}),be},ur.prototype.connectUa=function(){this.isDestroy||(this.logger.info("zn.zca.cua call"),this.retryLinkHandler&&(this.retryLinkHandler.init(),this.connectStart(!1,!0)))},ur.prototype.destroyConnect=function(){this.logger.info("zn.zca.dc.0 call"),this.resetNetAgent()},ur.prototype.destroy=function(){this.logger.info("zn.zca.dy.0 call"),this.destroyConnect(),this.linkCheckTimer&&clearTimeout(this.linkCheckTimer),this.retryLinkHandler&&this.retryLinkHandler.invalid(),this.retryLinkHandler&&this.retryLinkHandler.stopMaxTime(),this.isDestroy=!0},ur.prototype.isConnect=function(){return this.zegoLink&&this.zegoLink.isConnect()},ur.prototype.on=function(Ae,be){return this.logger.info("zn.zca.o.0 "+Ae),this.eventManager.addEventHandler(Ae,be)},ur.prototype.off=function(Ae,be){this.logger.info("zn.zca.o.1 "+Ae),this.eventManager.removeEventHandler(Ae,be)},ur.prototype.setLogger=function(Ae){this.logger=Ae},ur.prototype.setAccess=function(Ae){this.stateCenter.useNetAgent=Ae},ur.prototype.getVersion=function(){return"1.1.5"},ur.prototype.heartBeatHandler=function(){var Ae=this;this.netHeartBeatHandler.netHbLogout=function(be){Ae.retryLinkHandler&&([At.NET_HB_TIMEOUT.code].includes(be.code)?(Ae.retryLinkHandler.startMaxTime(),Ae.disConnect(),Ae.connectStart()):(Ae.retryLinkHandler.stopMaxTime(),Ae.retryLinkHandler.invalid(),Ae.eventManager.emit("disconnected")))}},ur.prototype.bindWindowListener=function(){var Ae=this;window.addEventListener("offline",function(){Ae.netOffLineHandle()}),window.addEventListener("online",function(){Ae.netOnLineHandle()})},ur.prototype.bindWxListener=function(){var Ae=this;wx.onNetworkStatusChange(function(be){be.isConnected?Ae.netOnLineHandle():Ae.netOffLineHandle()})},ur.prototype.netOnLineHandle=function(){this.logger.info("zn.zca.noh.0 network is online"),this.stateCenter.networkState=F.online,this.stateCenter.useNetAgent&&this.netOnLineHandler()},ur.prototype.netOffLineHandle=function(){this.logger.info("zn.zca.noh.1 network is broken"),this.stateCenter.networkState=F.offline,this.stateCenter.useNetAgent&&this.netOffLineHandler()},ur.prototype.checkLinkMsg=function(){var Ae=this;if(this.stateCenter.useNetAgent){if(this.isConnect()){var be=Date.now()-this.zegoLink.updatedMsgTime;if(be>1e3*this.linkMsgMaxInterval)return this.logger.info("zn.zca.clm interval: "+be),void this.resetNetAgent()}this.linkCheckTimer&&clearTimeout(this.linkCheckTimer),this.linkCheckTimer=setTimeout(function(){Ae.checkLinkMsg()},1e3*this.linkMsgCheckInterval)}},ur.prototype.connect=function(Ae){var be=this;0<Ae.length&&(this.connectServers=Yt([],Ae,!0)),this.stateCenter.specified&&0<this.specifiedServers.length&&(this.connectServers=this.specifiedServers),this.zegoLink.createSocket(this.connectServers),this.retryLinkHandler||(this.retryLinkHandler=new fr(this.logger,this.stateCenter)),this.retryLinkHandler.init(),this.retryLinkHandler.initLink(this.zegoLink),this.retryLinkHandler.onactive=function(tt,dt){dt===At.NET_SOCKET_TIMEOUT&&(be.eventManager.emit("disconnected",dt),be.netAgentPCRequestMgr.updateConnectState(w.DISCONNECT,Z.TIMEOUT,dt))},this.connectStart(!1,!0)},ur.prototype.resetNetAgent=function(){this.netHeartBeatHandler&&this.netHeartBeatHandler.reset(),this.zegoLink&&this.zegoLink.destroySocket(T.DISCONNECT)},ur.prototype.getConfig=function(){function Ae(dt,It,rt){rt?be.logger.info(Et+" fail "+JSON.stringify(rt)):dt.code===0?(be.logger.info(Et+" suc "+JSON.stringify(dt)),be.getConfigSuccess(dt,tt)):be.logger.info(Et+" fail "+JSON.stringify(dt))}var be=this,tt=new Date().getTime();this.businessRequestMgr.getConfig(Ae,Ae)},ur.prototype.getConfigSuccess=function(Ae,be){this.netHeartBeatHandler.init(Ae),this.netAgentPCRequestMgr.setEstablishTimeout(Ae.data.pc_establish_timeout),(tt=Ae==null?void 0:Ae.data)!=null&&tt.client_outer_ip&&(this.stateCenter.clientIP=Ae.data.client_outer_ip),(tt=Ae==null?void 0:Ae.data)!=null&&tt.ntp_time&&(tt=typeof(tt=Ae.data.ntp_time)=="number"?tt:tt.toNumber(),dt=new Date().getTime(),this.stateCenter.updateNTP(be,tt,dt));var tt,dt;be=Ae.data.geofencing_id,this.eventManager.emit("clientInfo",{clientIP:this.clientIP,timeOffset:this.timeOffset,geofencingID:be})},ur.prototype.dispatch=function(){var Ae=this;return new Promise(function(be,tt){Ae.businessRequestMgr.dispatchURL(function(dt){dt=dt.data.wss_groups;var It=(Ae.logger.info(zt+" wss_groups: "+JSON.stringify(dt)),dt.some(function(Ze){return Ze.host.includes("geo")})),rt=(rt=Ae.stateCenter.appInfo)!=null&&rt.geoFencing||It?dt:Ae.getConnectionDomains(dt,Ae.primaryDomains);It=Ae.handleWssGroups(rt),be({servers:It,domains:rt})},function(dt){tt(dt)})})},ur.prototype.handleWssGroups=function(Ae){return Array.isArray(Ae)&&0<Ae.length?Ae.map(function(be){return tr.scheme+"://"+be.host+"/"+tr.location}):[]},ur.prototype.getConnectionDomains=function(Ae,be){var tt=Yt([],Ae,!0);return be.forEach(function(dt){Ae.forEach(function(It){var rt,Ze="";It.main_domain?Ze=It.main_domain:It.host&&(Ze=(rt=It.host.split("."))[rt.length-2]+"."+rt[rt.length-1]),Ze&&Ze!==dt&&(rt=It.host.replace(Ze,dt),tt.push({group:It.group,host:rt}))})}),tt=tt.filter(function(dt){return!!dt.host})},ur.prototype.getAppConfig=function(Ae,be,tt,dt,It){var rt=this;return new Promise(function(Ze,Nt){typeof be=="string"&&typeof tt=="string"?rt.businessRequestMgr.getAppConfig(Ae,be,tt,dt,It).then(function(Lt){Ze(Gr(Gr({},Lt),{retryCount:rt.getAppConfigFailCount}))}).catch(function(Lt){var cr;rt.logger.error(Dt+" "+JSON.stringify(Lt)),!(-1<x.indexOf(Lt.code))&&(rt.getAppConfigFailCount++,Lt.code===20008||Lt.code===1100002)&&rt.getAppConfigFailCount<3?rt.getAppConfig(Ae,be,tt,It).then(function(Me){return Ze(Me)}).catch(function(Me){return Nt(Me)}):(cr=rt.getAppConfigFailCount,rt.getAppConfigFailCount=0,Nt(Gr(Gr({},Lt),{retryCount:cr})))}):rt.logger.error(Dt+" userID or token must be string")})},ur.prototype.reportDisConnectEvent=function(){var Ae=new Date().getTime()-this.connectedTime;this.connectid&&this.eventManager.emit("disConnectedEvent",{duration:Ae,server:this.zegoLink.connectServer,connectid:this.connectid})},ur.prototype.redirect=function(Ae){this.logger.info(Ft+" ".concat(JSON.stringify(Ae.wss_groups))),(Ae=this.handleWssGroups(Ae.wss_groups))&&Array.isArray(Ae)&&0<Ae.length?(this.disConnect(),this.stateCenter.specified&&(this.logger.info(Ft+" specified"),Ae=this.specifiedServers),this.zegoLink.createSocket(Ae),this.connectStart(!1,!0)):this.logger.warn(Ft+" wss_groups null")},ur.prototype.connectClosed=function(Ae){var be=this;switch(this.logger.info("zn.zca.cc"+" ".concat(Ae.reason," ").concat(Ae.msg," ").concat(Ae.action)),Ae.action){case k.ACTION_DISPATCH:var tt=this.reportSeq++;this.eventManager.emit("dispatchEvent",tt,"start"),this.dispatch().then(function(dt){var It=dt.servers;dt=dt.domains,be.eventManager.emit("dispatchEvent",tt,"end",{domains:dt,reason:"ConnectClosed"}),Array.isArray(It)&&0<It.length&&(be.eventManager.emit("dispatchResultUpdate",{servers:It,domains:dt}),dt=be.stateCenter.specified?be.specifiedServers:It,be.disConnect(),be.zegoLink.createSocket(dt),be.connectStart(!1,!0))}).catch(function(dt){be.logger.info("zn.zca.cc dispatch fail")});break;case k.ACTION_RETRY:this.disConnect(),this.connectStart(!1);break;case k.ACTION_NEXT_GROUP:this.netAgentPCRequestMgr.closePCs(),this.eventManager.emit("broken",K.CLOSE),this.connectStart();case k.ACTION_ABORT:case k.ACTION_RESERVED:}},ur.prototype.netOnLineHandler=function(){this.retryLinkHandler&&(this.zegoLink.isConnect()?this.retryLinkHandler.stopMaxTime():this.connectStart())},ur.prototype.netOffLineHandler=function(){this.disConnect(),this.retryLinkHandler&&(this.retryLinkHandler.invalid(),this.retryLinkHandler.startMaxTime(),this.zegoLink.setState(0))},ur.prototype.connectStart=function(Ae,be){this.retryLinkHandler.active(Ae,be)&&this.reportConnectEvent()},ur.prototype.reportConnectEvent=function(){var Ae=this.reportSeq++;this.connectSeq=Ae,this.eventManager.emit("connectedEvent",Ae,"start")},ur.prototype.disConnect=function(){this.logger.info("zn.zca.dc.1 call"),this.netAgentPCRequestMgr.closePCs(),this.eventManager.emit("broken"),this.lastLinkConnectState===2&&this.linkConnectState===0&&this.reportDisConnectEvent()},ur.prototype.getNetworkTimeInfo=function(){var Ae,be=Date.now()+this.stateCenter.timeOffset,tt=Math.round(this.stateCenter.networkRTT/2),dt=this.stateCenter.ntpTimeInfo;return dt&&(Ae=performance.now()-dt.performanceTime,be=Math.round(dt.ntp+Ae)),{timestamp:be,maxDeviation:tt}},ur);function ur(){var Ae=this;this.linkCheckTimer=null,this.connectServers=[],this.specifiedServers=[],this.getAppConfigFailCount=0,this.getAppConfigTime=0,this.inited=!1,this.linkMsgMaxInterval=90,this.linkMsgCheckInterval=5,this.isDestroy=!1,this.connectedTime=0,this.connectid="",this.reportSeq=0,this.connectSeq=0,this.primaryDomains=[],this._linkConnectState=0,this.lastLinkConnectState=0,this.onConnectedEvent=function(be,tt){var dt;Ae.linkConnectState=2,Ae.getConfig(),Ae.stateCenter.specified||(dt=Ae.reportSeq++,Ae.eventManager.emit("dispatchEvent",dt,"start"),Ae.dispatch().then(function(It){var rt=It.servers;It=It.domains.map(function(Ze){return Ze.host}),Ae.eventManager.emit("dispatchEvent",dt,"end",{domains:It}),0<rt.length&&Ae.eventManager.emit("dispatchResultUpdate",{servers:rt,domains:It})}).catch(function(It){})),Ae.eventManager.emit("connected"),Ae.connectedTime=new Date().getTime(),Ae.connectid=function(It){var rt,Ze="0123456789".split(""),Nt=[];for(It=Ze.length,rt=0;rt<16;rt++)Nt[rt]=Ze[0|Math.random()*It];return Nt.join("")}(),Ae.eventManager.emit("connectedEvent",Ae.connectSeq,"end",{servers:be,count:be.length,connectid:Ae.connectid,connectEvents:tt})},this.onConnectingEvent=function(){Ae.logger.info("zn.zca.oce call"),Ae.linkConnectState=1},this.onDisConnectedEvent=function(be){Ae.logger.info("zn.zca.ode"+" ".concat(be)),Ae.linkConnectState=0,be?(Ae.disConnect(),Ae.netAgentPCRequestMgr.updateConnectState(w.BROKEN)):(Ae.eventManager.emit("disconnected"),Ae.netAgentPCRequestMgr.updateConnectState(w.DISCONNECT))},this.onPushEvent=function(be,tt,dt,It){switch(tt){case V.MSG_TYPE_REDIRECT:case V.MSG_TYPE_REDIRECT2:Ae.redirect(dt);break;case V.MSG_TYPE_CLOSE_CONNECTION:Ae.connectClosed(dt);break;case V.MSG_TYPE_PC_BROKEN:case V.MSG_TYPE_PC_ESTABLISHED:case V.MSG_TYPE_PC_DOWNWARD_MESSAGE:case V.MSG_TYPE_PUSH_EXCEPTION:Ae.streamManager.onPushEvent(be,tt,dt,It);break;case V.MSG_TYPE_PUSH_APPCONFIG:Ae.businessRequestMgr.decodeConfigMessage(dt.data)}}}function Kr(Ae){this.zegoLink=Ae,this.streamID=1,this.httpStreams=[],this.pcStreams=[]}function Hr(Ae,be,tt){this.type=Ae,this.streamID=be,this.zegoLink=tt,this.isFree=!1,this.isFirst=!0}function gn(Ae,be,tt){this.logger=Ae,this.streamManager=be,this.service=tt,this.netHttpStream=this.streamManager.createStream(O.HTTP)}function Tr(){}function Or(){this.networkState=F.online,this.useNetAgent=!0,this.specified=!1,this.clientIP="",this.timeOffset=0,this.networkRTT=0}function Sr(Ae,be){this.logger=Ae,this.stateCenter=be,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryTimer=null,this.maxTimer=null,this.retryActiveCount=1,this.retryNetCount=0,this.retryNetMaxTimes=3,this.isOverTime=!1,this.RETRY_MAX_TIME=90}function Vr(Ae,be){this.streamManager=Ae,this.logger=be,this.pcStreamRequests=[],this.pcEstablishTimeout=tr.pcEstablishTimeout}function qr(Ae,be,tt,dt,It){this.logger=Ae,this.service=be,this.streamManager=tt,this.pcEstablishTimeout=dt,this.option=It,this.connectState=w.DISCONNECT,this.lastConnectState=w.DISCONNECT,this.brokenTimer=null,this.listenerList={connected:[],broken:[]},this.netPcStream=this.streamManager.createStream(O.PC),this.eventManager=new Kt,this.netPcStream.onPushEvent=this.onPushEvent.bind(this)}function ke(){this.handlerListMap={}}function Ge(Ae,be,tt){this.streamManager=Ae,this.logger=be,this.stateCenter=tt,this.hbTimer=null,this.hbInterval=5,this.hbTimeout=10,this.hbTimeoutMaxCount=0,this.tryHbCount=0}function Ke(Ae,be,tt,dt){this.streamManager=Ae,this.protobuf=be,this.logger=tt,this.stateCenter=dt}function We(Ae){this.socket=null,this.ENV=Ae}}],N={},Q.m=y,Q.c=N,Q.d=function(U,q,te){Q.o(U,q)||Object.defineProperty(U,q,{enumerable:!0,get:te})},Q.r=function(U){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})},Q.t=function(U,q){if(1&q&&(U=Q(U)),8&q||4&q&&typeof U=="object"&&U&&U.__esModule)return U;var te=Object.create(null);if(Q.r(te),Object.defineProperty(te,"default",{enumerable:!0,value:U}),2&q&&typeof U!="string")for(var F in U)Q.d(te,F,(function(V){return U[V]}).bind(null,F));return te},Q.n=function(U){var q=U&&U.__esModule?function(){return U.default}:function(){return U};return Q.d(q,"a",q),q},Q.o=function(U,q){return Object.prototype.hasOwnProperty.call(U,q)},Q.p="",Q(Q.s=2))},function(_,m,I){function Q(q){var te;return(U[q]||(te=U[q]={i:q,l:!1,exports:{}},N[q].call(te.exports,te,te.exports,Q),te.l=!0,te)).exports}var p,u,y,N,U;_.exports=(p=I(8),u=I(0),y=I(2),U={},Q.m=N=[function(q,te,F){Object.defineProperty(te,"__esModule",{value:!0}),te.ZEGO_SETTING_ACTION=void 0,(te=te.ZEGO_SETTING_ACTION||(te.ZEGO_SETTING_ACTION={})).CONSTRUCTOR="zs.0",te.SETTING_INIT="zs.ii.0",te.SETTING_FETCH_SETTING="zs.fs.0",te.SETTING__FETCH_SETTING="zs.fs.1",te.SETTING_GET_CLOUD_SETTING="zs.gcs.0",te.SETTING_POLLING_SETTING="zs.ps.0",te.SETTINGCACHEHANDLER_GET_CACHE_SETTING="zs.sch.gcs.0",te.SETTINGCACHEHANDLER_STORE_SETTING="zs.sch.ss.0",te.SETTINGFETCHHANDLER_FETCHSETTING="zs.sfh.fs.0"},function(q,te,F){Object.defineProperty(te,"__esModule",{value:!0}),te.errorList=void 0,te.errorList={NOT_INIT:{code:1001,msg:"not init"},FILE_REQUEST_FAIL:{code:1002,msg:"fetch request fail"},INFLATE_DATA_FAIL:{code:1003,msg:"inflate fail"},MULTI_FILE_NOT_EXIST:{code:1004,msg:"get multi file fail"},AUTH_FAIL:{code:1005,msg:"auth failed"}}},function(q,te,F){var V;Object.defineProperty(te,"__esModule",{value:!0}),te.ProductMap=te.Product=te.SOCKET_DISCONNECT=te.ENUM_REMOTE_TYPE=te.ZEGO_BROWSER_TYPE=te.ZEGO_ENV=te.PROTO_VERSION=void 0,te.PROTO_VERSION="1.1.1",(V=te.ZEGO_ENV||(te.ZEGO_ENV={}))[V.BROWSER=0]="BROWSER",V[V.WEIXINMINI=1]="WEIXINMINI",(V=te.ZEGO_BROWSER_TYPE||(te.ZEGO_BROWSER_TYPE={}))[V.IE=0]="IE",V[V.FIREFOX=1]="FIREFOX",V[V.CHROME=2]="CHROME",V[V.SAFARI=3]="SAFARI",V[V.OPERA=4]="OPERA",V[V.WEIXIN=5]="WEIXIN",V[V.WEIXINMINI=6]="WEIXINMINI",V[V.UNKOWN=7]="UNKOWN",(V=te.ENUM_REMOTE_TYPE||(te.ENUM_REMOTE_TYPE={}))[V.DISABLE=0]="DISABLE",V[V.WEBSOCKET=1]="WEBSOCKET",V[V.HTTPS=2]="HTTPS",te.SOCKET_DISCONNECT=-1,(V=te.Product||(te.Product={}))[V.RTC=0]="RTC",V[V.WEB_RTC=1]="WEB_RTC",V[V.ZIM=2]="ZIM",V[V.ROOM_KIT=3]="ROOM_KIT",V[V.DOC_SHARE=4]="DOC_SHARE",V[V.WHITE_BOARD=5]="WHITE_BOARD",V[V.SELF_CHECK=999]="SELF_CHECK",V[V.TEST_ANOOUS=1e3]="TEST_ANOOUS",te.ProductMap={0:"rtc_sdk_native",1:"Web_SDK",2:"ZIM",3:"roomkitWeb",4:"docsshare",5:"WhiteBoard"}},function(q,te){q.exports=p},function(q,te,F){var V=this&&this.__read||function(O,T){var w=typeof Symbol=="function"&&O[Symbol.iterator];if(!w)return O;var k,Y,Z=w.call(O),W=[];try{for(;(T===void 0||0<T--)&&!(k=Z.next()).done;)W.push(k.value)}catch(K){Y={error:K}}finally{try{k&&!k.done&&(w=Z.return)&&w.call(Z)}finally{if(Y)throw Y.error}}return W},z=this&&this.__spread||function(){for(var O=[],T=0;T<arguments.length;T++)O=O.concat(V(arguments[T]));return O},$=(Object.defineProperty(te,"__esModule",{value:!0}),te.decodeString=te.decodeCompressData=te.generateUUID=te.checkValidNumber=te.analyzeKey=te.getCurrentTime=te.getBrowser=void 0,F(16)),L=(te.getBrowser=function(){var O=window.navigator.userAgent,T=window.ActiveXObject!=null&&O.indexOf("MSIE")!=-1,w=O.indexOf("Firefox")!=-1,k=window.opr!=null,Y=O.indexOf("Chrome")&&window.chrome,Z=O.indexOf("Safari")!=-1&&O.indexOf("Version")!=-1;return O=O.toLowerCase().match(/MicroMessenger/i)&&O.toLowerCase().match(/MicroMessenger/i)[0]==="micromessenger",T?"IE":w?"FIREFOX":k?"OPERA":Y?"CHROME":Z?"SAFARI":O?"WEIXIN":"UNKOWN"},["00","01","02","03","04","05","06","07","08","09"]);te.getCurrentTime=function(){var O=new Date;return[O.getFullYear()+"/",(L[O.getMonth()+1]||O.getMonth()+1)+"/",(L[O.getDate()]||O.getDate())+" ",(L[O.getHours()]||O.getHours())+":",(L[O.getMinutes()]||O.getMinutes())+":",L[O.getSeconds()]||O.getSeconds(),"."+O.getTime()%1e3].join("")},te.analyzeKey=function(O){return O=O.split("_"),{level:Number(O[0]),timestamp:O[1],seq:O[2]}},te.checkValidNumber=function(O,T,w){return T=T||1,w=w||1e4,typeof O=="number"&&O%1==0&&T<=O&&O<=w},te.generateUUID=function(O){if((O=O===void 0?0:O)===0)try{w=localStorage.getItem("z_deviceID")}catch{}else wx.getStorageSync("z_deviceID");if(!w){var T=new Date().getTime(),w="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(k){var Y=(T+16*Math.random())%16|0;return T=Math.floor(T/16),(k=="x"?Y:3&Y|8).toString(36)});if(O===0)try{localStorage.setItem("z_deviceID",w)}catch{}else wx.setStorageSync("z_deviceID",w)}return w},te.decodeCompressData=function(O){try{return $.inflate(O,{to:"string"})}catch(T){console.error(T)}},te.decodeString=function(O){return decodeURIComponent(window.escape(String.fromCharCode.apply(String,z(Array.from(O)))))}},function(q,te){q.exports=u},function(q,te){q.exports=y},function(q,te,F){Object.defineProperty(te,"__esModule",{value:!0}),te.INIT_CONFIG=void 0,te.INIT_CONFIG={env:0,compress:!0,p_version:1}},function(q,te,F){Object.defineProperty(te,"__esModule",{value:!0}),te.ZegoSetting=void 0;var V=F(9);Object.defineProperty(te,"ZegoSetting",{enumerable:!0,get:function(){return V.ZegoSetting}})},function(q,te,F){var V=this&&this.__assign||function(){return(V=Object.assign||function(x){for(var X,H=1,j=arguments.length;H<j;H++)for(var ae in X=arguments[H])Object.prototype.hasOwnProperty.call(X,ae)&&(x[ae]=X[ae]);return x}).apply(this,arguments)},z=this&&this.__awaiter||function(x,X,H,j){return new(H=H||Promise)(function(ae,ce){function ne(Fe){try{De(j.next(Fe))}catch(pe){ce(pe)}}function Qe(Fe){try{De(j.throw(Fe))}catch(pe){ce(pe)}}function De(Fe){var pe;Fe.done?ae(Fe.value):((pe=Fe.value)instanceof H?pe:new H(function(ot){ot(pe)})).then(ne,Qe)}De((j=j.apply(x,X||[])).next())})},$=this&&this.__generator||function(x,X){var H,j,ae,ce={label:0,sent:function(){if(1&ae[0])throw ae[1];return ae[1]},trys:[],ops:[]},ne={next:Qe(0),throw:Qe(1),return:Qe(2)};return typeof Symbol=="function"&&(ne[Symbol.iterator]=function(){return this}),ne;function Qe(De){return function(Fe){var pe=[De,Fe];if(H)throw new TypeError("Generator is already executing.");for(;ce;)try{if(H=1,j&&(ae=2&pe[0]?j.return:pe[0]?j.throw||((ae=j.return)&&ae.call(j),0):j.next)&&!(ae=ae.call(j,pe[1])).done)return ae;switch(j=0,(pe=ae?[2&pe[0],ae.value]:pe)[0]){case 0:case 1:ae=pe;break;case 4:return ce.label++,{value:pe[1],done:!1};case 5:ce.label++,j=pe[1],pe=[0];continue;case 7:pe=ce.ops.pop(),ce.trys.pop();continue;default:if(!(ae=0<(ae=ce.trys).length&&ae[ae.length-1])&&(pe[0]===6||pe[0]===2)){ce=0;continue}if(pe[0]===3&&(!ae||pe[1]>ae[0]&&pe[1]<ae[3]))ce.label=pe[1];else if(pe[0]===6&&ce.label<ae[1])ce.label=ae[1],ae=pe;else{if(!(ae&&ce.label<ae[2])){ae[2]&&ce.ops.pop(),ce.trys.pop();continue}ce.label=ae[2],ce.ops.push(pe)}}pe=X.call(x,ce)}catch(ot){pe=[6,ot],j=0}finally{H=ae=0}if(5&pe[0])throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}}},L=(Object.defineProperty(te,"__esModule",{value:!0}),te.ZegoSetting=void 0,F(2)),O=F(10),T=F(11),w=F(13),k=F(0),Y=F(7),Z=F(1),W=F(4);function K(){this.fileList=[],this.publicEnvVariable={},this.proEnvVariable={},this.pollingTimer=null,this.pollingInterval=300,this.inited=!1,this.checkFailCount=0,this.checkFailed=!1,this.log=new O.ZegoLog}Object.defineProperty(K.prototype,"envVariable",{get:function(){return Object.assign({},this.publicEnvVariable,this.proEnvVariable)},enumerable:!1,configurable:!0}),K.prototype.init=function(x){var X,H=this;return x.pollingFreq&&!W.checkValidNumber(x.pollingFreq)?(this.log.error(k.ZEGO_SETTING_ACTION.SETTING_INIT+" pollingFreq must be integer number"),!1):(this.options=Object.assign({},Y.INIT_CONFIG,x),this.getPublicEnvVariable(),this.settingFetchHandler=new w.SettingFetchHandler(this.options,this.log),this.settingFetchHandler.setDataReport(this.options.reportNotify),x=Math.round(60*Math.random()),this.log.info(k.ZEGO_SETTING_ACTION.SETTING_INIT+" delay "+x),this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null),this.options.pollingFreq&&60<=this.options.pollingFreq&&(this.pollingInterval=this.options.pollingFreq),this.delayTimer=setTimeout(function(){H.pollingSetting(1e3*H.pollingInterval,!1)},1e3*x),x=this.options.product||this.options.productNum,this.settingCacheHandler=new T.SettingCacheHandler("setting_"+(this.options.online?"online_":"test_")+x+"_"+this.options.appID,this.log,this.options.env),[0,1,2,3,4,5].includes(x)&&(X=L.ProductMap[x])&&(x===1&&this.settingCacheHandler.dropOldStore("setting_"+(this.options.online?"online_":"test_")+"undefined_"+this.options.appID),this.settingCacheHandler.dropOldStore("setting_"+(this.options.online?"online_":"test_")+X+"_"+this.options.appID)),(X=this.options)!=null&&X.unify&&this.options.connection&&(x=(x=this.options)==null?void 0:x.connection)!=null&&x.on("connected",function(){H.settingFetchHandler.checkUnSendMsgs(H.settingFetchHandler.unSendCommandList)}),this.refreshAuthCheck(),this.inited=!0)},K.prototype.uninit=function(){this.pollingTimer&&(clearTimeout(this.pollingTimer),this.pollingTimer=null)},K.prototype.setEnvVariable=function(x,X){this.proEnvVariable[x]=String(X)},K.prototype.getEnvVariable=function(x){return this.envVariable[x]},K.prototype.setEnvVariables=function(x){var X=this;Object.keys(x).forEach(function(H){typeof x[H]!="string"&&typeof x[H]!="number"&&X.log.error("zs.sev env "+H+" type error"),X.proEnvVariable[H]=String(x[H])})},K.prototype.getEnvVariables=function(){return this.envVariable},K.prototype.enablePolling=function(x,X){var H=this;X?X.forEach(function(j){var ae=H.fileList.find(function(ce){return ce.fileName===j});ae&&(ae.needPolling=x)}):this.fileList.forEach(function(j){return j.needPolling=x})},K.prototype.setToken=function(x){this.token!==x&&this.refreshAuthCheck(),this.token=x},K.prototype.setUserID=function(x){this.userID!==x&&this.refreshAuthCheck(),this.userID=x},K.prototype.getSettingCache=function(x){return z(this,void 0,void 0,function(){var X,H;return $(this,function(j){switch(j.label){case 0:return this.inited?(X=this.fileList.find(function(ae){return ae.fileName===x}))?[2,Promise.resolve({setting:X.setting,versions:X.versions})]:[3,1]:[2,Promise.reject(Z.errorList.NOT_INIT)];case 1:return[4,this.settingCacheHandler.getCacheSetting(x)];case 2:return(X=j.sent())&&(this.fileList.find(function(ae){return ae.fileName===x})||this.fileList.push({fileName:x,fetchedTime:0,needPolling:!1,setting:X.setting,versions:X.versions}),H={setting:X.setting,versions:X.versions}),[2,Promise.resolve(H)]}})})},K.prototype.fetchSetting=function(x,X,H){return X===void 0&&(X={}),H===void 0&&(H=!0),this.log.info(k.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" call "+x),this.inited?(this.activePolling(),0<Object.keys(X).length?(this.log.info(k.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" get file with params"),this._getCloudSetting(x,V(V({},this.envVariable),X))):(X=this.fileList.find(function(j){return j.fileName===x}))?(this.log.info(k.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" file exist"),new Date().getTime()-X.fetchedTime<1e3*this.pollingInterval?(this.log.info(k.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" fetch time interval in freq"),X.needPolling=H,Promise.resolve({setting:X.setting,versions:X.versions})):this._fetchSetting(x,X,H)):(this.log.info(k.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" file not found"),this._fetchSetting(x,X,H))):Promise.reject(Z.errorList.NOT_INIT)},K.prototype.fetchMultiSetting=function(x,X,H){var j=this;return X===void 0&&(X={}),H===void 0&&(H=!0),this.log.info(k.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" call "+JSON.stringify(x)),this.inited?(this.activePolling(),0<Object.keys(X).length?(this.log.info(k.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" get file with params"),this._getCloudSetting(x,V(V({},this.envVariable),X))):new Promise(function(ae,ce){var ne={},Qe=[];if(x.forEach(function(De){return z(j,void 0,void 0,function(){var Fe;return $(this,function(pe){return(Fe=this.fileList.find(function(ot){return ot.fileName===De}))&&new Date().getTime()-Fe.fetchedTime<1e3*this.pollingInterval?(this.log.info(k.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" fetch time interval in freq"),ne[De]={setting:Fe.setting,versions:Fe.versions}):Qe.push(De),[2]})})}),!(0<Qe.length))return ae(ne);j._getCloudSetting(Qe,j.envVariable).then(function(De){return j.handleFetchFiles(De,H),Object.assign(ne,De),ae(ne)}).catch(function(De){Qe.forEach(function(Fe){return z(j,void 0,void 0,function(){var pe;return $(this,function(ot){switch(ot.label){case 0:return(pe=this.fileList.find(function(ft){return ft.fileName==Fe}))?pe.fetchedTime=new Date().getTime():this.fileList.find(function(ft){return ft.fileName===Fe})||this.fileList.push({fileName:Fe,fetchedTime:new Date().getTime(),needPolling:H,setting:{},versions:{}}),[4,this.settingCacheHandler.getCacheSetting(Fe)];case 1:return pe=ot.sent(),ne[Fe]={setting:pe.setting,versions:pe.versions},[2]}})})}),0<Object.keys(ne).length?ae(ne):ce(De)})})):(this.log.info(k.ZEGO_SETTING_ACTION.SETTING_FETCH_SETTING+" not init"),Promise.reject(Z.errorList.NOT_INIT))},K.prototype.setOptions=function(x){x&&typeof x.unify=="boolean"&&(this.options.unify=x.unify,this.settingFetchHandler.setOptions(this.options))},K.prototype.setLog=function(x){this.log=x},K.prototype._getCloudSetting=function(x,X){var H=this;return new Promise(function(j,ae){return z(H,void 0,void 0,function(){var ce,ne,Qe,De,Fe,pe,ot,ft,yt,Ot,ge=this;return $(this,function(Ee){switch(Ee.label){case 0:if(Ee.trys.push([0,6,,7]),this.checkFailed)return this.log.warn(k.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" check fail"),ae(Z.errorList.AUTH_FAIL),[2];pe=(ft=x instanceof Array)?x:[x],ce=[],ne={},Qe=function(fe){return fe=fe.map(function(ie){return ge.settingCacheHandler.getCacheSetting(ie)}),Promise.all(fe)},Ee.label=1;case 1:return Ee.trys.push([1,3,,4]),[4,Qe(pe)];case 2:return De=Ee.sent(),pe.forEach(function(fe,ie){var ue;ce.push({file_name:fe,hash:(ue=De[ie].versions)==null?void 0:ue.hash,g_version:(ue=De[ie].versions)==null?void 0:ue.g_version}),ne[fe]=De[ie]}),[3,4];case 3:return Ee.sent(),pe.forEach(function(fe){ce.push({file_name:fe})}),[3,4];case 4:return[4,this.settingFetchHandler.fetchSetting(ce,X,this.token,this.userID,!1)];case 5:return pe=Ee.sent(),Fe=pe.data,pe=pe.polling_interval,this.checkFailCount=0,this.log.info(k.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" suc"),typeof pe=="number"&&5<=pe&&this.pollingInterval!==60*pe&&(this.log.warn(k.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" polling interval change"),this.pollingInterval=60*pe,this.uninit(),this.activePolling()),ft?(ot={},x.forEach(function(fe){var ie,ue;((ie=Fe[fe])==null?void 0:ie.code)==0&&(Fe[fe].hashChange?(ge.log.info(k.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" file "+fe+" changed"),ot[fe]={setting:(ue=Fe[fe])==null?void 0:ue.data,versions:(ue=Fe[fe])==null?void 0:ue.versions}):ne[fe]&&(ot[fe]={setting:(ue=ne[fe])==null?void 0:ue.setting,versions:(fe=ne[fe])==null?void 0:fe.versions}))}),0<Object.keys(ot).length?j(ot):ae(Z.errorList.MULTI_FILE_NOT_EXIST)):((ft=Fe[x])==null?void 0:ft.code)===0&&(yt=Fe[x])!=null&&yt.data?j({setting:(yt=Fe[x])==null?void 0:yt.data,versions:(yt=Fe[x])==null?void 0:yt.versions}):ae({code:(Ot=Fe[x])==null?void 0:Ot.code,msg:(Ot=Fe[x])==null?void 0:Ot.message}),[3,7];case 6:return Ot=Ee.sent(),this.log.error(k.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" fail "+JSON.stringify(Ot)),(Ot==null?void 0:Ot.code)!==21002&&(Ot==null?void 0:Ot.status_code)!==401||(this.checkFailCount+=1),2<=this.checkFailCount&&(this.checkFailed=!0),ae(Ot),[3,7];case 7:return[2]}})})})},K.prototype.handleFetchFiles=function(x,X){var H=this;Object.keys(x).forEach(function(j){var ae=H.fileList.find(function(ce){return ce.fileName==j});ae?(ae.fetchedTime=new Date().getTime(),ae.setting=x[j].setting,ae.versions=x[j].versions,ae.needPolling=X):H.fileList.find(function(ce){return ce.fileName===j})||H.fileList.push({fileName:j,fetchedTime:new Date().getTime(),needPolling:X,setting:x[j].setting,versions:x[j].versions}),H.settingCacheHandler.storeSetting(j,x[j])})},K.prototype._fetchSetting=function(x,X,H){var j=this;return new Promise(function(ae,ce){j.log.info(k.ZEGO_SETTING_ACTION.SETTING__FETCH_SETTING+" call"),j._getCloudSetting(x,j.envVariable).then(function(ne){X?(X.fetchedTime=new Date().getTime(),X.setting=ne.setting,X.versions=ne.versions,X.needPolling=H):j.fileList.find(function(Qe){return Qe.fileName===x})||j.fileList.push({fileName:x,fetchedTime:new Date().getTime(),needPolling:H,setting:ne.setting,versions:ne.versions}),j.settingCacheHandler.storeSetting(x,ne),ae(ne),j.log.info(k.ZEGO_SETTING_ACTION.SETTING__FETCH_SETTING+" call suc")}).catch(function(ne){return z(j,void 0,void 0,function(){var Qe;return $(this,function(De){switch(De.label){case 0:X?X.fetchedTime=new Date().getTime():this.fileList.find(function(Fe){return Fe.fileName===x})||this.fileList.push({fileName:x,fetchedTime:new Date().getTime(),needPolling:H,setting:{},versions:{}}),Qe=x,De.label=1;case 1:return De.trys.push([1,3,,4]),[4,this.settingCacheHandler.getCacheSetting(Qe)];case 2:return Qe=De.sent(),ae(Qe),[3,4];case 3:return De.sent(),ce(ne),[3,4];case 4:return this.log.info(k.ZEGO_SETTING_ACTION.SETTING__FETCH_SETTING+" setting not contain or fetch file fail"),[2]}})})})})},K.prototype.getPublicEnvVariable=function(){var x;this.options.env==0?(this.publicEnvVariable.userAgent=navigator.userAgent,this.publicEnvVariable.platform=navigator.platform,this.publicEnvVariable.browser=W.getBrowser(),this.publicEnvVariable.deviceid=W.generateUUID()):this.options.env==1&&(x=wx.getSystemInfoSync(),this.publicEnvVariable.brand=x.brand,this.publicEnvVariable.model=x.model,this.publicEnvVariable.system=x.system,this.publicEnvVariable.platform=x.platform,this.publicEnvVariable.wechatVersion=x.version,this.publicEnvVariable.wechatSDKVersion=x.SDKVersion,this.publicEnvVariable.deviceid=W.generateUUID(this.options.env))},K.prototype.pollingSetting=function(x,X){return X===void 0&&(X=!0),z(this,void 0,void 0,function(){var H,j,ae,ce,ne=this;return $(this,function(Qe){switch(Qe.label){case 0:return this.log.info(k.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" call "+x+" "+X),H=x,X?(j=[],this.fileList.forEach(function(De){De.fileName,De.needPolling&&j.push({file_name:De.fileName,hash:De.versions.hash,g_version:De.versions.g_version})}),this.checkFailed?(this.log.warn(k.ZEGO_SETTING_ACTION.SETTING_GET_CLOUD_SETTING+" has checked fail"),[3,7]):[3,1]):[3,7];case 1:if(!(0<j.length))return[3,6];Qe.label=2;case 2:return Qe.trys.push([2,4,,5]),[4,this.settingFetchHandler.fetchSetting(j,this.envVariable,this.token,this.userID)];case 3:return ce=Qe.sent(),ae=ce.data,ce=ce.polling_interval,this.log.info(k.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" fetch suc"),this.checkFailCount=0,typeof ce=="number"&&5<=ce&&this.pollingInterval!==60*ce&&(this.log.warn(k.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" polling interval change"),this.pollingInterval=60*ce,H=1e3*this.pollingInterval),this.fileList.forEach(function(De){return z(ne,void 0,void 0,function(){var Fe,pe,ot,ft,yt,Ot,ge,Ee,fe,ie;return $(this,function(ue){switch(ue.label){case 0:return De.fetchedTime=new Date().getTime(),Fe=De.fileName,pe=ae[De.fileName],ot=pe.code,ft=pe.data,yt=pe.versions,Ot=pe.message,ge=pe.hashChange,pe&&ot===0&&ft?(fe=JSON.stringify(ft),ie=JSON.stringify(De.setting),Ee={setting:ft,versions:yt,code:ot,message:Ot},ge&&ie!==fe&&(this.log.info(k.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" "+De.fileName+" setting changed"),De.setting=Ee.setting,De.versions=Ee.versions,this.options.pollingNotify(De.fileName,Ee)),[4,this.settingCacheHandler.getCacheSetting(Fe)]):[3,2];case 1:ie=ue.sent(),fe=JSON.stringify(ie),ie=JSON.stringify(Ee),ge&&fe!==ie&&this.settingCacheHandler.storeSetting(Fe,Ee),ue.label=2;case 2:return[2]}})})}),[3,5];case 4:return ce=Qe.sent(),this.log.error(k.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" fetch fail "+JSON.stringify(ce)),(ce==null?void 0:ce.code)!==21002&&(ce==null?void 0:ce.status_code)!==401||(this.checkFailCount+=1),2<=this.checkFailCount&&(this.checkFailed=!0),[3,5];case 5:return[3,7];case 6:this.log.info(k.ZEGO_SETTING_ACTION.SETTING_POLLING_SETTING+" polling no file"),Qe.label=7;case 7:return this.pollingTimer&&clearTimeout(this.pollingTimer),this.pollingTimer=setTimeout(function(){ne.pollingSetting(H)},H),[2]}})})},K.prototype.activePolling=function(){this.pollingTimer||this.pollingSetting(1e3*this.pollingInterval)},K.prototype.refreshAuthCheck=function(){this.checkFailCount=0,this.checkFailed=!1},te.ZegoSetting=F=K},function(q,te,F){function V(){}Object.defineProperty(te,"__esModule",{value:!0}),te.ZegoLog=void 0,V.prototype.log=function(){for(var z=[],$=0;$<arguments.length;$++)z[$]=arguments[$];var L=z.join(" ");console.log(L)},V.prototype.debug=function(){for(var z=[],$=0;$<arguments.length;$++)z[$]=arguments[$];var L=z.join(" ");console.debug(L)},V.prototype.info=function(){for(var z=[],$=0;$<arguments.length;$++)z[$]=arguments[$];var L=z.join(" ");console.info(L)},V.prototype.warn=function(){for(var z=[],$=0;$<arguments.length;$++)z[$]=arguments[$];var L=z.join(" ");console.warn(L)},V.prototype.error=function(){for(var z=[],$=0;$<arguments.length;$++)z[$]=arguments[$];var L=z.join(" ");console.error(L)},te.ZegoLog=V},function(q,te,F){var V=this&&this.__awaiter||function(k,Y,Z,W){return new(Z=Z||Promise)(function(K,x){function X(ae){try{j(W.next(ae))}catch(ce){x(ce)}}function H(ae){try{j(W.throw(ae))}catch(ce){x(ce)}}function j(ae){var ce;ae.done?K(ae.value):((ce=ae.value)instanceof Z?ce:new Z(function(ne){ne(ce)})).then(X,H)}j((W=W.apply(k,Y||[])).next())})},z=this&&this.__generator||function(k,Y){var Z,W,K,x={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]},X={next:H(0),throw:H(1),return:H(2)};return typeof Symbol=="function"&&(X[Symbol.iterator]=function(){return this}),X;function H(j){return function(ae){var ce=[j,ae];if(Z)throw new TypeError("Generator is already executing.");for(;x;)try{if(Z=1,W&&(K=2&ce[0]?W.return:ce[0]?W.throw||((K=W.return)&&K.call(W),0):W.next)&&!(K=K.call(W,ce[1])).done)return K;switch(W=0,(ce=K?[2&ce[0],K.value]:ce)[0]){case 0:case 1:K=ce;break;case 4:return x.label++,{value:ce[1],done:!1};case 5:x.label++,W=ce[1],ce=[0];continue;case 7:ce=x.ops.pop(),x.trys.pop();continue;default:if(!(K=0<(K=x.trys).length&&K[K.length-1])&&(ce[0]===6||ce[0]===2)){x=0;continue}if(ce[0]===3&&(!K||ce[1]>K[0]&&ce[1]<K[3]))x.label=ce[1];else if(ce[0]===6&&x.label<K[1])x.label=K[1],K=ce;else{if(!(K&&x.label<K[2])){K[2]&&x.ops.pop(),x.trys.pop();continue}x.label=K[2],x.ops.push(ce)}}ce=Y.call(k,x)}catch(ne){ce=[6,ne],W=0}finally{Z=K=0}if(5&ce[0])throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}}},$=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}},L=(Object.defineProperty(te,"__esModule",{value:!0}),te.SettingCacheHandler=void 0,$(F(3))),O=F(0),T=F(12);function w(k,Y,Z){Z===void 0&&(Z=0),this.storeName=k,this.log=Y,this.store=T.createZegoStore(k,Z)}w.prototype.getCacheSetting=function(k){return V(this,void 0,void 0,function(){return z(this,function(Y){switch(Y.label){case 0:return this.log.info(O.ZEGO_SETTING_ACTION.SETTINGCACHEHANDLER_GET_CACHE_SETTING+" call"),[4,this.store.getItem(k)];case 1:return[2,Y.sent()||""]}})})},w.prototype.storeSetting=function(k,Y){return V(this,void 0,void 0,function(){return z(this,function(Z){switch(Z.label){case 0:return this.log.info(O.ZEGO_SETTING_ACTION.SETTINGCACHEHANDLER_STORE_SETTING+" call"),[4,this.store.setItem(k,Y)];case 1:return Z.sent(),[2]}})})},w.prototype.dropOldStore=function(k){L.default.dropInstance({name:k}).then(function(){console.debug("Dropped ",k)}).catch(function(Y){console.warn(Y)})},te.SettingCacheHandler=F=w},function(q,te,F){Object.defineProperty(te,"__esModule",{value:!0}),te.createZegoStore=te.ZegoWechatMiniStore=void 0;var V=F(3),z=F(2),$=(L.prototype.getItem=function(O){var T=this;return new Promise(function(w,k){try{w(wx.getStorageSync(T.keyPrefix+O))}catch(Y){k(Y)}})},L.prototype.setItem=function(O,T){var w=this;return new Promise(function(k,Y){try{wx.setStorageSync(w.keyPrefix+O,T),k()}catch(Z){Y(Z)}})},L.prototype.removeItem=function(O){var T=this;return new Promise(function(w,k){try{w(wx.removeStorageSync(T.keyPrefix+O))}catch(Y){k(Y)}})},L.prototype.clear=function(){return new Promise(function(O,T){try{wx.clearStorageSync(),O()}catch(w){T(w)}})},L.prototype.keys=function(){var O=this;return new Promise(function(T,w){try{var k=wx.getStorageInfoSync().keys,Y=(console.warn("keys",k),[]);k.forEach(function(Z){Z.indexOf(O.keyPrefix)==0&&Y.push(Z.replace(O.keyPrefix,""))}),console.warn("keyArr",Y),Y.sort(),T(Y)}catch(Z){w(Z)}})},L);function L(O){this.storeName=O,this.keyPrefix=O+"/",this.storeName}te.ZegoWechatMiniStore=$,te.createZegoStore=function(O,T){return T===z.ZEGO_ENV.BROWSER?V.createInstance({name:O}):new $(O)}},function(q,te,F){var V=this&&this.__assign||function(){return(V=Object.assign||function(X){for(var H,j=1,ae=arguments.length;j<ae;j++)for(var ce in H=arguments[j])Object.prototype.hasOwnProperty.call(H,ce)&&(X[ce]=H[ce]);return X}).apply(this,arguments)},z=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(te,"__esModule",{value:!0}),te.SettingFetchHandler=void 0;var $,L,O=F(0),T=F(1),w=F(14),k=F(15),Y=F(4),Z=F(17),W=F(7),K=z(F(5));function x(X,H){this.options=X,this.log=H,this.seq=0,this.userID="",this.unSendCommandList=new k.LinkedList,this.testNetPackageSize=!1,this.protobuf=new Z.CloudSettingProtoBuf}F=$={SERVICE_ClOUD_SETTING:10,10:"SERVICE_ClOUD_SETTING"},F=L={METHOD_UNSET:0,0:"METHOD_UNSET",METHOD_GET:1,1:"METHOD_GET",METHOD_POST:2,2:"METHOD_POST"},x.prototype.setOptions=function(X){this.options=X},x.prototype.setDataReport=function(X){this.reportFunc=X},x.prototype.setUserID=function(X){this.userID=X},x.prototype.fetchSetting=function(X,H,j,ae,ce){var ne=this;return ce===void 0&&(ce=!0),new Promise(function(Qe,De){var Fe={product:ne.options.product,files:X.map(function(ue){return ue.file_name}),param:V(V({},H),{deviceid:void 0}),appid:ne.options.appID,token:j,id_name:ae,timestamp:new Date().getTime(),biztype:0,deviceid:H.deviceid||Y.generateUUID(ne.options.env),compress:!1,mode:ne.options.online?"online":"test"},pe=Fe.param,ot={appid:Fe.appid,token:Fe.token,id_name:Fe.id_name,deviceid:Fe.deviceid},ft=ne.seq++;function yt(ue){var de,le=ue.code,Ve=(ue.msg,ue.data),nt=ue.polling_interval;ue=ue.reportData,ne.log.info(O.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" unify "+le),Ve&&(de=[],Object.keys(Ve).forEach(function(ct){var Re;de.push({name:ct,code:Ve[ct].code,message:(Re=Ve[ct])==null?void 0:Re.message,versions:JSON.stringify((Re=Ve[ct])==null?void 0:Re.versions),content:JSON.stringify((ct=Ve[ct])==null?void 0:ct.data)})})),ne.reportFunc&&ne.reportFunc(ft,"request_end",{code:le,reportData:ue,params:ot,requestKV:pe,files:de,polling:ce}),Qe({data:Ve,polling_interval:nt})}function Ot(ue){var de=ue.code,le=ue.msg,Ve=(ue.data,ue.status_code);ue=ue.reportData,ne.log.warn(O.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" unify "+de),ne.reportFunc&&ne.reportFunc(ft,"request_end",{code:de,params:ot,requestKV:pe,reportData:ue,polling:ce}),De({code:de,msg:le,status_code:Ve})}if(ne.reportFunc&&ne.reportFunc(ft,"request_start",{polling:ce}),(ie=ne.options)!=null&&ie.unify&&ne.options.connection)if(ne.options.productNum!==void 0){var ge,Ee=[];for(ge in Fe.param)Fe.param[ge]!==void 0&&Ee.push({key:ge,value:Fe.param[ge]});var fe={product:ne.options.productNum,response_compress:W.INIT_CONFIG.compress?0:1,files:X,param_list:Ee,p_version:W.INIT_CONFIG.p_version},ie=(ne.log.info(O.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" files "+JSON.stringify(fe.files)),ne.options.online?1:2);ne.sendCloudPBRequest(ae,fe,j,ie,yt,Ot)}else ne.sendCloudRequest(ae,Fe,"/cloud-setting/get",function(ue){yt(ue)},function(ue){Ot(ue)});else ne.options.urls&&w.fetch(ne.options.urls,Fe,ne.options.env||0).then(function(ue){var de,le=ue.code,Ve=(ue.msg,ue.data),nt=ue.polling_interval;ue=ue.reportData,ne.log.info(O.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" "+le),Ve&&(de=[],Object.keys(Ve).forEach(function(ct){var Re;de.push({name:ct,code:Ve[ct].code,message:(Re=Ve[ct])==null?void 0:Re.message,versions:JSON.stringify((Re=Ve[ct])==null?void 0:Re.versions),content:JSON.stringify((ct=Ve[ct])==null?void 0:ct.data)})})),ne.reportFunc&&ne.reportFunc(ft,"request_end",{code:le,reportData:ue,params:ot,requestKV:pe,files:de,polling:ce}),Qe({data:Ve,polling_interval:nt})}).catch(function(ue){var de=ue.code,le=ue.msg;ue.data,ue=ue.reportData,ne.log.warn(O.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" "+de),ne.reportFunc&&ne.reportFunc(ft,"request_end",{code:de,params:ot,requestKV:pe,reportData:ue,polling:ce}),De({code:de,msg:le})})})},x.prototype.sendCloudRequest=function(X,H,j,ae,ce,ne,Qe){var De=this,Fe=(ne===void 0&&(ne=3),Qe===void 0&&(Qe=[]),new Date().getTime());this.sendNetAgentHttpRequest({service:$.SERVICE_ClOUD_SETTING,body:H,ack:!1,idName:X,method_no:L.METHOD_POST,location:j},function(pe){var ot,ft,yt,Ot,ge;(pe==null?void 0:pe.status_code)===200?(ot=(Ot=JSON.parse(pe.body)).code,ge=Ot.message,ft=Ot.data,yt=Ot.polling_interval,Ot=new Date().getTime()-Fe,Qe.push({timestamp:Fe,url:j,error:ot,duration:Ot}),ot===0?ae({code:ot,msg:ge,data:ft,polling_interval:yt,reportData:Qe}):ce({code:ot,msg:ge,reportData:Qe})):(ge=new Date().getTime()-Fe,Qe.push({timestamp:Fe,url:j,error:pe==null?void 0:pe.status_code,duration:ge}),0<ne?(ne--,De.sendCloudRequest(X,H,j,ae,ce,ne,Qe)):ce(V(V({},T.errorList.FILE_REQUEST_FAIL),{reportData:Qe})))},function(pe){var ot=new Date().getTime()-Fe;Qe.push({timestamp:Fe,url:j,error:pe.code,duration:ot}),0<ne?(ne--,De.sendCloudRequest(X,H,j,ae,ce,ne,Qe)):ce(V(V({},T.errorList.FILE_REQUEST_FAIL),{reportData:Qe}))},null,{timeout:4e3})},x.prototype.sendNetAgentHttpRequest=function(X,H,j,ae,ce){ae={param:X,suc:H,err:j,ack:ae,option:ce},(ce=this.options.connection)!=null&&ce.isConnect()?this.sendNetUintData(ae):this.unSendCommandList.push(ae)},x.prototype.sendNetUintData=function(X){var H=X.param,j=X.suc,ae=X.err,ce=X.ack,ne=X.option;(X=this.options.connection)!=null&&X.startHttpRequest(H,j,ae,ce,ne)},x.prototype.checkUnSendMsgs=function(X){for(var H=X.getFirst();H!=null;)X.remove(H),H._data&&H._data.param&&this.sendNetUintData(H._data),H=X.getFirst()},x.prototype.sendCloudPBRequest=function(X,H,j,ae,ce,ne,Qe,De){var Fe,pe=this,ot=(Qe===void 0&&(Qe=3),De===void 0&&(De=[]),new Date().getTime()),ft=this.protobuf.encodeCloudSettingReq(H);(Fe=this.options.connection)!=null&&Fe.startHttpRequest2({interfaceID:14,body:ft,ack:!1,idName:X,method:L.METHOD_POST,token:j,mode:ae,reduceRspHeaders:!0},function(yt,Ot){if((yt==null?void 0:yt.status_code)===200){var ge=pe.protobuf.decodeCloudSettingRsp(yt.body),Ee=ge.message,fe=(ge.data,ge.polling_interval),ie=ge.code||0,ue=(K.default.isLong(ie)&&(ie=ie.toNumber()),new Date().getTime()-ot);if(De.push({timestamp:ot,error:ie,duration:ue}),ie===0){for(var de={},le=0;le<ge.file_response.length;le++){var Ve=(xe=ge.file_response[le]).message,nt=xe.file_name,ct=xe.hash,Re=xe.g_version,lt=xe.json_data,St=(pe.log.info(O.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" file rsp "+nt+" "+Re+" "+ct.toString()),xe.code||0);if(K.default.isLong(St)&&(St=St.toNumber()),xe={},0<(ct==null?void 0:ct.byteLength)&&0<(lt==null?void 0:lt.byteLength))try{var Yt=H.response_compress===0?Y.decodeCompressData(lt):Y.decodeString(lt),xe=JSON.parse(Yt)}catch(st){pe.log.info(O.ZEGO_SETTING_ACTION.SETTINGFETCHHANDLER_FETCHSETTING+" decode fail "+(st==null?void 0:st.message)?st.message:JSON.stringify(st))}de[nt]={code:St,message:Ve,versions:{hash:ct,g_version:Re},data:xe,hashChange:ct.byteLength===0?0:1}}ce({code:ie,msg:Ee,data:de,polling_interval:fe,reportData:De})}else ne({code:ie,msg:Ee,reportData:De})}else Ee=new Date().getTime()-ot,De.push({timestamp:ot,error:yt==null?void 0:yt.status_code,duration:Ee}),0<Qe?(Qe--,pe.sendCloudPBRequest(X,H,j,ae,ce,ne,Qe,De)):ne(V(V({},T.errorList.FILE_REQUEST_FAIL),{reportData:De,status_code:yt==null?void 0:yt.status_code}))},function(yt){var Ot=new Date().getTime()-ot;De.push({timestamp:ot,error:yt.code,duration:Ot}),0<Qe?(Qe--,pe.sendCloudPBRequest(X,H,j,ae,ce,ne,Qe,De)):ne(V(V({},T.errorList.FILE_REQUEST_FAIL),{reportData:De,status_code:yt==null?void 0:yt.status_code}))},null,{timeout:4e3,extras:{protoCmd:"GetCloudSettingConfigRequest"}})},te.SettingFetchHandler=F=x},function(q,te,F){var V=this&&this.__assign||function(){return(V=Object.assign||function($){for(var L,O=1,T=arguments.length;O<T;O++)for(var w in L=arguments[O])Object.prototype.hasOwnProperty.call(L,w)&&($[w]=L[w]);return $}).apply(this,arguments)},z=(Object.defineProperty(te,"__esModule",{value:!0}),te.fetch=void 0,F(1));te.fetch=function $(L,O,T,w,k,Y){return w===void 0&&(w=5),k===void 0&&(k=0),Y===void 0&&(Y=[]),new Promise(function(Z,W){k=k||new Date().getTime();var K,x,X,H=new Date().getTime();T===0?(K=new XMLHttpRequest,x=L[(w+1)%2]||L[0],K.open("post",x),O.compress==1&&(K.responseType="arraybuffer"),K.ontimeout=function(){console.warn("The request for "+x+" timed out.")},K.onreadystatechange=function(){var j,ae,ce,ne,Qe;K.readyState==4&&(200<=K.status&&K.status<300||K.status==304?(ae=void 0,O.compress!=1&&(ae=K.responseText),Qe=new Date().getTime()-H,j=(ce=JSON.parse(ae)).code,ne=ce.message,ae=ce.data,ce=ce.polling_interval,Y.push({timestamp:H,url:x,error:j,duration:Qe}),j===0?Z({code:j,msg:ne,data:ae,polling_interval:ce,reportData:Y}):W({code:j,msg:ne,reportData:Y})):(ne=new Date().getTime()-H,Y.push({timestamp:H,url:x,error:K.status,duration:ne}),Qe=new Date().getTime()-k,0<w&&Qe<8e3?$(L,O,T,--w,k,Y).then(function(De){Z(De)}).catch(function(De){W(De)}):W(V(V({},z.errorList.FILE_REQUEST_FAIL),{reportData:Y}))))},K.timeout=8e3,K.send(JSON.stringify(O))):(X=L[(w+1)%2]||L[0],wx.request({url:X,data:O,method:"POST",success:function(j){console.log(j.data);var ae=(Qe=j.data).code,ce=Qe.message,ne=Qe.data,Qe=Qe.polling_interval;ae!==void 0?ae===0?(console.log("post suc"),Z({code:ae,msg:ce,data:ne,polling_interval:Qe,reportData:Y})):(console.error("post fail ",ae,ce),W({code:ae,msg:ce,reportData:Y})):(ce=new Date().getTime()-H,Y.push({timestamp:H,url:X,error:z.errorList.FILE_REQUEST_FAIL.code,msg:j.data,duration:ce}),0<w?$(L,O,T,--w,k,Y).then(function(De){Z(De)}).catch(function(De){W(De)}):W(V(V({},z.errorList.FILE_REQUEST_FAIL),{reportData:Y})))},fail:function(j){console.log("send failed "+JSON.stringify(j)+j.statusCode);var ae=new Date().getTime()-H;Y.push({timestamp:H,url:X,error:z.errorList.FILE_REQUEST_FAIL.code,msg:j.errMsg,duration:ae}),0<w?$(L,O,T,--w,k,Y).then(function(ce){Z(ce)}).catch(function(ce){W(ce)}):W(V(V({},z.errorList.FILE_REQUEST_FAIL),{reportData:Y}))}}))})}},function(q,te,F){Object.defineProperty(te,"__esModule",{value:!0}),te.LinkedList=te.ListNode=void 0,Object.defineProperty(z.prototype,"id",{get:function(){return this._id||null},set:function(L){this._id=L},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"data",{get:function(){return this._data},set:function(L){this._data=L},enumerable:!1,configurable:!0}),z.prototype.hasNext=function(){return this.next&&this.next.id},z.prototype.hasPrev=function(){return this.prev&&this.prev.id};var V=z;function z(L,O){L===void 0&&(L=null),O===void 0&&(O=null),this.next=null,this.prev=null,this._id=L,this._data=O}function $(){this.start=new V,this.end=new V,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}te.ListNode=V,$.prototype.insertBefore=function(L,O){return(O=new V(this._idCounter,O)).next=L,O.prev=L.prev,L.prev&&(L.prev.next=O),L.prev=O,++this._idCounter,++this._numNodes,O},$.prototype.addLast=function(L){return this.insertBefore(this.end,L)},$.prototype.add=function(L){return this.addLast(L)},$.prototype.getFirst=function(){return this._numNodes===0?null:this.start.next},$.prototype.getLast=function(){return this._numNodes===0?null:this.end.prev},$.prototype.size=function(){return this._numNodes},$.prototype.getFromFirst=function(L){var O=0,T=this.start.next;if(0<=L)for(;O<L&&T!==null;)T=T.next,++O;else T=null;if(T===null)throw"Index out of bounds.";return T},$.prototype.get=function(L){return L===0?this.getFirst():L===this._numNodes-1?this.getLast():this.getFromFirst(L)},$.prototype.remove=function(L){return L.prev&&(L.prev.next=L.next),L.next&&(L.next.prev=L.prev),--this._numNodes,L},$.prototype.removeFirst=function(){return 0<this._numNodes&&this.start.next?this.remove(this.start.next):null},$.prototype.removeLast=function(){return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):null},$.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},$.prototype.each=function(L){for(var O=this.start;O.hasNext();)L(O=O.next)},$.prototype.find=function(L){for(var O=this.start,T=!1,w=null;O.hasNext()&&!T;)L(O=O.next)&&(w=O,T=!0);return w},$.prototype.map=function(L){for(var O=this.start,T=[];O.hasNext();)L(O=O.next)&&T.push(O);return T},$.prototype.push=function(L){return this.addLast(L)},$.prototype.unshift=function(L){0<this._numNodes?this.insertBefore(this.start.next,L):this.insertBefore(this.end,L)},$.prototype.pop=function(){return this.removeLast()},$.prototype.shift=function(){return this.removeFirst()},te.LinkedList=$},function(q,te,F){(function(V){function z(kt,Ar,qe,nr){var tr=O,lr=nr+qe;kt^=-1;for(var pr=nr;pr<lr;pr++)kt=kt>>>8^tr[255&(kt^Ar[pr])];return-1^kt}function $(kt){return(kt>>>24&255)+(kt>>>8&65280)+((65280&kt)<<8)+((255&kt)<<24)}var L=function(kt,Ar,qe,nr){for(var tr=65535&kt|0,lr=kt>>>16&65535|0,pr=0;qe!==0;){for(qe-=pr=2e3<qe?2e3:qe;lr=lr+(tr=tr+Ar[nr++]|0)|0,--pr;);tr%=65521,lr%=65521}return tr|lr<<16|0},O=new Uint32Array(function(){for(var kt=[],Ar=0;Ar<256;Ar++){for(var qe=Ar,nr=0;nr<8;nr++)qe=1&qe?3988292384^qe>>>1:qe>>>1;kt[Ar]=qe}return kt}()),T=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),w=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),k=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Y=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Z=function(kt,Ar,qe,nr,tr,lr,pr,rr){var Dr,Kt,$t,Nr,Rr,fr,un,ln,_r,gr=rr.bits,Qr=0,vr=0,Gr=0,$r=0,ur=0,Kr=0,Hr=0,gn=0,Tr=0,Or=0,Sr=null,Vr=0,qr=new Uint16Array(16),ke=new Uint16Array(16),Ge=null,Ke=0;for(Qr=0;Qr<=15;Qr++)qr[Qr]=0;for(vr=0;vr<nr;vr++)qr[Ar[qe+vr]]++;for(ur=gr,$r=15;1<=$r&&qr[$r]===0;$r--);if($r<ur&&(ur=$r),$r===0)tr[lr++]=20971520,tr[lr++]=20971520,rr.bits=1;else{for(Gr=1;Gr<$r&&qr[Gr]===0;Gr++);for(ur<Gr&&(ur=Gr),Qr=gn=1;Qr<=15;Qr++)if((gn=(gn<<1)-qr[Qr])<0)return-1;if(0<gn&&(kt===0||$r!==1))return-1;for(ke[1]=0,Qr=1;Qr<15;Qr++)ke[Qr+1]=ke[Qr]+qr[Qr];for(vr=0;vr<nr;vr++)Ar[qe+vr]!==0&&(pr[ke[Ar[qe+vr]]++]=vr);if(fr=kt===0?(Sr=Ge=pr,19):kt===1?(Sr=T,Vr-=257,Ge=w,Ke-=257,256):(Sr=k,Ge=Y,-1),Qr=Gr,Rr=lr,Hr=vr=Or=0,$t=-1,Nr=(Tr=1<<(Kr=ur))-1,kt===1&&852<Tr||kt===2&&592<Tr)return 1;for(;;){for(_r=pr[vr]<fr?(ln=0,pr[vr]):pr[vr]>fr?(ln=Ge[Ke+pr[vr]],Sr[Vr+pr[vr]]):(ln=96,0),Dr=1<<(un=Qr-Hr),Gr=Kt=1<<Kr;tr[Rr+(Or>>Hr)+(Kt-=Dr)]=un<<24|ln<<16|_r|0,Kt!==0;);for(Dr=1<<Qr-1;Or&Dr;)Dr>>=1;if(Or=Dr!==0?(Or&Dr-1)+Dr:0,vr++,--qr[Qr]==0){if(Qr===$r)break;Qr=Ar[qe+pr[vr]]}if(ur<Qr&&(Or&Nr)!==$t){for(Rr+=Gr,gn=1<<(Kr=Qr-(Hr=Hr===0?ur:Hr));Kr+Hr<$r&&!((gn-=qr[Kr+Hr])<=0);)Kr++,gn<<=1;if(Tr+=1<<Kr,kt===1&&852<Tr||kt===2&&592<Tr)return 1;tr[$t=Or&Nr]=ur<<24|Kr<<16|Rr-lr|0}}Or!==0&&(tr[Rr+Or]=Qr-Hr<<24|64<<16|0),rr.bits=ur}return 0},W={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},K=W.Z_FINISH,x=W.Z_BLOCK,X=W.Z_TREES,H=W.Z_OK,j=W.Z_STREAM_END,ae=W.Z_NEED_DICT,ce=W.Z_STREAM_ERROR,ne=W.Z_DATA_ERROR,Qe=W.Z_MEM_ERROR,De=W.Z_BUF_ERROR,Fe=W.Z_DEFLATED;function pe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ot(kt,Ar){var qe,nr,tr,lr,pr,rr,Dr,Kt,$t,Nr,Rr,fr,un,ln,_r,gr,Qr,vr,Gr,$r,ur,Kr,Hr,gn,Tr=0,Or=new Uint8Array(4),Sr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!kt||!kt.state||!kt.output||!kt.input&&kt.avail_in!==0)return ce;(qe=kt.state).mode===12&&(qe.mode=13),pr=kt.next_out,tr=kt.output,Dr=kt.avail_out,lr=kt.next_in,nr=kt.input,rr=kt.avail_in,Kt=qe.hold,$t=qe.bits,Nr=rr,Rr=Dr,Kr=H;e:for(;;)switch(qe.mode){case 1:if(qe.wrap===0)qe.mode=13;else{for(;$t<16;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}if(2&qe.wrap&&Kt===35615)Or[qe.check=0]=255&Kt,Or[1]=Kt>>>8&255,qe.check=z(qe.check,Or,2,0),$t=Kt=0,qe.mode=2;else if(qe.flags=0,qe.head&&(qe.head.done=!1),!(1&qe.wrap)||(((255&Kt)<<8)+(Kt>>8))%31)kt.msg="incorrect header check",qe.mode=30;else if((15&Kt)!==Fe)kt.msg="unknown compression method",qe.mode=30;else{if($t-=4,ur=8+(15&(Kt>>>=4)),qe.wbits===0)qe.wbits=ur;else if(ur>qe.wbits){kt.msg="invalid window size",qe.mode=30;break}qe.dmax=1<<qe.wbits,kt.adler=qe.check=1,qe.mode=512&Kt?10:12,$t=Kt=0}}break;case 2:for(;$t<16;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}if(qe.flags=Kt,(255&qe.flags)!==Fe){kt.msg="unknown compression method",qe.mode=30;break}if(57344&qe.flags){kt.msg="unknown header flags set",qe.mode=30;break}qe.head&&(qe.head.text=Kt>>8&1),512&qe.flags&&(Or[0]=255&Kt,Or[1]=Kt>>>8&255,qe.check=z(qe.check,Or,2,0)),$t=Kt=0,qe.mode=3;case 3:for(;$t<32;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}qe.head&&(qe.head.time=Kt),512&qe.flags&&(Or[0]=255&Kt,Or[1]=Kt>>>8&255,Or[2]=Kt>>>16&255,Or[3]=Kt>>>24&255,qe.check=z(qe.check,Or,4,0)),$t=Kt=0,qe.mode=4;case 4:for(;$t<16;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}qe.head&&(qe.head.xflags=255&Kt,qe.head.os=Kt>>8),512&qe.flags&&(Or[0]=255&Kt,Or[1]=Kt>>>8&255,qe.check=z(qe.check,Or,2,0)),$t=Kt=0,qe.mode=5;case 5:if(1024&qe.flags){for(;$t<16;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}qe.length=Kt,qe.head&&(qe.head.extra_len=Kt),512&qe.flags&&(Or[0]=255&Kt,Or[1]=Kt>>>8&255,qe.check=z(qe.check,Or,2,0)),$t=Kt=0}else qe.head&&(qe.head.extra=null);qe.mode=6;case 6:if(1024&qe.flags&&((fr=(fr=qe.length)>rr?rr:fr)&&(qe.head&&(ur=qe.head.extra_len-qe.length,qe.head.extra||(qe.head.extra=new Uint8Array(qe.head.extra_len)),qe.head.extra.set(nr.subarray(lr,lr+fr),ur)),512&qe.flags&&(qe.check=z(qe.check,nr,fr,lr)),rr-=fr,lr+=fr,qe.length-=fr),qe.length))break e;qe.length=0,qe.mode=7;case 7:if(2048&qe.flags){if(rr===0)break e;for(fr=0;ur=nr[lr+fr++],qe.head&&ur&&qe.length<65536&&(qe.head.name+=String.fromCharCode(ur)),ur&&fr<rr;);if(512&qe.flags&&(qe.check=z(qe.check,nr,fr,lr)),rr-=fr,lr+=fr,ur)break e}else qe.head&&(qe.head.name=null);qe.length=0,qe.mode=8;case 8:if(4096&qe.flags){if(rr===0)break e;for(fr=0;ur=nr[lr+fr++],qe.head&&ur&&qe.length<65536&&(qe.head.comment+=String.fromCharCode(ur)),ur&&fr<rr;);if(512&qe.flags&&(qe.check=z(qe.check,nr,fr,lr)),rr-=fr,lr+=fr,ur)break e}else qe.head&&(qe.head.comment=null);qe.mode=9;case 9:if(512&qe.flags){for(;$t<16;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}if(Kt!==(65535&qe.check)){kt.msg="header crc mismatch",qe.mode=30;break}$t=Kt=0}qe.head&&(qe.head.hcrc=qe.flags>>9&1,qe.head.done=!0),kt.adler=qe.check=0,qe.mode=12;break;case 10:for(;$t<32;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}kt.adler=qe.check=$(Kt),$t=Kt=0,qe.mode=11;case 11:if(qe.havedict===0)return kt.next_out=pr,kt.avail_out=Dr,kt.next_in=lr,kt.avail_in=rr,qe.hold=Kt,qe.bits=$t,ae;kt.adler=qe.check=1,qe.mode=12;case 12:if(Ar===x||Ar===X)break e;case 13:if(qe.last)Kt>>>=7&$t,$t-=7&$t,qe.mode=27;else{for(;$t<3;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}switch(qe.last=1&Kt,--$t,3&(Kt>>>=1)){case 0:qe.mode=14;break;case 1:qr=void 0;var Vr=qe;if(Ee){yt=new Int32Array(512),Ot=new Int32Array(32);for(var qr=0;qr<144;)Vr.lens[qr++]=8;for(;qr<256;)Vr.lens[qr++]=9;for(;qr<280;)Vr.lens[qr++]=7;for(;qr<288;)Vr.lens[qr++]=8;for(Z(1,Vr.lens,0,288,yt,0,Vr.work,{bits:9}),qr=0;qr<32;)Vr.lens[qr++]=5;Z(2,Vr.lens,0,32,Ot,0,Vr.work,{bits:5}),Ee=!1}if(Vr.lencode=yt,Vr.lenbits=9,Vr.distcode=Ot,Vr.distbits=5,qe.mode=20,Ar!==X)break;Kt>>>=2,$t-=2;break e;case 2:qe.mode=17;break;case 3:kt.msg="invalid block type",qe.mode=30}Kt>>>=2,$t-=2}break;case 14:for(Kt>>>=7&$t,$t-=7&$t;$t<32;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}if((65535&Kt)!=(Kt>>>16^65535)){kt.msg="invalid stored block lengths",qe.mode=30;break}if(qe.length=65535&Kt,$t=Kt=0,qe.mode=15,Ar===X)break e;case 15:qe.mode=16;case 16:if(fr=qe.length){if((fr=Dr<(fr=rr<fr?rr:fr)?Dr:fr)===0)break e;tr.set(nr.subarray(lr,lr+fr),pr),rr-=fr,lr+=fr,Dr-=fr,pr+=fr,qe.length-=fr}else qe.mode=12;break;case 17:for(;$t<14;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}if(qe.nlen=257+(31&Kt),Kt>>>=5,$t-=5,qe.ndist=1+(31&Kt),Kt>>>=5,$t-=5,qe.ncode=4+(15&Kt),Kt>>>=4,$t-=4,286<qe.nlen||30<qe.ndist){kt.msg="too many length or distance symbols",qe.mode=30;break}qe.have=0,qe.mode=18;case 18:for(;qe.have<qe.ncode;){for(;$t<3;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}qe.lens[Sr[qe.have++]]=7&Kt,Kt>>>=3,$t-=3}for(;qe.have<19;)qe.lens[Sr[qe.have++]]=0;if(qe.lencode=qe.lendyn,qe.lenbits=7,Hr={bits:qe.lenbits},Kr=Z(0,qe.lens,0,19,qe.lencode,0,qe.work,Hr),qe.lenbits=Hr.bits,Kr){kt.msg="invalid code lengths set",qe.mode=30;break}qe.have=0,qe.mode=19;case 19:for(;qe.have<qe.nlen+qe.ndist;){for(;gr=(Tr=qe.lencode[Kt&(1<<qe.lenbits)-1])>>>16&255,Qr=65535&Tr,!((_r=Tr>>>24)<=$t);){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}if(Qr<16)Kt>>>=_r,$t-=_r,qe.lens[qe.have++]=Qr;else{if(Qr===16){for(gn=_r+2;$t<gn;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}if(Kt>>>=_r,$t-=_r,qe.have===0){kt.msg="invalid bit length repeat",qe.mode=30;break}ur=qe.lens[qe.have-1],fr=3+(3&Kt),Kt>>>=2,$t-=2}else if(Qr===17){for(gn=_r+3;$t<gn;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}ur=0,fr=3+(7&(Kt>>>=_r)),Kt>>>=3,$t=$t-_r-3}else{for(gn=_r+7;$t<gn;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}ur=0,fr=11+(127&(Kt>>>=_r)),Kt>>>=7,$t=$t-_r-7}if(qe.have+fr>qe.nlen+qe.ndist){kt.msg="invalid bit length repeat",qe.mode=30;break}for(;fr--;)qe.lens[qe.have++]=ur}}if(qe.mode===30)break;if(qe.lens[256]===0){kt.msg="invalid code -- missing end-of-block",qe.mode=30;break}if(qe.lenbits=9,Hr={bits:qe.lenbits},Kr=Z(1,qe.lens,0,qe.nlen,qe.lencode,0,qe.work,Hr),qe.lenbits=Hr.bits,Kr){kt.msg="invalid literal/lengths set",qe.mode=30;break}if(qe.distbits=6,qe.distcode=qe.distdyn,Hr={bits:qe.distbits},Kr=Z(2,qe.lens,qe.nlen,qe.ndist,qe.distcode,0,qe.work,Hr),qe.distbits=Hr.bits,Kr){kt.msg="invalid distances set",qe.mode=30;break}if(qe.mode=20,Ar===X)break e;case 20:qe.mode=21;case 21:if(6<=rr&&258<=Dr){kt.next_out=pr,kt.avail_out=Dr,kt.next_in=lr,kt.avail_in=rr,qe.hold=Kt,qe.bits=$t,It=cr=be=Ae=We=Ke=Ge=ke=ee=pt=Lt=rt=void 0;var ke,Ge,Ke,We,Ae,be,tt=kt,dt=Rr,It=tt.state,rt=tt.next_in,Ze=tt.input,Nt=rt+(tt.avail_in-5),Lt=tt.next_out,cr=tt.output,Me=Lt-(dt-tt.avail_out),me=Lt+(tt.avail_out-257),Be=It.dmax,ve=It.wsize,Ue=It.whave,Se=It.wnext,je=It.window,pt=It.hold,ee=It.bits,Pe=It.lencode,He=It.distcode,it=(1<<It.lenbits)-1,ht=(1<<It.distbits)-1;t:do for(ee<15&&(pt+=Ze[rt++]<<ee,ee+=8,pt+=Ze[rt++]<<ee,ee+=8),ke=Pe[pt&it];;){if(pt>>>=Ge=ke>>>24,ee-=Ge,(Ge=ke>>>16&255)==0)cr[Lt++]=65535&ke;else{if(!(16&Ge)){if(!(64&Ge)){ke=Pe[(65535&ke)+(pt&(1<<Ge)-1)];continue}if(32&Ge){It.mode=12;break t}tt.msg="invalid literal/length code",It.mode=30;break t}for(Ke=65535&ke,(Ge&=15)&&(ee<Ge&&(pt+=Ze[rt++]<<ee,ee+=8),Ke+=pt&(1<<Ge)-1,pt>>>=Ge,ee-=Ge),ee<15&&(pt+=Ze[rt++]<<ee,ee+=8,pt+=Ze[rt++]<<ee,ee+=8),ke=He[pt&ht];;){if(pt>>>=Ge=ke>>>24,ee-=Ge,!(16&(Ge=ke>>>16&255))){if(!(64&Ge)){ke=He[(65535&ke)+(pt&(1<<Ge)-1)];continue}tt.msg="invalid distance code",It.mode=30;break t}if(We=65535&ke,ee<(Ge&=15)&&(pt+=Ze[rt++]<<ee,(ee+=8)<Ge)&&(pt+=Ze[rt++]<<ee,ee+=8),(We+=pt&(1<<Ge)-1)>Be){tt.msg="invalid distance too far back",It.mode=30;break t}if(pt>>>=Ge,ee-=Ge,We>(Ge=Lt-Me)){if((Ge=We-Ge)>Ue&&It.sane){tt.msg="invalid distance too far back",It.mode=30;break t}if(be=je,(Ae=0)===Se){if(Ae+=ve-Ge,Ge<Ke){for(Ke-=Ge;cr[Lt++]=je[Ae++],--Ge;);Ae=Lt-We,be=cr}}else if(Se<Ge){if(Ae+=ve+Se-Ge,(Ge-=Se)<Ke){for(Ke-=Ge;cr[Lt++]=je[Ae++],--Ge;);if(Ae=0,Se<Ke){for(Ke-=Ge=Se;cr[Lt++]=je[Ae++],--Ge;);Ae=Lt-We,be=cr}}}else if(Ae+=Se-Ge,Ge<Ke){for(Ke-=Ge;cr[Lt++]=je[Ae++],--Ge;);Ae=Lt-We,be=cr}for(;2<Ke;)cr[Lt++]=be[Ae++],cr[Lt++]=be[Ae++],cr[Lt++]=be[Ae++],Ke-=3;Ke&&(cr[Lt++]=be[Ae++],1<Ke)&&(cr[Lt++]=be[Ae++])}else{for(Ae=Lt-We;cr[Lt++]=cr[Ae++],cr[Lt++]=cr[Ae++],cr[Lt++]=cr[Ae++],2<(Ke-=3););Ke&&(cr[Lt++]=cr[Ae++],1<Ke)&&(cr[Lt++]=cr[Ae++])}break}}break}while(rt<Nt&&Lt<me);rt-=Ke=ee>>3,pt&=(1<<(ee-=Ke<<3))-1,tt.next_in=rt,tt.next_out=Lt,tt.avail_in=rt<Nt?Nt-rt+5:5-(rt-Nt),tt.avail_out=Lt<me?me-Lt+257:257-(Lt-me),It.hold=pt,It.bits=ee,pr=kt.next_out,tr=kt.output,Dr=kt.avail_out,lr=kt.next_in,nr=kt.input,rr=kt.avail_in,Kt=qe.hold,$t=qe.bits,qe.mode===12&&(qe.back=-1);break}for(qe.back=0;gr=(Tr=qe.lencode[Kt&(1<<qe.lenbits)-1])>>>16&255,Qr=65535&Tr,!((_r=Tr>>>24)<=$t);){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}if(gr&&!(240&gr)){for(vr=_r,Gr=gr,$r=Qr;gr=(Tr=qe.lencode[$r+((Kt&(1<<vr+Gr)-1)>>vr)])>>>16&255,Qr=65535&Tr,!(vr+(_r=Tr>>>24)<=$t);){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}Kt>>>=vr,$t-=vr,qe.back+=vr}if(Kt>>>=_r,$t-=_r,qe.back+=_r,qe.length=Qr,gr===0){qe.mode=26;break}if(32&gr){qe.back=-1,qe.mode=12;break}if(64&gr){kt.msg="invalid literal/length code",qe.mode=30;break}qe.extra=15&gr,qe.mode=22;case 22:if(qe.extra){for(gn=qe.extra;$t<gn;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}qe.length+=Kt&(1<<qe.extra)-1,Kt>>>=qe.extra,$t-=qe.extra,qe.back+=qe.extra}qe.was=qe.length,qe.mode=23;case 23:for(;gr=(Tr=qe.distcode[Kt&(1<<qe.distbits)-1])>>>16&255,Qr=65535&Tr,!((_r=Tr>>>24)<=$t);){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}if(!(240&gr)){for(vr=_r,Gr=gr,$r=Qr;gr=(Tr=qe.distcode[$r+((Kt&(1<<vr+Gr)-1)>>vr)])>>>16&255,Qr=65535&Tr,!(vr+(_r=Tr>>>24)<=$t);){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}Kt>>>=vr,$t-=vr,qe.back+=vr}if(Kt>>>=_r,$t-=_r,qe.back+=_r,64&gr){kt.msg="invalid distance code",qe.mode=30;break}qe.offset=Qr,qe.extra=15&gr,qe.mode=24;case 24:if(qe.extra){for(gn=qe.extra;$t<gn;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}qe.offset+=Kt&(1<<qe.extra)-1,Kt>>>=qe.extra,$t-=qe.extra,qe.back+=qe.extra}if(qe.offset>qe.dmax){kt.msg="invalid distance too far back",qe.mode=30;break}qe.mode=25;case 25:if(Dr===0)break e;if(qe.offset>(fr=Rr-Dr)){if((fr=qe.offset-fr)>qe.whave&&qe.sane){kt.msg="invalid distance too far back",qe.mode=30;break}un=fr>qe.wnext?(fr-=qe.wnext,qe.wsize-fr):qe.wnext-fr,fr>qe.length&&(fr=qe.length),ln=qe.window}else ln=tr,un=pr-qe.offset,fr=qe.length;for(Dr-=fr=Dr<fr?Dr:fr,qe.length-=fr;tr[pr++]=ln[un++],--fr;);qe.length===0&&(qe.mode=21);break;case 26:if(Dr===0)break e;tr[pr++]=qe.length,Dr--,qe.mode=21;break;case 27:if(qe.wrap){for(;$t<32;){if(rr===0)break e;rr--,Kt|=nr[lr++]<<$t,$t+=8}if(Rr-=Dr,kt.total_out+=Rr,qe.total+=Rr,Rr&&(kt.adler=qe.check=(qe.flags?z:L)(qe.check,tr,Rr,pr-Rr)),Rr=Dr,(qe.flags?Kt:$(Kt))!==qe.check){kt.msg="incorrect data check",qe.mode=30;break}$t=Kt=0}qe.mode=28;case 28:if(qe.wrap&&qe.flags){for(;$t<32;){if(rr===0)break e;rr--,Kt+=nr[lr++]<<$t,$t+=8}if(Kt!==(4294967295&qe.total)){kt.msg="incorrect length check",qe.mode=30;break}$t=Kt=0}qe.mode=29;case 29:Kr=j;break e;case 30:Kr=ne;break e;case 31:return Qe;default:return ce}return kt.next_out=pr,kt.avail_out=Dr,kt.next_in=lr,kt.avail_in=rr,qe.hold=Kt,qe.bits=$t,(qe.wsize||Rr!==kt.avail_out&&qe.mode<30&&(qe.mode<27||Ar!==K))&&fe(kt,kt.output,kt.next_out,Rr-kt.avail_out),Nr-=kt.avail_in,Rr-=kt.avail_out,kt.total_in+=Nr,kt.total_out+=Rr,qe.total+=Rr,qe.wrap&&Rr&&(kt.adler=qe.check=(qe.flags?z:L)(qe.check,tr,Rr,kt.next_out-Rr)),kt.data_type=qe.bits+(qe.last?64:0)+(qe.mode===12?128:0)+(qe.mode===20||qe.mode===15?256:0),(Nr==0&&Rr===0||Ar===K)&&Kr===H?De:Kr}function ft(kt,Ar){var qe,nr=Ar.length;return!kt||!kt.state||(qe=kt.state).wrap!==0&&qe.mode!==11?ce:qe.mode===11&&L(1,Ar,nr,0)!==qe.check?ne:fe(kt,Ar,nr,nr)?(qe.mode=31,Qe):(qe.havedict=1,H)}var yt,Ot,ge=function(kt){var Ar;return kt&&kt.state&&((Ar=kt.state).wsize=0,Ar.whave=0,Ar.wnext=0,Ar=kt)&&Ar.state?(kt=Ar.state,Ar.total_in=Ar.total_out=kt.total=0,Ar.msg="",kt.wrap&&(Ar.adler=1&kt.wrap),kt.mode=1,kt.last=0,kt.havedict=0,kt.dmax=32768,kt.head=null,kt.hold=0,kt.bits=0,kt.lencode=kt.lendyn=new Int32Array(852),kt.distcode=kt.distdyn=new Int32Array(592),kt.sane=1,kt.back=-1,H):ce},Ee=!0,fe=function(kt,Ar,qe,nr){var tr;return(kt=kt.state).window===null&&(kt.wsize=1<<kt.wbits,kt.wnext=0,kt.whave=0,kt.window=new Uint8Array(kt.wsize)),nr>=kt.wsize?(kt.window.set(Ar.subarray(qe-kt.wsize,qe),0),kt.wnext=0,kt.whave=kt.wsize):((tr=kt.wsize-kt.wnext)>nr&&(tr=nr),kt.window.set(Ar.subarray(qe-nr,qe-nr+tr),kt.wnext),(nr-=tr)?(kt.window.set(Ar.subarray(qe-nr,qe),0),kt.wnext=nr,kt.whave=kt.wsize):(kt.wnext+=tr,kt.wnext===kt.wsize&&(kt.wnext=0),kt.whave<kt.wsize&&(kt.whave+=tr))),0},ie=ge,ue=function(kt,Ar){var qe,nr,tr;return kt?(qe=new pe,(kt.state=qe).window=null,qe=Ar,(tr=!(Ar=kt)||!Ar.state||(tr=Ar.state,qe<0?(nr=0,qe=-qe):(nr=1+(qe>>4),qe<48&&(qe&=15)),qe&&(qe<8||15<qe))?ce:(tr.window!==null&&tr.wbits!==qe&&(tr.window=null),tr.wrap=nr,tr.wbits=qe,ge(Ar)))!==H&&(kt.state=null),tr):ce};function de(kt){return(de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ar){return typeof Ar}:function(Ar){return Ar&&typeof Symbol=="function"&&Ar.constructor===Symbol&&Ar!==Symbol.prototype?"symbol":typeof Ar})(kt)}var le=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{le=!1}for(var Ve=new Uint8Array(256),nt=0;nt<256;nt++)Ve[nt]=252<=nt?6:248<=nt?5:240<=nt?4:224<=nt?3:192<=nt?2:1;function ct(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Re(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}Ve[254]=Ve[254]=1;var lt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},St=Object.prototype.toString,Yt=W.Z_NO_FLUSH,xe=W.Z_FINISH,st=W.Z_OK,At=W.Z_STREAM_END,Et=W.Z_NEED_DICT,Dt=W.Z_STREAM_ERROR,Ft=W.Z_DATA_ERROR,zt=W.Z_MEM_ERROR;function Ut(kt){this.options=function(tr){for(var lr,pr,rr=Array.prototype.slice.call(arguments,1);rr.length;){var Dr=rr.shift();if(Dr){if(de(Dr)!=="object")throw new TypeError(Dr+"must be non-object");for(var Kt in Dr)lr=Dr,pr=Kt,Object.prototype.hasOwnProperty.call(lr,pr)&&(tr[Kt]=Dr[Kt])}}return tr}({chunkSize:65536,windowBits:15,to:""},kt||{});var Ar,qe,nr=this.options;if((kt=(nr.raw&&0<=nr.windowBits&&nr.windowBits<16&&(nr.windowBits=-nr.windowBits,nr.windowBits===0)&&(nr.windowBits=-15),!(0<=nr.windowBits&&nr.windowBits<16)||kt&&kt.windowBits||(nr.windowBits+=32),15<nr.windowBits&&nr.windowBits<48&&!(15&nr.windowBits)&&(nr.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ct,this.strm.avail_out=0,ue(this.strm,nr.windowBits)))!==st)throw new Error(lt[kt]);if(this.header=new Re,Ar=this.strm,qe=this.header,!Ar||!Ar.state||!(2&(Ar=Ar.state).wrap)||((Ar.head=qe).done=!1),nr.dictionary&&(typeof nr.dictionary=="string"?nr.dictionary=function(tr){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(tr);for(var lr,pr,rr,Dr,Kt=tr.length,$t=0,Nr=0;Nr<Kt;Nr++)(64512&(pr=tr.charCodeAt(Nr)))==55296&&Nr+1<Kt&&(64512&(rr=tr.charCodeAt(Nr+1)))==56320&&(pr=65536+(pr-55296<<10)+(rr-56320),Nr++),$t+=pr<128?1:pr<2048?2:pr<65536?3:4;for(lr=new Uint8Array($t),Nr=Dr=0;Dr<$t;Nr++)(64512&(pr=tr.charCodeAt(Nr)))==55296&&Nr+1<Kt&&(64512&(rr=tr.charCodeAt(Nr+1)))==56320&&(pr=65536+(pr-55296<<10)+(rr-56320),Nr++),pr<128?lr[Dr++]=pr:(pr<2048?lr[Dr++]=192|pr>>>6:(pr<65536?lr[Dr++]=224|pr>>>12:(lr[Dr++]=240|pr>>>18,lr[Dr++]=128|pr>>>12&63),lr[Dr++]=128|pr>>>6&63),lr[Dr++]=128|63&pr);return lr}(nr.dictionary):St.call(nr.dictionary)==="[object ArrayBuffer]"&&(nr.dictionary=new Uint8Array(nr.dictionary)),nr.raw)&&(kt=ft(this.strm,nr.dictionary))!==st)throw new Error(lt[kt])}function Vt(kt,Ar){if((Ar=new Ut(Ar)).push(kt),Ar.err)throw Ar.msg||lt[Ar.err];return Ar.result}function mr(kt,Ar){return(Ar=Ar||{}).raw=!0,Vt(kt,Ar)}Ut.prototype.push=function(kt,Ar){var qe,nr,tr=this.strm,lr=this.options.chunkSize,pr=this.options.dictionary;if(this.ended)return!1;for(nr=Ar===~~Ar?Ar:Ar===!0?xe:Yt,St.call(kt)==="[object ArrayBuffer]"?tr.input=new Uint8Array(kt):tr.input=kt,tr.next_in=0,tr.avail_in=tr.input.length;;){for(tr.avail_out===0&&(tr.output=new Uint8Array(lr),tr.next_out=0,tr.avail_out=lr),(qe=ot(tr,nr))===Et&&pr&&((qe=ft(tr,pr))===st?qe=ot(tr,nr):qe===Ft&&(qe=Et));0<tr.avail_in&&qe===At&&0<tr.state.wrap&&kt[tr.next_in]!==0;)ie(tr),qe=ot(tr,nr);switch(qe){case Dt:case Ft:case Et:case zt:return this.onEnd(qe),!(this.ended=!0)}var rr,Dr,Kt,$t=tr.avail_out;if(!tr.next_out||tr.avail_out!==0&&qe!==At||(this.options.to==="string"?(rr=function(Nr,Rr){for(var fr=(Rr=(Rr=Rr||Nr.length)>Nr.length?Nr.length:Rr)-1;0<=fr&&(192&Nr[fr])==128;)fr--;return!(fr<0||fr===0)&&fr+Ve[Nr[fr]]>Rr?fr:Rr}(tr.output,tr.next_out),Dr=tr.next_out-rr,Kt=function(Nr,Rr){var fr=Rr||Nr.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(Nr.subarray(0,Rr));for(var un=new Array(2*fr),ln=0,_r=0;_r<fr;){var gr=Nr[_r++];if(gr<128)un[ln++]=gr;else{var Qr=Ve[gr];if(4<Qr)un[ln++]=65533,_r+=Qr-1;else{for(gr&=Qr===2?31:Qr===3?15:7;1<Qr&&_r<fr;)gr=gr<<6|63&Nr[_r++],Qr--;1<Qr?un[ln++]=65533:gr<65536?un[ln++]=gr:(gr-=65536,un[ln++]=55296|gr>>10&1023,un[ln++]=56320|1023&gr)}}}var vr=un,Gr=ln;if(Gr<65534&&vr.subarray&&le)return String.fromCharCode.apply(null,vr.length===Gr?vr:vr.subarray(0,Gr));for(var $r="",ur=0;ur<Gr;ur++)$r+=String.fromCharCode(vr[ur]);return $r}(tr.output,rr),tr.next_out=Dr,tr.avail_out=lr-Dr,Dr&&tr.output.set(tr.output.subarray(rr,rr+Dr),0),this.onData(Kt)):this.onData(tr.output.length===tr.next_out?tr.output:tr.output.subarray(0,tr.next_out))),qe!==st||$t!==0){if(qe===At)return Dr=void 0,qe=(rr=this.strm)&&rr.state?((Dr=rr.state).window&&(Dr.window=null),rr.state=null,H):ce,this.onEnd(qe),this.ended=!0;if(tr.avail_in===0)break}}return!0},Ut.prototype.onData=function(kt){this.chunks.push(kt)},Ut.prototype.onEnd=function(kt){kt===st&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=function(Ar){for(var qe=0,nr=0,tr=Ar.length;nr<tr;nr++)qe+=Ar[nr].length;for(var lr=new Uint8Array(qe),pr=0,rr=0,Dr=Ar.length;pr<Dr;pr++){var Kt=Ar[pr];lr.set(Kt,rr),rr+=Kt.length}return lr}(this.chunks)),this.chunks=[],this.err=kt,this.msg=this.strm.msg};var Br=Vt,Zt=Vt,wr={Inflate:Ut,inflate:Br,inflateRaw:mr,ungzip:Zt,constants:W};V.Inflate=Ut,V.constants=W,V.default=wr,V.inflate=Br,V.inflateRaw=mr,V.ungzip=Zt,Object.defineProperty(V,"__esModule",{value:!0})})(te)},function(q,te,F){var V=this&&this.__createBinding||(Object.create?function(w,k,Y,Z){Z===void 0&&(Z=Y),Object.defineProperty(w,Z,{enumerable:!0,get:function(){return k[Y]}})}:function(w,k,Y,Z){w[Z=Z===void 0?Y:Z]=k[Y]}),z=this&&this.__setModuleDefault||(Object.create?function(w,k){Object.defineProperty(w,"default",{enumerable:!0,value:k})}:function(w,k){w.default=k}),$=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var k={};if(w!=null)for(var Y in w)Y!=="default"&&Object.hasOwnProperty.call(w,Y)&&V(k,w,Y);return z(k,w),k},L=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}},O=(Object.defineProperty(te,"__esModule",{value:!0}),te.CloudSettingProtoBuf=void 0,L=L(F(5)),$=$(F(6)),F(18));function T(){}$.util.Long=L.default,$.configure(),T.prototype.encodeCloudSettingReq=function(w){return w=O.cloudsetting.GetCloudSettingConfigRequest.create(w),O.cloudsetting.GetCloudSettingConfigRequest.encode(w).finish()},T.prototype.decodeCloudSettingRsp=function(w){return O.cloudsetting.GetCloudSettingConfigResponse.decode(w)},te.CloudSettingProtoBuf=$=T},function(q,te,F){var V,z=F(6),$=z.Reader,L=z.Writer,O=z.util,T=z.roots.default||(z.roots.default={});function w(K){if(K)for(var x=Object.keys(K),X=0;X<x.length;++X)K[x[X]]!=null&&(this[x[X]]=K[x[X]])}function k(K){if(K)for(var x=Object.keys(K),X=0;X<x.length;++X)K[x[X]]!=null&&(this[x[X]]=K[x[X]])}function Y(K){if(this.file_list=[],this.param_list=[],this.files=[],K)for(var x=Object.keys(K),X=0;X<x.length;++X)K[x[X]]!=null&&(this[x[X]]=K[x[X]])}function Z(K){if(K)for(var x=Object.keys(K),X=0;X<x.length;++X)K[x[X]]!=null&&(this[x[X]]=K[x[X]])}function W(K){if(this.file_response=[],K)for(var x=Object.keys(K),X=0;X<x.length;++X)K[x[X]]!=null&&(this[x[X]]=K[x[X]])}T.cloudsetting=((V={}).Product=(F={},(z=Object.create(F))[F[0]="RTC"]=0,z[F[1]="WEB_RTC"]=1,z[F[2]="ZIM"]=2,z[F[3]="ROOM_KIT"]=3,z[F[4]="DOC_SHARE"]=4,z[F[5]="WHITE_BOARD"]=5,z[F[999]="SELF_CHECK"]=999,z[F[1e3]="TEST_ANOOUS"]=1e3,z),V.Param=(w.prototype.key="",w.prototype.value="",w.create=function(K){return new w(K)},w.encode=function(K,x){return x=x||L.create(),K.key!=null&&Object.hasOwnProperty.call(K,"key")&&x.uint32(10).string(K.key),K.value!=null&&Object.hasOwnProperty.call(K,"value")&&x.uint32(18).string(K.value),x},w.decode=function(K,x){K instanceof $||(K=$.create(K));for(var X=x===void 0?K.len:K.pos+x,H=new T.cloudsetting.Param;K.pos<X;){var j=K.uint32();switch(j>>>3){case 1:H.key=K.string();break;case 2:H.value=K.string();break;default:K.skipType(7&j)}}return H},w),V.File=(k.prototype.file_name="",k.prototype.hash=O.newBuffer([]),k.prototype.g_version=0,k.create=function(K){return new k(K)},k.encode=function(K,x){return x=x||L.create(),K.file_name!=null&&Object.hasOwnProperty.call(K,"file_name")&&x.uint32(10).string(K.file_name),K.hash!=null&&Object.hasOwnProperty.call(K,"hash")&&x.uint32(18).bytes(K.hash),K.g_version!=null&&Object.hasOwnProperty.call(K,"g_version")&&x.uint32(24).uint32(K.g_version),x},k.decode=function(K,x){K instanceof $||(K=$.create(K));for(var X=x===void 0?K.len:K.pos+x,H=new T.cloudsetting.File;K.pos<X;){var j=K.uint32();switch(j>>>3){case 1:H.file_name=K.string();break;case 2:H.hash=K.bytes();break;case 3:H.g_version=K.uint32();break;default:K.skipType(7&j)}}return H},k),V.GetCloudSettingConfigRequest=(Y.prototype.product=0,Y.prototype.response_compress=0,Y.prototype.file_list=O.emptyArray,Y.prototype.param_list=O.emptyArray,Y.prototype.files=O.emptyArray,Y.prototype.p_version=0,Y.create=function(K){return new Y(K)},Y.encode=function(K,x){if(x=x||L.create(),K.product!=null&&Object.hasOwnProperty.call(K,"product")&&x.uint32(8).int32(K.product),K.response_compress!=null&&Object.hasOwnProperty.call(K,"response_compress")&&x.uint32(16).int32(K.response_compress),K.file_list!=null&&K.file_list.length)for(var X=0;X<K.file_list.length;++X)x.uint32(26).string(K.file_list[X]);if(K.param_list!=null&&K.param_list.length)for(X=0;X<K.param_list.length;++X)T.cloudsetting.Param.encode(K.param_list[X],x.uint32(34).fork()).ldelim();if(K.files!=null&&K.files.length)for(X=0;X<K.files.length;++X)T.cloudsetting.File.encode(K.files[X],x.uint32(42).fork()).ldelim();return K.p_version!=null&&Object.hasOwnProperty.call(K,"p_version")&&x.uint32(48).uint32(K.p_version),x},Y.decode=function(K,x){K instanceof $||(K=$.create(K));for(var X=x===void 0?K.len:K.pos+x,H=new T.cloudsetting.GetCloudSettingConfigRequest;K.pos<X;){var j=K.uint32();switch(j>>>3){case 1:H.product=K.int32();break;case 2:H.response_compress=K.int32();break;case 3:H.file_list&&H.file_list.length||(H.file_list=[]),H.file_list.push(K.string());break;case 4:H.param_list&&H.param_list.length||(H.param_list=[]),H.param_list.push(T.cloudsetting.Param.decode(K,K.uint32()));break;case 5:H.files&&H.files.length||(H.files=[]),H.files.push(T.cloudsetting.File.decode(K,K.uint32()));break;case 6:H.p_version=K.uint32();break;default:K.skipType(7&j)}}return H},Y),V.CloudSettingFileResponse=(Z.prototype.code=O.Long?O.Long.fromBits(0,0,!1):0,Z.prototype.message="",Z.prototype.file_name="",Z.prototype.global_version="",Z.prototype.version="",Z.prototype.app_version="",Z.prototype.json_data=O.newBuffer([]),Z.prototype.hash=O.newBuffer([]),Z.prototype.g_version=0,Z.create=function(K){return new Z(K)},Z.encode=function(K,x){return x=x||L.create(),K.code!=null&&Object.hasOwnProperty.call(K,"code")&&x.uint32(8).int64(K.code),K.message!=null&&Object.hasOwnProperty.call(K,"message")&&x.uint32(18).string(K.message),K.file_name!=null&&Object.hasOwnProperty.call(K,"file_name")&&x.uint32(26).string(K.file_name),K.global_version!=null&&Object.hasOwnProperty.call(K,"global_version")&&x.uint32(34).string(K.global_version),K.version!=null&&Object.hasOwnProperty.call(K,"version")&&x.uint32(42).string(K.version),K.app_version!=null&&Object.hasOwnProperty.call(K,"app_version")&&x.uint32(50).string(K.app_version),K.json_data!=null&&Object.hasOwnProperty.call(K,"json_data")&&x.uint32(58).bytes(K.json_data),K.hash!=null&&Object.hasOwnProperty.call(K,"hash")&&x.uint32(66).bytes(K.hash),K.g_version!=null&&Object.hasOwnProperty.call(K,"g_version")&&x.uint32(72).uint32(K.g_version),x},Z.decode=function(K,x){K instanceof $||(K=$.create(K));for(var X=x===void 0?K.len:K.pos+x,H=new T.cloudsetting.CloudSettingFileResponse;K.pos<X;){var j=K.uint32();switch(j>>>3){case 1:H.code=K.int64();break;case 2:H.message=K.string();break;case 3:H.file_name=K.string();break;case 4:H.global_version=K.string();break;case 5:H.version=K.string();break;case 6:H.app_version=K.string();break;case 7:H.json_data=K.bytes();break;case 8:H.hash=K.bytes();break;case 9:H.g_version=K.uint32();break;default:K.skipType(7&j)}}return H},Z),V.GetCloudSettingConfigResponse=(W.prototype.code=O.Long?O.Long.fromBits(0,0,!1):0,W.prototype.message="",W.prototype.polling_interval=0,W.prototype.file_response=O.emptyArray,W.create=function(K){return new W(K)},W.encode=function(K,x){if(x=x||L.create(),K.code!=null&&Object.hasOwnProperty.call(K,"code")&&x.uint32(8).int64(K.code),K.message!=null&&Object.hasOwnProperty.call(K,"message")&&x.uint32(18).string(K.message),K.polling_interval!=null&&Object.hasOwnProperty.call(K,"polling_interval")&&x.uint32(24).int32(K.polling_interval),K.file_response!=null&&K.file_response.length)for(var X=0;X<K.file_response.length;++X)T.cloudsetting.CloudSettingFileResponse.encode(K.file_response[X],x.uint32(34).fork()).ldelim();return x},W.decode=function(K,x){K instanceof $||(K=$.create(K));for(var X=x===void 0?K.len:K.pos+x,H=new T.cloudsetting.GetCloudSettingConfigResponse;K.pos<X;){var j=K.uint32();switch(j>>>3){case 1:H.code=K.int64();break;case 2:H.message=K.string();break;case 3:H.polling_interval=K.int32();break;case 4:H.file_response&&H.file_response.length||(H.file_response=[]),H.file_response.push(T.cloudsetting.CloudSettingFileResponse.decode(K,K.uint32()));break;default:K.skipType(7&j)}}return H},W),V),q.exports=T}],Q.c=U,Q.d=function(q,te,F){Q.o(q,te)||Object.defineProperty(q,te,{enumerable:!0,get:F})},Q.r=function(q){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})},Q.t=function(q,te){if(1&te&&(q=Q(q)),8&te||4&te&&typeof q=="object"&&q&&q.__esModule)return q;var F=Object.create(null);if(Q.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:q}),2&te&&typeof q!="string")for(var V in q)Q.d(F,V,(function(z){return q[z]}).bind(null,V));return F},Q.n=function(q){var te=q&&q.__esModule?function(){return q.default}:function(){return q};return Q.d(te,"a",te),te},Q.o=function(q,te){return Object.prototype.hasOwnProperty.call(q,te)},Q.p="",Q(Q.s=8))},function(_,m,I){var Q;_.exports=(Q=I(1),function(){var p,u;typeof ArrayBuffer=="function"&&(p=Q.lib.WordArray,u=p.init,(p.init=function(y){if((y=(y=y instanceof ArrayBuffer?new Uint8Array(y):y)instanceof Int8Array||typeof Uint8ClampedArray<"u"&&y instanceof Uint8ClampedArray||y instanceof Int16Array||y instanceof Uint16Array||y instanceof Int32Array||y instanceof Uint32Array||y instanceof Float32Array||y instanceof Float64Array?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):y)instanceof Uint8Array){for(var N=y.byteLength,U=[],q=0;q<N;q++)U[q>>>2]|=y[q]<<24-q%4*8;u.call(this,U,N)}else u.apply(this,arguments)}).prototype=p)}(),Q.lib.WordArray)},function(_,m){var I=function(){return this}();try{I=I||new Function("return this")()}catch{typeof window=="object"&&(I=window)}_.exports=I},function(_,m){},function(_,m,I){var Q;_.exports=(_=I(1),Q=_.lib.WordArray,_.enc.Base64={stringify:function(p){for(var u=p.words,y=p.sigBytes,N=this._map,U=(p.clamp(),[]),q=0;q<y;q+=3)for(var te=(u[q>>>2]>>>24-q%4*8&255)<<16|(u[q+1>>>2]>>>24-(q+1)%4*8&255)<<8|u[q+2>>>2]>>>24-(q+2)%4*8&255,F=0;F<4&&q+.75*F<y;F++)U.push(N.charAt(te>>>6*(3-F)&63));var V=N.charAt(64);if(V)for(;U.length%4;)U.push(V);return U.join("")},parse:function(p){var u=p.length,y=this._map;if(!(N=this._reverseMap))for(var N=this._reverseMap=[],U=0;U<y.length;U++)N[y.charCodeAt(U)]=U;var q=y.charAt(64);return q&&(q=p.indexOf(q))!==-1&&(u=q),function(te,F,V){for(var z,$,L=[],O=0,T=0;T<F;T++)T%4&&(z=V[te.charCodeAt(T-1)]<<T%4*2,$=V[te.charCodeAt(T)]>>>6-T%4*2,L[O>>>2]|=(z|$)<<24-O%4*8,O++);return Q.create(L,O)}(p,u,N)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},_.enc.Base64)},function(_,m,I){var Q,p,u,y;_.exports=(_=I(1),y=(I=_).lib,Q=y.WordArray,p=y.Hasher,y=I.algo,u=[],y=y.SHA1=p.extend({_doReset:function(){this._hash=new Q.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(N,U){for(var q=this._hash.words,te=q[0],F=q[1],V=q[2],z=q[3],$=q[4],L=0;L<80;L++){L<16?u[L]=0|N[U+L]:(O=u[L-3]^u[L-8]^u[L-14]^u[L-16],u[L]=O<<1|O>>>31);var O=(te<<5|te>>>27)+$+u[L];O+=L<20?1518500249+(F&V|~F&z):L<40?1859775393+(F^V^z):L<60?(F&V|F&z|V&z)-1894007588:(F^V^z)-899497514,$=z,z=V,V=F<<30|F>>>2,F=te,te=O}q[0]=q[0]+te|0,q[1]=q[1]+F|0,q[2]=q[2]+V|0,q[3]=q[3]+z|0,q[4]=q[4]+$|0},_doFinalize:function(){var N=this._data,U=N.words,q=8*this._nDataBytes,te=8*N.sigBytes;return U[te>>>5]|=128<<24-te%32,U[14+(64+te>>>9<<4)]=Math.floor(q/4294967296),U[15+(64+te>>>9<<4)]=q,N.sigBytes=4*U.length,this._process(),this._hash},clone:function(){var N=p.clone.call(this);return N._hash=this._hash.clone(),N}}),I.SHA1=p._createHelper(y),I.HmacSHA1=p._createHmacHelper(y),_.SHA1)},function(_,m,I){var Q;_.exports=(_=I(1),I=_.lib.Base,Q=_.enc.Utf8,void(_.algo.HMAC=I.extend({init:function(p,u){p=this._hasher=new p.init,typeof u=="string"&&(u=Q.parse(u));for(var y=p.blockSize,N=4*y,U=(p=((u=u.sigBytes>N?p.finalize(u):u).clamp(),this._oKey=u.clone()),u=this._iKey=u.clone(),p.words),q=u.words,te=0;te<y;te++)U[te]^=1549556828,q[te]^=909522486;p.sigBytes=u.sigBytes=N,this.reset()},reset:function(){var p=this._hasher;p.reset(),p.update(this._iKey)},update:function(p){return this._hasher.update(p),this},finalize:function(p){var u=this._hasher;return p=u.finalize(p),u.reset(),u.finalize(this._oKey.clone().concat(p))}})))},function(_,m,I){var Q,p,u,y,N,U,q,te,F,V,z,$;_.exports=(_=I(1),I(9),void(_.lib.Cipher||(I=_.lib,Q=I.Base,p=I.WordArray,u=I.BufferedBlockAlgorithm,(F=_.enc).Utf8,y=F.Base64,N=_.algo.EvpKDF,U=I.Cipher=u.extend({cfg:Q.extend(),createEncryptor:function(L,O){return this.create(this._ENC_XFORM_MODE,L,O)},createDecryptor:function(L,O){return this.create(this._DEC_XFORM_MODE,L,O)},init:function(L,O,T){this.cfg=this.cfg.extend(T),this._xformMode=L,this._key=O,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(L){return this._append(L),this._process()},finalize:function(L){return L&&this._append(L),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function L(O){return typeof O=="string"?$:V}return function(O){return{encrypt:function(T,w,k){return L(w).encrypt(O,T,w,k)},decrypt:function(T,w,k){return L(w).decrypt(O,T,w,k)}}}}()}),I.StreamCipher=U.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),F=_.mode={},q=I.BlockCipherMode=Q.extend({createEncryptor:function(L,O){return this.Encryptor.create(L,O)},createDecryptor:function(L,O){return this.Decryptor.create(L,O)},init:function(L,O){this._cipher=L,this._iv=O}}),F=F.CBC=function(){var L=q.extend();function O(T,w,k){var Y,Z=this._iv;Z?(Y=Z,this._iv=void 0):Y=this._prevBlock;for(var W=0;W<k;W++)T[w+W]^=Y[W]}return L.Encryptor=L.extend({processBlock:function(T,w){var k=this._cipher,Y=k.blockSize;O.call(this,T,w,Y),k.encryptBlock(T,w),this._prevBlock=T.slice(w,w+Y)}}),L.Decryptor=L.extend({processBlock:function(T,w){var k=this._cipher,Y=k.blockSize,Z=T.slice(w,w+Y);k.decryptBlock(T,w),O.call(this,T,w,Y),this._prevBlock=Z}}),L}(),z=(_.pad={}).Pkcs7={pad:function(L,O){for(var T=(O=4*O)-L.sigBytes%O,w=T<<24|T<<16|T<<8|T,k=[],Y=0;Y<T;Y+=4)k.push(w);O=p.create(k,T),L.concat(O)},unpad:function(L){var O=255&L.words[L.sigBytes-1>>>2];L.sigBytes-=O}},I.BlockCipher=U.extend({cfg:U.cfg.extend({mode:F,padding:z}),reset:function(){U.reset.call(this);var L,O=(T=this.cfg).iv,T=T.mode;this._xformMode==this._ENC_XFORM_MODE?L=T.createEncryptor:(L=T.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==L?this._mode.init(this,O&&O.words):(this._mode=L.call(T,this,O&&O.words),this._mode.__creator=L)},_doProcessBlock:function(L,O){this._mode.processBlock(L,O)},_doFinalize:function(){var L,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),L=this._process(!0)):(L=this._process(!0),O.unpad(L)),L},blockSize:4}),te=I.CipherParams=Q.extend({init:function(L){this.mixIn(L)},toString:function(L){return(L||this.formatter).stringify(this)}}),F=(_.format={}).OpenSSL={stringify:function(L){var O=L.ciphertext;return(L=(L=L.salt)?p.create([1398893684,1701076831]).concat(L).concat(O):O).toString(y)},parse:function(L){var O,T=(L=y.parse(L)).words;return T[0]==1398893684&&T[1]==1701076831&&(O=p.create(T.slice(2,4)),T.splice(0,4),L.sigBytes-=16),te.create({ciphertext:L,salt:O})}},V=I.SerializableCipher=Q.extend({cfg:Q.extend({format:F}),encrypt:function(L,O,T,w){w=this.cfg.extend(w),O=(k=L.createEncryptor(T,w)).finalize(O);var k=k.cfg;return te.create({ciphertext:O,key:T,iv:k.iv,algorithm:L,mode:k.mode,padding:k.padding,blockSize:L.blockSize,formatter:w.format})},decrypt:function(L,O,T,w){return w=this.cfg.extend(w),O=this._parse(O,w.format),L.createDecryptor(T,w).finalize(O.ciphertext)},_parse:function(L,O){return typeof L=="string"?O.parse(L,this):L}}),z=(_.kdf={}).OpenSSL={execute:function(L,O,T,w){return w=w||p.random(8),L=N.create({keySize:O+T}).compute(L,w),T=p.create(L.words.slice(O),4*T),L.sigBytes=4*O,te.create({key:L,iv:T,salt:w})}},$=I.PasswordBasedCipher=V.extend({cfg:V.cfg.extend({kdf:z}),encrypt:function(L,O,T,w){return T=(w=this.cfg.extend(w)).kdf.execute(T,L.keySize,L.ivSize),w.iv=T.iv,(L=V.encrypt.call(this,L,O,T.key,w)).mixIn(T),L},decrypt:function(L,O,T,w){return w=this.cfg.extend(w),O=this._parse(O,w.format),T=w.kdf.execute(T,L.keySize,L.ivSize,O.salt),w.iv=T.iv,V.decrypt.call(this,L,O,T.key,w)}}))))},function(_,m,I){I.r(m),I.d(m,"ZegoExpressWebRTMEngine",function(){return Aa}),I.d(m,"getReportSeq",function(){return $}),I.d(m,"getSeq",function(){return z}),I.d(m,"ZegoLogger",function(){return p.ZegoLogger}),I.d(m,"ZegoDataReport",function(){return p.ZegoDataReport}),I.d(m,"ZegoExpressWebRTM",function(){return Pi}),I.d(m,"BusinessService",function(){return K}),I.d(m,"NetConnection",function(){return j}),I.d(m,"ZReporter",function(){return aa});var Q,p=I(3);(m=Q=Q||{})[m.SWITCH_ONE=1]="SWITCH_ONE",m[m.SWITCH_TWO=2]="SWITCH_TWO";var u,y,N,U,q,te,F,V,z=((m=u=u||{})[m.TT_NONE=0]="TT_NONE",m[m.TT_PC=1]="TT_PC",m[m.TT_IOS=2]="TT_IOS",m[m.TT_ANDROID=3]="TT_ANDROID",m[m.TT_MAC=4]="TT_MAC",m[m.TT_LINUX=5]="TT_LINUX",m[m.TT_WEB=6]="TT_WEB",m[m.TT_MINIPROGRAM=7]="TT_MINIPROGRAM",m[m.TT_UNKNOWN=32]="TT_UNKNOWN",(m=y=y||{})[m.logout=0]="logout",m[m.trylogin=1]="trylogin",m[m.login=2]="login",(m=N=N||{})[m.I=0]="I",m[m.H=10]="H",m[m.M=100]="M",m[m.L=1e3]="L",(m=U=U||{})[m.offline=0]="offline",m[m.online=1]="online",(m=q=q||{})[m.NT_NONE=0]="NT_NONE",m[m.NT_LINE=1]="NT_LINE",m[m.NT_WIFI=2]="NT_WIFI",m[m.NT_2G=3]="NT_2G",m[m.NT_3G=4]="NT_3G",m[m.NT_4G=5]="NT_4G",m[m.NT_UNKNOWN=32]="NT_UNKNOWN",(m=te=te||{})[m.ClientType_None=0]="ClientType_None",m[m.ClientType_H5=1]="ClientType_H5",m[m.ClientType_SmallProgram=2]="ClientType_SmallProgram",m[m.ClientType_Webrtc=3]="ClientType_Webrtc",function(){return F++}),$=(V=F=1,function(){return V++}),L=(Object.defineProperty(O.prototype,"id",{get:function(){return this._id||null},set:function(C){this._id=C},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"data",{get:function(){return this._data},set:function(C){this._data=C},enumerable:!1,configurable:!0}),O.prototype.hasNext=function(){return this.next&&this.next.id},O.prototype.hasPrev=function(){return this.prev&&this.prev.id},O);function O(C,P){C===void 0&&(C=null),P===void 0&&(P=null),this.next=null,this.prev=null,this._id=C,this._data=P}w.prototype.insertBefore=function(C,P){return(P=new L(this._idCounter,P)).next=C,P.prev=C.prev,C.prev&&(C.prev.next=P),C.prev=P,++this._idCounter,++this._numNodes,P},w.prototype.addLast=function(C){return this.insertBefore(this.end,C)},w.prototype.add=function(C){return this.addLast(C)},w.prototype.getFirst=function(){return this._numNodes===0?null:this.start.next},w.prototype.getLast=function(){return this._numNodes===0?null:this.end.prev},w.prototype.size=function(){return this._numNodes},w.prototype.getFromFirst=function(C){var P=0,re=this.start.next;if(0<=C)for(;P<C&&re!==null;)re=re.next,++P;else re=null;if(re===null)throw"Index out of bounds.";return re},w.prototype.get=function(C){return C===0?this.getFirst():C===this._numNodes-1?this.getLast():this.getFromFirst(C)},w.prototype.remove=function(C){return C.prev&&(C.prev.next=C.next),C.next&&(C.next.prev=C.prev),--this._numNodes,C},w.prototype.removeFirst=function(){var C=null;return 0<this._numNodes&&this.start.next?this.remove(this.start.next):C},w.prototype.removeLast=function(){var C=null;return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):C},w.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},w.prototype.each=function(C){for(var P=this.start;P.hasNext();)C(P=P.next)},w.prototype.find=function(C){for(var P=this.start,re=!1,ye=null;P.hasNext()&&!re;)C(P=P.next)&&(ye=P,re=!0);return ye},w.prototype.map=function(C){for(var P=this.start,re=[];P.hasNext();)C(P=P.next)&&re.push(P);return re},w.prototype.push=function(C){return this.addLast(C)},w.prototype.unshift=function(C){0<this._numNodes?this.insertBefore(this.start.next,C):this.insertBefore(this.end,C)},w.prototype.pop=function(){return this.removeLast()},w.prototype.shift=function(){return this.removeFirst()};var T=w;function w(){this.start=new L,this.end=new L,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}var k,Y,Z,W,K,x,X="",H=I(10).ZegoConnectionAgent,j=(Object.defineProperty(ae.prototype,"clientIP",{get:function(){var C;return((C=this.connection)==null?void 0:C.clientIP)||""},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"timeOffset",{get:function(){var C;return(C=this.connection)==null?void 0:C.timeOffset},enumerable:!1,configurable:!0}),ae.prototype.init=function(){var C;(C=this.connection)!=null&&C.init()},ae.prototype.unInit=function(){var C;(C=this.connection)!=null&&C.unInit()},ae.prototype.setAppInfo=function(C){var P;(P=this.connection)!=null&&P.setAppInfo(C)},ae.prototype.setUserInfo=function(C){var P;(P=this.connection)!=null&&P.setUserInfo(C)},ae.prototype.setNetAgentDefaultServers=function(C){var P;(P=this.connection)!=null&&P.setNetAgentDefaultServers(C)},ae.prototype.setBackupDomains=function(C){var P;(P=this.connection)!=null&&P.setBackupDomains(C)},ae.prototype.setDispatchConnectServers=function(C){var P;(P=this.connection)!=null&&P.setDispatchConnectServers(C)},ae.prototype.setNetAgentSpecifiedServers=function(C){var P;(P=this.connection)!=null&&P.setNetAgentSpecifiedServers(C)},ae.prototype.startHttpRequest=function(C,P,re,ye,we){var Le;(Le=this.connection)!=null&&Le.startHttpRequest(C,P,re,ye,we)},ae.prototype.startHttpRequest2=function(C,P,re,ye,we){var Le;(Le=this.connection)!=null&&Le.startHttpRequest2(C,P,re,ye,we)},ae.prototype.getAppConfigByAgent=function(C,P,re,ye){var we;return(we=this.connection)==null?void 0:we.getAppConfigByAgent(C,P,re,ye)},ae.prototype.getPCRequest=function(C,P){var re;return((re=this.connection)==null?void 0:re.getPCRequest(C,P))||null},ae.prototype.connectUa=function(){var C;(C=this.connection)!=null&&C.connectUa()},ae.prototype.destroyConnect=function(){var C;(C=this.connection)!=null&&C.destroyConnect()},ae.prototype.destroy=function(){var C;(C=this.connection)!=null&&C.destroy()},ae.prototype.isConnect=function(){return!!this.connection&&this.connection.isConnect()},ae.prototype.on=function(C,P){var re;return((re=this.connection)==null?void 0:re.on(C,P))||!0},ae.prototype.off=function(C,P){var re;return(re=this.connection)==null?void 0:re.off(C,P)},ae.prototype.setLogger=function(C){var P;return(P=this.connection)==null?void 0:P.setLogger(C)},ae.prototype.setAccess=function(C){var P;return(P=this.connection)==null?void 0:P.setAccess(C)},ae.prototype.getNTP=function(){var C;return((C=this.connection)==null?void 0:C.getNetworkTimeInfo())||{timestamp:0,maxDeviation:0}},ae);function ae(){this.connection=null,this.isLoad=!1,this.callBackList=[],this.connection=new H}(m=k=k||{})[m.AUTO=0]="AUTO",m[m.MANUAL=1]="MANUAL",(m=Y=Y||{})[m.EMPTY=0]="EMPTY",m[m.CLOSE=1]="CLOSE",(m=Z=Z||{})[m.Mode_UNSET=0]="Mode_UNSET",m[m.MODE_ONLINE=1]="MODE_ONLINE",m[m.MODE_TEST=2]="MODE_TEST",m[m.MODE_ALPHA=3]="MODE_ALPHA",(m=W=W||{})[m.CLOSE=0]="CLOSE",m[m.TEMP=1]="TEMP",m[m.TIMEOUT=2]="TIMEOUT",(m=K=K||{})[m.SERVICE_UNSET=0]="SERVICE_UNSET",m[m.SERVICE_MEDIAGW=1]="SERVICE_MEDIAGW",m[m.SERVICE_LIVEROOM=2]="SERVICE_LIVEROOM",m[m.SERVICE_MIX=3]="SERVICE_MIX",m[m.SERVICE_ZEUS=4]="SERVICE_ZEUS",m[m.SERVICE_ZPUSH=5]="SERVICE_ZPUSH",m[m.SERVICE_L3=6]="SERVICE_L3",m[m.SERVICE_TALKLINE=7]="SERVICE_TALKLINE",m[m.SERVICE_EDUSUITE=8]="SERVICE_EDUSUITE",m[m.SERVICE_ZIM=9]="SERVICE_ZIM",m[m.SERVICE_ClOUD_SETTING=10]="SERVICE_ClOUD_SETTING",m[m.SERVICE_ZEUSHB=11]="SERVICE_ZEUSHB",m[m.SERVICE_USER_LOGIC=12]="SERVICE_USER_LOGIC",m[m.SERVICE_UNIFYDISPATCH=13]="SERVICE_UNIFYDISPATCH",m[m.SERVICE_QUALITY=14]="SERVICE_QUALITY",m[m.SERVICE_SECURITY=15]="SERVICE_SECURITY",m[m.SERVICE_KTVCPR=16]="SERVICE_KTVCPR",m[m.SERVICE_SWITCH4LIVEROOM=17]="SERVICE_SWITCH4LIVEROOM",m[m.SERVICE_WEBRTC_SIGNAL=18]="SERVICE_WEBRTC_SIGNAL",m[m.SERVICE_L3_WEBRTC_SIGNAL=19]="SERVICE_L3_WEBRTC_SIGNAL",m[m.SERVICE_VIDEOCPR=20]="SERVICE_VIDEOCPR",m[m.SERVICE_CDN=21]="SERVICE_CDN",m[m.SERVICE_CLOUDRECORD=22]="SERVICE_CLOUDRECORD",m[m.SERVICE_INNER_ECHO=23]="SERVICE_INNER_ECHO",m[m.SERVICE_OUTER_ECHO=24]="SERVICE_OUTER_ECHO",m[m.SERVICE_LOCALHOST_ECHO=25]="SERVICE_LOCALHOST_ECHO",m[m.SERVICE_ECHO=26]="SERVICE_ECHO",m[m.SERVICE_DOCSERVICE=27]="SERVICE_DOCSERVICE",m[m.SERVICE_AUTHSVR=28]="SERVICE_AUTHSVR",(m=x=x||{}).Logining="LOGINING",m.Logined="LOGINED",m.LoginFailed="LOGIN_FAILED",m.Reconnecting="RECONNECTING",m.Reconnected="RECONNECTED",m.ReconnectFailed="RECONNECT_FAILED",m.Kickout="KICKOUT",m.Logout="LOGOUT",m.LogoutFailed="LOGOUT_FAILED";var ce={SERVER:{code:0,msg:"liverooom cmd error"},SUCCESS:{code:0,msg:"success."},INIT:{code:2000000001,msg:"init sdk wrong"},NOT_LOGIN:{code:1000002,msg:"not login"},APPID_INVALID:{code:1001004,msg:"appid invalid"},NETWORK_BROKEN:{code:1000017,msg:"network is broken"},GEO_SET_ERROR:{code:1000018,msg:"geo set error"},INPUT_PARAM:{code:1100001,msg:"input parm error."},TIMEOUT:{code:1100002,msg:"network timeout."},SOCKET_CLOSE:{code:1100003,msg:"socket close"},NET_SOCKET_TIMEOUT:{code:1100004,msg:"net agent timeout"},NET_HB_TIMEOUT:{code:1100005,msg:"net hb timeout"},INIT_SDK_WRONG:{code:1101e3,msg:"init sdk wrong"},ROOM_COUNT_EXCEED:{code:1002001,msg:"login rooms exceeds the upper limit"},USER_ID_NULL:{code:1002005,msg:"user ID is empty"},USER_ID_INVALID_CHARACTER:{code:1002006,msg:"user ID contains illegal characters"},USER_ID_TOO_LONG:{code:1002007,msg:"user ID is too long"},USER_NAME_NULL:{code:1002008,msg:"username is empty"},USER_NAME_TOO_LONG:{code:1002010,msg:"username is too long"},ROOM_ID_NULL:{code:1002011,msg:"room ID is empty"},ROOM_ID_INVALID_CHARACTER:{code:1002012,msg:"room ID contains illegal characters"},ROOM_ID_TOO_LONG:{code:1002013,msg:"room ID is too long"},ROOM_NOT_EXIST:{code:1002014,msg:"room not exist"},ROOM_EXTRA_INFO_KEY_LIMIT:{code:1002017,msg:"room extra info key exceed the limit"},LOGIN_TIMEOUT:{code:1002031,msg:"login timeout"},ROOM_MAX_USER_COUNT:{code:1002034,msg:"users logging into the room exceeds the maximum number"},MULTI_ROOM_UNABLE:{code:1002036,msg:"multi room unable"},MULTIPLE_LOGIN_KICKOUT:{code:1002050,msg:"kickout may be the same user ID login other"},NETWORK_RECOVERY:{code:1002051,msg:"network recovery"},ROOM_RETRY_TIMEOUT:{code:1002053,msg:"network is broken and login fail."},MANUAL_KICKOUT:{code:1002055,msg:"server has sent a signal to kick out"},REPEATEDLY_LOGIN:{code:1002056,msg:"user repeatedly login"},REPEATEDLY_ENTER_ROOM:{code:1002057,msg:"user repeatedly enter room"},ALREADY_LOGIN:{code:1002058,msg:"user already logged in"},FORBID_BLACK_USER:{code:1002066,msg:"forbid black user"},WHITE_BOARD_VERSION_ERROR:{code:1002098,msg:"Mismatch with RTC SDK version, please upgrade ZegoSuperBoard or ZegoWhiteboardView SDK to the latest version"},ROOM_INNER_ERROR:{code:1002099,msg:"room inner error"},HEARTBEAT_TIMEOUT:{code:1102001,msg:"heartbeat timeout."},PARSE_JSON_ERROR:{code:1102011,msg:"parse json error."},LOGIN_PROCESSING:{code:1102012,msg:"login is processing."},LIVEROMM_REQUEST_ERROR:{code:1102013,msg:"liveroom request error."},ZPUSH_REQUEST_FAIL:{code:1102014,msg:"zpush request fail."},LOGIN_STATE_WRONG:{code:1102015,msg:"user login state is wrong."},TOKEN_ERROR:{code:1102016,msg:"token error"},DIAPATCH_ERROR:{code:1102017,msg:"dispatch error"},TOKEN_EXPIRED:{code:1102018,msg:"token expired"},SUBCMD_ERROR:{code:1102019,msg:"subcmd error."},ZEGO_AUTH_ERROR:{code:1102020,msg:"zego auth error."},BIZ_CHANNEL_ERROR:{code:1102021,msg:"biz channel error."},UPLOAD_LOG_ERROR:{code:1102025,msg:"upload zip logs failed"}},ne=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],Qe=(m=I(5),I.n(m)),De=(m=I(6),I.n(m));function Fe(){var C=window.navigator.userAgent,P=window.ActiveXObject!=null&&C.indexOf("MSIE")!=-1,re=C.indexOf("Firefox")!=-1,ye=window.opr!=null,we=C.indexOf("Chrome")&&window.chrome;return C=C.indexOf("Safari")!=-1&&C.indexOf("Version")!=-1,P?"IE":re?"Firefox":ye?"Opera":we?"Chrome":C?"Safari":"Unkown"}function pe(){var C=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return((C==null?void 0:C.effectiveType)||(C==null?void 0:C.type)||"unknwon").toUpperCase()}function ot(C,P){return Qe.a.encrypt(C,P).toString()}function ft(C,P){try{return Qe.a.decrypt(C,P).toString(De.a)}catch{return""}}function yt(C,P){return!(C=((C==null?void 0:C.replace("webliveroom","-"))||"").split("-")||[])[1]||!/\d*/i.test(C[1])||+C[1]==P}function Ot(C,P){try{localStorage.setItem(C,P)}catch{}}function ge(C){try{return localStorage.getItem(C)}catch{}}var Ee=function(){return(Ee=Object.assign||function(C){for(var P,re=1,ye=arguments.length;re<ye;re++)for(var we in P=arguments[re])Object.prototype.hasOwnProperty.call(P,we)&&(C[we]=P[we]);return C}).apply(this,arguments)},fe=(ie.checkConfigParam=function(C,P,re){return C&&typeof C=="number"&&this.checkInteger(C)?!(!P||typeof P!="string"&&!Array.isArray(P)||P=="")||(re.error("ccp.0 server must be string or string array and not empty"),!1):(re.error("ccp.0 appid must be positive integer number and not empty"),!1)},ie.checkPriConfigParam=function(C,P,re,ye,we){return C&&typeof C=="number"&&this.checkInteger(C)?P&&typeof P=="string"?typeof re!="object"||typeof re.deviceID!="string"?(we.error("ccp.0 deviceID must be string and not empty"),!1):ye===1||ye===0||(we.error("ccp.0 anType must be 0 or 1"),!1):(we.error("ccp.0 dispatchServer must be string and not empty"),!1):(we.error("ccp.0 appid must be positive integer number and not empty"),!1)},ie.checkIllegalCharacters=function(C){return/^([0-9a-zA-Z#!$%&()`'+-;<=.>@^_~,\\*])+$/.test(C)&&/^[^:/]*$/g.test(C)},ie.registerCallback=function(C,P,re){var ye;P.success&&(ye=P.success,re[C+"SuccessCallback"]=ye),P.error&&(ye=P.error,re[C+"ErrorCallback"]=ye)},ie.actionErrorCallback=function(C,P){return P[C+"ErrorCallback"]},ie.actionSuccessCallback=function(C,P){return P[C+"SuccessCallback"]},ie.logReportCallback=function(C,P,re,ye){ie.registerCallback(C,{success:function(we,Le){for(var at=[],Qt=2;Qt<arguments.length;Qt++)at[Qt-2]=arguments[Qt];ie.dataReportEvent(P,re,we,Le,at)}},ye)},ie.proxyRes=function(C,P,re,ye){return{interResolve:function(we){C.uploadReport(P),re(we)},interReject:function(we,Le){var at;Le===void 0&&(Le=""),(at=we.code<2e9&&1e9<we.code?ie.decodeServerError(we.code,we.msg):{code:we.code,message:we.msg})&&C.addMsgInfo(P,{error:at.code,message:at.message+Le}),C.uploadReport(P),ye({errorCode:we.code||we.errorCode})}}},ie.getServerError=function(C){var P,re,ye={1:"parse json error.",1001:"login is processing.",1002:"liveroom request error.",1003:"zpush connect fail.",1004:"zpush handshake fail.",1005:"zpush login fail.",1006:"user login state is wrong.",1007:"got no zpush addr",1008:"token error",1009:"dispatch error",1010:"token expired",1011:"token format error",2002:"biz channel error",1e9:"liveroom cmd error, code:",1000002001:"need relogin",1000002002:"third token auth error",1000002003:"token nonce type should be int64",1000002004:"token appid type  should be uint32",1000002005:"token timeout type should be int64",1000002006:"token user_id type should be string",1000002007:"token room_id type should be string",1000002008:"token format error",1000002009:"token privilege type should be map",1000002010:"token expire_time type should be int64",1000002011:"token user_id type should be string",1000002012:"token not exist",1000002013:"token update error",1000002014:"token not need to check"};return C===0?ce.SUCCESS:((P=Ee({},ce.ROOM_INNER_ERROR)).code=C,P.msg=1e9<C?(re=ye[C])?"liveroom cmd error, code: "+C+", message: "+re:ye[1e9]+C:ye[C]?ye[C]+" code:"+C:"unknown error code:"+C,P)},ie.unregisterCallback=function(C,P){delete P[C+"SuccessCallback"],delete P[C+"ErrorCallback"]},ie.decodeServerError=function(C,P){var re={code:-1,message:"server error"};return re.code=1e9<C?C-1e9+52e6:C+2002e6,P&&(re.message=P),re},ie.getLiveRoomError=function(C,P){var re={1016:"MULTI_ROOM_UNABLE",1105:"ROOM_MAX_USER_COUNT",1012:"PUBLISHER_ERROR_REPETITIVE_PUBLISH_STREAM",2002:"TOKEN_ERROR",2003:"ROOM_ERROR_LOGIN_TIMEOUT",2010:"TOKEN_ERROR",5022:"ROOM_COUNT_EXCEED",5030:"FORBID_BLACK_USER"};return P?2e5<C&&C<3e5?re[C-2e5]:C<2e5?{50116:"TOKEN_ERROR",50117:"TOKEN_EXPIRED",50118:"TOKEN_ERROR",50119:"TOKEN_ERROR",50120:"TOKEN_ERROR",50121:"TOKEN_ERROR",50122:"TOKEN_ERROR",50123:"TOKEN_EXPIRED",50124:"TOKEN_ERROR",50125:"TOKEN_ERROR",50126:"TOKEN_ERROR",50127:"TOKEN_ERROR",50128:"TOKEN_ERROR"}[C]||re[C]||"ROOM_INNER_ERROR":re[C]||"ROOM_INNER_ERROR":1e9<C?re[C-1e9]||"":{1:"PARSE_JSON_ERROR",1001:"LOGIN_PROCESSING",1002:"LIVEROMM_REQUEST_ERROR",1003:"ZPUSH_REQUEST_FAIL",1004:"ZPUSH_REQUEST_FAIL",1005:"ZPUSH_REQUEST_FAIL",1006:"LOGIN_STATE_WRONG",1007:"ZPUSH_REQUEST_FAIL",1008:"TOKEN_ERROR",1009:"DIAPATCH_ERROR",1010:"TOKEN_EXPIRED",1011:"TOKEN_ERROR",1012:"SUBCMD_ERROR",1101:"ZEGO_AUTH_ERROR",2001:"BIZ_CHANNEL_ERROR",2002:"BIZ_CHANNEL_ERROR"}[C]||"ROOM_INNER_ERROR"},ie.getKickoutError=function(C,P){var re={code:C,message:"kickout reason = "+C};if(P)switch(C){case 1:re.code=63000001,re.message="zpush multiple login kickout",re.name="MULTIPLE_LOGIN_KICKOUT";break;case 2:re.code=63000002,re.message="zpush manual kickout",re.name="MANUAL_KICKOUT";break;case 4:re.code=63000005,re.message="zpush token expired",re.name="TOKEN_EXPIRED";break;default:re.code=C,re.message="kickout reason = "+C}else switch(C){case 1:re.code=63000001,re.message="zpush multiple login kickout",re.name="MULTIPLE_LOGIN_KICKOUT";break;case 2:re.code=63000002,re.message="zpush manual kickout",re.name="MANUAL_KICKOUT";break;case 3:re.code=63000003,re.message="kickout reason = "+C;break;case 4:re.code=63000004,re.message="zpush multiple login kickout",re.name="MULTIPLE_LOGIN_KICKOUT";break;case 5:re.code=63000005,re.message="zpush token expired",re.name="TOKEN_EXPIRED";break;default:re.code=C,re.message="kickout reason = "+C}return re},ie.dataReportEvent=function(C,P,re,ye,we){switch(re){case"eventStart":C.eventStart(P,ye);break;case"eventEndWithMsgInfo":C.eventEndWithMsgInfo(P,ye,we[0]);break;case"addEventMsg":C.addEventMsg(P,ye,we[0],we[1]);break;case"addEvent":C.addEvent(P,ye);break;case"eventEnd":C.eventEnd(P,ye);break;case"addMsgInfo":C.addMsgInfo(P,we[0])}},ie.mergeUserList=function(C,P,re,ye){C.debug("msl.0 call");var we=[],Le=[];re=re||[];for(var at=0;at<re.length;at++){for(var Qt=!1,Rt=0;Rt<P.length;Rt++)if(re[at].userID===P[Rt].userID){Qt=!0;break}Qt||we.push(re[at])}for(var Jt=0;Jt<P.length;Jt++){Qt=!1;for(var qt=0;qt<re.length;qt++)if(P[Jt].userID===re[qt].userID){Qt=!0;break}Qt||Le.push(P[Jt])}for(P.splice(0),at=0;at<re.length;at++)P.push(P[at]);ye(we,Le),C.debug("msl.0 call success")},ie.checkInteger=function(C,P){return P==0?typeof C=="number"&&C%1==0&&0<=C:typeof C=="number"&&C%1==0&&0<C},ie.checkValidNumber=function(C,P,re){return P=P||1,re=re||1e4,typeof C=="number"&&C%1==0&&P<=C&&C<=re},ie.generateRandumNumber=function(C){return parseInt(Math.random()*(C+1)+"",10)},ie.uuid=function(C,P){var re,ye,we="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Le=[];if(P=P||we.length,C)for(re=0;re<C;re++)Le[re]=we[0|Math.random()*P];else for(Le[8]=Le[13]=Le[18]=Le[23]="-",Le[14]="4",re=0;re<36;re++)Le[re]||(ye=0|16*Math.random(),Le[re]=we[re==19?3&ye|8:ye]);return Le.join("")},ie.isTestEnv=function(C){return!(!C.startsWith("wss")||C.indexOf("test")===-1||!C.endsWith("ws"))},ie.getUint64=function(C,P,re){var ye=re.getUint32(C,P);return re=re.getUint32(C+4,P),C=P?ye+Math.pow(2,32)*re:Math.pow(2,32)*ye+re,Number.isSafeInteger(C)||console.warn(C,"exceeds MAX_SAFE_INTEGER. Precision may be lost"),C},ie.decodeTokenExpire=function(C){try{var P,re=Uint8Array.from(function(we){for(var Le,at,Qt,Rt,Jt=we.length,qt=0,Wt="";qt<Jt;){for(;Le=ne[255&we.charCodeAt(qt++)],qt<Jt&&Le==-1;);if(Le==-1)break;for(;at=ne[255&we.charCodeAt(qt++)],qt<Jt&&at==-1;);if(at==-1)break;Wt+=String.fromCharCode(Le<<2|(48&at)>>4);do if((Qt=255&we.charCodeAt(qt++))==61)return Wt;while(Qt=ne[Qt],qt<Jt&&Qt==-1);if(Qt==-1)break;Wt+=String.fromCharCode((15&at)<<4|(60&Qt)>>2);do if((Rt=255&we.charCodeAt(qt++))==61)return Wt;while(Rt=ne[Rt],qt<Jt&&Rt==-1);if(Rt==-1)break;Wt+=String.fromCharCode((3&Qt)<<6|Rt)}return Wt}(C),function(we){return we.charCodeAt(0)}),ye=new DataView(re.buffer);return 0<(P=typeof ye.getBigInt64=="function"?ye.getBigUint64(0):ie.getUint64(0,!1,ye))?Number(P):Number(ye.getBigUint64(0,!0))}catch{console.error("token error")}return-1},ie.bin2hex=function(C){for(var P,re="",ye=0,we=(C+="").length;ye<we;ye++)re+=(P=C.charCodeAt(ye).toString(16)).length<2?"0"+P:P;return re},ie.getCanvasFingerprint=function(C){var P=document.createElement("canvas"),re=((re=P.getContext("2d")).textBaseline="top",re.font="14px 'Arial'",re.fillStyle="#f60",re.fillRect(125,1,62,20),re.fillStyle="#069",re.fillText(C,2,15),re.fillStyle="rgba(102, 204, 0, 0.7)",re.fillText(C,4,17),P.toDataURL().replace("data:image/png;base64,",""));return C=atob(re),this.bin2hex(C.slice(-16,-12))},ie.generateUUID=function(C){C===void 0&&(C=0);var P,re=ge("z_deviceID");return re||(P=new Date().getTime(),re="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ye){var we=(P+16*Math.random())%16|0;return P=Math.floor(P/16),(ye=="x"?we:3&we|8).toString(36)}),Ot("z_deviceID",re=C===0?this.getCanvasFingerprint("hello, zego")+re.slice(8):re),re)},ie.getNetTypeNum=function(){var C=q.NT_UNKNOWN,P="",re=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return-1<(P=((re==null?void 0:re.effectiveType)||(re==null?void 0:re.type)||"unknwon").toUpperCase()).indexOf("4G")?C=q.NT_4G:-1<P.indexOf("2G")?C=q.NT_2G:-1<P.indexOf("3G")?C=q.NT_3G:-1<P.indexOf("WIFI")?C=q.NT_WIFI:-1<P.indexOf("LINE")?C=q.NT_LINE:-1<P.indexOf("NONE")&&(C=q.NT_NONE),C},ie);function ie(){}var ue={product:"rtc_web",importLevel:N.H,levels:[0,10,100,1e3],bps:32e3},de="init",le="0c9e6e0f8c0a8f4e",Ve="z_net_access_servers",nt="z_appconfig",ct="z_appconfig_etag",Re={domains:["accesshub-wss.zego.im","accesshub-wss.coolzcloud.com","accesshub-wss.zegocloud.com"],primaryDomains:["zego.im","coolzcloud.com","zegocloud.com"],mode:"online",modeNo:Z.MODE_ONLINE,sdkType:3,connectVer:4,pcEstablishTimeout:15,scheme:"wss",location:"accesshub",wssMessageType:1},lt=[{id:2,relative_geofencings:[],accesshub:"accesshub-wss-geo-2.zego.im",logreport:"weblogger-wss-geo-2.zego.im",detaillog:"detaillog-geo-2.zego.im"},{id:3,relative_geofencings:[7],accesshub:"accesshub-wss-geo-3.zego.im",logreport:"weblogger-wss-geo-3.zego.im",detaillog:"detaillog-geo-3.zego.im"},{id:4,relative_geofencings:[7],accesshub:"accesshub-wss-geo-4.zego.im",logreport:"weblogger-wss-geo-4.zego.im",detaillog:"detaillog-geo-4.zego.im"},{id:5,relative_geofencings:[7],accesshub:"accesshub-wss-geo-5.zego.im",logreport:"weblogger-wss-geo-5.zego.im",detaillog:"detaillog-geo-5.zego.im"},{id:6,relative_geofencings:[7],accesshub:"accesshub-wss-geo-6.zego.im",logreport:"weblogger-wss-geo-6.zego.im",detaillog:"detaillog-geo-6.zego.im"},{id:7,relative_geofencings:[3,4,5,6,1],accesshub:"accesshub-wss-geo-7.zego.im",logreport:"weblogger-wss-geo-7.zego.im",detaillog:"detaillog-geo-7.zego.im"}],St=[2,3,4,5,6];function Yt(C,P){this.logger=C,this.stateCenter=P,this.RETRY_MAX_TIME=300,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryTimer=null,this.maxTimer=null,this.retryStartTime=0,this.retryActiveCount=1,this.isOverTime=!1}function xe(C){return C}function st(C){return C}function At(C){return C}function Et(C){return C}Yt.prototype.init=function(C,P,re,ye){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,typeof C=="number"&&C<3600&&(this.RETRY_MAX_TIME=C),typeof P=="number"&&(this.RETRY_START_TIME_INTERVAL=P),typeof re=="number"&&(this.RETRY_CONTINUE_COUNT=re),typeof ye=="number"&&(this.RETRY_MAX_TIME_INTERVAL=ye)},Yt.prototype.invalid=function(){this.logger.info("zm.rh.ivd end retry"),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.retryStartTime=0,this.retryActiveCount=1};var Dt="zm.0",Ft="zm.wl",zt="zm.slf",Ut="zm.lg",Vt="zm.lo",mr="zm.fac",Br="zm.fac.tk",Zt="zm.hlu",wr="zm.cna",kt="zm.gsac",Ar="zm.zpl.url",qe="zm.on",nr="zm.rntk",tr="zm.rm.lg",lr="zm.rm.tl",pr="zm.rm.lgr",rr="zm.rm.clh",Dr="zm.rm.lo",Kt="zm.rm.dcn",$t="zm.rm.kco",Nr="zm.hhl",Rr="zm.hb.st",fr="zm.hb.rsp",un="zm.sv.ps",ln="zm.us.urp",_r="zm.us.uph",gr="ON_LISTENER",Qr="zm.st.ofls",vr="zm.lrh.sm",Gr="zm.lrh.hsp",$r="zm.lrh.lgi",ur="zm.lrh.ful",Kr="zm.lrh.lgo",Hr="zm.lrh.sru",gn="zm.lrh.hd",Tr={event:"/sdk/init",error:{kInvalidParamError:ce.INPUT_PARAM},system_info:st,servers:function(C){return C},is_from_cache:Et,project:st,liveroom_version:st,biz_type:At,lua_md5:st,sev_env:st,use_na:At},Or="listener",Sr="/sdk/set_debug",Vr=st,qr={event:"/sdk/set_log_config",error:{kInvalidParamError:ce.INPUT_PARAM},log_level:function(C){return C},remote_log_level:st,log_url:st},ke={event:"/sdk/on_listener",listener:st,error:{INPUT_PARAM:ce.INPUT_PARAM}},Ge=st,Ke={event:"/sdk/login",room_id:st,room_sid_string:st,user_state_update:At,max_member_cnt:At,message:st,token:st,svr_env:st,server:st,try_cnt:At,room_mode:At,role:At,audience_create_room:At,liveroom_sid_string:st,error:{ROOM_ID_NULL:ce.ROOM_ID_NULL,INPUT_PARAM:ce.INPUT_PARAM,ROOM_ID_TOO_LONG:ce.ROOM_ID_TOO_LONG,ROOM_ID_INVALID_CHARACTER:ce.ROOM_ID_INVALID_CHARACTER,USER_ID_NULL:ce.USER_ID_NULL,USER_ID_TOO_LONG:ce.USER_ID_TOO_LONG,USER_ID_INVALID_CHARACTER:ce.USER_ID_INVALID_CHARACTER,USER_NAME_NULL:ce.USER_NAME_NULL,USER_NAME_TOO_LONG:ce.USER_NAME_TOO_LONG,REPEATEDLY_LOGIN:ce.REPEATEDLY_LOGIN,LOGIN_TIMEOUT:ce.LOGIN_TIMEOUT,INNER_ERROR:ce.ROOM_INNER_ERROR,NETWORK_BROKEN:ce.NETWORK_BROKEN}},We="/sdk/sublogin",Ae=st,be={event:"/zpush/login",sdk_zpush_sessionid_string:st},tt={event:"/liveroom/enter"},dt={event:"/sdk/renew_token",error:{INPUT_PARAM:ce.INPUT_PARAM,NOT_LOGIN:ce.NOT_LOGIN},token:st},It={event:"/sdk/logout",error:{INPUT_PARAM:ce.INPUT_PARAM,ROOM_NOT_EXIST:ce.ROOM_NOT_EXIST},room_id:st,room_sid_string:st,is_multi:Et,is_send_cmd_net:Et,liveroom_sid_string:st},rt="/liveroom/quit",Ze=st,Nt=st,Lt="/sdk/relogin",cr={event:"/liveroom/tempbroken"},Me={event:"/sdk/reconnect",room_broken_time:At},me={event:"/sdk/disconnect"},Be=At,ve=At,Ue={event:"/liveroom/hb",room_id:st,room_sid_string:st,interval:At,stream_seq:At,server_user_seq:At,error:{NOT_LOGIN:ce.NOT_LOGIN,HB_TIMEOUT:ce.TIMEOUT}},Se={event:"/liveroom/recv_user_update_info",user_list_seq:At,update_user:xe,error:{ROOM_NOT_EXIST:ce.ROOM_NOT_EXIST}},je={event:"/sdk/enable_multi_room",is_multi:Et,error:{kInvalidParamError:ce.INPUT_PARAM,kAlreadyLoginError:ce.ALREADY_LOGIN}},pt=xe,ee=xe,Pe=xe,He="/cloud_setting/request",it=xe,ht=xe,Ht={event:"/liveroom/get_current_user_list",user_index:At,is_time_ascend:Et,use_na:At},xt="/zegoconn/connect",Gt=st,Tt=At,Ir=xe,bt=st,Zr=st,Wr=At,Mn="/zegoconn/request",ui=xe,tn=xe,Bn=At,jn={event:"/zegoconn/proxy_connect",service_no:At,proxy_link_sources:At,recv_time:At,connect_stream:At},di={event:"/zegoconn/proxy_broken",service_no:At},Jr={event:"/zegoconn/proxy_disconnect",service_no:At};Ci=function(C,P){return(Ci=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(re,ye){re.__proto__=ye}:function(re,ye){for(var we in ye)Object.prototype.hasOwnProperty.call(ye,we)&&(re[we]=ye[we])}))(C,P)},function(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function re(){this.constructor=C}Ci(C,P),C.prototype=P===null?Object.create(P):(re.prototype=P.prototype,new re)}(Mr,vi=Yt),Mr.prototype.renewLocalToken=function(C,P){this.token=C,this.room.token=this.token;var re=new Date().getTime(),ye=void 0;P&&typeof P=="number"?ye=1e3*P:typeof C=="string"&&["03","04"].includes(C.substring(0,2))&&(P=1e3*fe.decodeTokenExpire(C.substring(2)),this.logger.info("zm.rm.rlt time "+P+" "+re+" "+this.stateCenter.local_time_deviation),ye=P-(re-this.stateCenter.local_time_deviation)),ye&&this.roomHandler.resetTokenTimer(ye),this.logger.setTokenInfo(C),this.stateCenter.actionListener("_tokenRenewed",C,this.room.roomID)},Mr.prototype.initRoom=function(C,P,re,ye,we,Le,at){this.roomHandler=C,this.roomID=P,this.renewLocalToken(re),this.user=ye,this.server=we,this.serverBak=Le||we,this.config=at},Mr.prototype.active=function(C){var P=this,re=(this.logger.info(tr+" retry call "+((re=this.room)==null?void 0:re.roomID)+" "+(C=C!==void 0&&C)),(re=this.loginRoomCallback)!=null&&re.success?We:Lt);if(this.subLoginSpan||(this.subLoginSpan=this.stateCenter.reporter.createSpan(N.H,{key:Ke.event,par:this.roomID},{key:re,par:this.roomID},re,!0),this.spanKey=re),this.roomHandler.setRunState(y.trylogin),this.room.isMulti&&((re=this.stateCenter.roomModulesList.find(function(we){return!we.isMulti}))==null?void 0:re.runState)!==y.login)this.logger.info(tr+" service is disconnected, multi room stop retry");else if(this.retryTimer)this.logger.info(tr+" has actived, ignore");else{var ye=this.stateCenter.networkState==U.offline;if(ye){if(this.logger.info(tr+" check if really offline. "+this.retryNetCount),this.retryNetCount>=this.retryNetMaxTimes)return void this.logger.warn(tr+" network is broken, stop retry")}else this.retryNetCount=0;this.isOverTime?this.logger.info(tr+" retry over time, stop retry"):(this.retryActiveCount==1?this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL):(re=Math.pow(2,Math.round(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)),this.retryActiveInterval=re>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:re),this.logger.info(tr+" interval "+this.retryActiveInterval),this.retryTimer=setTimeout(function(){P.roomHandler.login(P.retryActiveCount%2==1?P.server:P.serverBak,P.roomID,P.token,P.user,P.config,function(we){P.stateCenter.networkState=U.online,P.handleLoginFinish(we)},function(we,Le){P.handleLoginFinish(!1,we,Le)}),P.retryTimer&&clearTimeout(P.retryTimer),P.retryTimer=null,ye?P.retryNetCount++:P.retryActiveCount++},C?0:1e3*this.retryActiveInterval))}},Mr.prototype.startMaxTime=function(){var C=this;this.maxTimer||(this.logger.info(tr+" start max timer"),this.maxTimer=setTimeout(function(){C.logger.info(tr+" over max time ".concat(C.RETRY_MAX_TIME,"s, stop retry")),C.isOverTime=!0,C.roomHandler.resetRoom(),C.stopMaxTime(),C.invalid(),C.onactive(!1,ce.LOGIN_TIMEOUT),C.subLoginSpan&&(C.stateCenter.reporter.spanEnd({key:C.spanKey,par:C.roomID},{error:ce.LOGIN_TIMEOUT.code,message:ce.LOGIN_TIMEOUT.msg}),C.subLoginSpan=null),C.loginRoomCallback.fail&&(C.loginRoomCallback.fail(ce.LOGIN_TIMEOUT),C.roomHandler.disconnectedHandle(ce.LOGIN_TIMEOUT),C.resetCallBack())},1e3*this.RETRY_MAX_TIME))},Mr.prototype.stopMaxTime=function(){this.logger.info(tr+" stop max timer"),this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},Mr.prototype.onactive=function(C,P){},Mr.prototype.handleError=function(C,P){if(this.RETRY_MAX_TIME<3)return!1;if(P){P=void 0;var re=void 0,ye=void 0,we=(this.stateCenter.useNetAgent?(P=["202002","205030","205035","50116","50117","50118","50119","50120","50121","50122","50123","50124","50125","50126","50127","50128"],re=["40001","40100"],ye=["201002","30019"]):(P=["1000002002","1000005030","1000005035","1010","1011","1013","1014","1015","1016","1017","1018","1019","1020","1021","1023"],re=["1100040001","1100040100"]),C.code+"");if(this.stateCenter.useNetAgent){if(C.code===10015)return this.room.retryConnect(),!0;if(40001<=C.code&&C.code<=40100||50200<=C.code&&C.code<=50299||ye!=null&&ye.includes(we))return this.room.resetSessionInfo(),!0}return!(P!=null&&P.includes(we)||(re==null||!re.includes(we))&&(this.room.lastRunState!=y.login||(this.logger.warn("zm.rrh.he reset"),this.room.resetUserSession(),this.invalid(),0)))}return!0},Mr.prototype.setLoginRoomCallback=function(C,P){this.loginRoomCallback.success=C,this.loginRoomCallback.fail=P},Mr.prototype.loginFail=function(C){this.roomHandler.resetRoom(),this.stopMaxTime(),this.invalid(),this.onactive(!1,C),this.loginRoomCallback.fail&&(this.loginRoomCallback.fail(C),this.roomHandler.disconnectedHandle(C),this.resetCallBack())},Mr.prototype.handleLoginFinish=function(C,P,re){this.logger.info("zm.rrh.hlf "+C+" "+JSON.stringify(P)),P?(this.subLoginSpan&&(this.stateCenter.reporter.spanEnd({key:this.spanKey,par:this.roomID},{error:P.code,message:P.msg}),this.subLoginSpan=null),this.handleError(P,re)?(this.maxTimer||this.startMaxTime(),this.active()):(this.roomHandler.resetRoom(),this.stopMaxTime(),this.invalid(),this.onactive(C,P),this.loginRoomCallback.fail&&(this.loginRoomCallback.fail(P),this.roomHandler.disconnectedHandle(P),this.resetCallBack()))):(this.stopMaxTime(),this.invalid(),this.onactive(C,{code:0,msg:""}),this.subLoginSpan&&(this.stateCenter.reporter.spanEnd({key:this.spanKey,par:this.roomID},{room_id:this.roomID,room_sid_string:(re=this.room)==null?void 0:re.roomSidString}),this.subLoginSpan=null),this.loginRoomCallback.success&&(this.loginRoomCallback.success(C),this.resetCallBack()))},Mr.prototype.invalid=function(){this.logger.info("zm.rh.ivd end retry"),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.retryActiveCount=1,this.retryNetCount=0},Mr.prototype.resetCallBack=function(){this.loginRoomCallback.success=void 0,this.loginRoomCallback.fail=void 0};var Ci,vi,Pr,Un=Mr;function Mr(C,P,re){var ye=vi.call(this,C,P)||this;return ye.logger=C,ye.stateCenter=P,ye.room=re,ye.retryNetCount=0,ye.retryNetMaxTimes=3,ye.spanKey="",ye.loginRoomCallback={},ye}(m=Pr=Pr||{}).NOT_EMPTY="NOT_EMPTY",m.ILLEGAL_CHARACTERS="ILLEGAL_CHARACTERS",m.TYPE_STRING="TYPE_STRING",m.TYPE_INTEGER="TYPE_INTEGER",m.TYPE_OBJECT="TYPE_OBJECT",m.MAX_LENGTH_10="MAX_LENGTH_10",m.MAX_LENGTH_64="MAX_LENGTH_64",m.MAX_LENGTH_100="MAX_LENGTH_100",m.MAX_LENGTH_128="MAX_LENGTH_128",m.MAX_LENGTH_256="MAX_LENGTH_256",m.MAX_LENGTH_1024="MAX_LENGTH_1024";var Dn={error:{code:0,msg:"suc"}},Co={NOT_EMPTY:function(C,P,re,ye,we){return P===void 0||P===""||P===null?(ye.error("".concat(re," ").concat(C," is empty")),we):Dn},ILLEGAL_CHARACTERS:function(C,P,re,ye,we){return fe.checkIllegalCharacters(P)?Dn:(ye.error("".concat(re," ").concat(C," contains illegal characters")),we)},TYPE_STRING:function(C,P,re,ye,we){return typeof P!="string"?(ye.error("".concat(re," ").concat(C," must be string")),we):Dn},TYPE_INTEGER:function(C,P,re,ye,we){return fe.checkInteger(P,!1)?Dn:(ye.error("".concat(re," ").concat(C,"  must be integer number")),we)},TYPE_OBJECT:function(C,P,re,ye,we){return P&&typeof P=="object"?Dn:(ye.error("".concat(re," ").concat(C,"  must be object")),we)},MAX_LENGTH_10:function(C,P,re,ye,we){return 10<P.length?(ye.error("".concat(re," ").concat(C," is too long")),we):Dn},MAX_LENGTH_64:function(C,P,re,ye,we){return 64<P.length?(ye.error("".concat(re," ").concat(C," is too long")),we):Dn},MAX_LENGTH_100:function(C,P,re,ye,we){return 100<P.length?(ye.error("".concat(re," ").concat(C," is too long")),we):Dn},MAX_LENGTH_128:function(C,P,re,ye,we){return 128<P.length?(ye.error("".concat(re," ").concat(C," is too long")),we):Dn},MAX_LENGTH_256:function(C,P,re,ye,we){return 256<P.length?(ye.error("".concat(re," ").concat(C," is too long")),we):Dn},MAX_LENGTH_1024:function(C,P,re,ye,we){return 1024<P.length?(ye.error("".concat(re," ").concat(C," is too long")),we):Dn}};Object.defineProperty(Qi.prototype,"debug",{get:function(){return this._debug},set:function(C){this._debug=C,p.LoggerStateCenter.getInstance().debug=C},enumerable:!1,configurable:!0}),Object.defineProperty(Qi.prototype,"testEnvironment",{get:function(){return this._testEnvironment},set:function(C){this._testEnvironment=C,p.LoggerStateCenter.getInstance().testEnvironment=C},enumerable:!1,configurable:!0}),Object.defineProperty(Qi.prototype,"ENV",{get:function(){return this._env},set:function(C){this._env=C,p.LoggerStateCenter.getInstance().ENV=C},enumerable:!1,configurable:!0}),Object.defineProperty(Qi.prototype,"roomid",{get:function(){return this.roomModulesList[0]?this.roomModulesList[0].roomID:""},enumerable:!1,configurable:!0}),Object.defineProperty(Qi.prototype,"serverTimeOffset",{get:function(){return this.roomModulesList[0]?this.roomModulesList[0].messageHandler.serverTimeOffset:0},enumerable:!1,configurable:!0}),Qi.prototype.getRequestId=function(){return this.idName+"-"+z()},Qi.prototype.actionListener=function(C){for(var P,re=this,ye=[],we=1;we<arguments.length;we++)ye[we-1]=arguments[we];["getAnchorInfo","HBResponse","roomOnlineUserCountUpdate","roomLoginResponse"].includes(C)||C.startsWith("_")||!this.listenerList[C]||((P=this.reporter.createSpan(N.H,{key:Or},{key:""},"/sdk/listener")).setAttributes({listener:C,listener_params:JSON.stringify(ye)}),P.end()),["roomStateChanged","tokenWillExpire"].includes(C)&&this.logger.info("zm.al ".concat(C," ").concat(JSON.stringify(ye))),this.listenerList[C]&&this.listenerList[C].forEach(function(Le){try{Le.apply(void 0,ye)}catch(at){re.logger.error("zm.st.at ",C," ",JSON.stringify(at))}})},Qi.prototype.onListener=function(C,P){return this.listenerList[C]?typeof P!="function"?(this.logger.error(gr+" listener callBack must be funciton"),!1):(this.listenerList[C].indexOf(P)==-1&&this.listenerList[C].push(P),!0):(this.logger.error(gr+" event "+C+" no found"),!1)},Qi.prototype.offListener=function(C,P){return this.listenerList[C]?typeof P!="function"?(this.logger.error(Qr+" listener callBack must be funciton"),!1):(this.listenerList[C].indexOf(P)!==-1&&(this.listenerList[C]=this.listenerList[C].filter(function(re){return re!==P})),!0):(this.logger.error(Qr+" event "+C+" no found"),!1)},Object.defineProperty(Qi.prototype,"sdKVersion",{get:function(){return this._sdkVersion},set:function(C){this._sdkVersion=C},enumerable:!1,configurable:!0}),Qi.prototype.proxyRes=function(C,P,re){return{interResolve:function(ye){P(ye),C.end()},interReject:function(ye,we){var Le;we===void 0&&(we=""),(Le=ye.code<2e9&&1e9<ye.code?fe.decodeServerError(ye.code,ye.msg):{code:ye.code,message:ye.msg})&&C.setAttributes({error:Le.code,message:Le.message+we}),C.end(),re({errorCode:ye.code})}}};var li=Qi;function Qi(C,P){this.logger=C,this.dataReport=P,this._debug=!1,this.appConfigEtag=-1,this.appConfigFetched=!1,this.requestList={},this.mode=Z.MODE_ONLINE,this.connectState="connected",this.testNetPackageSize=!1,this.netGeoFencing={},this._testEnvironment=!1,this._env=0,this.type="PUBLIC",this.debugCustom=!1,this.configOK=!1,this.role=2,this.relateService=[],this.maxMemberCount=0,this.roomCreateFlag=1,this.local_time_deviation=0,this.callbackList={},this.listenerList={roomUserUpdate:[],roomOnlineUserCountUpdate:[],getAnchorInfo:[],_getAnchorInfo:[],IMRecvCustomCommand:[],IMRecvBroadcastMessage:[],recvReliableMessage:[],roomExtraInfoUpdate:[],IMRecvBarrageMessage:[],recvJoinLiveRequest:[],recvInviteJoinLiveRequest:[],recvEndJoinLiveCommand:[],roomLoginResponse:[],_roomLogin:[],_appConfigRsp:[],_netAppConfigRsp:[],_connectChanged:[],HBResponse:[],roomStateUpdate:[],_roomStateUpdate:[],_getTotalUserList:[],_userStateUpdate:[],_recvBigRoomMessage:[],_recvRoomMsg:[],_kickout:[],tokenWillExpire:[],_tokenExpired:[],roomStateChanged:[],hallStateUpdate:[],_hallStateUpdate:[],roomTokenWillExpire:[],_tokenRenewed:[],_protobufResponse:[],_cloudSettingNotify:[],_settingCanFetch:[]},this.reportList={},this.reportSeqList={login:0,relogin:0},this.networkState=U.online,this.roomRetryTime=300,this.roomModulesList=[],this.isMultiRoom=!1,this.setMultiRoom=!1,this.protoFormat="json",this.settingFetched=!1,this.useNetAgent=!0,this.netHasSet=!1,this.configRoomAuth=!1,this.configCheckToken=!1,this._sdkVersion="unknown",this.mode=Re.modeNo}oo.prototype.init=function(C){var P=this,re=C.body.hearbeat_interval<3e3?3e3:C.body.hearbeat_interval;this.tryHeartbeatCount=0,this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.loginHeartbeatTimer=setTimeout(function(){P.start(re)},re),this.initCount++},oo.prototype.start=function(C){var P,re,ye=this,we=(this.logger.info(Rr+" call"),this.stateCenter.reporter.createSpan(N.H,{key:Ke.event,par:this.room.roomID},{key:""},Ue.event));this.room.isLogin()?3<++this.tryHeartbeatCount?(this.logger.error(Rr+" come to try limit"),this.stateCenter.reporter.setError(we,Ue.error.HB_TIMEOUT),this.hbLogout(ce.HEARTBEAT_TIMEOUT),this.stateCenter.reporter.createSpan(N.H,{key:Ke.event,par:this.room.roomID},{key:""},"/zpush/hb_timeout").end()):(P=function(Le,at){var Qt=Le.body&&Le.body.err_code;Le.header&&Le.body?Qt!==0&&(Qt=fe.decodeServerError(Le.body.err_code||Le.body.code,Le.body.err_message||Le.body.message),we.setAttributes({error:Qt.code,message:Qt.message+Le.body.err_code})):we.setAttributes({error:(0<Le.code?Le:ce.ROOM_INNER_ERROR).code,message:Le.msg||ce.ROOM_INNER_ERROR}),ye.handleHeartbeatRsp(Le,at),((Qt=Le==null?void 0:Le.body)==null?void 0:Qt.err_code)===0&&we.setAttributes({interval:Ue.interval((at=Le==null?void 0:Le.body)==null?void 0:at.hearbeat_interval),stream_seq:Ue.stream_seq((Qt=Le==null?void 0:Le.body)==null?void 0:Qt.stream_seq),server_user_seq:Ue.server_user_seq((at=Le==null?void 0:Le.body)==null?void 0:at.server_user_seq)}),we.end()},(re=this.stateCenter.useNetAgent?this.liveRoomHandler:this.service)!=null&&re.heartBeat(P,P,this.room),this.heartbeatInterval=C,re=this.heartbeatInterval,2<=this.initCount?(re=Math.round(Math.random()*(this.heartbeatInterval+1)),this.initCount=1):re=this.heartbeatInterval,this.heartbeatTimer=setTimeout(function(){ye.start(ye.heartbeatInterval)},re),this.logger.info(Rr+" call success")):(this.logger.error(Rr+" state error"),this.stateCenter.reporter.setError(we,Ue.error.NOT_LOGIN))},oo.prototype.handleHeartbeatRsp=function(C,P){if(C.body&&C.body.err_code&&C.body.err_code!==0)return this.logger.error(fr+" disconnect, server error=",C.body.err_code),C.body.err_code==1000000152?void this.hbLogout(ce.HEARTBEAT_TIMEOUT):void this.hbLogout(fe.getServerError(C.body.err_code));C.header&&C.body?((this.tryHeartbeatCount=0)!==C.body.hearbeat_interval&&(this.heartbeatInterval=C.body.hearbeat_interval,this.heartbeatInterval<3e3)&&(this.heartbeatInterval=3e3),this.heartbeatRspNotiFy(C,this.room.roomID),this.logger.info(fr+" call success")):(this.logger.error(fr+" disconnect, error=",JSON.stringify(C)+", seq = "+P),this.hbLogout(C))},oo.prototype.heartbeatRspNotiFy=function(C,P){},oo.prototype.hbLogout=function(C){},oo.prototype.resetHeartbeat=function(){clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null,clearTimeout(this.loginHeartbeatTimer),this.loginHeartbeatTimer=null,this.tryHeartbeatCount=0,this.initCount=0,this.logger.info("zm.hb.rst call success")};var Lo=oo;function oo(C,P,re,ye,we,Le){this.logger=C,this.stateCenter=P,this.dataReport=re,this.liveRoomHandler=ye,this.room=we,this.service=Le,this.tryHeartbeatCount=0,this.heartbeatTimer=null,this.loginHeartbeatTimer=null,this.initCount=0}Object.defineProperty(bn.prototype,"isUseNetAgent",{get:function(){return this.stateCenter.useNetAgent},enumerable:!1,configurable:!0}),bn.prototype.resetTokenTimer=function(C){var P=this;this.logger.info("zm.rm.rst  call: "+(C=2147483647<(C=(C-=3e4)<0?0:C)?2147483647:C)),this.tokenTimer&&clearTimeout(this.tokenTimer),this.tokenTimer=setTimeout(function(){P.stateCenter.actionListener("tokenWillExpire",P.room.roomID),P.stateCenter.actionListener("roomTokenWillExpire",P.room.roomID)},C)},bn.prototype.stopTokenTimer=function(){this.tokenTimer&&clearTimeout(this.tokenTimer),this.tokenTimer=null},bn.prototype.setRunState=function(C){this.room.runState!==C&&(this.room.lastRunState=this.room.runState,this.room.runState=C)},bn.prototype.resetTryLogin=function(){this.tryLoginTimer&&clearTimeout(this.tryLoginTimer),this.tryLoginTimer=null},bn.prototype.reportLogoutSpan=function(C){var P,re=this.stateCenter.isMultiRoom?rt:"/switch/logout_user";re=this.stateCenter.reporter.createSpan(N.H,{key:It.event,par:this.room.roomID},{key:""},re),C&&this.isUseNetAgent&&this.liveRoomHandler.roomServicer.zPushSid==="0"&&(this.liveRoomHandler.roomServicer.zPushSid=(P=(P=(P=this.liveRoomHandler)==null?void 0:P.roomServicer)==null?void 0:P.switchSessionID)==null?void 0:P.toString()),C=this.isUseNetAgent?C?(C=(P=this.liveRoomHandler)==null?void 0:P.roomServicer)==null?void 0:C.zPushSid:(P=(C=(P=this.liveRoomHandler)==null?void 0:P.roomServicer)==null?void 0:C.switchSessionID)==null?void 0:P.toString():void 0,re.setAttributes({room_id:It.room_id((P=this.room)==null?void 0:P.roomID),room_sid_string:It.room_sid_string((P=this.room)==null?void 0:P.roomSidString),liveroom_sid_string:Ze((P=this.room)==null?void 0:P.userSidString),sdk_zpush_sessionid_string:Nt(C)}),re.end()},bn.prototype.resetRoom=function(C){var P,re,ye=this;(C=(this.logger.info("zm.rm.rr call"),1<this.stateCenter.roomModulesList.length&&!C&&(this.room.isMulti=!0),this.resetTryLogin(),this.room.sessionExist&&this.room.runState!==y.logout&&!this.room.isDisConnect()&&(P=function(we){ye.handleLogoutRsp(we,!ye.room.isMulti)},re=this.isUseNetAgent?this.liveRoomHandler:this.service)&&re.logout(this.room,P,P),this.reportLogoutSpan(C),this.setRunState(y.logout),this.room.resetRoomSession(),this.room.resetUserSession(),this.room.isMulti||(this.stateCenter.userid="",this.logger.setSessionInfo(this.stateCenter.appid,this.room.roomID,this.room.userSidString,this.stateCenter.idName,this.stateCenter.nickName,this.stateCenter.sdKVersion),this.isUseNetAgent?(re=this.liveRoomHandler)!=null&&re.reset():(P=this.service)!=null&&P.closeSocket()),this.resetRoomCallBack(),this.stateCenter.roomModulesList=this.stateCenter.roomModulesList.filter(function(we){return we!==ye.room}),this.stateCenter.roomModulesList[0]))&&(C.isMulti=!1,C.runState!==y.login)&&C.roomTryHandler&&(C.roomTryHandler.startMaxTime(),C.roomTryHandler.active()),this.stateCenter.isMultiRoom&&this.stateCenter.roomModulesList.length===0&&(this.stateCenter.reporter.createSpan(N.H,{key:It.event,par:this.room.roomID},{key:""},"/zpush/multi_logout_user").end(),this.liveRoomHandler.roomServicer.zPushSid="0"),this.logger.info("zm.rm.rr call success")},bn.prototype.resetRoomCallBack=function(){},bn.prototype.loginSuccessCallBack=function(C,P){},bn.prototype.handlePushKickout=function(C,P,re){var ye=this,we=(this.logger.info($t+"  call "+JSON.stringify(C)),fe.getKickoutError(C.body.reason||((we=C.body)==null?void 0:we.kickout_reason),this.isUseNetAgent)),Le=this.stateCenter.reporter.createSpan(N.H,{key:Ke.event,par:this.room.roomID},{key:""},"/sdk/kickout"),at=(Le.setAttributes({error:(at=ce[we.name||"ROOM_INNER_ERROR"])==null?void 0:at.code,message:we.message,kickout_reason:Be(((at=C.body)==null?void 0:at.reason)||((at=C.body)==null?void 0:at.kickout_reason)),need_relogin:ve((at=C==null?void 0:C.body)==null?void 0:at.need_relogin)}),Le.end(),this.room.roomTryHandler);at?(at.onactive=function(Qt,Rt){ye.logger.info($t+" onactive"),ye.disconnectedHandle(Rt),ye.stateCenter.actionListener("_kickout",Rt)},C.body.need_relogin&&C.body.need_relogin==1?(this.room.resetUserSession(),at.startMaxTime(),at.active()):(this.setRunState(y.logout),this.resetRoom(P),Le={},C&&C.body.custom_reason?Le.custom_kickout_message=C.body.custom_reason:we.name&&ce[we.name]&&(at=C.body.reason||C.body.kickout_reason,Le.custom_kickout_message=ce[we.name].msg+"; kickout reason: "+at),we.name&&ce[we.name]?this.disconnectedHandle(ce[we.name],{extendedData:JSON.stringify(Le),isKickout:!0}):this.disconnectedHandle(ce.ROOM_INNER_ERROR,{extendedData:JSON.stringify(Le),isKickout:!0}),this.stateCenter.actionListener("_kickout",{code:ce.MANUAL_KICKOUT.code,msg:ce.MANUAL_KICKOUT.msg+C.body.reason||C.body.kickout_reason}))):this.logger.info($t+" try handler no found")},bn.prototype.handleHbLogout=function(C){var P=this,re=this.room.roomTryHandler;re&&(re.onactive=function(ye,we){P.logger.warn(Nr+" onactive"),P.transError(we),P.disconnectedHandle(we)},[ce.HEARTBEAT_TIMEOUT,ce.SOCKET_CLOSE].includes(C)||[105,152,2001].includes(C==null?void 0:C.code)||C.msg.endsWith("1000002001")||C.msg.endsWith("1000000152")||C.msg.endsWith("1000000105")?(re.startMaxTime(),re.active()):[ce.TIMEOUT].includes(C)?this.logger.warn(Nr+" timeout"):(this.logger.warn(Nr+" unexpected error: ".concat(JSON.stringify(C))),re.stopMaxTime(),re.invalid(),this.resetRoom(),this.disconnectedHandle(C)))},bn.prototype.onDisconnect=function(C){var P=this;(C=(this.logger.error(Kt+" "+C.msg),typeof C.code=="string"&&C.code==="Error.Network"||typeof C.code=="number"&&(C.code<2e9&&1e9<C.code||C.code<1e6?fe.decodeServerError(C.code,C.msg):(C.code,C.msg)),fe.unregisterCallback(Lt,this.stateCenter.reportList),this.room.roomTryHandler))?(C.onactive=function(re,ye){P.logger.error(Kt+" onactive"),ye&&ye.code!==0?(P.transError(ye),P.roomStateHandle("DISCONNECTED",x.ReconnectFailed,ye)):P.roomStateHandle("CONNECTED",x.Reconnected,ye)},C.startMaxTime(),C.active()):this.logger.error(Kt+" try handler no found")},bn.prototype.onConnecting=function(C){this.roomStateHandle("CONNECTING",x.Logining,C)},bn.prototype.disconnectedHandle=function(C,P){var re;C&&C.code!==0?(this.stopTokenTimer(),re=P!=null&&P.isKickout?x.Kickout:x.ReconnectFailed,this.transError(C),this.roomStateHandle("DISCONNECTED",re,C,(P==null?void 0:P.extendedData)||C.msg)):this.roomStateHandle("CONNECTED",x.Reconnected,C,P==null?void 0:P.extendedData)},bn.prototype.roomStateHandle=function(C,P,re,ye,we){if(!P||P!=x.Reconnecting||(this.reconectTimes++,this.reconectTimes!=1)){this.logger.info("zm.rm.scb "+C+" "+JSON.stringify(re)),["CONNECTED","DISCONNECTED"].includes(C)&&(this.reconectTimes=0);var Le,at,Qt=0;switch(P=(P=(P=P&&[x.LoginFailed,x.ReconnectFailed].includes(P)?(at=this.room.roomTryHandler)!=null&&at.loginRoomCallback.fail?x.LoginFailed:x.ReconnectFailed:P)&&[x.Logined,x.Reconnected].includes(P)?(at=this.room.roomTryHandler)!=null&&at.loginRoomCallback.success?x.Logined:x.Reconnected:P)&&[x.Logining,x.Reconnecting].includes(P)?(at=this.room.roomTryHandler)!=null&&at.loginRoomCallback.success?x.Logining:x.Reconnecting:P){case x.Reconnecting:Le=cr,this.tempBrokenTime=new Date().getTime();break;case x.ReconnectFailed:Le=me;break;case x.Reconnected:Le=Me,Qt=new Date().getTime()-this.tempBrokenTime}this.room.lastRoomState=this.room.roomState,this.room.roomState=C,this.room.roomState!==this.room.lastRoomState&&(this.stateCenter.actionListener("_roomStateUpdate",this.room.roomID,C,re?re.code:0,ye,we),we||(this.stateCenter.actionListener("roomStateUpdate",this.room.roomID,C,re?re.code:0,ye),this.stateCenter.actionListener("roomStateChanged",this.room.roomID,P,re?re.code:0,ye)),Le)&&(at=this.stateCenter.reporter.createSpan(N.H,{key:Ke.event,par:this.room.roomID},{key:""},Le.event),P===x.Reconnected?at.setAttributes({room_broken_time:Me.room_broken_time(Qt)}):at.setAttributes({error:(re==null?void 0:re.code)||0,message:ye||""}),at.end())}},bn.prototype.transError=function(C){var P;this.logger.info("zm.rm.te "+JSON.stringify(C)),C.code!==0&&(C.code<2e9&&1e9<C.code||C.code<1e6)&&(P=fe.getLiveRoomError(C.code,this.stateCenter.useNetAgent))&&ce[P]&&(C.code=ce[P].code,C.msg=ce[P].msg)},bn.prototype.login=function(C,P,re,ye,we,Le,at){this.logger.info(tr+" call:"+P+" "+re),this.room.isMulti||this.logger.setSessionInfo(this.stateCenter.appid,P,"",ye.userID,"",this.stateCenter.sdKVersion),we&&(we.userUpdate&&typeof we.userUpdate=="boolean"&&(this.room.userStateUpdate=we.userUpdate),we.maxMemberCount)&&typeof we.maxMemberCount=="number"&&(this.room.maxMemberCount=we.maxMemberCount),this.stateCenter.configOK?(this.room.runState!==y.trylogin&&this.setRunState(y.trylogin),this.room.roomID=P,this.room.token=re,this.room.thirdToken=re,this.stateCenter.idName=ye.userID,this.stateCenter.nickName=ye.userName||ye.userID,this.loginCallback.success=Le,this.loginCallback.fail=at,this.server=C,this.stateCenter.reporter.spanSetAttributes({key:We,bak_key:Lt,par:P},{server:this.isUseNetAgent?void 0:Ae(this.server)}),this.liveRoomLoginKey=this.room.isMulti?tt:be,this.stateCenter.reporter.createSpan(N.H,{key:We,bak_key:Lt,par:this.room.roomID},{key:this.liveRoomLoginKey.event,par:this.room.roomID},this.liveRoomLoginKey.event,!0),this.resetTryLogin(),this.onConnecting({code:0,msg:""}),this.tryLogin(C),this.logger.info(tr+" call success")):(this.logger.error(tr+" init sdk wrong"),at(ce.INIT))},bn.prototype.tryLogin=function(C){var P,re=this;if(this.room.runState!==y.trylogin)this.logger.error("zb.rh.tl state error");else{if(this.stateCenter.reportSeqList.login,this.isUseNetAgent)return this.room.isMulti&&this.room.isDisConnect()?void this.logger.warn(lr+" liveroom is not connected"):(we=function(Le,at){re.handleLoginRsp(Le,at)},void((P=this.liveRoomHandler)!=null&&P.isUaConnect()?(this.stateCenter.reporter.spanSetAttributes({key:this.liveRoomLoginKey.event,par:(P=this.room)==null?void 0:P.roomID},{sdk_zpush_sessionid_string:(P=(P=(P=this.liveRoomHandler)==null?void 0:P.roomServicer)==null?void 0:P.switchSessionID)==null?void 0:P.toString()}),this.liveRoomHandler.login(this.room,we,we)):(this.tryLoginTimer=setTimeout(function(){re.logger.info(lr+" over time no response, login timeout"),re.loginCallback.fail&&re.loginCallback.fail(Ke.error.LOGIN_TIMEOUT)},this.tryLoginInterval),this.logger.warn(lr+" ua is not connected"))));if((P=this.service)!=null&&P.isDisConnect())try{if(this.service.closeSocket(),this.logger.debug(lr+" new websocket"),!this.isUseNetAgent&&!yt(C,this.stateCenter.appid))throw this.logger.error("".concat(lr," the server does not match the appID")),new Error("The server does not match the appID");this.service.createSocket(C);var ye=Date.now();this.service.openHandler(function(){var Le;re.stateCenter.reporter.spanSetAttributes({key:re.liveRoomLoginKey.event,par:(Le=re.room)==null?void 0:Le.roomID},{connect_consume:Date.now()-ye}),re.openHandler()}),this.service.closeHandler(function(Le){var at;re.logger.error(lr+" close "+JSON.stringify(Le.code||Le)),(at=re.service)!=null&&at.closeSocket(),re.closeHandler(Le)}),this.service.errorHandler(function(Le){var at;re.logger.error(lr+" error "+JSON.stringify(Le.code||Le)),(at=re.service)!=null&&at.closeSocket(),re.closeHandler(Le)})}catch(Le){this.logger.error(lr+"  websocket err:"+JSON.stringify(Le))}else{this.logger.info(lr+" use current websocket and sent login");var we=function(Le,at){re.handleLoginRsp(Le,at)};(P=this.service)!=null&&P.login(this.room,we,we)}this.tryLoginTimer=setTimeout(function(){re.logger.info(lr+" over time no response, login timeout"),re.loginCallback.fail&&re.loginCallback.fail(Ke.error.LOGIN_TIMEOUT)},this.tryLoginInterval),this.logger.info(lr+" call success")}},bn.prototype.openHandler=function(){function C(ye,we){re.handleLoginRsp(ye,we)}var P,re=this;this.logger.info("zm.rm.op websocket.onpen call"),(P=this.service)!=null&&P.onPush(),(P=this.service)!=null&&P.login(this.room,C,C)},bn.prototype.handleLoginRsp=function(C,P){this.logger.info(pr+" seq: "+P+" "+JSON.stringify(C)),this.stateCenter.reportSeqList.login,this.room.runState!==y.trylogin?this.logger.error(pr+" state error"):C.header&&C.body?C.header.seq!==P&&this.room.isMulti==0?this.logger.error(pr+" in wrong seq, local=",P+"",",recv=",C.header.seq):C.body.err_code!==0?(this.logger.error(pr+" server error=",C.body.err_code),this.handleLoginFail(C)):(this.logger.info(pr+" call success."),this.handleLoginSuccess(C)):(this.logger.error(pr+" "+JSON.stringify(C)),this.handleLoginFail(C))},bn.prototype.handleLoginFail=function(C){this.resetTryLogin();var P=Ke.error.INNER_ERROR;C.header&&C.body?P=fe.getServerError(C.body.err_code):C.code&&C.msg&&(P=C),this.stateCenter.reporter.spanEnd({key:this.liveRoomLoginKey.event,par:this.room.roomID},{error:P.code,message:P.msg}),this.loginCallback.fail&&this.loginCallback.fail(P,!0)},bn.prototype.handleLoginSuccess=function(C){var P,re,ye=this,we=(this.room.checkRoomSession(C.body.room_session_id)&&(this.room.loginTime=Date.now()),this.room.lastRunState),Le=(this.setRunState(y.login),this.stateCenter.userid=C.body.user_id,this.isUseNetAgent?(this.room.longRoomSid=C.body.room_session_id,this.room.longSid=C.body.session_id):(this.room.sessionID=C.body.session_id,this.room.roomSessionID=C.body.room_session_id),(Le={})[this.room.roomID]={room_sid_string:this.room.roomSidString},this.stateCenter.reporter.setPublicPros(Le),(Le=C==null?void 0:C.body)==null?void 0:Le.token_remain_time);this.stateCenter.configRoomAuth=0<Le,C.body.ret_timestamp&&["03","04"].includes(this.room.token.substring(0,2))&&(P=(re=new Date().getTime())-C.body.ret_timestamp,this.stateCenter.local_time_deviation=P<5e3?0:P,P=0<Le?1e3*Le:1e3*fe.decodeTokenExpire(this.room.token.substring(2))-(re-this.stateCenter.local_time_deviation),this.resetTokenTimer(P)),this.room.isMulti||this.logger.setSessionInfo(this.stateCenter.appid,this.room.roomID,this.room.userSidString,this.stateCenter.idName,this.stateCenter.nickName,this.stateCenter.sdKVersion),this.isUseNetAgent||(C.body.config_info&&(re=((Le=this.stateCenter.settingConfig)==null?void 0:Le.getSetting("remote_log_level",!0))||C.body.config_info.log_level,this.logger.setRemoteLogLevel(re),C.body.config_info.log_url==""||this.logger.url||(this.logger.setLogServer(C.body.config_info.log_url),this.stateCenter.ENV===0&&(this.stateCenter.logDomain=(P=this.logger.url)==null?void 0:P.split("/")[2],this.stateCenter.reporter.setConfig({serverUrl:"wss://"+this.stateCenter.logDomain+"/zglog/tlog"})),C.body.config_info.log_url)),C.body.cluster_env&&C.body.cluster_env===1&&(this.stateCenter.testEnvironment=!0,this.stateCenter.debugCustom||(this.stateCenter.debug=!0))),this.stateCenter.reporter.spanEnd({key:this.liveRoomLoginKey.event,par:this.room.roomID},{server:this.isUseNetAgent?void 0:Ae(this.server),room_id:(Le=this.room)==null?void 0:Le.roomID,room_sid_string:(re=this.room)==null?void 0:re.roomSidString,zpush_sessionid_string:this.isUseNetAgent&&(Le=(P=C==null?void 0:C.header)==null?void 0:P.session_id)!=null?Le.toString():void 0,liveroom_sid_string:(re=this.room)==null?void 0:re.userSidString}),this.resetTryLogin(),this.loginSuccessCallBack(we,C),this.roomStateHandle("CONNECTED",x.Logined,{code:0,msg:""}),this.logger.makeZipLogSpaceUpload().catch(function(at){ye.logger.error("zm.rm.lgsuc zip log upload error: "+at.message)}),this.loginCallback.success&&this.loginCallback.success(!0)},bn.prototype.closeHandler=function(C){this.logger.error(rr+" room websocket close "+JSON.stringify(C.code||C)),this.room.runState!==y.logout?this.room.runState===y.trylogin?(this.resetTryLogin(),this.loginCallback.fail&&this.loginCallback.fail(C.code==1006?Ke.error.LOGIN_TIMEOUT:C)):this.room.runState===y.login&&(this.logger.info(rr+" is called because of network broken"),this.resetTryLogin(),this.onDisconnect(Ke.error.NETWORK_BROKEN)):this.logger.info(rr+" onclose logout flow call websocket.close")},bn.prototype.logout=function(C,P){this.logger.info(Dr+" call"),this.room.runState===y.logout?this.logger.warn("zb.rh.lo at logout"):(this.resetRoom(C),this.roomStateHandle("DISCONNECTED",x.Logout,{code:0,msg:""},void 0,P),this.stopTokenTimer(),this.logger.info(Dr+" call success"))},bn.prototype.handleLogoutRsp=function(C,P){this.logger.info(Dr+" result=",C.body&&C.body.err_code?C.body.err_code:"-1"),this.isUseNetAgent&&P&&(C=this.liveRoomHandler)!=null&&C.closeRequest()};var Zo=bn;function bn(C,P,re,ye,we,Le){this.logger=C,this.stateCenter=P,this.dataReport=re,this.room=ye,this.liveRoomHandler=we,this.service=Le,this.tryLoginTimer=null,this.tryLoginCount=0,this.tryLoginInterval=1e4,this.tokenTimer=null,this.beforeExpire=30,this.server="",this.tempBrokenTime=0,this.reconectTimes=0,this.loginCallback={}}var hi=function(C,P,re){if(re||arguments.length===2)for(var ye,we=0,Le=P.length;we<Le;we++)!ye&&we in P||((ye=ye||Array.prototype.slice.call(P,0,we))[we]=P[we]);return C.concat(ye||Array.prototype.slice.call(P))},fn=(An.prototype.loginRsp=function(C,P){this.anchor_info=C.body.anchor_info||this.anchor_info,this.userListInterval=C.body.userlist_interval||this.userListInterval,this.userListMergeInterval=C.body.userlist_merge_timeout||this.userListMergeInterval,C.body.anchor_info&&(this.stateCenter.actionListener("getAnchorInfo",C.body.anchor_info.anchor_id_name,C.body.anchor_info.anchor_nick_name),this.stateCenter.actionListener("_getAnchorInfo",C.body.anchor_info.anchor_id_name,C.body.anchor_info.anchor_nick_name)),C.body.online_count&&this.stateCenter.actionListener("roomOnlineUserCountUpdate",this.room.roomID,C.body.online_count),this.logger.info("zm.us.lgr  userStateUpdate "+this.room.userStateUpdate),this.room.userStateUpdate&&this.fetchUserList(P)},An.prototype.patchUserList=function(C){var P=this;C.body.server_user_seq!==this.userSeq&&this.room.userStateUpdate&&!this.userSeqMergeMap&&(this.logger.info("zm.us.pt call update user "+this.userSeq+" server "+C.body.server_user_seq),this.userSeqMergeMap||(this.userSeqMergeMap={}),this.userSeqMergeTimer&&clearTimeout(this.userSeqMergeTimer),this.userSeqMergeTimer=setTimeout(function(){P.handleMergeTimeout()},this.userListMergeInterval)),this.minUserSeq=C.body.server_user_seq,C.body.online_count!=null&&C.body.online_count!=0&&this.stateCenter.actionListener("roomOnlineUserCountUpdate",this.room.roomID,C.body.online_count)},An.prototype.resetUserHandler=function(){this.userQuerying=!1,this.lastUserQueryTime=0,this.userTempList=[],this.userSeq=0,this.minUserSeq=0,this.userList=void 0,this.userSeqMergeMap={},this.userSeqMergeTimer=void 0,this.userQueryTimer=void 0,this.userListInterval=3e4,this.userListMergeInterval=5e3,this.anchor_info={anchor_id:"",anchor_id_name:"",anchor_nick_name:""}},An.prototype.fetchUserList=function(C){this.userQuerying?this.logger.warn("zm.us.ftu is already querying"):(this.userQuerying=!0,this.userTempList=[],this.fetchUserListWithPage(0,C||0),this.logger.info("zm.us.ftu the first time call"))},An.prototype.fetchUserListWithPage=function(C,P){function re(at){ye.handleFetchUserListRsp(at,P)}var ye=this,we={user_index:C,sort_type:0},Le=Ht;(Le=(this.stateCenter.reporter.createSpan(N.H,{key:Ke.event,par:this.room.roomID},{key:Le.event,par:this.room.roomID},Le.event,!0).setAttribute("user_index",Le.user_index(C)),this.stateCenter.useNetAgent?this.liveRoomHandler:this.service))!=null&&Le.fetchUserList(we,re,re,this.room)},An.prototype.handleFetchUserListRsp=function(C,P){var re=this;if(this.stateCenter.reporter.spanEnd({key:Ht.event,par:this.room.roomID},{error:((ye=C==null?void 0:C.body)==null?void 0:ye.err_code)||(C==null?void 0:C.code),message:((ye=C==null?void 0:C.body)==null?void 0:ye.err_message)||(C==null?void 0:C.msg)}),C.body&&C.body.err_code!=0)this.userQuerying=!1,this.lastUserQueryTime=Date.now()+this.userListInterval,this.logger.info(ln+" fetch error "+C.body.err_code);else if(C.header&&C.body)if(this.room.userStateUpdate){this.userTempList=hi(hi([],this.userTempList,!0),C.body.user_baseinfos,!0);var ye=C.body.ret_user_index;if(ye!=C.body.server_user_index)this.logger.info(ln+" fetch another page"),this.fetchUserListWithPage(ye+1,P);else{this.userSeq=C.body.server_user_seq;for(var we=[],Le=[],at=0;at<this.userTempList.length;at++){var Qt={userID:this.userTempList[at].id_name,userName:this.userTempList[at].nick_name,role:this.userTempList[at].role};Qt.role!==4&&(we.push(Qt),Le.push({idName:this.userTempList[at].id_name,nickName:this.userTempList[at].nick_name,role:this.userTempList[at].role}))}this.stateCenter.actionListener("_getTotalUserList",this.room.roomID,Le),P==y.login?(this.userList&&fe.mergeUserList(this.logger,this.userList,we,function(Rt,Jt){Rt.length!==0&&re.onUserStateUpdate(re.room.roomID,"ADD",Rt),Jt.length!==0&&re.onUserStateUpdate(re.room.roomID,"DELETE",Jt)}),this.userList=we):(this.userList=we).length!==0&&this.onUserStateUpdate(this.room.roomID,"ADD",we),this.userQuerying=!1,this.lastUserQueryTime=Date.now()+this.userListInterval,this.userTempList=[],this.logger.info(ln+" call success user_list "+we+", count: "+we.length+", seq: "+this.userSeq)}}else this.logger.info(ln+" not update");else this.userQuerying=!1,this.lastUserQueryTime=Date.now()+this.userListInterval,this.logger.info(ln+" fetch error "+C)},An.prototype.handlePushUserStateUpdateMsg=function(C){if(this.logger.info(_r+" call"),this.room.userStateUpdate)if(this.userSeq===C.body.user_list_seq)this.logger.warn(_r+" user_list_seq is the same with local seq");else if(this.userSeq+C.body.user_actions.length!==C.body.user_list_seq)this.mergeUserByUserSeq(C.body.user_list_seq,C.body.user_actions);else{this.userSeq=C.body.user_list_seq;for(var P=[],re=0;re<C.body.user_actions.length;re++){var ye={action:C.body.user_actions[re].Action,idName:C.body.user_actions[re].IdName,nickName:C.body.user_actions[re].NickName,role:C.body.user_actions[re].Role,loginTime:C.body.user_actions[re].LoginTime};ye.role!==4&&P.push(ye)}this.stateCenter.actionListener("_userStateUpdate",C.body.room_id,P);var we=[],Le=[];P.forEach(function(at){at.action==1?we.push({userID:at.idName,userName:at.nickName,role:at.role}):at.action==2&&Le.push({userID:at.idName,userName:at.nickName,role:at.role})}),this.userList&&(this.userList=this.userList.concat(we).filter(function(at){return!Le.some(function(Qt){return Qt.userID==at.userID})})),we.length!==0&&this.onUserStateUpdate(C.body.room_id,"ADD",we),Le.length!==0&&this.onUserStateUpdate(C.body.room_id,"DELETE",Le),this.logger.info(_r+" call success")}else this.logger.info(_r+" userStateUpdate is false")},An.prototype.onUserStateUpdate=function(C,P,re){var ye=this;re=re.filter(function(we){return we.userID!==ye.stateCenter.idName}),re.length!=0&&(re=re.map(function(we){return{userID:we.userID,userName:we.userName}}),this.stateCenter.actionListener("roomUserUpdate",C,P,re))},An.prototype.mergeUserByUserSeq=function(C,P){var re=this;this.userSeqMergeMap||(this.logger.warn("zm.us.mg new merge userlist "+this.userSeq+" server "+C),this.userSeqMergeMap={},this.userSeqMergeTimer&&clearTimeout(this.userSeqMergeTimer),this.userSeqMergeTimer=setTimeout(function(){re.handleMergeTimeout()},this.userListMergeInterval)),this.userSeqMergeMap[C]=P,this.logger.warn("zm.us.mg  merge userlist "+this.userSeq+" server "+C+" userlist "+P.length)},An.prototype.mergeUser=function(C){var P=this,re=(this.logger.info("zm.us.mg merge userlist "+this.userSeq+" userSeqList "+C.join(",")),this.userSeq=C[C.length-1],this.lastUserQueryTime=Date.now()+this.userListInterval,{}),ye=((C=(C.forEach(function(Le){P.userSeqMergeMap&&P.userSeqMergeMap[Le].forEach(function(at){re[at.IdName]=at})}),this.userSeqMergeMap=null,Object.values(re).map(function(Le){return{action:Le.Action,idName:Le.IdName,nickName:Le.NickName,role:Le.Role,loginTime:Le.LoginTime?String(Le.LoginTime):""}}).filter(function(Le){return Le.role!==4}))).sort(function(Le,at){return Le.loginTime.localeCompare(at.loginTime)}),[]),we=[];C.forEach(function(Le){Le.action==1?ye.push({userID:Le.idName,userName:Le.nickName,role:Le.role}):Le.action==2&&we.push({userID:Le.idName,userName:Le.nickName,role:Le.role})}),this.userList=this.userList&&this.userList.concat(ye).filter(function(Le){return!we.some(function(at){return at.userID==Le.userID})}),ye.length!==0&&this.onUserStateUpdate(this.room.roomID,"ADD",ye),we.length!==0&&this.onUserStateUpdate(this.room.roomID,"DELETE",we),this.stateCenter.actionListener("_userStateUpdate",this.room.roomID,C)},An.prototype.handleMergeTimeout=function(){var C,P=this,re=Object.keys(this.userSeqMergeMap).map(function(ye){return+ye}).sort(function(ye,we){return ye-we});re[re.length-1]-re[0]+1===re.length||re[re.length-1]>=this.minUserSeq?this.mergeUser(re):(this.userSeqMergeMap=null,C=this.lastUserQueryTime-Date.now(),this.logger.info("zm.us.mto  fetch merge userlist "+this.userSeq+" userSeqList "+re.join(",")+" wait "+C),0<C?(this.userQueryTimer&&clearTimeout(this.userQueryTimer),this.userQueryTimer=setTimeout(function(){P.fetchUserList()},C)):this.fetchUserList())},An);function An(C,P,re,ye,we,Le){this.logger=C,this.stateCenter=P,this.dataReport=re,this.liveRoomHandler=ye,this.room=we,this.service=Le,this.userQuerying=!1,this.userTempList=[],this.userSeq=0,this.minUserSeq=0,this.userList=[],this.userSeqMergeMap=null,this.userListInterval=3e4,this.userListMergeInterval=5e3,this.anchor_info={anchor_id:"",anchor_id_name:"",anchor_nick_name:""}}Object.defineProperty(vn.prototype,"isUseNetAgent",{get:function(){return this.stateCenter.useNetAgent},enumerable:!1,configurable:!0}),Object.defineProperty(vn.prototype,"sessionExist",{get:function(){return this.longSid!==null||this.sessionID!=="0"},enumerable:!1,configurable:!0}),Object.defineProperty(vn.prototype,"roomSidString",{get:function(){return this.isUseNetAgent?this.longRoomSid?this.longRoomSid.toString():"0":this.roomSessionID},enumerable:!1,configurable:!0}),Object.defineProperty(vn.prototype,"userSidString",{get:function(){return this.isUseNetAgent?this.longSid?this.longSid.toString():"0":this.sessionID},enumerable:!1,configurable:!0}),vn.prototype.initMessageHandler=function(){},vn.prototype.initLiveHandler=function(){},vn.prototype.init=function(){this.bindHeatBeatHandler(),this.bindRoomHandler(),this.bindMessageHandler(),this.bindLiveHandler()},vn.prototype.bindHeatBeatHandler=function(){var C=this;this.heartBeatHandler.hbLogout=function(P){C.roomHandler.handleHbLogout(P)},this.heartBeatHandler.heartbeatRspNotiFy=function(P,re){C.messageHandler&&C.messageHandler.loginRsp(P),C.userHandler.patchUserList(P),C.HBResponse(P,re)}},vn.prototype.bindRoomHandler=function(){var C=this;this.roomHandler.loginSuccessCallBack=function(P,re){C.logger.info("zm.lrm.brh login suc "+P),C.heartBeatHandler.init(re),C.isUseNetAgent?C.liveRoomHandler.startCheck():C.service&&(C.service.stopCheck(),C.service.startCheck()),C.userHandler.loginRsp(re,P),C.messageHandler&&C.messageHandler.loginRsp(re),C.isMulti||C.handleMultiRoom(),C.roomLoginResponse(re)},this.roomHandler.resetRoomCallBack=function(){var P;C.heartBeatHandler.resetHeartbeat(),C.liveHandler&&C.liveHandler.resetLiveHandler(),C.messageHandler&&C.messageHandler.resetMessageInfo(),C.isUseNetAgent&&C.liveRoomHandler&&C.liveRoomHandler.stopCheck(),C.userHandler.resetUserHandler(),(P=C.service)!=null&&P.stopCheck(),C.roomTryHandler&&(C.roomTryHandler.invalid(),C.roomTryHandler.stopMaxTime())}},vn.prototype.bindUserHandler=function(){},vn.prototype.bindMessageHandler=function(){},vn.prototype.bindLiveHandler=function(){},vn.prototype.HBResponse=function(C,P){this.stateCenter.actionListener("HBResponse",C,P)},vn.prototype.roomLoginResponse=function(C){this.stateCenter.actionListener("roomLoginResponse",C)},vn.prototype.checkRoomSession=function(C){return this.isUseNetAgent?this.longRoomSid!==null&&this.longRoomSid.eq(C):this.roomSessionID===C},vn.prototype.handleMultiRoom=function(){var C=this;this.stateCenter.roomModulesList.forEach(function(P){P.runState!==y.login&&P.roomTryHandler&&P.isMulti==1&&(P.roomTryHandler.onactive=function(re,ye){var we;ye&&ye.code!==0?(ye.code!==0&&(we=fe.getLiveRoomError(ye.code,C.isUseNetAgent))&&ce[we]&&(ye=ce[we]),P.roomHandler.roomStateHandle("DISCONNECTED",x.ReconnectFailed,ye,ye.msg)):P.roomHandler.roomStateHandle("CONNECTED",x.Reconnected,ye)},P.roomTryHandler.startMaxTime(),P.roomTryHandler.active())})},vn.prototype.isLogin=function(){return this.runState===y.login},vn.prototype.isLogout=function(){return this.runState===y.logout},vn.prototype.isTryLogin=function(){return this.runState===y.trylogin},vn.prototype.isDisConnect=function(){return(this.isUseNetAgent?this.liveRoomHandler:this.service).isDisConnect()},vn.prototype.retryConnect=function(){this.logger.info("zm.lrm.rc call"),this.isUseNetAgent&&(this.resetSessionInfo(),this.liveRoomHandler.closeRequest())},vn.prototype.retryRoom=function(){this.logger.info("zm.lrm.rr.0 call"),this.roomTryHandler&&this.rtm.netAgent.isConnect()&&(this.resetRoomSession(),this.resetUserSession(),this.roomTryHandler.active(!0))},vn.prototype.resetSessionInfo=function(){var C;this.logger.info("zm.lrm.rsi call"),this.resetRoomSession(),this.resetUserSession(),(C=this.liveRoomHandler)!=null&&C.reset()},vn.prototype.resetRoomSession=function(){this.roomSessionID="0",this.longRoomSid=null},vn.prototype.resetUserSession=function(){this.sessionID="0",this.longSid=null};var Vi=vn;function vn(C,P,re,ye,we,Le,at){this.roomID=C,this.stateCenter=P,this.logger=re,this.dataReport=ye,this.rtm=we,this.liveRoomHandler=Le,this.service=at,this.runState=y.logout,this.lastRunState=y.logout,this.lastRoomState="DISCONNECTED",this.roomState="DISCONNECTED",this.roomSessionID="0",this.sessionID="0",this.longSid=null,this.longRoomSid=null,this.isMulti=!1,this.token="",this.thirdToken="",this.loginTime=0,this.userStateUpdate=!1,this.maxMemberCount=0,this.roomName="",this.roomHandler=new Zo(this.logger,this.stateCenter,this.dataReport,this,Le,this.service),this.heartBeatHandler=new Lo(this.logger,this.stateCenter,this.dataReport,this.liveRoomHandler,this,this.service),this.userHandler=new fn(this.logger,this.stateCenter,this.dataReport,this.liveRoomHandler,this,this.service),this.initMessageHandler(),this.initLiveHandler(),this.init()}Kn.prototype.createSocket=function(C){this.socket=Object(p.createZegoWebSocket)(C,this.ENV%2)},Kn.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},Kn.prototype.isDisConnect=function(){return!this.socket||this.socket.readyState!==1},Kn.prototype.sendMessage=function(C,P,re,ye,we){return re===void 0&&(re=null),ye===void 0&&(ye=null),we===void 0&&(we={timeOut:6e3}),we={data:P={header:C,body:P},seq:C.seq,deleted:!1,sendTime:Date.parse(new Date+""),timeOut:we.timeOut,success:re,error:ye},re=this.sendCommandList.push(we),this.sendCommandMap[we.seq]=re,this.socket&&this.socket.send(JSON.stringify(P)),C.seq},Kn.prototype.sendPB=function(C){return this.socket&&this.socket.send(C),!0},Kn.prototype.checkSendMessageList=function(C){for(var P=C.getFirst();P!=null;)(function(){var re,ye,we;C.remove(P),P&&P._data&&(re=P._data.error,ye=P._data.seq,we=P._data.data.body.custom_msg,setTimeout(function(){re&&re(ce.TIMEOUT,ye,we)},0)),P=C.getFirst()})()},Kn.prototype.checkMessageListTimeout=function(C,P){for(var re=C.getFirst(),ye=Date.parse(new Date+""),we=0,Le=this;re!=null&&function(){var at,Qt,Rt;return re._data&&re._data.sendTime+re._data.timeOut>ye||(re._data&&delete P[re._data.data.header.seq],C.remove(re),re._data&&re._data.error==null||re._data&&re._data.sendTime+Le.sendDataDropTimeout<ye||re&&re._data&&(at=re._data.error,Qt=re._data.seq,Rt=re._data.data.body.custom_msg,setTimeout(function(){at&&at(ce.TIMEOUT,Qt,Rt)},0)),++we>=Le.sendDataCheckOnceCount)?"break":void(re=C.getFirst())}()!=="break";);},Kn.prototype.startCheck=function(){var C=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout(function(){C.startCheck()},this.sendDataCheckInterval)},Kn.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),this.sendCommandMap={},clearTimeout(this.sendDataCheckTimer)},Kn.prototype.openHandler=function(C){var P=this;this.socket&&(this.socket.onopen=function(re){P.socket.binaryType="arraybuffer",P.responseHandler(),C(re)})},Kn.prototype.responseHandler=function(){var C=this;this.socket&&(this.socket.onmessage=function(P){P=typeof P.data=="string"?JSON.parse(P.data):P.data,C.onMessage(P)})},Kn.prototype.closeHandler=function(C){this.socket&&(this.socket.onclose=function(P){C(P)})},Kn.prototype.errorHandler=function(C){this.socket&&(this.socket.onerror=C)},Kn.prototype.onMessage=function(C){};var Ai=Kn;function Kn(C){this.socket=null,this.sendCommandList=new T,this.sendCommandMap={},this.sendDataCheckOnceCount=100,this.sendDataDropTimeout=1e4,this.sendDataCheckInterval=2e3,this.ENV=C}var Xo=function(){return(Xo=Object.assign||function(C){for(var P,re=1,ye=arguments.length;re<ye;re++)for(var we in P=arguments[re])Object.prototype.hasOwnProperty.call(P,we)&&(C[we]=P[we]);return C}).apply(this,arguments)},_s=(dn.prototype.checkResponse=function(C){return this.stateCenter.roomModulesList.filter(function(P){return P.runState!==y.logout}).length!=0&&(C.header.appid!==this.stateCenter.appid||C.header.user_id!==this.stateCenter.userid)},dn.prototype.handleSendCommandMsgRsp=function(C){var P,re=this,ye=this.service.sendCommandMap[C.header.seq];ye!=null&&(P=ye._data,delete this.service.sendCommandMap[C.header.seq],this.service.sendCommandList.remove(ye),C.body.err_code===0?setTimeout(function(){P&&P.success!=null&&P.success(C,re.cmdSeq)},0):setTimeout(function(){P&&P.error!=null&&P.error(C,re.cmdSeq)},0))},dn.prototype.onPush=function(){var C=this;this.service.onMessage=function(P){P instanceof ArrayBuffer?C.stateCenter.actionListener("_protobufResponse",P):P.header?(P.body.err_code!==0?P.body.err_message&&C.logger.error("".concat(un," cmd=").concat(P.header.cmd,", err_code=").concat(P.body.err_code,", err_message=").concat(P.body.err_message," ")):C.logger.info("".concat(un," cmd=").concat(P.header.cmd,", msg=").concat(JSON.stringify(P)," ")),-1<["login","logout"].indexOf(P.header.cmd)?C.handleSendCommandMsgRsp(P):C.checkResponse(P)?C.logger.error(un+"  check session fail."):(C.logger.info("".concat(un," cmd=").concat(P.header.cmd,",function=").concat(!!C.responseRouters[P.header.cmd])),C.handleSendCommandMsgRsp(P),C.responseRouters[P.header.cmd]&&C.responseRouters[P.header.cmd](P,C.cmdSeq))):C.logger.error("".concat(un," msg type error "))}},dn.prototype.handlePushKickout=function(C){var P,re;((re=C==null?void 0:C.body)==null?void 0:re.protocol)===void 0||((re=C==null?void 0:C.body)==null?void 0:re.protocol)===1?function(ye,we,Le){if(Le||arguments.length===2)for(var at,Qt=0,Rt=we.length;Qt<Rt;Qt++)!at&&Qt in we||((at=at||Array.prototype.slice.call(we,0,Qt))[Qt]=we[Qt]);return ye.concat(at||Array.prototype.slice.call(we))}([],this.stateCenter.roomModulesList,!0).forEach(function(ye){return ye.roomHandler.handlePushKickout(C,!0)}):(P=(re=C==null?void 0:C.header)==null?void 0:re.room_id,(re=this.stateCenter.roomModulesList.find(function(ye){return ye.roomID==P}))?re.roomHandler.handlePushKickout(C):this.logger.error(un+" room no found ignore "+JSON.stringify((re=C.header)==null?void 0:re.room_id)))},dn.prototype.handlePushCustomMsg=function(C){},dn.prototype.handlePushRoomMsg=function(C){},dn.prototype.handlePushUserStateUpdateMsg=function(C){var P,re=(ye=C==null?void 0:C.header)==null?void 0:ye.room_id,ye=this.stateCenter.roomModulesList.find(function(Le){return Le.roomID==re}),we=this.stateCenter.reporter.createSpan(N.H,{key:Ke.event,par:re},{key:""},Se.event);ye?(we.setAttributes({user_list_seq:(P=C==null?void 0:C.body)==null?void 0:P.user_list_seq,update_user:(P=C==null?void 0:C.body)==null?void 0:P.user_actions}),we.end(),ye.userHandler.handlePushUserStateUpdateMsg(C)):(this.logger.error(un+" room no found ignore "+JSON.stringify(C)),this.stateCenter.reporter.setError(we,Se.error.ROOM_NOT_EXIST))},dn.prototype.handlePushMergeMsg=function(C){},dn.prototype.handlePushTransMsg=function(C){},dn.prototype.handleBigImMsgRsp=function(C){},dn.prototype.handlePushSignalMsg=function(C){},dn.prototype.handlePushTokenExpire=function(C){this.stateCenter.actionListener("_tokenExpired",C)},dn.prototype.closeHandler=function(C){this.service.closeHandler(C)},dn.prototype.openHandler=function(C){this.service.openHandler(C)},dn.prototype.errorHandler=function(C){this.service.errorHandler(C)},dn.prototype.getHeader=function(C,P,re,ye){return{Protocol:"req",cmd:C,appid:this.stateCenter.appid,seq:++this.cmdSeq,user_id:this.stateCenter.userid,session_id:P||"",room_id:re||"",room_session_id:ye||"",biz_version:this.stateCenter.bizVersion||""}},dn.prototype.startCheck=function(){this.logger.info("zm.sc.0 start"),this.service.startCheck()},dn.prototype.stopCheck=function(){this.logger.info("zm.sc.1 stop"),this.service.stopCheck()},dn.prototype.isDisConnect=function(){return!this.service||this.service.isDisConnect()},dn.prototype.createSocket=function(C){var P=this;this.stateCenter.roomServer=C,this.service.createSocket(C),this.responseRouters=Xo(Xo({},this.responseRouters),{push_kickout:function(re){P.handlePushKickout(re)},push_custommsg:function(re){P.handlePushCustomMsg(re)},push_im_chat:function(re){P.handlePushRoomMsg(re)},push_userlist_update:function(re){P.handlePushUserStateUpdateMsg(re)},push_merge_message:function(re){P.handlePushMergeMsg(re)},push_trans:function(re){P.handlePushTransMsg(re)},push_signal:function(re){P.handlePushSignalMsg(re)},push_token_expire:function(re){P.handlePushTokenExpire(re)}})},dn.prototype.closeSocket=function(){this.service.closeSocket()},dn.prototype.sendMessage=function(C,P,re,ye,we,Le){var at,Qt;return this.service.isDisConnect()?(this.logger.error("zm.sv.sd socket is disconnect"),ye(ce.SOCKET_CLOSE),0):(at=Le!=null&&Le.roomID?Le.roomID:(at=this.stateCenter.roomModulesList[0])==null?void 0:at.roomID,Qt=Le!=null&&Le.roomSessionID?Le.roomSessionID:(Qt=this.stateCenter.roomModulesList[0])==null?void 0:Qt.roomSessionID,Le=Le!=null&&Le.sessionID?Le.sessionID:(Le=this.stateCenter.roomModulesList[0])==null?void 0:Le.sessionID,we=we||this.getHeader(C,Le,at,Qt),this.logger.info("zm.sv.sd sendMsg:"+JSON.stringify({header:we,body:P})),this.service.sendMessage(we,P,re,ye))},dn.prototype.on=function(C,P){this.responseRouters[C]=P},dn.prototype.login=function(C,P,re){var ye=this.getHeader(C.isMulti?"enter":"login",C.sessionID,C.roomID,C.roomSessionID);return C={id_name:this.stateCenter.idName,nick_name:this.stateCenter.nickName,role:this.stateCenter.role,token:C.token,version:this.stateCenter.sdKVersion,room_name:C.roomID,user_state_flag:C.userStateUpdate?1:0,room_create_flag:this.stateCenter.roomCreateFlag,client_type:this.stateCenter.ENV===0?te.ClientType_Webrtc:te.ClientType_SmallProgram,third_token:C.thirdToken,user_count_limit:C.maxMemberCount,relate_service:this.stateCenter.relateService.join()||"",login_logic:this.stateCenter.isMultiRoom?3:1,proto_format:this.stateCenter.protoFormat},this.sendMessage("",C,P,re,ye)},dn.prototype.logout=function(C,P,re){var ye=C.isMulti?"quit":"logout",we={reserve:0};return ye=="logout"&&(we.login_logic=this.stateCenter.isMultiRoom?3:1),this.sendMessage(ye,we,P,re,void 0,{sessionID:C.sessionID,roomID:C.roomID,roomSessionID:C.roomSessionID})},dn.prototype.heartBeat=function(C,P,re){return this.sendMessage("hb",{reserve:0},C,P,void 0,re)},dn.prototype.fetchUserList=function(C,P,re,ye){return this.sendMessage("user_list",C,P,re,void 0,ye)},dn.prototype.fetchUserListV2=function(C,P,re,ye){return this.sendMessage("user_list_v2",C,P,re,void 0,ye)},dn.prototype.fetchReliableMessage=function(C,P,re,ye){return this.sendMessage("trans_fetch",C,P,re,void 0,ye)},dn.prototype.sendReliableMessage=function(C,P,re,ye){return this.sendMessage("trans",C,P,re,void 0,ye)},dn.prototype.sendRoomMsg=function(C,P,re,ye){return this.sendMessage("im_chat",C,P,re,void 0,ye)},dn.prototype.sendCustomCommand=function(C,P,re,ye){return this.sendMessage("custommsg",C,P,re,void 0,ye)},dn.prototype.sendBigRoomMessage=function(C,P,re,ye){return this.sendMessage("bigim_chat",C,P,re,void 0,ye)},dn.prototype.sendRelayMessage=function(C,P,re,ye){return this.sendMessage("relay",C,P,re,void 0,ye)},dn.prototype.sendSignalCmd=function(C,P,re,ye){return this.sendMessage("signal",C,P,re,void 0,ye)},dn.prototype.sendPB=function(C){return this.service.isDisConnect()||this.stateCenter.networkState==U.offline?(this.logger.error("zm.spb socket is disconnected"),!1):this.service.sendPB(C)},dn);function dn(C,P,re){this.stateCenter=C,this.logger=P,this.rtm=re,this.service=new Ai(this.stateCenter.ENV),this.cmdSeq=0,this.responseRouters={}}Oo.prototype.setSetting=function(C,P){var re,ye,we=Array.isArray(P)&&0<P.length;for(re in C)if(typeof C[re].ctrlmode=="number"&&[1,2].includes(C[re].ctrlmode))this.setting[re]=C[re],this.setting[re+"_ctrlmode"]=C[re].ctrlmode;else for(var Le in C[re])Le.endsWith("_ctrlmode")||we&&P.indexOf(Le)==-1||((ye=C[re][Le+"_ctrlmode"])===1||ye===2?this.setting[Le]=C[re][Le]:this.defaultSetting[Le]&&(this.setting[Le]=this.defaultSetting[Le]),typeof ye=="number"&&(this.setting[Le+"_ctrlmode"]=C[re][Le+"_ctrlmode"]))},Oo.prototype.getSetting=function(C,P){return(P=P!==void 0&&P)&&this.setting[C+"_ctrlmode"]!=2?void 0:this.setting[C]};var Ua=Oo;function Oo(){this.defaultSetting={remote_log_level:"info",zip_log:0,detaillog_domain:""},this.requestList={},this.setting=JSON.parse(JSON.stringify(this.defaultSetting))}for(var ni=I(2),Li=ni.roots,Wi=ni.types?ni.types.basic:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0,string:2,bytes:2},ea=ni.types?ni.types.packed:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0},Yn=Object.keys(Wi),ta=ni.util.Long?ni.util.Long.fromBits:function(){return 0},Oi={$:function(C){return Oi[C]?Oi[C].call(this):Li[C].decode?Li[C].decode(this,this.uint32()):Oi.$.call(this,"int32")}},Io={$:function(C,P,re){var ye=Wi[C];return ye===void 0?Li[C].encode?(this.uint32((re<<3|2)>>0).fork(),Li[C].encode(P,this).ldelim()):Io.$.call(this,"int32",P,re):Io[C].call(this.uint32(re<<3|ye),P)}},so=0;so<Yn.length;so++)Oi[Yn[so]]=ni.Reader.prototype[Yn[so]],Io[Yn[so]]=ni.Writer.prototype[Yn[so]];(function C(P,re,ye,we){for(var Le=0,at=Object.keys(P);Le<at.length;Le++){var Qt=at[Le];if(P[Qt].$m&&Object.keys(P[Qt].$m).every(function(Rt){return Number(Rt)})){if(ye[Qt])throw Error(`nested type ${ye}.${Qt} has already exist`);ye[Qt]=function(Rt,Jt){function qt(Er){for(var zr in Rt)(zr=Rt[zr])[1].charAt(0)==="{"?this[zr[0]]={}:zr[1].charAt(0)!=="["&&zr[1].charAt(0)!=="<"||(this[zr[0]]=[]);if(Er)for(var Tn=Object.keys(Er),nn=0;nn<Tn.length;++nn)Er[Tn[nn]]!=null&&(this[Tn[nn]]=Er[Tn[nn]])}var Wt,rn={};for(Wt in Rt){var Yr=Rt[Wt],an=Yr[1];an.charAt(0)==="{"?(qt.prototype[Yr[0]]=ni.util.emptyObject,rn[an]={$m:an.substring(1).split(",").map(function(Er,zr){return["$"+(zr+1),Er,null]}).reduce(function(Er,zr,Tn){return Er[Tn+1]=zr,Er},{})}):an.charAt(0)==="["||an.charAt(0)==="<"?qt.prototype[Yr[0]]=ni.util.emptyArray:an==="bytes"?qt.prototype[Yr[0]]=ni.util.newBuffer([]):Yr[2]&&Yr[2].hasOwnProperty("low")&&Yr[2].hasOwnProperty("high")?qt.prototype[Yr[0]]=ta(Yr[2].low,Yr[2].high,Yr[2].unsigned):qt.prototype[Yr[0]]=Yr[2]}return qt.create=function(Er){return new qt(Er)},qt.decode=function(Er,zr){Er instanceof ni.Reader||(Er=ni.Reader.create(Er));for(var Tn=zr===void 0?Er.len:Er.pos+zr,nn=new qt;Er.pos<Tn;){var qn=Er.uint32(),_n=qn>>>3;if(0<_n&&Rt[_n]){var Wn=Rt[_n][0],Ln=Rt[_n][1];if(Ln.charAt(0)==="{")nn[Wn]===ni.util.emptyObject&&(nn[Wn]={}),_n=qt.$namespace[Ln].decode(Er,Er.uint32()),nn[Wn][_n.$1]=_n.$2;else if(Ln.charAt(0)==="["||Ln.charAt(0)==="<")if(Ln=Ln.substring(1),nn[Wn]&&nn[Wn].length||(nn[Wn]=[]),ea[Ln]!==void 0&&(7&qn)==2)for(var Si=Er.uint32()+Er.pos;Er.pos<Si;)nn[Wn].push(Oi.$.call(Er,Ln));else nn[Wn].push(Oi.$.call(Er,Ln));else nn[Wn]=Oi.$.call(Er,Ln)}else Er.skipType(7&qn)}return nn},qt.encode=function(Er,zr){for(var Tn in zr=zr||ni.Writer.create(),Rt){var nn=Rt[Tn][0];if((Ln=Rt[Tn][1]).charAt(0)==="{"){if(Er[nn]!=null&&Er.hasOwnProperty(nn))for(var qn=0,_n=Object.keys(Er[nn]);qn<_n.length;++qn)zr.uint32((Tn<<3|2)>>0).fork(),qt.$namespace[Ln].encode({$1:_n[qn],$2:Er[nn][_n[qn]]},zr).ldelim()}else if(Ln.charAt(0)==="["||Ln.charAt(0)==="<"){var Wn=Ln.charAt(0)==="<",Ln=Ln.substring(1),Si=Er[nn];if(Si!=null&&Si.length)if(Wn&&ea[Ln]!==void 0){for(zr.uint32((Tn<<3|2)>>0).fork(),qn=0;qn<Si.length;qn++)Io[Ln].call(zr,Si[qn]);zr.ldelim()}else for(qn=0;qn<Si.length;qn++)Io.$.call(zr,Ln,Si[qn],Tn)}else Er[nn]!=null&&Er.hasOwnProperty(nn)&&Io.$.call(zr,Ln,Er[nn],Tn)}return zr},Object.keys(rn).length&&(qt.$namespace=C(rn,re+"."+Jt,qt.$namespace||{},!0)),qt}(P[Qt].$m,Qt)}else P[Qt].$s?ye[Qt]=function(Rt,Jt){function qt(Wt,rn,Yr){ni.rpc.Service.call(this,Wt,rn,Yr)}return((qt.prototype=Object.create(ni.rpc.Service.prototype)).constructor=qt).create=function(Wt,rn,Yr){return new qt(Wt,rn,Yr)},Object.keys(Rt).forEach(function(Wt){var rn=Rt[Wt];function Yr(an,Er){return this.rpcCall(Yr,Li[rn[0]],Li[rn[1]],an,Er)}Object.defineProperty(Yr,"name",{value:Wt}),Object.defineProperty(Yr,"path",{value:re+"."+Jt}),qt.prototype[Wt]=Yr}),qt}(P[Qt].$s,Qt):P[Qt].$e&&Object.values(P[Qt].$e).every(function(Rt){return Number(Rt)===Rt})&&(ye[Qt]=function(Rt){for(var Jt=Object.keys(Rt),qt={},Wt=0;Wt<Jt.length;Wt++)qt[qt[Jt[Wt]]=Rt[Jt[Wt]]]=Jt[Wt];return qt}(P[Qt].$e));ye[Qt]&&!we&&(Li[re+"."+Qt]=ye[Qt]),delete P[Qt].$m,delete P[Qt].$s,delete P[Qt].$e,ye[Qt]=C(P[Qt],re?re+"."+Qt:Qt,ye[Qt]||{})}return ye})({PB:{liveroom_cs_v3:{AddStreamReq:{$m:{1:["stream_id","bytes",[]],2:["stream_title","bytes",[]],3:["stream_type","uint32",0],4:["stream_attr","bytes",[]],5:["extra_info","bytes",[]],6:["client_req_seq","uint32",0],7:["third_token","bytes",[]],8:["censor_mode","uint32",0],9:["need_gather","uint32",0]}},AddStreamRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["stream_seq","uint32",0],3:["stream_sid","string",""],4:["stream_ver","uint32",0],5:["stream_nid","uint32",0],6:["token_remain_time","uint32",0]}},AnchorInfo:{$m:{1:["id_name","bytes",[]],2:["user_id","uint64",{low:0,high:0,unsigned:!0}],3:["nick_name","bytes",[]]}},BigImData:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0],4:["msg_id","bytes",[]],5:["msg_category","uint32",0],6:["msg_type","uint32",0],7:["msg_content","bytes",[]],8:["msg_timestamp","int64",{low:0,high:0,unsigned:!1}]}},CommonRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},DeleteStreamReq:{$m:{1:["stream_sid","string",""],2:["stream_id","bytes",[]],3:["client_req_seq","uint32",0]}},DeleteStreamRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["stream_seq","uint32",0],3:["stream_ver","uint32",0]}},EnterRoomReq:{$m:{1:["net_type","uint32",0],2:["conn_type","uint32",0],3:["room_id","bytes",[]],4:["room_name","bytes",[]],5:["role","uint32",0],6:["third_token","bytes",[]],7:["room_create_flag","uint32",0],8:["user_state_flag","uint32",0],9:["user_count_limit","uint32",0],10:["relate_service","string",""],11:["need_gather_stream","uint32",0],12:["callback_data","bytes",[]],13:["service_flags","uint32",0],14:["license_token","bytes",[]]}},EnterRoomRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["user_session_id","uint64",{low:0,high:0,unsigned:!0}],3:["room_session_id","uint64",{low:0,high:0,unsigned:!0}],4:["user_id","uint64",{low:0,high:0,unsigned:!0}],5:["ret_timestamp","int64",{low:0,high:0,unsigned:!1}],6:["big_im_time_window","uint32",0],7:["liveroom_hb_interval","uint32",0],8:["liveroom_hb_timeout","uint32",0],9:["online_count","uint32",0],10:["anchor_info","PB.liveroom_cs_v3.AnchorInfo",null],11:["userlist_merge_timeout","uint32",0],12:["userlist_interval","uint32",0],13:["token_remain_time","uint32",0],14:["trans_list_seq","uint32",0],15:["trans_channel_list","<PB.liveroom_cs_v3.TransChannel",null],16:["stream_count","uint32",0],17:["stream_list_seq","uint32",0],18:["stream_info_list","<PB.liveroom_cs_v3.StreamInfo",null],19:["stream_fetch_flag","uint32",0],20:["stream_list_push_merge_timeout","uint32",0],21:["stream_list_hb_merge_timeout","uint32",0],22:["relate_result_list","<PB.liveroom_cs_v3.RelateResult",null],23:["gather_list_seq","uint32",0],24:["gather_info_list","<PB.liveroom_cs_v3.GatherInfo",null]}},EnumSignalTransmitResult:{$e:{ok:0,version_err:1}},GatherInfo:{$m:{1:["gather_id","string",""]}},GetGatherListReq:{$m:{}},GetGatherListRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["gather_list_seq","uint32",0],3:["gather_info_list","<PB.liveroom_cs_v3.GatherInfo",null]}},GetImReq:{$m:{1:["msg_id","uint64",{low:0,high:0,unsigned:!0}],2:["sort_type","uint32",0],3:["msg_count","uint32",0]}},GetImRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["server_msg_id","uint64",{low:0,high:0,unsigned:!0}],3:["ret_msg_id","uint64",{low:0,high:0,unsigned:!0}],4:["msg_list","<PB.liveroom_cs_v3.GetImRspImData",null]}},GetImRspImData:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0],4:["msg_id","uint64",{low:0,high:0,unsigned:!0}],5:["msg_category","uint32",0],6:["msg_type","uint32",0],7:["msg_content","bytes",[]],8:["send_time","int64",{low:0,high:0,unsigned:!1}]}},GetStreamListReq:{$m:{}},GetStreamListRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["stream_list_seq","uint32",0],3:["stream_info_list","<PB.liveroom_cs_v3.StreamInfo",null],4:["stream_refresh","uint32",0]}},GetTransReq:{$m:{1:["trans_channel","bytes",[]],2:["trans_list","<PB.liveroom_cs_v3.GetTransReqTransData",null]}},GetTransReqTransData:{$m:{1:["trans_type","bytes",[]],2:["trans_local_seq","uint32",0]}},GetTransRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["trans_channel","bytes",[]],3:["trans_list_seq","uint32",0],4:["trans_list","<PB.liveroom_cs_v3.GetTransRspTransData",null]}},GetTransRspTransData:{$m:{1:["err_code","uint32",0],2:["trans_type","bytes",[]],3:["trans_data","bytes",[]],4:["trans_send_time","int64",{low:0,high:0,unsigned:!1}],5:["trans_seq","uint32",0],6:["id_name","bytes",[]],7:["nick_name","bytes",[]],8:["role","uint32",0]}},GetUserlistReq:{$m:{1:["sort_type","uint32",0],2:["user_index","uint32",0]}},GetUserlistRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["server_user_seq","uint64",{low:0,high:0,unsigned:!0}],3:["server_user_index","int64",{low:0,high:0,unsigned:!1}],4:["ret_user_index","int64",{low:0,high:0,unsigned:!1}],5:["user_base_info_list","<PB.liveroom_cs_v3.UserBaseInfo",null]}},GetUserTransReq:{$m:{1:["trans_channel","bytes",[]],2:["user_trans_list","<PB.liveroom_cs_v3.GetUserTransReqTransData",null]}},GetUserTransReqTransData:{$m:{1:["trans_type","bytes",[]],2:["trans_local_seq","uint32",0]}},GetUserTransRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["trans_channel","bytes",[]],3:["user_trans_list","<PB.liveroom_cs_v3.GetUserTransRspTransData",null]}},GetUserTransRspTransData:{$m:{1:["err_code","uint32",0],2:["trans_type","bytes",[]],3:["trans_data","bytes",[]],4:["trans_send_time","int64",{low:0,high:0,unsigned:!1}],5:["trans_seq","uint32",0],6:["id_name","bytes",[]],7:["nick_name","bytes",[]],8:["role","uint32",0]}},HbReq:{$m:{}},HbRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["ret_timestamp","int64",{low:0,high:0,unsigned:!1}],3:["hb_interval","uint32",0],4:["hb_timeout","uint32",0],5:["stream_seq","uint32",0],6:["user_seq","int64",{low:0,high:0,unsigned:!1}],7:["online_count","uint32",0],8:["big_im_time_window","uint32",0],9:["trans_channel_list","<PB.liveroom_cs_v3.TransChannel",null],10:["user_trans_channel_list","<PB.liveroom_cs_v3.TransChannel",null],11:["stream_refresh","uint32",0],12:["trans_list_seq","uint32",0],13:["gather_list_seq","uint32",0]}},ImData:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0],4:["msg_id","uint64",{low:0,high:0,unsigned:!0}],5:["msg_category","uint32",0],6:["msg_type","uint32",0],7:["msg_content","bytes",[]],8:["send_time","int64",{low:0,high:0,unsigned:!1}]}},LiveroomSessionInfo:{$m:{1:["RoomId","bytes",[]],2:["UserSessionId","uint64",{low:0,high:0,unsigned:!0}],3:["RoomSessionId","uint64",{low:0,high:0,unsigned:!0}],4:["Role","uint32",0]}},PushBigIm:{$m:{1:["msg_list","<PB.liveroom_cs_v3.BigImData",null]}},PushIm:{$m:{1:["server_msg_id","uint64",{low:0,high:0,unsigned:!0}],2:["ret_msg_id","uint64",{low:0,high:0,unsigned:!0}],4:["msg_list","<PB.liveroom_cs_v3.ImData",null]}},PushStartGather:{$m:{1:["gather_id","string",""],2:["gather_seq","uint32",0]}},PushStopGather:{$m:{1:["gather_id","string",""],2:["gather_seq","uint32",0]}},PushStream:{$m:{1:["stream_seq","uint32",0],2:["stream_info_list","<PB.liveroom_cs_v3.PushStreamInfo",null]}},PushStreamInfo:{$m:{1:["stream_id","bytes",[]],2:["stream_sid","string",""],3:["id_name","bytes",[]],4:["nick_name","bytes",[]],5:["stream_title","bytes",[]],6:["stream_ver","uint32",0],7:["stream_attr","bytes",[]],8:["stream_src","uint32",0],9:["stream_state","uint32",0],10:["stream_type","uint32",0],11:["stream_nid","uint32",0],12:["extra_info","bytes",[]],13:["create_time","int64",{low:0,high:0,unsigned:!1}],14:["close_type","uint32",0],15:["need_gather","uint32",0]}},PushTrans:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0],4:["trans_type","bytes",[]],5:["trans_data","bytes",[]],6:["trans_seq","uint32",0],7:["trans_send_time","int64",{low:0,high:0,unsigned:!1}],8:["trans_channel","bytes",[]],9:["trans_list_seq","uint32",0]}},PushUserInfoUpdated:{$m:{1:["server_user_seq","int64",{low:0,high:0,unsigned:!1}],2:["user_action_list","<PB.liveroom_cs_v3.UserAction",null]}},PushUserKickout:{$m:{1:["id_name","bytes",[]],2:["user_session_id","uint64",{low:0,high:0,unsigned:!0}],3:["kickout_reason","int32",0],4:["custom_reason","bytes",[]]}},PushUserLogReport:{$m:{}},PushUserTokenExpire:{$m:{1:["token","string",""],2:["stop_stream_info","PB.liveroom_cs_v3.StopStream",null]}},PushUserTrans:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0],4:["trans_send_time","int64",{low:0,high:0,unsigned:!1}],5:["trans_channel","bytes",[]],6:["trans_seq_list","<PB.liveroom_cs_v3.PushUserTransInfo",null]}},PushUserTransInfo:{$m:{1:["trans_type","bytes",[]],2:["trans_data","bytes",[]],3:["trans_seq","uint32",0]}},QuitRoomReq:{$m:{}},QuitRoomRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},RelateResult:{$m:{1:["service","string",""],2:["relate_result","uint32",0]}},RenewTokenReq:{$m:{1:["token","string",""]}},RenewTokenRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["token_remain_time","uint32",0],3:["stop_stream_id_list","<bytes",null]}},RspHead:{$m:{1:["code","uint32",0],2:["message","string",""]}},SendBigImReq:{$m:{1:["msg_list","<PB.liveroom_cs_v3.SendBigImReqMsgData",null]}},SendBigImReqMsgData:{$m:{1:["msg_category","uint32",0],2:["msg_type","uint32",0],3:["msg_content","bytes",[]],4:["msg_timestamp","int64",{low:0,high:0,unsigned:!1}],5:["msg_client_id","bytes",[]]}},SendBigImRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["big_im_time_window","uint32",0],3:["msg_list","<PB.liveroom_cs_v3.SendBigImRspMsgData",null]}},SendBigImRspMsgData:{$m:{1:["msg_id","bytes",[]],2:["msg_client_id","bytes",[]]}},SendImReq:{$m:{1:["msg_category","uint32",0],2:["msg_type","uint32",0],3:["msg_content","bytes",[]],4:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SendImRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["msg_id","uint64",{low:0,high:0,unsigned:!0}]}},SetTransReq:{$m:{1:["trans_type","bytes",[]],2:["trans_data","bytes",[]],3:["trans_local_seq","uint32",0],4:["trans_channel","bytes",[]]}},SetTransRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["trans_type","bytes",[]],3:["trans_seq","uint32",0],4:["trans_list_seq","uint32",0],5:["trans_channel","bytes",[]]}},SetUserAttrReq:{$m:{1:["use_data_channel","uint32",0],2:["is_modify_use_data_channel","bool",!1],3:["user_type","uint32",0],4:["is_modify_user_type","bool",!1]}},SetUserAttrRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalLiveCustomReq:{$m:{1:["push_message","bytes",[]],2:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SignalLiveCustomRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalLiveInviteReq:{$m:{1:["push_message","bytes",[]],2:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SignalLiveInviteRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalLiveRequestReq:{$m:{1:["push_message","bytes",[]],2:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SignalLiveRequestRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalLiveResultReq:{$m:{1:["push_message","bytes",[]],2:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SignalLiveResultRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalLiveStopReq:{$m:{1:["push_message","bytes",[]],2:["to_user_list","<PB.liveroom_cs_v3.ToUser",null]}},SignalLiveStopRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null]}},SignalTransmitReq:{$m:{1:["to_user_list","<bytes",null],2:["transmit_data","bytes",[]]}},SignalTransmitResult:{$m:{1:["to_user","bytes",[]],2:["result","PB.liveroom_cs_v3.EnumSignalTransmitResult",0]}},SignalTransmitRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["result","<PB.liveroom_cs_v3.SignalTransmitResult",null]}},StopStream:{$m:{1:["stream_id_list","<bytes",null]}},StreamInfo:{$m:{1:["stream_id","bytes",[]],2:["stream_sid","string",""],3:["id_name","bytes",[]],4:["nick_name","bytes",[]],5:["stream_title","bytes",[]],6:["stream_ver","uint32",0],7:["stream_attr","bytes",[]],8:["create_time","int64",{low:0,high:0,unsigned:!1}],9:["stream_src","uint32",0],10:["stream_state","uint32",0],11:["stream_type","uint32",0],12:["stream_nid","uint32",0],13:["extra_info","bytes",[]],14:["need_gather","uint32",0]}},ToUser:{$m:{1:["id_name","bytes",[]],2:["user_id","uint64",{low:0,high:0,unsigned:!0}]}},TransChannel:{$m:{1:["trans_channel","bytes",[]],2:["trans_seq_list","<PB.liveroom_cs_v3.TransSeq",null]}},TransSeq:{$m:{1:["trans_type","bytes",[]],2:["trans_seq","uint32",0]}},UpdateStreamReq:{$m:{1:["stream_sid","string",""],2:["stream_id","bytes",[]],3:["stream_title","bytes",[]],4:["stream_attr","bytes",[]],5:["extra_info","bytes",[]],6:["client_req_seq","uint32",0],7:["nick_name","bytes",[]]}},UpdateStreamRsp:{$m:{1:["rsp_head","PB.liveroom_cs_v3.RspHead",null],2:["stream_seq","uint32",0],3:["stream_ver","uint32",0]}},UserAction:{$m:{1:["action","uint32",0],2:["id_name","bytes",[]],3:["nick_name","bytes",[]],4:["role","uint32",0],5:["login_time","int64",{low:0,high:0,unsigned:!1}]}},UserBaseInfo:{$m:{1:["id_name","bytes",[]],2:["nick_name","bytes",[]],3:["role","uint32",0]}}},proto_switch_v3:{AnchorInfo:{$m:{1:["id_name","bytes",[]],2:["user_id","uint64",{low:0,high:0,unsigned:!0}],3:["nick_name","bytes",[]]}},CommonRsp:{$m:{1:["rsp_head","PB.proto_switch_v3.RspHead",null]}},GatherInfo:{$m:{1:["gather_id","string",""]}},Header:{$m:{1:["cmd","uint32",0],2:["seq","uint32",0],3:["timestamp","int64",{low:0,high:0,unsigned:!1}],4:["controls","bytes",[]],5:["flags","bytes",[]],6:["context_key","uint32",0],101:["dev_traffic_label","bytes",[]]}},LiveroomProtoVersion:{$e:{PROTO_VERSION_NONE:0,RPOTO_V020000:131072}},LoginRoomReq:{$m:{1:["app_id","uint32",0],2:["biz_type","uint32",0],3:["room_id","bytes",[]],4:["room_name","bytes",[]],5:["role","uint32",0],6:["id_name","bytes",[]],7:["nick_name","bytes",[]],8:["device_id","string",""],9:["term_type","PB.proto_switch_v3.TermType",0],10:["net_type","PB.proto_switch_v3.NetType",0],11:["sdk_conn_type","PB.proto_switch_v3.SdkConnType",0],12:["sdk_version","uint32",0],13:["biz_version","string",""],14:["client_stamp","bytes",[]],15:["login_logic","uint32",0],16:["third_token","bytes",[]],17:["login_token","bytes",[]],18:["relogin_token","bytes",[]],19:["switch_session_id","uint64",{low:0,high:0,unsigned:!0}],20:["user_session_id","uint64",{low:0,high:0,unsigned:!0}],21:["room_create_flag","uint32",0],22:["user_state_flag","uint32",0],23:["user_count_limit","uint32",0],24:["relate_service","string",""],25:["need_gather_stream","uint32",0],26:["callback_data","bytes",[]],27:["service_flags","uint32",0],28:["license_token","bytes",[]]}},LoginRoomRsp:{$m:{1:["rsp_head","PB.proto_switch_v3.RspHead",null],2:["switch_session_id","uint64",{low:0,high:0,unsigned:!0}],3:["user_session_id","uint64",{low:0,high:0,unsigned:!0}],4:["room_session_id","uint64",{low:0,high:0,unsigned:!0}],5:["user_id","uint64",{low:0,high:0,unsigned:!0}],6:["ret_timestamp","int64",{low:0,high:0,unsigned:!1}],7:["big_im_time_window","uint32",0],8:["liveroom_hb_interval","uint32",0],9:["liveroom_hb_timeout","uint32",0],10:["online_count","uint32",0],11:["anchor_info","PB.proto_switch_v3.AnchorInfo",null],12:["relogin_token","bytes",[]],13:["userlist_merge_timeout","uint32",0],14:["userlist_interval","uint32",0],15:["token_remain_time","uint32",0],16:["trans_list_seq","uint32",0],17:["trans_channel_list","<PB.proto_switch_v3.TransChannel",null],18:["stream_count","uint32",0],19:["stream_list_seq","uint32",0],20:["stream_info_list","<PB.proto_switch_v3.StreamInfo",null],21:["stream_fetch_flag","uint32",0],22:["stream_list_push_merge_timeout","uint32",0],23:["stream_list_hb_merge_timeout","uint32",0],24:["relate_result_list","<PB.proto_switch_v3.RelateResult",null],25:["gather_list_seq","uint32",0],26:["gather_info_list","<PB.proto_switch_v3.GatherInfo",null]}},LogoutRoomReq:{$m:{1:["logout_code","uint32",0],2:["logout_check","bytes",[]],3:["user_session_id","uint64",{low:0,high:0,unsigned:!0}],4:["logout_logic","uint32",0]}},LogoutRoomRsp:{$m:{1:["rsp_head","PB.proto_switch_v3.RspHead",null]}},MergePushHead:{$m:{1:["qos_flag","uint32",0],2:["send_time","int64",{low:0,high:0,unsigned:!1}]}},MergePushInfo:{$m:{1:["sub_cmd","uint32",0],2:["sub_seq","uint32",0],3:["msg_body","bytes",[]]}},MergePushReq:{$m:{1:["head","PB.proto_switch_v3.MergePushHead",null],2:["message_list","<PB.proto_switch_v3.MergePushInfo",null]}},MergePushRsp:{$m:{1:["message_list","<PB.proto_switch_v3.MergePushRspInfo",null],2:["server_send_time","int64",{low:0,high:0,unsigned:!1}]}},MergePushRspInfo:{$m:{1:["sub_cmd","uint32",0],2:["sub_seq","uint32",0]}},NetType:{$e:{NT_NONE:0,NT_LINE:1,NT_WIFI:2,NT_2G:3,NT_3G:4,NT_4G:5,NT_UNKNOWN:32}},PushKickout:{$m:{1:["reason","uint32",0],2:["message","string",""],3:["is_need_relogin","uint32",0]}},PushReq:{$m:{1:["head","PB.proto_switch_v3.PushReqHead",null],2:["msg_body","bytes",[]]}},PushReqHead:{$m:{1:["sub_cmd","uint32",0],2:["qos_flag","uint32",0],3:["send_time","int64",{low:0,high:0,unsigned:!1}]}},PushRsp:{$m:{1:["code","uint32",0],2:["message","string",""],3:["sub_cmd","uint32",0],4:["server_send_time","int64",{low:0,high:0,unsigned:!1}]}},RelateResult:{$m:{1:["service","string",""],2:["relate_result","uint32",0]}},RspHead:{$m:{1:["code","uint32",0],2:["message","string",""]}},SdkConnType:{$e:{SdkConnType_None:0,SdkConnType_Tcp:1,SdkConnType_Websocket:2}},StreamInfo:{$m:{1:["stream_id","bytes",[]],2:["stream_sid","string",""],3:["id_name","bytes",[]],4:["nick_name","bytes",[]],5:["create_time","int64",{low:0,high:0,unsigned:!1}],6:["extra_info","bytes",[]],7:["title","bytes",[]],8:["stream_ver","uint32",0],9:["stream_attr","bytes",[]],10:["stream_src","uint32",0],11:["stream_state","uint32",0],12:["stream_type","uint32",0],13:["stream_nid","uint32",0],14:["need_gather","uint32",0]}},TermType:{$e:{TT_NONE:0,TT_PC:1,TT_IOS:2,TT_ANDROID:3,TT_MAC:4,TT_LINUX:5,TT_WEB:6,TT_MINI_PROGRAM:7,TT_UNKNOWN:32}},TransChannel:{$m:{1:["trans_channel","bytes",[]],2:["trans_seq_list","<PB.proto_switch_v3.TransSeq",null]}},TransSeq:{$m:{1:["trans_type","bytes",[]],2:["trans_seq","uint32",0]}}}}},"",Li,!1),ni.util.global.PB=Li.PB,m=Li.PB;var Hn,Po={1002:"LoginRoomRsp",1004:"LogoutRoomRsp",1101:"PushReq",1103:"MergePushReq",1105:"PushKickout",10001:"PushUserInfoUpdated",10002:"PushUserKickout",10003:"PushUserLogReport",10004:"PushUserTokenExpire",12001:"PushStream",12002:"PushStream",12003:"PushStream",13001:"PushIm",14001:"PushBigIm",15001:"PushTrans",15002:"PushUserTrans",301002:"EnterRoomRsp",301004:"QuitRoomRsp",301006:"HbRsp",301008:"RenewTokenRsp",301012:"SetTransRsp",301014:"GetTransRsp",302002:"AddStreamRsp",302004:"DeleteStreamRsp",302006:"UpdateStreamRsp",302008:"GetStreamListRsp",303002:"SendImRsp",303006:"SendBigImRsp",303010:"SignalLiveRequestRsp",303012:"SignalLiveResultRsp",303014:"SignalLiveInviteRsp",303016:"SignalLiveStopRsp",303018:"SignalLiveCustomRsp",304002:"GetUserlistRsp"},ir=((ir=Hn=Hn||{})[ir.LoginRoomReq=1001]="LoginRoomReq",ir[ir.LoginRoomRsp=1002]="LoginRoomRsp",ir[ir.LogoutRoomReq=1003]="LogoutRoomReq",ir[ir.LogoutRoomRsp=1004]="LogoutRoomRsp",ir[ir.PushReq=1101]="PushReq",ir[ir.PushRsp=1102]="PushRsp",ir[ir.MergePushReq=1103]="MergePushReq",ir[ir.MergePushRsp=1104]="MergePushRsp",ir[ir.PushKickout=1105]="PushKickout",ir[ir.PushUserInfoUpdated=10001]="PushUserInfoUpdated",ir[ir.PushUserKickout=10002]="PushUserKickout",ir[ir.PushUserLogReport=10003]="PushUserLogReport",ir[ir.PushUserTokenExpire=10004]="PushUserTokenExpire",ir[ir.PushIm=13001]="PushIm",ir[ir.PushBigIm=14001]="PushBigIm",ir[ir.PushTrans=15001]="PushTrans",ir[ir.PushUserTrans=15002]="PushUserTrans",ir[ir.EnterRoomReq=301001]="EnterRoomReq",ir[ir.EnterRoomRsp=301002]="EnterRoomRsp",ir[ir.QuitRoomReq=301003]="QuitRoomReq",ir[ir.QuitRoomRsp=301004]="QuitRoomRsp",ir[ir.HbReq=301005]="HbReq",ir[ir.HbRsp=301006]="HbRsp",ir[ir.RenewTokenReq=301007]="RenewTokenReq",ir[ir.RenewTokenRsp=301008]="RenewTokenRsp",ir[ir.SetUserAttrReq=301009]="SetUserAttrReq",ir[ir.SetUserAttrRsp=301010]="SetUserAttrRsp",ir[ir.SetTransReq=301011]="SetTransReq",ir[ir.SetTransRsp=301012]="SetTransRsp",ir[ir.GetTransReq=301013]="GetTransReq",ir[ir.GetTransRsp=301014]="GetTransRsp",ir[ir.GetUserTransReq=301015]="GetUserTransReq",ir[ir.GetUserTransRsp=301016]="GetUserTransRsp",ir[ir.AddStreamReq=302001]="AddStreamReq",ir[ir.AddStreamRsp=302002]="AddStreamRsp",ir[ir.DeleteStreamReq=302003]="DeleteStreamReq",ir[ir.DeleteStreamRsp=302004]="DeleteStreamRsp",ir[ir.UpdateStreamReq=302005]="UpdateStreamReq",ir[ir.UpdateStreamRsp=302006]="UpdateStreamRsp",ir[ir.GetStreamListReq=302007]="GetStreamListReq",ir[ir.GetStreamListRsp=302008]="GetStreamListRsp",ir[ir.SendImReq=303001]="SendImReq",ir[ir.SendImRsp=303002]="SendImRsp",ir[ir.GetImReq=303003]="GetImReq",ir[ir.GetImRsp=303004]="GetImRsp",ir[ir.SendBigImReq=303005]="SendBigImReq",ir[ir.SendBigImRsp=303006]="SendBigImRsp",ir[ir.SignalLiveRequestReq=303009]="SignalLiveRequestReq",ir[ir.SignalLiveRequestRsp=303010]="SignalLiveRequestRsp",ir[ir.SignalLiveResultReq=303011]="SignalLiveResultReq",ir[ir.SignalLiveResultRsp=303012]="SignalLiveResultRsp",ir[ir.SignalLiveInviteReq=303013]="SignalLiveInviteReq",ir[ir.SignalLiveInviteRsp=303014]="SignalLiveInviteRsp",ir[ir.SignalLiveStopReq=303015]="SignalLiveStopReq",ir[ir.SignalLiveStopRsp=303016]="SignalLiveStopRsp",ir[ir.SignalLiveCustomReq=303017]="SignalLiveCustomReq",ir[ir.SignalLiveCustomRsp=303018]="SignalLiveCustomRsp",ir[ir.SignalTransmitReq=303019]="SignalTransmitReq",ir[ir.SignalTransmitRsp=303020]="SignalTransmitRsp",ir[ir.GetUserlistReq=304001]="GetUserlistReq",ir[ir.GetUserlistRsp=304002]="GetUserlistRsp",I(2)),ki=I(12),Fo=I.n(ki),ra=(ki=I(4),I.n(ki)),Ga=(mo.prototype.md5Bytes=function(C){return this.wordArray2Uint8Array(ra()(this.uint8Array2WordArray(C)))},mo.prototype.wordArray2Uint8Array=function(C){for(var P=C.words,re=C.sigBytes,ye=new Uint8Array(re),we=0;we<re;we++){var Le=P[we>>>2]>>>24-we%4*8&255;ye[we]=Le}return ye},mo.prototype.uint8Array2WordArray=function(C){for(var P=C.length,re=[],ye=0;ye<P;ye++)re[ye>>>2]|=(255&C[ye])<<24-ye%4*8;return Fo.a.create(re,P)},mo);function mo(){}function In(C){var P=unescape||window.unescape;return Uint8Array.from(Array.from(P(encodeURIComponent(C))).map(function(re){return re.charCodeAt(0)}))}function Zi(C){var P=escape||window.escape;return decodeURIComponent(P(String.fromCharCode.apply(String,Array.from(C))))}ki=I(0);var Ri,ii=I.n(ki),ci=function(){return(ci=Object.assign||function(C){for(var P,re=1,ye=arguments.length;re<ye;re++)for(var we in P=arguments[re])Object.prototype.hasOwnProperty.call(P,we)&&(C[we]=P[we]);return C}).apply(this,arguments)},xo=(ir.util.Long=ii.a,ir.configure(),m),kn=m.liveroom_cs_v3,Ii=m.proto_switch_v3,Ha=((ki=Ri=Ri||{})[ki.disconnected=0]="disconnected",ki[ki.broken=1]="broken",ki[ki.connected=2]="connected",Object.defineProperty(xr.prototype,"nickName",{get:function(){return In(this.stateCenter.nickName)},enumerable:!1,configurable:!0}),Object.defineProperty(xr.prototype,"TermType",{get:function(){return this.stateCenter.ENV%2==0?u.TT_WEB:u.TT_MINIPROGRAM},enumerable:!1,configurable:!0}),xr.prototype.isDisConnect=function(){return this.state!==Ri.connected},xr.prototype.getHeader=function(C,P){return C={cmd:C,seq:++this.seq,timestamp:new Date().getTime()},this.controls&&(C.controls=this.controls),P!=null&&P.contextKey&&(C.context_key=P==null?void 0:P.contextKey),P=Ii.Header.create(C),P=Ii.Header.encode(P).finish(),[C.seq,P]},xr.prototype.isUaConnect=function(){return this.ua.isConnect()},xr.prototype.sendMessage=function(C,P,re,ye,we,Le,at){var Qt=this;if(Le===void 0&&(Le={timeout:6e3}),at===void 0&&(at=!0),this.logger.info(vr+" call"),C!=="LoginRoomReq"&&this.state!==Ri.connected)return this.logger.warn(vr+" state "+this.state),-1;if(typeof C=="number")qt=C;else if((qt=Hn[C])===void 0)return this.logger.warn(vr+" cmd not found "+C),-1;var Rt=0,Jt=(we==null?void 0:we.roomID)!==void 0?we==null?void 0:we.roomID:(Jt=this.stateCenter.roomModulesList[0])==null?void 0:Jt.roomID,qt=(Jt=(C!=="LoginRoomReq"&&Jt&&(Rt=this.roomIDKeys[Jt]),this.getHeader(qt,{contextKey:Rt})))[1];return Rt=P,P=this.getHead(qt.length,Rt.length),P=new Uint8Array(Array.from(P).concat(Array.from(qt)).concat(Array.from(Rt))),at&&(qt={seq:this.seq,deleted:!1,sendTime:Date.parse(new Date+""),timeout:Le.timeout,success:re,error:function(Wt,rn,Yr){var an;if(Qt.logger.info(vr+" seq: "+rn+" "+JSON.stringify(Wt)+" "+JSON.stringify(Yr)),((an=Wt==null?void 0:Wt.header)==null?void 0:an.cmd)!==Hn.LoginRoomRsp&&-1<[1002,105].indexOf((an=Wt==null?void 0:Wt.body)==null?void 0:an.err_code))return((an=Wt==null?void 0:Wt.header)==null?void 0:an.cmd)===Hn.EnterRoomRsp&&Yr!=null&&Yr.roomID?(an=Qt.stateCenter.roomModulesList.find(function(Er){return Er.roomID==Yr.roomID}))?void an.retryRoom():void Qt.logger.error(vr+" room no found ignore "):void Qt.rtm.retryRoom();[207,208].indexOf((an=Wt==null?void 0:Wt.body)==null?void 0:an.err_code),ye&&ye(Wt,rn)},params:we},Rt=this.sendCommandList.push(qt),this.sendCommandMap[qt.seq]=Rt),this.logger.info(vr+" seq: "+Jt[0]+" cmd: "+C),(at=this.liveroomRequest)!=null&&at.sendRequest({payload:P,ack:C==="LoginRoomReq"},function(Wt){Qt.logger.info(vr+" fail")},function(){Qt.logger.info(vr+" ack")},{}),Jt[0]},xr.prototype.getHead=function(C,P){var re=new Uint8Array(7);return re[0]=49,re[1]=C>>8,re[2]=C-(re[1]<<8),re.set(new Uint8Array(Int32Array.from([P]).buffer).reverse(),3),re},xr.prototype.handlePush=function(C,P){var re,ye,we;C[0]===49&&(we=(C[1]<<8)+C[2],re=Ii.Header.decode(C.slice(7,7+we)),C=C.slice(7+we),Po[re.cmd]?(we=this.decodeResponseBody(re,C),this.swPushCmdList.includes(re.cmd)?this.handleSwitchPush(re,we):(ye=Po[re.cmd]||re.cmd,this.logger.info("zm.lrh.hp down "+ye+" "+JSON.stringify(this.transBuf(we))),ye={header:this.transHeader(re),body:this.transRsp(we)},(we=this.roomKeyIDs[re.context_key])!==void 0&&(ye.header.room_id=we),this.handleSendCommandMsgRsp(ye))):(this.logger.info("zm.lrh.hp cmd is not rtc"),this.onSwitchMessage(re,C)))},xr.prototype.handleSwitchPush=function(C,P){var re,ye,we=this.roomKeyIDs[C.context_key];if(we||this.noContextKeyCmdList.includes(C.cmd))if(C.cmd===Hn.PushReq)if((ye=this.transRsp(P.head)).room_id=we,this.stateCenter.roomModulesList.find(function(qt){return qt.roomID==we})){var Le,at,Qt,Rt=void 0,Jt={header:ye,body:Rt=this.unStructCmdList.includes(P.head.sub_cmd)?{signal_msg:Zi(P.msg_body),sub_cmd:P.head.sub_cmd}:P.head.sub_cmd===11005?{custommsg:Zi(P.msg_body)}:Po[P.head.sub_cmd]?this.transRsp(this.decode(kn[Po[P.head.sub_cmd]],P.msg_body)):{}};if(this.logger.info(Gr+" push "+JSON.stringify(this.transBuf(Jt))),this.rtcPushCmdList.includes(P.head.sub_cmd))switch(P.head.sub_cmd){case Hn.PushUserInfoUpdated:this.handlePushUserStateUpdateMsg(Jt);break;case Hn.PushUserKickout:this.transKeysName(Jt.body,this.loginKeyTransMap),this.handlePushKickout(Jt,!1);break;case Hn.PushTrans:this.handlePushTransMsg(Jt);break;case Hn.PushIm:this.handlePushRoomMsg(Jt);break;case 11005:this.handlePushCustomMsg(Jt);break;case 12001:case 12002:case 12003:this.handlePushStreamMsg(Jt);break;case 11001:case 11002:case 11003:case 11004:this.handlePushSignalMsg(Jt);break;case Hn.PushUserTokenExpire:this.handlePushTokenExpire(Jt)}else this.logger.info(Gr+" white "),this.onSwitchMessage(C,P);P.head.qos_flag==1&&(Le={code:0,message:"",sub_cmd:P.head.sub_cmd,server_send_time:P.head.send_time},at=Ii.PushRsp.create(Le),Qt=Ii.PushRsp.encode(at).finish(),this.sendMessage("PushRsp",Qt,void 0,void 0))}else this.logger.warn(Gr+" room no found ignore ");else C.cmd===Hn.MergePushReq?((ye=this.transRsp(P.head)).room_id=we,this.stateCenter.roomModulesList.find(function(qt){return qt.roomID==we})?(re=[],P.message_list.forEach(function(qt){var Wt;re.push({sub_cmd:qt.sub_cmd,sub_seq:qt.sub_seq}),qt.sub_cmd===Hn.PushBigIm&&(Wt=kn.PushBigIm.decode(qt.msg_body),qt.msg_body=Wt)}),delete(ye={header:ye,body:Rt=this.transRsp(P)}).body.head,this.handlePushMergeMsg(ye),P.head.qos_flag==1&&(Le={messages:re,server_send_time:P.head.send_time},at=Ii.MergePushRsp.create(Le),Qt=Ii.MergePushRsp.encode(at).finish(),this.sendMessage("MergePushRsp",Qt,void 0,void 0))):this.logger.warn(Gr+" room no found ignore ")):C.cmd===Hn.PushKickout&&(Rt={reason:900<P.reason?P.reason-900:P.reason,msg:P.message,need_relogin:P.is_need_relogin!==void 0?P.is_need_relogin:0},this.handlePushKickout({header:C,body:Rt},!0));else this.logger.warn(Gr+" ctx key not found")},xr.prototype.handlePushTokenExpire=function(C){},xr.prototype.handlePushKickout=function(C,P){},xr.prototype.handlePushStreamMsg=function(C){},xr.prototype.handlePushSignalMsg=function(C){},xr.prototype.handlePushMergeMsg=function(C){},xr.prototype.handlePushCustomMsg=function(C){},xr.prototype.handlePushRoomMsg=function(C){},xr.prototype.handlePushTransMsg=function(C){},xr.prototype.onSwitchMessage=function(C,P){},xr.prototype.decodeResponseBody=function(C,P){var re=this.onSwitchCmdList.includes(C.cmd)?"proto_switch_v3":"liveroom_cs_v3";return this.decode(this.protoInstance[re][Po[C.cmd]],P)},xr.prototype.handlePushUserStateUpdateMsg=function(C){},xr.prototype.login=function(C,P,re){var ye,we,Le,at=this,Qt=(this.state==Ri.disconnected&&(this.logger.info($r+" state disconnect"),this.closeRequest()),new Date().getTime()+""),Rt={net_type:fe.getNetTypeNum(),room_id:In(C.roomID),room_name:In(C.roomName),nick_name:this.nickName,role:this.stateCenter.role,third_token:In(C.token),room_create_flag:this.stateCenter.roomCreateFlag,user_state_flag:C.userStateUpdate?1:0,user_count_limit:C.maxMemberCount,relate_service:this.stateCenter.relateService.join()||""};C.isMulti?(we=ci(ci({},Rt),{conn_type:2}),ye=ci(ci({},we),{room_id:C.roomID,room_name:C.roomName,third_token:C.token}),this.logger.info($r+" enter "+JSON.stringify(ye)),we=kn.EnterRoomReq.create(we),Le=kn.EnterRoomReq.encode(we).finish(),this.sendMessage("EnterRoomReq",Le,function(Jt,qt){at.transLoginRspKeys(Jt,C),P&&P(Jt,qt)},function(Jt,qt){re&&re(Jt,qt)},{roomID:C.roomID})):(Rt=ci(ci({},Rt),{app_id:this.stateCenter.appid,id_name:In(this.stateCenter.idName),device_id:this.stateCenter.deviceID,term_type:this.TermType,sdk_version:this.getNumSDKVersion(),client_stamp:In(Qt),relogin_token:this.switchSessionID.notEquals(ii.a.fromInt(0))?In(this.reloginToken):"",switch_session_id:this.switchSessionID,user_session_id:(Rt=C.longSid)!=null?Rt:ii.a.fromInt(0),biz_type:0,biz_version:this.stateCenter.bizVersion||"",login_logic:this.stateCenter.isMultiRoom?3:1,sdk_conn_type:2}),ye=ci(ci({},Rt),{id_name:this.stateCenter.idName,nick_name:this.stateCenter.nickName,client_stamp:Qt,k1_sign:void 0,relogin_token:this.reloginToken,room_id:C.roomID,room_name:C.roomName,third_token:C.token,user_session_id:C.longSid}),this.logoutCheckToken=C.token,this.logger.info($r+" login "+JSON.stringify(ye)),we=Ii.LoginRoomReq.create(Rt),Le=Ii.LoginRoomReq.encode(we).finish(),this.sendMessage("LoginRoomReq",Le,function(Jt,qt){var Wt;at.logger.info($r+" login rsp"),at.switchSessionID=Jt.body.switch_session_id,at.reloginToken=Jt.body.relogin_token,(Wt=Jt==null?void 0:Jt.header)!=null&&Wt.controls&&(at.controls=(Wt=Jt==null?void 0:Jt.header)==null?void 0:Wt.controls),at.transLoginRspKeys(Jt,C),P&&P(Jt,qt)},function(Jt,qt){re&&re(Jt,qt)}))},xr.prototype.transLoginRspKeys=function(C,P){(re=C.header)!=null&&re.context_key&&(this.roomIDKeys[P.roomID]=(re=C.header)==null?void 0:re.context_key,this.roomKeyIDs[(re=C.header)==null?void 0:re.context_key]=P.roomID,C.header.room_id=P.roomID),this.longToStringNumber(C.body,["ret_timestamp"],"toString"),this.transKeysName(C.body,this.loginKeyTransMap),this.keysExist(C.body,["token_remain_time","stream_seq"]);var re={anchor_id_name:C.body.anchor_info.id_name,anchor_id:C.body.anchor_info.user_id,anchor_nick_name:C.body.anchor_info.nick_name};C.body.anchor_info=re},xr.prototype.transKeysName=function(C,P){P.forEach(function(re){C[re[0]]!==void 0&&(C[re[1]]=C[re[0]],delete C[re[0]])})},xr.prototype.keysExist=function(C,P){P.forEach(function(re){C[re]===void 0&&(C[re]=0)})},xr.prototype.longToStringNumber=function(C,P,re){P.forEach(function(ye){ii.a.isLong(C[ye])&&(C[ye]=C[ye][re]())})},xr.prototype.logout=function(C,P,re){var ye,we,Le,at;return C.isMulti?(ye={},this.logger.info(Kr+" quit "+C.roomID),Le=kn.QuitRoomReq.create(ye),at=kn.QuitRoomReq.encode(Le).finish(),this.sendMessage("QuitRoomReq",at,P,re,{roomID:C==null?void 0:C.roomID})):(ye={logout_code:0,logout_check:this.crypto.md5Bytes(In(this.logoutCheckToken)),user_session_id:C.longSid,logout_logic:this.stateCenter.isMultiRoom?3:1},we=this.transBuf(ye),this.logger.info(Kr+" logout "+JSON.stringify(we)),Le=Ii.LogoutRoomReq.create(ye),at=Ii.LogoutRoomReq.encode(Le).finish(),this.sendMessage("LogoutRoomReq",at,P,re,{roomID:C==null?void 0:C.roomID}))},xr.prototype.checkSendMessageList=function(C){for(var P=C.getFirst();P!=null;)C.remove(P),P._data&&P._data.error&&setTimeout(function(){P&&P._data&&P._data.error&&P._data.error(ce.TIMEOUT,P._data.seq)},0),P=C.getFirst()},xr.prototype.checkMessageListTimeout=function(C,P){for(var re=C.getFirst(),ye=Date.parse(new Date+""),we=0,Le=this;re!=null&&function(){var at,Qt;return re._data&&re._data.sendTime+re._data.timeout>ye||(re._data&&delete P[re._data.seq],C.remove(re),re._data&&re._data.error==null||re._data&&re._data.sendTime+Le.sendDataDropTimeout<ye||(at=re&&re._data&&re._data.error,Qt=re&&re._data&&re._data.seq,setTimeout(function(){at&&at(ce.TIMEOUT,Qt)},0)),++we>=Le.sendDataCheckOnceCount)?"break":void(re=C.getFirst())}()!=="break";);},xr.prototype.startCheck=function(){var C=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout(function(){C.startCheck()},this.sendDataCheckInterval)},xr.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},xr.prototype.handleSendCommandMsgRsp=function(C){var P,re,ye=this.sendCommandMap[C.header.seq];ye!=null&&(P=ye._data,re=P==null?void 0:P.params,delete this.sendCommandMap[C.header.seq],this.sendCommandList.remove(ye),C.body.err_code===0?setTimeout(function(){P&&P.success!=null&&P.success(C,C.header.seq)},0):setTimeout(function(){P&&P.error!=null&&P.error(C,C.header.seq,re)},0))},xr.prototype.getReqHead=function(C){return{}},xr.prototype.heartBeat=function(C,P,re){var ye=this,we=kn.HbReq.create({});we=kn.HbReq.encode(we).finish(),this.sendMessage("HbReq",we,function(Le,at){ye.transKeysName(Le.body,[["hb_interval","hearbeat_interval"],["hb_timeout","hearbeat_timeout"],["big_im_time_window","bigim_time_window"],["trans_channel_list","trans_seqs"]]),Le.body.server_user_seq=Le.body.user_seq.toNumber(),ye.longToStringNumber(Le.body,["ret_timestamp"],"toNumber"),C&&C(Le,at)},P,{roomID:re==null?void 0:re.roomID})},xr.prototype.fetchUserList=function(C,P,re,ye){var we=this,Le=(C=ci({},C),this.transBuf(C));return this.logger.info(ur+" "+JSON.stringify(Le)),Le=kn.GetUserlistReq.create(C),C=kn.GetUserlistReq.encode(Le).finish(),this.sendMessage("GetUserlistReq",C,function(at,Qt){we.logger.info(ur+" suc "+Qt),we.transKeysName(at.body,[["user_base_info_list","user_baseinfos"]]),we.longToStringNumber(at.body,["server_user_seq","server_user_index","ret_user_index"],"toNumber"),P&&P(at,Qt)},re,{roomID:ye==null?void 0:ye.roomID})},xr.prototype.sendRoomMsg=function(C,P,re,ye){var we=this,Le=(C={msg_category:C.msg_category,msg_type:C.msg_type,msg_content:In(C.msg_content)},this.transBuf(C));return this.logger.info("zm.lrh.srm.1 "+JSON.stringify(Le)),Le=kn.SendImReq.create(C),C=kn.SendImReq.encode(Le).finish(),this.sendMessage("SendImReq",C,function(at,Qt){we.longToStringNumber(at.body,["msg_id"],"toNumber"),P&&P(at,Qt)},re,{roomID:ye==null?void 0:ye.roomID})},xr.prototype.sendReliableMessage=function(C,P,re,ye){C={trans_type:In(C.trans_type),trans_data:In(C.trans_data),trans_local_seq:C.trans_local_seq,trans_channel:In(C.trans_channel)};var we=this.transBuf(C);return this.logger.info("zm.lrh.srm.0 "+JSON.stringify(we)),we=kn.SetTransReq.create(C),C=kn.SetTransReq.encode(we).finish(),this.sendMessage("SetTransReq",C,P,re,{roomID:ye==null?void 0:ye.roomID})},xr.prototype.fetchReliableMessage=function(C,P,re,ye){var we=C.fetch_array.map(function(Le){return{trans_type:In(Le.trans_type),trans_local_seq:Le.trans_seq}});return C={trans_channel:In(C.trans_channel),trans_list:we},we=this.transBuf(C),this.logger.info("zm.lrh.frm "+JSON.stringify(we)),we=kn.GetTransReq.create(C),C=kn.GetTransReq.encode(we).finish(),this.sendMessage("GetTransReq",C,P,re,{roomID:ye==null?void 0:ye.roomID})},xr.prototype.sendCustomCommand=function(C,P,re,ye){var we=this,Le=C.dest_id_name.map(function(at){return{id_name:In(at)}});return Le=ci({to_user_list:Le,push_message:In(C.custom_msg)},C),C=this.transBuf(Le),this.logger.info("zm.lrh.scc "+JSON.stringify(C)),C=kn.SignalLiveCustomReq.create(Le),Le=kn.SignalLiveCustomReq.encode(C).finish(),this.sendMessage("SignalLiveCustomReq",Le,function(at,Qt){P&&P(we.transRsp(at),Qt)},function(at,Qt){re&&re(at,Qt)},{roomID:ye==null?void 0:ye.roomID})},xr.prototype.sendBigRoomMessage=function(C,P,re,ye){C={msg_list:C.msgs.map(function(Le){return{msg_category:Le.msg_category,msg_type:Le.msg_type,msg_timestamp:ii.a.fromNumber(Date.now()),msg_content:In(Le.msg_content),msg_client_id:In(Le.bigmsg_client_id)}})};var we=this.transBuf(C);return this.logger.info("zm.lrh.sbrm "+JSON.stringify(we)),we=kn.SendBigImReq.create(C),C=kn.SendBigImReq.encode(we).finish(),this.sendMessage("SendBigImReq",C,P,re,{roomID:ye==null?void 0:ye.roomID})},xr.prototype.sendSignalCmd=function(C,P,re,ye){var we="";switch(C.sub_cmd){case 1003:we="SignalLiveInviteReq";break;case 1001:we="SignalLiveRequestReq";break;case 1002:we="SignalLiveResultReq";break;case 1004:we="SignalLiveStopReq"}var Le=C.dest_id_name.map(function(at){return{id_name:In(at)}});return C={push_message:In(C.signal_msg),to_user_list:Le},Le=this.transBuf(C),this.logger.info("zm.lrh.ssc "+JSON.stringify(Le)),Le=kn[we].create(C),C=kn[we].encode(Le).finish(),this.sendMessage(we,C,P,re,{roomID:ye==null?void 0:ye.roomID})},xr.prototype.sendStreamUpdate=function(C,P,re,ye){var we,Le=this;try{we=JSON.parse(C.stream_msg)}catch{}var at,Qt="",Rt=(this.logger.info(Hr+" "+JSON.stringify(C)),this.stateCenter.roomModulesList.find(function(qt){return qt.roomID==ye.roomID}));if(!Rt)return this.logger.error(Hr+" room no found ignore "),-1;switch(C.sub_cmd){case 2001:Qt="AddStreamReq",at={stream_id:In(we.stream_id),extra_info:In(we.extra_info),client_req_seq:this.seq+1,third_token:In(C.third_token||"")};break;case 2002:Qt="DeleteStreamReq",at={stream_id:In(we.stream_id),stream_sid:we.stream_sid,client_req_seq:this.seq+1};break;case 2003:Qt="UpdateStreamReq",at={stream_id:In(we.stream_id),stream_sid:we.stream_sid,client_req_seq:this.seq+1,extra_info:In(we.extra_info)}}var Jt=this.transBuf(at);return this.logger.info(Hr+" "+JSON.stringify(Jt)),Jt=kn[Qt].create(at),Jt=kn[Qt].encode(Jt).finish(),this.sendMessage(Qt,Jt,function(qt,Wt){Le.logger.info(Hr+" suc "+Qt+" "+JSON.stringify(qt)),qt.header.room_id=Rt.roomID,P&&P(qt,Wt)},function(qt,Wt){Le.logger.info(Hr+" fail "+Qt+" "+JSON.stringify(qt)),re&&re(qt,Wt)},{roomID:ye==null?void 0:ye.roomID})},xr.prototype.getStreamList=function(C,P,re,ye){var we,Le,at=this;this.stateCenter.roomModulesList.find(function(Qt){return Qt.roomID==ye.roomID})?(we=this.transBuf(Le={}),this.logger.info("zm.lrh.gs "+JSON.stringify(we)),we=kn.GetStreamListReq.create(Le),Le=kn.GetStreamListReq.encode(we).finish(),this.sendMessage("GetStreamListReq",Le,function(Qt,Rt){var Jt;(Jt=Qt.body)!=null&&Jt.stream_info_list.forEach(function(qt){qt.create_time=qt.create_time.toNumber()}),at.transKeysName(Qt.body,[["stream_list_seq","stream_seq"],["stream_info_list","stream_info"]]),P&&P(Qt,Rt)},function(Qt,Rt){re&&re(Qt,Rt)},{roomID:ye==null?void 0:ye.roomID})):this.logger.error("zm.lrh.gs room no found ignore "+ye.roomID)},xr.prototype.transBuf=function(C){var P=this,re={};return Object.keys(C).forEach(function(ye){["logout_check","k2_sign","k1_sign"].includes(ye)?re[ye]=C[ye]:P.transReqBytes(re,C,ye)}),re},xr.prototype.transReqBytes=function(C,P,re){var ye=this;if(ii.a.isLong(P[re]))C[re]=P[re].toString();else if(Object.prototype.toString.call(P[re])==="[object Object]")C[re]={},Object.keys(P[re]).forEach(function(Le){return ye.transReqBytes(C[re],P[re],Le)});else if(Object.prototype.toString.call(P[re])==="[object Array]"&&Object.prototype.toString.call(P[re][0])==="[object Object]"){C[re]=[];for(var we=0;we<P[re].length;we++)(function(Le){var at={};Object.keys(P[re][Le]).forEach(function(Qt){ye.transReqBytes(at,P[re][Le],Qt)}),C[re].push(at)})(we)}else Object.prototype.toString.call(P[re])==="[object Uint8Array]"?C[re]=Zi(P[re]):C[re]=P[re]},xr.prototype.transHeader=function(C){return C.timestamp=ii.a.isLong(C.timestamp)?C.timestamp.toString():C.timestamp,C},xr.prototype.transRsp=function(C){var P=this,re=C&&C.rsp_head?this.transRspHead(C.rsp_head):{},ye=ci(ci({},C),re),we=(delete ye.rsp_head,{});return Object.keys(ye).forEach(function(Le){Le==="k2_sign"?we[Le]=ye[Le]:P.transBytes(we,ye,Le)}),we},xr.prototype.transBytes=function(C,P,re){var ye=this;if(ii.a.isLong(P[re]))C[re]=P[re];else if(Object.prototype.toString.call(P[re])==="[object Object]")C[re]={},Object.keys(P[re]).forEach(function(Le){return ye.transBytes(C[re],P[re],Le)});else if(Object.prototype.toString.call(P[re])==="[object Array]"&&Object.prototype.toString.call(P[re][0])==="[object Object]"){C[re]=[];for(var we=0;we<P[re].length;we++)(function(Le){var at={};Object.keys(P[re][Le]).forEach(function(Qt){ye.transBytes(at,P[re][Le],Qt)}),C[re].push(at)})(we)}else Object.prototype.toString.call(P[re])==="[object Uint8Array]"?C[re]=Zi(P[re]):C[re]=P[re]},xr.prototype.transRspHead=function(C){return C?{err_code:C.code||0,err_message:C.message}:{}},xr.prototype.decode=function(C,P){return ci({},C.decode(P))},xr.prototype.handleDisconnected=function(C,P){var re=this;this.logger.info(gn+" call"),this.state=Ri.disconnected,this.stateCenter.useNetAgent&&C===W.TIMEOUT&&this.stateCenter.roomModulesList.forEach(function(ye){ye.roomTryHandler&&(re.ua.isConnect()?(re.logger.info(gn+" ua is connect"),ye.roomTryHandler.active()):(re.logger.info(gn+" ua is disconnect"),re.ua.connectUa()))})},xr.prototype.handleBroken=function(){var C=this;this.logger.info("zm.lrh.hb call"),this.state=Ri.broken,this.stateCenter.useNetAgent&&this.stateCenter.roomModulesList.forEach(function(P){P.roomTryHandler&&(P.roomTryHandler.invalid(),P.roomTryHandler.onactive=function(re,ye){C.logger.info("zm.lrh.hb onactive"),P.roomHandler.transError(ye),P.roomHandler.disconnectedHandle(ye)},P.roomTryHandler.startMaxTime(),P.roomHandler.roomStateHandle("CONNECTING",x.Reconnecting,ce.NETWORK_BROKEN))})},xr.prototype.handleConnected=function(C){var P=this;this.logger.info("zm.lrh.hc call "+C),this.state=Ri.connected,this.stateCenter.useNetAgent&&C===k.AUTO&&this.stateCenter.roomModulesList.forEach(function(re){re.roomTryHandler&&P.ua.isConnect()&&re.roomTryHandler.active()})},xr.prototype.renewToken=function(C,P,re,ye){var we=this,Le=(C={token:C.token},kn.RenewTokenReq.create(C));Le=kn.RenewTokenReq.encode(Le).finish(),C=this.transBuf(C),this.logger.info("zm.lrh.rt "+JSON.stringify(C)),this.sendMessage("RenewTokenReq",Le,function(at,Qt){we.keysExist(at.body,["token_remain_time"]),P&&P(at,Qt)},re,{roomID:ye==null?void 0:ye.roomID})},xr.prototype.reset=function(){this.logger.info("zm.lrh.r.0 call "),this.state=Ri.disconnected,this.switchSessionID=ii.a.fromInt(0),this.sendDataCheckTimer&&clearTimeout(this.sendDataCheckTimer)},xr.prototype.closeRequest=function(){var C;(C=this.liveroomRequest)!=null&&C.closeRequest()},xr.prototype.resetSessionInfo=function(){this.switchSessionID=ii.a.fromInt(0)},xr.prototype.getNumSDKVersion=function(){var C=this.stateCenter.ENV===0?6:7,P=this.rtm.version.split(".").map(function(re){return parseInt(re)});return C<<28|P[0]<<20|P[1]<<8|P[2]},xr);function xr(C,P,re,ye,we){var Le=this;this.logger=C,this.stateCenter=P,this.ua=re,this.dataReport=ye,this.rtm=we,this.seq=0,this.sendCommandList=new T,this.sendCommandMap={},this.logoutCheckToken="",this.zPushSid="0",this.loginKeyTransMap=[["user_session_id","session_id"],["liveroom_hb_interval","hearbeat_interval"],["liveroom_hb_timeout","hearbeat_timeout"],["big_im_time_window","bigim_time_window"],["trans_channel_list","trans_seqs"],["stream_list_seq","stream_seq"],["stream_info_list","stream_info"]],this.sendDataCheckOnceCount=100,this.sendDataDropTimeout=1e4,this.sendDataCheckInterval=2e3,this.protoInstance=xo,this.roomKeyIDs={},this.roomIDKeys={},this.swPushCmdList=[Hn.PushReq,Hn.MergePushReq,Hn.PushKickout],this.onSwitchCmdList=[Hn.LoginRoomRsp,Hn.LogoutRoomRsp,Hn.PushKickout,Hn.PushReq,Hn.MergePushReq],this.noContextKeyCmdList=[1105],this.rtcPushCmdList=[10001,10002,10004,11001,11002,11003,11004,11005,12001,12002,12003,13001,15001],this.state=Ri.disconnected,this.unStructCmdList=[11001,11002,11003,11004],this.reloginToken="",this.crypto=new Ga,this.liveroomRequest=this.ua.getPCRequest(K.SERVICE_SWITCH4LIVEROOM),this.switchSessionID=ii.a.fromInt(0),(C=this.liveroomRequest)!=null&&C.on("connected",function(at){Le.handleConnected(at)}),(P=this.liveroomRequest)!=null&&P.on("broken",function(at){Le.handleBroken()}),(re=this.liveroomRequest)!=null&&re.on("disconnected",function(at,Qt){Le.handleDisconnected(at,Qt)}),(ye=this.liveroomRequest)!=null&&ye.on("downLoadMessage",function(at,Qt){Le.handlePush(at,Qt)}),(we=this.liveroomRequest)!=null&&we.on("exception",function(at,Qt){Le.logger.info("zm.lrh.o.0 except "+JSON.stringify(at))}),(C=this.liveroomRequest)!=null&&C.on("pcBrokenEvent",function(at){var Qt=di,Rt=Le.stateCenter.reporter.createSpan(N.H,{key:xt},{key:""},Qt.event);Rt.setAttributes({service_no:Qt.service_no(at==null?void 0:at.service_no)}),Rt.end()}),(P=this.liveroomRequest)!=null&&P.on("pcDisconnectedEvent",function(at){var Qt=Jr,Rt=Le.stateCenter.reporter.createSpan(N.H,{key:xt},{key:""},Qt.event);Rt.setAttributes({service_no:Qt.service_no(at==null?void 0:at.service_no)}),Rt.end()}),(re=this.liveroomRequest)!=null&&re.on("pcConnectedEvent",function(at){var Qt=jn,Rt=Le.stateCenter.reporter.createSpan(N.H,{key:xt},{key:""},Qt.event);Rt.setAttributes({service_no:Qt.service_no(at.service_no),recv_time:Qt.recv_time(new Date().getTime()),proxy_link_sources:Qt.proxy_link_sources(at.proxy_link_sources),connect_stream:Qt.connect_stream(at.connect_stream)}),Rt.end()})}var na=(mn.prototype.listenCallBack=function(){var C=this;this.roomServicer.handlePushCustomMsg=function(P){C.handlePushCustomMsg(P)},this.roomServicer.handlePushTokenExpire=function(P){var re,ye=(ye=(ye=P==null?void 0:P.body)==null?void 0:ye.stop_stream)==null?void 0:ye.stream_id_list.map(Zi);(re=(re=P==null?void 0:P.body)==null?void 0:re.stop_stream)!=null&&(re.stream_id_list=ye),C.stateCenter.actionListener("_tokenExpired",P)},this.roomServicer.handlePushKickout=function(P,re){var ye;re?function(we,Le,at){if(at||arguments.length===2)for(var Qt,Rt=0,Jt=Le.length;Rt<Jt;Rt++)!Qt&&Rt in Le||((Qt=Qt||Array.prototype.slice.call(Le,0,Rt))[Rt]=Le[Rt]);return we.concat(Qt||Array.prototype.slice.call(Le))}([],C.stateCenter.roomModulesList,!0).forEach(function(we){we.roomHandler.handlePushKickout(P,!0,!0)}):(ye=(re=P==null?void 0:P.header)==null?void 0:re.room_id,re=C.stateCenter.roomModulesList.find(function(we){return we.roomID==ye}),C.roomServicer.longToStringNumber(P.body,["session_id"],"toString"),re?re.roomHandler.handlePushKickout(P):C.logger.error("zm.lrh.pk room no found ignore "+JSON.stringify((re=P.header)==null?void 0:re.room_id)))},this.roomServicer.handlePushStreamMsg=function(P){C.handlePushStreamMsg(P)},this.roomServicer.handlePushSignalMsg=function(P){C.handlePushSignalMsg(P)},this.roomServicer.handlePushMergeMsg=function(P){C.handlePushMergeMsg(P)},this.roomServicer.handlePushRoomMsg=function(P){C.handlePushRoomMsg(P)},this.roomServicer.handlePushTransMsg=function(P){C.handlePushTransMsg(P)},this.roomServicer.onSwitchMessage=function(P,re){C.onSwitchMessage(P,re)},this.roomServicer.handlePushUserStateUpdateMsg=function(P){var re,ye,we,Le=(at=P==null?void 0:P.header)==null?void 0:at.room_id,at=C.stateCenter.roomModulesList.find(function(Qt){return Qt.roomID==Le});at?(we=P.body.user_action_list.map(function(Qt){return{Action:Qt.action,IdName:Qt.id_name,NickName:Qt.nick_name,Role:Qt.role,LoginTime:Qt.login_time.toString()}}),ye=C.stateCenter.reporter.createSpan(N.H,{key:Ke.event,par:Le},{key:""},Se.event),we={body:{user_actions:we,user_list_seq:P.body.server_user_seq.toNumber(),room_id:Le}},ye.setAttributes({user_list_seq:(re=we===null?void 0:we.body)==null?void 0:re.user_list_seq,update_user:(re=we===null?void 0:we.body)==null?void 0:re.user_actions}),ye.end(),at.userHandler.handlePushUserStateUpdateMsg(we)):C.logger.error("zm.lrh.puu room no found ignore "+JSON.stringify(P))}},mn.prototype.isDisConnect=function(){return!!this.roomServicer&&this.roomServicer.isDisConnect()},mn.prototype.isUaConnect=function(){var C;return(C=this.roomServicer)==null?void 0:C.isUaConnect()},mn.prototype.sendMessage=function(C,P,re,ye,we,Le,at){var Qt;return(Qt=this.roomServicer)==null?void 0:Qt.sendMessage(C,P,re,ye,we,Le)},mn.prototype.handlePushTokenExpire=function(C){},mn.prototype.handlePushKickout=function(C,P){},mn.prototype.handlePushStreamMsg=function(C){},mn.prototype.handlePushSignalMsg=function(C){},mn.prototype.handlePushMergeMsg=function(C){},mn.prototype.handlePushCustomMsg=function(C){},mn.prototype.handlePushRoomMsg=function(C){},mn.prototype.handlePushTransMsg=function(C){},mn.prototype.onSwitchMessage=function(C,P){},mn.prototype.handlePushUserStateUpdateMsg=function(C){},mn.prototype.login=function(C,P,re){var ye;(ye=this.roomServicer)!=null&&ye.login(C,P,re)},mn.prototype.logout=function(C,P,re){var ye;return(ye=this.roomServicer)==null?void 0:ye.logout(C,P,re)},mn.prototype.startCheck=function(){var C;(C=this.roomServicer)!=null&&C.startCheck()},mn.prototype.stopCheck=function(){var C;(C=this.roomServicer)!=null&&C.stopCheck()},mn.prototype.getReqHead=function(C){var P;return(P=this.roomServicer)==null?void 0:P.getReqHead(C)},mn.prototype.heartBeat=function(C,P,re){var ye;(ye=this.roomServicer)!=null&&ye.heartBeat(C,P,re)},mn.prototype.fetchUserList=function(C,P,re,ye){var we;return(we=this.roomServicer)==null?void 0:we.fetchUserList(C,P,re,ye)},mn.prototype.sendRoomMsg=function(C,P,re,ye){var we;return(we=this.roomServicer)==null?void 0:we.sendRoomMsg(C,P,re,ye)},mn.prototype.sendReliableMessage=function(C,P,re,ye){var we;return(we=this.roomServicer)==null?void 0:we.sendReliableMessage(C,P,re,ye)},mn.prototype.fetchReliableMessage=function(C,P,re,ye){var we;return(we=this.roomServicer)==null?void 0:we.fetchReliableMessage(C,P,re,ye)},mn.prototype.sendCustomCommand=function(C,P,re,ye){var we;return(we=this.roomServicer)==null?void 0:we.sendCustomCommand(C,P,re,ye)},mn.prototype.sendBigRoomMessage=function(C,P,re,ye){var we;return(we=this.roomServicer)==null?void 0:we.sendBigRoomMessage(C,P,re,ye)},mn.prototype.sendSignalCmd=function(C,P,re,ye){var we;return(we=this.roomServicer)==null?void 0:we.sendSignalCmd(C,P,re,ye)},mn.prototype.sendStreamUpdate=function(C,P,re,ye){var we;return(we=this.roomServicer)==null?void 0:we.sendStreamUpdate(C,P,re,ye)},mn.prototype.getStreamList=function(C,P,re,ye){var we;return(we=this.roomServicer)==null?void 0:we.getStreamList(C,P,re,ye)},mn.prototype.renewToken=function(C,P,re,ye){var we;(we=this.roomServicer)!=null&&we.renewToken(C,P,re,ye)},mn.prototype.reset=function(){var C;(C=this.roomServicer)!=null&&C.reset()},mn.prototype.closeRequest=function(){var C;(C=this.roomServicer)!=null&&C.closeRequest()},mn);function mn(C,P,re,ye,we){this.logger=C,this.stateCenter=P,this.ua=re,this.dataReport=ye,this.rtm=we,this.roomServicer=new Ha(C,P,re,ye,we),this.listenCallBack()}var ia=I(11),qa=(oi.prototype.setLog=function(C){this.zegoSetting.setLog(C)},oi.prototype.init=function(C){this.zegoSetting.init(C)},oi.prototype.setEnvVariable=function(C,P){this.zegoSetting.setEnvVariable(C,P)},oi.prototype.getEnvVariables=function(){return this.zegoSetting.getEnvVariables()},oi.prototype.fetchSetting=function(C,P,re){return this.zegoSetting.fetchSetting(C,P,re)},oi.prototype.fetchMultiSetting=function(C,P,re){return this.zegoSetting.fetchMultiSetting(C,P,re)},oi.prototype.setOptions=function(C){return this.zegoSetting.setOptions(C)},oi.prototype.getSettingCache=function(C){return this.zegoSetting.getSettingCache(C)},oi.prototype.setToken=function(C){this.zegoSetting.setToken(C)},oi.prototype.setUserID=function(C){this.zegoSetting.setUserID(C)},oi.prototype.activePolling=function(){this.zegoSetting.activePolling()},oi.prototype.uninit=function(){var C;(C=this.zegoSetting)!=null&&C.uninit()},oi.prototype.getEnvVariable=function(C){this.zegoSetting.getEnvVariable(C)},oi);function oi(){this.isLoad=!1,this.callBackList=[],this.zegoSetting=new ia.ZegoSetting}var _i=function(C,P,re,ye){return new(re=re||Promise)(function(we,Le){function at(Jt){try{Rt(ye.next(Jt))}catch(qt){Le(qt)}}function Qt(Jt){try{Rt(ye.throw(Jt))}catch(qt){Le(qt)}}function Rt(Jt){var qt;Jt.done?we(Jt.value):((qt=Jt.value)instanceof re?qt:new re(function(Wt){Wt(qt)})).then(at,Qt)}Rt((ye=ye.apply(C,P||[])).next())})},Uo=function(C,P){var re,ye,we,Le={label:0,sent:function(){if(1&we[0])throw we[1];return we[1]},trys:[],ops:[]},at={next:Qt(0),throw:Qt(1),return:Qt(2)};return typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function Qt(Rt){return function(Jt){var qt=[Rt,Jt];if(re)throw new TypeError("Generator is already executing.");for(;Le=at&&qt[at=0]?0:Le;)try{if(re=1,ye&&(we=2&qt[0]?ye.return:qt[0]?ye.throw||((we=ye.return)&&we.call(ye),0):ye.next)&&!(we=we.call(ye,qt[1])).done)return we;switch(ye=0,(qt=we?[2&qt[0],we.value]:qt)[0]){case 0:case 1:we=qt;break;case 4:return Le.label++,{value:qt[1],done:!1};case 5:Le.label++,ye=qt[1],qt=[0];continue;case 7:qt=Le.ops.pop(),Le.trys.pop();continue;default:if(!(we=0<(we=Le.trys).length&&we[we.length-1])&&(qt[0]===6||qt[0]===2)){Le=0;continue}if(qt[0]===3&&(!we||qt[1]>we[0]&&qt[1]<we[3]))Le.label=qt[1];else if(qt[0]===6&&Le.label<we[1])Le.label=we[1],we=qt;else{if(!(we&&Le.label<we[2])){we[2]&&Le.ops.pop(),Le.trys.pop();continue}Le.label=we[2],Le.ops.push(qt)}}qt=P.call(C,Le)}catch(Wt){qt=[6,Wt],ye=0}finally{re=we=0}if(5&qt[0])throw qt[1];return{value:qt[0]?qt[1]:void 0,done:!0}}}},Hi=function(C,P,re){if(re||arguments.length===2)for(var ye,we=0,Le=P.length;we<Le;we++)!ye&&we in P||((ye=ye||Array.prototype.slice.call(P,0,we))[we]=P[we]);return C.concat(ye||Array.prototype.slice.call(P))},Pi=(Object.defineProperty(ar.prototype,"modules",{get:function(){return{service:this.service}},enumerable:!1,configurable:!0}),Object.defineProperty(ar.prototype,"isUseNetAgent",{get:function(){return this.stateCenter.useNetAgent},enumerable:!1,configurable:!0}),ar.prototype.destroyRTM=function(){this.stateCenter.roomModulesList.some(function(C){return!(C!=null&&C.isLogout()||C.roomState==="DISCONNECTED")})&&this.logoutRoom(),this.stateCenter.reporter.setUnloadState(N.I),this.reporter.destroy()},ar.prototype.getSettingUnify=function(C){var P=this.stateCenter.settingConfig.getSetting("unify",C=C!==void 0&&C);return this.logger.info("zm.gsu "+C+" "+JSON.stringify(P)),P?(C=P.enable,P=P.sdk_conn_ver,!!(C&&P<=Re.connectVer)):this.isUseNetAgent},ar.prototype.initCallback=function(){this.proxyRes=fe.proxyRes,this.actionSuccessCallback=fe.actionSuccessCallback,this.actionErrorCallback=fe.actionErrorCallback,this.getServerError=fe.getServerError,this.generateRandumNumber=fe.generateRandumNumber,this.unregisterCallback=fe.unregisterCallback,this.logReportCallback=fe.logReportCallback,this.registerCallback=fe.registerCallback},ar.prototype.initSpans=function(){this.stateCenter.reporter.createSpan(N.H,{key:Tr.event},{key:Or},Or,!0).end()},ar.prototype.handleZipLogUrl=function(){var C,P="";(C=this.stateCenter.geoFencing)!=null&&C.detaillog&&((C=this.stateCenter.geoFencing)==null?void 0:C.detaillog)!==""?(P="https://".concat((C=this.stateCenter.geoFencing)==null?void 0:C.detaillog,"/log/userupload"),this.logger.info(Ar+" set detaillog url by geoFencing "+P),this.logger.setZipLogUploadUrl(P)):(C=this.stateCenter.settingConfig.getSetting("detaillog_domain"))&&C!==""&&(P="https://".concat(C,"/log/userupload"),this.logger.info(Ar+" set detaillog url by cloudsetting "+P),this.logger.setZipLogUploadUrl(P))},ar.prototype.getStoreAppConfig=function(){if(this.logger.info(kt+" call"),(C=this.stateCenter.geoFencing)!=null&&C.logreport&&this.handleLogUpload(),(C=this.stateCenter.geoFencing)!=null&&C.detaillog&&this.handleZipLogUrl(),localStorage){var C=ge(nt+"_"+this.getAppID()+"_"+(this.stateCenter.mode||Re.modeNo));if(C){var P=ge(ct+"_"+this.getAppID()+"_"+(this.stateCenter.mode||Re.modeNo));P||this.logger.info(kt+" no store config etag");try{var re,ye=ft(C,le);ye?(this.stateCenter.appConfig=JSON.parse(ye),this.stateCenter.reporter.spanSetAttributes({key:Tr.event},{is_from_cache:Tr.is_from_cache(!0)}),this.stateCenter.actionListener("_appConfigRsp"),this.handleLogUpload()):localStorage.removeItem(nt+"_"+this.getAppID()+"_"+(this.stateCenter.mode||Re.modeNo)),P&&(re=ft(P,le),this.stateCenter.appConfigEtag=parseInt(re))}catch(we){this.logger.warn(kt+" "+JSON.stringify(we))}}else this.logger.info(kt+" no store config")}else this.logger.warn(kt+" no localstorage")},ar.prototype.createNetAgent=function(){var C=this,P=(this.logger.info(wr+" call"),this.netAgent.on("disconnected",function(Rt){C.logger.info("".concat(wr," netAgent disconnect"))}),this.netAgent.on("connected",function(){C.logger.info("".concat(wr," netAgent connect")),C.stateCenter.reporter.setNetStateCheck(),C.isUseNetAgent?(C.fetchAppConfig(),C.stateCenter.roomModulesList.forEach(function(Rt){Rt.roomTryHandler&&C.netAgent.isConnect()&&Rt.roomTryHandler.active(!0)})):C.logger.info("".concat(wr," unify false"))}),this.netAgent.on("broken",function(Rt){C.logger.info("".concat(wr," netAgent broken")),Rt===Y.CLOSE&&C.stateCenter.roomModulesList.forEach(function(Jt){Jt.resetSessionInfo()})}),this.netAgent.on("dispatchEvent",function(Rt,Jt,qt){var Wt;C.logger.info("".concat(wr," dispatch")),Jt==="start"?(Wt=C.stateCenter.reporter.createSpan(N.H,{key:xt},{key:""},"/zegoconn/auto_dispatch"),C.stateCenter.requestList[Rt]=Wt):Jt==="end"&&(Wt=C.stateCenter.requestList[Rt])&&(Wt.setAttributes({domain_list:qt.domains}),Wt.end())}),this.netAgent.on("dispatchResultUpdate",function(Rt){var Jt,qt=Rt.servers;Rt=Rt.domains,C.logger.info("".concat(wr," dispatchResult ").concat(JSON.stringify(qt),", ").concat(JSON.stringify(Rt))),(Jt=C.stateCenter.geoFencing)!=null&&Jt.id?(Rt&&Rt[0]&&(C.stateCenter.netGeoFencing.accesshub=Rt[0]),C.setLocalGeoFencing()):(Jt=ot(JSON.stringify(qt),le),Ot(Ve+"_"+C.stateCenter.appid+"_"+(C.stateCenter.mode||Re.modeNo),Jt))}),this.netAgent.on("connectedEvent",function(Rt,Jt,qt){var Wt;C.logger.info("".concat(wr," connect")),Jt==="start"?(Wt=C.stateCenter.reporter.createSpan(N.H,{key:Tr.event},{key:xt},xt,!0),C.stateCenter.requestList[Rt]=Wt):Jt==="end"&&(Wt=C.stateCenter.requestList[Rt])&&(Wt.setAttributes({request_count:Tt(qt.count),connect_id:Gt(qt.connectid),events:Ir(qt.connectEvents)}),Wt.end())}),this.netAgent.on("requestEvent",function(Rt,Jt,qt){var Wt;C.logger.info("".concat(wr," request")),Jt==="start"?(Wt=C.stateCenter.reporter.createSpan(N.H,{key:Tr.event},{key:Mn},Mn,!0),C.stateCenter.requestList[Rt]=Wt):Jt==="end"&&(Wt=C.stateCenter.requestList[Rt])&&(Wt.setAttributes({req_location:ui(qt.na_req_location),http_code:qt.status_code,error:qt.err_code}),Wt.end())}),this.netAgent.on("disConnectedEvent",function(Rt){var Jt=Rt.duration,qt=Rt.server,Wt=(Rt=Rt.connectid,C.logger.info("".concat(wr," disconnect")),C.stateCenter.reporter.createSpan(N.H,{key:Tr.event},{key:""},"/zegoconn/disconnect"));Wt.setAttributes({url:Zr(qt),connect_duration:Wr(Jt),connect_id:bt(Rt)}),Wt.end()}),(P=this.netAgent)!=null&&P.on("clientInfo",function(Rt){var Jt=Rt.timeOffset;Rt=Rt.geofencingID,typeof Jt=="number"&&C.stateCenter.reporter.setTimeOffset(Jt),C.updateTimeOffsetInterval(),typeof Rt=="number"&&(C.stateCenter.netGeoFencing.id=Rt,C.setLocalGeoFencing())}),Re.domains);if(ar.geoFenceType&&ar.geoFenceAreaList){this.logger.info("".concat(wr," geo type ").concat(ar.geoFenceType," area ").concat(ar.geoFenceAreaList.join(",")));var re=void 0,ye=[],we=this.getGeoFencingIDAndDomain(ar.geoFenceType,ar.geoFenceAreaList);if(!we)throw this.logger.warn("".concat(wr," geofencing not exist")),ce.GEO_SET_ERROR;var Le,at=this.getLocalGeoFencing(),Qt=!1;at!=null&&at.id&&(Le=we.find(function(Rt){return Rt.id===(at==null?void 0:at.id)}))&&(Qt=!0,re={id:at==null?void 0:at.id,accesshub:(at==null?void 0:at.accesshub)||(Le==null?void 0:Le.accesshub),logreport:Le==null?void 0:Le.logreport,detaillog:Le==null?void 0:Le.detaillog},at!=null&&at.accesshub&&ye.push(at==null?void 0:at.accesshub),ye.push(Le==null?void 0:Le.accesshub)),Qt||(re={id:(Le=we[0]).id,accesshub:Qt=Le.accesshub,logreport:Le.logreport,detaillog:Le.detaillog},ye.push(Qt)),this.stateCenter.geoFencing=re,this.logger.info("".concat(wr," use geo ").concat(JSON.stringify(this.stateCenter.geoFencing))),P=ye}this.logger.info("".concat(wr," domains ").concat(JSON.stringify(P))),we=P.map(function(Rt){return"wss://".concat(Rt,"/accesshub")}),this.netAgent.setBackupDomains(Re.primaryDomains),this.netAgent.setNetAgentDefaultServers(we),!this.stateCenter.geoFencing&&(Le=this.options)!=null&&Le.accessURL&&this.netAgent.setNetAgentSpecifiedServers([(Qt=this.options)==null?void 0:Qt.accessURL]),(re=this.options)!=null&&re.customDomain&&(ye="wss://accesshub-wss."+this.options.customDomain+"/accesshub",this.stateCenter.geoFencing&&(this.replaceMainDomain(this.options.customDomain),ye="wss://".concat((P=this.stateCenter.geoFencing)==null?void 0:P.accesshub,"/accesshub")),this.netAgent.setNetAgentSpecifiedServers([ye])),this.dispatchServers=[],this.stateCenter.geoFencing?this.dispatchServers=we:this.dispatchServers=this.getDispatchUrl(),this.netAgent.setDispatchConnectServers(this.dispatchServers)},ar.prototype.getMainDomain=function(C){return(C=C.split("."))[C.length-2]+"."+C[C.length-1]},ar.prototype.replaceMainDomain=function(C){var P,re;this.stateCenter.geoFencing&&(re=this.getMainDomain((re=this.stateCenter.geoFencing)==null?void 0:re.accesshub),this.stateCenter.geoFencing.accesshub=(P=this.stateCenter.geoFencing)==null?void 0:P.accesshub.replace(re,C),this.stateCenter.geoFencing.logreport=(P=this.stateCenter.geoFencing)==null?void 0:P.logreport.replace(re,C),this.stateCenter.geoFencing.detaillog=(P=this.stateCenter.geoFencing)==null?void 0:P.detaillog.replace(re,C))},ar.prototype.getDispatchUrl=function(){var C=ge(Ve+"_"+this.stateCenter.appid+"_"+(this.stateCenter.mode||Re.modeNo));if(C&&(C=ft(C,le)))try{return JSON.parse(C)}catch{}return[]},ar.prototype.bindWindowListener=function(){var C=this,P=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i),re=Fe(),ye=(we=navigator.userAgent).toLowerCase().match(/MicroMessenger/i)=="micromessenger",we=-1<we.indexOf("Android")||-1<we.indexOf("Adr"),Le=P||ye&&we?"pagehide":re==="Firefox"?"beforeunload":"unload";window.addEventListener(Le,function(){return _i(C,void 0,void 0,function(){return Uo(this,function(at){switch(at.label){case 0:return this.logger.info(Ft+" "+Le),this.stateCenter.reporter.setUnloadState(N.I),this._onBeforePageUnload?[4,this._onBeforePageUnload()]:[3,2];case 1:at.sent(),at.label=2;case 2:return this.logoutRoom(),[2]}})})}),window.addEventListener("offline",function(){C.netOffLineHandle()}),window.addEventListener("online",function(){C.netOnLineHandle()})},ar.prototype.retryRoom=function(){var C=this;this.stateCenter.roomModulesList.forEach(function(P){P.roomTryHandler&&C.netAgent.isConnect()&&(P.resetSessionInfo(),P.roomTryHandler.active(!0))})},ar.prototype.netOnLineHandle=function(){var C=this;this.logger.info(Ft+" network is online"),this.stateCenter.networkState=U.online,this.isUseNetAgent||this.stateCenter.roomModulesList.forEach(function(P){P.roomTryHandler&&C.service.isDisConnect()?P.roomTryHandler.active():P.roomTryHandler&&(P.roomTryHandler.stopMaxTime(),P.roomHandler.roomStateHandle("CONNECTED",x.Reconnected,{code:0,msg:""}))})},ar.prototype.netOffLineHandle=function(){var C=this;this.logger.info(Ft+" network is broken"),this.stateCenter.networkState=U.offline,this.isUseNetAgent||this.stateCenter.roomModulesList.forEach(function(P){P.roomTryHandler&&(P.roomTryHandler.invalid(),P.roomTryHandler.onactive=function(re,ye){C.logger.info(Ft+" onactive"),P.roomHandler.transError(ye),P.roomHandler.disconnectedHandle(ye)},P.roomTryHandler.startMaxTime(),P.roomHandler.roomStateHandle("CONNECTING",x.Reconnecting,ce.NETWORK_BROKEN))})},ar.prototype.setLogConfig=function(C){this.logger.info(zt+" call");var P,re=this.stateCenter.reporter.createSpan(N.H,{key:Tr.event},{key:qr.event},qr.event);if(C.logLevel&&["debug","info","warn","error","report","disable"].includes(C.logLevel)&&(this.logger.setLogLevel(C.logLevel),re.setAttributes({log_level:qr.log_level(C.logLevel)})),C.remoteLogLevel&&["debug","info","warn","error","report","disable"].includes(C.remoteLogLevel)&&re.setAttributes({remote_log_level:qr.remote_log_level(C.remoteLogLevel)}),typeof C.logURL=="string"&&(C.logURL.startsWith("wss://")||C.logURL.startsWith("https://")))(P=this.stateCenter.geoFencing)!=null&&P.logreport?this.logger.info(zt+" geo exist"):(this.logger.setLogServer(C.logURL),this.stateCenter.ENV===0&&(this.stateCenter.logDomain=(P=this.logger.url)==null?void 0:P.split("/")[2],this.stateCenter.reporter.setConfig({serverUrl:"wss://"+this.stateCenter.logDomain+"/zglog/tlog"}))),re.setAttributes({log_url:qr.log_url(C.logURL)}),re.end();else if(C.logURL)return this.logger.error(zt+"log url must be a wss or https url"),this.stateCenter.reporter.setError(re,qr.error.kInvalidParamError),!1;return this.logger.info(zt+" call success"),re.end(),!0},ar.prototype.setDebugVerbose=function(C){var P=this.stateCenter.reporter.createSpan(N.H,{key:Tr.event},{key:Sr},Sr);typeof C=="boolean"&&(this.stateCenter.debug=C,this.stateCenter.debugCustom=!0,P.setAttributes({debug:Vr(C?"true":"false")})),P.end(),this.logger.info("zm.sdv call success")},ar.prototype.setDebug=function(C){typeof C=="string"&&-1<C.indexOf("wss")?this.stateCenter.debug=fe.isTestEnv(C):Array.isArray(C)&&0<C.length&&C.every(function(P){return typeof P=="string"&&-1<P.indexOf("wss")})?this.stateCenter.debug=fe.isTestEnv(C[0]):this.logger.info("zm.0 server wrong"),this.stateCenter.testEnvironment=this.stateCenter.debug},ar.prototype.renewToken=function(C,P){var re,ye,we,Le,at=this,Qt=this.stateCenter.reporter.createSpan(N.H,{key:Ke.event,par:P},{key:""},dt.event);return P===void 0||typeof P=="string"&&P!=""?(ye=this.getRoomModules(P)||this.stateCenter.roomModulesList[0])?typeof C=="string"&&ye.roomTryHandler?(C===ye.roomTryHandler.token?(this.logger.info(nr+" token has not changed"),Qt.setAttributes({error:dt.error.INPUT_PARAM.code,message:"token has not changed"}),Qt.end()):(Qt.setAttributes({token:dt.token(C)}),this.stateCenter.configRoomAuth?(we=function(Rt){var Jt;(Jt=ye.roomTryHandler)!=null&&Jt.renewLocalToken(C,(Jt=Rt==null?void 0:Rt.body)==null?void 0:Jt.token_remain_time),at.cloudSetting.setToken(C),at.reporter.setReporterInfo(at.stateCenter.idName||"",C),at.stateCenter.configCheckToken=!0,Qt.end(),at.logger.info(nr+" "+JSON.stringify(Rt))},Le=function(Rt){var Jt=(Jt=Rt==null?void 0:Rt.body)==null?void 0:Jt.err_code;at.stateCenter.reporter.setError(Qt,Rt),!Jt||Jt!==1000002014&&Jt!==2014?at.logger.error(nr+" "+JSON.stringify(Rt)):(at.stateCenter.configCheckToken=!1,(Jt=ye.roomTryHandler)!=null&&Jt.renewLocalToken(C),at.cloudSetting.setToken(C),at.logger.warn(nr+" "+JSON.stringify(Rt)))},this.isUseNetAgent?(re=this.liveRoomHandler)!=null&&re.renewToken({token:C},we,Le,ye):this.service.sendMessage("renew_token",{token:C},we,Le,void 0,{sessionID:ye.sessionID,roomID:P,roomSessionID:ye.roomSessionID})):((re=ye.roomTryHandler)!=null&&re.renewLocalToken(C),this.cloudSetting.setToken(C),this.reporter.setReporterInfo(this.stateCenter.idName||"",C),Qt.end())),!0):(typeof C!="string"||ye.roomTryHandler?(this.logger.error(nr+" token must be string and not empty"),this.stateCenter.reporter.setError(Qt,dt.error.INPUT_PARAM)):(this.logger.error(nr+" calling must after loginRoom"),this.stateCenter.reporter.setError(Qt,dt.error.NOT_LOGIN)),!1):(this.logger.error(nr+" calling must after loginRoom"),this.stateCenter.reporter.setError(Qt,dt.error.NOT_LOGIN),!1):(this.logger.error(nr+" roomID must be string and no empty"),!1)},ar.prototype.setCloudSettingURLs=function(C){var P=this;this.logger.info("zm.scsu call "),Array.isArray(C)&&0<C.length&&C.every(function(re){return typeof re=="string"&&-1<re.indexOf("http")})&&this.cloudSetting.init({productNum:1,appID:this.stateCenter.appid,env:this.stateCenter.ENV,pollingNotify:function(re,ye){P.logger.info("zm.scsu"," setting file changed "+re+" "+JSON.stringify(ye)),P.stateCenter.actionListener("_cloudSettingNotify",re,ye)},reportNotify:this.cloudReportNotify.bind(this),online:!this.stateCenter.testEnvironment,unify:this.isUseNetAgent,connection:this.netAgent})},ar.prototype.loginRoom=function(C,P,re,ye){var we=this;return this.logger.info(Ut+" call by user "+(re==null?void 0:re.userID)+" "+C+" "+this.version),new Promise(function(Le,at){return _i(we,void 0,void 0,function(){var Qt,Rt,Jt,qt,Wt;return Uo(this,function(rn){switch(rn.label){case 0:return this.stateCenter.ENV!==1?[3,2]:[4,new Promise(function(Yr){})];case 1:rn.sent(),rn.label=2;case 2:return Rt=this.loginReport(Le,at,C,P,ye),qt=Rt.interResolve,Qt=Rt.interReject,Rt=Rt.loginSpan,(ye=ye||{}).maxMemberCount||(ye.maxMemberCount=0),Jt=this.getRoomModules(C),Wt=Ke.error,Jt?(this.logger.setSessionInfo(this.stateCenter.appid,C,"",re.userID,"",this.stateCenter.sdKVersion),Qt(Wt.REPEATEDLY_LOGIN)):((Jt=new Vi(C,this.stateCenter,this.logger,this.dataReport,this,this.liveRoomHandler,this.service)).roomTryHandler||(Jt.roomTryHandler=new Un(this.logger,this.stateCenter,Jt)),Jt.roomTryHandler.init(this.stateCenter.roomRetryTime),Jt.roomTryHandler.initRoom(Jt.roomHandler,C,P,re,this.stateCenter.server,this.stateCenter.serverBak,ye),Jt.roomTryHandler.setLoginRoomCallback(qt,Qt),Jt.roomHandler.roomStateHandle("CONNECTING",x.Logining,{code:0,msg:""}),(qt=function(Yr,an){var Er,zr,Tn=[],nn={};for(Er in Yr)nn[Yr[Er].order]=Yr[Er],Yr[Er].key=Er;for(zr in nn)Tn.push(nn[zr]);for(var qn=0;qn<Tn.length;qn++)for(var _n=Tn[qn].rules,Wn=0;Wn<_n.length;Wn++){var Ln={key:Tn[qn].key,value:Tn[qn].value,action:an.action,logger:an.logger},Si=Ln.value,Xi=_n[Wn].name?""+_n[Wn].name:"";if((Si===void 0&&Xi===Pr.NOT_EMPTY||Si!==void 0)&&Co[Xi]&&(Xi=Co[Xi](Ln.key,Si,Ln.action,Ln.logger,_n[Wn]))!=Dn)return Xi}return Dn}({roomID:{order:0,value:C,rules:[{name:Pr.NOT_EMPTY,error:Wt.ROOM_ID_NULL},{name:Pr.TYPE_STRING,error:Wt.INPUT_PARAM,extMsg:"roomID must be string"},{name:Pr.MAX_LENGTH_128,error:Wt.ROOM_ID_TOO_LONG},{name:Pr.ILLEGAL_CHARACTERS,error:Wt.ROOM_ID_INVALID_CHARACTER}]},token:{order:1,value:P,rules:[{name:Pr.NOT_EMPTY,error:Wt.INPUT_PARAM},{name:Pr.TYPE_STRING,error:Wt.INPUT_PARAM}]},user:{order:2,value:re,rules:[{name:Pr.NOT_EMPTY,error:Wt.INPUT_PARAM,extMsg:" param user error."},{name:Pr.TYPE_OBJECT,error:Wt.INPUT_PARAM,extMsg:" param user error."}]},"user.userID":{order:3,value:re.userID,rules:[{name:Pr.NOT_EMPTY,error:Wt.USER_ID_NULL,extMsg:" param user error."},{name:Pr.TYPE_STRING,error:Wt.INPUT_PARAM,extMsg:" param userID error."},{name:Pr.MAX_LENGTH_64,error:Wt.USER_ID_TOO_LONG},{name:Pr.ILLEGAL_CHARACTERS,error:Wt.USER_ID_INVALID_CHARACTER}]},"user.userName":{order:4,value:re.userName,rules:[{name:Pr.TYPE_STRING,error:Wt.INPUT_PARAM,extMsg:" userName must be string."},{name:Pr.MAX_LENGTH_256,error:Wt.USER_NAME_TOO_LONG}]},config:{order:5,value:ye,rules:[]},"config.maxMemberCount":{order:6,value:ye.maxMemberCount,rules:[{name:Pr.TYPE_INTEGER,error:Wt.INPUT_PARAM,extMsg:" maxMemberCount must be integer number."}]}},{action:Ut,logger:this.logger}))!==Dn?(Jt.roomHandler.roomStateHandle("DISCONNECTED",x.LoginFailed,qt.error,qt.extMsg),Qt(qt.error,qt.extMsg)):(this.logger.setSessionInfo(this.stateCenter.appid,"","",re.userID,"",this.version),0<this.stateCenter.roomModulesList.length&&this.stateCenter.isMultiRoom==1?Jt.isMulti=!0:Hi([],this.stateCenter.roomModulesList,!0).forEach(function(Yr){return Yr.roomHandler.logout()}),ye&&(Jt.config=ye),this.stateCenter.roomModulesList.push(Jt),this.netAgent&&(this.stateCenter.idName=re.userID,this.netAgent.setUserInfo(re.userID),this.stateCenter.actionListener("_roomLogin",C,P),this.netAgent.isConnect())&&this.fetchAppConfig(P),this.cloudSetting.setUserID(re.userID),this.cloudSetting.setToken(P),this.cloudSetting.activePolling(),this.stateCenter.reporter.setCommonAttributes({id_name:re.userID}),this.stateCenter.reporter.setReporterInfo(re.userID,P),this.logger.setTokenInfo(P,re.userID),this.stateCenter.reporter.setSpanInMap(Rt,{key:Ke.event,par:C}),Wt=this.stateCenter.settingConfig.getSetting("room_server",!0),Array.isArray(Wt)&&0<Wt.length&&(this.logger.info(Ut," setting room_server "+Wt),this.stateCenter.server=Wt[0],this.stateCenter.serverBak=Wt[1]||Wt[0]),this.stateCenter.setMultiRoom=!0,Jt.roomTryHandler.startMaxTime(),this.isUseNetAgent&&!this.netAgent.isConnect()?(this.logger.info(Ut," us is not connected"),Jt.roomHandler.setRunState(y.trylogin),this.netAgent.connectUa()):(this.isUseNetAgent&&(this.stateCenter.networkState=U.online),Jt.roomTryHandler.active(!0)))),[2]}})})})},ar.prototype.handleLogUpload=function(C){var P="";C&&C.app_config?P=C.app_config.domain:this.stateCenter.appConfig&&this.stateCenter.appConfig.app_config&&(P=this.stateCenter.appConfig.app_config.domain),this.logger.info(Zt+" call"),this.logger.url?this.logger.info(Zt+" log is connected"):((C=this.stateCenter.geoFencing)!=null&&C.logreport?(this.stateCenter.logDomain=(C=this.stateCenter.geoFencing)==null?void 0:C.logreport,P=this.getMainDomain((C=this.stateCenter.geoFencing)==null?void 0:C.logreport)):this.stateCenter.testEnvironment?(this.stateCenter.logDomain="weblogger-hk-test.zegocloud.com",P="zegocloud.com"):this.stateCenter.logDomain="weblogger".concat(this.stateCenter.appid,"-api.").concat(P),P?(C="",this.stateCenter.ENV===0?(C="wss://".concat(this.stateCenter.logDomain,"/log"),this.reporter.setConfig({serverUrl:"wss://".concat(this.stateCenter.logDomain,"/zglog/tlog")})):C="https://".concat(this.stateCenter.logDomain,"/httplog"),this.logger.setLogServer(C)):this.logger.warn(Zt+" appconfig no domain"))},ar.prototype.fetchAppConfigByTargetToken=function(C,P){return _i(this,void 0,void 0,function(){var re,ye,we,Le,at,Qt;return Uo(this,function(Rt){switch(Rt.label){case 0:if(this.logger.info(Br+" call"),!P)return this.logger.warn(Br+" user not exist"),[2];if(re=this.getUserID(),ye="",we=null,C)ye=C;else{if(!(0<this.stateCenter.roomModulesList.length))return this.logger.warn(Br+" token not exist"),[2];ye=this.getToken()}this.logger.roomid||this.logger.setSessionInfo(this.stateCenter.appid,"player-no-room","",P,"",this.stateCenter.sdKVersion),Rt.label=1;case 1:return Rt.trys.push([1,3,4,5]),this.netAgent.setUserInfo(P),[4,this.netAgent.getAppConfigByAgent("init",ye,5e3)];case 2:return Le=Rt.sent(),at=Le.code,Qt=Le.data,Le.retryCount,at===0&&(this.handleLogUpload(Qt),we=Qt),[3,5];case 3:return Rt.sent(),this.logger.error(Br+" token not validated"),[3,5];case 4:return re&&this.netAgent.setUserInfo(re),this.logger.info(Br+" call success"),[2,we];case 5:return[2]}})})},ar.prototype.fetchAppConfig=function(C){return _i(this,void 0,void 0,function(){var P,re,ye,we,Le,at,Qt,Rt;return Uo(this,function(Jt){switch(Jt.label){case 0:if(this.stateCenter.appConfigFetched)return this.logger.warn(mr+" config fetched"),[2];if(!this.getUserID())return this.logger.warn(mr+" user not exist"),[2];if(P="",C)P=C;else{if(!(0<this.stateCenter.roomModulesList.length))return this.logger.warn(mr+" token not exist"),[2];P=this.getToken()}re=this.stateCenter.reporter.createSpan(N.H,{key:Tr.event},{key:""},"/sdk_config/init"),this.logger.info(Ut+" initConfig etag: "+this.stateCenter.appConfigEtag),ye=!!this.stateCenter.appConfig,Jt.label=1;case 1:return Jt.trys.push([1,3,,4]),[4,this.netAgent.getAppConfigByAgent("init",P,5e3,this.stateCenter.appConfigEtag)];case 2:if(Le=Jt.sent(),Qt=Le.code,Rt=Le.data,we=Le.etag,Le=Le.retryCount,re.setAttributes({trigger_reason:tn(this.stateCenter.appConfig?"refresh":"normal"),try_count:Bn(Le||0)}),re.end(),this.stateCenter.appConfigFetched=!0,this.logger.info(Ut+" initConfig code:"+Qt+" data: "+JSON.stringify(Rt)+" etag: "+we),this.stateCenter.appConfigEtag!==we){if(Object.keys(Rt).length==0)return this.logger.info(Ut+" initConfig data null"),[2];Le=Rt.app_config,Qt=Rt.media_config,at=Qt.publish_config,Qt=Qt.play_config,Rt=Rt.speedlog_config.charge_info_report_no_playing,this.stateCenter.appConfig={app_config:Le,media_config:{publish_config:at,play_config:Qt},speedlog_config:{charge_info_report_no_playing:Rt||0}},this.stateCenter.appConfigEtag=we,Le=JSON.stringify(this.stateCenter.appConfig),at=ot(Le,le),Ot(nt+"_"+this.getAppID()+"_"+(this.stateCenter.mode||Re.modeNo),at),Qt=ot(this.stateCenter.appConfigEtag+"",le),Ot(ct+"_"+this.getAppID()+"_"+(this.stateCenter.mode||Re.modeNo),Qt)}return this.handleLogUpload(),!ye&&this.stateCenter.appConfig&&this.stateCenter.actionListener("_appConfigRsp"),!this.stateCenter.netAppConfig&&this.stateCenter.appConfig&&(this.stateCenter.netAppConfig=Object.assign(this.stateCenter.appConfig),this.stateCenter.actionListener("_netAppConfigRsp",this.stateCenter.netAppConfig),this._onAppConfigUpdate)&&this._onAppConfigUpdate(this.stateCenter.netAppConfig),[3,4];case 3:return Rt=Jt.sent(),this.logger.error(Ut+" fail "+JSON.stringify(Rt)),re.setAttributes({error:Rt==null?void 0:Rt.code}),re.end(),[20012,20008].includes(Rt==null?void 0:Rt.code)&&this.stateCenter.roomModulesList.forEach(function(qt){qt.roomTryHandler&&qt.roomTryHandler.loginFail(ce.APPID_INVALID)}),[3,4];case 4:return[2]}})})},ar.prototype.getCloudSetting=function(){var C,P=this;(C=this.cloudSetting)!=null&&C.fetchMultiSetting([de,"room","rtc"]).then(function(re){var ye,we;P.logger.info(Ut," settingConfig "+JSON.stringify(re)),re&&(P.stateCenter.settingConfig.setSetting((we=re==null?void 0:re.init)==null?void 0:we.setting,["remote_log_level","zip_log","detaillog_domain"]),P.stateCenter.actionListener("_settingCanFetch",re==null?void 0:re.rtc),(we=P.stateCenter.settingConfig.getSetting("remote_log_level",!0))&&(P.logger.info("".concat(Ut,"  setting remote_log_level ").concat(we)),P.logger.setRemoteLogLevel(we)),(re=P.stateCenter.settingConfig.getSetting("zip_log"))!==void 0&&(P.logger.info("".concat(Dt," force setting zip_log ").concat(re)),P.logger.setZipLogConfig(re,!0)),P.handleZipLogUrl(),(we=P.stateCenter.settingConfig.getSetting("unify",P.stateCenter.netHasSet))&&(P.logger.info("".concat(Ut," unify ").concat(JSON.stringify(we))),re=we.enable,we=we.sdk_conn_ver,ye=!0,ye=!!(re&&we<=Re.connectVer),P.isUseNetAgent===!0)&&ye===!1&&(P.cloudSetting.setOptions({unify:!1}),P.stateCenter.connectState!=="connecting"&&(P.stateCenter.connectState="connecting",P.stateCenter.actionListener("_connectChanged","connecting")),re=Hi([],P.stateCenter.roomModulesList,!0),Hi([],P.stateCenter.roomModulesList,!0).forEach(function(Le){Le.roomHandler.logout(!0,!0)}),P.stateCenter.useNetAgent=ye,re.forEach(function(Le){var at;P.stateCenter.roomModulesList.push(Le),Le.roomTryHandler||(Le.roomTryHandler=new Un(P.logger,P.stateCenter,Le)),Le.roomTryHandler.init(P.stateCenter.roomRetryTime),Le.roomTryHandler.initRoom(Le.roomHandler,Le.roomID,Le.token,{userID:P.stateCenter.idName,userName:P.stateCenter.nickName},P.stateCenter.server,P.stateCenter.serverBak,Le.config),(at=Le.roomTryHandler)!=null&&at.startMaxTime(),Le.roomTryHandler.onactive=function(Qt,Rt){Qt?P.stateCenter.connectState!=="connected"&&(P.stateCenter.connectState="connected",P.stateCenter.actionListener("_connectChanged","connected",{roomID:Le.roomID})):(P.logger.info(Ut," onactive"),Le.roomHandler.transError(Rt),Le.roomHandler.disconnectedHandle(Rt))},(at=Le.roomTryHandler)!=null&&at.active()})),we=P.stateCenter.settingConfig.getSetting("report_script"))&&(ye=we.url,re=we.key,we=we.hash,P.logger.info("".concat(Ut," report script ").concat(ye," ").concat(re," ").concat(we)),P.stateCenter.reporter.loadScript(!0,ye,re,we))}).catch(function(re){P.logger.warn(Ut," settingConfig "+JSON.stringify(re))}),this.stateCenter.onListener("_cloudSettingNotify",function(re,ye){var we=P.cloudSetting.getEnvVariables()||{},Le=P.stateCenter.reporter.createSpan(N.H,{key:Tr.event},{key:""},"/cloud_setting/refresh");Le.setAttributes({request_kv:ee(we),files:Pe([{name:re,content:ye.setting,versions:ye.versions,code:ye==null?void 0:ye.code,message:ye==null?void 0:ye.message}])}),Le.end(),re===de&&(P.stateCenter.settingConfig.setSetting(ye==null?void 0:ye.setting,["remote_log_level"]),we=P.stateCenter.settingConfig.getSetting("remote_log_level"))&&(P.logger.info(Ut," setting remote_log_level "+we),P.logger.setRemoteLogLevel(we))})},ar.prototype.cloudReportNotify=function(C,P,re){(re==null?void 0:re.code)!==0||(re==null?void 0:re.polling)===!1?P==="request_start"?this.stateCenter.reporter.createSpan(N.H,{key:Tr.event},{key:He,par:C+""},He,!0):P==="request_end"&&this.stateCenter.reporter.spanEnd({key:He,par:C+""},{request_detail:it(re==null?void 0:re.reportData),files:ht(re==null?void 0:re.files),code:re==null?void 0:re.code,request_params:re==null?void 0:re.params,request_kv:re==null?void 0:re.requestKV}):this.logger.info("zm.crn not report")},ar.prototype.loginReport=function(C,P,re,ye,we){var Le=this,at=Ke,Qt=this.stateCenter.reporter.createSpan(N.I,{key:Tr.event},{key:""},at.event);return Qt.setAttributes({svr_env:at.svr_env(this.stateCenter.testEnvironment?"test":"online"),token:at.token(ye)}),we&&(typeof we.userUpdate=="boolean"&&Qt.setAttribute("user_state_update",at.user_state_update(we.userUpdate?1:0)),typeof we.maxMemberCount=="number")&&Qt.setAttributes({max_member_cnt:at.max_member_cnt(we.maxMemberCount)}),{interResolve:function(Rt){var Jt=Le.getRoomSessionID(re),qt=Le.getRoomModules(re),Wt=Le.getSessionId(re);Qt.setAttributes({room_id:at.room_id(re),room_sid_string:at.room_sid_string(Jt),liveroom_sid_string:at.liveroom_sid_string(Wt),try_cnt:at.try_cnt((Jt=qt==null?void 0:qt.roomTryHandler)==null?void 0:Jt.retryActiveCount),server:at.server((Wt=qt==null?void 0:qt.roomHandler)==null?void 0:Wt.server),room_mode:at.room_mode(Le.stateCenter.isMultiRoom?1:0),role:at.role(Le.stateCenter.role),audience_create_room:at.audience_create_room(Le.stateCenter.roomCreateFlag?1:0),max_member_cnt:at.max_member_cnt((qt==null?void 0:qt.maxMemberCount)||0)}),Qt.end(),C(Rt)},interReject:function(Rt,Jt){var qt,Wt;Jt===void 0&&(Jt=""),Qt.setAttributes({room_id:at.room_id(re)}),Rt.code<2e9&&1e9<Rt.code||Rt.code<1e6?(qt=fe.decodeServerError(Rt.code,Rt.msg),Wt=fe.getLiveRoomError(Rt.code,Le.isUseNetAgent)):qt={code:Rt.code,message:Rt.msg},qt&&Le.stateCenter.reporter.setError(Qt,{code:qt.code,msg:qt.message+Jt}),Wt&&ce[Wt]&&(Rt.code=ce[Wt].code,Rt.msg.includes("unknown"))&&(Rt.msg=ce[Wt].msg),Rt.code&&Rt.msg&&Jt!==""?P({code:Rt.code,msg:Rt.msg+Jt}):P(Rt)},loginSpan:Qt}},ar.prototype.logoutRoom=function(C){var P,re=this;this.logger.info(Vt+" call by user "+C),this.stateCenter.roomModulesList.length?C===void 0?(Hi([],this.stateCenter.roomModulesList,!0).forEach(function(ye){re.logoutSpan(ye),ye.roomHandler.logout(!0)}),this.cloudSetting.uninit()):typeof C!="string"||C==""?(this.logger.error(Vt+" roomID must be string and not empty"),this.logoutSpan(void 0,It.error.INPUT_PARAM)):(P=this.getRoomModules(C))?(this.logoutSpan(P),P.roomHandler.logout(),this.stateCenter.roomModulesList.length===0&&this.cloudSetting.uninit()):(this.logger.error(Vt+" room not exist"),this.logoutSpan(void 0,It.error.ROOM_NOT_EXIST,C)):this.logger.warn(Vt+" no room")},ar.prototype.uploadLog=function(){var C=this;return new Promise(function(P,re){C.logger.info("zm.zip.udlg call"),C.logger.uploadStorageLog().then(function(){C.logger.info("zm.zip.udlg call success"),P({errorCode:0,extendedData:"upload logs success!"})}).catch(function(ye){C.logger.error("zm.zip.udlg upload zip log failed, result: "+((ye==null?void 0:ye.message)||"unknown")),re({errorCode:ce.UPLOAD_LOG_ERROR.code,extendedData:ce.UPLOAD_LOG_ERROR.msg+", result: "+((ye==null?void 0:ye.message)||"unknown")})})})},ar.prototype.sendCustomCommand=function(C,P,re){return new Promise(function(ye,we){console.error(X),we()})},ar.prototype._sendCustomCommand=function(C,P,re){return new Promise(function(ye,we){console.error(X),we()})},ar.prototype.sendBroadcastMessage=function(C,P){return new Promise(function(re,ye){console.error(X),ye()})},ar.prototype._sendBroadcastMessage=function(C,P,re,ye){return new Promise(function(we,Le){console.error(X),Le()})},ar.prototype.setRoomExtraInfo=function(C,P,re){return new Promise(function(ye,we){console.error(X),we()})},ar.prototype._setRoomExtraInfo=function(C,P,re){return new Promise(function(ye,we){console.error(X),we()})},ar.prototype.sendBarrageMessage=function(C,P){return new Promise(function(re,ye){console.error(X),ye()})},ar.prototype._sendBarrageMessage=function(C,P,re,ye){return new Promise(function(we,Le){console.error(X),Le()})},ar.prototype.sendRelayMessage=function(C,P,re,ye,we){console.error(X)},ar.prototype.requestJoinLive=function(C,P,re,ye,we){return console.error(X),!1},ar.prototype.inviteJoinLive=function(C,P,re,ye,we){return console.error(X),!1},ar.prototype.endJoinLive=function(C,P,re,ye){return console.error(X),!1},ar.prototype.respondJoinLive=function(C,P,re,ye,we){return console.error(X),!1},ar.prototype.getVersion=function(){return this.version},ar.prototype.setSdkBizVersion=function(C){typeof C=="string"&&C!==""&&(this.stateCenter.bizVersion=C)},ar.prototype.on=function(C,P){var re=this.stateCenter.reporter.createSpan(N.H,{key:Or},{key:""},ke.event);return re.setAttributes({listener:ke.listener(C)}),this.stateCenter.listenerList[C]?typeof P!="function"?(this.logger.error(qe+" listener callBack must be funciton"),this.stateCenter.reporter.setError(re,ke.error.INPUT_PARAM," listener callBack must be function"),!1):(this.stateCenter.listenerList[C].indexOf(P)==-1&&this.stateCenter.listenerList[C].push(P),re.end(),!0):(this.logger.error(qe+" event "+C+" no found"),this.stateCenter.reporter.setError(re,ke.error.INPUT_PARAM," event "+C+" no found"),!1)},ar.prototype.off=function(C,P){var re,ye=this.stateCenter.reporter.createSpan(N.H,{key:Or},{key:""},"/sdk/off_listener");return ye.setAttributes({listener:Ge(C)}),this.stateCenter.listenerList[C]?(re=this.stateCenter.listenerList[C],P?re.splice(re.indexOf(P),1):this.stateCenter.listenerList[C]=[],ye.end(),!0):(this.logger.error("zm.off listener no found"),this.stateCenter.reporter.setError(ye,ke.error.INPUT_PARAM," event "+C+" no found"),!1)},ar.prototype._on=function(C,P){return this.stateCenter.listenerList[C]?typeof P!="function"?(this.logger.error(qe+" listener callBack must be funciton"),!1):(this.stateCenter.listenerList[C].indexOf(P)==-1&&this.stateCenter.listenerList[C].push(P),!0):(this.logger.error(qe+" event "+C+" no found"),!1)},ar.prototype._off=function(C,P){var re;return this.stateCenter.listenerList[C]?(re=this.stateCenter.listenerList[C],P?re.splice(re.indexOf(P),1):this.stateCenter.listenerList[C]=[],!0):(this.logger.error("zm.off listener no found"),!1)},ar.prototype.isTestEnvironment=function(){return this.stateCenter.testEnvironment},ar.prototype.isLogin=function(C){return!!(C=this.getRoomModules(C)||this.stateCenter.roomModulesList[0])&&C.isLogin()},ar.prototype.getMultiRoom=function(){return this.stateCenter.isMultiRoom},ar.prototype.getAppID=function(){return this.stateCenter.appid},ar.prototype.getUserID=function(){return this.stateCenter.idName},ar.prototype.getUserName=function(){return this.stateCenter.nickName},ar.prototype.getToken=function(C){return(this.getRoomModules(C)||this.stateCenter.roomModulesList[0]).token},ar.prototype.setRoomCreateFlag=function(C){this.stateCenter.roomCreateFlag=C},ar.prototype.setRole=function(C){this.stateCenter.role=C},ar.prototype.getSessionId=function(C){return(C=this.getRoomModules(C)||this.stateCenter.roomModulesList[0])?C.userSidString:"0"},ar.prototype.getRoomSessionID=function(C){return(C=this.getRoomModules(C)||this.stateCenter.roomModulesList[0])?C.roomSidString:"0"},ar.prototype.getAppConfig=function(){return this.stateCenter.appConfig},ar.prototype.setTestPackageSize=function(C){this.cloudSetting.zegoSetting.settingFetchHandler.testNetPackageSize=C,this.stateCenter.testNetPackageSize=C},ar.prototype.setAccess=function(C){this.stateCenter.configOK&&(this.stateCenter.netHasSet=!0,this.stateCenter.useNetAgent=C,this.stateCenter.useNetAgent=this.getSettingUnify(!0),this.netAgent.setAccess(this.isUseNetAgent),this.cloudSetting.setOptions({unify:this.isUseNetAgent}))},ar.prototype.enableMultiRoom=function(C){var P=this.stateCenter.reporter.createSpan(N.H,{key:Tr.event},{key:""},je.event);return typeof C!="boolean"?(this.logger.error("zm.emr param must be boolean"),this.stateCenter.reporter.setError(P,je.error.kAlreadyLoginError),!1):(P.setAttribute("is_multi",je.is_multi(C)),0<this.stateCenter.roomModulesList.length||this.stateCenter.setMultiRoom?(this.logger.error("zm.emr multi room can only be set once before first login"),this.stateCenter.reporter.setError(P,je.error.kInvalidParamError),!1):(P.end(),this.stateCenter.isMultiRoom=C,this.stateCenter.setMultiRoom=!0))},ar.prototype.getRoomModules=function(C){return this.stateCenter.roomModulesList.find(function(P){return P.roomID==C})},ar.prototype._onAppConfigUpdate=function(C){},ar.prototype._onBeforePageUnload=function(){},ar.use=function(C){switch(C.type){case"message":case"live":C.install(ar,Vi,_s,na)}},ar.setGeoFence=function(C,P){if(![0,1,2].includes(C))throw new Error("GeoFencing set Error");if(!P.every(function(re){return St.find(function(ye){return ye===re})}))throw new Error("GeoFencing set Error");ar.geoFenceType=C,ar.geoFenceAreaList=P},ar.setEngineOptions=function(C){if(C.geoFenceType){if(![0,1,2].includes(C.geoFenceType))throw new Error("GeoFencing set Error");ar.geoFenceType=C.geoFenceType}if(C.geoFenceAreaList){if(!C.geoFenceAreaList.every(function(P){return lt.find(function(re){return re.id===P})}))throw new Error("GeoFencing set Error");ar.geoFenceAreaList=C.geoFenceAreaList}ar.engineOptions=C},ar.prototype.resetRoomTokenTimer=function(C,P){(C=this.getRoomModules(C)||this.stateCenter.roomModulesList[0])&&P&&0<P&&C.roomHandler.resetTokenTimer(1e3*P)},ar.prototype.isDisConnect=function(){return(this.isUseNetAgent?this.liveRoomHandler:this.service).isDisConnect()},ar.prototype.sendMessage=function(C,P,re,ye){(this.isUseNetAgent?this.liveRoomHandler:this.service).sendMessage(C,P,re,ye)},ar.prototype.getNetworkInfo=function(){return this.netAgent.getNTP()},ar.prototype.setProtoFormat=function(C){if(!["json","pb"].includes(C=C===void 0?"json":C))throw new Error("Failed to execute 'setProtoFormat': Arguments 'format' must be 'json' or 'pb'.");this.stateCenter.protoFormat=C},ar.prototype.setSdkLoginRelateService=function(C){Array.isArray(C)&&C.every(function(P){return typeof P=="string"})&&(this.stateCenter.relateService=C)},ar.prototype.sendMessageByService=function(C,P,re,ye,we,Le){return this.service.sendMessage(C,P,re,ye,we,Le)},ar.prototype.getHeader=function(C){var P,re,ye=this.stateCenter.roomModulesList[0];if(ye&&ye.isLogin())return P=ye.roomID,re=ye.sessionID,ye=ye.roomSessionID,this.service.getHeader(C,re,P,ye);this.logger.error("zm.gh room no found or no login")},ar.prototype.sendPB=function(C){return C instanceof Uint8Array?this.service.sendPB(C):(this.logger.error("zm.spb type error"),!1)},ar.prototype.onPushBizChannel=function(C){C&&this.service.on("push_biz_channel",C)},ar.prototype.getRoomID=function(){return this.stateCenter.roomid},ar.prototype.getServerTimeOffset=function(){return this.stateCenter.serverTimeOffset},ar.prototype.getReqHead=function(C){return C=typeof C=="string"&&C!==""&&this.getRoomModules(C)||this.stateCenter.roomModulesList[0],this.liveRoomHandler.getReqHead(C)},ar.prototype.sendSwitchMessage=function(C,P){throw this.logger.error("".concat("zm.ssm"," ").concat(ce.WHITE_BOARD_VERSION_ERROR.msg)),ce.WHITE_BOARD_VERSION_ERROR},ar.prototype.onSwitchMessage=function(C){C&&this.liveRoomHandler&&(this.liveRoomHandler.onSwitchMessage=C)},ar.prototype.onAppConfigUpdate=function(C){C&&(this._onAppConfigUpdate=C)},ar.prototype.onBeforePageUnload=function(C){C&&(this._onBeforePageUnload=C)},ar.prototype.getProtoVer=function(){return Q.SWITCH_TWO},ar.prototype.sendBusinessMessage=function(C,P,re){return typeof C=="number"&&P?this.liveRoomHandler.sendMessage(C,P,void 0,void 0,re,void 0,!1):-1},ar.prototype.logoutSpan=function(C,P,re){var ye=this,we=this.stateCenter.reporter.createSpan(N.I,{key:Tr.event},{key:It.event,par:C==null?void 0:C.roomID},It.event,!0);we.setAttributes({is_multi:It.is_multi(this.stateCenter.isMultiRoom),is_send_cmd_net:It.is_send_cmd_net(!0)}),C?we.setAttributes({room_id:It.room_id(C==null?void 0:C.roomID),room_sid_string:It.room_sid_string(C==null?void 0:C.roomSidString),liveroom_sid_string:It.liveroom_sid_string(C==null?void 0:C.userSidString)}):typeof re=="string"&&we.setAttributes({room_id:It.room_id(re)}),P?this.stateCenter.reporter.setError(we,P):we.end(),setTimeout(function(){ye.reporter.flush()},200)},ar.prototype.getMsgSpan=function(C,P,re){return this.stateCenter.reporter.createSpan(N.H,{key:Ke.event,par:P},{key:C,par:P},C,re=re!==void 0&&re)},ar.prototype.updateTimeOffsetInterval=function(){var C=this;typeof this.netAgent.timeOffset=="number"&&this.stateCenter.reporter.setTimeOffset(this.netAgent.timeOffset),this.timeOffsetUpdateTimer=setTimeout(function(){C.updateTimeOffsetInterval()},9e5)},ar.prototype.setLocalGeoFencing=function(){var C;(C=this.stateCenter.netGeoFencing)!=null&&C.id&&(C=this.stateCenter.netGeoFencing)!=null&&C.accesshub&&(C=ot(JSON.stringify(this.stateCenter.netGeoFencing),le),Ot("z_geos_"+this.stateCenter.appid+"_"+(this.stateCenter.mode||Re.modeNo),C),this.stateCenter.netGeoFencing={})},ar.prototype.getLocalGeoFencing=function(){var C=ge("z_geos_"+this.stateCenter.appid+"_"+(this.stateCenter.mode||Re.modeNo));if(C){if(C=ft(C,le))try{return JSON.parse(C)}catch{this.logger.warn("zm.glgf local geo descrypt fail")}}else this.logger.info("zm.glgf no local geo");return null},ar.prototype.getGeoFencingIDAndDomain=function(C,P){var re=[];return C===1?P.forEach(function(ye){var we=lt.find(function(Le){return Le.id===ye});we&&re.push(we)}):C===2&&(re=JSON.parse(JSON.stringify(lt)),P.forEach(function(ye){var we=lt.find(function(Le){return Le.id===ye});we&&(re=re.filter(function(Le){return Le.id!==(we==null?void 0:we.id)}),we.relative_geofencings.forEach(function(Le){re=re.filter(function(at){return at.id!==Le})}))})),0<re.length?re:null},ar.rtmVersion="2.0.0",ar);function ar(C,P,re,ye,we,Le,at,Qt){var Rt,Jt,qt,Wt=this,rn=(this.logger=re,this.dataReport=ye,this.reporter=we,this.version=Le,this.options=Qt,this.roomLoginResponseListener=function(){clearTimeout(Wt.cloudSettingTimer),Wt.cloudSettingTimer=setTimeout(function(){Wt.logger.info(Ut+" fetch cloud setting"),Wt.getCloudSetting()},100)},this.stateCenter=new li(this.logger,this.dataReport),this.stateCenter.ENV=at,this.stateCenter.product=ue.product,this.cloudSetting=new qa,this.getReportSeq=$,this.getSeq=z,this.initCallback(),this.stateCenter.deviceID=fe.generateUUID(at),this.logger.info("".concat(Dt," device ID is ").concat(this.stateCenter.deviceID)),this.reporter.init(C,at,this.stateCenter.deviceID),this.reporter.setLogger(this.logger),this.stateCenter.reporter=this.reporter,Tr),Yr=this.stateCenter.reporter.createSpan(N.H,{key:""},{key:rn.event},rn.event,!0);at!=0&&at!=1||this.setDebug(P),re="Express",(ye=this.options)!=null&&ye.reportData&&(Rt=(Le=(we=this.options)==null?void 0:we.reportData)==null?void 0:Le.version,re=((ye=(Qt=this.options)==null?void 0:Qt.reportData)==null?void 0:ye.project)||re),Yr.setAttributes({biz_type:rn.biz_type(0),project:rn.project(re),servers:rn.servers(typeof P=="string"?[P]:P),liveroom_version:rn.liveroom_version(Rt),is_from_cache:rn.is_from_cache(!1),sev_env:rn.sev_env(this.stateCenter.testEnvironment?"test":"online")}),fe.checkConfigParam(C,P,this.logger)?(this.stateCenter.appid=C,this.stateCenter.configOK=!0,this.stateCenter.sdKVersion=this.version,this.stateCenter.testEnvironment&&(this.stateCenter.mode=Z.MODE_TEST),this.netAgent=new j,this.logger.setSessionInfo(this.stateCenter.appid,"","","","",this.version),this.netAgent.init(),this.netAgent.setLogger(this.logger),we={appID:this.stateCenter.appid,env:this.stateCenter.ENV,mode:this.stateCenter.mode},ar.geoFenceType&&ar.geoFenceAreaList&&(we.geoFencing={type:ar.geoFenceType,list:ar.geoFenceAreaList}),this.netAgent.setAppInfo(we),this.liveRoomHandler=new na(this.logger,this.stateCenter,this.netAgent,this.dataReport,this),this.service=new _s(this.stateCenter,this.logger,this),Le="",at===0?Le="rtc":at===1&&(Le="ali"),this.stateCenter.settingConfig=new Ua,this.cloudSetting.setLog(this.logger),this.cloudSetting.init({productNum:1,appID:C,env:at,pollingNotify:function(an,Er){Wt.logger.info(Dt," setting file changed "+an+" "+JSON.stringify(Er)),Wt.stateCenter.actionListener("_cloudSettingNotify",an,Er)},reportNotify:this.cloudReportNotify.bind(this),online:!this.stateCenter.testEnvironment,unify:this.isUseNetAgent,connection:this.netAgent}),(Qt=this.stateCenter.settingConfig.getSetting("remote_log_level"))&&(this.logger.info("".concat(Dt," setting remote_log_level default ").concat(Qt)),this.logger.setRemoteLogLevel(Qt)),(ye=this.stateCenter.settingConfig.getSetting("zip_log"))!==void 0&&(this.logger.info("".concat(Dt," setting zip_log default ").concat(ye)),this.logger.setZipLogConfig(ye)),this.cloudSetting.setEnvVariable("environment",Le),re=this.cloudSetting.getSettingCache(de),Rt=this.cloudSetting.getSettingCache("room"),Jt=!1,qt=setTimeout(function(){Wt.logger.warn("".concat(Dt," time out, get cache settings failed!")),Wt.isUseNetAgent&&(Jt=!0,Wt.createNetAgent(),Wt.getStoreAppConfig()),Yr.setAttributes({use_na:rn.use_na(Wt.isUseNetAgent?1:0)}),Yr.end()},3e3),Promise.all([re,Rt]).then(function(an){qt&&clearTimeout(qt);var Er=an==null?void 0:an[0],zr=((nn=((nn=((nn=(Wt.stateCenter.settingConfig.setSetting(Er==null?void 0:Er.setting),Wt.stateCenter.useNetAgent=Wt.getSettingUnify(Wt.stateCenter.netHasSet),Wt.cloudSetting.setOptions({unify:Wt.isUseNetAgent}),Wt.isUseNetAgent&&!Jt&&(Wt.createNetAgent(),Wt.getStoreAppConfig()),Wt.stateCenter.settingConfig.getSetting("remote_log_level",!0)))&&(Wt.logger.info("".concat(Dt,"  setting remote_log_level ").concat(nn)),Wt.logger.setRemoteLogLevel(nn)),Wt.handleZipLogUrl(),Wt.stateCenter.settingConfig.getSetting("zip_log")))!==void 0&&(Wt.logger.info("".concat(Dt," setting zip_log ").concat(nn)),Wt.logger.setZipLogConfig(nn)),Wt.stateCenter.settingConfig.getSetting("report_script")))?(zr=nn.url,Tn=nn.key,nn=nn.hash,Wt.logger.info("".concat(Dt," report script ").concat(zr," ").concat(Tn," ").concat(nn)),Wt.stateCenter.reporter.loadScript(!1,zr,Tn,nn),Yr.setAttributes({lua_md5:rn.lua_md5(nn)})):Wt.stateCenter.reporter.loadScript(!1,"","",""),an==null?void 0:an[1]),Tn=(Wt.stateCenter.settingConfig.setSetting(zr==null?void 0:zr.setting),Wt.stateCenter.reporter.createSpan(N.H,{key:rn.event},{key:""},"/cloud_setting/cache")),nn=(Tn.setAttributes({files:pt([{name:de,content:JSON.stringify(Er==null?void 0:Er.setting),versions:JSON.stringify(Er==null?void 0:Er.versions),code:0,message:""},{name:"room",content:JSON.stringify(zr==null?void 0:zr.setting),versions:JSON.stringify(zr==null?void 0:zr.versions),code:0,message:""}])}),Tn.end(),Yr.setAttributes({use_na:rn.use_na(Wt.isUseNetAgent?1:0)}),Yr.end(),Array.isArray(P)?P[0]:P);if(!Wt.isUseNetAgent&&!yt(nn,C))throw Wt.logger.error("".concat(Dt," the server does not match the appID")),new Error("The server does not match the appID")}).catch(function(an){if(qt&&clearTimeout(qt),Yr.setAttributes({use_na:rn.use_na(Wt.isUseNetAgent?1:0)}),Yr.end(),Wt.logger.warn("".concat(Dt,"  initConfig ").concat(JSON.stringify(an))),(an==null?void 0:an.code)===ce.GEO_SET_ERROR.code)throw Error("GeoFencing set Error")}),typeof P=="string"?(this.stateCenter.server=P,this.stateCenter.serverBak=P):Array.isArray(P)&&0<P.length&&(this.stateCenter.server=P[0],this.stateCenter.serverBak=P[1]||P[0]),this.logger.info("".concat(Dt,"  ").concat(navigator==null?void 0:navigator.appVersion," ").concat(this.version," rtmVersion: ").concat(ar.rtmVersion," logVersion:").concat(p.ZegoLogger.logVersion)),this.bindWindowListener(),this.stateCenter.networkState=!navigator||navigator.onLine?U.online:U.offline,we=Fe()==="Firefox"?navigator==null?void 0:navigator.userAgent:navigator==null?void 0:navigator.appVersion,Yr.setAttribute("sys_info",we||""),this.initSpans(),this.logger.setSessionInfo(this.stateCenter.appid,"","","","",this.version)):(this.logger.error("".concat(Dt," init sdk error")),this.stateCenter.reporter.setError(Yr,rn.error.kInvalidParamError)),this.stateCenter.onListener("roomLoginResponse",this.roomLoginResponseListener)}var oa=I(7),Eo=function(){return(Eo=Object.assign||function(C){for(var P,re=1,ye=arguments.length;re<ye;re++)for(var we in P=arguments[re])Object.prototype.hasOwnProperty.call(P,we)&&(C[we]=P[we]);return C}).apply(this,arguments)},Ss=(Vn.prototype.init=function(C,P,re){var ye=this,we=P==0?"rtc":"ali";this.tracer.init({product:this.product,version:"1.0.0",env:P,appID:C,deviceID:re,importantLevel:ue.importLevel,levels:ue.levels,bps:ue.bps,spanStart:function(Le){try{typeof scriptSpanStart=="function"&&scriptSpanStart(ye.commonStates,ye.tracer,Le)}catch(at){ye.logger.warn("zm.tc.ii dy span start ",JSON.stringify(at))}},spanBeforeEnd:function(Le){Le.setAttribute("ntype_end",pe())},spanEnd:function(Le,at){try{typeof scriptSpanEnd=="function"&&scriptSpanEnd(ye.commonStates,ye.tracer,Le)}catch(Qt){ye.logger.warn("zm.tc.ii dy span end ",JSON.stringify(Qt))}},resources:{product:this.product,appid:C,device_id:re,console:we}})},Vn.prototype.setConfig=function(C){this.tracer.setConfig(C)},Vn.prototype.loadScript=function(C,P,re,ye){return function(we,Le,at,Qt){return new(at=at||Promise)(function(Rt,Jt){function qt(Yr){try{rn(Qt.next(Yr))}catch(an){Jt(an)}}function Wt(Yr){try{rn(Qt.throw(Yr))}catch(an){Jt(an)}}function rn(Yr){var an;Yr.done?Rt(Yr.value):((an=Yr.value)instanceof at?an:new at(function(Er){Er(an)})).then(qt,Wt)}rn((Qt=Qt.apply(we,Le||[])).next())})}(this,void 0,void 0,function(){var we;return function(Le,at){var Qt,Rt,Jt,qt={label:0,sent:function(){if(1&Jt[0])throw Jt[1];return Jt[1]},trys:[],ops:[]},Wt={next:rn(0),throw:rn(1),return:rn(2)};return typeof Symbol=="function"&&(Wt[Symbol.iterator]=function(){return this}),Wt;function rn(Yr){return function(an){var Er=[Yr,an];if(Qt)throw new TypeError("Generator is already executing.");for(;qt=Wt&&Er[Wt=0]?0:qt;)try{if(Qt=1,Rt&&(Jt=2&Er[0]?Rt.return:Er[0]?Rt.throw||((Jt=Rt.return)&&Jt.call(Rt),0):Rt.next)&&!(Jt=Jt.call(Rt,Er[1])).done)return Jt;switch(Rt=0,(Er=Jt?[2&Er[0],Jt.value]:Er)[0]){case 0:case 1:Jt=Er;break;case 4:return qt.label++,{value:Er[1],done:!1};case 5:qt.label++,Rt=Er[1],Er=[0];continue;case 7:Er=qt.ops.pop(),qt.trys.pop();continue;default:if(!(Jt=0<(Jt=qt.trys).length&&Jt[Jt.length-1])&&(Er[0]===6||Er[0]===2)){qt=0;continue}if(Er[0]===3&&(!Jt||Er[1]>Jt[0]&&Er[1]<Jt[3]))qt.label=Er[1];else if(Er[0]===6&&qt.label<Jt[1])qt.label=Jt[1],Jt=Er;else{if(!(Jt&&qt.label<Jt[2])){Jt[2]&&qt.ops.pop(),qt.trys.pop();continue}qt.label=Jt[2],qt.ops.push(Er)}}Er=at.call(Le,qt)}catch(zr){Er=[6,zr],Rt=0}finally{Qt=Jt=0}if(5&Er[0])throw Er[1];return{value:Er[0]?Er[1]:void 0,done:!0}}}}(this,function(Le){switch(Le.label){case 0:return Le.trys.push([0,2,,3]),[4,this.tracer.loadJs(C,P,re,ye,`
function scriptSpanStart(states, tracer, span) {
    
}
function scriptSpanEnd(states, tracer, span) {
    if (span['tags']['msg_content']) {
        span['tags']['msg_content_size'] = span['tags']['msg_content'].length;
        delete span['tags']['msg_content'];
    }
    delete span['tags']['resp'];
    const filterSpans = ['/rtc/login', '/rtc/hb', '/rtc/recv_remote_stream'];
    if (filterSpans.includes(span.name)) {
        console.log(span.name + ' do not report');
        span.droped = true;
    }
}
function scriptInit(states, tracer) {

}

`,{})];case 1:return Le.sent(),typeof scriptInit=="function"&&scriptInit(this.commonStates,this.tracer),[3,3];case 2:return we=Le.sent(),this.logger.warn("zm.tc.ls"," load script fail "+JSON.stringify(we)),[3,3];case 3:return[2]}})})},Vn.prototype.setReporterInfo=function(C,P){var re=new Map;re.set("userID",C),re.set("token",P),this.tracer.startReport(re)},Vn.prototype.flush=function(C){this.tracer.flush(C)},Vn.prototype.destroy=function(){this.tracer.destroy()},Vn.prototype.setCommonStates=function(C){this.commonStates=C},Vn.prototype.setResource=function(C){this.tracer.setResource(C)},Vn.prototype.setCommonAttributes=function(C){this.commonAttrs=Object.assign({},this.commonAttrs,C)},Vn.prototype.createSpan=function(C,P,re){return(C=this.tracer.createSpan(C,P,{parent:re})).setAttributes(Eo({ntype:pe(),error:0,message:""},this.commonAttrs)),C},Vn.prototype.spanEnd=function(C,P){C&&P&&C.setAttributes(Eo({},P)),C&&C.end()},Vn.prototype.spanSetAttributes=function(C,P){C&&C.setAttributes(P)},Vn.prototype.spanAppendAttribute=function(C,P,re){C&&C.appendAttribute(P,re)},Vn.prototype.setError=function(C,P,re){C.setAttributes({error:P.code||P.errorCode,message:(P.msg||P.message||P.extendedData)+" "+(re=re===void 0?"":re)}),C.end()},Vn.prototype.setLogger=function(C){this.tracer.setLogger(C)},Vn.prototype.setTimeOffset=function(C){this.tracer.setTimeOffset(C)},Vn.prototype.setUnloadState=function(C){this.isUnload=!0,this.tracer.setUnloadState(C)},Vn.prototype.setNetStateCheck=function(){this.tracer.setNetStateCheck()},Vn);function Vn(C){this.logger=C,this.product=ue.product,this.commonAttrs={},this.commonStates={},this.isUnload=!1,new oa.DynamicCode,this.tracer=new oa.ZegoTracer,this.tracer.setSampleConfig({level:N.L})}var $o=["/sdk/start_publish","/publish/start","/publish/restart"],sa=["/sdk/start_play","/play/start","/play/restart"],aa=(Nn.prototype.init=function(C,P,re){this.tracerHandler.init(C,P,re)},Nn.prototype.setConfig=function(C){this.tracerHandler.setConfig(C)},Nn.prototype.loadScript=function(C,P,re,ye){return this.tracerHandler.loadScript(C,P,re,ye)},Nn.prototype.setReporterInfo=function(C,P){this.tracerHandler.setReporterInfo(C,P)},Nn.prototype.flush=function(C){this.tracerHandler.flush(C)},Nn.prototype.destroy=function(){this.tracerHandler.destroy()},Nn.prototype.setCommonStates=function(C){this.tracerHandler.setCommonStates(C)},Nn.prototype.setResource=function(C){this.tracerHandler.setResource(C)},Nn.prototype.setCommonAttributes=function(C){this.tracerHandler.setCommonAttributes(C)},Nn.prototype.setPublicPros=function(C){this.publicPros=Object.assign({},this.publicPros,C)},Nn.prototype.createSpan=function(C,P,re,ye,we){var Le;P&&P.key&&P.par?(at=P.par1?"_"+P.par1:"",!(Le=(Le=this.reportList[P.key])==null?void 0:Le[P.par+at])&&P.bak_key&&(Le=(Qt=this.reportList[P.bak_key])==null?void 0:Qt[P.par+at])):P&&!(Le=this.reportList[P.key])&&P.bak_key&&(Le=this.reportList[P.bak_key]),Le=Le||this.reportList[Tr.event];var at,Qt=this.tracerHandler.createSpan(C,ye,Le);return P.key==="/sdk/login"&&(Qt.setAttribute("room_id",P.par),this.publicPros[P.par])&&Qt.setAttributes(this.publicPros[P.par]),($o.includes(P.key)||sa.includes(P.key))&&Qt.setAttribute("stream_id",P.par),$o.includes(P.key)&&this.publicPros["_publish_"+P.par]&&Qt.setAttributes(this.publicPros["_publish_"+P.par]),sa.includes(P.key)&&this.publicPros["_play_"+P.par]&&Qt.setAttributes(this.publicPros["_play_"+P.par]),we&&(re.par?(this.reportList[re.key]||(this.reportList[re.key]={}),at=re.par1?"_"+re.par1:"",this.reportList[re.key][re.par+at]=Qt):this.reportList[re.key]=Qt),Qt},Nn.prototype.setSpanInMap=function(C,P){var re;P.par?(this.reportList[P.key]||(this.reportList[P.key]={}),re=P.par2?"_"+P.par2:"",this.reportList[P.key][P.par+re]=C):this.reportList[P.key]=C},Nn.prototype.spanEnd=function(C,P,re){var ye;C.par?(ye=C.par1?"_"+C.par1:"",ye=this.reportList[C.key]&&this.reportList[C.key][C.par+ye],this.reportList[C.key]&&!re&&delete this.reportList[C.key][C.par]):(ye=this.reportList[C.key],re||delete this.reportList[C.key]),this.tracerHandler.spanEnd(ye,P)},Nn.prototype.spanSetAttributes=function(C,P){var re,ye;C.par?(re=C.par1?"_"+C.par1:"",!(ye=this.reportList[C.key]&&this.reportList[C.key][C.par+re])&&C.bak_key&&(ye=this.reportList[C.bak_key]&&this.reportList[C.bak_key][C.par+re])):!(ye=this.reportList[C.key])&&C.bak_key&&(ye=this.reportList[C.key]),this.tracerHandler.spanSetAttributes(ye,P)},Nn.prototype.spanAppendAttribute=function(C,P,re){var ye,we;C.par?(ye=C.par1?"_"+C.par1:"",!(we=this.reportList[C.key]&&this.reportList[C.key][C.par+ye])&&C.bak_key&&(we=this.reportList[C.bak_key]&&this.reportList[C.bak_key][C.par+ye])):!(we=this.reportList[C.key])&&C.bak_key&&(we=this.reportList[C.key]),this.tracerHandler.spanAppendAttribute(we,P,re)},Nn.prototype.setError=function(C,P,re){this.tracerHandler.setError(C,P,re)},Nn.prototype.setLogger=function(C){this.tracerHandler.setLogger(C)},Nn.prototype.setTimeOffset=function(C){this.tracerHandler.setTimeOffset(C)},Nn.prototype.setUnloadState=function(C){this.tracerHandler.setUnloadState(C)},Nn.prototype.setNetStateCheck=function(){this.tracerHandler.setNetStateCheck()},Nn);function Nn(C){this.logger=C,this.reportList={},this.publicPros={},this.tracerHandler=new Ss(C)}zn.prototype.enableMultiRoom=function(C){return this.zegoWebRTM.enableMultiRoom(C)},zn.prototype.loginRoom=function(C,P,re,ye){return this.zegoWebRTM.loginRoom(C,P,re,ye)},zn.prototype.logoutRoom=function(C){return this.zegoWebRTM.logoutRoom(C)},zn.prototype.renewToken=function(C,P){return this.zegoWebRTM.renewToken(C,P)},zn.prototype.sendBarrageMessage=function(C,P){return this.zegoWebRTM.sendBarrageMessage(C,P)},zn.prototype.sendBroadcastMessage=function(C,P){return this.zegoWebRTM.sendBroadcastMessage(C,P)},zn.prototype.sendCustomCommand=function(C,P,re){return this.zegoWebRTM.sendCustomCommand(C,P,re)},zn.prototype.setRoomExtraInfo=function(C,P,re){return this.zegoWebRTM.setRoomExtraInfo(C,P,re)},zn.prototype.setLogConfig=function(C){return this.zegoWebRTM.setLogConfig(C)},zn.prototype.setDebugVerbose=function(C){return this.zegoWebRTM.setDebugVerbose(C)},zn.prototype.on=function(C,P){return this.zegoWebRTM.on(C,P)},zn.prototype.getVersion=function(){return this.zegoWebRTM.getVersion()},zn.prototype.off=function(C,P){return this.zegoWebRTM.off(C,P)},zn.use=function(C){Pi.use(C)},zn.setGeoFence=function(C,P){Pi.setGeoFence(C,P)},zn.setEngineOptions=function(C){Pi.setEngineOptions(C)},zn.version="2.0.0";var Aa=zn;function zn(C,P,re,ye){this.logger=new p.ZegoLogger(re=re===void 0?0:re),this.dataReport=new p.ZegoDataReport(this.logger),this.reporter=new aa(this.logger),this.zegoWebRTM=new Pi(C,P,this.logger,this.dataReport,this.reporter,zn.version,re,ye)}}],D={},B.m=v,B.c=D,B.d=function(_,m,I){B.o(_,m)||Object.defineProperty(_,m,{enumerable:!0,get:I})},B.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},B.t=function(_,m){if(1&m&&(_=B(_)),8&m||4&m&&typeof _=="object"&&_&&_.__esModule)return _;var I=Object.create(null);if(B.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:_}),2&m&&typeof _!="string")for(var Q in _)B.d(I,Q,(function(p){return _[p]}).bind(null,Q));return I},B.n=function(_){var m=_&&_.__esModule?function(){return _.default}:function(){return _};return B.d(m,"a",m),m},B.o=function(_,m){return Object.prototype.hasOwnProperty.call(_,m)},B.p="",B(B.s=19);function B(_){var m;return(D[_]||(m=D[_]={i:_,l:!1,exports:{}},v[_].call(m.exports,m,m.exports,B),m.l=!0,m)).exports}var v,D})}(ZegoExpressWebRTM)),ZegoExpressWebRTM.exports}(function(module,exports){(function(a,c){module.exports=c(requireZegoExpressWebRTM())})(typeof self<"u"?self:commonjsGlobal,function(__WEBPACK_EXTERNAL_MODULE__4119__){return function(){var __webpack_modules__={4537:function(a){a.exports=function(c,h){for(var f=new Array(arguments.length-1),B=0,v=2,D=!0;v<arguments.length;)f[B++]=arguments[v++];return new Promise(function(_,m){f[B]=function(I){if(D)if(D=!1,I)m(I);else{for(var Q=new Array(arguments.length-1),p=0;p<Q.length;)Q[p++]=arguments[p];_.apply(null,Q)}};try{c.apply(h||null,f)}catch(I){D&&(D=!1,m(I))}})}},7419:function(a,c){var h=c;h.length=function(_){var m=_.length;if(!m)return 0;for(var I=0;--m%4>1&&_.charAt(m)==="=";)++I;return Math.ceil(3*_.length)/4-I};for(var f=new Array(64),B=new Array(123),v=0;v<64;)B[f[v]=v<26?v+65:v<52?v+71:v<62?v-4:v-59|43]=v++;h.encode=function(_,m,I){for(var Q,p=null,u=[],y=0,N=0;m<I;){var U=_[m++];switch(N){case 0:u[y++]=f[U>>2],Q=(3&U)<<4,N=1;break;case 1:u[y++]=f[Q|U>>4],Q=(15&U)<<2,N=2;break;case 2:u[y++]=f[Q|U>>6],u[y++]=f[63&U],N=0}y>8191&&((p||(p=[])).push(String.fromCharCode.apply(String,u)),y=0)}return N&&(u[y++]=f[Q],u[y++]=61,N===1&&(u[y++]=61)),p?(y&&p.push(String.fromCharCode.apply(String,u.slice(0,y))),p.join("")):String.fromCharCode.apply(String,u.slice(0,y))};var D="invalid encoding";h.decode=function(_,m,I){for(var Q,p=I,u=0,y=0;y<_.length;){var N=_.charCodeAt(y++);if(N===61&&u>1)break;if((N=B[N])===void 0)throw Error(D);switch(u){case 0:Q=N,u=1;break;case 1:m[I++]=Q<<2|(48&N)>>4,Q=N,u=2;break;case 2:m[I++]=(15&Q)<<4|(60&N)>>2,Q=N,u=3;break;case 3:m[I++]=(3&Q)<<6|N,u=0}}if(u===1)throw Error(D);return I-p},h.test=function(_){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(_)}},9211:function(a){function c(){this._listeners={}}a.exports=c,c.prototype.on=function(h,f,B){return(this._listeners[h]||(this._listeners[h]=[])).push({fn:f,ctx:B||this}),this},c.prototype.off=function(h,f){if(h===void 0)this._listeners={};else if(f===void 0)this._listeners[h]=[];else for(var B=this._listeners[h],v=0;v<B.length;)B[v].fn===f?B.splice(v,1):++v;return this},c.prototype.emit=function(h){var f=this._listeners[h];if(f){for(var B=[],v=1;v<arguments.length;)B.push(arguments[v++]);for(v=0;v<f.length;)f[v].fn.apply(f[v++].ctx,B)}return this}},945:function(a){function c(D){return typeof Float32Array<"u"?function(){var _=new Float32Array([-0]),m=new Uint8Array(_.buffer),I=m[3]===128;function Q(N,U,q){_[0]=N,U[q]=m[0],U[q+1]=m[1],U[q+2]=m[2],U[q+3]=m[3]}function p(N,U,q){_[0]=N,U[q]=m[3],U[q+1]=m[2],U[q+2]=m[1],U[q+3]=m[0]}function u(N,U){return m[0]=N[U],m[1]=N[U+1],m[2]=N[U+2],m[3]=N[U+3],_[0]}function y(N,U){return m[3]=N[U],m[2]=N[U+1],m[1]=N[U+2],m[0]=N[U+3],_[0]}D.writeFloatLE=I?Q:p,D.writeFloatBE=I?p:Q,D.readFloatLE=I?u:y,D.readFloatBE=I?y:u}():function(){function _(I,Q,p,u){var y=Q<0?1:0;if(y&&(Q=-Q),Q===0)I(1/Q>0?0:2147483648,p,u);else if(isNaN(Q))I(2143289344,p,u);else if(Q>34028234663852886e22)I((y<<31|2139095040)>>>0,p,u);else if(Q<11754943508222875e-54)I((y<<31|Math.round(Q/1401298464324817e-60))>>>0,p,u);else{var N=Math.floor(Math.log(Q)/Math.LN2);I((y<<31|N+127<<23|8388607&Math.round(Q*Math.pow(2,-N)*8388608))>>>0,p,u)}}function m(I,Q,p){var u=I(Q,p),y=2*(u>>31)+1,N=u>>>23&255,U=8388607&u;return N===255?U?NaN:y*(1/0):N===0?1401298464324817e-60*y*U:y*Math.pow(2,N-150)*(U+8388608)}D.writeFloatLE=_.bind(null,h),D.writeFloatBE=_.bind(null,f),D.readFloatLE=m.bind(null,B),D.readFloatBE=m.bind(null,v)}(),typeof Float64Array<"u"?function(){var _=new Float64Array([-0]),m=new Uint8Array(_.buffer),I=m[7]===128;function Q(N,U,q){_[0]=N,U[q]=m[0],U[q+1]=m[1],U[q+2]=m[2],U[q+3]=m[3],U[q+4]=m[4],U[q+5]=m[5],U[q+6]=m[6],U[q+7]=m[7]}function p(N,U,q){_[0]=N,U[q]=m[7],U[q+1]=m[6],U[q+2]=m[5],U[q+3]=m[4],U[q+4]=m[3],U[q+5]=m[2],U[q+6]=m[1],U[q+7]=m[0]}function u(N,U){return m[0]=N[U],m[1]=N[U+1],m[2]=N[U+2],m[3]=N[U+3],m[4]=N[U+4],m[5]=N[U+5],m[6]=N[U+6],m[7]=N[U+7],_[0]}function y(N,U){return m[7]=N[U],m[6]=N[U+1],m[5]=N[U+2],m[4]=N[U+3],m[3]=N[U+4],m[2]=N[U+5],m[1]=N[U+6],m[0]=N[U+7],_[0]}D.writeDoubleLE=I?Q:p,D.writeDoubleBE=I?p:Q,D.readDoubleLE=I?u:y,D.readDoubleBE=I?y:u}():function(){function _(I,Q,p,u,y,N){var U=u<0?1:0;if(U&&(u=-u),u===0)I(0,y,N+Q),I(1/u>0?0:2147483648,y,N+p);else if(isNaN(u))I(0,y,N+Q),I(2146959360,y,N+p);else if(u>17976931348623157e292)I(0,y,N+Q),I((U<<31|2146435072)>>>0,y,N+p);else{var q;if(u<22250738585072014e-324)I((q=u/5e-324)>>>0,y,N+Q),I((U<<31|q/4294967296)>>>0,y,N+p);else{var te=Math.floor(Math.log(u)/Math.LN2);te===1024&&(te=1023),I(4503599627370496*(q=u*Math.pow(2,-te))>>>0,y,N+Q),I((U<<31|te+1023<<20|1048576*q&1048575)>>>0,y,N+p)}}}function m(I,Q,p,u,y){var N=I(u,y+Q),U=I(u,y+p),q=2*(U>>31)+1,te=U>>>20&2047,F=4294967296*(1048575&U)+N;return te===2047?F?NaN:q*(1/0):te===0?5e-324*q*F:q*Math.pow(2,te-1075)*(F+4503599627370496)}D.writeDoubleLE=_.bind(null,h,0,4),D.writeDoubleBE=_.bind(null,f,4,0),D.readDoubleLE=m.bind(null,B,0,4),D.readDoubleBE=m.bind(null,v,4,0)}(),D}function h(D,_,m){_[m]=255&D,_[m+1]=D>>>8&255,_[m+2]=D>>>16&255,_[m+3]=D>>>24}function f(D,_,m){_[m]=D>>>24,_[m+1]=D>>>16&255,_[m+2]=D>>>8&255,_[m+3]=255&D}function B(D,_){return(D[_]|D[_+1]<<8|D[_+2]<<16|D[_+3]<<24)>>>0}function v(D,_){return(D[_]<<24|D[_+1]<<16|D[_+2]<<8|D[_+3])>>>0}a.exports=c(c)},7199:function(module){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(a){}return null}module.exports=inquire},6662:function(a){a.exports=function(c,h,f){var B=f||8192,v=B>>>1,D=null,_=B;return function(m){if(m<1||m>v)return c(m);_+m>B&&(D=c(B),_=0);var I=h.call(D,_,_+=m);return 7&_&&(_=1+(7|_)),I}}},4997:function(a,c){var h=c;h.length=function(f){for(var B=0,v=0,D=0;D<f.length;++D)(v=f.charCodeAt(D))<128?B+=1:v<2048?B+=2:(64512&v)==55296&&(64512&f.charCodeAt(D+1))==56320?(++D,B+=4):B+=3;return B},h.read=function(f,B,v){if(v-B<1)return"";for(var D,_=null,m=[],I=0;B<v;)(D=f[B++])<128?m[I++]=D:D>191&&D<224?m[I++]=(31&D)<<6|63&f[B++]:D>239&&D<365?(D=((7&D)<<18|(63&f[B++])<<12|(63&f[B++])<<6|63&f[B++])-65536,m[I++]=55296+(D>>10),m[I++]=56320+(1023&D)):m[I++]=(15&D)<<12|(63&f[B++])<<6|63&f[B++],I>8191&&((_||(_=[])).push(String.fromCharCode.apply(String,m)),I=0);return _?(I&&_.push(String.fromCharCode.apply(String,m.slice(0,I))),_.join("")):String.fromCharCode.apply(String,m.slice(0,I))},h.write=function(f,B,v){for(var D,_,m=v,I=0;I<f.length;++I)(D=f.charCodeAt(I))<128?B[v++]=D:D<2048?(B[v++]=D>>6|192,B[v++]=63&D|128):(64512&D)==55296&&(64512&(_=f.charCodeAt(I+1)))==56320?(++I,B[v++]=(D=65536+((1023&D)<<10)+(1023&_))>>18|240,B[v++]=D>>12&63|128,B[v++]=D>>6&63|128,B[v++]=63&D|128):(B[v++]=D>>12|224,B[v++]=D>>6&63|128,B[v++]=63&D|128);return v-m}},9483:function(a,c,h){/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/a.exports=function f(B,v,D){function _(Q,p){if(!v[Q]){if(!B[Q]){if(m)return m(Q,!0);var u=new Error("Cannot find module '"+Q+"'");throw u.code="MODULE_NOT_FOUND",u}var y=v[Q]={exports:{}};B[Q][0].call(y.exports,function(N){var U=B[Q][1][N];return _(U||N)},y,y.exports,f,B,v,D)}return v[Q].exports}for(var m=void 0,I=0;I<D.length;I++)_(D[I]);return _}({1:[function(f,B,v){(function(D){var _,m,I=D.MutationObserver||D.WebKitMutationObserver;if(I){var Q=0,p=new I(U),u=D.document.createTextNode("");p.observe(u,{characterData:!0}),_=function(){u.data=Q=++Q%2}}else if(D.setImmediate||D.MessageChannel===void 0)_="document"in D&&"onreadystatechange"in D.document.createElement("script")?function(){var te=D.document.createElement("script");te.onreadystatechange=function(){U(),te.onreadystatechange=null,te.parentNode.removeChild(te),te=null},D.document.documentElement.appendChild(te)}:function(){setTimeout(U,0)};else{var y=new D.MessageChannel;y.port1.onmessage=U,_=function(){y.port2.postMessage(0)}}var N=[];function U(){var te,F;m=!0;for(var V=N.length;V;){for(F=N,N=[],te=-1;++te<V;)F[te]();V=N.length}m=!1}function q(te){N.push(te)!==1||m||_()}B.exports=q}).call(this,h.g!==void 0?h.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(f,B,v){var D=f(1);function _(){}var m={},I=["REJECTED"],Q=["FULFILLED"],p=["PENDING"];function u(L){if(typeof L!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,L!==_&&q(this,L)}function y(L,O,T){this.promise=L,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function N(L,O,T){D(function(){var w;try{w=O(T)}catch(k){return m.reject(L,k)}w===L?m.reject(L,new TypeError("Cannot resolve promise with itself")):m.resolve(L,w)})}function U(L){var O=L&&L.then;if(L&&(typeof L=="object"||typeof L=="function")&&typeof O=="function")return function(){O.apply(L,arguments)}}function q(L,O){var T=!1;function w(W){T||(T=!0,m.reject(L,W))}function k(W){T||(T=!0,m.resolve(L,W))}function Y(){O(k,w)}var Z=te(Y);Z.status==="error"&&w(Z.value)}function te(L,O){var T={};try{T.value=L(O),T.status="success"}catch(w){T.status="error",T.value=w}return T}function F(L){return L instanceof this?L:m.resolve(new this(_),L)}function V(L){var O=new this(_);return m.reject(O,L)}function z(L){var O=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=L.length,w=!1;if(!T)return this.resolve([]);for(var k=new Array(T),Y=0,Z=-1,W=new this(_);++Z<T;)K(L[Z],Z);return W;function K(x,X){function H(j){k[X]=j,++Y!==T||w||(w=!0,m.resolve(W,k))}O.resolve(x).then(H,function(j){w||(w=!0,m.reject(W,j))})}}function $(L){var O=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=L.length,w=!1;if(!T)return this.resolve([]);for(var k=-1,Y=new this(_);++k<T;)Z(L[k]);return Y;function Z(W){O.resolve(W).then(function(K){w||(w=!0,m.resolve(Y,K))},function(K){w||(w=!0,m.reject(Y,K))})}}B.exports=u,u.prototype.catch=function(L){return this.then(null,L)},u.prototype.then=function(L,O){if(typeof L!="function"&&this.state===Q||typeof O!="function"&&this.state===I)return this;var T=new this.constructor(_);return this.state!==p?N(T,this.state===Q?L:O,this.outcome):this.queue.push(new y(T,L,O)),T},y.prototype.callFulfilled=function(L){m.resolve(this.promise,L)},y.prototype.otherCallFulfilled=function(L){N(this.promise,this.onFulfilled,L)},y.prototype.callRejected=function(L){m.reject(this.promise,L)},y.prototype.otherCallRejected=function(L){N(this.promise,this.onRejected,L)},m.resolve=function(L,O){var T=te(U,O);if(T.status==="error")return m.reject(L,T.value);var w=T.value;if(w)q(L,w);else{L.state=Q,L.outcome=O;for(var k=-1,Y=L.queue.length;++k<Y;)L.queue[k].callFulfilled(O)}return L},m.reject=function(L,O){L.state=I,L.outcome=O;for(var T=-1,w=L.queue.length;++T<w;)L.queue[T].callRejected(O);return L},u.resolve=F,u.reject=V,u.all=z,u.race=$},{1:1}],3:[function(f,B,v){(function(D){typeof D.Promise!="function"&&(D.Promise=f(2))}).call(this,h.g!==void 0?h.g:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(f,B,v){var D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me};function _(me,Be){if(!(me instanceof Be))throw new TypeError("Cannot call a class as a function")}function m(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var I=m();function Q(){try{if(!I||!I.open)return!1;var me=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Be=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!me||Be)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(me,Be){me=me||[],Be=Be||{};try{return new Blob(me,Be)}catch(Se){if(Se.name!=="TypeError")throw Se;for(var ve=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),Ue=0;Ue<me.length;Ue+=1)ve.append(me[Ue]);return ve.getBlob(Be.type)}}typeof Promise>"u"&&f(3);var u=Promise;function y(me,Be){Be&&me.then(function(ve){Be(null,ve)},function(ve){Be(ve)})}function N(me,Be,ve){typeof Be=="function"&&me.then(Be),typeof ve=="function"&&me.catch(ve)}function U(me){return typeof me!="string"&&(console.warn(me+" used as a key, but it is not a string."),me=String(me)),me}function q(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var te="local-forage-detect-blob-support",F=void 0,V={},z=Object.prototype.toString,$="readonly",L="readwrite";function O(me){for(var Be=me.length,ve=new ArrayBuffer(Be),Ue=new Uint8Array(ve),Se=0;Se<Be;Se++)Ue[Se]=me.charCodeAt(Se);return ve}function T(me){return new u(function(Be){var ve=me.transaction(te,L),Ue=p([""]);ve.objectStore(te).put(Ue,"key"),ve.onabort=function(Se){Se.preventDefault(),Se.stopPropagation(),Be(!1)},ve.oncomplete=function(){var Se=navigator.userAgent.match(/Chrome\/(\d+)/),je=navigator.userAgent.match(/Edge\//);Be(je||!Se||parseInt(Se[1],10)>=43)}}).catch(function(){return!1})}function w(me){return typeof F=="boolean"?u.resolve(F):T(me).then(function(Be){return F=Be})}function k(me){var Be=V[me.name],ve={};ve.promise=new u(function(Ue,Se){ve.resolve=Ue,ve.reject=Se}),Be.deferredOperations.push(ve),Be.dbReady=Be.dbReady?Be.dbReady.then(function(){return ve.promise}):ve.promise}function Y(me){var Be=V[me.name].deferredOperations.pop();if(Be)return Be.resolve(),Be.promise}function Z(me,Be){var ve=V[me.name].deferredOperations.pop();if(ve)return ve.reject(Be),ve.promise}function W(me,Be){return new u(function(ve,Ue){if(V[me.name]=V[me.name]||De(),me.db){if(!Be)return ve(me.db);k(me),me.db.close()}var Se=[me.name];Be&&Se.push(me.version);var je=I.open.apply(I,Se);Be&&(je.onupgradeneeded=function(pt){var ee=je.result;try{ee.createObjectStore(me.storeName),pt.oldVersion<=1&&ee.createObjectStore(te)}catch(Pe){if(Pe.name!=="ConstraintError")throw Pe;console.warn('The database "'+me.name+'" has been upgraded from version '+pt.oldVersion+" to version "+pt.newVersion+', but the storage "'+me.storeName+'" already exists.')}}),je.onerror=function(pt){pt.preventDefault(),Ue(je.error)},je.onsuccess=function(){var pt=je.result;pt.onversionchange=function(ee){ee.target.close()},ve(pt),Y(me)}})}function K(me){return W(me,!1)}function x(me){return W(me,!0)}function X(me,Be){if(!me.db)return!0;var ve=!me.db.objectStoreNames.contains(me.storeName),Ue=me.version>me.db.version;if(me.version<me.db.version&&(me.version!==Be&&console.warn('The database "'+me.name+`" can't be downgraded from version `+me.db.version+" to version "+me.version+"."),me.version=me.db.version),Ue||ve){if(ve){var Se=me.db.version+1;Se>me.version&&(me.version=Se)}return!0}return!1}function H(me){return new u(function(Be,ve){var Ue=new FileReader;Ue.onerror=ve,Ue.onloadend=function(Se){var je=btoa(Se.target.result||"");Be({__local_forage_encoded_blob:!0,data:je,type:me.type})},Ue.readAsBinaryString(me)})}function j(me){return p([O(atob(me.data))],{type:me.type})}function ae(me){return me&&me.__local_forage_encoded_blob}function ce(me){var Be=this,ve=Be._initReady().then(function(){var Ue=V[Be._dbInfo.name];if(Ue&&Ue.dbReady)return Ue.dbReady});return N(ve,me,me),ve}function ne(me){k(me);for(var Be=V[me.name],ve=Be.forages,Ue=0;Ue<ve.length;Ue++){var Se=ve[Ue];Se._dbInfo.db&&(Se._dbInfo.db.close(),Se._dbInfo.db=null)}return me.db=null,K(me).then(function(je){return me.db=je,X(me)?x(me):je}).then(function(je){me.db=Be.db=je;for(var pt=0;pt<ve.length;pt++)ve[pt]._dbInfo.db=je}).catch(function(je){throw Z(me,je),je})}function Qe(me,Be,ve,Ue){Ue===void 0&&(Ue=1);try{var Se=me.db.transaction(me.storeName,Be);ve(null,Se)}catch(je){if(Ue>0&&(!me.db||je.name==="InvalidStateError"||je.name==="NotFoundError"))return u.resolve().then(function(){if(!me.db||je.name==="NotFoundError"&&!me.db.objectStoreNames.contains(me.storeName)&&me.version<=me.db.version)return me.db&&(me.version=me.db.version+1),x(me)}).then(function(){return ne(me).then(function(){Qe(me,Be,ve,Ue-1)})}).catch(ve);ve(je)}}function De(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Fe(me){var Be=this,ve={db:null};if(me)for(var Ue in me)ve[Ue]=me[Ue];var Se=V[ve.name];Se||(Se=De(),V[ve.name]=Se),Se.forages.push(Be),Be._initReady||(Be._initReady=Be.ready,Be.ready=ce);var je=[];function pt(){return u.resolve()}for(var ee=0;ee<Se.forages.length;ee++){var Pe=Se.forages[ee];Pe!==Be&&je.push(Pe._initReady().catch(pt))}var He=Se.forages.slice(0);return u.all(je).then(function(){return ve.db=Se.db,K(ve)}).then(function(it){return ve.db=it,X(ve,Be._defaultConfig.version)?x(ve):it}).then(function(it){ve.db=Se.db=it,Be._dbInfo=ve;for(var ht=0;ht<He.length;ht++){var Ht=He[ht];Ht!==Be&&(Ht._dbInfo.db=ve.db,Ht._dbInfo.version=ve.version)}})}function pe(me,Be){var ve=this;me=U(me);var Ue=new u(function(Se,je){ve.ready().then(function(){Qe(ve._dbInfo,$,function(pt,ee){if(pt)return je(pt);try{var Pe=ee.objectStore(ve._dbInfo.storeName).get(me);Pe.onsuccess=function(){var He=Pe.result;He===void 0&&(He=null),ae(He)&&(He=j(He)),Se(He)},Pe.onerror=function(){je(Pe.error)}}catch(He){je(He)}})}).catch(je)});return y(Ue,Be),Ue}function ot(me,Be){var ve=this,Ue=new u(function(Se,je){ve.ready().then(function(){Qe(ve._dbInfo,$,function(pt,ee){if(pt)return je(pt);try{var Pe=ee.objectStore(ve._dbInfo.storeName).openCursor(),He=1;Pe.onsuccess=function(){var it=Pe.result;if(it){var ht=it.value;ae(ht)&&(ht=j(ht));var Ht=me(ht,it.key,He++);Ht!==void 0?Se(Ht):it.continue()}else Se()},Pe.onerror=function(){je(Pe.error)}}catch(it){je(it)}})}).catch(je)});return y(Ue,Be),Ue}function ft(me,Be,ve){var Ue=this;me=U(me);var Se=new u(function(je,pt){var ee;Ue.ready().then(function(){return ee=Ue._dbInfo,z.call(Be)==="[object Blob]"?w(ee.db).then(function(Pe){return Pe?Be:H(Be)}):Be}).then(function(Pe){Qe(Ue._dbInfo,L,function(He,it){if(He)return pt(He);try{var ht=it.objectStore(Ue._dbInfo.storeName);Pe===null&&(Pe=void 0);var Ht=ht.put(Pe,me);it.oncomplete=function(){Pe===void 0&&(Pe=null),je(Pe)},it.onabort=it.onerror=function(){pt(Ht.error?Ht.error:Ht.transaction.error)}}catch(xt){pt(xt)}})}).catch(pt)});return y(Se,ve),Se}function yt(me,Be){var ve=this;me=U(me);var Ue=new u(function(Se,je){ve.ready().then(function(){Qe(ve._dbInfo,L,function(pt,ee){if(pt)return je(pt);try{var Pe=ee.objectStore(ve._dbInfo.storeName).delete(me);ee.oncomplete=function(){Se()},ee.onerror=function(){je(Pe.error)},ee.onabort=function(){je(Pe.error?Pe.error:Pe.transaction.error)}}catch(He){je(He)}})}).catch(je)});return y(Ue,Be),Ue}function Ot(me){var Be=this,ve=new u(function(Ue,Se){Be.ready().then(function(){Qe(Be._dbInfo,L,function(je,pt){if(je)return Se(je);try{var ee=pt.objectStore(Be._dbInfo.storeName).clear();pt.oncomplete=function(){Ue()},pt.onabort=pt.onerror=function(){Se(ee.error?ee.error:ee.transaction.error)}}catch(Pe){Se(Pe)}})}).catch(Se)});return y(ve,me),ve}function ge(me){var Be=this,ve=new u(function(Ue,Se){Be.ready().then(function(){Qe(Be._dbInfo,$,function(je,pt){if(je)return Se(je);try{var ee=pt.objectStore(Be._dbInfo.storeName).count();ee.onsuccess=function(){Ue(ee.result)},ee.onerror=function(){Se(ee.error)}}catch(Pe){Se(Pe)}})}).catch(Se)});return y(ve,me),ve}function Ee(me,Be){var ve=this,Ue=new u(function(Se,je){me<0?Se(null):ve.ready().then(function(){Qe(ve._dbInfo,$,function(pt,ee){if(pt)return je(pt);try{var Pe=ee.objectStore(ve._dbInfo.storeName),He=!1,it=Pe.openKeyCursor();it.onsuccess=function(){var ht=it.result;ht?me===0||He?Se(ht.key):(He=!0,ht.advance(me)):Se(null)},it.onerror=function(){je(it.error)}}catch(ht){je(ht)}})}).catch(je)});return y(Ue,Be),Ue}function fe(me){var Be=this,ve=new u(function(Ue,Se){Be.ready().then(function(){Qe(Be._dbInfo,$,function(je,pt){if(je)return Se(je);try{var ee=pt.objectStore(Be._dbInfo.storeName).openKeyCursor(),Pe=[];ee.onsuccess=function(){var He=ee.result;He?(Pe.push(He.key),He.continue()):Ue(Pe)},ee.onerror=function(){Se(ee.error)}}catch(He){Se(He)}})}).catch(Se)});return y(ve,me),ve}function ie(me,Be){Be=q.apply(this,arguments);var ve=this.config();(me=typeof me!="function"&&me||{}).name||(me.name=me.name||ve.name,me.storeName=me.storeName||ve.storeName);var Ue,Se=this;if(me.name){var je=me.name===ve.name&&Se._dbInfo.db?u.resolve(Se._dbInfo.db):K(me).then(function(pt){var ee=V[me.name],Pe=ee.forages;ee.db=pt;for(var He=0;He<Pe.length;He++)Pe[He]._dbInfo.db=pt;return pt});Ue=je.then(me.storeName?function(pt){if(pt.objectStoreNames.contains(me.storeName)){var ee=pt.version+1;k(me);var Pe=V[me.name],He=Pe.forages;pt.close();for(var it=0;it<He.length;it++){var ht=He[it];ht._dbInfo.db=null,ht._dbInfo.version=ee}var Ht=new u(function(xt,Gt){var Tt=I.open(me.name,ee);Tt.onerror=function(Ir){Tt.result.close(),Gt(Ir)},Tt.onupgradeneeded=function(){Tt.result.deleteObjectStore(me.storeName)},Tt.onsuccess=function(){var Ir=Tt.result;Ir.close(),xt(Ir)}});return Ht.then(function(xt){Pe.db=xt;for(var Gt=0;Gt<He.length;Gt++){var Tt=He[Gt];Tt._dbInfo.db=xt,Y(Tt._dbInfo)}}).catch(function(xt){throw(Z(me,xt)||u.resolve()).catch(function(){}),xt})}}:function(pt){k(me);var ee=V[me.name],Pe=ee.forages;pt.close();for(var He=0;He<Pe.length;He++)Pe[He]._dbInfo.db=null;var it=new u(function(ht,Ht){var xt=I.deleteDatabase(me.name);xt.onerror=function(){var Gt=xt.result;Gt&&Gt.close(),Ht(xt.error)},xt.onblocked=function(){console.warn('dropInstance blocked for database "'+me.name+'" until all open connections are closed')},xt.onsuccess=function(){var Gt=xt.result;Gt&&Gt.close(),ht(Gt)}});return it.then(function(ht){ee.db=ht;for(var Ht=0;Ht<Pe.length;Ht++)Y(Pe[Ht]._dbInfo)}).catch(function(ht){throw(Z(me,ht)||u.resolve()).catch(function(){}),ht})})}else Ue=u.reject("Invalid arguments");return y(Ue,Be),Ue}var ue={_driver:"asyncStorage",_initStorage:Fe,_support:Q(),iterate:ot,getItem:pe,setItem:ft,removeItem:yt,clear:Ot,length:ge,key:Ee,keys:fe,dropInstance:ie};function de(){return typeof openDatabase=="function"}var le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",nt=/^~~local_forage_type~([^~]+)~/,ct="__lfsc__:",Re=ct.length,lt="arbf",St="blob",Yt="si08",xe="ui08",st="uic8",At="si16",Et="si32",Dt="ur16",Ft="ui32",zt="fl32",Ut="fl64",Vt=Re+lt.length,mr=Object.prototype.toString;function Br(me){var Be,ve,Ue,Se,je,pt=.75*me.length,ee=me.length,Pe=0;me[me.length-1]==="="&&(pt--,me[me.length-2]==="="&&pt--);var He=new ArrayBuffer(pt),it=new Uint8Array(He);for(Be=0;Be<ee;Be+=4)ve=le.indexOf(me[Be]),Ue=le.indexOf(me[Be+1]),Se=le.indexOf(me[Be+2]),je=le.indexOf(me[Be+3]),it[Pe++]=ve<<2|Ue>>4,it[Pe++]=(15&Ue)<<4|Se>>2,it[Pe++]=(3&Se)<<6|63&je;return He}function Zt(me){var Be,ve=new Uint8Array(me),Ue="";for(Be=0;Be<ve.length;Be+=3)Ue+=le[ve[Be]>>2],Ue+=le[(3&ve[Be])<<4|ve[Be+1]>>4],Ue+=le[(15&ve[Be+1])<<2|ve[Be+2]>>6],Ue+=le[63&ve[Be+2]];return ve.length%3==2?Ue=Ue.substring(0,Ue.length-1)+"=":ve.length%3==1&&(Ue=Ue.substring(0,Ue.length-2)+"=="),Ue}function wr(me,Be){var ve="";if(me&&(ve=mr.call(me)),me&&(ve==="[object ArrayBuffer]"||me.buffer&&mr.call(me.buffer)==="[object ArrayBuffer]")){var Ue,Se=ct;me instanceof ArrayBuffer?(Ue=me,Se+=lt):(Ue=me.buffer,ve==="[object Int8Array]"?Se+=Yt:ve==="[object Uint8Array]"?Se+=xe:ve==="[object Uint8ClampedArray]"?Se+=st:ve==="[object Int16Array]"?Se+=At:ve==="[object Uint16Array]"?Se+=Dt:ve==="[object Int32Array]"?Se+=Et:ve==="[object Uint32Array]"?Se+=Ft:ve==="[object Float32Array]"?Se+=zt:ve==="[object Float64Array]"?Se+=Ut:Be(new Error("Failed to get type for BinaryArray"))),Be(Se+Zt(Ue))}else if(ve==="[object Blob]"){var je=new FileReader;je.onload=function(){var pt=Ve+me.type+"~"+Zt(this.result);Be(ct+St+pt)},je.readAsArrayBuffer(me)}else try{Be(JSON.stringify(me))}catch(pt){console.error("Couldn't convert value into a JSON string: ",me),Be(null,pt)}}function kt(me){if(me.substring(0,Re)!==ct)return JSON.parse(me);var Be,ve=me.substring(Vt),Ue=me.substring(Re,Vt);if(Ue===St&&nt.test(ve)){var Se=ve.match(nt);Be=Se[1],ve=ve.substring(Se[0].length)}var je=Br(ve);switch(Ue){case lt:return je;case St:return p([je],{type:Be});case Yt:return new Int8Array(je);case xe:return new Uint8Array(je);case st:return new Uint8ClampedArray(je);case At:return new Int16Array(je);case Dt:return new Uint16Array(je);case Et:return new Int32Array(je);case Ft:return new Uint32Array(je);case zt:return new Float32Array(je);case Ut:return new Float64Array(je);default:throw new Error("Unkown type: "+Ue)}}var Ar={serialize:wr,deserialize:kt,stringToBuffer:Br,bufferToString:Zt};function qe(me,Be,ve,Ue){me.executeSql("CREATE TABLE IF NOT EXISTS "+Be.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],ve,Ue)}function nr(me){var Be=this,ve={db:null};if(me)for(var Ue in me)ve[Ue]=typeof me[Ue]!="string"?me[Ue].toString():me[Ue];var Se=new u(function(je,pt){try{ve.db=openDatabase(ve.name,String(ve.version),ve.description,ve.size)}catch(ee){return pt(ee)}ve.db.transaction(function(ee){qe(ee,ve,function(){Be._dbInfo=ve,je()},function(Pe,He){pt(He)})},pt)});return ve.serializer=Ar,Se}function tr(me,Be,ve,Ue,Se,je){me.executeSql(ve,Ue,Se,function(pt,ee){ee.code===ee.SYNTAX_ERR?pt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Be.storeName],function(Pe,He){He.rows.length?je(Pe,ee):qe(Pe,Be,function(){Pe.executeSql(ve,Ue,Se,je)},je)},je):je(pt,ee)},je)}function lr(me,Be){var ve=this;me=U(me);var Ue=new u(function(Se,je){ve.ready().then(function(){var pt=ve._dbInfo;pt.db.transaction(function(ee){tr(ee,pt,"SELECT * FROM "+pt.storeName+" WHERE key = ? LIMIT 1",[me],function(Pe,He){var it=He.rows.length?He.rows.item(0).value:null;it&&(it=pt.serializer.deserialize(it)),Se(it)},function(Pe,He){je(He)})})}).catch(je)});return y(Ue,Be),Ue}function pr(me,Be){var ve=this,Ue=new u(function(Se,je){ve.ready().then(function(){var pt=ve._dbInfo;pt.db.transaction(function(ee){tr(ee,pt,"SELECT * FROM "+pt.storeName,[],function(Pe,He){for(var it=He.rows,ht=it.length,Ht=0;Ht<ht;Ht++){var xt=it.item(Ht),Gt=xt.value;if(Gt&&(Gt=pt.serializer.deserialize(Gt)),(Gt=me(Gt,xt.key,Ht+1))!==void 0)return void Se(Gt)}Se()},function(Pe,He){je(He)})})}).catch(je)});return y(Ue,Be),Ue}function rr(me,Be,ve,Ue){var Se=this;me=U(me);var je=new u(function(pt,ee){Se.ready().then(function(){Be===void 0&&(Be=null);var Pe=Be,He=Se._dbInfo;He.serializer.serialize(Be,function(it,ht){ht?ee(ht):He.db.transaction(function(Ht){tr(Ht,He,"INSERT OR REPLACE INTO "+He.storeName+" (key, value) VALUES (?, ?)",[me,it],function(){pt(Pe)},function(xt,Gt){ee(Gt)})},function(Ht){if(Ht.code===Ht.QUOTA_ERR){if(Ue>0)return void pt(rr.apply(Se,[me,Pe,ve,Ue-1]));ee(Ht)}})})}).catch(ee)});return y(je,ve),je}function Dr(me,Be,ve){return rr.apply(this,[me,Be,ve,1])}function Kt(me,Be){var ve=this;me=U(me);var Ue=new u(function(Se,je){ve.ready().then(function(){var pt=ve._dbInfo;pt.db.transaction(function(ee){tr(ee,pt,"DELETE FROM "+pt.storeName+" WHERE key = ?",[me],function(){Se()},function(Pe,He){je(He)})})}).catch(je)});return y(Ue,Be),Ue}function $t(me){var Be=this,ve=new u(function(Ue,Se){Be.ready().then(function(){var je=Be._dbInfo;je.db.transaction(function(pt){tr(pt,je,"DELETE FROM "+je.storeName,[],function(){Ue()},function(ee,Pe){Se(Pe)})})}).catch(Se)});return y(ve,me),ve}function Nr(me){var Be=this,ve=new u(function(Ue,Se){Be.ready().then(function(){var je=Be._dbInfo;je.db.transaction(function(pt){tr(pt,je,"SELECT COUNT(key) as c FROM "+je.storeName,[],function(ee,Pe){var He=Pe.rows.item(0).c;Ue(He)},function(ee,Pe){Se(Pe)})})}).catch(Se)});return y(ve,me),ve}function Rr(me,Be){var ve=this,Ue=new u(function(Se,je){ve.ready().then(function(){var pt=ve._dbInfo;pt.db.transaction(function(ee){tr(ee,pt,"SELECT key FROM "+pt.storeName+" WHERE id = ? LIMIT 1",[me+1],function(Pe,He){var it=He.rows.length?He.rows.item(0).key:null;Se(it)},function(Pe,He){je(He)})})}).catch(je)});return y(Ue,Be),Ue}function fr(me){var Be=this,ve=new u(function(Ue,Se){Be.ready().then(function(){var je=Be._dbInfo;je.db.transaction(function(pt){tr(pt,je,"SELECT key FROM "+je.storeName,[],function(ee,Pe){for(var He=[],it=0;it<Pe.rows.length;it++)He.push(Pe.rows.item(it).key);Ue(He)},function(ee,Pe){Se(Pe)})})}).catch(Se)});return y(ve,me),ve}function un(me){return new u(function(Be,ve){me.transaction(function(Ue){Ue.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Se,je){for(var pt=[],ee=0;ee<je.rows.length;ee++)pt.push(je.rows.item(ee).name);Be({db:me,storeNames:pt})},function(Se,je){ve(je)})},function(Ue){ve(Ue)})})}function ln(me,Be){Be=q.apply(this,arguments);var ve=this.config();(me=typeof me!="function"&&me||{}).name||(me.name=me.name||ve.name,me.storeName=me.storeName||ve.storeName);var Ue,Se=this;return y(Ue=me.name?new u(function(je){var pt;pt=me.name===ve.name?Se._dbInfo.db:openDatabase(me.name,"","",0),je(me.storeName?{db:pt,storeNames:[me.storeName]}:un(pt))}).then(function(je){return new u(function(pt,ee){je.db.transaction(function(Pe){function He(xt){return new u(function(Gt,Tt){Pe.executeSql("DROP TABLE IF EXISTS "+xt,[],function(){Gt()},function(Ir,bt){Tt(bt)})})}for(var it=[],ht=0,Ht=je.storeNames.length;ht<Ht;ht++)it.push(He(je.storeNames[ht]));u.all(it).then(function(){pt()}).catch(function(xt){ee(xt)})},function(Pe){ee(Pe)})})}):u.reject("Invalid arguments"),Be),Ue}var _r={_driver:"webSQLStorage",_initStorage:nr,_support:de(),iterate:pr,getItem:lr,setItem:Dr,removeItem:Kt,clear:$t,length:Nr,key:Rr,keys:fr,dropInstance:ln};function gr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qr(me,Be){var ve=me.name+"/";return me.storeName!==Be.storeName&&(ve+=me.storeName+"/"),ve}function vr(){var me="_localforage_support_test";try{return localStorage.setItem(me,!0),localStorage.removeItem(me),!1}catch{return!0}}function Gr(){return!vr()||localStorage.length>0}function $r(me){var Be=this,ve={};if(me)for(var Ue in me)ve[Ue]=me[Ue];return ve.keyPrefix=Qr(me,Be._defaultConfig),Gr()?(Be._dbInfo=ve,ve.serializer=Ar,u.resolve()):u.reject()}function ur(me){var Be=this,ve=Be.ready().then(function(){for(var Ue=Be._dbInfo.keyPrefix,Se=localStorage.length-1;Se>=0;Se--){var je=localStorage.key(Se);je.indexOf(Ue)===0&&localStorage.removeItem(je)}});return y(ve,me),ve}function Kr(me,Be){var ve=this;me=U(me);var Ue=ve.ready().then(function(){var Se=ve._dbInfo,je=localStorage.getItem(Se.keyPrefix+me);return je&&(je=Se.serializer.deserialize(je)),je});return y(Ue,Be),Ue}function Hr(me,Be){var ve=this,Ue=ve.ready().then(function(){for(var Se=ve._dbInfo,je=Se.keyPrefix,pt=je.length,ee=localStorage.length,Pe=1,He=0;He<ee;He++){var it=localStorage.key(He);if(it.indexOf(je)===0){var ht=localStorage.getItem(it);if(ht&&(ht=Se.serializer.deserialize(ht)),(ht=me(ht,it.substring(pt),Pe++))!==void 0)return ht}}});return y(Ue,Be),Ue}function gn(me,Be){var ve=this,Ue=ve.ready().then(function(){var Se,je=ve._dbInfo;try{Se=localStorage.key(me)}catch{Se=null}return Se&&(Se=Se.substring(je.keyPrefix.length)),Se});return y(Ue,Be),Ue}function Tr(me){var Be=this,ve=Be.ready().then(function(){for(var Ue=Be._dbInfo,Se=localStorage.length,je=[],pt=0;pt<Se;pt++){var ee=localStorage.key(pt);ee.indexOf(Ue.keyPrefix)===0&&je.push(ee.substring(Ue.keyPrefix.length))}return je});return y(ve,me),ve}function Or(me){var Be=this.keys().then(function(ve){return ve.length});return y(Be,me),Be}function Sr(me,Be){var ve=this;me=U(me);var Ue=ve.ready().then(function(){localStorage.removeItem(ve._dbInfo.keyPrefix+me)});return y(Ue,Be),Ue}function Vr(me,Be,ve){var Ue=this;me=U(me);var Se=Ue.ready().then(function(){Be===void 0&&(Be=null);var je=Be;return new u(function(pt,ee){var Pe=Ue._dbInfo;Pe.serializer.serialize(Be,function(He,it){if(it)ee(it);else try{localStorage.setItem(Pe.keyPrefix+me,He),pt(je)}catch(ht){ht.name!=="QuotaExceededError"&&ht.name!=="NS_ERROR_DOM_QUOTA_REACHED"||ee(ht),ee(ht)}})})});return y(Se,ve),Se}function qr(me,Be){if(Be=q.apply(this,arguments),!(me=typeof me!="function"&&me||{}).name){var ve=this.config();me.name=me.name||ve.name,me.storeName=me.storeName||ve.storeName}var Ue,Se=this;return Ue=me.name?new u(function(je){je(me.storeName?Qr(me,Se._defaultConfig):me.name+"/")}).then(function(je){for(var pt=localStorage.length-1;pt>=0;pt--){var ee=localStorage.key(pt);ee.indexOf(je)===0&&localStorage.removeItem(ee)}}):u.reject("Invalid arguments"),y(Ue,Be),Ue}var ke={_driver:"localStorageWrapper",_initStorage:$r,_support:gr(),iterate:Hr,getItem:Kr,setItem:Vr,removeItem:Sr,clear:ur,length:Or,key:gn,keys:Tr,dropInstance:qr},Ge=function(me,Be){return me===Be||typeof me=="number"&&typeof Be=="number"&&isNaN(me)&&isNaN(Be)},Ke=function(me,Be){for(var ve=me.length,Ue=0;Ue<ve;){if(Ge(me[Ue],Be))return!0;Ue++}return!1},We=Array.isArray||function(me){return Object.prototype.toString.call(me)==="[object Array]"},Ae={},be={},tt={INDEXEDDB:ue,WEBSQL:_r,LOCALSTORAGE:ke},dt=[tt.INDEXEDDB._driver,tt.WEBSQL._driver,tt.LOCALSTORAGE._driver],It=["dropInstance"],rt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(It),Ze={description:"",driver:dt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Nt(me,Be){me[Be]=function(){var ve=arguments;return me.ready().then(function(){return me[Be].apply(me,ve)})}}function Lt(){for(var me=1;me<arguments.length;me++){var Be=arguments[me];if(Be)for(var ve in Be)Be.hasOwnProperty(ve)&&(arguments[0][ve]=We(Be[ve])?Be[ve].slice():Be[ve])}return arguments[0]}var cr=function(){function me(Be){for(var ve in _(this,me),tt)if(tt.hasOwnProperty(ve)){var Ue=tt[ve],Se=Ue._driver;this[ve]=Se,Ae[Se]||this.defineDriver(Ue)}this._defaultConfig=Lt({},Ze),this._config=Lt({},this._defaultConfig,Be),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return me.prototype.config=function(Be){if((Be===void 0?"undefined":D(Be))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ve in Be){if(ve==="storeName"&&(Be[ve]=Be[ve].replace(/\W/g,"_")),ve==="version"&&typeof Be[ve]!="number")return new Error("Database version must be a number.");this._config[ve]=Be[ve]}return!("driver"in Be)||!Be.driver||this.setDriver(this._config.driver)}return typeof Be=="string"?this._config[Be]:this._config},me.prototype.defineDriver=function(Be,ve,Ue){var Se=new u(function(je,pt){try{var ee=Be._driver,Pe=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Be._driver)return void pt(Pe);for(var He=rt.concat("_initStorage"),it=0,ht=He.length;it<ht;it++){var Ht=He[it];if((!Ke(It,Ht)||Be[Ht])&&typeof Be[Ht]!="function")return void pt(Pe)}var xt=function(){for(var Tt=function(Wr){return function(){var Mn=new Error("Method "+Wr+" is not implemented by the current driver"),ui=u.reject(Mn);return y(ui,arguments[arguments.length-1]),ui}},Ir=0,bt=It.length;Ir<bt;Ir++){var Zr=It[Ir];Be[Zr]||(Be[Zr]=Tt(Zr))}};xt();var Gt=function(Tt){Ae[ee]&&console.info("Redefining LocalForage driver: "+ee),Ae[ee]=Be,be[ee]=Tt,je()};"_support"in Be?Be._support&&typeof Be._support=="function"?Be._support().then(Gt,pt):Gt(!!Be._support):Gt(!0)}catch(Tt){pt(Tt)}});return N(Se,ve,Ue),Se},me.prototype.driver=function(){return this._driver||null},me.prototype.getDriver=function(Be,ve,Ue){var Se=Ae[Be]?u.resolve(Ae[Be]):u.reject(new Error("Driver not found."));return N(Se,ve,Ue),Se},me.prototype.getSerializer=function(Be){var ve=u.resolve(Ar);return N(ve,Be),ve},me.prototype.ready=function(Be){var ve=this,Ue=ve._driverSet.then(function(){return ve._ready===null&&(ve._ready=ve._initDriver()),ve._ready});return N(Ue,Be,Be),Ue},me.prototype.setDriver=function(Be,ve,Ue){var Se=this;We(Be)||(Be=[Be]);var je=this._getSupportedDrivers(Be);function pt(){Se._config.driver=Se.driver()}function ee(it){return Se._extend(it),pt(),Se._ready=Se._initStorage(Se._config),Se._ready}function Pe(it){return function(){var ht=0;function Ht(){for(;ht<it.length;){var xt=it[ht];return ht++,Se._dbInfo=null,Se._ready=null,Se.getDriver(xt).then(ee).catch(Ht)}pt();var Gt=new Error("No available storage method found.");return Se._driverSet=u.reject(Gt),Se._driverSet}return Ht()}}var He=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=He.then(function(){var it=je[0];return Se._dbInfo=null,Se._ready=null,Se.getDriver(it).then(function(ht){Se._driver=ht._driver,pt(),Se._wrapLibraryMethodsWithReady(),Se._initDriver=Pe(je)})}).catch(function(){pt();var it=new Error("No available storage method found.");return Se._driverSet=u.reject(it),Se._driverSet}),N(this._driverSet,ve,Ue),this._driverSet},me.prototype.supports=function(Be){return!!be[Be]},me.prototype._extend=function(Be){Lt(this,Be)},me.prototype._getSupportedDrivers=function(Be){for(var ve=[],Ue=0,Se=Be.length;Ue<Se;Ue++){var je=Be[Ue];this.supports(je)&&ve.push(je)}return ve},me.prototype._wrapLibraryMethodsWithReady=function(){for(var Be=0,ve=rt.length;Be<ve;Be++)Nt(this,rt[Be])},me.prototype.createInstance=function(Be){return new me(Be)},me}(),Me=new cr;B.exports=Me},{3:3}]},{},[4])(4)},3720:function(a){a.exports=h;var c=null;try{c=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function h(w,k,Y){this.low=0|w,this.high=0|k,this.unsigned=!!Y}function f(w){return(w&&w.__isLong__)===!0}Object.defineProperty(h.prototype,"__isLong__",{value:!0}),h.isLong=f;var B={},v={};function D(w,k){var Y,Z,W;return k?(W=0<=(w>>>=0)&&w<256)&&(Z=v[w])?Z:(Y=m(w,(0|w)<0?-1:0,!0),W&&(v[w]=Y),Y):(W=-128<=(w|=0)&&w<128)&&(Z=B[w])?Z:(Y=m(w,w<0?-1:0,!1),W&&(B[w]=Y),Y)}function _(w,k){if(isNaN(w))return k?te:q;if(k){if(w<0)return te;if(w>=y)return L}else{if(w<=-N)return O;if(w+1>=N)return $}return w<0?_(-w,k).neg():m(w%u|0,w/u|0,k)}function m(w,k,Y){return new h(w,k,Y)}h.fromInt=D,h.fromNumber=_,h.fromBits=m;var I=Math.pow;function Q(w,k,Y){if(w.length===0)throw Error("empty string");if(w==="NaN"||w==="Infinity"||w==="+Infinity"||w==="-Infinity")return q;if(typeof k=="number"?(Y=k,k=!1):k=!!k,(Y=Y||10)<2||36<Y)throw RangeError("radix");var Z;if((Z=w.indexOf("-"))>0)throw Error("interior hyphen");if(Z===0)return Q(w.substring(1),k,Y).neg();for(var W=_(I(Y,8)),K=q,x=0;x<w.length;x+=8){var X=Math.min(8,w.length-x),H=parseInt(w.substring(x,x+X),Y);if(X<8){var j=_(I(Y,X));K=K.mul(j).add(_(H))}else K=(K=K.mul(W)).add(_(H))}return K.unsigned=k,K}function p(w,k){return typeof w=="number"?_(w,k):typeof w=="string"?Q(w,k):m(w.low,w.high,typeof k=="boolean"?k:w.unsigned)}h.fromString=Q,h.fromValue=p;var u=4294967296,y=u*u,N=y/2,U=D(1<<24),q=D(0);h.ZERO=q;var te=D(0,!0);h.UZERO=te;var F=D(1);h.ONE=F;var V=D(1,!0);h.UONE=V;var z=D(-1);h.NEG_ONE=z;var $=m(-1,2147483647,!1);h.MAX_VALUE=$;var L=m(-1,-1,!0);h.MAX_UNSIGNED_VALUE=L;var O=m(0,-2147483648,!1);h.MIN_VALUE=O;var T=h.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},T.toString=function(w){if((w=w||10)<2||36<w)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var k=_(w),Y=this.div(k),Z=Y.mul(k).sub(this);return Y.toString(w)+Z.toInt().toString(w)}return"-"+this.neg().toString(w)}for(var W=_(I(w,6),this.unsigned),K=this,x="";;){var X=K.div(W),H=(K.sub(X.mul(W)).toInt()>>>0).toString(w);if((K=X).isZero())return H+x;for(;H.length<6;)H="0"+H;x=""+H+x}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var w=this.high!=0?this.high:this.low,k=31;k>0&&!(w&1<<k);k--);return this.high!=0?k+33:k+1},T.isZero=function(){return this.high===0&&this.low===0},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return(1&this.low)==1},T.isEven=function(){return(1&this.low)==0},T.equals=function(w){return f(w)||(w=p(w)),(this.unsigned===w.unsigned||this.high>>>31!=1||w.high>>>31!=1)&&this.high===w.high&&this.low===w.low},T.eq=T.equals,T.notEquals=function(w){return!this.eq(w)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(w){return this.comp(w)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(w){return this.comp(w)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(w){return this.comp(w)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(w){return this.comp(w)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(w){if(f(w)||(w=p(w)),this.eq(w))return 0;var k=this.isNegative(),Y=w.isNegative();return k&&!Y?-1:!k&&Y?1:this.unsigned?w.high>>>0>this.high>>>0||w.high===this.high&&w.low>>>0>this.low>>>0?-1:1:this.sub(w).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(F)},T.neg=T.negate,T.add=function(w){f(w)||(w=p(w));var k=0,Y=0,Z=0,W=0;return Z+=(W+=(65535&this.low)+(65535&w.low))>>>16,Y+=(Z+=(this.low>>>16)+(w.low>>>16))>>>16,k+=(Y+=(65535&this.high)+(65535&w.high))>>>16,k+=(this.high>>>16)+(w.high>>>16),m((Z&=65535)<<16|(W&=65535),(k&=65535)<<16|(Y&=65535),this.unsigned)},T.subtract=function(w){return f(w)||(w=p(w)),this.add(w.neg())},T.sub=T.subtract,T.multiply=function(w){if(this.isZero())return q;if(f(w)||(w=p(w)),c)return m(c.mul(this.low,this.high,w.low,w.high),c.get_high(),this.unsigned);if(w.isZero())return q;if(this.eq(O))return w.isOdd()?O:q;if(w.eq(O))return this.isOdd()?O:q;if(this.isNegative())return w.isNegative()?this.neg().mul(w.neg()):this.neg().mul(w).neg();if(w.isNegative())return this.mul(w.neg()).neg();if(this.lt(U)&&w.lt(U))return _(this.toNumber()*w.toNumber(),this.unsigned);var k=65535&this.high,Y=this.low>>>16,Z=65535&this.low,W=65535&w.high,K=w.low>>>16,x=65535&w.low,X=0,H=0,j=0,ae=0;return j+=(ae+=Z*x)>>>16,H+=(j+=Y*x)>>>16,j&=65535,H+=(j+=Z*K)>>>16,X+=(H+=k*x)>>>16,H&=65535,X+=(H+=Y*K)>>>16,H&=65535,X+=(H+=Z*W)>>>16,X+=(this.high>>>16)*x+k*K+Y*W+Z*(w.high>>>16),m((j&=65535)<<16|(ae&=65535),(X&=65535)<<16|(H&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(w){if(f(w)||(w=p(w)),w.isZero())throw Error("division by zero");var k,Y,Z;if(c)return this.unsigned||this.high!==-2147483648||w.low!==-1||w.high!==-1?m((this.unsigned?c.div_u:c.div_s)(this.low,this.high,w.low,w.high),c.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?te:q;if(this.unsigned){if(w.unsigned||(w=w.toUnsigned()),w.gt(this))return te;if(w.gt(this.shru(1)))return V;Z=te}else{if(this.eq(O))return w.eq(F)||w.eq(z)?O:w.eq(O)?F:(k=this.shr(1).div(w).shl(1)).eq(q)?w.isNegative()?F:z:(Y=this.sub(w.mul(k)),Z=k.add(Y.div(w)));if(w.eq(O))return this.unsigned?te:q;if(this.isNegative())return w.isNegative()?this.neg().div(w.neg()):this.neg().div(w).neg();if(w.isNegative())return this.div(w.neg()).neg();Z=q}for(Y=this;Y.gte(w);){k=Math.max(1,Math.floor(Y.toNumber()/w.toNumber()));for(var W=Math.ceil(Math.log(k)/Math.LN2),K=W<=48?1:I(2,W-48),x=_(k),X=x.mul(w);X.isNegative()||X.gt(Y);)X=(x=_(k-=K,this.unsigned)).mul(w);x.isZero()&&(x=F),Z=Z.add(x),Y=Y.sub(X)}return Z},T.div=T.divide,T.modulo=function(w){return f(w)||(w=p(w)),c?m((this.unsigned?c.rem_u:c.rem_s)(this.low,this.high,w.low,w.high),c.get_high(),this.unsigned):this.sub(this.div(w).mul(w))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return m(~this.low,~this.high,this.unsigned)},T.and=function(w){return f(w)||(w=p(w)),m(this.low&w.low,this.high&w.high,this.unsigned)},T.or=function(w){return f(w)||(w=p(w)),m(this.low|w.low,this.high|w.high,this.unsigned)},T.xor=function(w){return f(w)||(w=p(w)),m(this.low^w.low,this.high^w.high,this.unsigned)},T.shiftLeft=function(w){return f(w)&&(w=w.toInt()),(w&=63)==0?this:w<32?m(this.low<<w,this.high<<w|this.low>>>32-w,this.unsigned):m(0,this.low<<w-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(w){return f(w)&&(w=w.toInt()),(w&=63)==0?this:w<32?m(this.low>>>w|this.high<<32-w,this.high>>w,this.unsigned):m(this.high>>w-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(w){if(f(w)&&(w=w.toInt()),(w&=63)===0)return this;var k=this.high;return w<32?m(this.low>>>w|k<<32-w,k>>>w,this.unsigned):m(w===32?k:k>>>w-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?m(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:m(this.low,this.high,!0)},T.toBytes=function(w){return w?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var w=this.high,k=this.low;return[255&k,k>>>8&255,k>>>16&255,k>>>24,255&w,w>>>8&255,w>>>16&255,w>>>24]},T.toBytesBE=function(){var w=this.high,k=this.low;return[w>>>24,w>>>16&255,w>>>8&255,255&w,k>>>24,k>>>16&255,k>>>8&255,255&k]},h.fromBytes=function(w,k,Y){return Y?h.fromBytesLE(w,k):h.fromBytesBE(w,k)},h.fromBytesLE=function(w,k){return new h(w[0]|w[1]<<8|w[2]<<16|w[3]<<24,w[4]|w[5]<<8|w[6]<<16|w[7]<<24,k)},h.fromBytesBE=function(w,k){return new h(w[4]<<24|w[5]<<16|w[6]<<8|w[7],w[0]<<24|w[1]<<16|w[2]<<8|w[3],k)}},2100:function(a,c,h){a.exports=h(9482)},9482:function(a,c,h){var f=c;function B(){f.util._configure(),f.Writer._configure(f.BufferWriter),f.Reader._configure(f.BufferReader)}f.build="minimal",f.Writer=h(1173),f.BufferWriter=h(3155),f.Reader=h(1408),f.BufferReader=h(593),f.util=h(9693),f.rpc=h(5994),f.roots=h(5054),f.configure=B,B()},1408:function(a,c,h){a.exports=m;var f,B=h(9693),v=B.LongBits,D=B.utf8;function _(U,q){return RangeError("index out of range: "+U.pos+" + "+(q||1)+" > "+U.len)}function m(U){this.buf=U,this.pos=0,this.len=U.length}var I,Q=typeof Uint8Array<"u"?function(U){if(U instanceof Uint8Array||Array.isArray(U))return new m(U);throw Error("illegal buffer")}:function(U){if(Array.isArray(U))return new m(U);throw Error("illegal buffer")},p=function(){return B.Buffer?function(U){return(m.create=function(q){return B.Buffer.isBuffer(q)?new f(q):Q(q)})(U)}:Q};function u(){var U=new v(0,0),q=0;if(!(this.len-this.pos>4)){for(;q<3;++q){if(this.pos>=this.len)throw _(this);if(U.lo=(U.lo|(127&this.buf[this.pos])<<7*q)>>>0,this.buf[this.pos++]<128)return U}return U.lo=(U.lo|(127&this.buf[this.pos++])<<7*q)>>>0,U}for(;q<4;++q)if(U.lo=(U.lo|(127&this.buf[this.pos])<<7*q)>>>0,this.buf[this.pos++]<128)return U;if(U.lo=(U.lo|(127&this.buf[this.pos])<<28)>>>0,U.hi=(U.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return U;if(q=0,this.len-this.pos>4){for(;q<5;++q)if(U.hi=(U.hi|(127&this.buf[this.pos])<<7*q+3)>>>0,this.buf[this.pos++]<128)return U}else for(;q<5;++q){if(this.pos>=this.len)throw _(this);if(U.hi=(U.hi|(127&this.buf[this.pos])<<7*q+3)>>>0,this.buf[this.pos++]<128)return U}throw Error("invalid varint encoding")}function y(U,q){return(U[q-4]|U[q-3]<<8|U[q-2]<<16|U[q-1]<<24)>>>0}function N(){if(this.pos+8>this.len)throw _(this,8);return new v(y(this.buf,this.pos+=4),y(this.buf,this.pos+=4))}m.create=p(),m.prototype._slice=B.Array.prototype.subarray||B.Array.prototype.slice,m.prototype.uint32=(I=4294967295,function(){if(I=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(I=(I|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(I=(I|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(I=(I|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(I=(I|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return I;if((this.pos+=5)>this.len)throw this.pos=this.len,_(this,10);return I}),m.prototype.int32=function(){return 0|this.uint32()},m.prototype.sint32=function(){var U=this.uint32();return U>>>1^-(1&U)|0},m.prototype.bool=function(){return this.uint32()!==0},m.prototype.fixed32=function(){if(this.pos+4>this.len)throw _(this,4);return y(this.buf,this.pos+=4)},m.prototype.sfixed32=function(){if(this.pos+4>this.len)throw _(this,4);return 0|y(this.buf,this.pos+=4)},m.prototype.float=function(){if(this.pos+4>this.len)throw _(this,4);var U=B.float.readFloatLE(this.buf,this.pos);return this.pos+=4,U},m.prototype.double=function(){if(this.pos+8>this.len)throw _(this,4);var U=B.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,U},m.prototype.bytes=function(){var U=this.uint32(),q=this.pos,te=this.pos+U;if(te>this.len)throw _(this,U);return this.pos+=U,Array.isArray(this.buf)?this.buf.slice(q,te):q===te?new this.buf.constructor(0):this._slice.call(this.buf,q,te)},m.prototype.string=function(){var U=this.bytes();return D.read(U,0,U.length)},m.prototype.skip=function(U){if(typeof U=="number"){if(this.pos+U>this.len)throw _(this,U);this.pos+=U}else do if(this.pos>=this.len)throw _(this);while(128&this.buf[this.pos++]);return this},m.prototype.skipType=function(U){switch(U){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(U=7&this.uint32())!=4;)this.skipType(U);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+U+" at offset "+this.pos)}return this},m._configure=function(U){f=U,m.create=p(),f._configure();var q=B.Long?"toLong":"toNumber";B.merge(m.prototype,{int64:function(){return u.call(this)[q](!1)},uint64:function(){return u.call(this)[q](!0)},sint64:function(){return u.call(this).zzDecode()[q](!1)},fixed64:function(){return N.call(this)[q](!0)},sfixed64:function(){return N.call(this)[q](!1)}})}},593:function(a,c,h){a.exports=v;var f=h(1408);(v.prototype=Object.create(f.prototype)).constructor=v;var B=h(9693);function v(D){f.call(this,D)}v._configure=function(){B.Buffer&&(v.prototype._slice=B.Buffer.prototype.slice)},v.prototype.string=function(){var D=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+D,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+D,this.len))},v._configure()},5054:function(a){a.exports={}},5994:function(a,c,h){c.Service=h(7948)},7948:function(a,c,h){a.exports=B;var f=h(9693);function B(v,D,_){if(typeof v!="function")throw TypeError("rpcImpl must be a function");f.EventEmitter.call(this),this.rpcImpl=v,this.requestDelimited=!!D,this.responseDelimited=!!_}(B.prototype=Object.create(f.EventEmitter.prototype)).constructor=B,B.prototype.rpcCall=function v(D,_,m,I,Q){if(!I)throw TypeError("request must be specified");var p=this;if(!Q)return f.asPromise(v,p,D,_,m,I);if(p.rpcImpl)try{return p.rpcImpl(D,_[p.requestDelimited?"encodeDelimited":"encode"](I).finish(),function(u,y){if(u)return p.emit("error",u,D),Q(u);if(y!==null){if(!(y instanceof m))try{y=m[p.responseDelimited?"decodeDelimited":"decode"](y)}catch(N){return p.emit("error",N,D),Q(N)}return p.emit("data",y,D),Q(null,y)}p.end(!0)})}catch(u){return p.emit("error",u,D),void setTimeout(function(){Q(u)},0)}else setTimeout(function(){Q(Error("already ended"))},0)},B.prototype.end=function(v){return this.rpcImpl&&(v||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:function(a,c,h){a.exports=B;var f=h(9693);function B(m,I){this.lo=m>>>0,this.hi=I>>>0}var v=B.zero=new B(0,0);v.toNumber=function(){return 0},v.zzEncode=v.zzDecode=function(){return this},v.length=function(){return 1};var D=B.zeroHash="\0\0\0\0\0\0\0\0";B.fromNumber=function(m){if(m===0)return v;var I=m<0;I&&(m=-m);var Q=m>>>0,p=(m-Q)/4294967296>>>0;return I&&(p=~p>>>0,Q=~Q>>>0,++Q>4294967295&&(Q=0,++p>4294967295&&(p=0))),new B(Q,p)},B.from=function(m){if(typeof m=="number")return B.fromNumber(m);if(f.isString(m)){if(!f.Long)return B.fromNumber(parseInt(m,10));m=f.Long.fromString(m)}return m.low||m.high?new B(m.low>>>0,m.high>>>0):v},B.prototype.toNumber=function(m){if(!m&&this.hi>>>31){var I=1+~this.lo>>>0,Q=~this.hi>>>0;return I||(Q=Q+1>>>0),-(I+4294967296*Q)}return this.lo+4294967296*this.hi},B.prototype.toLong=function(m){return f.Long?new f.Long(0|this.lo,0|this.hi,!!m):{low:0|this.lo,high:0|this.hi,unsigned:!!m}};var _=String.prototype.charCodeAt;B.fromHash=function(m){return m===D?v:new B((_.call(m,0)|_.call(m,1)<<8|_.call(m,2)<<16|_.call(m,3)<<24)>>>0,(_.call(m,4)|_.call(m,5)<<8|_.call(m,6)<<16|_.call(m,7)<<24)>>>0)},B.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},B.prototype.zzEncode=function(){var m=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^m)>>>0,this.lo=(this.lo<<1^m)>>>0,this},B.prototype.zzDecode=function(){var m=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^m)>>>0,this.hi=(this.hi>>>1^m)>>>0,this},B.prototype.length=function(){var m=this.lo,I=(this.lo>>>28|this.hi<<4)>>>0,Q=this.hi>>>24;return Q===0?I===0?m<16384?m<128?1:2:m<2097152?3:4:I<16384?I<128?5:6:I<2097152?7:8:Q<128?9:10}},9693:function(a,c,h){var f=c;function B(D,_,m){for(var I=Object.keys(_),Q=0;Q<I.length;++Q)D[I[Q]]!==void 0&&m||(D[I[Q]]=_[I[Q]]);return D}function v(D){function _(m,I){if(!(this instanceof _))return new _(m,I);Object.defineProperty(this,"message",{get:function(){return m}}),Error.captureStackTrace?Error.captureStackTrace(this,_):Object.defineProperty(this,"stack",{value:new Error().stack||""}),I&&B(this,I)}return(_.prototype=Object.create(Error.prototype)).constructor=_,Object.defineProperty(_.prototype,"name",{get:function(){return D}}),_.prototype.toString=function(){return this.name+": "+this.message},_}f.asPromise=h(4537),f.base64=h(7419),f.EventEmitter=h(9211),f.float=h(945),f.inquire=h(7199),f.utf8=h(4997),f.pool=h(6662),f.LongBits=h(1945),f.isNode=!!(h.g!==void 0&&h.g&&h.g.process&&h.g.process.versions&&h.g.process.versions.node),f.global=f.isNode&&h.g||typeof window<"u"&&window||typeof self<"u"&&self||this,f.emptyArray=Object.freeze?Object.freeze([]):[],f.emptyObject=Object.freeze?Object.freeze({}):{},f.isInteger=Number.isInteger||function(D){return typeof D=="number"&&isFinite(D)&&Math.floor(D)===D},f.isString=function(D){return typeof D=="string"||D instanceof String},f.isObject=function(D){return D&&typeof D=="object"},f.isset=f.isSet=function(D,_){var m=D[_];return!(m==null||!D.hasOwnProperty(_))&&(typeof m!="object"||(Array.isArray(m)?m.length:Object.keys(m).length)>0)},f.Buffer=function(){try{var D=f.inquire("buffer").Buffer;return D.prototype.utf8Write?D:null}catch{return null}}(),f._Buffer_from=null,f._Buffer_allocUnsafe=null,f.newBuffer=function(D){return typeof D=="number"?f.Buffer?f._Buffer_allocUnsafe(D):new f.Array(D):f.Buffer?f._Buffer_from(D):typeof Uint8Array>"u"?D:new Uint8Array(D)},f.Array=typeof Uint8Array<"u"?Uint8Array:Array,f.Long=f.global.dcodeIO&&f.global.dcodeIO.Long||f.global.Long||f.inquire("long"),f.key2Re=/^true|false|0|1$/,f.key32Re=/^-?(?:0|[1-9][0-9]*)$/,f.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,f.longToHash=function(D){return D?f.LongBits.from(D).toHash():f.LongBits.zeroHash},f.longFromHash=function(D,_){var m=f.LongBits.fromHash(D);return f.Long?f.Long.fromBits(m.lo,m.hi,_):m.toNumber(!!_)},f.merge=B,f.lcFirst=function(D){return D.charAt(0).toLowerCase()+D.substring(1)},f.newError=v,f.ProtocolError=v("ProtocolError"),f.oneOfGetter=function(D){for(var _={},m=0;m<D.length;++m)_[D[m]]=1;return function(){for(var I=Object.keys(this),Q=I.length-1;Q>-1;--Q)if(_[I[Q]]===1&&this[I[Q]]!=null)return I[Q]}},f.oneOfSetter=function(D){return function(_){for(var m=0;m<D.length;++m)D[m]!==_&&delete this[D[m]]}},f.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},f._configure=function(){var D=f.Buffer;D?(f._Buffer_from=D.from!==Uint8Array.from&&D.from||function(_,m){return new D(_,m)},f._Buffer_allocUnsafe=D.allocUnsafe||function(_){return new D(_)}):f._Buffer_from=f._Buffer_allocUnsafe=null}},1173:function(a,c,h){a.exports=p;var f,B=h(9693),v=B.LongBits,D=B.base64,_=B.utf8;function m(F,V,z){this.fn=F,this.len=V,this.next=void 0,this.val=z}function I(){}function Q(F){this.head=F.head,this.tail=F.tail,this.len=F.len,this.next=F.states}function p(){this.len=0,this.head=new m(I,0,0),this.tail=this.head,this.states=null}var u=function(){return B.Buffer?function(){return(p.create=function(){return new f})()}:function(){return new p}};function y(F,V,z){V[z]=255&F}function N(F,V){this.len=F,this.next=void 0,this.val=V}function U(F,V,z){for(;F.hi;)V[z++]=127&F.lo|128,F.lo=(F.lo>>>7|F.hi<<25)>>>0,F.hi>>>=7;for(;F.lo>127;)V[z++]=127&F.lo|128,F.lo=F.lo>>>7;V[z++]=F.lo}function q(F,V,z){V[z]=255&F,V[z+1]=F>>>8&255,V[z+2]=F>>>16&255,V[z+3]=F>>>24}p.create=u(),p.alloc=function(F){return new B.Array(F)},B.Array!==Array&&(p.alloc=B.pool(p.alloc,B.Array.prototype.subarray)),p.prototype._push=function(F,V,z){return this.tail=this.tail.next=new m(F,V,z),this.len+=V,this},(N.prototype=Object.create(m.prototype)).fn=function(F,V,z){for(;F>127;)V[z++]=127&F|128,F>>>=7;V[z]=F},p.prototype.uint32=function(F){return this.len+=(this.tail=this.tail.next=new N((F>>>=0)<128?1:F<16384?2:F<2097152?3:F<268435456?4:5,F)).len,this},p.prototype.int32=function(F){return F<0?this._push(U,10,v.fromNumber(F)):this.uint32(F)},p.prototype.sint32=function(F){return this.uint32((F<<1^F>>31)>>>0)},p.prototype.int64=p.prototype.uint64=function(F){var V=v.from(F);return this._push(U,V.length(),V)},p.prototype.sint64=function(F){var V=v.from(F).zzEncode();return this._push(U,V.length(),V)},p.prototype.bool=function(F){return this._push(y,1,F?1:0)},p.prototype.sfixed32=p.prototype.fixed32=function(F){return this._push(q,4,F>>>0)},p.prototype.sfixed64=p.prototype.fixed64=function(F){var V=v.from(F);return this._push(q,4,V.lo)._push(q,4,V.hi)},p.prototype.float=function(F){return this._push(B.float.writeFloatLE,4,F)},p.prototype.double=function(F){return this._push(B.float.writeDoubleLE,8,F)};var te=B.Array.prototype.set?function(F,V,z){V.set(F,z)}:function(F,V,z){for(var $=0;$<F.length;++$)V[z+$]=F[$]};p.prototype.bytes=function(F){var V=F.length>>>0;if(!V)return this._push(y,1,0);if(B.isString(F)){var z=p.alloc(V=D.length(F));D.decode(F,z,0),F=z}return this.uint32(V)._push(te,V,F)},p.prototype.string=function(F){var V=_.length(F);return V?this.uint32(V)._push(_.write,V,F):this._push(y,1,0)},p.prototype.fork=function(){return this.states=new Q(this),this.head=this.tail=new m(I,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new m(I,0,0),this.len=0),this},p.prototype.ldelim=function(){var F=this.head,V=this.tail,z=this.len;return this.reset().uint32(z),z&&(this.tail.next=F.next,this.tail=V,this.len+=z),this},p.prototype.finish=function(){for(var F=this.head.next,V=this.constructor.alloc(this.len),z=0;F;)F.fn(F.val,V,z),z+=F.len,F=F.next;return V},p._configure=function(F){f=F,p.create=u(),f._configure()}},3155:function(a,c,h){a.exports=v;var f=h(1173);(v.prototype=Object.create(f.prototype)).constructor=v;var B=h(9693);function v(){f.call(this)}function D(_,m,I){_.length<40?B.utf8.write(_,m,I):m.utf8Write?m.utf8Write(_,I):m.write(_,I)}v._configure=function(){v.alloc=B._Buffer_allocUnsafe,v.writeBytesBuffer=B.Buffer&&B.Buffer.prototype instanceof Uint8Array&&B.Buffer.prototype.set.name==="set"?function(_,m,I){m.set(_,I)}:function(_,m,I){if(_.copy)_.copy(m,I,0,_.length);else for(var Q=0;Q<_.length;)m[I++]=_[Q++]}},v.prototype.bytes=function(_){B.isString(_)&&(_=B._Buffer_from(_,"base64"));var m=_.length>>>0;return this.uint32(m),m&&this._push(v.writeBytesBuffer,m,_),this},v.prototype.string=function(_){var m=B.Buffer.byteLength(_);return this.uint32(m),m&&this._push(D,m,_),this},v._configure()},4295:function(a){a.exports=function(){return h={21:function(B,v,D){function _(W){return W}D.r(v);var m="zm.lv.ssg",I="zm.lv.pss",Q="/liveroom/send_end_join_live",p=_,u=_,y="/liveroom/send_invite_join_live",N=_,U=_,q="/liveroom/send_join_live_result",te=_,F=_,V="/liveroom/send_request_join_live",z=_,$=_,L={code:1002014,msg:"room not exist"},O={code:1002099,msg:"room inner error"},T=(w.prototype.resetLiveHandler=function(){this.joinLiveCallbackMap={},this.joinLiveRequestMap={}},w.prototype.getSignalCmdContent=function(W,K,x){return W={request_id:W,room_id:this.room.roomID,from_userid:this.stateCenter.idName,from_username:this.stateCenter.nickName,to_userid:K},x!=null&&(W.result=x),JSON.stringify(W)},w.prototype.requestJoinLive=function(W,K,x,X){var H,j=this.stateCenter.getRequestId(),ae=this.getSignalCmdContent(j,W);return X!=null&&(this.stateCenter.reporter.spanSetAttributes({key:V,par:(H=this.room)==null?void 0:H.roomID},{request_id:$(j)}),this.joinLiveCallbackMap[j]=X,this.sendSignalCmd(1001,ae,W,K,x),!0)},w.prototype.sendSignalCmd=function(W,K,x,X,H){var j=this;this.room.isLogin()?((this.stateCenter.useNetAgent?this.liveRoomHandler:this.service).sendSignalCmd({sub_cmd:W,signal_msg:K,dest_id_name:[x]},function(ae){X&&X(ae.header.seq)},function(ae){var ce=O;ae.header&&ae.body?H&&H(j.rtm.getServerError(ae.body.err_code),ae.header.seq):(ae.code&&ae.msg&&(ce=ae),H&&H(ce,0))},this.room),this.logger.info(m+" call success"+W)):this.logger.error(m+" state error")},w.prototype.inviteJoinLive=function(W,K,x,X){var H,j=this.stateCenter.getRequestId(),ae=this.getSignalCmdContent(j,W);return X!=null&&(this.stateCenter.reporter.spanSetAttributes({key:y,par:(H=this.room)==null?void 0:H.roomID},{request_id:U(j)}),this.joinLiveCallbackMap[j]=X,this.sendSignalCmd(1003,ae,W,K,x),!0)},w.prototype.endJoinLive=function(W,K,x){var X,H=this.stateCenter.getRequestId(),j=this.getSignalCmdContent(H,W);return this.stateCenter.reporter.spanSetAttributes({key:Q,par:(X=this.room)==null?void 0:X.roomID},{request_id:u(H)}),this.sendSignalCmd(1004,j,W,K,x),!0},w.prototype.respondJoinLive=function(W,K,x,X){var H=this.joinLiveRequestMap[W];if(!H)return this.logger.info("zm.lv.rjl no dest id name"),!1;this.stateCenter.reporter.spanSetAttributes({key:q,par:(j=this.room)==null?void 0:j.roomID},{to_user_id:te(H)});var j=0;return K=this.getSignalCmdContent(W,H,j=K===!0?1:j),this.sendSignalCmd(1002,K,H,x,X),delete this.joinLiveRequestMap[W],!0},w.prototype.handlePushSignalMsg=function(W){var K=JSON.parse(W.body.signal_msg);switch(this.logger.info(I+" hpsm= ",K),W.body.sub_cmd){case 11001:this.handlePushJoinLiveRequestMsg(K);break;case 11002:this.handlePushJoinLiveResultMsg(K);break;case 11003:this.handlePushJoinLiveInviteMsg(K);break;case 11004:this.handlePushJoinLiveStopMsg(K)}},w.prototype.handlePushJoinLiveRequestMsg=function(W){var K,x=W.request_id;typeof x!="string"?this.logger.error(I+" no requestId"):typeof(K=W.from_userid)!="string"?this.logger.error(I+" no from user"):(this.joinLiveRequestMap[x]=K,this.onRecvJoinLiveRequest(x,W.from_userid,W.from_username,W.room_id),this.logger.info(I+" onRecvJoinLiveRequest "+K))},w.prototype.onRecvJoinLiveRequest=function(W,K,x,X){this.stateCenter.actionListener("recvJoinLiveRequest",W,K,x,X)},w.prototype.handlePushJoinLiveInviteMsg=function(W){var K,x=W.request_id;typeof x!="string"?this.logger.error(I+"no requestId"):typeof(K=W.from_userid)!="string"?this.logger.error(I+" no from user"):(this.joinLiveRequestMap[x]=K,this.onRecvInviteJoinLiveRequest(x,W.from_userid,W.from_username,W.room_id),this.logger.info(I+" onRecvInviteJoinLiveRequest "+K))},w.prototype.onRecvInviteJoinLiveRequest=function(W,K,x,X){this.stateCenter.actionListener("recvInviteJoinLiveRequest",W,K,x,X)},w.prototype.handlePushJoinLiveResultMsg=function(W){var K,x,X=W.request_id;typeof X!="string"?this.logger.error(I+" no requestId"):(K=W.result)==null?this.logger.info(I+" no result"):(K=K==1,this.joinLiveCallbackMap[X]&&((x=this.joinLiveCallbackMap[X])?(this.logger.info(I+" joinLiveRequest/invite result "+K),delete this.joinLiveCallbackMap[X],x(K,W.from_userid,W.from_username)):this.logger.info(I+" no callback")))},w.prototype.handlePushJoinLiveStopMsg=function(W){var K=W.request_id;typeof K!="string"?this.logger.error(I+" no requestId"):(this.logger.info(I+" onRecvEndJoinLiveCommand "+W.from_userid),this.onRecvEndJoinLiveCommand(K,W.from_userid,W.from_username,W.room_id))},w.prototype.onRecvEndJoinLiveCommand=function(W,K,x,X){this.stateCenter.actionListener("recvEndJoinLiveCommand",W,K,x,X)},w);function w(W,K,x,X,H,j){this.logger=W,this.stateCenter=K,this.service=x,this.liveRoomHandler=X,this.rtm=H,this.room=j,this.joinLiveCallbackMap={},this.joinLiveRequestMap={}}var k={requestJoinLive:function(W,K,x,X,H){var j=this,ae=this.getMsgSpan(V,H||((ce=this.stateCenter.roomModulesList[0])==null?void 0:ce.roomID),!0),ce=this.getRoomModules(H)||this.stateCenter.roomModulesList[0];return ce?(ae.setAttributes({to_user_id:z(W)}),ce.liveHandler.requestJoinLive(W,function(ne){ae.end(),K(ne)},function(ne,Qe){j.stateCenter.reporter.setError(ae,ne),x(ne,Qe)},X)):(this.stateCenter.reporter.setError(ae,L),x&&x(L,0),!1)},inviteJoinLive:function(W,K,x,X,H){var j=this,ae=this.getMsgSpan(y,H||((ce=this.stateCenter.roomModulesList[0])==null?void 0:ce.roomID),!0),ce=this.getRoomModules(H)||this.stateCenter.roomModulesList[0];return ce?(ae.setAttributes({to_user_id:N(W)}),ce.liveHandler.inviteJoinLive(W,function(ne){ae.end(),K(ne)},function(ne,Qe){j.stateCenter.reporter.setError(ae,ne),x(ne,Qe)},X)):(this.stateCenter.reporter.setError(ae,L),x&&x(L,0),!1)},endJoinLive:function(W,K,x,X){var H=this,j=this.getMsgSpan(Q,X||((ae=this.stateCenter.roomModulesList[0])==null?void 0:ae.roomID),!0),ae=this.getRoomModules(X)||this.stateCenter.roomModulesList[0];return ae?(j.setAttributes({to_user_id:p(W)}),ae.liveHandler.endJoinLive(W,function(ce){j.end(),K(ce)},function(ce,ne){H.stateCenter.reporter.setError(j,ce),x(ce,ne)})):(this.stateCenter.reporter.setError(j,L),x&&x(L,0),!1)},respondJoinLive:function(W,K,x,X,H){var j=this,ae=this.getMsgSpan(q,H||((ce=this.stateCenter.roomModulesList[0])==null?void 0:ce.roomID),!0),ce=this.getRoomModules(H)||this.stateCenter.roomModulesList[0];return ce?(ae.setAttributes({request_id:F(W),join_result:K}),ce.liveHandler.respondJoinLive(W,K,function(ne){ae.end(),x(ne)},function(ne,Qe){j.stateCenter.reporter.setError(ae,ne),X(ne,Qe)})):(this.stateCenter.reporter.setError(ae,L),X&&X(L,0),!1)}},Y={handlePushSignalMsg:function(W){var K=(x=W==null?void 0:W.header)==null?void 0:x.room_id,x=this.stateCenter.roomModulesList.find(function(X){return X.roomID==K});x?x.liveHandler.handlePushSignalMsg(W):this.logger.error("zm.sv.ps room no found ignore "+JSON.stringify(W))}},Z={initLiveHandler:function(){this.liveHandler=new T(this.logger,this.stateCenter,this.service,this.liveRoomHandler,this.rtm,this)}};v.default={type:"live",install:function(W,K,x,X){for(var H in k)Object.defineProperty(W.prototype,H,{value:k[H],writable:!1});for(var H in Y)Object.defineProperty(x.prototype,H,{value:Y[H],writable:!1}),Object.defineProperty(X.prototype,H,{value:Y[H],writable:!1});for(var H in Z)Object.defineProperty(K.prototype,H,{value:Z[H],writable:!1})}}}},f={},c.m=h,c.c=f,c.d=function(B,v,D){c.o(B,v)||Object.defineProperty(B,v,{enumerable:!0,get:D})},c.r=function(B){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(B,"__esModule",{value:!0})},c.t=function(B,v){if(1&v&&(B=c(B)),8&v||4&v&&typeof B=="object"&&B&&B.__esModule)return B;var D=Object.create(null);if(c.r(D),Object.defineProperty(D,"default",{enumerable:!0,value:B}),2&v&&typeof B!="string")for(var _ in B)c.d(D,_,(function(m){return B[m]}).bind(null,_));return D},c.n=function(B){var v=B&&B.__esModule?function(){return B.default}:function(){return B};return c.d(v,"a",v),v},c.o=function(B,v){return Object.prototype.hasOwnProperty.call(B,v)},c.p="",c(c.s=21);function c(B){var v;return(f[B]||(v=f[B]={i:B,l:!1,exports:{}},h[B].call(v.exports,v,v.exports,c),v.l=!0,v)).exports}var h,f}()},5533:function(a){a.exports=function(){return h={0:function(B,v,D){var _=function(m){Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var I=null;try{I=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Q(j,ae,ce){this.low=0|j,this.high=0|ae,this.unsigned=!!ce}function p(j){return(j&&j.__isLong__)===!0}function u(j){var ae=Math.clz32(j&-j);return j?31-ae:ae}Object.defineProperty(Q.prototype,"__isLong__",{value:!0}),Q.isLong=p;var y={},N={};function U(j,ae){var ce,ne,Qe;return ae?(Qe=0<=(j>>>=0)&&j<256)&&(ne=N[j])?ne:(ce=te(j,0,!0),Qe&&(N[j]=ce),ce):(Qe=-128<=(j|=0)&&j<128)&&(ne=y[j])?ne:(ce=te(j,j<0?-1:0,!1),Qe&&(y[j]=ce),ce)}function q(j,ae){if(isNaN(j))return ae?k:w;if(ae){if(j<0)return k;if(L<=j)return x}else{if(j<=-O)return X;if(O<=j+1)return K}return j<0?q(-j,ae).neg():te(j%$|0,j/$|0,ae)}function te(j,ae,ce){return new Q(j,ae,ce)}Q.fromInt=U,Q.fromNumber=q,Q.fromBits=te;var F=Math.pow;function V(j,ae,ce){if(j.length===0)throw Error("empty string");if(ae=typeof ae=="number"?(ce=ae,!1):!!ae,j==="NaN"||j==="Infinity"||j==="+Infinity"||j==="-Infinity")return ae?k:w;if((ce=ce||10)<2||36<ce)throw RangeError("radix");var ne;if(0<(ne=j.indexOf("-")))throw Error("interior hyphen");if(ne===0)return V(j.substring(1),ae,ce).neg();for(var Qe=q(F(ce,8)),De=w,Fe=0;Fe<j.length;Fe+=8){var pe=Math.min(8,j.length-Fe),ot=parseInt(j.substring(Fe,Fe+pe),ce);De=(pe<8?(pe=q(F(ce,pe)),De.mul(pe)):De=De.mul(Qe)).add(q(ot))}return De.unsigned=ae,De}function z(j,ae){return typeof j=="number"?q(j,ae):typeof j=="string"?V(j,ae):te(j.low,j.high,typeof ae=="boolean"?ae:j.unsigned)}Q.fromString=V,Q.fromValue=z;var $=4294967296,L=$*$,O=L/2,T=U(1<<24),w=U(0),k=(Q.ZERO=w,U(0,!0)),Y=(Q.UZERO=k,U(1)),Z=(Q.ONE=Y,U(1,!0)),W=(Q.UONE=Z,U(-1)),K=(Q.NEG_ONE=W,te(-1,2147483647,!1)),x=(Q.MAX_VALUE=K,te(-1,-1,!0)),X=(Q.MAX_UNSIGNED_VALUE=x,te(0,-2147483648,!1)),H=(Q.MIN_VALUE=X,Q.prototype);return H.toInt=function(){return this.unsigned?this.low>>>0:this.low},H.toNumber=function(){return this.unsigned?(this.high>>>0)*$+(this.low>>>0):this.high*$+(this.low>>>0)},H.toString=function(j){if((j=j||10)<2||36<j)throw RangeError("radix");if(this.isZero())return"0";var ae,ce;if(this.isNegative())return this.eq(X)?(ce=q(j),ce=(ae=this.div(ce)).mul(ce).sub(this),ae.toString(j)+ce.toInt().toString(j)):"-"+this.neg().toString(j);for(var ne=q(F(j,6),this.unsigned),Qe=this,De="";;){var Fe=Qe.div(ne),pe=(Qe.sub(Fe.mul(ne)).toInt()>>>0).toString(j);if((Qe=Fe).isZero())return pe+De;for(;pe.length<6;)pe="0"+pe;De=""+pe+De}},H.getHighBits=function(){return this.high},H.getHighBitsUnsigned=function(){return this.high>>>0},H.getLowBits=function(){return this.low},H.getLowBitsUnsigned=function(){return this.low>>>0},H.getNumBitsAbs=function(){if(this.isNegative())return this.eq(X)?64:this.neg().getNumBitsAbs();for(var j=this.high!=0?this.high:this.low,ae=31;0<ae&&!(j&1<<ae);ae--);return this.high!=0?ae+33:ae+1},H.isZero=function(){return this.high===0&&this.low===0},H.eqz=H.isZero,H.isNegative=function(){return!this.unsigned&&this.high<0},H.isPositive=function(){return this.unsigned||0<=this.high},H.isOdd=function(){return(1&this.low)==1},H.isEven=function(){return(1&this.low)==0},H.equals=function(j){return p(j)||(j=z(j)),(this.unsigned===j.unsigned||this.high>>>31!=1||j.high>>>31!=1)&&this.high===j.high&&this.low===j.low},H.eq=H.equals,H.notEquals=function(j){return!this.eq(j)},H.neq=H.notEquals,H.ne=H.notEquals,H.lessThan=function(j){return this.comp(j)<0},H.lt=H.lessThan,H.lessThanOrEqual=function(j){return this.comp(j)<=0},H.lte=H.lessThanOrEqual,H.le=H.lessThanOrEqual,H.greaterThan=function(j){return 0<this.comp(j)},H.gt=H.greaterThan,H.greaterThanOrEqual=function(j){return 0<=this.comp(j)},H.gte=H.greaterThanOrEqual,H.ge=H.greaterThanOrEqual,H.compare=function(j){var ae,ce;return p(j)||(j=z(j)),this.eq(j)?0:(ae=this.isNegative(),ce=j.isNegative(),ae&&!ce?-1:!ae&&ce?1:this.unsigned?j.high>>>0>this.high>>>0||j.high===this.high&&j.low>>>0>this.low>>>0?-1:1:this.sub(j).isNegative()?-1:1)},H.comp=H.compare,H.negate=function(){return!this.unsigned&&this.eq(X)?X:this.not().add(Y)},H.neg=H.negate,H.add=function(j){p(j)||(j=z(j));var ae=0,ce=0,ne=0,Qe=0;return ce+=(ne=ne+((Qe+=(65535&this.low)+(65535&j.low))>>>16)+((this.low>>>16)+(j.low>>>16)))>>>16,te((ne&=65535)<<16|(Qe&=65535),((ae+=(ce+=(65535&this.high)+(65535&j.high))>>>16)+((this.high>>>16)+(j.high>>>16))&65535)<<16|(ce&=65535),this.unsigned)},H.subtract=function(j){return p(j)||(j=z(j)),this.add(j.neg())},H.sub=H.subtract,H.multiply=function(j){var ae,ce,ne,Qe,De,Fe,pe,ot,ft,yt;return this.isZero()?this:(p(j)||(j=z(j)),I?te(I.mul(this.low,this.high,j.low,j.high),I.get_high(),this.unsigned):j.isZero()?this.unsigned?k:w:this.eq(X)?j.isOdd()?X:w:j.eq(X)?this.isOdd()?X:w:this.isNegative()?j.isNegative()?this.neg().mul(j.neg()):this.neg().mul(j).neg():j.isNegative()?this.mul(j.neg()).neg():this.lt(T)&&j.lt(T)?q(this.toNumber()*j.toNumber(),this.unsigned):(Qe=j.high>>>16,De=65535&j.high,Fe=j.low>>>16,yt=(yt=ft=ot=pe=0)+((ot=ot+((ft+=(ne=65535&this.low)*(j=65535&j.low))>>>16)+(ce=this.low>>>16)*j)>>>16)+((ot=(65535&ot)+ne*Fe)>>>16),te((ot&=65535)<<16|(ft&=65535),(pe=(pe=(pe+=(yt+=(ae=65535&this.high)*j)>>>16)+((yt=(65535&yt)+ce*Fe)>>>16)+((yt=(65535&yt)+ne*De)>>>16))+((this.high>>>16)*j+ae*Fe+ce*De+ne*Qe)&65535)<<16|(yt&=65535),this.unsigned)))},H.mul=H.multiply,H.divide=function(j){if((j=p(j)?j:z(j)).isZero())throw Error("division by zero");var ae,ce,ne;if(I)return this.unsigned||this.high!==-2147483648||j.low!==-1||j.high!==-1?te((this.unsigned?I.div_u:I.div_s)(this.low,this.high,j.low,j.high),I.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?k:w;if(this.unsigned){if((j=j.unsigned?j:j.toUnsigned()).gt(this))return k;if(j.gt(this.shru(1)))return Z;ce=k}else{if(this.eq(X))return j.eq(Y)||j.eq(W)?X:j.eq(X)?Y:(ne=this.shr(1).div(j).shl(1)).eq(w)?j.isNegative()?Y:W:(ae=this.sub(j.mul(ne)),ne.add(ae.div(j)));if(j.eq(X))return this.unsigned?k:w;if(this.isNegative())return j.isNegative()?this.neg().div(j.neg()):this.neg().div(j).neg();if(j.isNegative())return this.div(j.neg()).neg();ce=w}for(ae=this;ae.gte(j);){ne=Math.max(1,Math.floor(ae.toNumber()/j.toNumber()));for(var Qe=Math.ceil(Math.log(ne)/Math.LN2),De=Qe<=48?1:F(2,Qe-48),Fe=q(ne),pe=Fe.mul(j);pe.isNegative()||pe.gt(ae);)pe=(Fe=q(ne-=De,this.unsigned)).mul(j);Fe.isZero()&&(Fe=Y),ce=ce.add(Fe),ae=ae.sub(pe)}return ce},H.div=H.divide,H.modulo=function(j){return p(j)||(j=z(j)),I?te((this.unsigned?I.rem_u:I.rem_s)(this.low,this.high,j.low,j.high),I.get_high(),this.unsigned):this.sub(this.div(j).mul(j))},H.mod=H.modulo,H.rem=H.modulo,H.not=function(){return te(~this.low,~this.high,this.unsigned)},H.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},H.clz=H.countLeadingZeros,H.countTrailingZeros=function(){return this.low?u(this.low):u(this.high)+32},H.ctz=H.countTrailingZeros,H.and=function(j){return p(j)||(j=z(j)),te(this.low&j.low,this.high&j.high,this.unsigned)},H.or=function(j){return p(j)||(j=z(j)),te(this.low|j.low,this.high|j.high,this.unsigned)},H.xor=function(j){return p(j)||(j=z(j)),te(this.low^j.low,this.high^j.high,this.unsigned)},H.shiftLeft=function(j){return p(j)&&(j=j.toInt()),(j&=63)==0?this:j<32?te(this.low<<j,this.high<<j|this.low>>>32-j,this.unsigned):te(0,this.low<<j-32,this.unsigned)},H.shl=H.shiftLeft,H.shiftRight=function(j){return p(j)&&(j=j.toInt()),(j&=63)==0?this:j<32?te(this.low>>>j|this.high<<32-j,this.high>>j,this.unsigned):te(this.high>>j-32,0<=this.high?0:-1,this.unsigned)},H.shr=H.shiftRight,H.shiftRightUnsigned=function(j){return p(j)&&(j=j.toInt()),(j&=63)==0?this:j<32?te(this.low>>>j|this.high<<32-j,this.high>>>j,this.unsigned):te(j===32?this.high:this.high>>>j-32,0,this.unsigned)},H.shru=H.shiftRightUnsigned,H.shr_u=H.shiftRightUnsigned,H.rotateLeft=function(j){var ae;return p(j)&&(j=j.toInt()),(j&=63)==0?this:j===32?te(this.high,this.low,this.unsigned):j<32?te(this.low<<j|this.high>>>(ae=32-j),this.high<<j|this.low>>>ae,this.unsigned):te(this.high<<(j-=32)|this.low>>>(ae=32-j),this.low<<j|this.high>>>ae,this.unsigned)},H.rotl=H.rotateLeft,H.rotateRight=function(j){var ae;return p(j)&&(j=j.toInt()),(j&=63)==0?this:j===32?te(this.high,this.low,this.unsigned):j<32?te(this.high<<(ae=32-j)|this.low>>>j,this.low<<ae|this.high>>>j,this.unsigned):te(this.low<<(ae=32-(j-=32))|this.high>>>j,this.high<<ae|this.low>>>j,this.unsigned)},H.rotr=H.rotateRight,H.toSigned=function(){return this.unsigned?te(this.low,this.high,!1):this},H.toUnsigned=function(){return this.unsigned?this:te(this.low,this.high,!0)},H.toBytes=function(j){return j?this.toBytesLE():this.toBytesBE()},H.toBytesLE=function(){var j=this.high,ae=this.low;return[255&ae,ae>>>8&255,ae>>>16&255,ae>>>24,255&j,j>>>8&255,j>>>16&255,j>>>24]},H.toBytesBE=function(){var j=this.high,ae=this.low;return[j>>>24,j>>>16&255,j>>>8&255,255&j,ae>>>24,ae>>>16&255,ae>>>8&255,255&ae]},Q.fromBytes=function(j,ae,ce){return ce?Q.fromBytesLE(j,ae):Q.fromBytesBE(j,ae)},Q.fromBytesLE=function(j,ae){return new Q(j[0]|j[1]<<8|j[2]<<16|j[3]<<24,j[4]|j[5]<<8|j[6]<<16|j[7]<<24,ae)},Q.fromBytesBE=function(j,ae){return new Q(j[4]<<24|j[5]<<16|j[6]<<8|j[7],j[0]<<24|j[1]<<16|j[2]<<8|j[3],ae)},m.default=Q,"default"in m?m.default:m}({});(v=(function(){return _}).apply(v,[]))!==void 0&&(B.exports=v)},20:function(B,v,D){function _(xe){return xe}function m(xe){return xe}function I(xe){return xe}D.r(v);var Q,p="zm.scc",u="zm.sbcm",y="zm.srlm",N="zm.sbrm",U="zm.msg.sdr",q="zm.msg.rlr",te="zm.msg.rps",F="zm.msg.srm",V="zm.msg.scm",z="zm.msg.sbm",$="zm.msg.bps",L="zm.msg.slm",O="zm.sv.ps",T={code:1100001,msg:"input parm error."},w={code:1100002,msg:"network timeout."},k={code:1000002,msg:"not login"},Y={code:1009001,msg:"message content is empty"},Z={code:1009010,msg:"failed to send message"},W={code:1002014,msg:"room not exist"},K={code:1002099,msg:"room inner error"},x={code:1109001,msg:"frequency limited."},X={INPUT_PARAM:T,IM_CONTENT_NULL:Y,IM_CONTENT_TOO_LONG:ie={code:1009002,msg:"message content is too long"},ROOM_NOT_EXIST:W},H="/liveroom/send_custom_command",j=m,ae={INPUT_PARAM:T,IM_CONTENT_NULL:Y,IM_CONTENT_TOO_LONG:ie,ROOM_NOT_EXIST:W},ce="/liveroom/send_room_message",ne=I,Qe=I,De={INPUT_PARAM:T,IM_CONTENT_NULL:Y,IM_CONTENT_TOO_LONG:ie,ROOM_NOT_EXIST:W},Fe=m,pe=m,ot=T,ft={code:1102022,msg:"trans send frequently"},yt=W,Ot=_,ge=_,Ee=m,fe=I,ie=((Y=Q=Q||{})[Y.I=0]="I",Y[Y.H=10]="H",Y[Y.M=100]="M",Y[Y.L=1e3]="L",D(0)),ue=D.n(ie),de=(Object.defineProperty(le.prototype,"isUseNetAgent",{get:function(){return this.stateCenter.useNetAgent},enumerable:!1,configurable:!0}),Object.defineProperty(le.prototype,"serviceHandler",{get:function(){return this.isUseNetAgent?this.liveRoomHandler:this.service},enumerable:!1,configurable:!0}),le.prototype.loginRsp=function(xe){var st,At=this;if(xe.body.ret_timestamp!=null&&typeof xe.body.ret_timestamp=="string"&&(st=parseFloat(xe.body.ret_timestamp),this.serverTimeOffset=st==0?0:xe.body.ret_timestamp-new Date().getTime()),xe.body.bigim_time_window&&typeof xe.body.bigim_time_window=="number"&&(this.bigimTimeWindow=xe.body.bigim_time_window),xe.body.dati_time_window&&typeof xe.body.dati_time_window=="number"&&(this.datiTimeWindow=xe.body.dati_time_window),xe.body.trans_seqs)for(var Et=0;Et<xe.body.trans_seqs.length;Et++){var Dt=xe.body.trans_seqs[Et].trans_channel,Ft=xe.body.trans_seqs[Et].trans_seq_list||xe.body.trans_seqs[Et].trans_seq_array;0<(Ft=(Ft=Ft.filter(function(zt){var Ut=zt.trans_type;return zt=zt.trans_seq,!At.transSeqMap[Ut]||At.transSeqMap[Ut].seq<zt})).map(function(zt){return{trans_type:zt.trans_type,trans_local_seq:zt.trans_seq}})).length&&this.fetchReliableMessage(Dt,Ft)}},le.prototype.sendReliableMessage=function(xe,st,At,Et){var Dt,Ft=this;this.logger.info(U+" call"),this.room.isLogin()?this.isReliable?(this.logger.error(U+" send too often"),Et(ft)):(this.transSeqMap[xe]||(this.transSeqMap[xe]={seq:0}),Dt={trans_type:xe,trans_data:st,trans_local_seq:this.transSeqMap[xe].seq,trans_channel:"clt"},this.isReliable=!0,this.serviceHandler.sendReliableMessage(Dt,function(zt){Ft.transSeqMap[xe].seq=zt.body.trans_seq,Ft.logger.info(U+" trans "+xe+" seq "+zt.body.trans_seq),Ft.isReliable=!1,Ft.roomExtraInfo[xe]={key:xe,value:st,updateUser:{userID:Ft.room.userID,userName:Ft.room.userName},updateTime:Date.now()},At({seq:zt.header.seq,errorCode:0})},function(zt){var Ut=K;zt.body&&zt.body.err_code?(Ut=Ft.rtm.getServerError(zt.body.err_code),Ft.logger.error(F+"  "+Ut.msg)):Ut=zt,Ft.isReliable=!1,Et(Ut)},this.room)):(this.logger.error(U+" state error"),Et&&Et(k))},le.prototype.fetchReliableMessage=function(xe,st){function At(Ft){Et.handleFetchTransRsp(Ft,Dt)}var Et=this,Dt=(xe={trans_channel:xe,fetch_array:st},this.stateCenter.reporter.createSpan(Q.H,{key:"/sdk/login",par:this.room.roomID},{key:""},"/liveroom/get_room_extrainfo"));Dt.setAttributes({fetch_array:Ot(st)}),this.serviceHandler.fetchReliableMessage(xe,At,At,this.room),this.logger.info("zm.msg.frm call success")},le.prototype.handleFetchTransRsp=function(xe,st){if(xe.body&&xe.body.err_code!=0)this.logger.error(q+" trans send error "+xe.body.err_code),this.stateCenter.tracer.setError(st,{code:xe.body.err_code});else if(xe.header&&xe.body){var At=xe.body.trans_list||xe.body.trans_fetch_results,Et=[],Dt=[];if(Array.isArray(At)&&0<At.length){for(var Ft=0;Ft<At.length;Ft++){var zt,Ut,Vt=At[Ft];Vt.err_code===1000001109?this.logger.warn(q+" fetch trans unknown type "+Vt.err_code):(Dt.push({trans_type:zt=Vt.trans_type,trans_seq:Ut=Vt.trans_seq}),Vt.err_code===1000001110?(this.logger.warn(q+" fetch trans seq is wrong "+Vt.err_code),this.transSeqMap[zt]={seq:Ut}):!this.transSeqMap[zt]||this.transSeqMap[zt].seq<Ut?(this.transSeqMap[zt]={seq:Ut},Et.push(Vt)):this.logger.warn(q+" fetch trans seq wrong"))}this.roomExtraInfo={},0<Et.length&&this.onRecvReliableMessage(Et)}st.setAttributes({result_array:ge(Dt)}),st.end()}else this.logger.error(q+" trans send error "+xe),this.stateCenter.tracer.setError(st,w)},le.prototype.handlePushTransMsg=function(xe){var st,At=xe.body.trans_type,Et=xe.body.trans_seq;!this.transSeqMap[At]||this.transSeqMap[At].seq<Et?(this.transSeqMap[At]={seq:Et},this.onRecvReliableMessage([xe.body],((st=xe==null?void 0:xe.body)==null?void 0:st.trans_idname)===this.stateCenter.idName||((st=xe==null?void 0:xe.body)==null?void 0:st.id_name)===this.stateCenter.idName)):this.logger.warn(te+" trans seq wrong"),this.logger.info(te+" trans "+At+" seq "+Et)},le.prototype.sendRoomMsg=function(xe,st,At,Et,Dt,Ft){var zt=this;if(!this.room.isLogin())return this.logger.error(F+" state error"),Ft(k),!1;var Ut=Date.parse(new Date+"");return 0<this.sendRoomMsgTime&&this.sendRoomMsgTime+this.sendRoomMsgInterval>Ut?(this.logger.info(F+" freq error"),Ft&&Ft(x,0,xe,Et),!1):(this.sendRoomMsgTime=Ut,Ut=this.serviceHandler.sendRoomMsg({msg_category:xe,msg_type:1,msg_priority:1,msg_content:Et},function(Vt){Dt({seq:Vt.header.seq,errorCode:0,messageID:Vt.body.msg_id})},function(Vt){var mr,Br,Zt=K;Vt.header&&Vt.body?(Br=(mr=[zt.rtm.getServerError(Vt.body.err_code),Vt.body.msg_id])[1],zt.logger.error(F+"  "+(Zt=mr[0]).msg),Ft({seq:Vt.header.seq,errorCode:(Zt=Zt==w?Z:Zt).code,messageID:Br})):(Vt.code&&Vt.msg&&(Zt=Vt),Ft({seq:0,errorCode:Zt.code,messageID:0}))},this.room),this.stateCenter.reporter.spanSetAttributes({key:ce,par:(xe=this.room)==null?void 0:xe.roomID},{send_seq:ne(Ut)}),this.logger.info(F+"  call success"),!0)},le.prototype.handlePushRoomMsg=function(xe){var st,At=[];this.isUseNetAgent?(st=xe.body.msg_list,xe.body.msg_list.forEach(function(Et){Et={fromUser:{userID:Et.id_name,userName:Et.nick_name},message:Et.msg_content,sendTime:Et.send_time.toNumber(),messageID:Et.msg_id.toNumber()},At.push(Et)}),xe.body.server_msg_id=xe.body.server_msg_id.toNumber(),xe.body.ret_msg_id=xe.body.ret_msg_id.toNumber()):(st=xe.body.chat_data,xe.body.chat_data.forEach(function(Et){At.push(Et={fromUser:{userID:Et.id_name,userName:Et.nick_name},message:Et.msg_content,sendTime:Et.send_time,messageID:Et.msg_id})})),this.stateCenter.actionListener("IMRecvBroadcastMessage",this.room.roomID,At),this.stateCenter.actionListener("_recvRoomMsg",st,xe.body.server_msg_id,xe.body.ret_msg_id)},le.prototype.sendCustomCommand=function(xe,st,At,Et){var Dt,Ft=this;return this.room.isLogin()?(st={from_userid:this.stateCenter.idName,from_username:this.stateCenter.nickName,request_id:this.stateCenter.getRequestId(),custom_content:st||"",room_id:this.room.roomID},this.stateCenter.reporter.spanSetAttributes({key:H,par:(Dt=this.room)==null?void 0:Dt.roomID},{request_id:j(st.request_id)}),Dt={dest_id_name:xe,custom_msg:JSON.stringify(st)},this.serviceHandler.sendCustomCommand(Dt,function(zt){At({seq:zt.header.seq,errorCode:0})},function(zt){var Ut,Vt=Ft.rtm.getServerError(zt.body.err_code);Ft.logger.error(V+" "+Vt.msg),Ut=((Ut=zt.body)==null?void 0:Ut.err_code)===2||((Ut=zt.body)==null?void 0:Ut.err_code)===1000000002?T:Vt==w?Z:Vt,Et({seq:zt.header.seq,errorCode:Ut.code,code:Ut.code})},this.room),this.logger.info(V+" call success"),!0):(this.logger.error(V+" state error"),Et(k),!1)},le.prototype.handlePushCustomMsg=function(xe){xe=[(xe=JSON.parse(xe.body.custommsg)).from_userid,xe.from_username,xe.room_id,xe.custom_content],this.stateCenter.actionListener("IMRecvCustomCommand",xe[2],{userID:xe[0],userName:xe[1]},xe[3])},le.prototype.sendBigRoomMessage=function(xe,st,At,Et,Dt,Ft){var zt,Ut,Vt,mr,Br=this;this.room.isLogin()?(zt=this.bigimTimeWindow,Ut=this.serverTimeOffset,Vt=new Date().getTime()+Ut,mr=this.rtm.getSeq().toString(),this.bigImCallbackMap[mr]={success:Dt,error:Ft},zt==0?this.sendBigRoomMessageInternal([{msg_category:xe,msg_type:1,msg_content:Et,bigmsg_client_id:mr}],function(Zt){Br.handleBigImMsgRsp(Zt)},function(Zt){Ft&&Ft(Zt)}):(Dt=Math.floor(Vt/zt),this.bigImLastTimeIndex<Dt&&this.bigIMmessageList.length==0?(this.bigImLastTimeIndex=Dt,this.sendBigRoomMessageInternal([{msg_category:xe,msg_type:1,msg_content:Et,bigmsg_client_id:mr}],function(Zt){Br.handleBigImMsgRsp(Zt)},function(Zt){Ft&&Ft(Zt)})):(this.bigIMmessageList.push({msg_category:xe,msg_type:1,msg_content:Et,bigmsg_client_id:mr}),this.bigIMmessageList.length==1&&this.setBigImTimer(Ut,zt)))):(this.logger.error(z+" state error"),Ft&&Ft(k))},le.prototype.sendBigRoomMessageInternal=function(xe,st,At){this.serviceHandler.sendBigRoomMessage({msgs:xe},function(Et){st(Et)},function(Et){var Dt=K;Et.header&&Et.body||(Et.code&&Et.msg&&(Dt=Et),At(Dt)),At(Dt)},this.room),this.logger.info(z+" sendBigRoomMessage called")},le.prototype.handleBigImMsgRsp=function(xe){this.bigimTimeWindow=xe.body.bigim_time_window;for(var st=xe.body.msg_list||xe.body.msgs,At=0;At<st.length;At++){var Et,Dt=st[At].msg_client_id||st[At].bigmsg_client_id;this.bigImCallbackMap[Dt]&&((Et=this.bigImCallbackMap[Dt].success)!=null&&Et({seq:xe.header.seq,errorCode:0,messageID:st[At].msg_id||st[At].bigmsg_id}),delete this.bigImCallbackMap[Dt])}},le.prototype.setBigImTimer=function(xe,st){var At=this;xe=st-(new Date().getTime()+xe)%st,st=this.rtm.generateRandumNumber(st)+xe,this.bigImTimer=setTimeout(function(){At.onBigImTimer()},st)},le.prototype.onBigImTimer=function(){for(var xe=this,st=new Date().getTime()+this.serverTimeOffset,At=(this.bigImLastTimeIndex=Math.floor(st/this.bigimTimeWindow),[]),Et=[],Dt=0;Dt<this.bigIMmessageList.length&&!(20<=Dt);Dt++){var Ft=this.bigIMmessageList[Dt];At.push({msg_category:Ft.msg_category,msg_type:Ft.msg_type,msg_content:Ft.msg_content,bigmsg_client_id:Ft.bigmsg_client_id}),Et.push(Ft.bigmsg_client_id)}20<this.bigIMmessageList.length?this.bigIMmessageList.splice(0,20):this.bigIMmessageList=[],this.sendBigRoomMessageInternal(At,function(zt){xe.handleBigImMsgRsp(zt)},function(zt,Ut){for(var Vt=0;Vt<Et.length;Vt++){var mr=Et[Vt],Br=xe.bigImCallbackMap[mr];Br&&(Br.error!=null&&Br.error(zt,Ut),delete xe.bigImCallbackMap[mr])}}),this.bigImTimer&&clearTimeout(this.bigImTimer),this.bigImTimer=null,0<this.bigIMmessageList.length&&this.setBigImTimer(this.serverTimeOffset,this.bigimTimeWindow)},le.prototype.handlePushMergeMsg=function(xe){for(var st=xe.body.message_list||xe.body.messages,At=0;At<st.length;At++)st[At].sub_cmd===14001&&this.handlePushBigRooMsg(st[At].msg_body)},le.prototype.handlePushBigRooMsg=function(xe){var st;if(typeof xe=="string")try{st=JSON.parse(xe)}catch{return void this.logger.warn($+"parse json error")}else st=xe;if(st){xe=st.room_id||this.room.roomID;for(var At=[],Et=st.msg_list||st.msg_data,Dt=0;Dt<Et.length;Dt++){var Ft=Et[Dt];Ft.id_name==this.stateCenter.idName?this.logger.info($+" self message"):At.push({idName:Ft.id_name,nickName:Ft.nick_name,messageId:Ft.msg_id||Ft.bigmsg_id,category:Ft.msg_category,type:Ft.msg_type,content:Ft.msg_content,time:Ft.send_time||ue.a.isLong(Ft.msg_timestamp)&&Ft.msg_timestamp.toNumber()})}At.length==0?this.logger.info($+" no other pushData except self"):this.onRecvBigRoomMessage(At,xe),this.logger.info($+"call success")}else this.logger.warn($+" cann't find message body")},le.prototype.onRecvBigRoomMessage=function(xe,st){var At=[];xe.forEach(function(Et){At.push(Et={fromUser:{userID:Et.idName,userName:Et.nickName},message:Et.content,sendTime:Et.time,messageID:Et.messageId})}),this.stateCenter.actionListener("IMRecvBarrageMessage",st,At),this.stateCenter.actionListener("_recvBigRoomMessage",xe,st)},le.prototype.resetMessageInfo=function(){this.transSeqMap={},this.realyMessageList=[],this.relayTimer&&(clearTimeout(this.relayTimer),this.relayTimer=null),this.bigImLastTimeIndex=0,this.bigIMmessageList=[],this.bigImCallbackMap={},this.bigImTimer&&(clearTimeout(this.bigImTimer),this.bigImTimer=null),this.serverTimeOffset=0,this.datiTimeWindow=0,this.bigimTimeWindow=0},le.prototype.sendRelayMessage=function(xe,st,At,Et){var Dt=this.datiTimeWindow,Ft=this.serverTimeOffset;0<Dt?(this.realyMessageList.push({type:xe,data:st,success:At,error:Et}),this.realyMessageList.length==1&&this.setRelayTimer(Ft,Dt)):this.sendRelayMessageInternal(xe,st,At,Et)},le.prototype.sendRelayMessageInternal=function(xe,st,At,Et){var Dt=this;this.logger.info(L+" call"),this.serviceHandler.sendRelayMessage(xe={relay_type:xe,relay_data:st},function(Ft){At&&At(Ft.header.seq,Ft.body.relay_result)},function(Ft){var zt=K;Ft.header&&Ft.body?Et&&Et(Dt.rtm.getServerError(Ft.body.err_code),Ft.header.seq):(Ft.code&&Ft.msg&&(zt=Ft),Et&&Et(zt,0))},st=this.room)},le.prototype.setRelayTimer=function(xe,st){var At=this;xe=new Date().getTime()+xe,xe=this.rtm.generateRandumNumber(2*st-xe%st),this.logger.info(L+" setTimer "+xe),this.relayTimer=setTimeout(function(){At.onRelayTimer()},xe)},le.prototype.onRelayTimer=function(){var xe;this.realyMessageList.length==0?this.logger.info(L+"  no relay data"):(this.sendRelayMessageInternal((xe=this.realyMessageList[0]).type,xe.data,xe.success,xe.error),this.relayTimer&&clearTimeout(this.relayTimer),this.relayTimer=null,this.realyMessageList.splice(0,1),0<this.realyMessageList.length&&this.setRelayTimer(this.serverTimeOffset,this.datiTimeWindow))},le);function le(xe,st,At,Et,Dt,Ft,zt){var Ut=this;this.logger=xe,this.stateCenter=st,this.dataReport=At,this.service=Et,this.liveRoomHandler=Dt,this.rtm=Ft,this.room=zt,this.sendRoomMsgTime=0,this.sendRoomMsgInterval=500,this.bigImCallbackMap={},this.bigImLastTimeIndex=0,this.bigIMmessageList=[],this.bigImTimer=null,this.relayTimer=null,this.serverTimeOffset=0,this.datiTimeWindow=0,this.bigimTimeWindow=0,this.isReliable=!1,this.transSeqMap={},this.roomExtraInfo={},this.onRecvReliableMessage=function(Vt,mr){mr===void 0&&(mr=!1);var Br=Vt.map(function(Zt){var wr={key:Zt.trans_type,value:Zt.trans_data,updateUser:{userID:Zt.id_name||Zt.trans_idname,userName:Zt.nick_name||Zt.trans_nickname},updateTime:ue.a.isLong(Zt.trans_send_time)?Zt.trans_send_time.toNumber():Zt.trans_send_time};return Ut.roomExtraInfo[Zt.trans_type]=wr});mr?Ut.logger.warn(te+" id name same"):(0<Br.length&&Ut.stateCenter.actionListener("roomExtraInfoUpdate",Ut.room.roomID,Object.values(Ut.roomExtraInfo)),Vt.forEach(function(Zt){Ut.stateCenter.actionListener("recvReliableMessage",Zt.trans_type,Zt.trans_seq,Zt.trans_data)}))},this.realyMessageList=[]}function Ve(xe,st,At,Et){var Dt=this;return At===void 0&&(At=1),Et===void 0&&(Et=1),new Promise(function(Ft,zt){var Ut,Vt=Dt.getMsgSpan(ce,xe,!0),mr=(zt=Dt.stateCenter.proxyRes(Vt,function(Br){Vt.setAttributes({msg_id:Qe(Br.messageID)}),Ft(Br)},zt)).interResolve;zt=zt.interReject,typeof xe!="string"||xe==""?(Dt.logger.error(u+" roomid must be string and not empty"),zt(De.INPUT_PARAM," param roomID error")):st===void 0||st==""?(Dt.logger.error(u+" message is empty"),zt(De.IM_CONTENT_NULL)):typeof st!="string"?(Dt.logger.error(u+" message must be string"),zt(De.INPUT_PARAM," param message error")):1024<st.length?(Dt.logger.error(u+" message too long"),zt(De.IM_CONTENT_TOO_LONG)):(Ut=Dt.getRoomModules(xe),Vt.setAttributes({send_seq:ne(),msg_content:st}),Ut?Ut.messageHandler.sendRoomMsg(At,Et,xe,st,function(Br){Br.messageID&&Vt.setAttributes({msg_id:Br.messageID}),mr(Br)},zt):zt(De.ROOM_NOT_EXIST))})}function nt(xe,st,At){var Et=this;return new Promise(function(Dt,Ft){var zt,Ut,Vt=Et.getMsgSpan(H,xe,!0);Ft=(Dt=Et.stateCenter.proxyRes(Vt,Dt,Ft)).interResolve,Dt=Dt.interReject,typeof xe!="string"||xe==""?(Et.logger.error(p+" roomid must be string and not empty"),Dt(T," param roomID error")):At instanceof Array&&!At.find(function(mr){return typeof mr!="string"})?typeof st!="string"&&typeof st!="object"?(Et.logger.error(p+" custom content must be a non empty string or object"),Dt(ae.INPUT_PARAM," param command error")):typeof st=="string"&&1024<st.length?(Et.logger.error(p+" command too long"),Dt(ae.IM_CONTENT_TOO_LONG)):(zt=Et.getRoomModules(xe),Ut=typeof st=="string"?st:JSON.stringify(st),Vt.setAttributes({msg_content:Ut}),zt?zt.messageHandler.sendCustomCommand(At,st,Ft,Dt):Dt(ae.ROOM_NOT_EXIST)):(Et.logger.error(p+" dstMembers must be string array"),Dt(ae.INPUT_PARAM," param toUserList error"))})}function ct(xe,st,At,Et){var Dt=this;return At===void 0&&(At=1),Et===void 0&&(Et=1),new Promise(function(Ft,zt){var Ut=Dt.getMsgSpan("/liveroom/send_big_room_message",xe);zt=(Ft=Dt.stateCenter.proxyRes(Ut,Ft,zt)).interResolve,Ft=Ft.interReject,typeof xe!="string"||xe==""?(Dt.logger.error(N+" roomid must be string and not empty"),Ft(X.INPUT_PARAM," param roomID error")):st===void 0||st==""?(Dt.logger.error(N+" message is empty"),Ft(X.IM_CONTENT_NULL)):typeof st!="string"?(Dt.logger.error(N+" message must be string"),Ft(X.INPUT_PARAM," param message error")):1024<st.length?(Dt.logger.error(N+" message too long"),Ft(X.IM_CONTENT_TOO_LONG)):(Ut.setAttributes({msg_content:st}),(Ut=Dt.getRoomModules(xe))?Ut.messageHandler.sendBigRoomMessage(At,Et,xe,st,zt,Ft):Ft(X.ROOM_NOT_EXIST))})}function Re(xe,st,At){var Et=this;return new Promise(function(Dt,Ft){var zt=Et.getMsgSpan("/liveroom/set_room_extrainfo",xe),Ut=(Dt=Et.stateCenter.proxyRes(zt,Dt,function(Vt){Et.stateCenter.useNetAgent&&Vt.errorCode===1015&&(Vt.errorCode=1002017),Ft(Vt)})).interResolve;Dt=Dt.interReject,typeof xe!="string"||xe==""?(Et.logger.error(u+" roomid must be string and not empty"),Dt(De.INPUT_PARAM," param roomID error")):st&&typeof st=="string"?128<st.length?(Et.logger.error(y+" type is too long"),Dt({errorCode:ot.code})):At&&typeof At=="string"?4096<At.length?(Et.logger.error(y+" type is too long"),Dt({errorCode:ot.code})):(zt.setAttributes({key:Fe(st),value:pe(At)}),(zt=Et.getRoomModules(xe))?zt.messageHandler.sendReliableMessage(st,At,Ut,Dt):Dt(yt)):(Et.logger.error(y+" data must be string"),Dt({errorCode:ot.code})):(Et.logger.error(y+" type must be string"),Dt({errorCode:ot.code}))})}var lt={_sendBroadcastMessage:Ve,sendBroadcastMessage:function(xe,st){var At=this;return new Promise(function(Et,Dt){Ve.call(At,xe,st).then(function(Ft){Et({errorCode:Ft.errorCode,messageID:Ft.messageID,extendedData:Ft.extendedData})}).catch(function(Ft){Dt(Ft)})})},_sendCustomCommand:nt,sendCustomCommand:function(xe,st,At){var Et=this;return new Promise(function(Dt,Ft){nt.call(Et,xe,st,At).then(function(zt){Dt({errorCode:zt.errorCode,extendedData:zt.extendedData})}).catch(function(zt){Ft(zt)})})},_sendBarrageMessage:ct,sendBarrageMessage:function(xe,st){var At=this;return new Promise(function(Et,Dt){ct.call(At,xe,st).then(function(Ft){Et({errorCode:Ft.errorCode,messageID:Ft.messageID,extendedData:Ft.extendedData})}).catch(function(Ft){Dt(Ft)})})},_setRoomExtraInfo:Re,setRoomExtraInfo:function(xe,st,At){return Re.call(this,xe,st,At)},sendRelayMessage:function(xe,st,At,Et,Dt){(Dt=this.getRoomModules(Dt)||this.stateCenter.roomModulesList[0])?Dt.messageHandler.sendRelayMessage(xe,st,At,Et):Et&&Et(W,0)}},St={handlePushRoomMsg:function(xe){(xe=this.handlePushMsg(xe))[0].messageHandler.handlePushRoomMsg(xe=xe[1])},handlePushCustomMsg:function(xe){(xe=this.handlePushMsg(xe))[0].messageHandler.handlePushCustomMsg(xe=xe[1])},handlePushMergeMsg:function(xe){var st=(st=xe==null?void 0:xe.header)==null?void 0:st.room_id;(st=this.rtm.getRoomModules(st))?st.messageHandler.handlePushMergeMsg(xe):this.logger.error(O+" room no found ignore "+JSON.stringify(xe))},handlePushTransMsg:function(xe){var st,At=(Et=this.handlePushMsg(xe))[0],Et=Et[1],Dt=(Dt=xe==null?void 0:xe.header)==null?void 0:Dt.room_id;(Dt=this.rtm.getMsgSpan("/liveroom/recv_room_extrainfo",Dt)).setAttributes({trans_type:Ee((st=xe==null?void 0:xe.body)==null?void 0:st.trans_type),trans_seq:fe((st=xe==null?void 0:xe.body)==null?void 0:st.trans_seq)}),Dt.end(),At.messageHandler.handlePushTransMsg(Et)},handleBigImMsgRsp:function(xe){var st=(st=xe==null?void 0:xe.header)==null?void 0:st.room_id;(st=this.rtm.getRoomModules(st))?st.messageHandler.handleBigImMsgRsp(xe):this.logger.error(O+" room no found ignore "+JSON.stringify(xe))},handlePushMsg:function(xe){var st=(st=xe==null?void 0:xe.header)==null?void 0:st.room_id;if(st=this.rtm.getRoomModules(st))return[st,xe];this.logger.error(O+" room no found ignore "+JSON.stringify(xe))}},Yt={initMessageHandler:function(){this.messageHandler=new de(this.logger,this.stateCenter,this.dataReport,this.service,this.liveRoomHandler,this.rtm,this)}};v.default={type:"message",install:function(xe,st,At,Et){for(var Dt in lt)Object.defineProperty(xe.prototype,Dt,{value:lt[Dt],writable:!1});for(var Dt in St)Object.defineProperty(At.prototype,Dt,{value:St[Dt],writable:!1}),Object.defineProperty(Et.prototype,Dt,{value:St[Dt],writable:!1});for(var Dt in Yt)Object.defineProperty(st.prototype,Dt,{value:Yt[Dt],writable:!1})}}}},f={},c.m=h,c.c=f,c.d=function(B,v,D){c.o(B,v)||Object.defineProperty(B,v,{enumerable:!0,get:D})},c.r=function(B){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(B,"__esModule",{value:!0})},c.t=function(B,v){if(1&v&&(B=c(B)),8&v||4&v&&typeof B=="object"&&B&&B.__esModule)return B;var D=Object.create(null);if(c.r(D),Object.defineProperty(D,"default",{enumerable:!0,value:B}),2&v&&typeof B!="string")for(var _ in B)c.d(D,_,(function(m){return B[m]}).bind(null,_));return D},c.n=function(B){var v=B&&B.__esModule?function(){return B.default}:function(){return B};return c.d(v,"a",v),v},c.o=function(B,v){return Object.prototype.hasOwnProperty.call(B,v)},c.p="",c(c.s=20);function c(B){var v;return(f[B]||(v=f[B]={i:B,l:!1,exports:{}},h[B].call(v.exports,v,v.exports,c),v.l=!0,v)).exports}var h,f}()},8413:function(a,c,h){for(var f=h(2100),B=f.roots,v=f.types?f.types.basic:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0,string:2,bytes:2},D=f.types?f.types.packed:{double:1,float:5,int32:0,uint32:0,sint32:0,fixed32:5,sfixed32:5,int64:0,uint64:0,sint64:0,fixed64:1,sfixed64:1,bool:0},_=Object.keys(v),m=f.util.Long?f.util.Long.fromBits:function(){return 0},I={$:function(u){return I[u]?I[u].call(this):B[u].decode?B[u].decode(this,this.uint32()):I.$.call(this,"int32")}},Q={$:function(u,y,N){var U=v[u];return U===void 0?B[u].encode?(this.uint32((N<<3|2)>>0).fork(),B[u].encode(y,this).ldelim()):Q.$.call(this,"int32",y,N):Q[u].call(this.uint32(N<<3|U),y)}},p=0;p<_.length;p++)I[_[p]]=f.Reader.prototype[_[p]],Q[_[p]]=f.Writer.prototype[_[p]];(function u(y,N,U,q){for(var te=0,F=Object.keys(y);te<F.length;te++){var V=F[te];if(y[V].$m&&Object.keys(y[V].$m).every(function(z){return Number(z)})){if(U[V])throw Error(`nested type ${U}.${V} has already exist`);U[V]=function(z,$){function L(Y){for(var Z in z){var W=z[Z];W[1].charAt(0)==="{"?this[W[0]]={}:W[1].charAt(0)!=="["&&W[1].charAt(0)!=="<"||(this[W[0]]=[])}if(Y)for(var K=Object.keys(Y),x=0;x<K.length;++x)Y[K[x]]!=null&&(this[K[x]]=Y[K[x]])}var O={};for(var T in z){var w=z[T],k=w[1];k.charAt(0)==="{"?(L.prototype[w[0]]=f.util.emptyObject,O[k]={$m:k.substring(1).split(",").map(function(Y,Z){return[`$${Z+1}`,Y,null]}).reduce(function(Y,Z,W){return Y[W+1]=Z,Y},{})}):L.prototype[w[0]]=k.charAt(0)==="["||k.charAt(0)==="<"?f.util.emptyArray:k==="bytes"?f.util.newBuffer([]):w[2]&&w[2].hasOwnProperty("low")&&w[2].hasOwnProperty("high")?m(w[2].low,w[2].high,w[2].unsigned):w[2]}return L.create=function(Y){return new L(Y)},L.decode=function(Y,Z){Y instanceof f.Reader||(Y=f.Reader.create(Y));for(var W=Z===void 0?Y.len:Y.pos+Z,K=new L;Y.pos<W;){var x=Y.uint32(),X=x>>>3;if(X>0&&z[X]){var H=z[X][0],j=z[X][1];if(j.charAt(0)==="{"){K[H]===f.util.emptyObject&&(K[H]={});var ae=L.$namespace[j].decode(Y,Y.uint32());K[H][ae.$1]=ae.$2}else if(j.charAt(0)==="["||j.charAt(0)==="<")if(j=j.substring(1),K[H]&&K[H].length||(K[H]=[]),D[j]!==void 0&&(7&x)==2)for(var ce=Y.uint32()+Y.pos;Y.pos<ce;)K[H].push(I.$.call(Y,j));else K[H].push(I.$.call(Y,j));else K[H]=I.$.call(Y,j)}else Y.skipType(7&x)}return K},L.encode=function(Y,Z){for(var W in Z||(Z=f.Writer.create()),z){var K=z[W][0],x=z[W][1];if(x.charAt(0)==="{"){if(Y[K]!=null&&Y.hasOwnProperty(K))for(var X=0,H=Object.keys(Y[K]);X<H.length;++X)Z.uint32((W<<3|2)>>0).fork(),L.$namespace[x].encode({$1:H[X],$2:Y[K][H[X]]},Z).ldelim()}else if(x.charAt(0)==="["||x.charAt(0)==="<"){var j=x.charAt(0)==="<";x=x.substring(1);var ae=Y[K];if(ae!=null&&ae.length)if(j&&D[x]!==void 0){for(Z.uint32((W<<3|2)>>0).fork(),X=0;X<ae.length;X++)Q[x].call(Z,ae[X]);Z.ldelim()}else for(X=0;X<ae.length;X++)Q.$.call(Z,x,ae[X],W)}else Y[K]!=null&&Y.hasOwnProperty(K)&&Q.$.call(Z,x,Y[K],W)}return Z},Object.keys(O).length&&(L.$namespace=u(O,N+"."+$,L.$namespace||{},!0)),L}(y[V].$m,V)}else y[V].$s?U[V]=function(z,$){function L(O,T,w){f.rpc.Service.call(this,O,T,w)}return(L.prototype=Object.create(f.rpc.Service.prototype)).constructor=L,L.create=function(O,T,w){return new L(O,T,w)},Object.keys(z).forEach(function(O){var T=z[O];function w(k,Y){return this.rpcCall(w,B[T[0]],B[T[1]],k,Y)}Object.defineProperty(w,"name",{value:O}),Object.defineProperty(w,"path",{value:`${N}.${$}`}),L.prototype[O]=w}),L}(y[V].$s,V):y[V].$e&&Object.values(y[V].$e).every(function(z){return Number(z)===z})&&(U[V]=function(z,$){for(var L=Object.keys(z),O={},T=0;T<L.length;T++)O[O[L[T]]=z[L[T]]]=L[T];return O}(y[V].$e));U[V]&&!q&&(B[`${N}.${V}`]=U[V]),delete y[V].$m,delete y[V].$s,delete y[V].$e,U[V]=u(y[V],N?`${N}.${V}`:V,U[V]||{})}return U})({mixstream:{proto_mixstream:{MixAdvanceConfig:{$m:{1:["key","string",""],2:["value","string",""]}},MixImage:{$m:{1:["url","string",""]}},MixInputStream:{$m:{1:["stream_input_common","mixstream.proto_mixstream.MixInputStreamCommon",null],2:["volume","int32",0],3:["audio_focus","int32",0],4:["audio_h_angle","int32",0],5:["render_mode","int32",0],6:["corner_radius","uint32",0],7:["label","mixstream.proto_mixstream.MixLabel",null],8:["image","mixstream.proto_mixstream.MixImage",null]}},MixInputStreamCommon:{$m:{1:["stream_id","string",""],2:["sound_level_id","uint32",0],3:["content_control","int32",0],4:["layer_rect","mixstream.proto_mixstream.MixRect",null]}},MixLabel:{$m:{1:["text","string",""],2:["text_left","int32",0],3:["text_top","int32",0],4:["font","mixstream.proto_mixstream.MixLableFont",null]}},MixLableFont:{$m:{1:["font_type","int32",0],2:["font_size","int32",0],3:["font_color","int32",0],4:["font_transparency","int32",0],5:["font_border_color","sint32",0]}},MixOutputStream:{$m:{1:["output_stream_common","mixstream.proto_mixstream.MixOutputStreamCommon",null],2:["video_enc_id","int32",0],3:["video_encode_latency","int32",0],4:["video_encode_profile","int32",0]}},MixOutputStreamCommon:{$m:{1:["is_url","int32",0],2:["target","string",""],3:["video_fps","int32",0],4:["rate_control_mode","int32",0],5:["video_bitrate","int32",0],6:["video_width","int32",0],7:["video_height","int32",0],8:["output_quality","int32",0],9:["audio_bitrate","int32",0],10:["audio_enc_id","int32",0]}},MixRect:{$m:{1:["top","int32",0],2:["left","int32",0],3:["bottom","int32",0],4:["right","int32",0],5:["layer","int32",0]}},MixStartReplyData:{$m:{1:["request_id","string",""],2:["play_infos","<mixstream.proto_mixstream.PlayInfo",null]}},MixStreamCommon:{$m:{1:["user_data","string",""],2:["output_bg_color","int32",0],3:["output_bg_image","string",""],4:["with_sound_level","int32",0],5:["single_stream_pass_through","int32",0],6:["alignment_type","int32",0]}},MixstreamServerCommonResponse:{$m:{1:["code","uint32",0],2:["message","string",""]}},MixStreamStartRequest:{$m:{1:["request_seq","uint32",0],2:["mix_protocol_version","int32",0],3:["task_id","string",""],4:["room_id","string",""],5:["mix_stream_common","mixstream.proto_mixstream.MixStreamCommon",null],6:["audio_channel_cnt","int32",0],7:["audio_mix_mode","int32",0],8:["recv_buffer_level","sint32",0],9:["input_stream","<mixstream.proto_mixstream.MixInputStream",null],10:["water_mark","mixstream.proto_mixstream.MixWaterMark",null],11:["advance_config","<mixstream.proto_mixstream.MixAdvanceConfig",null],12:["output_stream","<mixstream.proto_mixstream.MixOutputStream",null],13:["white_board","mixstream.proto_mixstream.MixWhiteBoard",null],14:["timestamp","int64",{low:0,high:0,unsigned:!1}]}},MixStreamStartResponse:{$m:{1:["request_seq","uint32",0],2:["common_response","mixstream.proto_mixstream.MixstreamServerCommonResponse",null],3:["data","mixstream.proto_mixstream.MixStartReplyData",null],4:["error_streamid_list","<string",null]}},MixStreamStopRequest:{$m:{1:["request_seq","uint32",0],2:["task_id","string",""],3:["room_id","string",""],4:["is_url","int32",0],5:["target","string",""],6:["timestamp","int64",{low:0,high:0,unsigned:!1}]}},MixStreamStopResponse:{$m:{1:["request_seq","uint32",0],2:["common_response","mixstream.proto_mixstream.MixstreamServerCommonResponse",null]}},MixWaterMark:{$m:{1:["image","string",""],2:["layout_rect","mixstream.proto_mixstream.MixRect",null]}},MixWhiteBoard:{$m:{1:["whiteboard_id","uint64",{low:0,high:0,unsigned:!0}],2:["horizontal_ratio","int32",0],3:["vertical_ratio","int32",0],4:["is_ppt_animation","int32",0],5:["layout_rect","mixstream.proto_mixstream.MixRect",null]}},PlayInfo:{$m:{1:["stream_alias","string",""],2:["rtmp_url","string",""],3:["hls_url","string",""],4:["hdl_url","string",""]}}}}},"",B,!1),f.util.global.mixstream=B.mixstream,c.Z=B.mixstream},1054:function(a,c,h){var f,B=h(2100),v=B.Reader,D=B.Writer,_=B.roots.default||(B.roots.default={});_.proto_media=((f={}).MediaServerCommonResponse=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.code=0,m.prototype.message="",m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=D.create()),I.code!=null&&Object.hasOwnProperty.call(I,"code")&&Q.uint32(8).uint32(I.code),I.message!=null&&Object.hasOwnProperty.call(I,"message")&&Q.uint32(18).string(I.message),Q},m.decode=function(I,Q){I instanceof v||(I=v.create(I));for(var p=Q===void 0?I.len:I.pos+Q,u=new _.proto_media.MediaServerCommonResponse;I.pos<p;){var y=I.uint32();switch(y>>>3){case 1:u.code=I.uint32();break;case 2:u.message=I.string();break;default:I.skipType(7&y)}}return u},m}(),f.RelayPublishCdnRequest=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.request_seq=0,m.prototype.request_cmd=0,m.prototype.streamid="",m.prototype.cdn_server="",m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=D.create()),I.request_seq!=null&&Object.hasOwnProperty.call(I,"request_seq")&&Q.uint32(8).uint32(I.request_seq),I.request_cmd!=null&&Object.hasOwnProperty.call(I,"request_cmd")&&Q.uint32(16).int32(I.request_cmd),I.streamid!=null&&Object.hasOwnProperty.call(I,"streamid")&&Q.uint32(26).string(I.streamid),I.cdn_server!=null&&Object.hasOwnProperty.call(I,"cdn_server")&&Q.uint32(34).string(I.cdn_server),Q},m.decode=function(I,Q){I instanceof v||(I=v.create(I));for(var p=Q===void 0?I.len:I.pos+Q,u=new _.proto_media.RelayPublishCdnRequest;I.pos<p;){var y=I.uint32();switch(y>>>3){case 1:u.request_seq=I.uint32();break;case 2:u.request_cmd=I.int32();break;case 3:u.streamid=I.string();break;case 4:u.cdn_server=I.string();break;default:I.skipType(7&y)}}return u},m}(),f.RelayPublishCdnResponse=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.request_seq=0,m.prototype.response=null,m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=D.create()),I.request_seq!=null&&Object.hasOwnProperty.call(I,"request_seq")&&Q.uint32(8).uint32(I.request_seq),I.response!=null&&Object.hasOwnProperty.call(I,"response")&&_.proto_media.MediaServerCommonResponse.encode(I.response,Q.uint32(18).fork()).ldelim(),Q},m.decode=function(I,Q){I instanceof v||(I=v.create(I));for(var p=Q===void 0?I.len:I.pos+Q,u=new _.proto_media.RelayPublishCdnResponse;I.pos<p;){var y=I.uint32();switch(y>>>3){case 1:u.request_seq=I.uint32();break;case 2:u.response=_.proto_media.MediaServerCommonResponse.decode(I,I.uint32());break;default:I.skipType(7&y)}}return u},m}(),f),a.exports=_},6602:function(a,c,h){var f,B,v,D=h(2100),_=D.Reader,m=D.Writer,I=D.roots.default||(D.roots.default={});I.generalpclib=((v={}).CmbType=(f={},(B=Object.create(f))[f[100]="CMD_TYPE_BUSINESS_REQUEST"]=100,B[f[101]="CMD_TYPE_BUSINESS_RESPONSE"]=101,B),v.Header=function(){function Q(p){if(p)for(var u=Object.keys(p),y=0;y<u.length;++y)p[u[y]]!=null&&(this[u[y]]=p[u[y]])}return Q.prototype.cmd=0,Q.create=function(p){return new Q(p)},Q.encode=function(p,u){return u||(u=m.create()),p.cmd!=null&&Object.hasOwnProperty.call(p,"cmd")&&u.uint32(8).uint32(p.cmd),u},Q.decode=function(p,u){p instanceof _||(p=_.create(p));for(var y=u===void 0?p.len:p.pos+u,N=new I.generalpclib.Header;p.pos<y;){var U=p.uint32();U>>>3==1?N.cmd=p.uint32():p.skipType(7&U)}return N},Q}(),v),a.exports=I},2990:function(a,c,h){var f,B=h(2100),v=B.Writer,D=B.util,_=B.roots.default||(B.roots.default={});_.logreport=((f={}).SpeedLogHead=function(){function m(p){if(p)for(var u=Object.keys(p),y=0;y<u.length;++y)p[u[y]]!=null&&(this[u[y]]=p[u[y]])}var I,Q;return m.prototype.version=0,m.prototype.signature=D.newBuffer([]),m.prototype.timestamp=0,m.prototype.event=0,m.prototype.app_id=0,m.prototype.user_id="",m.prototype.biz_type=0,m.prototype.device_id="",m.prototype.lite_sign=D.newBuffer([]),m.prototype.token=D.newBuffer([]),m.prototype.os_type="",m.prototype.sdk_version="",m.prototype.time_offset=D.Long?D.Long.fromBits(0,0,!1):0,m.prototype.scenario=0,m.create=function(p){return new m(p)},m.encode=function(p,u){return u||(u=v.create()),p.version!=null&&Object.hasOwnProperty.call(p,"version")&&u.uint32(8).uint32(p.version),p.signature!=null&&Object.hasOwnProperty.call(p,"signature")&&u.uint32(18).bytes(p.signature),p.timestamp!=null&&Object.hasOwnProperty.call(p,"timestamp")&&u.uint32(24).uint32(p.timestamp),p.event!=null&&Object.hasOwnProperty.call(p,"event")&&u.uint32(32).uint32(p.event),p.app_id!=null&&Object.hasOwnProperty.call(p,"app_id")&&u.uint32(40).uint32(p.app_id),p.user_id!=null&&Object.hasOwnProperty.call(p,"user_id")&&u.uint32(50).string(p.user_id),p.biz_type!=null&&Object.hasOwnProperty.call(p,"biz_type")&&u.uint32(56).uint32(p.biz_type),p.device_id!=null&&Object.hasOwnProperty.call(p,"device_id")&&u.uint32(66).string(p.device_id),p.lite_sign!=null&&Object.hasOwnProperty.call(p,"lite_sign")&&u.uint32(74).bytes(p.lite_sign),p.token!=null&&Object.hasOwnProperty.call(p,"token")&&u.uint32(82).bytes(p.token),p.os_type!=null&&Object.hasOwnProperty.call(p,"os_type")&&u.uint32(90).string(p.os_type),p.sdk_version!=null&&Object.hasOwnProperty.call(p,"sdk_version")&&u.uint32(98).string(p.sdk_version),p.time_offset!=null&&Object.hasOwnProperty.call(p,"time_offset")&&u.uint32(104).int64(p.time_offset),p.scenario!=null&&Object.hasOwnProperty.call(p,"scenario")&&u.uint32(112).uint32(p.scenario),u},m.ProtoVersion=(I={},(Q=Object.create(I))[I[0]="PROTO_VERSION"]=0,Q[I[1]="PROTO_VERSION1"]=1,Q[I[2]="PROTO_VERSION2"]=2,Q[I[3]="PROTO_VERSION3"]=3,Q[I[4]="PROTO_VERSION4"]=4,Q[I[5]="PROTO_VERSION5"]=5,Q[I[6]="PROTO_VERSION6"]=6,Q[I[7]="PROTO_VERSION7"]=7,Q[I[8]="PROTO_VERSION8"]=8,Q[I[9]="PROTO_VERSION9"]=9,Q[I[10]="PROTO_VERSION10"]=10,Q[I[11]="PROTO_VERSION11"]=11,Q[I[12]="PROTO_VERSION12"]=12,Q[I[13]="PROTO_VERSION13"]=13,Q[I[14]="PROTO_VERSION14"]=14,Q),m.Event=function(){var p={},u=Object.create(p);return u[p[0]="QUALITY_EVENT"]=0,u[p[100]="NO_BILLING_EVENT"]=100,u[p[300]="DETECT_QUALITY_EVENT"]=300,u}(),m.BizType=function(){var p={},u=Object.create(p);return u[p[0]="UNKNOWN"]=0,u[p[1]="LIVE"]=1,u[p[2]="RTV"]=2,u}(),m.ZegoScenario=function(){var p={},u=Object.create(p);return u[p[0]="ZEGO_SCENARIO_GENERAL"]=0,u[p[1]="ZEGO_SCENARIO_COMMUNICATION"]=1,u[p[2]="ZEGO_SCENARIO_LIVE"]=2,u[p[3]="ZEGO_SCENARIO_DEFAULT"]=3,u[p[4]="ZEGO_SCENARIO_STANDARD_VIDEO_CALL"]=4,u[p[5]="ZEGO_SCENARIO_HIGH_QUALITY_VIDEO_CALL"]=5,u[p[6]="ZEGO_SCENARIO_STANDARD_CHATROOM"]=6,u[p[7]="ZEGO_SCENARIO_HIGH_QUALITY_CHATROOM"]=7,u[p[8]="ZEGO_SCENARIO_BROADCAST"]=8,u[p[9]="ZEGO_SCENARIO_KARAOKE"]=9,u[p[99]="ZEGO_SCENARIO_UNDEFINED"]=99,u}(),m}(),f.SpeedLogRsp=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.code=0,m.prototype.message="",m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=v.create()),I.code!=null&&Object.hasOwnProperty.call(I,"code")&&Q.uint32(8).uint32(I.code),I.message!=null&&Object.hasOwnProperty.call(I,"message")&&Q.uint32(18).string(I.message),Q},m}(),f.QualityEvent=function(){function m(p){if(this.publish_quality_infos=[],this.play_quality_infos=[],p)for(var u=Object.keys(p),y=0;y<u.length;++y)p[u[y]]!=null&&(this[u[y]]=p[u[y]])}var I,Q;return m.prototype.hardware_infos=null,m.prototype.publish_quality_infos=D.emptyArray,m.prototype.play_quality_infos=D.emptyArray,m.prototype.network_type=0,m.prototype.charge_infos=null,m.prototype.server_time=D.Long?D.Long.fromBits(0,0,!1):0,m.prototype.client_type=0,m.create=function(p){return new m(p)},m.encode=function(p,u){if(u||(u=v.create()),p.hardware_infos!=null&&Object.hasOwnProperty.call(p,"hardware_infos")&&_.logreport.HardwareInfos.encode(p.hardware_infos,u.uint32(10).fork()).ldelim(),p.publish_quality_infos!=null&&p.publish_quality_infos.length)for(var y=0;y<p.publish_quality_infos.length;++y)_.logreport.PublishQualityInfos.encode(p.publish_quality_infos[y],u.uint32(18).fork()).ldelim();if(p.play_quality_infos!=null&&p.play_quality_infos.length)for(y=0;y<p.play_quality_infos.length;++y)_.logreport.PlayQualityInfos.encode(p.play_quality_infos[y],u.uint32(26).fork()).ldelim();return p.network_type!=null&&Object.hasOwnProperty.call(p,"network_type")&&u.uint32(32).uint32(p.network_type),p.charge_infos!=null&&Object.hasOwnProperty.call(p,"charge_infos")&&_.logreport.ChargeInfos.encode(p.charge_infos,u.uint32(42).fork()).ldelim(),p.server_time!=null&&Object.hasOwnProperty.call(p,"server_time")&&u.uint32(48).int64(p.server_time),p.client_type!=null&&Object.hasOwnProperty.call(p,"client_type")&&u.uint32(800).uint32(p.client_type),u},m.ResourceType=(I={},(Q=Object.create(I))[I[0]="UNKNOWN"]=0,Q[I[1]="CDN"]=1,Q[I[2]="RTC"]=2,Q[I[3]="L3"]=3,Q[I[4]="P2P"]=4,Q),m}(),f.HardwareInfos=function(){function m(I){if(this.infos=[],I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.timestamp_offset_begin=0,m.prototype.timestamp_offset_end=0,m.prototype.infos=D.emptyArray,m.prototype.sys_mem_total=0,m.create=function(I){return new m(I)},m.encode=function(I,Q){if(Q||(Q=v.create()),I.timestamp_offset_begin!=null&&Object.hasOwnProperty.call(I,"timestamp_offset_begin")&&Q.uint32(8).uint32(I.timestamp_offset_begin),I.timestamp_offset_end!=null&&Object.hasOwnProperty.call(I,"timestamp_offset_end")&&Q.uint32(16).uint32(I.timestamp_offset_end),I.infos!=null&&I.infos.length)for(var p=0;p<I.infos.length;++p)_.logreport.HardwareInfo.encode(I.infos[p],Q.uint32(26).fork()).ldelim();return I.sys_mem_total!=null&&Object.hasOwnProperty.call(I,"sys_mem_total")&&Q.uint32(32).uint32(I.sys_mem_total),Q},m}(),f.PublishQualityInfos=function(){function m(I){if(this.infos=[],I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.timestamp_offset_begin=0,m.prototype.timestamp_offset_end=0,m.prototype.stream_id="",m.prototype.session_id=0,m.prototype.video_width=0,m.prototype.video_height=0,m.prototype.ipv4=0,m.prototype.ipv6="",m.prototype.resource_type=0,m.prototype.infos=D.emptyArray,m.prototype.room_id="",m.prototype.evnvironment=0,m.prototype.ap="",m.prototype.session="",m.prototype.room_session_id=D.Long?D.Long.fromBits(0,0,!0):0,m.prototype.protocol_type=0,m.prototype.setting_video_bitrate=0,m.prototype.setting_audio_bitrate=0,m.prototype.setting_video_fps=0,m.create=function(I){return new m(I)},m.encode=function(I,Q){if(Q||(Q=v.create()),I.timestamp_offset_begin!=null&&Object.hasOwnProperty.call(I,"timestamp_offset_begin")&&Q.uint32(8).uint32(I.timestamp_offset_begin),I.timestamp_offset_end!=null&&Object.hasOwnProperty.call(I,"timestamp_offset_end")&&Q.uint32(16).uint32(I.timestamp_offset_end),I.stream_id!=null&&Object.hasOwnProperty.call(I,"stream_id")&&Q.uint32(26).string(I.stream_id),I.session_id!=null&&Object.hasOwnProperty.call(I,"session_id")&&Q.uint32(32).uint32(I.session_id),I.video_width!=null&&Object.hasOwnProperty.call(I,"video_width")&&Q.uint32(40).uint32(I.video_width),I.video_height!=null&&Object.hasOwnProperty.call(I,"video_height")&&Q.uint32(48).uint32(I.video_height),I.ipv4!=null&&Object.hasOwnProperty.call(I,"ipv4")&&Q.uint32(56).uint32(I.ipv4),I.ipv6!=null&&Object.hasOwnProperty.call(I,"ipv6")&&Q.uint32(66).string(I.ipv6),I.resource_type!=null&&Object.hasOwnProperty.call(I,"resource_type")&&Q.uint32(72).uint32(I.resource_type),I.infos!=null&&I.infos.length)for(var p=0;p<I.infos.length;++p)_.logreport.PublishQualityInfo.encode(I.infos[p],Q.uint32(82).fork()).ldelim();return I.room_id!=null&&Object.hasOwnProperty.call(I,"room_id")&&Q.uint32(90).string(I.room_id),I.evnvironment!=null&&Object.hasOwnProperty.call(I,"evnvironment")&&Q.uint32(104).uint32(I.evnvironment),I.ap!=null&&Object.hasOwnProperty.call(I,"ap")&&Q.uint32(114).string(I.ap),I.session!=null&&Object.hasOwnProperty.call(I,"session")&&Q.uint32(122).string(I.session),I.room_session_id!=null&&Object.hasOwnProperty.call(I,"room_session_id")&&Q.uint32(128).uint64(I.room_session_id),I.protocol_type!=null&&Object.hasOwnProperty.call(I,"protocol_type")&&Q.uint32(136).uint32(I.protocol_type),I.setting_video_bitrate!=null&&Object.hasOwnProperty.call(I,"setting_video_bitrate")&&Q.uint32(144).uint32(I.setting_video_bitrate),I.setting_audio_bitrate!=null&&Object.hasOwnProperty.call(I,"setting_audio_bitrate")&&Q.uint32(152).uint32(I.setting_audio_bitrate),I.setting_video_fps!=null&&Object.hasOwnProperty.call(I,"setting_video_fps")&&Q.uint32(160).uint32(I.setting_video_fps),Q},m}(),f.PlayQualityInfos=function(){function m(I){if(this.infos=[],I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.timestamp_offset_begin=0,m.prototype.timestamp_offset_end=0,m.prototype.stream_id="",m.prototype.session_id=0,m.prototype.video_width=0,m.prototype.video_height=0,m.prototype.ipv4=0,m.prototype.ipv6="",m.prototype.resource_type=0,m.prototype.infos=D.emptyArray,m.prototype.room_id="",m.prototype.session="",m.prototype.room_session_id=D.Long?D.Long.fromBits(0,0,!0):0,m.prototype.protocol_type=0,m.prototype.product=0,m.create=function(I){return new m(I)},m.encode=function(I,Q){if(Q||(Q=v.create()),I.timestamp_offset_begin!=null&&Object.hasOwnProperty.call(I,"timestamp_offset_begin")&&Q.uint32(8).uint32(I.timestamp_offset_begin),I.timestamp_offset_end!=null&&Object.hasOwnProperty.call(I,"timestamp_offset_end")&&Q.uint32(16).uint32(I.timestamp_offset_end),I.stream_id!=null&&Object.hasOwnProperty.call(I,"stream_id")&&Q.uint32(26).string(I.stream_id),I.session_id!=null&&Object.hasOwnProperty.call(I,"session_id")&&Q.uint32(32).uint32(I.session_id),I.video_width!=null&&Object.hasOwnProperty.call(I,"video_width")&&Q.uint32(40).uint32(I.video_width),I.video_height!=null&&Object.hasOwnProperty.call(I,"video_height")&&Q.uint32(48).uint32(I.video_height),I.ipv4!=null&&Object.hasOwnProperty.call(I,"ipv4")&&Q.uint32(56).uint32(I.ipv4),I.ipv6!=null&&Object.hasOwnProperty.call(I,"ipv6")&&Q.uint32(66).string(I.ipv6),I.resource_type!=null&&Object.hasOwnProperty.call(I,"resource_type")&&Q.uint32(72).uint32(I.resource_type),I.infos!=null&&I.infos.length)for(var p=0;p<I.infos.length;++p)_.logreport.PlayQualityInfo.encode(I.infos[p],Q.uint32(82).fork()).ldelim();return I.room_id!=null&&Object.hasOwnProperty.call(I,"room_id")&&Q.uint32(90).string(I.room_id),I.session!=null&&Object.hasOwnProperty.call(I,"session")&&Q.uint32(106).string(I.session),I.room_session_id!=null&&Object.hasOwnProperty.call(I,"room_session_id")&&Q.uint32(112).uint64(I.room_session_id),I.protocol_type!=null&&Object.hasOwnProperty.call(I,"protocol_type")&&Q.uint32(120).uint32(I.protocol_type),I.product!=null&&Object.hasOwnProperty.call(I,"product")&&Q.uint32(128).uint32(I.product),Q},m}(),f.ChargeInfos=function(){function m(I){if(this.infos=[],I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.timestamp_offset_begin=0,m.prototype.timestamp_offset_end=0,m.prototype.timestamp_diff_flag=0,m.prototype.timestamp_diff=0,m.prototype.room_id="",m.prototype.infos=D.emptyArray,m.create=function(I){return new m(I)},m.encode=function(I,Q){if(Q||(Q=v.create()),I.timestamp_offset_begin!=null&&Object.hasOwnProperty.call(I,"timestamp_offset_begin")&&Q.uint32(8).uint32(I.timestamp_offset_begin),I.timestamp_offset_end!=null&&Object.hasOwnProperty.call(I,"timestamp_offset_end")&&Q.uint32(16).uint32(I.timestamp_offset_end),I.timestamp_diff_flag!=null&&Object.hasOwnProperty.call(I,"timestamp_diff_flag")&&Q.uint32(24).uint32(I.timestamp_diff_flag),I.timestamp_diff!=null&&Object.hasOwnProperty.call(I,"timestamp_diff")&&Q.uint32(32).uint32(I.timestamp_diff),I.room_id!=null&&Object.hasOwnProperty.call(I,"room_id")&&Q.uint32(42).string(I.room_id),I.infos!=null&&I.infos.length)for(var p=0;p<I.infos.length;++p)_.logreport.ChargeInfo.encode(I.infos[p],Q.uint32(802).fork()).ldelim();return Q},m}(),f.HardwareInfo=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.sys_cpu_used=0,m.prototype.app_cpu_used=0,m.prototype.sys_mem_used=0,m.prototype.app_mem_used=0,m.prototype.sample_time_offset=0,m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=v.create()),I.sys_cpu_used!=null&&Object.hasOwnProperty.call(I,"sys_cpu_used")&&Q.uint32(8).uint32(I.sys_cpu_used),I.app_cpu_used!=null&&Object.hasOwnProperty.call(I,"app_cpu_used")&&Q.uint32(16).uint32(I.app_cpu_used),I.sys_mem_used!=null&&Object.hasOwnProperty.call(I,"sys_mem_used")&&Q.uint32(24).uint32(I.sys_mem_used),I.app_mem_used!=null&&Object.hasOwnProperty.call(I,"app_mem_used")&&Q.uint32(32).uint32(I.app_mem_used),I.sample_time_offset!=null&&Object.hasOwnProperty.call(I,"sample_time_offset")&&Q.uint32(40).uint32(I.sample_time_offset),Q},m}(),f.PublishQualityInfo=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.audio_bitrate=0,m.prototype.video_bitrate=0,m.prototype.video_capture_fps=0,m.prototype.video_network_fps=0,m.prototype.uplink_plr=0,m.prototype.rtt=0,m.prototype.audio_network_fps=0,m.prototype.captured_sound_level=0,m.prototype.quality=0,m.prototype.sample_time_offset=0,m.prototype.sample_time_window=0,m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=v.create()),I.audio_bitrate!=null&&Object.hasOwnProperty.call(I,"audio_bitrate")&&Q.uint32(8).uint32(I.audio_bitrate),I.video_bitrate!=null&&Object.hasOwnProperty.call(I,"video_bitrate")&&Q.uint32(16).uint32(I.video_bitrate),I.video_capture_fps!=null&&Object.hasOwnProperty.call(I,"video_capture_fps")&&Q.uint32(24).uint32(I.video_capture_fps),I.video_network_fps!=null&&Object.hasOwnProperty.call(I,"video_network_fps")&&Q.uint32(32).uint32(I.video_network_fps),I.uplink_plr!=null&&Object.hasOwnProperty.call(I,"uplink_plr")&&Q.uint32(40).uint32(I.uplink_plr),I.rtt!=null&&Object.hasOwnProperty.call(I,"rtt")&&Q.uint32(48).uint32(I.rtt),I.audio_network_fps!=null&&Object.hasOwnProperty.call(I,"audio_network_fps")&&Q.uint32(56).uint32(I.audio_network_fps),I.captured_sound_level!=null&&Object.hasOwnProperty.call(I,"captured_sound_level")&&Q.uint32(64).uint32(I.captured_sound_level),I.quality!=null&&Object.hasOwnProperty.call(I,"quality")&&Q.uint32(72).uint32(I.quality),I.sample_time_offset!=null&&Object.hasOwnProperty.call(I,"sample_time_offset")&&Q.uint32(80).uint32(I.sample_time_offset),I.sample_time_window!=null&&Object.hasOwnProperty.call(I,"sample_time_window")&&Q.uint32(800).uint32(I.sample_time_window),Q},m}(),f.PlayQualityInfo=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.audio_bitrate=0,m.prototype.video_bitrate=0,m.prototype.video_network_fps=0,m.prototype.audio_break_count=0,m.prototype.video_break_count=0,m.prototype.downlink_plr=0,m.prototype.peer_to_peer_plr=0,m.prototype.peer_to_peer_delay=0,m.prototype.audio_network_fps=0,m.prototype.audio_break_duration=0,m.prototype.video_break_duration=0,m.prototype.audio_break_rate=0,m.prototype.video_break_rate=0,m.prototype.audio_break_cancel=0,m.prototype.video_break_cancel=0,m.prototype.rtt=0,m.prototype.rendered_sound_level=0,m.prototype.audio_break_cancel_duration=0,m.prototype.video_break_cancel_duration=0,m.prototype.audio_decode_time=0,m.prototype.video_decode_time=0,m.prototype.real_sampling_interval=0,m.prototype.mos=0,m.prototype.audio_decode_fps=0,m.prototype.video_decode_fps=0,m.prototype.video_frames_decoded=0,m.prototype.video_frames_dropped=0,m.prototype.quality=0,m.prototype.evaluation_quality=0,m.prototype.break_stat_duration=0,m.prototype.sample_time_offset=0,m.prototype.sample_time_window=0,m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=v.create()),I.audio_bitrate!=null&&Object.hasOwnProperty.call(I,"audio_bitrate")&&Q.uint32(8).uint32(I.audio_bitrate),I.video_bitrate!=null&&Object.hasOwnProperty.call(I,"video_bitrate")&&Q.uint32(16).uint32(I.video_bitrate),I.video_network_fps!=null&&Object.hasOwnProperty.call(I,"video_network_fps")&&Q.uint32(24).uint32(I.video_network_fps),I.audio_break_count!=null&&Object.hasOwnProperty.call(I,"audio_break_count")&&Q.uint32(32).uint32(I.audio_break_count),I.video_break_count!=null&&Object.hasOwnProperty.call(I,"video_break_count")&&Q.uint32(40).uint32(I.video_break_count),I.downlink_plr!=null&&Object.hasOwnProperty.call(I,"downlink_plr")&&Q.uint32(48).uint32(I.downlink_plr),I.peer_to_peer_plr!=null&&Object.hasOwnProperty.call(I,"peer_to_peer_plr")&&Q.uint32(56).uint32(I.peer_to_peer_plr),I.peer_to_peer_delay!=null&&Object.hasOwnProperty.call(I,"peer_to_peer_delay")&&Q.uint32(64).uint32(I.peer_to_peer_delay),I.audio_network_fps!=null&&Object.hasOwnProperty.call(I,"audio_network_fps")&&Q.uint32(72).uint32(I.audio_network_fps),I.audio_break_duration!=null&&Object.hasOwnProperty.call(I,"audio_break_duration")&&Q.uint32(80).uint32(I.audio_break_duration),I.video_break_duration!=null&&Object.hasOwnProperty.call(I,"video_break_duration")&&Q.uint32(88).uint32(I.video_break_duration),I.audio_break_rate!=null&&Object.hasOwnProperty.call(I,"audio_break_rate")&&Q.uint32(96).uint32(I.audio_break_rate),I.video_break_rate!=null&&Object.hasOwnProperty.call(I,"video_break_rate")&&Q.uint32(104).uint32(I.video_break_rate),I.audio_break_cancel!=null&&Object.hasOwnProperty.call(I,"audio_break_cancel")&&Q.uint32(112).uint32(I.audio_break_cancel),I.video_break_cancel!=null&&Object.hasOwnProperty.call(I,"video_break_cancel")&&Q.uint32(120).uint32(I.video_break_cancel),I.rtt!=null&&Object.hasOwnProperty.call(I,"rtt")&&Q.uint32(128).uint32(I.rtt),I.rendered_sound_level!=null&&Object.hasOwnProperty.call(I,"rendered_sound_level")&&Q.uint32(136).uint32(I.rendered_sound_level),I.audio_break_cancel_duration!=null&&Object.hasOwnProperty.call(I,"audio_break_cancel_duration")&&Q.uint32(144).uint32(I.audio_break_cancel_duration),I.video_break_cancel_duration!=null&&Object.hasOwnProperty.call(I,"video_break_cancel_duration")&&Q.uint32(152).uint32(I.video_break_cancel_duration),I.audio_decode_time!=null&&Object.hasOwnProperty.call(I,"audio_decode_time")&&Q.uint32(160).uint32(I.audio_decode_time),I.video_decode_time!=null&&Object.hasOwnProperty.call(I,"video_decode_time")&&Q.uint32(168).uint32(I.video_decode_time),I.real_sampling_interval!=null&&Object.hasOwnProperty.call(I,"real_sampling_interval")&&Q.uint32(176).uint32(I.real_sampling_interval),I.mos!=null&&Object.hasOwnProperty.call(I,"mos")&&Q.uint32(184).int32(I.mos),I.audio_decode_fps!=null&&Object.hasOwnProperty.call(I,"audio_decode_fps")&&Q.uint32(192).uint32(I.audio_decode_fps),I.video_decode_fps!=null&&Object.hasOwnProperty.call(I,"video_decode_fps")&&Q.uint32(200).uint32(I.video_decode_fps),I.video_frames_decoded!=null&&Object.hasOwnProperty.call(I,"video_frames_decoded")&&Q.uint32(208).uint32(I.video_frames_decoded),I.video_frames_dropped!=null&&Object.hasOwnProperty.call(I,"video_frames_dropped")&&Q.uint32(216).uint32(I.video_frames_dropped),I.quality!=null&&Object.hasOwnProperty.call(I,"quality")&&Q.uint32(224).int32(I.quality),I.evaluation_quality!=null&&Object.hasOwnProperty.call(I,"evaluation_quality")&&Q.uint32(232).int32(I.evaluation_quality),I.break_stat_duration!=null&&Object.hasOwnProperty.call(I,"break_stat_duration")&&Q.uint32(240).uint32(I.break_stat_duration),I.sample_time_offset!=null&&Object.hasOwnProperty.call(I,"sample_time_offset")&&Q.uint32(248).uint32(I.sample_time_offset),I.sample_time_window!=null&&Object.hasOwnProperty.call(I,"sample_time_window")&&Q.uint32(800).uint32(I.sample_time_window),Q},m}(),f.ChargeInfo=function(){function m(I){if(this.play_stream_resolution_infos=[],I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.is_publishing=0,m.prototype.play_stream_resolution_infos=D.emptyArray,m.prototype.play_max_audio_bitrate=0,m.prototype.no_playing=0,m.prototype.p2p_charge_info=null,m.prototype.sample_time_offset=0,m.create=function(I){return new m(I)},m.encode=function(I,Q){if(Q||(Q=v.create()),I.is_publishing!=null&&Object.hasOwnProperty.call(I,"is_publishing")&&Q.uint32(8).uint32(I.is_publishing),I.play_stream_resolution_infos!=null&&I.play_stream_resolution_infos.length)for(var p=0;p<I.play_stream_resolution_infos.length;++p)_.logreport.ResolutionInfo.encode(I.play_stream_resolution_infos[p],Q.uint32(18).fork()).ldelim();return I.play_max_audio_bitrate!=null&&Object.hasOwnProperty.call(I,"play_max_audio_bitrate")&&Q.uint32(24).uint32(I.play_max_audio_bitrate),I.no_playing!=null&&Object.hasOwnProperty.call(I,"no_playing")&&Q.uint32(32).uint32(I.no_playing),I.p2p_charge_info!=null&&Object.hasOwnProperty.call(I,"p2p_charge_info")&&_.logreport.P2PChargeInfo.encode(I.p2p_charge_info,Q.uint32(42).fork()).ldelim(),I.sample_time_offset!=null&&Object.hasOwnProperty.call(I,"sample_time_offset")&&Q.uint32(48).uint32(I.sample_time_offset),Q},m}(),f.ResolutionInfo=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.video_width=0,m.prototype.video_height=0,m.prototype.count=0,m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=v.create()),I.video_width!=null&&Object.hasOwnProperty.call(I,"video_width")&&Q.uint32(8).uint32(I.video_width),I.video_height!=null&&Object.hasOwnProperty.call(I,"video_height")&&Q.uint32(16).uint32(I.video_height),I.count!=null&&Object.hasOwnProperty.call(I,"count")&&Q.uint32(24).uint32(I.count),Q},m}(),f.P2PChargeInfo=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.media_inc=D.Long?D.Long.fromBits(0,0,!0):0,m.prototype.data_inc=D.Long?D.Long.fromBits(0,0,!0):0,m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=v.create()),I.media_inc!=null&&Object.hasOwnProperty.call(I,"media_inc")&&Q.uint32(8).uint64(I.media_inc),I.data_inc!=null&&Object.hasOwnProperty.call(I,"data_inc")&&Q.uint32(16).uint64(I.data_inc),Q},m}(),f.NoBillingEvent=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.platform_info="",m.prototype.room_id="",m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=v.create()),I.platform_info!=null&&Object.hasOwnProperty.call(I,"platform_info")&&Q.uint32(10).string(I.platform_info),I.room_id!=null&&Object.hasOwnProperty.call(I,"room_id")&&Q.uint32(18).string(I.room_id),Q},m}(),f.DynQualityEvent=function(){function m(I){if(this.dyn_quality_infos=[],I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.seq_no="",m.prototype.num=0,m.prototype.dyn_quality_infos=D.emptyArray,m.prototype.device_id="",m.prototype.latitude=0,m.prototype.longitude=0,m.prototype.country="",m.prototype.region="",m.prototype.city="",m.prototype.isp="",m.prototype.ve_mode=0,m.create=function(I){return new m(I)},m.encode=function(I,Q){if(Q||(Q=v.create()),I.seq_no!=null&&Object.hasOwnProperty.call(I,"seq_no")&&Q.uint32(10).string(I.seq_no),I.num!=null&&Object.hasOwnProperty.call(I,"num")&&Q.uint32(16).uint32(I.num),I.dyn_quality_infos!=null&&I.dyn_quality_infos.length)for(var p=0;p<I.dyn_quality_infos.length;++p)_.logreport.DynQualityInfos.encode(I.dyn_quality_infos[p],Q.uint32(26).fork()).ldelim();return I.device_id!=null&&Object.hasOwnProperty.call(I,"device_id")&&Q.uint32(34).string(I.device_id),I.latitude!=null&&Object.hasOwnProperty.call(I,"latitude")&&Q.uint32(40).uint32(I.latitude),I.longitude!=null&&Object.hasOwnProperty.call(I,"longitude")&&Q.uint32(48).uint32(I.longitude),I.country!=null&&Object.hasOwnProperty.call(I,"country")&&Q.uint32(58).string(I.country),I.region!=null&&Object.hasOwnProperty.call(I,"region")&&Q.uint32(66).string(I.region),I.city!=null&&Object.hasOwnProperty.call(I,"city")&&Q.uint32(74).string(I.city),I.isp!=null&&Object.hasOwnProperty.call(I,"isp")&&Q.uint32(82).string(I.isp),I.ve_mode!=null&&Object.hasOwnProperty.call(I,"ve_mode")&&Q.uint32(88).uint32(I.ve_mode),Q},m}(),f.DynQualityInfos=function(){function m(I){if(this.infos=[],I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.timestamp_offset_begin=D.Long?D.Long.fromBits(0,0,!0):0,m.prototype.timestamp_offset_end=D.Long?D.Long.fromBits(0,0,!0):0,m.prototype.server_ip="",m.prototype.infos=D.emptyArray,m.prototype.network_type=0,m.prototype.stream_id="",m.create=function(I){return new m(I)},m.encode=function(I,Q){if(Q||(Q=v.create()),I.timestamp_offset_begin!=null&&Object.hasOwnProperty.call(I,"timestamp_offset_begin")&&Q.uint32(8).uint64(I.timestamp_offset_begin),I.timestamp_offset_end!=null&&Object.hasOwnProperty.call(I,"timestamp_offset_end")&&Q.uint32(16).uint64(I.timestamp_offset_end),I.server_ip!=null&&Object.hasOwnProperty.call(I,"server_ip")&&Q.uint32(26).string(I.server_ip),I.infos!=null&&I.infos.length)for(var p=0;p<I.infos.length;++p)_.logreport.DynQualityInfo.encode(I.infos[p],Q.uint32(34).fork()).ldelim();return I.network_type!=null&&Object.hasOwnProperty.call(I,"network_type")&&Q.uint32(40).uint32(I.network_type),I.stream_id!=null&&Object.hasOwnProperty.call(I,"stream_id")&&Q.uint32(50).string(I.stream_id),Q},m}(),f.DynQualityInfo=function(){function m(I){if(I)for(var Q=Object.keys(I),p=0;p<Q.length;++p)I[Q[p]]!=null&&(this[Q[p]]=I[Q[p]])}return m.prototype.time=D.Long?D.Long.fromBits(0,0,!0):0,m.prototype.plr=0,m.prototype.rtt=0,m.prototype.score=0,m.prototype.sample_time=0,m.create=function(I){return new m(I)},m.encode=function(I,Q){return Q||(Q=v.create()),I.time!=null&&Object.hasOwnProperty.call(I,"time")&&Q.uint32(8).uint64(I.time),I.plr!=null&&Object.hasOwnProperty.call(I,"plr")&&Q.uint32(16).uint32(I.plr),I.rtt!=null&&Object.hasOwnProperty.call(I,"rtt")&&Q.uint32(24).uint32(I.rtt),I.score!=null&&Object.hasOwnProperty.call(I,"score")&&Q.uint32(32).uint32(I.score),I.sample_time!=null&&Object.hasOwnProperty.call(I,"sample_time")&&Q.uint32(40).uint32(I.sample_time),Q},m}(),f),a.exports=_},6348:function(a,c,h){var f,B=h(2100),v=B.Reader,D=B.Writer,_=B.util,m=B.roots.default||(B.roots.default={});m.webrtc_cmd=((f={}).MetadataPush=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.width=0,I.prototype.height=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.width!=null&&Object.hasOwnProperty.call(Q,"width")&&p.uint32(8).uint32(Q.width),Q.height!=null&&Object.hasOwnProperty.call(Q,"height")&&p.uint32(16).uint32(Q.height),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.MetadataPush;Q.pos<u;){var N=Q.uint32();switch(N>>>3){case 1:y.width=Q.uint32();break;case 2:y.height=Q.uint32();break;default:Q.skipType(7&N)}}return y},I}(),f.MetadataAck=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.result=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.result!=null&&Object.hasOwnProperty.call(Q,"result")&&p.uint32(8).sint32(Q.result),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.MetadataAck;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.result=Q.sint32():Q.skipType(7&N)}return y},I}(),f.VideoStreamSubscribeReq=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.type=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.type!=null&&Object.hasOwnProperty.call(Q,"type")&&p.uint32(8).uint32(Q.type),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.VideoStreamSubscribeReq;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.type=Q.uint32():Q.skipType(7&N)}return y},I}(),f.VideoStreamSubscribeRsp=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.result=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.result!=null&&Object.hasOwnProperty.call(Q,"result")&&p.uint32(8).sint32(Q.result),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.VideoStreamSubscribeRsp;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.result=Q.sint32():Q.skipType(7&N)}return y},I}(),f.VideoStreamFallbackTypeReq=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.type=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.type!=null&&Object.hasOwnProperty.call(Q,"type")&&p.uint32(8).uint32(Q.type),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.VideoStreamFallbackTypeReq;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.type=Q.uint32():Q.skipType(7&N)}return y},I}(),f.VideoStreamFallbackTypeRsp=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.result=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.result!=null&&Object.hasOwnProperty.call(Q,"result")&&p.uint32(8).sint32(Q.result),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.VideoStreamFallbackTypeRsp;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.result=Q.sint32():Q.skipType(7&N)}return y},I}(),f.VideoStreamChangePush=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.change_type=0,I.prototype.video_type=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.change_type!=null&&Object.hasOwnProperty.call(Q,"change_type")&&p.uint32(8).uint32(Q.change_type),Q.video_type!=null&&Object.hasOwnProperty.call(Q,"video_type")&&p.uint32(16).uint32(Q.video_type),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.VideoStreamChangePush;Q.pos<u;){var N=Q.uint32();switch(N>>>3){case 1:y.change_type=Q.uint32();break;case 2:y.video_type=Q.uint32();break;default:Q.skipType(7&N)}}return y},I}(),f.VideoStreamChangeAck=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.result=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.result!=null&&Object.hasOwnProperty.call(Q,"result")&&p.uint32(8).sint32(Q.result),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.VideoStreamChangeAck;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.result=Q.sint32():Q.skipType(7&N)}return y},I}(),f.UserUnregisteredSEIFilterReq=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.sei_filter="",I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.sei_filter!=null&&Object.hasOwnProperty.call(Q,"sei_filter")&&p.uint32(10).string(Q.sei_filter),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.UserUnregisteredSEIFilterReq;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.sei_filter=Q.string():Q.skipType(7&N)}return y},I}(),f.UserUnregisteredSEIFilterRsp=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.result=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.result!=null&&Object.hasOwnProperty.call(Q,"result")&&p.uint32(8).sint32(Q.result),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.UserUnregisteredSEIFilterRsp;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.result=Q.sint32():Q.skipType(7&N)}return y},I}(),f.NetQualityGradeReq=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.tx_quality=0,I.prototype.rx_quality=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.tx_quality!=null&&Object.hasOwnProperty.call(Q,"tx_quality")&&p.uint32(8).sint32(Q.tx_quality),Q.rx_quality!=null&&Object.hasOwnProperty.call(Q,"rx_quality")&&p.uint32(16).sint32(Q.rx_quality),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.NetQualityGradeReq;Q.pos<u;){var N=Q.uint32();switch(N>>>3){case 1:y.tx_quality=Q.sint32();break;case 2:y.rx_quality=Q.sint32();break;default:Q.skipType(7&N)}}return y},I}(),f.NetQualityGradeRsp=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.result=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.result!=null&&Object.hasOwnProperty.call(Q,"result")&&p.uint32(8).sint32(Q.result),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.NetQualityGradeRsp;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.result=Q.sint32():Q.skipType(7&N)}return y},I}(),f.NetQualityGradePush=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.tx_quality=0,I.prototype.rx_quality=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.tx_quality!=null&&Object.hasOwnProperty.call(Q,"tx_quality")&&p.uint32(8).sint32(Q.tx_quality),Q.rx_quality!=null&&Object.hasOwnProperty.call(Q,"rx_quality")&&p.uint32(16).sint32(Q.rx_quality),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.NetQualityGradePush;Q.pos<u;){var N=Q.uint32();switch(N>>>3){case 1:y.tx_quality=Q.sint32();break;case 2:y.rx_quality=Q.sint32();break;default:Q.skipType(7&N)}}return y},I}(),f.NetQualityGradeAck=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.result=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.result!=null&&Object.hasOwnProperty.call(Q,"result")&&p.uint32(8).sint32(Q.result),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.NetQualityGradeAck;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.result=Q.sint32():Q.skipType(7&N)}return y},I}(),f.PeerExtendParams=function(){function I(p){if(p)for(var u=Object.keys(p),y=0;y<u.length;++y)p[u[y]]!=null&&(this[u[y]]=p[u[y]])}var Q;return I.prototype.keyframe_intv=0,I.prototype.min_play_buf_level_ms=0,I.prototype.tc_type=0,I.prototype.video_content_type=0,I.prototype.sei_filter_pass=0,I.prototype.client_class_type=0,I.prototype.video_stream_type=null,I.prototype.ktv_device_delay=0,I.prototype.sync_ntp=0,Object.defineProperty(I.prototype,"stream_type",{get:_.oneOfGetter(Q=["video_stream_type"]),set:_.oneOfSetter(Q)}),I.create=function(p){return new I(p)},I.encode=function(p,u){return u||(u=D.create()),p.keyframe_intv!=null&&Object.hasOwnProperty.call(p,"keyframe_intv")&&u.uint32(8).sint32(p.keyframe_intv),p.min_play_buf_level_ms!=null&&Object.hasOwnProperty.call(p,"min_play_buf_level_ms")&&u.uint32(16).sint32(p.min_play_buf_level_ms),p.tc_type!=null&&Object.hasOwnProperty.call(p,"tc_type")&&u.uint32(24).sint32(p.tc_type),p.video_content_type!=null&&Object.hasOwnProperty.call(p,"video_content_type")&&u.uint32(32).sint32(p.video_content_type),p.sei_filter_pass!=null&&Object.hasOwnProperty.call(p,"sei_filter_pass")&&u.uint32(40).sint32(p.sei_filter_pass),p.client_class_type!=null&&Object.hasOwnProperty.call(p,"client_class_type")&&u.uint32(48).sint32(p.client_class_type),p.video_stream_type!=null&&Object.hasOwnProperty.call(p,"video_stream_type")&&u.uint32(56).sint32(p.video_stream_type),p.ktv_device_delay!=null&&Object.hasOwnProperty.call(p,"ktv_device_delay")&&u.uint32(64).sint32(p.ktv_device_delay),p.sync_ntp!=null&&Object.hasOwnProperty.call(p,"sync_ntp")&&u.uint32(72).sint32(p.sync_ntp),u},I.decode=function(p,u){p instanceof v||(p=v.create(p));for(var y=u===void 0?p.len:p.pos+u,N=new m.webrtc_cmd.PeerExtendParams;p.pos<y;){var U=p.uint32();switch(U>>>3){case 1:N.keyframe_intv=p.sint32();break;case 2:N.min_play_buf_level_ms=p.sint32();break;case 3:N.tc_type=p.sint32();break;case 4:N.video_content_type=p.sint32();break;case 5:N.sei_filter_pass=p.sint32();break;case 6:N.client_class_type=p.sint32();break;case 7:N.video_stream_type=p.sint32();break;case 8:N.ktv_device_delay=p.sint32();break;case 9:N.sync_ntp=p.sint32();break;default:p.skipType(7&U)}}return N},I}(),f.StreamPropertyUpdate=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.enable_stream_alignment_when_mix=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.enable_stream_alignment_when_mix!=null&&Object.hasOwnProperty.call(Q,"enable_stream_alignment_when_mix")&&p.uint32(8).sint32(Q.enable_stream_alignment_when_mix),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.StreamPropertyUpdate;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.enable_stream_alignment_when_mix=Q.sint32():Q.skipType(7&N)}return y},I}(),f.StreamPropertyUpdateAck=function(){function I(Q){if(Q)for(var p=Object.keys(Q),u=0;u<p.length;++u)Q[p[u]]!=null&&(this[p[u]]=Q[p[u]])}return I.prototype.result=0,I.create=function(Q){return new I(Q)},I.encode=function(Q,p){return p||(p=D.create()),Q.result!=null&&Object.hasOwnProperty.call(Q,"result")&&p.uint32(8).sint32(Q.result),p},I.decode=function(Q,p){Q instanceof v||(Q=v.create(Q));for(var u=p===void 0?Q.len:Q.pos+p,y=new m.webrtc_cmd.StreamPropertyUpdateAck;Q.pos<u;){var N=Q.uint32();N>>>3==1?y.result=Q.sint32():Q.skipType(7&N)}return y},I}(),f.WebrtcCmdReqMsg=function(){function I(p){if(p)for(var u=Object.keys(p),y=0;y<u.length;++y)p[u[y]]!=null&&(this[u[y]]=p[u[y]])}var Q;return I.prototype.meta_data_push=null,I.prototype.video_stream_sub=null,I.prototype.video_fallback_type=null,I.prototype.video_change_push=null,I.prototype.usr_sei_filter=null,I.prototype.net_quality_grade=null,I.prototype.net_quality_grade_push=null,I.prototype.peer_extend_param=null,I.prototype.stream_property_update=null,Object.defineProperty(I.prototype,"body",{get:_.oneOfGetter(Q=["meta_data_push","video_stream_sub","video_fallback_type","video_change_push","usr_sei_filter","net_quality_grade","net_quality_grade_push","peer_extend_param","stream_property_update"]),set:_.oneOfSetter(Q)}),I.create=function(p){return new I(p)},I.encode=function(p,u){return u||(u=D.create()),p.meta_data_push!=null&&Object.hasOwnProperty.call(p,"meta_data_push")&&m.webrtc_cmd.MetadataPush.encode(p.meta_data_push,u.uint32(10).fork()).ldelim(),p.video_stream_sub!=null&&Object.hasOwnProperty.call(p,"video_stream_sub")&&m.webrtc_cmd.VideoStreamSubscribeReq.encode(p.video_stream_sub,u.uint32(18).fork()).ldelim(),p.video_fallback_type!=null&&Object.hasOwnProperty.call(p,"video_fallback_type")&&m.webrtc_cmd.VideoStreamFallbackTypeReq.encode(p.video_fallback_type,u.uint32(26).fork()).ldelim(),p.video_change_push!=null&&Object.hasOwnProperty.call(p,"video_change_push")&&m.webrtc_cmd.VideoStreamChangePush.encode(p.video_change_push,u.uint32(34).fork()).ldelim(),p.usr_sei_filter!=null&&Object.hasOwnProperty.call(p,"usr_sei_filter")&&m.webrtc_cmd.UserUnregisteredSEIFilterReq.encode(p.usr_sei_filter,u.uint32(42).fork()).ldelim(),p.net_quality_grade!=null&&Object.hasOwnProperty.call(p,"net_quality_grade")&&m.webrtc_cmd.NetQualityGradeReq.encode(p.net_quality_grade,u.uint32(50).fork()).ldelim(),p.net_quality_grade_push!=null&&Object.hasOwnProperty.call(p,"net_quality_grade_push")&&m.webrtc_cmd.NetQualityGradePush.encode(p.net_quality_grade_push,u.uint32(58).fork()).ldelim(),p.peer_extend_param!=null&&Object.hasOwnProperty.call(p,"peer_extend_param")&&m.webrtc_cmd.PeerExtendParams.encode(p.peer_extend_param,u.uint32(66).fork()).ldelim(),p.stream_property_update!=null&&Object.hasOwnProperty.call(p,"stream_property_update")&&m.webrtc_cmd.StreamPropertyUpdate.encode(p.stream_property_update,u.uint32(74).fork()).ldelim(),u},I.decode=function(p,u){p instanceof v||(p=v.create(p));for(var y=u===void 0?p.len:p.pos+u,N=new m.webrtc_cmd.WebrtcCmdReqMsg;p.pos<y;){var U=p.uint32();switch(U>>>3){case 1:N.meta_data_push=m.webrtc_cmd.MetadataPush.decode(p,p.uint32());break;case 2:N.video_stream_sub=m.webrtc_cmd.VideoStreamSubscribeReq.decode(p,p.uint32());break;case 3:N.video_fallback_type=m.webrtc_cmd.VideoStreamFallbackTypeReq.decode(p,p.uint32());break;case 4:N.video_change_push=m.webrtc_cmd.VideoStreamChangePush.decode(p,p.uint32());break;case 5:N.usr_sei_filter=m.webrtc_cmd.UserUnregisteredSEIFilterReq.decode(p,p.uint32());break;case 6:N.net_quality_grade=m.webrtc_cmd.NetQualityGradeReq.decode(p,p.uint32());break;case 7:N.net_quality_grade_push=m.webrtc_cmd.NetQualityGradePush.decode(p,p.uint32());break;case 8:N.peer_extend_param=m.webrtc_cmd.PeerExtendParams.decode(p,p.uint32());break;case 9:N.stream_property_update=m.webrtc_cmd.StreamPropertyUpdate.decode(p,p.uint32());break;default:p.skipType(7&U)}}return N},I}(),f.WebrtcCmdRspMsg=function(){function I(p){if(p)for(var u=Object.keys(p),y=0;y<u.length;++y)p[u[y]]!=null&&(this[u[y]]=p[u[y]])}var Q;return I.prototype.meta_data_ack=null,I.prototype.video_stream_sub=null,I.prototype.video_fallback_type=null,I.prototype.video_change_ack=null,I.prototype.usr_sei_filter=null,I.prototype.net_quality_grade=null,I.prototype.net_quality_grade_ack=null,I.prototype.stream_property_update_ack=null,Object.defineProperty(I.prototype,"body",{get:_.oneOfGetter(Q=["meta_data_ack","video_stream_sub","video_fallback_type","video_change_ack","usr_sei_filter","net_quality_grade","net_quality_grade_ack","stream_property_update_ack"]),set:_.oneOfSetter(Q)}),I.create=function(p){return new I(p)},I.encode=function(p,u){return u||(u=D.create()),p.meta_data_ack!=null&&Object.hasOwnProperty.call(p,"meta_data_ack")&&m.webrtc_cmd.MetadataAck.encode(p.meta_data_ack,u.uint32(10).fork()).ldelim(),p.video_stream_sub!=null&&Object.hasOwnProperty.call(p,"video_stream_sub")&&m.webrtc_cmd.VideoStreamSubscribeRsp.encode(p.video_stream_sub,u.uint32(18).fork()).ldelim(),p.video_fallback_type!=null&&Object.hasOwnProperty.call(p,"video_fallback_type")&&m.webrtc_cmd.VideoStreamFallbackTypeRsp.encode(p.video_fallback_type,u.uint32(26).fork()).ldelim(),p.video_change_ack!=null&&Object.hasOwnProperty.call(p,"video_change_ack")&&m.webrtc_cmd.VideoStreamChangeAck.encode(p.video_change_ack,u.uint32(34).fork()).ldelim(),p.usr_sei_filter!=null&&Object.hasOwnProperty.call(p,"usr_sei_filter")&&m.webrtc_cmd.UserUnregisteredSEIFilterRsp.encode(p.usr_sei_filter,u.uint32(42).fork()).ldelim(),p.net_quality_grade!=null&&Object.hasOwnProperty.call(p,"net_quality_grade")&&m.webrtc_cmd.NetQualityGradeRsp.encode(p.net_quality_grade,u.uint32(50).fork()).ldelim(),p.net_quality_grade_ack!=null&&Object.hasOwnProperty.call(p,"net_quality_grade_ack")&&m.webrtc_cmd.NetQualityGradeAck.encode(p.net_quality_grade_ack,u.uint32(58).fork()).ldelim(),p.stream_property_update_ack!=null&&Object.hasOwnProperty.call(p,"stream_property_update_ack")&&m.webrtc_cmd.StreamPropertyUpdateAck.encode(p.stream_property_update_ack,u.uint32(66).fork()).ldelim(),u},I.decode=function(p,u){p instanceof v||(p=v.create(p));for(var y=u===void 0?p.len:p.pos+u,N=new m.webrtc_cmd.WebrtcCmdRspMsg;p.pos<y;){var U=p.uint32();switch(U>>>3){case 1:N.meta_data_ack=m.webrtc_cmd.MetadataAck.decode(p,p.uint32());break;case 2:N.video_stream_sub=m.webrtc_cmd.VideoStreamSubscribeRsp.decode(p,p.uint32());break;case 3:N.video_fallback_type=m.webrtc_cmd.VideoStreamFallbackTypeRsp.decode(p,p.uint32());break;case 4:N.video_change_ack=m.webrtc_cmd.VideoStreamChangeAck.decode(p,p.uint32());break;case 5:N.usr_sei_filter=m.webrtc_cmd.UserUnregisteredSEIFilterRsp.decode(p,p.uint32());break;case 6:N.net_quality_grade=m.webrtc_cmd.NetQualityGradeRsp.decode(p,p.uint32());break;case 7:N.net_quality_grade_ack=m.webrtc_cmd.NetQualityGradeAck.decode(p,p.uint32());break;case 8:N.stream_property_update_ack=m.webrtc_cmd.StreamPropertyUpdateAck.decode(p,p.uint32());break;default:p.skipType(7&U)}}return N},I}(),f),a.exports=m},4212:function(a,c,h){var f,B,v,D=h(2100),_=D.Reader,m=D.Writer,I=D.util,Q=D.roots.default||(D.roots.default={});Q.webrtc_proto_v2=((v={}).CmdType=(f={},(B=Object.create(f))[f[0]="NONE"]=0,B[f[1]="LOGIN_REQ"]=1,B[f[2]="LOGIN_RSP"]=2,B[f[3]="CREATE_SESSION_REQ"]=3,B[f[4]="CREATE_SESSION_RSP"]=4,B[f[5]="CREATE_SESSION_WITH_SDP_REQ"]=5,B[f[6]="CREATE_SESSION_WITH_SDP_RSP"]=6,B[f[7]="SESSION_RESET_PUSH"]=7,B[f[8]="SESSION_RESET_ACK"]=8,B[f[9]="PUBLISH_EVENT_PUSH"]=9,B[f[10]="PLAY_EVENT_PUSH"]=10,B[f[11]="MEDIA_DESC_REQ"]=11,B[f[12]="MEDIA_DESC_RSP"]=12,B[f[13]="CANDIDATE_INFO_REQ"]=13,B[f[14]="CANDIDATE_INFO_RSP"]=14,B[f[15]="CLOSE_SESSION_REQ"]=15,B[f[16]="CLOSE_SESSION_RSP"]=16,B[f[17]="MEDIA_DESC_PUSH"]=17,B[f[18]="MEDIA_DESC_ACK"]=18,B[f[19]="CANDIDATE_INFO_PUSH"]=19,B[f[20]="CANDIDATE_INFO_ACK"]=20,B[f[21]="CLOSE_SESSION_PUSH"]=21,B[f[22]="CLOSE_SESSION_ACK"]=22,B[f[23]="STREAM_STATUS_NOTIFY"]=23,B[f[24]="STREAM_STATUS_NOTIFY_ACK"]=24,B[f[25]="STREAM_STATUS_NOTIFY_PUSH"]=25,B[f[26]="STREAM_STATUS_NOTIFY_PUSH_ACK"]=26,B[f[27]="BROADCASTER_STATUS_NOTIFY"]=27,B[f[28]="BROADCASTER_STATUS_ACK"]=28,B[f[29]="ACTIVATE_AUDIO_PLAY_STREAM_REQ"]=29,B[f[30]="ACTIVATE_AUDIO_PLAY_STREAM_RSP"]=30,B[f[31]="ACTIVATE_VIDEO_PLAY_STREAM_REQ"]=31,B[f[32]="ACTIVATE_VIDEO_PLAY_STREAM_RSP"]=32,B[f[33]="CLIENT_INFO_PUSH"]=33,B[f[34]="CLIENT_INFO_ACK"]=34,B[f[35]="NET_QUALITY_PROBE_REQ"]=35,B[f[36]="NET_QUALITY_PROBE_RSP"]=36,B[f[37]="NET_QUALITY_INFO_PUSH"]=37,B[f[38]="NET_QUALITY_INFO_ACK"]=38,B[f[39]="ACTIVATE_SEI_INSERT_REQ"]=39,B[f[40]="ACTIVATE_SEI_INSERT_RSP"]=40,B[f[41]="PEER2_PEER_NET_STATS_GET_REQ"]=41,B[f[42]="PEER2_PEER_NET_STATS_GET_RSP"]=42,B[f[43]="CMD_REQ"]=43,B[f[44]="CMD_RSP"]=44,B[f[45]="CMD_PUSH"]=45,B[f[46]="CMD_ACK"]=46,B[f[47]="WEBRTC_DISPATCH_REQ"]=47,B[f[48]="WEBRTC_DISPATCH_RSP"]=48,B),v.Head=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.cmd=0,p.prototype.seq=0,p.prototype.session_id=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.cmd!=null&&Object.hasOwnProperty.call(u,"cmd")&&y.uint32(8).uint32(u.cmd),u.seq!=null&&Object.hasOwnProperty.call(u,"seq")&&y.uint32(16).uint32(u.seq),u.session_id!=null&&Object.hasOwnProperty.call(u,"session_id")&&y.uint32(24).uint32(u.session_id),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.Head;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.cmd=u.uint32();break;case 2:U.seq=u.uint32();break;case 3:U.session_id=u.uint32();break;default:u.skipType(7&q)}}return U},p}(),v.SessionInfo=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.session_id=0,p.prototype.session_token="",p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.session_id!=null&&Object.hasOwnProperty.call(u,"session_id")&&y.uint32(8).uint32(u.session_id),u.session_token!=null&&Object.hasOwnProperty.call(u,"session_token")&&y.uint32(18).string(u.session_token),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.SessionInfo;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.session_id=u.uint32();break;case 2:U.session_token=u.string();break;default:u.skipType(7&q)}}return U},p}(),v.LoginReq=function(){function p(u){if(this.sessions=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.appid=0,p.prototype.user_id="",p.prototype.tokenType=0,p.prototype.token="",p.prototype.sessions=I.emptyArray,p.prototype.roomid="",p.prototype.sdk_version=0,p.prototype.app="",p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.appid!=null&&Object.hasOwnProperty.call(u,"appid")&&y.uint32(8).uint32(u.appid),u.user_id!=null&&Object.hasOwnProperty.call(u,"user_id")&&y.uint32(18).string(u.user_id),u.tokenType!=null&&Object.hasOwnProperty.call(u,"tokenType")&&y.uint32(24).int32(u.tokenType),u.token!=null&&Object.hasOwnProperty.call(u,"token")&&y.uint32(34).string(u.token),u.sessions!=null&&u.sessions.length)for(var N=0;N<u.sessions.length;++N)Q.webrtc_proto_v2.SessionInfo.encode(u.sessions[N],y.uint32(42).fork()).ldelim();return u.roomid!=null&&Object.hasOwnProperty.call(u,"roomid")&&y.uint32(50).string(u.roomid),u.sdk_version!=null&&Object.hasOwnProperty.call(u,"sdk_version")&&y.uint32(56).uint32(u.sdk_version),u.app!=null&&Object.hasOwnProperty.call(u,"app")&&y.uint32(66).string(u.app),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.LoginReq;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.appid=u.uint32();break;case 2:U.user_id=u.string();break;case 3:U.tokenType=u.int32();break;case 4:U.token=u.string();break;case 5:U.sessions&&U.sessions.length||(U.sessions=[]),U.sessions.push(Q.webrtc_proto_v2.SessionInfo.decode(u,u.uint32()));break;case 6:U.roomid=u.string();break;case 7:U.sdk_version=u.uint32();break;case 8:U.app=u.string();break;default:u.skipType(7&q)}}return U},p}(),v.LoginRsp=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.prototype.tokenType=0,p.prototype.token="",p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).int32(u.result),u.tokenType!=null&&Object.hasOwnProperty.call(u,"tokenType")&&y.uint32(16).int32(u.tokenType),u.token!=null&&Object.hasOwnProperty.call(u,"token")&&y.uint32(26).string(u.token),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.LoginRsp;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.result=u.int32();break;case 2:U.tokenType=u.int32();break;case 3:U.token=u.string();break;default:u.skipType(7&q)}}return U},p}(),v.CreateSessionReq=function(){function p(u){if(this.area_id_list=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.type=0,p.prototype.stream_id="",p.prototype.turn_server_host="",p.prototype.roomid="",p.prototype.strAuthParam="",p.prototype.params="",p.prototype.area_type=0,p.prototype.area_id_list=I.emptyArray,p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.type!=null&&Object.hasOwnProperty.call(u,"type")&&y.uint32(8).sint32(u.type),u.stream_id!=null&&Object.hasOwnProperty.call(u,"stream_id")&&y.uint32(18).string(u.stream_id),u.turn_server_host!=null&&Object.hasOwnProperty.call(u,"turn_server_host")&&y.uint32(26).string(u.turn_server_host),u.roomid!=null&&Object.hasOwnProperty.call(u,"roomid")&&y.uint32(34).string(u.roomid),u.strAuthParam!=null&&Object.hasOwnProperty.call(u,"strAuthParam")&&y.uint32(42).string(u.strAuthParam),u.params!=null&&Object.hasOwnProperty.call(u,"params")&&y.uint32(50).string(u.params),u.area_type!=null&&Object.hasOwnProperty.call(u,"area_type")&&y.uint32(56).int32(u.area_type),u.area_id_list!=null&&u.area_id_list.length){y.uint32(66).fork();for(var N=0;N<u.area_id_list.length;++N)y.int32(u.area_id_list[N]);y.ldelim()}return y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CreateSessionReq;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.type=u.sint32();break;case 2:U.stream_id=u.string();break;case 3:U.turn_server_host=u.string();break;case 4:U.roomid=u.string();break;case 5:U.strAuthParam=u.string();break;case 6:U.params=u.string();break;case 7:U.area_type=u.int32();break;case 8:if(U.area_id_list&&U.area_id_list.length||(U.area_id_list=[]),(7&q)==2)for(var te=u.uint32()+u.pos;u.pos<te;)U.area_id_list.push(u.int32());else U.area_id_list.push(u.int32());break;default:u.skipType(7&q)}}return U},p}(),v.CreateSessionRsp=function(){function p(u){if(this.gw_nodes=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.prototype.turn_server="",p.prototype.turn_username="",p.prototype.turn_auth_key="",p.prototype.session_id=0,p.prototype.session_token="",p.prototype.gw_version=0,p.prototype.gw_nodes=I.emptyArray,p.prototype.gw_nodes_ttl=0,p.prototype.client_ip="",p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),u.turn_server!=null&&Object.hasOwnProperty.call(u,"turn_server")&&y.uint32(18).string(u.turn_server),u.turn_username!=null&&Object.hasOwnProperty.call(u,"turn_username")&&y.uint32(26).string(u.turn_username),u.turn_auth_key!=null&&Object.hasOwnProperty.call(u,"turn_auth_key")&&y.uint32(34).string(u.turn_auth_key),u.session_id!=null&&Object.hasOwnProperty.call(u,"session_id")&&y.uint32(40).uint32(u.session_id),u.session_token!=null&&Object.hasOwnProperty.call(u,"session_token")&&y.uint32(50).string(u.session_token),u.gw_version!=null&&Object.hasOwnProperty.call(u,"gw_version")&&y.uint32(56).uint32(u.gw_version),u.gw_nodes!=null&&u.gw_nodes.length)for(var N=0;N<u.gw_nodes.length;++N)y.uint32(66).string(u.gw_nodes[N]);return u.gw_nodes_ttl!=null&&Object.hasOwnProperty.call(u,"gw_nodes_ttl")&&y.uint32(72).uint32(u.gw_nodes_ttl),u.client_ip!=null&&Object.hasOwnProperty.call(u,"client_ip")&&y.uint32(82).string(u.client_ip),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CreateSessionRsp;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.result=u.sint32();break;case 2:U.turn_server=u.string();break;case 3:U.turn_username=u.string();break;case 4:U.turn_auth_key=u.string();break;case 5:U.session_id=u.uint32();break;case 6:U.session_token=u.string();break;case 7:U.gw_version=u.uint32();break;case 8:U.gw_nodes&&U.gw_nodes.length||(U.gw_nodes=[]),U.gw_nodes.push(u.string());break;case 9:U.gw_nodes_ttl=u.uint32();break;case 10:U.client_ip=u.string();break;default:u.skipType(7&q)}}return U},p}(),v.CreateSessionWithSdpReq=function(){function p(u){if(this.area_id_list=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.type=0,p.prototype.stream_id="",p.prototype.sdp="",p.prototype.mini_sdp=I.newBuffer([]),p.prototype.media_server_host="",p.prototype.strAuthParam="",p.prototype.roomid="",p.prototype.params="",p.prototype.params_ext=I.newBuffer([]),p.prototype.area_type=0,p.prototype.area_id_list=I.emptyArray,p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.type!=null&&Object.hasOwnProperty.call(u,"type")&&y.uint32(8).sint32(u.type),u.stream_id!=null&&Object.hasOwnProperty.call(u,"stream_id")&&y.uint32(18).string(u.stream_id),u.sdp!=null&&Object.hasOwnProperty.call(u,"sdp")&&y.uint32(26).string(u.sdp),u.mini_sdp!=null&&Object.hasOwnProperty.call(u,"mini_sdp")&&y.uint32(34).bytes(u.mini_sdp),u.media_server_host!=null&&Object.hasOwnProperty.call(u,"media_server_host")&&y.uint32(42).string(u.media_server_host),u.strAuthParam!=null&&Object.hasOwnProperty.call(u,"strAuthParam")&&y.uint32(50).string(u.strAuthParam),u.roomid!=null&&Object.hasOwnProperty.call(u,"roomid")&&y.uint32(58).string(u.roomid),u.params!=null&&Object.hasOwnProperty.call(u,"params")&&y.uint32(66).string(u.params),u.params_ext!=null&&Object.hasOwnProperty.call(u,"params_ext")&&y.uint32(74).bytes(u.params_ext),u.area_type!=null&&Object.hasOwnProperty.call(u,"area_type")&&y.uint32(80).int32(u.area_type),u.area_id_list!=null&&u.area_id_list.length){y.uint32(90).fork();for(var N=0;N<u.area_id_list.length;++N)y.int32(u.area_id_list[N]);y.ldelim()}return y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CreateSessionWithSdpReq;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.type=u.sint32();break;case 2:U.stream_id=u.string();break;case 3:U.sdp=u.string();break;case 4:U.mini_sdp=u.bytes();break;case 5:U.media_server_host=u.string();break;case 6:U.strAuthParam=u.string();break;case 7:U.roomid=u.string();break;case 8:U.params=u.string();break;case 9:U.params_ext=u.bytes();break;case 10:U.area_type=u.int32();break;case 11:if(U.area_id_list&&U.area_id_list.length||(U.area_id_list=[]),(7&q)==2)for(var te=u.uint32()+u.pos;u.pos<te;)U.area_id_list.push(u.int32());else U.area_id_list.push(u.int32());break;default:u.skipType(7&q)}}return U},p}(),v.CreateSessionWithSdpRsp=function(){function p(u){if(this.gw_nodes=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.prototype.gw_version=0,p.prototype.sdp="",p.prototype.mini_sdp=I.newBuffer([]),p.prototype.session_token="",p.prototype.gw_nodes=I.emptyArray,p.prototype.gw_nodes_ttl=0,p.prototype.client_ip="",p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),u.gw_version!=null&&Object.hasOwnProperty.call(u,"gw_version")&&y.uint32(16).uint32(u.gw_version),u.sdp!=null&&Object.hasOwnProperty.call(u,"sdp")&&y.uint32(26).string(u.sdp),u.mini_sdp!=null&&Object.hasOwnProperty.call(u,"mini_sdp")&&y.uint32(34).bytes(u.mini_sdp),u.session_token!=null&&Object.hasOwnProperty.call(u,"session_token")&&y.uint32(42).string(u.session_token),u.gw_nodes!=null&&u.gw_nodes.length)for(var N=0;N<u.gw_nodes.length;++N)y.uint32(50).string(u.gw_nodes[N]);return u.gw_nodes_ttl!=null&&Object.hasOwnProperty.call(u,"gw_nodes_ttl")&&y.uint32(56).uint32(u.gw_nodes_ttl),u.client_ip!=null&&Object.hasOwnProperty.call(u,"client_ip")&&y.uint32(66).string(u.client_ip),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CreateSessionWithSdpRsp;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.result=u.sint32();break;case 2:U.gw_version=u.uint32();break;case 3:U.sdp=u.string();break;case 4:U.mini_sdp=u.bytes();break;case 5:U.session_token=u.string();break;case 6:U.gw_nodes&&U.gw_nodes.length||(U.gw_nodes=[]),U.gw_nodes.push(u.string());break;case 7:U.gw_nodes_ttl=u.uint32();break;case 8:U.client_ip=u.string();break;default:u.skipType(7&q)}}return U},p}(),v.SessionResetPush=function(){function p(u){if(this.session_ids=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.dwTimeStamp=0,p.prototype.cResetType=0,p.prototype.session_ids=I.emptyArray,p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.dwTimeStamp!=null&&Object.hasOwnProperty.call(u,"dwTimeStamp")&&y.uint32(8).uint32(u.dwTimeStamp),u.cResetType!=null&&Object.hasOwnProperty.call(u,"cResetType")&&y.uint32(16).uint32(u.cResetType),u.session_ids!=null&&u.session_ids.length){y.uint32(26).fork();for(var N=0;N<u.session_ids.length;++N)y.uint32(u.session_ids[N]);y.ldelim()}return y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.SessionResetPush;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.dwTimeStamp=u.uint32();break;case 2:U.cResetType=u.uint32();break;case 3:if(U.session_ids&&U.session_ids.length||(U.session_ids=[]),(7&q)==2)for(var te=u.uint32()+u.pos;u.pos<te;)U.session_ids.push(u.uint32());else U.session_ids.push(u.uint32());break;default:u.skipType(7&q)}}return U},p}(),v.SessionResetAck=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.SessionResetAck;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.PublishEventPush=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.event=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.event!=null&&Object.hasOwnProperty.call(u,"event")&&y.uint32(8).sint32(u.event),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.PublishEventPush;u.pos<N;){var q=u.uint32();q>>>3==1?U.event=u.sint32():u.skipType(7&q)}return U},p}(),v.PlayEventPush=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.event=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.event!=null&&Object.hasOwnProperty.call(u,"event")&&y.uint32(8).sint32(u.event),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.PlayEventPush;u.pos<N;){var q=u.uint32();q>>>3==1?U.event=u.sint32():u.skipType(7&q)}return U},p}(),v.MediaDescReq=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.type=0,p.prototype.update=0,p.prototype.sdp="",p.prototype.mini_sdp=I.newBuffer([]),p.prototype.params_ext=I.newBuffer([]),p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.type!=null&&Object.hasOwnProperty.call(u,"type")&&y.uint32(8).uint32(u.type),u.update!=null&&Object.hasOwnProperty.call(u,"update")&&y.uint32(16).uint32(u.update),u.sdp!=null&&Object.hasOwnProperty.call(u,"sdp")&&y.uint32(26).string(u.sdp),u.mini_sdp!=null&&Object.hasOwnProperty.call(u,"mini_sdp")&&y.uint32(34).bytes(u.mini_sdp),u.params_ext!=null&&Object.hasOwnProperty.call(u,"params_ext")&&y.uint32(42).bytes(u.params_ext),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.MediaDescReq;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.type=u.uint32();break;case 2:U.update=u.uint32();break;case 3:U.sdp=u.string();break;case 4:U.mini_sdp=u.bytes();break;case 5:U.params_ext=u.bytes();break;default:u.skipType(7&q)}}return U},p}(),v.MediaDescRsp=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.prototype.sdp="",p.prototype.mini_sdp=I.newBuffer([]),p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),u.sdp!=null&&Object.hasOwnProperty.call(u,"sdp")&&y.uint32(18).string(u.sdp),u.mini_sdp!=null&&Object.hasOwnProperty.call(u,"mini_sdp")&&y.uint32(26).bytes(u.mini_sdp),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.MediaDescRsp;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.result=u.sint32();break;case 2:U.sdp=u.string();break;case 3:U.mini_sdp=u.bytes();break;default:u.skipType(7&q)}}return U},p}(),v.OneCandidateInfo=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.candidate="",p.prototype.sdpMid="",p.prototype.sdpMLineIndex=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.candidate!=null&&Object.hasOwnProperty.call(u,"candidate")&&y.uint32(10).string(u.candidate),u.sdpMid!=null&&Object.hasOwnProperty.call(u,"sdpMid")&&y.uint32(18).string(u.sdpMid),u.sdpMLineIndex!=null&&Object.hasOwnProperty.call(u,"sdpMLineIndex")&&y.uint32(24).sint32(u.sdpMLineIndex),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.OneCandidateInfo;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.candidate=u.string();break;case 2:U.sdpMid=u.string();break;case 3:U.sdpMLineIndex=u.sint32();break;default:u.skipType(7&q)}}return U},p}(),v.CandidateInfoReq=function(){function p(u){if(this.infos=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.infos=I.emptyArray,p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.infos!=null&&u.infos.length)for(var N=0;N<u.infos.length;++N)Q.webrtc_proto_v2.OneCandidateInfo.encode(u.infos[N],y.uint32(10).fork()).ldelim();return y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CandidateInfoReq;u.pos<N;){var q=u.uint32();q>>>3==1?(U.infos&&U.infos.length||(U.infos=[]),U.infos.push(Q.webrtc_proto_v2.OneCandidateInfo.decode(u,u.uint32()))):u.skipType(7&q)}return U},p}(),v.CandidateInfoRsp=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CandidateInfoRsp;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.CloseSessionReq=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.reason=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.reason!=null&&Object.hasOwnProperty.call(u,"reason")&&y.uint32(8).sint32(u.reason),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CloseSessionReq;u.pos<N;){var q=u.uint32();q>>>3==1?U.reason=u.sint32():u.skipType(7&q)}return U},p}(),v.CloseSessionRsp=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CloseSessionRsp;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.MediaDescPush=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.type=0,p.prototype.sdp="",p.prototype.mini_sdp=I.newBuffer([]),p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.type!=null&&Object.hasOwnProperty.call(u,"type")&&y.uint32(8).uint32(u.type),u.sdp!=null&&Object.hasOwnProperty.call(u,"sdp")&&y.uint32(18).string(u.sdp),u.mini_sdp!=null&&Object.hasOwnProperty.call(u,"mini_sdp")&&y.uint32(26).bytes(u.mini_sdp),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.MediaDescPush;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.type=u.uint32();break;case 2:U.sdp=u.string();break;case 3:U.mini_sdp=u.bytes();break;default:u.skipType(7&q)}}return U},p}(),v.MediaDescAck=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.MediaDescAck;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.CandidateInfoPush=function(){function p(u){if(this.infos=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.infos=I.emptyArray,p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.infos!=null&&u.infos.length)for(var N=0;N<u.infos.length;++N)Q.webrtc_proto_v2.OneCandidateInfo.encode(u.infos[N],y.uint32(10).fork()).ldelim();return y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CandidateInfoPush;u.pos<N;){var q=u.uint32();q>>>3==1?(U.infos&&U.infos.length||(U.infos=[]),U.infos.push(Q.webrtc_proto_v2.OneCandidateInfo.decode(u,u.uint32()))):u.skipType(7&q)}return U},p}(),v.CandidateInfoAck=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CandidateInfoAck;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.IpPort=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.Ip="",p.prototype.Port=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.Ip!=null&&Object.hasOwnProperty.call(u,"Ip")&&y.uint32(10).string(u.Ip),u.Port!=null&&Object.hasOwnProperty.call(u,"Port")&&y.uint32(16).uint32(u.Port),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.IpPort;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.Ip=u.string();break;case 2:U.Port=u.uint32();break;default:u.skipType(7&q)}}return U},p}(),v.CloseSessionPush=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.reason=0,p.prototype.err_info="",p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.reason!=null&&Object.hasOwnProperty.call(u,"reason")&&y.uint32(8).sint32(u.reason),u.err_info!=null&&Object.hasOwnProperty.call(u,"err_info")&&y.uint32(18).string(u.err_info),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CloseSessionPush;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.reason=u.sint32();break;case 2:U.err_info=u.string();break;default:u.skipType(7&q)}}return U},p}(),v.DenyInfo=function(){function p(u){if(this.ins=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.action=0,p.prototype.err=0,p.prototype.ins=I.emptyArray,p.prototype.action_delay=0,p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.action!=null&&Object.hasOwnProperty.call(u,"action")&&y.uint32(8).uint32(u.action),u.err!=null&&Object.hasOwnProperty.call(u,"err")&&y.uint32(16).uint32(u.err),u.ins!=null&&u.ins.length)for(var N=0;N<u.ins.length;++N)Q.webrtc_proto_v2.IpPort.encode(u.ins[N],y.uint32(26).fork()).ldelim();return u.action_delay!=null&&Object.hasOwnProperty.call(u,"action_delay")&&y.uint32(32).uint32(u.action_delay),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.DenyInfo;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.action=u.uint32();break;case 2:U.err=u.uint32();break;case 3:U.ins&&U.ins.length||(U.ins=[]),U.ins.push(Q.webrtc_proto_v2.IpPort.decode(u,u.uint32()));break;case 4:U.action_delay=u.uint32();break;default:u.skipType(7&q)}}return U},p}(),v.CloseSessionAck=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CloseSessionAck;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.StreamStatusNotify=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.mic_status=0,p.prototype.camera_status=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.mic_status!=null&&Object.hasOwnProperty.call(u,"mic_status")&&y.uint32(8).sint32(u.mic_status),u.camera_status!=null&&Object.hasOwnProperty.call(u,"camera_status")&&y.uint32(16).sint32(u.camera_status),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.StreamStatusNotify;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.mic_status=u.sint32();break;case 2:U.camera_status=u.sint32();break;default:u.skipType(7&q)}}return U},p}(),v.StreamStatusNotifyAck=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.StreamStatusNotifyAck;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.StreamStatusNotifyPush=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.mic_status=0,p.prototype.camera_status=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.mic_status!=null&&Object.hasOwnProperty.call(u,"mic_status")&&y.uint32(8).sint32(u.mic_status),u.camera_status!=null&&Object.hasOwnProperty.call(u,"camera_status")&&y.uint32(16).sint32(u.camera_status),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.StreamStatusNotifyPush;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.mic_status=u.sint32();break;case 2:U.camera_status=u.sint32();break;default:u.skipType(7&q)}}return U},p}(),v.StreamStatusNotifyPushAck=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.StreamStatusNotifyPushAck;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.BroadcasterStatusNotify=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.status=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.status!=null&&Object.hasOwnProperty.call(u,"status")&&y.uint32(8).uint32(u.status),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.BroadcasterStatusNotify;u.pos<N;){var q=u.uint32();q>>>3==1?U.status=u.uint32():u.skipType(7&q)}return U},p}(),v.BroadcasterStatusAck=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.BroadcasterStatusAck;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.ActivateAudioPlayStreamReq=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.active=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.active!=null&&Object.hasOwnProperty.call(u,"active")&&y.uint32(8).sint32(u.active),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.ActivateAudioPlayStreamReq;u.pos<N;){var q=u.uint32();q>>>3==1?U.active=u.sint32():u.skipType(7&q)}return U},p}(),v.ActivateAudioPlayStreamRsp=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.ActivateAudioPlayStreamRsp;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.ActivateVideoPlayStreamReq=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.active=0,p.prototype.layer=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.active!=null&&Object.hasOwnProperty.call(u,"active")&&y.uint32(8).sint32(u.active),u.layer!=null&&Object.hasOwnProperty.call(u,"layer")&&y.uint32(16).sint32(u.layer),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.ActivateVideoPlayStreamReq;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.active=u.sint32();break;case 2:U.layer=u.sint32();break;default:u.skipType(7&q)}}return U},p}(),v.ActivateVideoPlayStreamRsp=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.ActivateVideoPlayStreamRsp;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.ClientInfoPush=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.client_ip="",p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.client_ip!=null&&Object.hasOwnProperty.call(u,"client_ip")&&y.uint32(18).string(u.client_ip),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.ClientInfoPush;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.client_ip=u.string();break;default:u.skipType(7&q)}}return U},p}(),v.ClientInfoAck=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.ClientInfoAck;u.pos<N;){var q=u.uint32();q>>>3==1?U.result=u.sint32():u.skipType(7&q)}return U},p}(),v.NetQualityProbeReq=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.action=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.action!=null&&Object.hasOwnProperty.call(u,"action")&&y.uint32(16).sint32(u.action),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.NetQualityProbeReq;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.action=u.sint32();break;default:u.skipType(7&q)}}return U},p}(),v.NetQualityProbeRsp=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(16).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.NetQualityProbeRsp;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.result=u.sint32();break;default:u.skipType(7&q)}}return U},p}(),v.NetQualityInfoPush=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.lossrate=0,p.prototype.rtt=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.lossrate!=null&&Object.hasOwnProperty.call(u,"lossrate")&&y.uint32(16).uint32(u.lossrate),u.rtt!=null&&Object.hasOwnProperty.call(u,"rtt")&&y.uint32(24).uint32(u.rtt),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.NetQualityInfoPush;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.lossrate=u.uint32();break;case 3:U.rtt=u.uint32();break;default:u.skipType(7&q)}}return U},p}(),v.NetQualityInfoAck=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(16).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.NetQualityInfoAck;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.result=u.sint32();break;default:u.skipType(7&q)}}return U},p}(),v.ActivateSEIInsertReq=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.action=0,p.prototype.info_type=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.action!=null&&Object.hasOwnProperty.call(u,"action")&&y.uint32(16).sint32(u.action),u.info_type!=null&&Object.hasOwnProperty.call(u,"info_type")&&y.uint32(24).uint32(u.info_type),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.ActivateSEIInsertReq;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.action=u.sint32();break;case 3:U.info_type=u.uint32();break;default:u.skipType(7&q)}}return U},p}(),v.ActivateSEIInsertRsp=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(16).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.ActivateSEIInsertRsp;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.result=u.sint32();break;default:u.skipType(7&q)}}return U},p}(),v.Peer2PeerNetStatsGetReq=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.Peer2PeerNetStatsGetReq;u.pos<N;){var q=u.uint32();q>>>3==1?U.peer_id=u.uint32():u.skipType(7&q)}return U},p}(),v.Peer2PeerNetStatsGetRsp=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.result=0,p.prototype.peer_id=0,p.prototype.p2p_lost_rate=0,p.prototype.p2p_rtt=0,p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(8).sint32(u.result),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(16).uint32(u.peer_id),u.p2p_lost_rate!=null&&Object.hasOwnProperty.call(u,"p2p_lost_rate")&&y.uint32(24).uint32(u.p2p_lost_rate),u.p2p_rtt!=null&&Object.hasOwnProperty.call(u,"p2p_rtt")&&y.uint32(32).uint32(u.p2p_rtt),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.Peer2PeerNetStatsGetRsp;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.result=u.sint32();break;case 2:U.peer_id=u.uint32();break;case 3:U.p2p_lost_rate=u.uint32();break;case 4:U.p2p_rtt=u.uint32();break;default:u.skipType(7&q)}}return U},p}(),v.CmdReq=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.cmd_id=0,p.prototype.body=I.newBuffer([]),p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.cmd_id!=null&&Object.hasOwnProperty.call(u,"cmd_id")&&y.uint32(16).uint32(u.cmd_id),u.body!=null&&Object.hasOwnProperty.call(u,"body")&&y.uint32(26).bytes(u.body),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CmdReq;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.cmd_id=u.uint32();break;case 3:U.body=u.bytes();break;default:u.skipType(7&q)}}return U},p}(),v.CmdRsp=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.cmd_id=0,p.prototype.body=I.newBuffer([]),p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.cmd_id!=null&&Object.hasOwnProperty.call(u,"cmd_id")&&y.uint32(16).uint32(u.cmd_id),u.body!=null&&Object.hasOwnProperty.call(u,"body")&&y.uint32(26).bytes(u.body),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CmdRsp;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.cmd_id=u.uint32();break;case 3:U.body=u.bytes();break;default:u.skipType(7&q)}}return U},p}(),v.CmdPush=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.cmd_id=0,p.prototype.body=I.newBuffer([]),p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.cmd_id!=null&&Object.hasOwnProperty.call(u,"cmd_id")&&y.uint32(16).uint32(u.cmd_id),u.body!=null&&Object.hasOwnProperty.call(u,"body")&&y.uint32(26).bytes(u.body),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CmdPush;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.cmd_id=u.uint32();break;case 3:U.body=u.bytes();break;default:u.skipType(7&q)}}return U},p}(),v.CmdAck=function(){function p(u){if(u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.peer_id=0,p.prototype.cmd_id=0,p.prototype.body=I.newBuffer([]),p.create=function(u){return new p(u)},p.encode=function(u,y){return y||(y=m.create()),u.peer_id!=null&&Object.hasOwnProperty.call(u,"peer_id")&&y.uint32(8).uint32(u.peer_id),u.cmd_id!=null&&Object.hasOwnProperty.call(u,"cmd_id")&&y.uint32(16).uint32(u.cmd_id),u.body!=null&&Object.hasOwnProperty.call(u,"body")&&y.uint32(26).bytes(u.body),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.CmdAck;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.peer_id=u.uint32();break;case 2:U.cmd_id=u.uint32();break;case 3:U.body=u.bytes();break;default:u.skipType(7&q)}}return U},p}(),v.WebRTCDispatchReq=function(){function p(u){if(this.area_id_list=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.type=0,p.prototype.stream_id="",p.prototype.area_type=0,p.prototype.area_id_list=I.emptyArray,p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.type!=null&&Object.hasOwnProperty.call(u,"type")&&y.uint32(8).sint32(u.type),u.stream_id!=null&&Object.hasOwnProperty.call(u,"stream_id")&&y.uint32(18).string(u.stream_id),u.area_type!=null&&Object.hasOwnProperty.call(u,"area_type")&&y.uint32(80).int32(u.area_type),u.area_id_list!=null&&u.area_id_list.length){y.uint32(90).fork();for(var N=0;N<u.area_id_list.length;++N)y.int32(u.area_id_list[N]);y.ldelim()}return y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.WebRTCDispatchReq;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.type=u.sint32();break;case 2:U.stream_id=u.string();break;case 10:U.area_type=u.int32();break;case 11:if(U.area_id_list&&U.area_id_list.length||(U.area_id_list=[]),(7&q)==2)for(var te=u.uint32()+u.pos;u.pos<te;)U.area_id_list.push(u.int32());else U.area_id_list.push(u.int32());break;default:u.skipType(7&q)}}return U},p}(),v.WebRTCDispatchRsp=function(){function p(u){if(this.gw_nodes=[],u)for(var y=Object.keys(u),N=0;N<y.length;++N)u[y[N]]!=null&&(this[y[N]]=u[y[N]])}return p.prototype.gw_nodes=I.emptyArray,p.prototype.gw_nodes_ttl=0,p.prototype.client_ip="",p.prototype.result=0,p.create=function(u){return new p(u)},p.encode=function(u,y){if(y||(y=m.create()),u.gw_nodes!=null&&u.gw_nodes.length)for(var N=0;N<u.gw_nodes.length;++N)y.uint32(10).string(u.gw_nodes[N]);return u.gw_nodes_ttl!=null&&Object.hasOwnProperty.call(u,"gw_nodes_ttl")&&y.uint32(16).uint32(u.gw_nodes_ttl),u.client_ip!=null&&Object.hasOwnProperty.call(u,"client_ip")&&y.uint32(26).string(u.client_ip),u.result!=null&&Object.hasOwnProperty.call(u,"result")&&y.uint32(32).sint32(u.result),y},p.decode=function(u,y){u instanceof _||(u=_.create(u));for(var N=y===void 0?u.len:u.pos+y,U=new Q.webrtc_proto_v2.WebRTCDispatchRsp;u.pos<N;){var q=u.uint32();switch(q>>>3){case 1:U.gw_nodes&&U.gw_nodes.length||(U.gw_nodes=[]),U.gw_nodes.push(u.string());break;case 2:U.gw_nodes_ttl=u.uint32();break;case 3:U.client_ip=u.string();break;case 4:U.result=u.sint32();break;default:u.skipType(7&q)}}return U},p}(),v),a.exports=Q},5515:function(a){a.exports=function(){function c(h,f,B){function v(m,I){if(!f[m]){if(!h[m]){if(D)return D(m,!0);var Q=new Error("Cannot find module '"+m+"'");throw Q.code="MODULE_NOT_FOUND",Q}var p=f[m]={exports:{}};h[m][0].call(p.exports,function(u){return v(h[m][1][u]||u)},p,p.exports,c,h,f,B)}return f[m].exports}for(var D=void 0,_=0;_<B.length;_++)v(B[_]);return v}return c}()({1:[function(c,h,f){var B=(0,c("./adapter_factory.js").adapterFactory)({window});h.exports=B},{"./adapter_factory.js":2}],2:[function(c,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.adapterFactory=p;var B=Q(c("./utils")),v=Q(c("./chrome/chrome_shim")),D=Q(c("./edge/edge_shim")),_=Q(c("./firefox/firefox_shim")),m=Q(c("./safari/safari_shim")),I=Q(c("./common_shim"));function Q(u){if(u&&u.__esModule)return u;var y={};if(u!=null)for(var N in u)Object.prototype.hasOwnProperty.call(u,N)&&(y[N]=u[N]);return y.default=u,y}function p(){var u=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).window,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},N=B.log,U=B.detectBrowser(u),q={browserDetails:U,commonShim:I,extractVersion:B.extractVersion,disableLog:B.disableLog,disableWarnings:B.disableWarnings};switch(U.browser){case"chrome":if(!v||!v.shimPeerConnection||!y.shimChrome)return N("Chrome shim is not included in this adapter release."),q;N("adapter.js shimming chrome."),q.browserShim=v,v.shimGetUserMedia(u),v.shimMediaStream(u),v.shimPeerConnection(u),v.shimOnTrack(u),v.shimAddTrackRemoveTrack(u),v.shimGetSendersWithDtmf(u),v.shimGetStats(u),v.shimSenderReceiverGetStats(u),v.fixNegotiationNeeded(u),I.shimRTCIceCandidate(u),I.shimConnectionState(u),I.shimMaxMessageSize(u),I.shimSendThrowTypeError(u),I.removeAllowExtmapMixed(u);break;case"firefox":if(!_||!_.shimPeerConnection||!y.shimFirefox)return N("Firefox shim is not included in this adapter release."),q;N("adapter.js shimming firefox."),q.browserShim=_,_.shimGetUserMedia(u),_.shimPeerConnection(u),_.shimOnTrack(u),_.shimRemoveStream(u),_.shimSenderGetStats(u),_.shimReceiverGetStats(u),_.shimRTCDataChannel(u),I.shimRTCIceCandidate(u),I.shimConnectionState(u),I.shimMaxMessageSize(u),I.shimSendThrowTypeError(u);break;case"edge":if(!D||!D.shimPeerConnection||!y.shimEdge)return N("MS edge shim is not included in this adapter release."),q;N("adapter.js shimming edge."),q.browserShim=D,D.shimGetUserMedia(u),D.shimGetDisplayMedia(u),D.shimPeerConnection(u),D.shimReplaceTrack(u),I.shimMaxMessageSize(u),I.shimSendThrowTypeError(u);break;case"safari":if(!m||!y.shimSafari)return N("Safari shim is not included in this adapter release."),q;N("adapter.js shimming safari."),q.browserShim=m,m.shimRTCIceServerUrls(u),m.shimCreateOfferLegacy(u),m.shimCallbacksAPI(u),m.shimLocalStreamsAPI(u),m.shimRemoteStreamsAPI(u),m.shimTrackEventTransceiver(u),m.shimGetUserMedia(u),I.shimRTCIceCandidate(u),I.shimMaxMessageSize(u),I.shimSendThrowTypeError(u),I.removeAllowExtmapMixed(u);break;default:N("Unsupported browser!")}return q}},{"./chrome/chrome_shim":3,"./common_shim":6,"./edge/edge_shim":7,"./firefox/firefox_shim":11,"./safari/safari_shim":14,"./utils":15}],3:[function(c,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.shimGetDisplayMedia=f.shimGetUserMedia=void 0;var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},v=c("./getusermedia");Object.defineProperty(f,"shimGetUserMedia",{enumerable:!0,get:function(){return v.shimGetUserMedia}});var D=c("./getdisplaymedia");Object.defineProperty(f,"shimGetDisplayMedia",{enumerable:!0,get:function(){return D.shimGetDisplayMedia}}),f.shimMediaStream=I,f.shimOnTrack=Q,f.shimGetSendersWithDtmf=p,f.shimGetStats=u,f.shimSenderReceiverGetStats=y,f.shimAddTrackRemoveTrackWithNative=N,f.shimAddTrackRemoveTrack=U,f.shimPeerConnection=q,f.fixNegotiationNeeded=te;var _=m(c("../utils.js"));function m(F){if(F&&F.__esModule)return F;var V={};if(F!=null)for(var z in F)Object.prototype.hasOwnProperty.call(F,z)&&(V[z]=F[z]);return V.default=F,V}function I(F){F.MediaStream=F.MediaStream||F.webkitMediaStream}function Q(F){if((F===void 0?"undefined":B(F))==="object"&&F.RTCPeerConnection&&!("ontrack"in F.RTCPeerConnection.prototype)){Object.defineProperty(F.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(z){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=z)},enumerable:!0,configurable:!0});var V=F.RTCPeerConnection.prototype.setRemoteDescription;F.RTCPeerConnection.prototype.setRemoteDescription=function(){var z=this;return this._ontrackpoly||(this._ontrackpoly=function($){$.stream.addEventListener("addtrack",function(L){var O=void 0;O=F.RTCPeerConnection.prototype.getReceivers?z.getReceivers().find(function(w){return w.track&&w.track.id===L.track.id}):{track:L.track};var T=new Event("track");T.track=L.track,T.receiver=O,T.transceiver={receiver:O},T.streams=[$.stream],z.dispatchEvent(T)}),$.stream.getTracks().forEach(function(L){var O=void 0;O=F.RTCPeerConnection.prototype.getReceivers?z.getReceivers().find(function(w){return w.track&&w.track.id===L.id}):{track:L};var T=new Event("track");T.track=L,T.receiver=O,T.transceiver={receiver:O},T.streams=[$.stream],z.dispatchEvent(T)})},this.addEventListener("addstream",this._ontrackpoly)),V.apply(this,arguments)}}else _.wrapPeerConnectionEvent(F,"track",function(z){return z.transceiver||Object.defineProperty(z,"transceiver",{value:{receiver:z.receiver}}),z})}function p(F){if((F===void 0?"undefined":B(F))==="object"&&F.RTCPeerConnection&&!("getSenders"in F.RTCPeerConnection.prototype)&&"createDTMFSender"in F.RTCPeerConnection.prototype){var V=function(w,k){return{track:k,get dtmf(){return this._dtmf===void 0&&(this._dtmf=k.kind==="audio"?w.createDTMFSender(k):null),this._dtmf},_pc:w}};if(!F.RTCPeerConnection.prototype.getSenders){F.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var z=F.RTCPeerConnection.prototype.addTrack;F.RTCPeerConnection.prototype.addTrack=function(w,k){var Y=z.apply(this,arguments);return Y||(Y=V(this,w),this._senders.push(Y)),Y};var $=F.RTCPeerConnection.prototype.removeTrack;F.RTCPeerConnection.prototype.removeTrack=function(w){$.apply(this,arguments);var k=this._senders.indexOf(w);k!==-1&&this._senders.splice(k,1)}}var L=F.RTCPeerConnection.prototype.addStream;F.RTCPeerConnection.prototype.addStream=function(w){var k=this;this._senders=this._senders||[],L.apply(this,[w]),w.getTracks().forEach(function(Y){k._senders.push(V(k,Y))})};var O=F.RTCPeerConnection.prototype.removeStream;F.RTCPeerConnection.prototype.removeStream=function(w){var k=this;this._senders=this._senders||[],O.apply(this,[w]),w.getTracks().forEach(function(Y){var Z=k._senders.find(function(W){return W.track===Y});Z&&k._senders.splice(k._senders.indexOf(Z),1)})}}else if((F===void 0?"undefined":B(F))==="object"&&F.RTCPeerConnection&&"getSenders"in F.RTCPeerConnection.prototype&&"createDTMFSender"in F.RTCPeerConnection.prototype&&F.RTCRtpSender&&!("dtmf"in F.RTCRtpSender.prototype)){var T=F.RTCPeerConnection.prototype.getSenders;F.RTCPeerConnection.prototype.getSenders=function(){var w=this,k=T.apply(this,[]);return k.forEach(function(Y){return Y._pc=w}),k},Object.defineProperty(F.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this._dtmf=this.track.kind==="audio"?this._pc.createDTMFSender(this.track):null),this._dtmf}})}}function u(F){if(F.RTCPeerConnection){var V=F.RTCPeerConnection.prototype.getStats;F.RTCPeerConnection.prototype.getStats=function(z,$,L){var O=this,T=arguments;if(arguments.length>0&&typeof z=="function")return V.apply(this,arguments);if(V.length===0&&(arguments.length===0||typeof arguments[0]!="function"))return V.apply(this,[]);var w=function(Y){var Z={};return Y.result().forEach(function(W){var K={id:W.id,timestamp:W.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[W.type]||W.type};W.names().forEach(function(x){K[x]=W.stat(x)}),Z[K.id]=K}),Z},k=function(Y){return new Map(Object.keys(Y).map(function(Z){return[Z,Y[Z]]}))};return arguments.length>=2?V.apply(this,[function(Y){T[1](k(w(Y)))},arguments[0]]):new Promise(function(Y,Z){V.apply(O,[function(W){Y(k(w(W)))},Z])}).then($,L)}}}function y(F){if((F===void 0?"undefined":B(F))==="object"&&F.RTCPeerConnection&&F.RTCRtpSender&&F.RTCRtpReceiver){if(!("getStats"in F.RTCRtpSender.prototype)){var V=F.RTCPeerConnection.prototype.getSenders;V&&(F.RTCPeerConnection.prototype.getSenders=function(){var O=this,T=V.apply(this,[]);return T.forEach(function(w){return w._pc=O}),T});var z=F.RTCPeerConnection.prototype.addTrack;z&&(F.RTCPeerConnection.prototype.addTrack=function(){var O=z.apply(this,arguments);return O._pc=this,O}),F.RTCRtpSender.prototype.getStats=function(){var O=this;return this._pc.getStats().then(function(T){return _.filterStats(T,O.track,!0)})}}if(!("getStats"in F.RTCRtpReceiver.prototype)){var $=F.RTCPeerConnection.prototype.getReceivers;$&&(F.RTCPeerConnection.prototype.getReceivers=function(){var O=this,T=$.apply(this,[]);return T.forEach(function(w){return w._pc=O}),T}),_.wrapPeerConnectionEvent(F,"track",function(O){return O.receiver._pc=O.srcElement,O}),F.RTCRtpReceiver.prototype.getStats=function(){var O=this;return this._pc.getStats().then(function(T){return _.filterStats(T,O.track,!1)})}}if("getStats"in F.RTCRtpSender.prototype&&"getStats"in F.RTCRtpReceiver.prototype){var L=F.RTCPeerConnection.prototype.getStats;F.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof F.MediaStreamTrack){var O=arguments[0],T=void 0,w=void 0,k=void 0;return this.getSenders().forEach(function(Y){Y.track===O&&(T?k=!0:T=Y)}),this.getReceivers().forEach(function(Y){return Y.track===O&&(w?k=!0:w=Y),Y.track===O}),k||T&&w?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):T?T.getStats():w?w.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return L.apply(this,arguments)}}}}function N(F){F.RTCPeerConnection.prototype.getLocalStreams=function(){var O=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(T){return O._shimmedLocalStreams[T][0]})};var V=F.RTCPeerConnection.prototype.addTrack;F.RTCPeerConnection.prototype.addTrack=function(O,T){if(!T)return V.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var w=V.apply(this,arguments);return this._shimmedLocalStreams[T.id]?this._shimmedLocalStreams[T.id].indexOf(w)===-1&&this._shimmedLocalStreams[T.id].push(w):this._shimmedLocalStreams[T.id]=[T,w],w};var z=F.RTCPeerConnection.prototype.addStream;F.RTCPeerConnection.prototype.addStream=function(O){var T=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},O.getTracks().forEach(function(Y){if(T.getSenders().find(function(Z){return Z.track===Y}))throw new DOMException("Track already exists.","InvalidAccessError")});var w=this.getSenders();z.apply(this,arguments);var k=this.getSenders().filter(function(Y){return w.indexOf(Y)===-1});this._shimmedLocalStreams[O.id]=[O].concat(k)};var $=F.RTCPeerConnection.prototype.removeStream;F.RTCPeerConnection.prototype.removeStream=function(O){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[O.id],$.apply(this,arguments)};var L=F.RTCPeerConnection.prototype.removeTrack;F.RTCPeerConnection.prototype.removeTrack=function(O){var T=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},O&&Object.keys(this._shimmedLocalStreams).forEach(function(w){var k=T._shimmedLocalStreams[w].indexOf(O);k!==-1&&T._shimmedLocalStreams[w].splice(k,1),T._shimmedLocalStreams[w].length===1&&delete T._shimmedLocalStreams[w]}),L.apply(this,arguments)}}function U(F){if(F.RTCPeerConnection){var V=_.detectBrowser(F);if(F.RTCPeerConnection.prototype.addTrack&&V.version>=65)return N(F);var z=F.RTCPeerConnection.prototype.getLocalStreams;F.RTCPeerConnection.prototype.getLocalStreams=function(){var Y=this,Z=z.apply(this);return this._reverseStreams=this._reverseStreams||{},Z.map(function(W){return Y._reverseStreams[W.id]})};var $=F.RTCPeerConnection.prototype.addStream;F.RTCPeerConnection.prototype.addStream=function(Y){var Z=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},Y.getTracks().forEach(function(K){if(Z.getSenders().find(function(x){return x.track===K}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[Y.id]){var W=new F.MediaStream(Y.getTracks());this._streams[Y.id]=W,this._reverseStreams[W.id]=Y,Y=W}$.apply(this,[Y])};var L=F.RTCPeerConnection.prototype.removeStream;F.RTCPeerConnection.prototype.removeStream=function(Y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},L.apply(this,[this._streams[Y.id]||Y]),delete this._reverseStreams[this._streams[Y.id]?this._streams[Y.id].id:Y.id],delete this._streams[Y.id]},F.RTCPeerConnection.prototype.addTrack=function(Y,Z){var W=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var K=[].slice.call(arguments,1);if(K.length!==1||!K[0].getTracks().find(function(H){return H===Y}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(H){return H.track===Y}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var x=this._streams[Z.id];if(x)x.addTrack(Y),Promise.resolve().then(function(){W.dispatchEvent(new Event("negotiationneeded"))});else{var X=new F.MediaStream([Y]);this._streams[Z.id]=X,this._reverseStreams[X.id]=Z,this.addStream(X)}return this.getSenders().find(function(H){return H.track===Y})},["createOffer","createAnswer"].forEach(function(Y){var Z=F.RTCPeerConnection.prototype[Y];F.RTCPeerConnection.prototype[Y]=function(){var W=this,K=arguments;return arguments.length&&typeof arguments[0]=="function"?Z.apply(this,[function(x){var X=w(W,x);K[0].apply(null,[X])},function(x){K[1]&&K[1].apply(null,x)},arguments[2]]):Z.apply(this,arguments).then(function(x){return w(W,x)})}});var O=F.RTCPeerConnection.prototype.setLocalDescription;F.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=k(this,arguments[0]),O.apply(this,arguments)):O.apply(this,arguments)};var T=Object.getOwnPropertyDescriptor(F.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(F.RTCPeerConnection.prototype,"localDescription",{get:function(){var Y=T.get.apply(this);return Y.type===""?Y:w(this,Y)}}),F.RTCPeerConnection.prototype.removeTrack=function(Y){var Z=this;if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!Y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(Y._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var W=void 0;Object.keys(this._streams).forEach(function(K){Z._streams[K].getTracks().find(function(x){return Y.track===x})&&(W=Z._streams[K])}),W&&(W.getTracks().length===1?this.removeStream(this._reverseStreams[W.id]):W.removeTrack(Y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function w(Y,Z){var W=Z.sdp;return Object.keys(Y._reverseStreams||[]).forEach(function(K){var x=Y._reverseStreams[K];W=W.replace(new RegExp(Y._streams[x.id].id,"g"),x.id)}),new RTCSessionDescription({type:Z.type,sdp:W})}function k(Y,Z){var W=Z.sdp;return Object.keys(Y._reverseStreams||[]).forEach(function(K){var x=Y._reverseStreams[K],X=Y._streams[x.id];W=W.replace(new RegExp(x.id,"g"),X.id)}),new RTCSessionDescription({type:Z.type,sdp:W})}}function q(F){if(!F.RTCPeerConnection&&F.webkitRTCPeerConnection&&(F.RTCPeerConnection=F.webkitRTCPeerConnection),F.RTCPeerConnection){["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(z){var $=F.RTCPeerConnection.prototype[z];F.RTCPeerConnection.prototype[z]=function(){return arguments[0]=new(z==="addIceCandidate"?F.RTCIceCandidate:F.RTCSessionDescription)(arguments[0]),$.apply(this,arguments)}});var V=F.RTCPeerConnection.prototype.addIceCandidate;F.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?V.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function te(F){_.wrapPeerConnectionEvent(F,"negotiationneeded",function(V){if(V.target.signalingState==="stable")return V})}},{"../utils.js":15,"./getdisplaymedia":4,"./getusermedia":5}],4:[function(c,h,f){function B(v,D){v.navigator.mediaDevices&&"getDisplayMedia"in v.navigator.mediaDevices||v.navigator.mediaDevices&&(typeof D=="function"?v.navigator.mediaDevices.getDisplayMedia=function(_){return D(_).then(function(m){var I=_.video&&_.video.width,Q=_.video&&_.video.height;return _.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:m,maxFrameRate:_.video&&_.video.frameRate||3}},I&&(_.video.mandatory.maxWidth=I),Q&&(_.video.mandatory.maxHeight=Q),v.navigator.mediaDevices.getUserMedia(_)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}Object.defineProperty(f,"__esModule",{value:!0}),f.shimGetDisplayMedia=B},{}],5:[function(c,h,f){Object.defineProperty(f,"__esModule",{value:!0});var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};f.shimGetUserMedia=m;var v=D(c("../utils.js"));function D(I){if(I&&I.__esModule)return I;var Q={};if(I!=null)for(var p in I)Object.prototype.hasOwnProperty.call(I,p)&&(Q[p]=I[p]);return Q.default=I,Q}var _=v.log;function m(I){var Q=I&&I.navigator;if(Q.mediaDevices){var p=v.detectBrowser(I),u=function(te){if((te===void 0?"undefined":B(te))!=="object"||te.mandatory||te.optional)return te;var F={};return Object.keys(te).forEach(function(V){if(V!=="require"&&V!=="advanced"&&V!=="mediaSource"){var z=B(te[V])==="object"?te[V]:{ideal:te[V]};z.exact!==void 0&&typeof z.exact=="number"&&(z.min=z.max=z.exact);var $=function(O,T){return O?O+T.charAt(0).toUpperCase()+T.slice(1):T==="deviceId"?"sourceId":T};if(z.ideal!==void 0){F.optional=F.optional||[];var L={};typeof z.ideal=="number"?(L[$("min",V)]=z.ideal,F.optional.push(L),(L={})[$("max",V)]=z.ideal,F.optional.push(L)):(L[$("",V)]=z.ideal,F.optional.push(L))}z.exact!==void 0&&typeof z.exact!="number"?(F.mandatory=F.mandatory||{},F.mandatory[$("",V)]=z.exact):["min","max"].forEach(function(O){z[O]!==void 0&&(F.mandatory=F.mandatory||{},F.mandatory[$(O,V)]=z[O])})}}),te.advanced&&(F.optional=(F.optional||[]).concat(te.advanced)),F},y=function(te,F){if(p.version>=61)return F(te);if((te=JSON.parse(JSON.stringify(te)))&&B(te.audio)==="object"){var V=function(O,T,w){T in O&&!(w in O)&&(O[w]=O[T],delete O[T])};V((te=JSON.parse(JSON.stringify(te))).audio,"autoGainControl","googAutoGainControl"),V(te.audio,"noiseSuppression","googNoiseSuppression"),te.audio=u(te.audio)}if(te&&B(te.video)==="object"){var z=te.video.facingMode;z=z&&((z===void 0?"undefined":B(z))==="object"?z:{ideal:z});var $=p.version<66;if(z&&(z.exact==="user"||z.exact==="environment"||z.ideal==="user"||z.ideal==="environment")&&(!Q.mediaDevices.getSupportedConstraints||!Q.mediaDevices.getSupportedConstraints().facingMode||$)){delete te.video.facingMode;var L=void 0;if(z.exact==="environment"||z.ideal==="environment"?L=["back","rear"]:z.exact!=="user"&&z.ideal!=="user"||(L=["front"]),L)return Q.mediaDevices.enumerateDevices().then(function(O){var T=(O=O.filter(function(w){return w.kind==="videoinput"})).find(function(w){return L.some(function(k){return w.label.toLowerCase().includes(k)})});return!T&&O.length&&L.includes("back")&&(T=O[O.length-1]),T&&(te.video.deviceId=z.exact?{exact:T.deviceId}:{ideal:T.deviceId}),te.video=u(te.video),_("chrome: "+JSON.stringify(te)),F(te)})}te.video=u(te.video)}return _("chrome: "+JSON.stringify(te)),F(te)},N=function(te){return p.version>=64?te:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[te.name]||te.name,message:te.message,constraint:te.constraint||te.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},U=function(te,F,V){y(te,function(z){Q.webkitGetUserMedia(z,F,function($){V&&V(N($))})})};if(Q.getUserMedia=U.bind(Q),Q.mediaDevices.getUserMedia){var q=Q.mediaDevices.getUserMedia.bind(Q.mediaDevices);Q.mediaDevices.getUserMedia=function(te){return y(te,function(F){return q(F).then(function(V){if(F.audio&&!V.getAudioTracks().length||F.video&&!V.getVideoTracks().length)throw V.getTracks().forEach(function(z){z.stop()}),new DOMException("","NotFoundError");return V},function(V){return Promise.reject(N(V))})})}}}}},{"../utils.js":15}],6:[function(c,h,f){Object.defineProperty(f,"__esModule",{value:!0});var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};f.shimRTCIceCandidate=I,f.shimMaxMessageSize=Q,f.shimSendThrowTypeError=p,f.shimConnectionState=u,f.removeAllowExtmapMixed=y;var v=m(c("sdp")),D=_(c("./utils"));function _(N){if(N&&N.__esModule)return N;var U={};if(N!=null)for(var q in N)Object.prototype.hasOwnProperty.call(N,q)&&(U[q]=N[q]);return U.default=N,U}function m(N){return N&&N.__esModule?N:{default:N}}function I(N){if(!(!N.RTCIceCandidate||N.RTCIceCandidate&&"foundation"in N.RTCIceCandidate.prototype)){var U=N.RTCIceCandidate;N.RTCIceCandidate=function(q){if((q===void 0?"undefined":B(q))==="object"&&q.candidate&&q.candidate.indexOf("a=")===0&&((q=JSON.parse(JSON.stringify(q))).candidate=q.candidate.substr(2)),q.candidate&&q.candidate.length){var te=new U(q),F=v.default.parseCandidate(q.candidate),V=Object.assign(te,F);return V.toJSON=function(){return{candidate:V.candidate,sdpMid:V.sdpMid,sdpMLineIndex:V.sdpMLineIndex,usernameFragment:V.usernameFragment}},V}return new U(q)},N.RTCIceCandidate.prototype=U.prototype,D.wrapPeerConnectionEvent(N,"icecandidate",function(q){return q.candidate&&Object.defineProperty(q,"candidate",{value:new N.RTCIceCandidate(q.candidate),writable:"false"}),q})}}function Q(N){if(!N.RTCSctpTransport&&N.RTCPeerConnection){var U=D.detectBrowser(N);"sctp"in N.RTCPeerConnection.prototype||Object.defineProperty(N.RTCPeerConnection.prototype,"sctp",{get:function(){return this._sctp===void 0?null:this._sctp}});var q=function($){if(!$||!$.sdp)return!1;var L=v.default.splitSections($.sdp);return L.shift(),L.some(function(O){var T=v.default.parseMLine(O);return T&&T.kind==="application"&&T.protocol.indexOf("SCTP")!==-1})},te=function($){var L=$.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(L===null||L.length<2)return-1;var O=parseInt(L[1],10);return O!=O?-1:O},F=function($){var L=65536;return U.browser==="firefox"&&(L=U.version<57?$===-1?16384:2147483637:U.version<60?U.version===57?65535:65536:2147483637),L},V=function($,L){var O=65536;U.browser==="firefox"&&U.version===57&&(O=65535);var T=v.default.matchPrefix($.sdp,"a=max-message-size:");return T.length>0?O=parseInt(T[0].substr(19),10):U.browser==="firefox"&&L!==-1&&(O=2147483637),O},z=N.RTCPeerConnection.prototype.setRemoteDescription;N.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,q(arguments[0])){var $=te(arguments[0]),L=F($),O=V(arguments[0],$),T=void 0;T=L===0&&O===0?Number.POSITIVE_INFINITY:L===0||O===0?Math.max(L,O):Math.min(L,O);var w={};Object.defineProperty(w,"maxMessageSize",{get:function(){return T}}),this._sctp=w}return z.apply(this,arguments)}}}function p(N){if(N.RTCPeerConnection&&"createDataChannel"in N.RTCPeerConnection.prototype){var U=N.RTCPeerConnection.prototype.createDataChannel;N.RTCPeerConnection.prototype.createDataChannel=function(){var te=U.apply(this,arguments);return q(te,this),te},D.wrapPeerConnectionEvent(N,"datachannel",function(te){return q(te.channel,te.target),te})}function q(te,F){var V=te.send;te.send=function(){var z=arguments[0];if(te.readyState==="open"&&F.sctp&&(z.length||z.size||z.byteLength)>F.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+F.sctp.maxMessageSize+" bytes)");return V.apply(te,arguments)}}}function u(N){if(N.RTCPeerConnection&&!("connectionState"in N.RTCPeerConnection.prototype)){var U=N.RTCPeerConnection.prototype;Object.defineProperty(U,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(U,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(q){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),q&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=q)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(q){var te=U[q];U[q]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(F){var V=F.target;if(V._lastConnectionState!==V.connectionState){V._lastConnectionState=V.connectionState;var z=new Event("connectionstatechange",F);V.dispatchEvent(z)}return F},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),te.apply(this,arguments)}})}}function y(N){if(N.RTCPeerConnection){var U=D.detectBrowser(N);if(!(U.browser==="chrome"&&U.version>=71)){var q=N.RTCPeerConnection.prototype.setRemoteDescription;N.RTCPeerConnection.prototype.setRemoteDescription=function(te){return te&&te.sdp&&te.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1&&(te.sdp=te.sdp.split(`
`).filter(function(F){return F.trim()!=="a=extmap-allow-mixed"}).join(`
`)),q.apply(this,arguments)}}}}},{"./utils":15,sdp:17}],7:[function(c,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.shimGetDisplayMedia=f.shimGetUserMedia=void 0;var B=c("./getusermedia");Object.defineProperty(f,"shimGetUserMedia",{enumerable:!0,get:function(){return B.shimGetUserMedia}});var v=c("./getdisplaymedia");Object.defineProperty(f,"shimGetDisplayMedia",{enumerable:!0,get:function(){return v.shimGetDisplayMedia}}),f.shimPeerConnection=p,f.shimReplaceTrack=u;var D=Q(c("../utils")),_=c("./filtericeservers"),m=I(c("rtcpeerconnection-shim"));function I(y){return y&&y.__esModule?y:{default:y}}function Q(y){if(y&&y.__esModule)return y;var N={};if(y!=null)for(var U in y)Object.prototype.hasOwnProperty.call(y,U)&&(N[U]=y[U]);return N.default=y,N}function p(y){var N=D.detectBrowser(y);if(y.RTCIceGatherer&&(y.RTCIceCandidate||(y.RTCIceCandidate=function(te){return te}),y.RTCSessionDescription||(y.RTCSessionDescription=function(te){return te}),N.version<15025)){var U=Object.getOwnPropertyDescriptor(y.MediaStreamTrack.prototype,"enabled");Object.defineProperty(y.MediaStreamTrack.prototype,"enabled",{set:function(te){U.set.call(this,te);var F=new Event("enabled");F.enabled=te,this.dispatchEvent(F)}})}y.RTCRtpSender&&!("dtmf"in y.RTCRtpSender.prototype)&&Object.defineProperty(y.RTCRtpSender.prototype,"dtmf",{get:function(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new y.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),y.RTCDtmfSender&&!y.RTCDTMFSender&&(y.RTCDTMFSender=y.RTCDtmfSender);var q=(0,m.default)(y,N.version);y.RTCPeerConnection=function(te){return te&&te.iceServers&&(te.iceServers=(0,_.filterIceServers)(te.iceServers,N.version),D.log("ICE servers after filtering:",te.iceServers)),new q(te)},y.RTCPeerConnection.prototype=q.prototype}function u(y){y.RTCRtpSender&&!("replaceTrack"in y.RTCRtpSender.prototype)&&(y.RTCRtpSender.prototype.replaceTrack=y.RTCRtpSender.prototype.setTrack)}},{"../utils":15,"./filtericeservers":8,"./getdisplaymedia":9,"./getusermedia":10,"rtcpeerconnection-shim":16}],8:[function(c,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.filterIceServers=D;var B=v(c("../utils"));function v(_){if(_&&_.__esModule)return _;var m={};if(_!=null)for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&(m[I]=_[I]);return m.default=_,m}function D(_,m){var I=!1;return(_=JSON.parse(JSON.stringify(_))).filter(function(Q){if(Q&&(Q.urls||Q.url)){var p=Q.urls||Q.url;Q.url&&!Q.urls&&B.deprecated("RTCIceServer.url","RTCIceServer.urls");var u=typeof p=="string";return u&&(p=[p]),p=p.filter(function(y){if(y.indexOf("stun:")===0)return!1;var N=y.startsWith("turn")&&!y.startsWith("turn:[")&&y.includes("transport=udp");return N&&!I?(I=!0,!0):N&&!I}),delete Q.url,Q.urls=u?p[0]:p,!!p.length}})}},{"../utils":15}],9:[function(c,h,f){function B(v){"getDisplayMedia"in v.navigator&&v.navigator.mediaDevices&&(v.navigator.mediaDevices&&"getDisplayMedia"in v.navigator.mediaDevices||(v.navigator.mediaDevices.getDisplayMedia=v.navigator.getDisplayMedia.bind(v.navigator)))}Object.defineProperty(f,"__esModule",{value:!0}),f.shimGetDisplayMedia=B},{}],10:[function(c,h,f){function B(v){var D=v&&v.navigator,_=function(I){return{name:{PermissionDeniedError:"NotAllowedError"}[I.name]||I.name,message:I.message,constraint:I.constraint,toString:function(){return this.name}}},m=D.mediaDevices.getUserMedia.bind(D.mediaDevices);D.mediaDevices.getUserMedia=function(I){return m(I).catch(function(Q){return Promise.reject(_(Q))})}}Object.defineProperty(f,"__esModule",{value:!0}),f.shimGetUserMedia=B},{}],11:[function(c,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.shimGetDisplayMedia=f.shimGetUserMedia=void 0;var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},v=c("./getusermedia");Object.defineProperty(f,"shimGetUserMedia",{enumerable:!0,get:function(){return v.shimGetUserMedia}});var D=c("./getdisplaymedia");Object.defineProperty(f,"shimGetDisplayMedia",{enumerable:!0,get:function(){return D.shimGetDisplayMedia}}),f.shimOnTrack=I,f.shimPeerConnection=Q,f.shimSenderGetStats=p,f.shimReceiverGetStats=u,f.shimRemoveStream=y,f.shimRTCDataChannel=N;var _=m(c("../utils"));function m(U){if(U&&U.__esModule)return U;var q={};if(U!=null)for(var te in U)Object.prototype.hasOwnProperty.call(U,te)&&(q[te]=U[te]);return q.default=U,q}function I(U){(U===void 0?"undefined":B(U))==="object"&&U.RTCTrackEvent&&"receiver"in U.RTCTrackEvent.prototype&&!("transceiver"in U.RTCTrackEvent.prototype)&&Object.defineProperty(U.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Q(U){var q=_.detectBrowser(U);if((U===void 0?"undefined":B(U))==="object"&&(U.RTCPeerConnection||U.mozRTCPeerConnection)){!U.RTCPeerConnection&&U.mozRTCPeerConnection&&(U.RTCPeerConnection=U.mozRTCPeerConnection),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(z){var $=U.RTCPeerConnection.prototype[z];U.RTCPeerConnection.prototype[z]=function(){return arguments[0]=new(z==="addIceCandidate"?U.RTCIceCandidate:U.RTCSessionDescription)(arguments[0]),$.apply(this,arguments)}});var te=U.RTCPeerConnection.prototype.addIceCandidate;U.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?te.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var F={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},V=U.RTCPeerConnection.prototype.getStats;U.RTCPeerConnection.prototype.getStats=function(z,$,L){return V.apply(this,[z||null]).then(function(O){if(q.version<53&&!$)try{O.forEach(function(T){T.type=F[T.type]||T.type})}catch(T){if(T.name!=="TypeError")throw T;O.forEach(function(w,k){O.set(k,Object.assign({},w,{type:F[w.type]||w.type}))})}return O}).then($,L)}}}function p(U){if((U===void 0?"undefined":B(U))==="object"&&U.RTCPeerConnection&&U.RTCRtpSender&&(!U.RTCRtpSender||!("getStats"in U.RTCRtpSender.prototype))){var q=U.RTCPeerConnection.prototype.getSenders;q&&(U.RTCPeerConnection.prototype.getSenders=function(){var F=this,V=q.apply(this,[]);return V.forEach(function(z){return z._pc=F}),V});var te=U.RTCPeerConnection.prototype.addTrack;te&&(U.RTCPeerConnection.prototype.addTrack=function(){var F=te.apply(this,arguments);return F._pc=this,F}),U.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function u(U){if((U===void 0?"undefined":B(U))==="object"&&U.RTCPeerConnection&&U.RTCRtpSender&&(!U.RTCRtpSender||!("getStats"in U.RTCRtpReceiver.prototype))){var q=U.RTCPeerConnection.prototype.getReceivers;q&&(U.RTCPeerConnection.prototype.getReceivers=function(){var te=this,F=q.apply(this,[]);return F.forEach(function(V){return V._pc=te}),F}),_.wrapPeerConnectionEvent(U,"track",function(te){return te.receiver._pc=te.srcElement,te}),U.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function y(U){U.RTCPeerConnection&&!("removeStream"in U.RTCPeerConnection.prototype)&&(U.RTCPeerConnection.prototype.removeStream=function(q){var te=this;_.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(F){F.track&&q.getTracks().includes(F.track)&&te.removeTrack(F)})})}function N(U){U.DataChannel&&!U.RTCDataChannel&&(U.RTCDataChannel=U.DataChannel)}},{"../utils":15,"./getdisplaymedia":12,"./getusermedia":13}],12:[function(c,h,f){function B(v,D){v.navigator.mediaDevices&&"getDisplayMedia"in v.navigator.mediaDevices||v.navigator.mediaDevices&&(v.navigator.mediaDevices.getDisplayMedia=function(_){if(!_||!_.video){var m=new DOMException("getDisplayMedia without video constraints is undefined");return m.name="NotFoundError",m.code=8,Promise.reject(m)}return _.video===!0?_.video={mediaSource:D}:_.video.mediaSource=D,v.navigator.mediaDevices.getUserMedia(_)})}Object.defineProperty(f,"__esModule",{value:!0}),f.shimGetDisplayMedia=B},{}],13:[function(c,h,f){Object.defineProperty(f,"__esModule",{value:!0});var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};f.shimGetUserMedia=_;var v=D(c("../utils"));function D(m){if(m&&m.__esModule)return m;var I={};if(m!=null)for(var Q in m)Object.prototype.hasOwnProperty.call(m,Q)&&(I[Q]=m[Q]);return I.default=m,I}function _(m){var I=v.detectBrowser(m),Q=m&&m.navigator,p=m&&m.MediaStreamTrack;if(Q.getUserMedia=function(q,te,F){v.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),Q.mediaDevices.getUserMedia(q).then(te,F)},!(I.version>55&&"autoGainControl"in Q.mediaDevices.getSupportedConstraints())){var u=function(q,te,F){te in q&&!(F in q)&&(q[F]=q[te],delete q[te])},y=Q.mediaDevices.getUserMedia.bind(Q.mediaDevices);if(Q.mediaDevices.getUserMedia=function(q){return(q===void 0?"undefined":B(q))==="object"&&B(q.audio)==="object"&&(q=JSON.parse(JSON.stringify(q)),u(q.audio,"autoGainControl","mozAutoGainControl"),u(q.audio,"noiseSuppression","mozNoiseSuppression")),y(q)},p&&p.prototype.getSettings){var N=p.prototype.getSettings;p.prototype.getSettings=function(){var q=N.apply(this,arguments);return u(q,"mozAutoGainControl","autoGainControl"),u(q,"mozNoiseSuppression","noiseSuppression"),q}}if(p&&p.prototype.applyConstraints){var U=p.prototype.applyConstraints;p.prototype.applyConstraints=function(q){return this.kind==="audio"&&(q===void 0?"undefined":B(q))==="object"&&(q=JSON.parse(JSON.stringify(q)),u(q,"autoGainControl","mozAutoGainControl"),u(q,"noiseSuppression","mozNoiseSuppression")),U.apply(this,[q])}}}}},{"../utils":15}],14:[function(c,h,f){Object.defineProperty(f,"__esModule",{value:!0});var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};f.shimLocalStreamsAPI=_,f.shimRemoteStreamsAPI=m,f.shimCallbacksAPI=I,f.shimGetUserMedia=Q,f.shimConstraints=p,f.shimRTCIceServerUrls=u,f.shimTrackEventTransceiver=y,f.shimCreateOfferLegacy=N;var v=D(c("../utils"));function D(U){if(U&&U.__esModule)return U;var q={};if(U!=null)for(var te in U)Object.prototype.hasOwnProperty.call(U,te)&&(q[te]=U[te]);return q.default=U,q}function _(U){if((U===void 0?"undefined":B(U))==="object"&&U.RTCPeerConnection){if("getLocalStreams"in U.RTCPeerConnection.prototype||(U.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in U.RTCPeerConnection.prototype)){var q=U.RTCPeerConnection.prototype.addTrack;U.RTCPeerConnection.prototype.addStream=function(te){var F=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(te)||this._localStreams.push(te),te.getTracks().forEach(function(V){return q.call(F,V,te)})},U.RTCPeerConnection.prototype.addTrack=function(te,F){return F&&(this._localStreams?this._localStreams.includes(F)||this._localStreams.push(F):this._localStreams=[F]),q.call(this,te,F)}}"removeStream"in U.RTCPeerConnection.prototype||(U.RTCPeerConnection.prototype.removeStream=function(te){var F=this;this._localStreams||(this._localStreams=[]);var V=this._localStreams.indexOf(te);if(V!==-1){this._localStreams.splice(V,1);var z=te.getTracks();this.getSenders().forEach(function($){z.includes($.track)&&F.removeTrack($)})}})}}function m(U){if((U===void 0?"undefined":B(U))==="object"&&U.RTCPeerConnection&&("getRemoteStreams"in U.RTCPeerConnection.prototype||(U.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in U.RTCPeerConnection.prototype))){Object.defineProperty(U.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(te){var F=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=te),this.addEventListener("track",this._onaddstreampoly=function(V){V.streams.forEach(function(z){if(F._remoteStreams||(F._remoteStreams=[]),!F._remoteStreams.includes(z)){F._remoteStreams.push(z);var $=new Event("addstream");$.stream=z,F.dispatchEvent($)}})})}});var q=U.RTCPeerConnection.prototype.setRemoteDescription;U.RTCPeerConnection.prototype.setRemoteDescription=function(){var te=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(F){F.streams.forEach(function(V){if(te._remoteStreams||(te._remoteStreams=[]),!(te._remoteStreams.indexOf(V)>=0)){te._remoteStreams.push(V);var z=new Event("addstream");z.stream=V,te.dispatchEvent(z)}})}),q.apply(te,arguments)}}}function I(U){if((U===void 0?"undefined":B(U))==="object"&&U.RTCPeerConnection){var q=U.RTCPeerConnection.prototype,te=q.createOffer,F=q.createAnswer,V=q.setLocalDescription,z=q.setRemoteDescription,$=q.addIceCandidate;q.createOffer=function(O,T){var w=te.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return T?(w.then(O,T),Promise.resolve()):w},q.createAnswer=function(O,T){var w=F.apply(this,[arguments.length>=2?arguments[2]:arguments[0]]);return T?(w.then(O,T),Promise.resolve()):w};var L=function(O,T,w){var k=V.apply(this,[O]);return w?(k.then(T,w),Promise.resolve()):k};q.setLocalDescription=L,q.setRemoteDescription=L=function(O,T,w){var k=z.apply(this,[O]);return w?(k.then(T,w),Promise.resolve()):k},q.addIceCandidate=L=function(O,T,w){var k=$.apply(this,[O]);return w?(k.then(T,w),Promise.resolve()):k}}}function Q(U){var q=U&&U.navigator;if(q.mediaDevices&&q.mediaDevices.getUserMedia){var te=q.mediaDevices,F=te.getUserMedia.bind(te);q.mediaDevices.getUserMedia=function(V){return F(p(V))}}!q.getUserMedia&&q.mediaDevices&&q.mediaDevices.getUserMedia&&(q.getUserMedia=(function(V,z,$){q.mediaDevices.getUserMedia(V).then(z,$)}).bind(q))}function p(U){return U&&U.video!==void 0?Object.assign({},U,{video:v.compactObject(U.video)}):U}function u(U){var q=U.RTCPeerConnection;U.RTCPeerConnection=function(te,F){if(te&&te.iceServers){for(var V=[],z=0;z<te.iceServers.length;z++){var $=te.iceServers[z];!$.hasOwnProperty("urls")&&$.hasOwnProperty("url")?(v.deprecated("RTCIceServer.url","RTCIceServer.urls"),($=JSON.parse(JSON.stringify($))).urls=$.url,delete $.url,V.push($)):V.push(te.iceServers[z])}te.iceServers=V}return new q(te,F)},U.RTCPeerConnection.prototype=q.prototype,"generateCertificate"in U.RTCPeerConnection&&Object.defineProperty(U.RTCPeerConnection,"generateCertificate",{get:function(){return q.generateCertificate}})}function y(U){(U===void 0?"undefined":B(U))==="object"&&U.RTCPeerConnection&&"receiver"in U.RTCTrackEvent.prototype&&!U.RTCTransceiver&&Object.defineProperty(U.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function N(U){var q=U.RTCPeerConnection.prototype.createOffer;U.RTCPeerConnection.prototype.createOffer=function(te){if(te){te.offerToReceiveAudio!==void 0&&(te.offerToReceiveAudio=!!te.offerToReceiveAudio);var F=this.getTransceivers().find(function(z){return z.receiver.track.kind==="audio"});te.offerToReceiveAudio===!1&&F?F.direction==="sendrecv"?F.setDirection?F.setDirection("sendonly"):F.direction="sendonly":F.direction==="recvonly"&&(F.setDirection?F.setDirection("inactive"):F.direction="inactive"):te.offerToReceiveAudio!==!0||F||this.addTransceiver("audio"),te.offerToReceiveVideo!==void 0&&(te.offerToReceiveVideo=!!te.offerToReceiveVideo);var V=this.getTransceivers().find(function(z){return z.receiver.track.kind==="video"});te.offerToReceiveVideo===!1&&V?V.direction==="sendrecv"?V.setDirection?V.setDirection("sendonly"):V.direction="sendonly":V.direction==="recvonly"&&(V.setDirection?V.setDirection("inactive"):V.direction="inactive"):te.offerToReceiveVideo!==!0||V||this.addTransceiver("video")}return q.apply(this,arguments)}}},{"../utils":15}],15:[function(c,h,f){Object.defineProperty(f,"__esModule",{value:!0});var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};function v(F,V,z){return V in F?Object.defineProperty(F,V,{value:z,enumerable:!0,configurable:!0,writable:!0}):F[V]=z,F}f.extractVersion=m,f.wrapPeerConnectionEvent=I,f.disableLog=Q,f.disableWarnings=p,f.log=u,f.deprecated=y,f.detectBrowser=N,f.compactObject=U,f.walkStats=q,f.filterStats=te;var D=!0,_=!0;function m(F,V,z){var $=F.match(V);return $&&$.length>=z&&parseInt($[z],10)}function I(F,V,z){if(F.RTCPeerConnection){var $=F.RTCPeerConnection.prototype,L=$.addEventListener;$.addEventListener=function(T,w){if(T!==V)return L.apply(this,arguments);var k=function(Y){var Z=z(Y);Z&&w(Z)};return this._eventMap=this._eventMap||{},this._eventMap[w]=k,L.apply(this,[T,k])};var O=$.removeEventListener;$.removeEventListener=function(T,w){if(T!==V||!this._eventMap||!this._eventMap[w])return O.apply(this,arguments);var k=this._eventMap[w];return delete this._eventMap[w],O.apply(this,[T,k])},Object.defineProperty($,"on"+V,{get:function(){return this["_on"+V]},set:function(T){this["_on"+V]&&(this.removeEventListener(V,this["_on"+V]),delete this["_on"+V]),T&&this.addEventListener(V,this["_on"+V]=T)},enumerable:!0,configurable:!0})}}function Q(F){return typeof F!="boolean"?new Error("Argument type: "+(F===void 0?"undefined":B(F))+". Please use a boolean."):(D=F,F?"adapter.js logging disabled":"adapter.js logging enabled")}function p(F){return typeof F!="boolean"?new Error("Argument type: "+(F===void 0?"undefined":B(F))+". Please use a boolean."):(_=!F,"adapter.js deprecation warnings "+(F?"disabled":"enabled"))}function u(){if((typeof window>"u"?"undefined":B(window))==="object"){if(D)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function y(F,V){_&&console.warn(F+" is deprecated, please use "+V+" instead.")}function N(F){var V=F.navigator,z={browser:null,version:null};if(F===void 0||!F.navigator)return z.browser="Not a browser.",z;if(V.mozGetUserMedia)z.browser="firefox",z.version=m(V.userAgent,/Firefox\/(\d+)\./,1);else if(V.webkitGetUserMedia||F.isSecureContext===!1&&F.webkitRTCPeerConnection&&!F.RTCIceGatherer)z.browser="chrome",z.version=m(V.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(V.mediaDevices&&V.userAgent.match(/Edge\/(\d+).(\d+)$/))z.browser="edge",z.version=m(V.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!F.RTCPeerConnection||!V.userAgent.match(/AppleWebKit\/(\d+)\./))return z.browser="Not a supported browser.",z;z.browser="safari",z.version=m(V.userAgent,/AppleWebKit\/(\d+)\./,1)}return z}function U(F){return(F===void 0?"undefined":B(F))!=="object"?F:Object.keys(F).reduce(function(V,z){var $=B(F[z])==="object",L=$?U(F[z]):F[z],O=$&&!Object.keys(L).length;return L===void 0||O?V:Object.assign(V,v({},z,L))},{})}function q(F,V,z){V&&!z.has(V.id)&&(z.set(V.id,V),Object.keys(V).forEach(function($){$.endsWith("Id")?q(F,F.get(V[$]),z):$.endsWith("Ids")&&V[$].forEach(function(L){q(F,F.get(L),z)})}))}function te(F,V,z){var $=z?"outbound-rtp":"inbound-rtp",L=new Map;if(V===null)return L;var O=[];return F.forEach(function(T){T.type==="track"&&T.trackIdentifier===V.id&&O.push(T)}),O.forEach(function(T){F.forEach(function(w){w.type===$&&w.trackId===T.id&&q(F,w,L)})}),L}},{}],16:[function(c,h,f){var B=c("sdp");function v(u){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[u.type]||u.type}function D(u,y,N,U,q){var te=B.writeRtpDescription(u.kind,y);if(te+=B.writeIceParameters(u.iceGatherer.getLocalParameters()),te+=B.writeDtlsParameters(u.dtlsTransport.getLocalParameters(),N==="offer"?"actpass":q||"active"),te+="a=mid:"+u.mid+`\r
`,te+=u.rtpSender&&u.rtpReceiver?`a=sendrecv\r
`:u.rtpSender?`a=sendonly\r
`:u.rtpReceiver?`a=recvonly\r
`:`a=inactive\r
`,u.rtpSender){var F=u.rtpSender._initialTrackId||u.rtpSender.track.id;u.rtpSender._initialTrackId=F;var V="msid:"+(U?U.id:"-")+" "+F+`\r
`;te+="a="+V,te+="a=ssrc:"+u.sendEncodingParameters[0].ssrc+" "+V,u.sendEncodingParameters[0].rtx&&(te+="a=ssrc:"+u.sendEncodingParameters[0].rtx.ssrc+" "+V,te+="a=ssrc-group:FID "+u.sendEncodingParameters[0].ssrc+" "+u.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return te+="a=ssrc:"+u.sendEncodingParameters[0].ssrc+" cname:"+B.localCName+`\r
`,u.rtpSender&&u.sendEncodingParameters[0].rtx&&(te+="a=ssrc:"+u.sendEncodingParameters[0].rtx.ssrc+" cname:"+B.localCName+`\r
`),te}function _(u,y){var N=!1;return(u=JSON.parse(JSON.stringify(u))).filter(function(U){if(U&&(U.urls||U.url)){var q=U.urls||U.url;U.url&&!U.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var te=typeof q=="string";return te&&(q=[q]),q=q.filter(function(F){return F.indexOf("turn:")!==0||F.indexOf("transport=udp")===-1||F.indexOf("turn:[")!==-1||N?F.indexOf("stun:")===0&&y>=14393&&F.indexOf("?transport=udp")===-1:(N=!0,!0)}),delete U.url,U.urls=te?q[0]:q,!!q.length}})}function m(u,y){var N={codecs:[],headerExtensions:[],fecMechanisms:[]},U=function(te,F){te=parseInt(te,10);for(var V=0;V<F.length;V++)if(F[V].payloadType===te||F[V].preferredPayloadType===te)return F[V]},q=function(te,F,V,z){var $=U(te.parameters.apt,V),L=U(F.parameters.apt,z);return $&&L&&$.name.toLowerCase()===L.name.toLowerCase()};return u.codecs.forEach(function(te){for(var F=0;F<y.codecs.length;F++){var V=y.codecs[F];if(te.name.toLowerCase()===V.name.toLowerCase()&&te.clockRate===V.clockRate){if(te.name.toLowerCase()==="rtx"&&te.parameters&&V.parameters.apt&&!q(te,V,u.codecs,y.codecs))continue;(V=JSON.parse(JSON.stringify(V))).numChannels=Math.min(te.numChannels,V.numChannels),N.codecs.push(V),V.rtcpFeedback=V.rtcpFeedback.filter(function(z){for(var $=0;$<te.rtcpFeedback.length;$++)if(te.rtcpFeedback[$].type===z.type&&te.rtcpFeedback[$].parameter===z.parameter)return!0;return!1});break}}}),u.headerExtensions.forEach(function(te){for(var F=0;F<y.headerExtensions.length;F++){var V=y.headerExtensions[F];if(te.uri===V.uri){N.headerExtensions.push(V);break}}}),N}function I(u,y,N){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[y][u].indexOf(N)!==-1}function Q(u,y){var N=u.getRemoteCandidates().find(function(U){return y.foundation===U.foundation&&y.ip===U.ip&&y.port===U.port&&y.priority===U.priority&&y.protocol===U.protocol&&y.type===U.type});return N||u.addRemoteCandidate(y),!N}function p(u,y){var N=new Error(y);return N.name=u,N.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[u],N}h.exports=function(u,y){function N(V,z){z.addTrack(V),z.dispatchEvent(new u.MediaStreamTrackEvent("addtrack",{track:V}))}function U(V,z){z.removeTrack(V),z.dispatchEvent(new u.MediaStreamTrackEvent("removetrack",{track:V}))}function q(V,z,$,L){var O=new Event("track");O.track=z,O.receiver=$,O.transceiver={receiver:$},O.streams=L,u.setTimeout(function(){V._dispatchEvent("track",O)})}var te=function(V){var z=this,$=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(O){z[O]=$[O].bind($)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",V=JSON.parse(JSON.stringify(V||{})),this.usingBundle=V.bundlePolicy==="max-bundle",V.rtcpMuxPolicy==="negotiate")throw p("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(V.rtcpMuxPolicy||(V.rtcpMuxPolicy="require"),V.iceTransportPolicy){case"all":case"relay":break;default:V.iceTransportPolicy="all"}switch(V.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:V.bundlePolicy="balanced"}if(V.iceServers=_(V.iceServers||[],y),this._iceGatherers=[],V.iceCandidatePoolSize)for(var L=V.iceCandidatePoolSize;L>0;L--)this._iceGatherers.push(new u.RTCIceGatherer({iceServers:V.iceServers,gatherPolicy:V.iceTransportPolicy}));else V.iceCandidatePoolSize=0;this._config=V,this.transceivers=[],this._sdpSessionId=B.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(te.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(te.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),te.prototype.onicecandidate=null,te.prototype.onaddstream=null,te.prototype.ontrack=null,te.prototype.onremovestream=null,te.prototype.onsignalingstatechange=null,te.prototype.oniceconnectionstatechange=null,te.prototype.onconnectionstatechange=null,te.prototype.onicegatheringstatechange=null,te.prototype.onnegotiationneeded=null,te.prototype.ondatachannel=null,te.prototype._dispatchEvent=function(V,z){this._isClosed||(this.dispatchEvent(z),typeof this["on"+V]=="function"&&this["on"+V](z))},te.prototype._emitGatheringStateChange=function(){var V=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",V)},te.prototype.getConfiguration=function(){return this._config},te.prototype.getLocalStreams=function(){return this.localStreams},te.prototype.getRemoteStreams=function(){return this.remoteStreams},te.prototype._createTransceiver=function(V,z){var $={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:V,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&this.transceivers.length>0)$.iceTransport=this.transceivers[0].iceTransport,$.dtlsTransport=this.transceivers[0].dtlsTransport;else{var L=this._createIceAndDtlsTransports();$.iceTransport=L.iceTransport,$.dtlsTransport=L.dtlsTransport}return z||this.transceivers.push($),$},te.prototype.addTrack=function(V,z){if(this._isClosed)throw p("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var $;if(this.transceivers.find(function(O){return O.track===V}))throw p("InvalidAccessError","Track already exists.");for(var L=0;L<this.transceivers.length;L++)this.transceivers[L].track||this.transceivers[L].kind!==V.kind||($=this.transceivers[L]);return $||($=this._createTransceiver(V.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(z)===-1&&this.localStreams.push(z),$.track=V,$.stream=z,$.rtpSender=new u.RTCRtpSender(V,$.dtlsTransport),$.rtpSender},te.prototype.addStream=function(V){var z=this;if(y>=15025)V.getTracks().forEach(function(L){z.addTrack(L,V)});else{var $=V.clone();V.getTracks().forEach(function(L,O){var T=$.getTracks()[O];L.addEventListener("enabled",function(w){T.enabled=w.enabled})}),$.getTracks().forEach(function(L){z.addTrack(L,$)})}},te.prototype.removeTrack=function(V){if(this._isClosed)throw p("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(V instanceof u.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var z=this.transceivers.find(function(L){return L.rtpSender===V});if(!z)throw p("InvalidAccessError","Sender was not created by this connection.");var $=z.stream;z.rtpSender.stop(),z.rtpSender=null,z.track=null,z.stream=null,this.transceivers.map(function(L){return L.stream}).indexOf($)===-1&&this.localStreams.indexOf($)>-1&&this.localStreams.splice(this.localStreams.indexOf($),1),this._maybeFireNegotiationNeeded()},te.prototype.removeStream=function(V){var z=this;V.getTracks().forEach(function($){var L=z.getSenders().find(function(O){return O.track===$});L&&z.removeTrack(L)})},te.prototype.getSenders=function(){return this.transceivers.filter(function(V){return!!V.rtpSender}).map(function(V){return V.rtpSender})},te.prototype.getReceivers=function(){return this.transceivers.filter(function(V){return!!V.rtpReceiver}).map(function(V){return V.rtpReceiver})},te.prototype._createIceGatherer=function(V,z){var $=this;if(z&&V>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var L=new u.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(L,"state",{value:"new",writable:!0}),this.transceivers[V].bufferedCandidateEvents=[],this.transceivers[V].bufferCandidates=function(O){var T=!O.candidate||Object.keys(O.candidate).length===0;L.state=T?"completed":"gathering",$.transceivers[V].bufferedCandidateEvents!==null&&$.transceivers[V].bufferedCandidateEvents.push(O)},L.addEventListener("localcandidate",this.transceivers[V].bufferCandidates),L},te.prototype._gather=function(V,z){var $=this,L=this.transceivers[z].iceGatherer;if(!L.onlocalcandidate){var O=this.transceivers[z].bufferedCandidateEvents;this.transceivers[z].bufferedCandidateEvents=null,L.removeEventListener("localcandidate",this.transceivers[z].bufferCandidates),L.onlocalcandidate=function(T){if(!($.usingBundle&&z>0)){var w=new Event("icecandidate");w.candidate={sdpMid:V,sdpMLineIndex:z};var k=T.candidate,Y=!k||Object.keys(k).length===0;if(Y)L.state!=="new"&&L.state!=="gathering"||(L.state="completed");else{L.state==="new"&&(L.state="gathering"),k.component=1,k.ufrag=L.getLocalParameters().usernameFragment;var Z=B.writeCandidate(k);w.candidate=Object.assign(w.candidate,B.parseCandidate(Z)),w.candidate.candidate=Z,w.candidate.toJSON=function(){return{candidate:w.candidate.candidate,sdpMid:w.candidate.sdpMid,sdpMLineIndex:w.candidate.sdpMLineIndex,usernameFragment:w.candidate.usernameFragment}}}var W=B.getMediaSections($._localDescription.sdp);W[w.candidate.sdpMLineIndex]+=Y?`a=end-of-candidates\r
`:"a="+w.candidate.candidate+`\r
`,$._localDescription.sdp=B.getDescription($._localDescription.sdp)+W.join("");var K=$.transceivers.every(function(x){return x.iceGatherer&&x.iceGatherer.state==="completed"});$.iceGatheringState!=="gathering"&&($.iceGatheringState="gathering",$._emitGatheringStateChange()),Y||$._dispatchEvent("icecandidate",w),K&&($._dispatchEvent("icecandidate",new Event("icecandidate")),$.iceGatheringState="complete",$._emitGatheringStateChange())}},u.setTimeout(function(){O.forEach(function(T){L.onlocalcandidate(T)})},0)}},te.prototype._createIceAndDtlsTransports=function(){var V=this,z=new u.RTCIceTransport(null);z.onicestatechange=function(){V._updateIceConnectionState(),V._updateConnectionState()};var $=new u.RTCDtlsTransport(z);return $.ondtlsstatechange=function(){V._updateConnectionState()},$.onerror=function(){Object.defineProperty($,"state",{value:"failed",writable:!0}),V._updateConnectionState()},{iceTransport:z,dtlsTransport:$}},te.prototype._disposeIceAndDtlsTransports=function(V){var z=this.transceivers[V].iceGatherer;z&&(delete z.onlocalcandidate,delete this.transceivers[V].iceGatherer);var $=this.transceivers[V].iceTransport;$&&(delete $.onicestatechange,delete this.transceivers[V].iceTransport);var L=this.transceivers[V].dtlsTransport;L&&(delete L.ondtlsstatechange,delete L.onerror,delete this.transceivers[V].dtlsTransport)},te.prototype._transceive=function(V,z,$){var L=m(V.localCapabilities,V.remoteCapabilities);z&&V.rtpSender&&(L.encodings=V.sendEncodingParameters,L.rtcp={cname:B.localCName,compound:V.rtcpParameters.compound},V.recvEncodingParameters.length&&(L.rtcp.ssrc=V.recvEncodingParameters[0].ssrc),V.rtpSender.send(L)),$&&V.rtpReceiver&&L.codecs.length>0&&(V.kind==="video"&&V.recvEncodingParameters&&y<15019&&V.recvEncodingParameters.forEach(function(O){delete O.rtx}),L.encodings=V.recvEncodingParameters.length?V.recvEncodingParameters:[{}],L.rtcp={compound:V.rtcpParameters.compound},V.rtcpParameters.cname&&(L.rtcp.cname=V.rtcpParameters.cname),V.sendEncodingParameters.length&&(L.rtcp.ssrc=V.sendEncodingParameters[0].ssrc),V.rtpReceiver.receive(L))},te.prototype.setLocalDescription=function(V){var z,$,L=this;if(["offer","answer"].indexOf(V.type)===-1)return Promise.reject(p("TypeError",'Unsupported type "'+V.type+'"'));if(!I("setLocalDescription",V.type,L.signalingState)||L._isClosed)return Promise.reject(p("InvalidStateError","Can not set local "+V.type+" in state "+L.signalingState));if(V.type==="offer")z=B.splitSections(V.sdp),$=z.shift(),z.forEach(function(T,w){var k=B.parseRtpParameters(T);L.transceivers[w].localCapabilities=k}),L.transceivers.forEach(function(T,w){L._gather(T.mid,w)});else if(V.type==="answer"){z=B.splitSections(L._remoteDescription.sdp),$=z.shift();var O=B.matchPrefix($,"a=ice-lite").length>0;z.forEach(function(T,w){var k=L.transceivers[w],Y=k.iceGatherer,Z=k.iceTransport,W=k.dtlsTransport,K=k.localCapabilities,x=k.remoteCapabilities;if(!(B.isRejected(T)&&B.matchPrefix(T,"a=bundle-only").length===0||k.rejected)){var X=B.getIceParameters(T,$),H=B.getDtlsParameters(T,$);O&&(H.role="server"),L.usingBundle&&w!==0||(L._gather(k.mid,w),Z.state==="new"&&Z.start(Y,X,O?"controlling":"controlled"),W.state==="new"&&W.start(H));var j=m(K,x);L._transceive(k,j.codecs.length>0,!1)}})}return L._localDescription={type:V.type,sdp:V.sdp},L._updateSignalingState(V.type==="offer"?"have-local-offer":"stable"),Promise.resolve()},te.prototype.setRemoteDescription=function(V){var z=this;if(["offer","answer"].indexOf(V.type)===-1)return Promise.reject(p("TypeError",'Unsupported type "'+V.type+'"'));if(!I("setRemoteDescription",V.type,z.signalingState)||z._isClosed)return Promise.reject(p("InvalidStateError","Can not set remote "+V.type+" in state "+z.signalingState));var $={};z.remoteStreams.forEach(function(Z){$[Z.id]=Z});var L=[],O=B.splitSections(V.sdp),T=O.shift(),w=B.matchPrefix(T,"a=ice-lite").length>0,k=B.matchPrefix(T,"a=group:BUNDLE ").length>0;z.usingBundle=k;var Y=B.matchPrefix(T,"a=ice-options:")[0];return z.canTrickleIceCandidates=!!Y&&Y.substr(14).split(" ").indexOf("trickle")>=0,O.forEach(function(Z,W){var K=B.splitLines(Z),x=B.getKind(Z),X=B.isRejected(Z)&&B.matchPrefix(Z,"a=bundle-only").length===0,H=K[0].substr(2).split(" ")[2],j=B.getDirection(Z,T),ae=B.parseMsid(Z),ce=B.getMid(Z)||B.generateIdentifier();if(X||x==="application"&&(H==="DTLS/SCTP"||H==="UDP/DTLS/SCTP"))z.transceivers[W]={mid:ce,kind:x,protocol:H,rejected:!0};else{var ne,Qe,De,Fe,pe,ot,ft,yt,Ot;!X&&z.transceivers[W]&&z.transceivers[W].rejected&&(z.transceivers[W]=z._createTransceiver(x,!0));var ge,Ee,fe=B.parseRtpParameters(Z);X||(ge=B.getIceParameters(Z,T),(Ee=B.getDtlsParameters(Z,T)).role="client"),ft=B.parseRtpEncodingParameters(Z);var ie=B.parseRtcpParameters(Z),ue=B.matchPrefix(Z,"a=end-of-candidates",T).length>0,de=B.matchPrefix(Z,"a=candidate:").map(function(nt){return B.parseCandidate(nt)}).filter(function(nt){return nt.component===1});if((V.type==="offer"||V.type==="answer")&&!X&&k&&W>0&&z.transceivers[W]&&(z._disposeIceAndDtlsTransports(W),z.transceivers[W].iceGatherer=z.transceivers[0].iceGatherer,z.transceivers[W].iceTransport=z.transceivers[0].iceTransport,z.transceivers[W].dtlsTransport=z.transceivers[0].dtlsTransport,z.transceivers[W].rtpSender&&z.transceivers[W].rtpSender.setTransport(z.transceivers[0].dtlsTransport),z.transceivers[W].rtpReceiver&&z.transceivers[W].rtpReceiver.setTransport(z.transceivers[0].dtlsTransport)),V.type!=="offer"||X)V.type!=="answer"||X||(Qe=(ne=z.transceivers[W]).iceGatherer,De=ne.iceTransport,Fe=ne.dtlsTransport,pe=ne.rtpReceiver,ot=ne.sendEncodingParameters,yt=ne.localCapabilities,z.transceivers[W].recvEncodingParameters=ft,z.transceivers[W].remoteCapabilities=fe,z.transceivers[W].rtcpParameters=ie,de.length&&De.state==="new"&&(!w&&!ue||k&&W!==0?de.forEach(function(nt){Q(ne.iceTransport,nt)}):De.setRemoteCandidates(de)),k&&W!==0||(De.state==="new"&&De.start(Qe,ge,"controlling"),Fe.state==="new"&&Fe.start(Ee)),!m(ne.localCapabilities,ne.remoteCapabilities).codecs.filter(function(nt){return nt.name.toLowerCase()==="rtx"}).length&&ne.sendEncodingParameters[0].rtx&&delete ne.sendEncodingParameters[0].rtx,z._transceive(ne,j==="sendrecv"||j==="recvonly",j==="sendrecv"||j==="sendonly"),!pe||j!=="sendrecv"&&j!=="sendonly"?delete ne.rtpReceiver:(Ot=pe.track,ae?($[ae.stream]||($[ae.stream]=new u.MediaStream),N(Ot,$[ae.stream]),L.push([Ot,pe,$[ae.stream]])):($.default||($.default=new u.MediaStream),N(Ot,$.default),L.push([Ot,pe,$.default]))));else{(ne=z.transceivers[W]||z._createTransceiver(x)).mid=ce,ne.iceGatherer||(ne.iceGatherer=z._createIceGatherer(W,k)),de.length&&ne.iceTransport.state==="new"&&(!ue||k&&W!==0?de.forEach(function(nt){Q(ne.iceTransport,nt)}):ne.iceTransport.setRemoteCandidates(de)),yt=u.RTCRtpReceiver.getCapabilities(x),y<15019&&(yt.codecs=yt.codecs.filter(function(nt){return nt.name!=="rtx"})),ot=ne.sendEncodingParameters||[{ssrc:1001*(2*W+2)}];var le,Ve=!1;j==="sendrecv"||j==="sendonly"?(Ve=!ne.rtpReceiver,pe=ne.rtpReceiver||new u.RTCRtpReceiver(ne.dtlsTransport,x),Ve&&(Ot=pe.track,ae&&ae.stream==="-"||(ae?($[ae.stream]||($[ae.stream]=new u.MediaStream,Object.defineProperty($[ae.stream],"id",{get:function(){return ae.stream}})),Object.defineProperty(Ot,"id",{get:function(){return ae.track}}),le=$[ae.stream]):($.default||($.default=new u.MediaStream),le=$.default)),le&&(N(Ot,le),ne.associatedRemoteMediaStreams.push(le)),L.push([Ot,pe,le]))):ne.rtpReceiver&&ne.rtpReceiver.track&&(ne.associatedRemoteMediaStreams.forEach(function(nt){var ct=nt.getTracks().find(function(Re){return Re.id===ne.rtpReceiver.track.id});ct&&U(ct,nt)}),ne.associatedRemoteMediaStreams=[]),ne.localCapabilities=yt,ne.remoteCapabilities=fe,ne.rtpReceiver=pe,ne.rtcpParameters=ie,ne.sendEncodingParameters=ot,ne.recvEncodingParameters=ft,z._transceive(z.transceivers[W],!1,Ve)}}}),z._dtlsRole===void 0&&(z._dtlsRole=V.type==="offer"?"active":"passive"),z._remoteDescription={type:V.type,sdp:V.sdp},z._updateSignalingState(V.type==="offer"?"have-remote-offer":"stable"),Object.keys($).forEach(function(Z){var W=$[Z];if(W.getTracks().length){if(z.remoteStreams.indexOf(W)===-1){z.remoteStreams.push(W);var K=new Event("addstream");K.stream=W,u.setTimeout(function(){z._dispatchEvent("addstream",K)})}L.forEach(function(x){W.id===x[2].id&&q(z,x[0],x[1],[W])})}}),L.forEach(function(Z){Z[2]||q(z,Z[0],Z[1],[])}),u.setTimeout(function(){z&&z.transceivers&&z.transceivers.forEach(function(Z){Z.iceTransport&&Z.iceTransport.state==="new"&&Z.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),Z.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},te.prototype.close=function(){this.transceivers.forEach(function(V){V.iceTransport&&V.iceTransport.stop(),V.dtlsTransport&&V.dtlsTransport.stop(),V.rtpSender&&V.rtpSender.stop(),V.rtpReceiver&&V.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},te.prototype._updateSignalingState=function(V){this.signalingState=V;var z=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",z)},te.prototype._maybeFireNegotiationNeeded=function(){var V=this;this.signalingState==="stable"&&this.needNegotiation!==!0&&(this.needNegotiation=!0,u.setTimeout(function(){if(V.needNegotiation){V.needNegotiation=!1;var z=new Event("negotiationneeded");V._dispatchEvent("negotiationneeded",z)}},0))},te.prototype._updateIceConnectionState=function(){var V,z={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(L){L.iceTransport&&!L.rejected&&z[L.iceTransport.state]++}),V="new",z.failed>0?V="failed":z.checking>0?V="checking":z.disconnected>0?V="disconnected":z.new>0?V="new":z.connected>0?V="connected":z.completed>0&&(V="completed"),V!==this.iceConnectionState){this.iceConnectionState=V;var $=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",$)}},te.prototype._updateConnectionState=function(){var V,z={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(L){L.iceTransport&&L.dtlsTransport&&!L.rejected&&(z[L.iceTransport.state]++,z[L.dtlsTransport.state]++)}),z.connected+=z.completed,V="new",z.failed>0?V="failed":z.connecting>0?V="connecting":z.disconnected>0?V="disconnected":z.new>0?V="new":z.connected>0&&(V="connected"),V!==this.connectionState){this.connectionState=V;var $=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",$)}},te.prototype.createOffer=function(){var V=this;if(V._isClosed)return Promise.reject(p("InvalidStateError","Can not call createOffer after close"));var z=V.transceivers.filter(function(w){return w.kind==="audio"}).length,$=V.transceivers.filter(function(w){return w.kind==="video"}).length,L=arguments[0];if(L){if(L.mandatory||L.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");L.offerToReceiveAudio!==void 0&&(z=L.offerToReceiveAudio===!0?1:L.offerToReceiveAudio===!1?0:L.offerToReceiveAudio),L.offerToReceiveVideo!==void 0&&($=L.offerToReceiveVideo===!0?1:L.offerToReceiveVideo===!1?0:L.offerToReceiveVideo)}for(V.transceivers.forEach(function(w){w.kind==="audio"?--z<0&&(w.wantReceive=!1):w.kind==="video"&&--$<0&&(w.wantReceive=!1)});z>0||$>0;)z>0&&(V._createTransceiver("audio"),z--),$>0&&(V._createTransceiver("video"),$--);var O=B.writeSessionBoilerplate(V._sdpSessionId,V._sdpSessionVersion++);V.transceivers.forEach(function(w,k){var Y=w.track,Z=w.kind,W=w.mid||B.generateIdentifier();w.mid=W,w.iceGatherer||(w.iceGatherer=V._createIceGatherer(k,V.usingBundle));var K=u.RTCRtpSender.getCapabilities(Z);y<15019&&(K.codecs=K.codecs.filter(function(X){return X.name!=="rtx"})),K.codecs.forEach(function(X){X.name==="H264"&&X.parameters["level-asymmetry-allowed"]===void 0&&(X.parameters["level-asymmetry-allowed"]="1"),w.remoteCapabilities&&w.remoteCapabilities.codecs&&w.remoteCapabilities.codecs.forEach(function(H){X.name.toLowerCase()===H.name.toLowerCase()&&X.clockRate===H.clockRate&&(X.preferredPayloadType=H.payloadType)})}),K.headerExtensions.forEach(function(X){(w.remoteCapabilities&&w.remoteCapabilities.headerExtensions||[]).forEach(function(H){X.uri===H.uri&&(X.id=H.id)})});var x=w.sendEncodingParameters||[{ssrc:1001*(2*k+1)}];Y&&y>=15019&&Z==="video"&&!x[0].rtx&&(x[0].rtx={ssrc:x[0].ssrc+1}),w.wantReceive&&(w.rtpReceiver=new u.RTCRtpReceiver(w.dtlsTransport,Z)),w.localCapabilities=K,w.sendEncodingParameters=x}),V._config.bundlePolicy!=="max-compat"&&(O+="a=group:BUNDLE "+V.transceivers.map(function(w){return w.mid}).join(" ")+`\r
`),O+=`a=ice-options:trickle\r
`,V.transceivers.forEach(function(w,k){O+=D(w,w.localCapabilities,"offer",w.stream,V._dtlsRole),O+=`a=rtcp-rsize\r
`,!w.iceGatherer||V.iceGatheringState==="new"||k!==0&&V.usingBundle||(w.iceGatherer.getLocalCandidates().forEach(function(Y){Y.component=1,O+="a="+B.writeCandidate(Y)+`\r
`}),w.iceGatherer.state==="completed"&&(O+=`a=end-of-candidates\r
`))});var T=new u.RTCSessionDescription({type:"offer",sdp:O});return Promise.resolve(T)},te.prototype.createAnswer=function(){var V=this;if(V._isClosed)return Promise.reject(p("InvalidStateError","Can not call createAnswer after close"));if(V.signalingState!=="have-remote-offer"&&V.signalingState!=="have-local-pranswer")return Promise.reject(p("InvalidStateError","Can not call createAnswer in signalingState "+V.signalingState));var z=B.writeSessionBoilerplate(V._sdpSessionId,V._sdpSessionVersion++);V.usingBundle&&(z+="a=group:BUNDLE "+V.transceivers.map(function(O){return O.mid}).join(" ")+`\r
`),z+=`a=ice-options:trickle\r
`;var $=B.getMediaSections(V._remoteDescription.sdp).length;V.transceivers.forEach(function(O,T){if(!(T+1>$)){if(O.rejected)return O.kind==="application"?z+=O.protocol==="DTLS/SCTP"?`m=application 0 DTLS/SCTP 5000\r
`:"m=application 0 "+O.protocol+` webrtc-datachannel\r
`:O.kind==="audio"?z+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:O.kind==="video"&&(z+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),void(z+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+O.mid+`\r
`);var w;O.stream&&(O.kind==="audio"?w=O.stream.getAudioTracks()[0]:O.kind==="video"&&(w=O.stream.getVideoTracks()[0]),w&&y>=15019&&O.kind==="video"&&!O.sendEncodingParameters[0].rtx&&(O.sendEncodingParameters[0].rtx={ssrc:O.sendEncodingParameters[0].ssrc+1}));var k=m(O.localCapabilities,O.remoteCapabilities);!k.codecs.filter(function(Y){return Y.name.toLowerCase()==="rtx"}).length&&O.sendEncodingParameters[0].rtx&&delete O.sendEncodingParameters[0].rtx,z+=D(O,k,"answer",O.stream,V._dtlsRole),O.rtcpParameters&&O.rtcpParameters.reducedSize&&(z+=`a=rtcp-rsize\r
`)}});var L=new u.RTCSessionDescription({type:"answer",sdp:z});return Promise.resolve(L)},te.prototype.addIceCandidate=function(V){var z,$=this;return V&&V.sdpMLineIndex===void 0&&!V.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(L,O){if(!$._remoteDescription)return O(p("InvalidStateError","Can not add ICE candidate without a remote description"));if(V&&V.candidate!==""){var T=V.sdpMLineIndex;if(V.sdpMid){for(var w=0;w<$.transceivers.length;w++)if($.transceivers[w].mid===V.sdpMid){T=w;break}}var k=$.transceivers[T];if(!k)return O(p("OperationError","Can not add ICE candidate"));if(k.rejected)return L();var Y=Object.keys(V.candidate).length>0?B.parseCandidate(V.candidate):{};if(Y.protocol==="tcp"&&(Y.port===0||Y.port===9)||Y.component&&Y.component!==1)return L();if((T===0||T>0&&k.iceTransport!==$.transceivers[0].iceTransport)&&!Q(k.iceTransport,Y))return O(p("OperationError","Can not add ICE candidate"));var Z=V.candidate.trim();Z.indexOf("a=")===0&&(Z=Z.substr(2)),(z=B.getMediaSections($._remoteDescription.sdp))[T]+="a="+(Y.type?Z:"end-of-candidates")+`\r
`,$._remoteDescription.sdp=B.getDescription($._remoteDescription.sdp)+z.join("")}else for(var W=0;W<$.transceivers.length&&($.transceivers[W].rejected||($.transceivers[W].iceTransport.addRemoteCandidate({}),(z=B.getMediaSections($._remoteDescription.sdp))[W]+=`a=end-of-candidates\r
`,$._remoteDescription.sdp=B.getDescription($._remoteDescription.sdp)+z.join(""),!$.usingBundle));W++);L()})},te.prototype.getStats=function(V){if(V&&V instanceof u.MediaStreamTrack){var z=null;if(this.transceivers.forEach(function(L){L.rtpSender&&L.rtpSender.track===V?z=L.rtpSender:L.rtpReceiver&&L.rtpReceiver.track===V&&(z=L.rtpReceiver)}),!z)throw p("InvalidAccessError","Invalid selector.");return z.getStats()}var $=[];return this.transceivers.forEach(function(L){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(O){L[O]&&$.push(L[O].getStats())})}),Promise.all($).then(function(L){var O=new Map;return L.forEach(function(T){T.forEach(function(w){O.set(w.id,w)})}),O})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(V){var z=u[V];if(z&&z.prototype&&z.prototype.getStats){var $=z.prototype.getStats;z.prototype.getStats=function(){return $.apply(this).then(function(L){var O=new Map;return Object.keys(L).forEach(function(T){L[T].type=v(L[T]),O.set(T,L[T])}),O})}}});var F=["createOffer","createAnswer"];return F.forEach(function(V){var z=te.prototype[V];te.prototype[V]=function(){var $=arguments;return typeof $[0]=="function"||typeof $[1]=="function"?z.apply(this,[arguments[2]]).then(function(L){typeof $[0]=="function"&&$[0].apply(null,[L])},function(L){typeof $[1]=="function"&&$[1].apply(null,[L])}):z.apply(this,arguments)}}),(F=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(V){var z=te.prototype[V];te.prototype[V]=function(){var $=arguments;return typeof $[1]=="function"||typeof $[2]=="function"?z.apply(this,arguments).then(function(){typeof $[1]=="function"&&$[1].apply(null)},function(L){typeof $[2]=="function"&&$[2].apply(null,[L])}):z.apply(this,arguments)}}),["getStats"].forEach(function(V){var z=te.prototype[V];te.prototype[V]=function(){var $=arguments;return typeof $[1]=="function"?z.apply(this,arguments).then(function(){typeof $[1]=="function"&&$[1].apply(null)}):z.apply(this,arguments)}}),te}},{sdp:17}],17:[function(c,h,f){var B={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};B.localCName=B.generateIdentifier(),B.splitLines=function(v){return v.trim().split(`
`).map(function(D){return D.trim()})},B.splitSections=function(v){return v.split(`
m=`).map(function(D,_){return(_>0?"m="+D:D).trim()+`\r
`})},B.getDescription=function(v){var D=B.splitSections(v);return D&&D[0]},B.getMediaSections=function(v){var D=B.splitSections(v);return D.shift(),D},B.matchPrefix=function(v,D){return B.splitLines(v).filter(function(_){return _.indexOf(D)===0})},B.parseCandidate=function(v){for(var D,_={foundation:(D=v.indexOf("a=candidate:")===0?v.substring(12).split(" "):v.substring(10).split(" "))[0],component:parseInt(D[1],10),protocol:D[2].toLowerCase(),priority:parseInt(D[3],10),ip:D[4],address:D[4],port:parseInt(D[5],10),type:D[7]},m=8;m<D.length;m+=2)switch(D[m]){case"raddr":_.relatedAddress=D[m+1];break;case"rport":_.relatedPort=parseInt(D[m+1],10);break;case"tcptype":_.tcpType=D[m+1];break;case"ufrag":_.ufrag=D[m+1],_.usernameFragment=D[m+1];break;default:_[D[m]]=D[m+1]}return _},B.writeCandidate=function(v){var D=[];D.push(v.foundation),D.push(v.component),D.push(v.protocol.toUpperCase()),D.push(v.priority),D.push(v.address||v.ip),D.push(v.port);var _=v.type;return D.push("typ"),D.push(_),_!=="host"&&v.relatedAddress&&v.relatedPort&&(D.push("raddr"),D.push(v.relatedAddress),D.push("rport"),D.push(v.relatedPort)),v.tcpType&&v.protocol.toLowerCase()==="tcp"&&(D.push("tcptype"),D.push(v.tcpType)),(v.usernameFragment||v.ufrag)&&(D.push("ufrag"),D.push(v.usernameFragment||v.ufrag)),"candidate:"+D.join(" ")},B.parseIceOptions=function(v){return v.substr(14).split(" ")},B.parseRtpMap=function(v){var D=v.substr(9).split(" "),_={payloadType:parseInt(D.shift(),10)};return D=D[0].split("/"),_.name=D[0],_.clockRate=parseInt(D[1],10),_.channels=D.length===3?parseInt(D[2],10):1,_.numChannels=_.channels,_},B.writeRtpMap=function(v){var D=v.payloadType;v.preferredPayloadType!==void 0&&(D=v.preferredPayloadType);var _=v.channels||v.numChannels||1;return"a=rtpmap:"+D+" "+v.name+"/"+v.clockRate+(_!==1?"/"+_:"")+`\r
`},B.parseExtmap=function(v){var D=v.substr(9).split(" ");return{id:parseInt(D[0],10),direction:D[0].indexOf("/")>0?D[0].split("/")[1]:"sendrecv",uri:D[1]}},B.writeExtmap=function(v){return"a=extmap:"+(v.id||v.preferredId)+(v.direction&&v.direction!=="sendrecv"?"/"+v.direction:"")+" "+v.uri+`\r
`},B.parseFmtp=function(v){for(var D,_={},m=v.substr(v.indexOf(" ")+1).split(";"),I=0;I<m.length;I++)_[(D=m[I].trim().split("="))[0].trim()]=D[1];return _},B.writeFmtp=function(v){var D="",_=v.payloadType;if(v.preferredPayloadType!==void 0&&(_=v.preferredPayloadType),v.parameters&&Object.keys(v.parameters).length){var m=[];Object.keys(v.parameters).forEach(function(I){m.push(v.parameters[I]?I+"="+v.parameters[I]:I)}),D+="a=fmtp:"+_+" "+m.join(";")+`\r
`}return D},B.parseRtcpFb=function(v){var D=v.substr(v.indexOf(" ")+1).split(" ");return{type:D.shift(),parameter:D.join(" ")}},B.writeRtcpFb=function(v){var D="",_=v.payloadType;return v.preferredPayloadType!==void 0&&(_=v.preferredPayloadType),v.rtcpFeedback&&v.rtcpFeedback.length&&v.rtcpFeedback.forEach(function(m){D+="a=rtcp-fb:"+_+" "+m.type+(m.parameter&&m.parameter.length?" "+m.parameter:"")+`\r
`}),D},B.parseSsrcMedia=function(v){var D=v.indexOf(" "),_={ssrc:parseInt(v.substr(7,D-7),10)},m=v.indexOf(":",D);return m>-1?(_.attribute=v.substr(D+1,m-D-1),_.value=v.substr(m+1)):_.attribute=v.substr(D+1),_},B.parseSsrcGroup=function(v){var D=v.substr(13).split(" ");return{semantics:D.shift(),ssrcs:D.map(function(_){return parseInt(_,10)})}},B.getMid=function(v){var D=B.matchPrefix(v,"a=mid:")[0];if(D)return D.substr(6)},B.parseFingerprint=function(v){var D=v.substr(14).split(" ");return{algorithm:D[0].toLowerCase(),value:D[1]}},B.getDtlsParameters=function(v,D){return{role:"auto",fingerprints:B.matchPrefix(v+D,"a=fingerprint:").map(B.parseFingerprint)}},B.writeDtlsParameters=function(v,D){var _="a=setup:"+D+`\r
`;return v.fingerprints.forEach(function(m){_+="a=fingerprint:"+m.algorithm+" "+m.value+`\r
`}),_},B.getIceParameters=function(v,D){var _=B.splitLines(v);return{usernameFragment:(_=_.concat(B.splitLines(D))).filter(function(m){return m.indexOf("a=ice-ufrag:")===0})[0].substr(12),password:_.filter(function(m){return m.indexOf("a=ice-pwd:")===0})[0].substr(10)}},B.writeIceParameters=function(v){return"a=ice-ufrag:"+v.usernameFragment+`\r
a=ice-pwd:`+v.password+`\r
`},B.parseRtpParameters=function(v){for(var D={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},_=B.splitLines(v)[0].split(" "),m=3;m<_.length;m++){var I=_[m],Q=B.matchPrefix(v,"a=rtpmap:"+I+" ")[0];if(Q){var p=B.parseRtpMap(Q),u=B.matchPrefix(v,"a=fmtp:"+I+" ");switch(p.parameters=u.length?B.parseFmtp(u[0]):{},p.rtcpFeedback=B.matchPrefix(v,"a=rtcp-fb:"+I+" ").map(B.parseRtcpFb),D.codecs.push(p),p.name.toUpperCase()){case"RED":case"ULPFEC":D.fecMechanisms.push(p.name.toUpperCase())}}}return B.matchPrefix(v,"a=extmap:").forEach(function(y){D.headerExtensions.push(B.parseExtmap(y))}),D},B.writeRtpDescription=function(v,D){var _="";_+="m="+v+" ",_+=D.codecs.length>0?"9":"0",_+=" UDP/TLS/RTP/SAVPF ",_+=D.codecs.map(function(I){return I.preferredPayloadType!==void 0?I.preferredPayloadType:I.payloadType}).join(" ")+`\r
`,_+=`c=IN IP4 0.0.0.0\r
`,_+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,D.codecs.forEach(function(I){_+=B.writeRtpMap(I),_+=B.writeFmtp(I),_+=B.writeRtcpFb(I)});var m=0;return D.codecs.forEach(function(I){I.maxptime>m&&(m=I.maxptime)}),m>0&&(_+="a=maxptime:"+m+`\r
`),_+=`a=rtcp-mux\r
`,D.headerExtensions&&D.headerExtensions.forEach(function(I){_+=B.writeExtmap(I)}),_},B.parseRtpEncodingParameters=function(v){var D,_=[],m=B.parseRtpParameters(v),I=m.fecMechanisms.indexOf("RED")!==-1,Q=m.fecMechanisms.indexOf("ULPFEC")!==-1,p=B.matchPrefix(v,"a=ssrc:").map(function(U){return B.parseSsrcMedia(U)}).filter(function(U){return U.attribute==="cname"}),u=p.length>0&&p[0].ssrc,y=B.matchPrefix(v,"a=ssrc-group:FID").map(function(U){return U.substr(17).split(" ").map(function(q){return parseInt(q,10)})});y.length>0&&y[0].length>1&&y[0][0]===u&&(D=y[0][1]),m.codecs.forEach(function(U){if(U.name.toUpperCase()==="RTX"&&U.parameters.apt){var q={ssrc:u,codecPayloadType:parseInt(U.parameters.apt,10)};u&&D&&(q.rtx={ssrc:D}),_.push(q),I&&((q=JSON.parse(JSON.stringify(q))).fec={ssrc:u,mechanism:Q?"red+ulpfec":"red"},_.push(q))}}),_.length===0&&u&&_.push({ssrc:u});var N=B.matchPrefix(v,"b=");return N.length&&(N=N[0].indexOf("b=TIAS:")===0?parseInt(N[0].substr(7),10):N[0].indexOf("b=AS:")===0?1e3*parseInt(N[0].substr(5),10)*.95-16e3:void 0,_.forEach(function(U){U.maxBitrate=N})),_},B.parseRtcpParameters=function(v){var D={},_=B.matchPrefix(v,"a=ssrc:").map(function(Q){return B.parseSsrcMedia(Q)}).filter(function(Q){return Q.attribute==="cname"})[0];_&&(D.cname=_.value,D.ssrc=_.ssrc);var m=B.matchPrefix(v,"a=rtcp-rsize");D.reducedSize=m.length>0,D.compound=m.length===0;var I=B.matchPrefix(v,"a=rtcp-mux");return D.mux=I.length>0,D},B.parseMsid=function(v){var D,_=B.matchPrefix(v,"a=msid:");if(_.length===1)return{stream:(D=_[0].substr(7).split(" "))[0],track:D[1]};var m=B.matchPrefix(v,"a=ssrc:").map(function(I){return B.parseSsrcMedia(I)}).filter(function(I){return I.attribute==="msid"});return m.length>0?{stream:(D=m[0].value.split(" "))[0],track:D[1]}:void 0},B.generateSessionId=function(){return Math.random().toString().substr(2,21)},B.writeSessionBoilerplate=function(v,D,_){var m=D!==void 0?D:2;return`v=0\r
o=`+(_||"thisisadapterortc")+" "+(v||B.generateSessionId())+" "+m+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},B.writeMediaSection=function(v,D,_,m){var I=B.writeRtpDescription(v.kind,D);if(I+=B.writeIceParameters(v.iceGatherer.getLocalParameters()),I+=B.writeDtlsParameters(v.dtlsTransport.getLocalParameters(),_==="offer"?"actpass":"active"),I+="a=mid:"+v.mid+`\r
`,I+=v.direction?"a="+v.direction+`\r
`:v.rtpSender&&v.rtpReceiver?`a=sendrecv\r
`:v.rtpSender?`a=sendonly\r
`:v.rtpReceiver?`a=recvonly\r
`:`a=inactive\r
`,v.rtpSender){var Q="msid:"+m.id+" "+v.rtpSender.track.id+`\r
`;I+="a="+Q,I+="a=ssrc:"+v.sendEncodingParameters[0].ssrc+" "+Q,v.sendEncodingParameters[0].rtx&&(I+="a=ssrc:"+v.sendEncodingParameters[0].rtx.ssrc+" "+Q,I+="a=ssrc-group:FID "+v.sendEncodingParameters[0].ssrc+" "+v.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return I+="a=ssrc:"+v.sendEncodingParameters[0].ssrc+" cname:"+B.localCName+`\r
`,v.rtpSender&&v.sendEncodingParameters[0].rtx&&(I+="a=ssrc:"+v.sendEncodingParameters[0].rtx.ssrc+" cname:"+B.localCName+`\r
`),I},B.getDirection=function(v,D){for(var _=B.splitLines(v),m=0;m<_.length;m++)switch(_[m]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return _[m].substr(2)}return D?B.getDirection(D):"sendrecv"},B.getKind=function(v){return B.splitLines(v)[0].split(" ")[0].substr(2)},B.isRejected=function(v){return v.split(" ",2)[1]==="0"},B.parseMLine=function(v){var D=B.splitLines(v)[0].substr(2).split(" ");return{kind:D[0],port:parseInt(D[1],10),protocol:D[2],fmt:D.slice(3).join(" ")}},B.parseOLine=function(v){var D=B.matchPrefix(v,"o=")[0].substr(2).split(" ");return{username:D[0],sessionId:D[1],sessionVersion:parseInt(D[2],10),netType:D[3],addressType:D[4],address:D[5]}},B.isValidSDP=function(v){if(typeof v!="string"||v.length===0)return!1;for(var D=B.splitLines(v),_=0;_<D.length;_++)if(D[_].length<2||D[_].charAt(1)!=="=")return!1;return!0},typeof h=="object"&&(h.exports=B)},{}]},{},[1])(1)},4119:function(a){a.exports=__WEBPACK_EXTERNAL_MODULE__4119__}},__webpack_module_cache__={};function __webpack_require__(a){var c=__webpack_module_cache__[a];if(c!==void 0)return c.exports;var h=__webpack_module_cache__[a]={exports:{}};return __webpack_modules__[a].call(h.exports,h,h.exports,__webpack_require__),h.exports}__webpack_require__.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return __webpack_require__.d(c,{a:c}),c},__webpack_require__.d=function(a,c){for(var h in c)__webpack_require__.o(c,h)&&!__webpack_require__.o(a,h)&&Object.defineProperty(a,h,{enumerable:!0,get:c[h]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},__webpack_require__.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var __webpack_exports__={};return function(){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WebRTCUtil:function(){return Ne},ZegoExpressEngine:function(){return kf}});var a,c,h=__webpack_require__(4119),f="3.0.1";(function(A){A[A.debug=0]="debug",A[A.info=1]="info",A[A.warn=2]="warn",A[A.error=3]="error",A[A.report=99]="report",A[A.disable=100]="disable"})(a||(a={})),function(A){A[A.CN=2]="CN",A[A.NA=3]="NA",A[A.EU=4]="EU",A[A.AS=5]="AS",A[A.IN=6]="IN",A[A.NCN=7]="NCN"}(c||(c={}));var B,v;(function(A){A[A.disable=0]="disable",A[A.websocket=1]="websocket",A[A.https=2]="https"})(B||(B={})),function(A){A[A.SDKProject_Other=0]="SDKProject_Other",A[A.SDKProject_ZegoExpressVideo=1]="SDKProject_ZegoExpressVideo",A[A.SDKProject_ZegoExpressAudio=2]="SDKProject_ZegoExpressAudio",A[A.SDKProject_ZegoLiveRoom=3]="SDKProject_ZegoLiveRoom",A[A.SDKProject_ZegoAudioRoom=4]="SDKProject_ZegoAudioRoom",A[A.SDKProject_ZegoAVKit=5]="SDKProject_ZegoAVKit",A[A.SDKProject_ZegoWebRTC=6]="SDKProject_ZegoWebRTC",A[A.SDKProject_ZegoMiniProgram=7]="SDKProject_ZegoMiniProgram"}(v||(v={}));var D;(function(A){A[A.disconnected=0]="disconnected",A[A.connecting=1]="connecting",A[A.connected=2]="connected"})(D||(D={}));var _,m,I,Q={width:320,height:240,frameRate:15,bitRate:300},p={width:640,height:480,frameRate:15,bitRate:800},u={width:1280,height:720,frameRate:20,bitRate:1500},y={frameRate:20,bitRate:800},N={frameRate:15,bitRate:1500},U={frameRate:5,bitRate:2e3},q=0,te=1,F=2,V=3,z=4,$=5,L=6,O=7,T=0,w=1,k=2,Y=3,Z=4,W=5,K=6,x=7,X=1,H=2,j={stop:0,start:1,waiterAnswer:2,waitingCandidate:3,sendCandidate:4,iceConnected:5,iceDisconnected:6,iceClosed:7,iceFailed:8};(function(A){A[A.tryProbe=0]="tryProbe",A[A.probed=2]="probed"})(_||(_={})),function(A){A[A.CDN=0]="CDN",A[A.RTC=1]="RTC",A[A.L3=2]="L3",A[A.DG=3]="DG"}(m||(m={})),function(A){A[A.UDP=0]="UDP",A[A.RTMP=1]="RTMP",A[A.FLV=2]="FLV",A[A.HLS=3]="HLS",A[A.WEBRTC=4]="WEBRTC"}(I||(I={}));var ae,ce,ne,Qe=0,De=1,Fe=2,pe=1e3,ot={waiting_url:1,tryPublish:2,update_info:3,publishing:4,stop:5,retryPublish:6},ft=2001,yt=2002,Ot=2003,ge=1,Ee=0;(function(A){A[A.logout=0]="logout",A[A.trylogin=1]="trylogin",A[A.login=2]="login"})(ae||(ae={})),function(A){A[A.logout=0]="logout",A[A.trylogin=1]="trylogin",A[A.login=2]="login",A[A.reconnect=3]="reconnect"}(ce||(ce={})),function(A){A[A.offline=0]="offline",A[A.online=1]="online"}(ne||(ne={}));var fe,ie={0:{code:1,description:"user_stop_publishing_stream_normal"},1:{code:2,description:"user_heart_beat_timeout"},2:{code:3,description:"user_repeat_login"},3:{code:4,description:"user_kicked_out"},4:{code:5,description:"user_offline"},100:{code:6,description:"remove_by_server"}};(function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.CDN=1]="CDN",A[A.RTC=2]="RTC",A[A.L3=3]="L3"})(fe||(fe={}));var ue,de=12001,le=12002,Ve=12003,nt=1,ct=2,Re=3;(function(A){A[A.low=1]="low",A[A.stantard=2]="stantard",A[A.hight=3]="hight",A[A.custome=4]="custome"})(ue||(ue={}));var lt,St,Yt,xe,st,At,Et={stop:0,start:1,waiterAnswer:2,waitingCandidate:3,sendCandidate:4,iceConnected:5,iceDisconnected:6,iceClosed:7,iceFailed:8};(function(A){A[A.captureFpsToLow=1001]="captureFpsToLow",A[A.captureVolumeToLow=1002]="captureVolumeToLow",A[A.sendVideoBitrateToLow=1003]="sendVideoBitrateToLow",A[A.sendFpsToLow=1004]="sendFpsToLow",A[A.sendAudioBitrateToLow=1005]="sendAudioBitrateToLow",A[A.receiveVolumeToLow=1006]="receiveVolumeToLow",A[A.receiveAudioDecodedFail=1007]="receiveAudioDecodedFail",A[A.receiveVideoDecodedFail=1008]="receiveVideoDecodedFail",A[A.receiveVideoFpsDecodedToLow=1009]="receiveVideoFpsDecodedToLow",A[A.renderVideoFpsToLow=1010]="renderVideoFpsToLow",A[A.captureFpsNormal=2001]="captureFpsNormal",A[A.captureVolumeNormal=2002]="captureVolumeNormal",A[A.sendVideoBitrateNormal=2003]="sendVideoBitrateNormal",A[A.sendFpsNormal=2004]="sendFpsNormal",A[A.sendAudioBitrateNormal=2005]="sendAudioBitrateNormal",A[A.receiveVolumeNormal=2006]="receiveVolumeNormal",A[A.receiveAudioDecodedNormal=2007]="receiveAudioDecodedNormal",A[A.receiveVideoDecodedNormal=2008]="receiveVideoDecodedNormal",A[A.receiveVideoFpsDecodedNormal=2009]="receiveVideoFpsDecodedNormal",A[A.renderVideoFpsNormal=2010]="renderVideoFpsNormal"})(lt||(lt={})),function(A){A[A.cdn=0]="cdn",A[A.ultra=1]="ultra"}(St||(St={})),function(A){A[A.stop=0]="stop",A[A.start=1]="start"}(Yt||(Yt={})),function(A){A[A.cdn=0]="cdn",A[A.ultra=1]="ultra",A[A.customUrl=2]="customUrl"}(xe||(xe={})),function(A){A[A.CDN=0]="CDN",A[A.BGP=1]="BGP"}(st||(st={})),function(A){A[A.ClientType_None=0]="ClientType_None",A[A.ClientType_H5=1]="ClientType_H5",A[A.ClientType_SmallPragram=2]="ClientType_SmallPragram",A[A.ClientType_Webrtc=3]="ClientType_Webrtc"}(At||(At={}));var Dt,Ft,zt,Ut,Vt,mr,Br,Zt,wr,kt,Ar,qe,nr=function(){function A(t,n){t===void 0&&(t=null),n===void 0&&(n=null),this._id=null,this.next=null,this.prev=null,this._id=t,this._data=n}return Object.defineProperty(A.prototype,"id",{get:function(){return this._id?this._id:null},set:function(t){this._id=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),A.prototype.hasNext=function(){return this.next&&this.next.id},A.prototype.hasPrev=function(){return this.prev&&this.prev.id},A}(),tr=function(){function A(){this.start=new nr,this.end=new nr,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}return A.prototype.insertBefore=function(t,n){var o=new nr(this._idCounter,n);return o.next=t,o.prev=t.prev,t.prev&&(t.prev.next=o),t.prev=o,++this._idCounter,++this._numNodes,o},A.prototype.addLast=function(t){return this.insertBefore(this.end,t)},A.prototype.add=function(t){return this.addLast(t)},A.prototype.getFirst=function(){return this._numNodes===0?null:this.start.next},A.prototype.getLast=function(){return this._numNodes===0?null:this.end.prev},A.prototype.size=function(){return this._numNodes},A.prototype.getFromFirst=function(t){var n=0,o=this.start.next;if(t>=0)for(;n<t&&o!==null;)o=o.next,++n;else o=null;if(o===null)throw"Index out of bounds.";return o},A.prototype.get=function(t){return t===0?this.getFirst():t===this._numNodes-1?this.getLast():this.getFromFirst(t)},A.prototype.remove=function(t){return t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),--this._numNodes,t},A.prototype.removeFirst=function(){var t=null;return this._numNodes>0&&this.start.next&&(t=this.remove(this.start.next)),t},A.prototype.removeLast=function(){var t=null;return this._numNodes>0&&this.end.prev&&(t=this.remove(this.end.prev)),t},A.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},A.prototype.each=function(t){for(var n=this.start;n.hasNext();)t(n=n.next)},A.prototype.find=function(t){for(var n=this.start,o=!1,s=null;n.hasNext()&&!o;)t(n=n.next)&&(s=n,o=!0);return s},A.prototype.map=function(t){for(var n=this.start,o=[];n.hasNext();)t(n=n.next)&&o.push(n);return o},A.prototype.push=function(t){return this.addLast(t)},A.prototype.unshift=function(t){this.insertBefore(this._numNodes>0?this.start.next:this.end,t)},A.prototype.pop=function(){return this.removeLast()},A.prototype.shift=function(){return this.removeFirst()},A}(),lr=0,pr=1,rr=2,Dr=0,Kt=1,$t=2,Nr=3;(function(A){A[A.Unknown=-1]="Unknown",A[A.Excellent=0]="Excellent",A[A.Good=1]="Good",A[A.Middle=2]="Middle",A[A.Poor=3]="Poor",A[A.Die=4]="Die"})(Dt||(Dt={})),function(A){A[A.MinQuality=0]="MinQuality",A[A.DieQuality=0]="DieQuality",A[A.PoorMinQuality=1]="PoorMinQuality",A[A.MiddleMinQuality=30]="MiddleMinQuality",A[A.GoodMinQuality=60]="GoodMinQuality",A[A.ExcellentMinQuality=85]="ExcellentMinQuality",A[A.MaxQuality=100]="MaxQuality"}(Ft||(Ft={})),function(A){A[A.ZegoDefined=0]="ZegoDefined",A[A.UserUnregister=1]="UserUnregister"}(zt||(zt={})),function(A){A[A.CDN=0]="CDN",A[A.L3=1]="L3"}(Ut||(Ut={})),function(A){A[A.RTC=0]="RTC",A[A.CDN=1]="CDN",A[A.L3=2]="L3",A[A.DG=3]="DG"}(Vt||(Vt={})),function(A){A[A.PortraitSegmentation=0]="PortraitSegmentation"}(mr||(mr={})),function(A){A[A.Default=3]="Default",A[A.StandardVideoCall=4]="StandardVideoCall",A[A.HighVideoCall=5]="HighVideoCall",A[A.StandardChatroom=6]="StandardChatroom",A[A.HighQualityChatroom=7]="HighQualityChatroom",A[A.Broadcast=8]="Broadcast"}(Br||(Br={})),function(A){A[A.I=0]="I",A[A.H=10]="H",A[A.M=100]="M",A[A.L=1e3]="L"}(Zt||(Zt={})),function(A){A[A.BASE_LINE=1]="BASE_LINE",A[A.MAIN=2]="MAIN",A[A.HIGH=3]="HIGH"}(wr||(wr={})),function(A){A.ONLY_BASELINE="only_baseline",A.HARD_SOFT_ENCODEC_FIRST="hard_or_soft_encodec_first",A.HIGH_PROFILE_FIRST="high_profile_first"}(kt||(kt={})),function(A){A[A.useAnalyzer=0]="useAnalyzer",A[A.useWorklet=1]="useWorklet"}(Ar||(Ar={})),function(A){A[A.None=0]="None",A[A.Vocalist=1]="Vocalist",A[A.BackingSinging=2]="BackingSinging"}(qe||(qe={}));var Rr,fr={code:1000002,message:"not login room"},un={code:1000017,message:"network is broken"},ln={code:1001021,message:"set geoFence fail"},_r={code:1100001,message:"input param error."},gr={code:1100002,message:"network timeout."},Qr={code:1100003,msg:"socket close"},vr={code:1100999,message:"unknown server error"},Gr={code:1101002,message:"get app config fail"},$r=1101003,ur=1102016,Kr={code:1102017,message:"dispatch error"},Hr={code:1102018,message:"token expired"},gn={code:1102022,message:"dispatch request timeout"},Tr={code:1102023,message:"connect signal fail"},Or={code:1103001,message:"input param error"},Sr={code:1103002,message:"browser do not support"},Vr={code:1103011,message:"enumerate devices fail"},qr={code:1103021,message:"session request fail"},ke={code:1103022,message:"create offer error"},Ge={code:1103055,message:"publish stream no found"},Ke={code:1104021,message:"session request fail"},We={code:1104027,message:"server session closed"},Ae={code:1104038,message:"resource mode is not supported"},be=1006006,tt={code:1000067,message:"Logged in room, setting scenario is not supported"},dt={code:1103083,message:"sdp wrong format"},It={code:1103084,message:"mini sdp buffer size exceeded"},rt={code:1103085,message:"url size exceeded"},Ze=1103086,Nt="this publish stream id is not created by CreateZegoStream",Lt=1103087,cr="the zego stream does not capture audio",Me=1103088,me="the zego stream does not capture video",Be=function(A){return A},ve=function(A){return A},Ue=function(A){return A},Se=function(A){return A},je=function(A){return A},pt="/sdk/init",ee="/sdk/login",Pe="listener",He="/sdk/on_listener",it={INPUT_PARAM:_r},ht="/sdk/off_listener",Ht={INPUT_PARAM:_r},xt="/sdk/init",Gt="/sdk/create_stream",Tt={kBrowserNotSupportError:Sr,kParamError:Or,kScreenCancelError:{code:1103042,message:"screen canceled"},kScreenFailedError:{code:1103010,message:"screen fail"},kScreenNotSupportError:{code:1103043,message:"screen not support"},kHttpsRequiredError:{code:1103053,message:"https is required"},kGetUserMediaError:{code:1103061,message:"get media fail"},kDeviceNoAllowedError:{code:1103064,message:"get device not allowed"},kDeviceNoReadableError:{code:1103065,message:"device is not readable"},kDeviceOverConstrainedError:{code:1103066,message:"device does not meet constraints"}},Ir=ve,bt=Be,Zr=Be,Wr=Be,Mn=Be,ui=ve,tn={event:"/sdk/start_publish",error:{kPublishParamError:Or,kPublishNetworkTimeoutError:gr,kPublishDispatchTimeoutError:gn,kPublishDispatchError:Kr,kPublishNetworkBrokenError:un,kPublishNoPreviewError:{code:1103044,message:"stream is not from zego"},kPublishNoCaptureError:{code:1103099,message:"stream is not capturing"},kPublishEffectIsStarting:{code:1103073,message:"video effect is starting, please operate after video effect is started"},kPublishNoLoginError:fr,kPublishRetryTimeoutError:{code:1103051,message:"publisher retry timeout"},kMediaServerForbidError:{code:1003025,message:"stream is forbided by media server"},kPublishTokenExpiredError:Hr,kPublishSessionClosedError:{code:1103027,message:"server session closed"},kPublishNegoTimeoutError:{code:1103030,message:"negotiation timeout"},kCreateOfferError:ke,kSetLocalDescError:{code:1103023,message:"setLocalDescription error"},kSessionTimeoutError:{code:1103060,message:"session request timeout"},kSessionRequestError:qr,kSetRemoteDescError:{code:1103025,message:"other side offer error"},kMediaConnectionError:{code:1103028,message:"ice connection error"},kWebsocketDisconnectedError:{code:1103050,message:"websocket disconnected"},kMediaDescError:{code:1103024,message:"mediaDesc error"},kCandidateError:{code:1103026,message:"candidate error"},kIsPublishing:{code:1103056,message:"publish is publishing"},kClientIPChangedError:{code:1103058,message:"client ip changed"},kTTLOverTimeError:{code:1103059,message:"ttl over time"},kUpdateMediaDescriptionTimeOut:{code:1103067,message:"update sdp time out"},kUpdateMediaDescriptionError:{code:1103068,message:"update sdp fail"},kPublishNetProbePoor:{code:1103069,message:"publish stream poor and net probe poor"},kPublishNotSubscribeBackgroundProcessError:{code:1103070,message:"background process is start, but not subscribe yet"}},urls:Ue,is_center:je,server_url:ve,publish_option:Be,message:ve,stream_id:ve,stream_sid:Se,room_id:ve,video_en_codec_id:Se,cap_w:Se,cap_h:Se,w:Se,h:Se,video_en_fps:Se,video_en_bps:Se,audio_c_channel_count:Se,audio_en_bps:Se,aec_level:Se,ans_level:Se,agc:je,enable_camera:je,enable_mic:je,video_activate:je,audio_activate:je,gw_version:Se,use_na:Se},Bn={event:"/publish/start",is_peer:je,reason:ve,url:ve,ip:ve,peer_id:Se,source_type:ve,net_protocol:ve,wait_consume:Se,dispatch_consume:Se,signal_consume:Se,is_center:je},jn={event:"/publish/restart",stream_id:ve,server_url:ve,reason_code:Se},di={event:"/sdk/publish",room_id:ve,room_sid_string:ve,retry_btime:Se,max_retry_interval:Se,fail_cnt:Se,continuous_fail_cnt:Se,probe_ip_cnt:Se,valid_probe_ip_cnt:Se,poor_quality_retry_cnt:Se,use_resource_type:Ue,probe_not_trigger_retry_info:Be,stop_reason:ve,try_cnt:Se,server_url:ve,publish_begin_time:Se,publish_state_time:Se,bitrate:Se,h:Se,w:Se,cap_w:Se,cap_h:Se,fps:Se,use_na:Se,env:Se,webrtc_sid:Se,stream_id:ve,itemtype:ve},Jr="/sdk/api/publish_video_c_size",Ci=Se,vi=Se,Pr=Se,Un="/sdk/play_video_size_changed",Mr=Se,Dn=Se,Co=Se,li={event:"/rtc/publish",tryidx:Se,url:ve,ip:ve,net_protocol:ve,lsttime:Se,denied_info:ve,dispatch_external_ip:ve,total_stat:Be,room_id:ve,room_sid_string:ve,resource_type:ve,protocol:ve,stop_reason:ve},Qi="/sdk/stop_publish",Lo={kParamError:Or},oo=ve,Zo=Se,bn=ve,hi="/rtc/publish_stream_state_error",fn={event:"/sdk/start_play",error:{kStreamIDNullError:{code:1000015,message:"streamID is empty"},kPlayParamError:{code:1104001,message:"input parm error"},kPlayStreamIDToLongError:{code:1000014,message:"stream ID is too long"},kPlayStreamIDInvalidCharacterError:{code:1000016,message:"stream ID contains illegal characters"},kPlayNoLoginError:fr,kPlayRepeatedPullError:{code:1103049,message:"repeated pull same stream"},kPlayNetworkTimeoutError:gr,kPlayDispatchTimeoutError:gn,kPlayDispatchError:Kr,kPlayNetworkBrokenError:un,kPlayUnsupportedResourceMode:Ae,kPlayStreamNotFound:{code:1104039,message:"play stream not found"},kPlayRetryTimeoutError:{code:1104031,message:"player retry timeout"},kPlaySessionClosedError:We,kPlaySessionResetError:{code:1104035,message:"reset session push"},kPlayNegoTimeoutError:{code:1104030,message:"negotiation timeout"},kCreateOfferError:{code:1104022,message:"create offer error"},kSetLocalDescError:{code:1104023,message:"setLocalDescription error"},kSessionRequestError:Ke,kSessionTimeoutError:{code:1104036,message:"session request timeout"},kSetRemoteDescError:{code:1104025,message:"other side offer error"},kMediaConnectionError:{code:1104028,message:"ice connection error"},kWebsocketDisconnectedError:{code:1104029,message:"websocket disconnected"},kCandidateError:{code:1104026,message:"candidate error"},kMediaDescError:{code:1104024,message:"mediaDesc error"},kIsPlaying:{code:1104032,message:"player is playing"},kClientIPChangedError:{code:1104033,message:"client ip changed"},kTTLOverTimeError:{code:1104034,message:"ttl is over time"},kProbeTimeOutError:{code:1104037,message:"probe time out"},kPlayNetProbePoor:{code:1104041,message:"stream quality poor and net probe poor"}},room_id:ve,urls:Ue,is_center:je,server_url:ve,video_layer:Se,play_option:Be,message:ve,stream_id:ve,stream_sid:Se,resource_mode:Se,src:ve,video_codec_id:ve,room_sid_string:ve,is_multi:je,audio_activate:je,video_activate:je,gw_version:Se,use_na:Se,biz_product:Se},An={event:"/play/start",is_peer:je,reason:ve,url:ve,ip:ve,peer_id:Se,source_type:ve,net_protocol:ve,wait_consume:Se,dispatch_consume:Se,signal_consume:Se,is_center:je},Vi={event:"/play/restart",stream_id:ve,server_url:ve,reason_code:Se},vn={event:"/sdk/play",audio_cumulative_break_time:Se,audio_cumulative_decode_time:Se,video_cumulative_break_time:Se,video_cumulative_decode_time:Se,l3_a_break_time:Se,l3_a_decode_time:Se,l3_v_break_time:Se,l3_v_decode_time:Se,rtc_a_break_time:Se,rtc_a_decode_time:Se,rtc_v_break_time:Se,rtc_v_decode_time:Se,fft_audio:Se,fft_video:Se,room_id:ve,room_sid_string:ve,retry_btime:Se,max_retry_interval:Se,use_na:Se,fail_cnt:Se,continuous_fail_cnt:Se,probe_ip_cnt:Se,valid_probe_ip_cnt:Se,poor_quality_retry_cnt:Se,probe_not_trigger_retry_info:Be,use_resource_type:Ue,stop_reason:ve,try_cnt:Se,webrtc_sid:Se,itemtype:ve,server_url:ve,play_begin_time:Se,play_state_time:Se,play_state_cnt:Se,first_frame_time:Se,protocol:ve,dispatch_external_ip:ve,total_stat:Be,w:Se,h:Se,abrc:Se,vbrc:Se,vinfo:Be},Ai={event:"/rtc/play",tryidx:Se,url:ve,ip:ve,stream_id:ve,room_id:ve,room_sid_string:ve,net_protocol:ve,lsttime:Se,denied_info:ve,stop_reason:ve,dispatch_external_ip:ve,env:Se,resource_type:ve,protocol:ve,total_stat:Be,vinfo:Be},Kn="/sdk/stop_play",Xo={kParamError:Or},_s=ve,dn=ve,Ua=Se,Oo=Se,ni="/rtc/play_stream_state_error",Li="/device/list",Wi={kBrowserNotSupportError:Sr,kEnumDevicesError:Vr},ea=Be,Yn=ve,ta={event:"/device/audio_device_changed",error:{kBrowserNotSupportError:Sr,kEnumDevicesError:Vr},interrupt:Se,device:ve,device_name:ve},Oi={event:"/device/video_device_changed",error:{kBrowserNotSupportError:Sr,kEnumDevicesError:Vr},interrupt:Se,device:ve,device_name:ve},Io="/sdk/check_system",so=Be,Hn="/sdk/remote_camera_update",Po=ve,ir=ve,ki=Se,Fo="/sdk/remote_mic_update",ra=ve,Ga=ve,mo=Se,In="/sdk/destroy_stream",Zi={kLocalStreamError:{code:1000018,message:"local stream wrong"}},Ri=ve,ii="/device/api/audio_output",ci=ve,xo=ve,kn="/liveroom/recv_stream_update_info",Ii=ve,Ha=Be,xr={ROOM_NOT_EXIST:{code:1002014,msg:"room not exist"}},na="/liveroom/send_stream_update_info",mn=ve,ia=ve,qa=ve,oi={event:"/liveroom/get_current_stream_list",room_id:ve,room_sid_string:ve,stream_seq:Se,stream_size:Se,stream_list:Be,use_ua:Se,error:{kParamError:Or,NOT_LOGIN:fr}},_i={event:"/sdk/net_first_video_frame",webrtc_sid:Se,fft_consumed:Be,resource_type:ve,reliability:Se,push_consumed:Se,prepare_recv_consumed:Se,connected_consumed:Se,protocol:ve,biz_product:Se,dev_changed:je},Uo={event:"/sdk/net_first_audio_frame",webrtc_sid:Se,fft_consumed:Be,resource_type:ve,reliability:Se,push_consumed:Se,prepare_recv_consumed:Se,connected_consumed:Se,protocol:ve,biz_product:Se,dev_changed:je},Hi="/app/lifecycle",Pi=ve,ar={kParamError:_r},oa="/sdk/listener",Eo="/sdk/net_probe",Ss=Se,Vn=Ue,$o={event:"/sdk/net_probe_result",is_switch:je,is_publish:je,stream_id:ve,result:Se,node:ve,net_quality:Se,probe_net_quality:Se},sa="/cloud_setting/cache",aa=Be,Nn="/cdn/play",Aa=ve,zn=ve,C=ve,P="/l3/play",re=Se,ye=Se,we="/sdk/play_src_changed",Le=ve,at=ve,Qt={event:"/publish/stream_resource",urls:Ue,try_cnt:Se,is_center:je},Rt="/publish/server_connect",Jt=ve,qt="/publish/create_offer",Wt=ve,rn=je,Yr="/publish/set_local_sdp",an=ve,Er=je,zr={event:"/publish/create_session",sdp:ve,is_mini:je,gw_nodes:Ue,gw_nodes_ttl:Se,gw_version:Se,webrtc_sid:Se},Tn="/publish/set_remote_sdp",nn=ve,qn=je,_n=Se,Wn="/publish/ice_connected",Ln="/publish/rtc_publish_event",Si=Se,Xi="/rtc/play_event_message",ca=Se,ua="/rtc/recv_close_session",PA=Be,Ja="/rtc/recv_reset_session",es="/rtc/ice_connection_state_changed",bs=ve,Lc="/publish/send_media_desc",Oc=Se,ts="/publish/recv_media_desc",FA=ve,Ya=je,Pc="/publish/send_ice_candidate",xA=Be,Fc="/publish/recv_ice_candidate",xc=Be,UA={event:"/play/stream_resource",urls:Ue,try_cnt:Se,is_center:je},$i="/play/server_connect",GA="/play/create_offer",Uc=ve,za=je,mi="/play/set_local_sdp",Ka=ve,HA=je,la={event:"/play/create_session",sdp:ve,is_mini:je,gw_nodes:Ue,gw_nodes_ttl:Se,gw_version:Se,webrtc_sid:Se},eo="/play/set_remote_sdp",qA=ve,JA=je,YA=Se,ga="/play/ice_connected",Gc="/play/send_media_desc",rs=Se,Hc="/play/recv_media_desc",zA=ve,qc=je,ns="/play/send_ice_candidate",Jc=Be,Yc="/play/recv_ice_candidate",KA=Be,ja="/zegoconn/connect",Va={event:"/zegoconn/proxy_connect",service_no:Se,proxy_link_sources:Se,recv_time:Se,connect_stream:Se},yo={event:"/zegoconn/proxy_broken",service_no:Se},jA={event:"/zegoconn/proxy_disconnect",service_no:Se},zc="/rtc/exception_update",ao=Se,VA=ve,qi={kParamError:_r,kPublishStreamNoFoundError:Ge,kNoLoginError:fr,kNoResponseError:{code:1103063,message:"publish target no response"},kBizChannelError:{code:1102021,message:"biz channel error."},kInvalidChannelError:{code:1102024,message:"invalid channel"},kUnknownServerError:vr},Kc="/mss/pushadd",is="/mss/pushdel",WA=ve,ZA={event:"/liveroom/send_stream_extra_info",error:{kParamError:_r,kExtraInfoNullError:{code:1003050,message:"extra info of publishing stream is null"},kNoLoginError:fr,kPublishStreamNoFoundError:Ge,kUpdateStreamInfoFailError:{code:1103062,message:"update stream info fail"}},stream_id:ve,stream_extra_info:ve,room_sid_string:ve,room_id:ve,send_seq:Se};(function(A){A.WIN32="WIN32",A.MAC="Mac",A.ANDROID="Android",A.LINUX="Linux",A.IOS="iOS",A.UNKNOWN="WTF"})(Rr||(Rr={}));var Ei=function(){return Ei=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},Ei.apply(this,arguments)},Wa=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},os=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}};function Za(A){return/^([0-9a-zA-Z#!$%&()`'+-;<=.>@^_~,\\*])+$/.test(A)&&/^[^:/]*$/g.test(A)}function da(A){return!!(A.startsWith("rtmp://")||A.startsWith("avertp://")||A.startsWith("https://")&&A.endsWith(".flv")||A.startsWith("https://")&&A.endsWith(".m3u8"))}function XA(A,t,n){t.success&&(n[A+"SuccessCallback"]=t.success),t.error&&(n[A+"ErrorCallback"]=t.error)}function Xa(A,t){return t[A+"SuccessCallback"]}function Go(A,t,n,o,s){switch(n){case"eventStart":A.eventStart(t,o);break;case"eventEndWithMsgInfo":A.eventEndWithMsgInfo(t,o,s[0]);break;case"addEventMsg":A.addEventMsg(t,o,s[0],s[1]);break;case"addEvent":A.addEvent(t,o);break;case"eventEnd":A.eventEnd(t,o);break;case"addMsgInfo":A.addMsgInfo(t,s[0])}}function $a(A,t,n,o){XA(A,{success:function(s,d){for(var g=[],E=2;E<arguments.length;E++)g[E-2]=arguments[E];Go(t,n,s,d,g)}},o)}function jc(A,t,n){if(t)return{code:A,message:n||"liveroom error"};var o={1:"parse json error.",1001:"login is processing.",1002:"liveroom request error.",1003:"zpush connect fail.",1004:"zpush handshake fail.",1005:"zpush login fail.",1006:"user login state is wrong.",1007:"got no zpush addr",1008:"token error",1009:"dispatch error",1010:"token expired",1011:"token format error",1013:"token03 format error",2002:"biz channel error",1e9:"liveroom cmd error, code:",1000002001:"need relogin",1000002002:"third token auth error",1000002003:"token nonce type should be int64",1000002004:"token appid type  should be uint32",1000002005:"token timeout type should be int64",1000002006:"token user_id type should be string",1000002007:"token room_id type should be string",1000002008:"token format error",1000002009:"token privilege type should be map",1000002010:"token expire_time type should be int64",1000002011:"token user_id type should be string",1000002012:"token not exist",1000002013:"token update error",1000002014:"token not need to check"};if(A===0)return{code:0,message:""};var s={code:0,message:"liveroom cmd error"};if(s.code=A,A>1e9){var d=o[A];s.message=d?"liveroom cmd error, code: "+A+", message: "+d:o[1e9]+A}else s.message=o[A]?o[A]+" code:"+A:"unknown error code:"+A;return s}function eA(A,t){delete t[A+"SuccessCallback"],delete t[A+"ErrorCallback"]}function Vc(A,t){var n={code:-1,message:"server error"};return A>1e9&&(n.code=A-1e9+52e6),t&&(n.message=t),n}function tA(A,t){var n={1016:"MULTI_ROOM_UNABLE",1105:"ROOM_MAX_USER_COUNT",1012:"PUBLISHER_ERROR_REPETITIVE_PUBLISH_STREAM",2002:"TOKEN_ERROR",2003:"ROOM_ERROR_LOGIN_TIMEOUT",2010:"TOKEN_ERROR",5022:"ROOM_COUNT_EXCEED"};return t?A>2e5&&A<3e5?n[A-2e5]:A<2e5?{50116:"TOKEN_ERROR",50117:"TOKEN_EXPIRED",50118:"TOKEN_ERROR",50119:"TOKEN_ERROR",50120:"TOKEN_ERROR",50121:"TOKEN_ERROR",50122:"TOKEN_ERROR",50123:"TOKEN_EXPIRED",50124:"TOKEN_ERROR",50125:"TOKEN_ERROR",50126:"TOKEN_ERROR",50127:"TOKEN_ERROR",50128:"TOKEN_ERROR"}[A]||n[A]||"ROOM_INNER_ERROR":n[A]||"ROOM_INNER_ERROR":A>1e9?n[A-1e9]||"":{1:"PARSE_JSON_ERROR",1001:"LOGIN_PROCESSING",1002:"LIVEROMM_REQUEST_ERROR",1003:"ZPUSH_REQUEST_FAIL",1004:"ZPUSH_REQUEST_FAIL",1005:"ZPUSH_REQUEST_FAIL",1006:"LOGIN_STATE_WRONG",1007:"ZPUSH_REQUEST_FAIL",1008:"TOKEN_ERROR",1009:"DIAPATCH_ERROR",1010:"TOKEN_EXPIRED",1011:"TOKEN_ERROR",1012:"SUBCMD_ERROR",1101:"ZEGO_AUTH_ERROR",2001:"BIZ_CHANNEL_ERROR",2002:"BIZ_CHANNEL_ERROR"}[A]||"ROOM_INNER_ERROR"}function ha(A,t,n,o){var s,d=[],g=[],E=[];n||(n=[]);for(var b=0;b<n.length;b++)if(n[b].anchor_id_name!=A&&n[b].id_name!=A&&n[b].user_id!=A){s=!1;for(var S=0;S<t.length;S++)if(n[b].stream_id===t[S].stream_id){n[b].extra_info!==t[S].extra_info&&E.push(n[b]),s=!0;break}s||d.push(n[b])}for(var l=0;l<t.length;l++)if(t[l].anchor_id_name!=A&&t[l].id_name!=A&&t[l].user_id!=A){s=!1;for(var J=0;J<n.length;J++)if(t[l].stream_id===n[J].stream_id){s=!0;break}s||g.push(t[l])}for(t.splice(0),b=0;b<n.length;b++)t.push(n[b]);o(d,g,E)}function Ao(A,t){return t==0?typeof A=="number"&&A%1==0&&A>=0:typeof A=="number"&&A%1==0&&A>0}function ss(A,t,n){return t=t!=null?t:1,n=n!=null?n:1e4,typeof A=="number"&&A%1==0&&A>=t&&A<=n}function Ho(A,t){navigator.mediaDevices!==void 0&&navigator.mediaDevices.enumerateDevices!==void 0?navigator.mediaDevices.enumerateDevices().then(function(n){for(var o=[],s=[],d=[],g=0;g<n.length;g++){var E=n[g];E.kind==="audioinput"&&o.push({deviceName:E.label,deviceID:E.deviceId}),E.kind==="audiooutput"&&s.push({deviceName:E.label,deviceID:E.deviceId}),E.kind==="videoinput"&&d.push({deviceName:E.label,deviceID:E.deviceId})}A&&A({microphones:o,speakers:s,cameras:d})}).catch(function(n){console.error("enumerate devices wrong "+n),t&&t(Wi.kEnumDevicesError)}):t&&t(Wi.kBrowserNotSupportError)}function Bo(){return navigator.platform.match("iPhone")!==null?Rr.IOS:navigator.userAgent.match("Android")!==null?Rr.ANDROID:navigator.platform.match("Mac")!==null?Rr.MAC:navigator.platform.match("Win32")!==null&&navigator.userAgent.match("WOW64")===null?Rr.WIN32:Rr.UNKNOWN}function Ds(A,t,n,o){if(typeof A!="object")return{result:!1,message:"Invalid constraint. Constraint Extend must be a object"};if(Object.keys(A).length===0)return{result:!1,message:"".concat(t," can not be a empty object")};for(var s=0,d=["exact","ideal","max","min"];s<d.length;s++){var g=d[s],E=A[g];if(typeof E=="number"&&!Ao(E,!1))return{result:!1,message:" ".concat(g," of ").concat(t," must be integer number")};if(typeof n=="number"&&typeof E=="number"&&E<n)return{result:!1,message:" ".concat(g," of ").concat(t," must greater than ").concat(n)};if(typeof o=="number"&&typeof E=="number"&&E>o)return{result:!1,message:" ".concat(g," of ").concat(t," cannot greater than ").concat(o)}}return{result:!0,message:"Constraint Extend OK."}}function ks(A,t,n,o,s){var d=Ds(A,t,o,s);return d.result||n&&n(Tt.kParamError,d.message),d.result}function $A(A,t){for(var n=0,o=["frameRate","width","height"];n<o.length;n++){var s=o[n],d=A[s];if(d===void 0)return t&&t(Tt.kParamError," ".concat(s," is required when videoQuality is 4")),!1;if(typeof d=="number"&&!Ao(d,!1))return t&&t(Tt.kParamError," ".concat(s," must be integer number")),!1;if(typeof d=="number"&&(s==="width"||s==="height")&&d<0)return t&&t(Tt.kParamError," ".concat(s," must greater than 0.")),!1;if(typeof d=="number"&&s==="width"&&d>7680)t&&t(Tt.kParamError," ".concat(s," cannot greater than 7680."));else if(typeof d=="number"&&s==="height"&&d>4320)t&&t(Tt.kParamError," ".concat(s," cannot greater than 4320."));else if(typeof d=="object"){if(s==="width"&&!ks(d,s,t,0,7680)||s==="height"&&!ks(d,s,t,0,4320)||s==="frameRate"&&!ks(d,s,t))return!1}else if(typeof d!="number"&&typeof d!="object")return t&&t(Tt.kParamError," ".concat(s," must be number or object")),!1}return!0}function Rs(A,t){if(A===void 0)return t(Tt.kParamError," bitrate is required when videoQuality is 4"),!1;if(typeof A=="number"){if(!ss(A,0,10240))return t(Tt.kParamError," bitrate must be integer number"),!1;if(!function(n,o){return!(n>10240&&(o(Tt.kParamError," bitrate cannot greater than 10 Mbps"),1))}(A,t))return!1}else t(Tt.kParamError," bitrate must be number");return!0}function pa(A){var t=A.message.match(/action:(\d+)/),n=t?Number(t[1]):NaN;return[fn.error.kTTLOverTimeError,fn.error.kClientIPChangedError,tn.error.kTTLOverTimeError,tn.error.kClientIPChangedError].includes(A)||[6].includes(n)}function rA(A,t,n){return A.push(t),A.length>n&&A.shift(),A.reduce(function(o,s){return o+s})/A.length}function ec(A){return A<600?97-Math.pow(.09*A,1.1):18*Math.exp(.002*(600-A))}function Ns(A,t){if(t)return A<=55?99-Math.pow(.8*A,1.18):Ft.PoorMinQuality;var n=100*A;return n<=40?96-Math.pow(n,1.22):Ft.PoorMinQuality}function Ts(A,t,n){if(n!==void 0){var o=function(s){return s<=50?98-Math.pow(s,1.15):Ft.PoorMinQuality}(n);return .15*o+.85*Math.min(ec(A),Ns(t,!1))}return Math.min(ec(A),Ns(t,!0))}function vo(A){return A>=Ft.ExcellentMinQuality?Dt.Excellent:A>=Ft.GoodMinQuality?Dt.Good:A>=Ft.MiddleMinQuality?Dt.Middle:A>=Ft.PoorMinQuality?Dt.Poor:Dt.Die}function nA(){var A=!!window.RTCRtpScriptTransform;if(!A){var t=!!RTCRtpSender.prototype.createEncodedStreams,n=!1;try{new ReadableStream,n=!0}catch{console.error("Transferable streams are not supported.")}A=t&&n}return A}function qo(A){for(var t,n=0,o=A.length,s="";n<o;)t=A.subarray(n,Math.min(n+32768,o)),s+=String.fromCharCode.apply(null,Array.from(t)),n+=32768;return btoa(s)}function gi(A,t,n){t.info(A.kind==="audio"?n+" "+"mic(".concat(A.id,",").concat(A.label,",").concat(A.muted,",").concat(A.enabled,",").concat(A.readyState,")"):n+" "+"camera(".concat(A.id,",").concat(A.label,",").concat(A.muted,",").concat(A.enabled,",").concat(A.readyState,")"))}function fa(){return!!(navigator.userAgent.match(/Mobi/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone/i))}function as(A,t,n){var o=new Date().getTime(),s=(0,h.getReportSeq)();return function(d){var g=0;if(d.length==0)return g;for(var E=0;E<d.length;E++)g=(g<<5)-g+d.charCodeAt(E),g&=g;return g>>>0}("".concat(A,"_").concat(t,"_").concat(n,"_").concat(o,"_").concat(s))}function As(A){var t="rtc";switch(A){case 0:case 3:default:t="rtc";break;case 1:t="cdn";break;case 2:t="l3"}return t}function Ca(A,t){var n=document.createElement("video");return A&&(n.style.width=A+"px;"),t&&(n.style.height=t+"px;"),n.setAttribute("muted",""),n.setAttribute("autoplay",""),n.muted=!0,n.autoplay=!0,n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),n}function Ia(A,t){var n=document.createElement("canvas");return n.width=A,n.height=t,n}function Qo(A){var t=this;return new Promise(function(n,o){return Wa(t,void 0,void 0,function(){var s,d,g,E,b,S;return os(this,function(l){switch(l.label){case 0:s=[Ei({},A),Ei(Ei({},A),{video:{width:360}}),Ei(Ei({},A),{video:{width:640}}),Ei(Ei({},A),{video:{width:720}}),Ei(Ei({},A),{video:{width:854}}),Ei(Ei({},A),{video:{width:1280}})],d=null,g=null,E=0,l.label=1;case 1:if(!(E<s.length))return[3,6];b=s[E],l.label=2;case 2:return l.trys.push([2,4,,5]),[4,navigator.mediaDevices.getUserMedia(b)];case 3:return d=l.sent(),[3,6];case 4:return S=l.sent(),g=S,[3,5];case 5:return E++,[3,1];case 6:return d?n(d):o(g),[2]}})})})}function Jn(A,t){if(A&&!(A instanceof MediaStream)&&A.zegoStream){if(t.info("cu.gs type:zego"),A.stream instanceof MediaStream)return A.stream;throw new Error("The ZegoLocalStream type requires first calling the capture api to capture the stream")}return A}var Zn=function(A,t,n){if(n||arguments.length===2)for(var o,s=0,d=t.length;s<d;s++)!o&&s in t||(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return A.concat(o||Array.prototype.slice.call(t))},cs=function(){function A(){}return A.zegoSdp=function(t){var n=t.split(`\r
`),o=[],s=[];n.forEach(function(g){var E=g.match(/a=rtpmap:(\d+)\s+((H264\/90000)|(opus\/48000\/2))/);E&&E[1]&&E[2]&&(E[2]==="H264/90000"&&o.push(E[1]),E[2]==="opus/48000/2"&&s.push(E[1]))});var d=[];return n.map(function(g){var E=!0,b=g.match(/((a=rtcp-fb:)|(a=rtpmap:)|(a=fmtp:))(\d+)/);if(b&&b[5]&&(Zn(Zn([],o,!0),s,!0).some(function(l){return l==b[5]})||(E=!1)),g.indexOf("m=video")>-1){var S=g.split(" ");g=Zn([S[0],S[1],S[2]],o,!0).join(" ")}else g.indexOf("m=audio")>-1&&(S=g.split(" "),g=Zn([S[0],S[1],S[2]],s,!0).join(" "));E&&d.push(g)}),d.join(`\r
`)},A.getSDPByVideDecodeType=function(t,n,o,s){var d={str:"",arr:[],obj:{H264:[],H265:[],VP8:[],VP9:[],OTHER:[]}};if(!t.includes("m=video"))return t;var g=/m=video.+/.exec(t)[0];g=g.match(/[\s|\d]+/g)[1].replace(" ",""),d.str=g,d.arr=d.str.split(" "),d.arr.forEach(function(J){var he=new RegExp("a=rtpmap:"+J+".+").exec(t)[0];he.includes("H264")?d.obj.H264.push(J):he.includes("H265")?d.obj.H265.push(J):he.includes("VP8")?d.obj.VP8.push(J):he.includes("VP9")?d.obj.VP9.push(J):d.obj.OTHER.push(J)}),d.obj.OTHER.forEach(function(J){var he=new RegExp("a=fmtp:"+J+".+apt=(\\d+)").exec(t),_e=he&&he[1];_e&&(d.obj.H264.includes(_e)?d.obj.H264.push(J):d.obj.H265.includes(_e)?d.obj.H265.push(J):d.obj.VP8.includes(_e)?d.obj.VP8.push(J):d.obj.VP9.includes(_e)&&d.obj.VP9.push(J))});var E=[];if(n==="VP9"?E=Zn(Zn(Zn([],d.obj.H265,!0),d.obj.H264,!0),d.obj.VP8,!0):n==="VP8"?E=Zn(Zn(Zn([],d.obj.H265,!0),d.obj.H264,!0),d.obj.VP9,!0):n==="H264"?E=Zn(Zn(Zn([],d.obj.H265,!0),d.obj.VP8,!0),d.obj.VP9,!0):n==="H265"&&(E=Zn(Zn(Zn([],d.obj.VP8,!0),d.obj.H264,!0),d.obj.VP9,!0)),n=="H264"&&typeof o=="boolean"){var b=function(J){return function(he){return!!he.includes("profile-level-id=")&&(J?!he.includes("profile-level-id=42e01f"):he.includes("profile-level-id=42e01f"))}},S=function(J){return function(he){if(!he.includes("profile-level-id="))return!1;switch(J){case wr.BASE_LINE:return!he.includes("profile-level-id=42");case wr.MAIN:return!he.includes("profile-level-id=4d");case wr.HIGH:return!he.includes("profile-level-id=64");default:return!1}}},l=function(J){return function(){var he=[];return d.obj.H264.forEach(function(_e){for(var Ce=new RegExp("a=fmtp:"+_e+".+\\s\\n","g").exec(t)||[],Oe=0,$e=J;Oe<$e.length;Oe++)Ce.filter($e[Oe]).length!==0&&he.push(_e);var ze=new RegExp("a=fmtp:"+_e+".+apt=(\\d+)").exec(t),Xe=ze&&ze[1];Xe&&he.includes(Xe)&&he.push(_e)}),he}};E=E.concat(function(){for(var J=[],he=0,_e=s!==void 0&&s===kt.HARD_SOFT_ENCODEC_FIRST?[l([b(o),S(wr.BASE_LINE)]),l([b(o)]),l([b(!o),S(wr.BASE_LINE)]),l([b(!o)])]:s!==void 0&&s===kt.HIGH_PROFILE_FIRST?[l([S(wr.HIGH),b(o)]),l([S(wr.HIGH),b(!o)]),l([b(o)]),l([b(!o)])]:[l([S(wr.BASE_LINE),b(o)]),l([S(wr.BASE_LINE),b(!o)]),l([b(o)]),l([b(!o)])];he<_e.length&&(J=(0,_e[he])(),new Set(J).size===d.obj.H264.length);he++)J=[];return J}())}return E.forEach(function(J){var he=d.arr.indexOf(J);he>=0&&d.arr.splice(he,1);var _e=new RegExp("a=rtpmap:"+J+".+\\s\\n","g"),Ce=new RegExp("a=rtcp-fb:"+J+".+\\s\\n","g"),Oe=new RegExp("a=fmtp:"+J+".+\\s\\n","g");t=(t=(t=t.replace(_e,"")).replace(Ce,"")).replace(Oe,"")}),t=t.replace(g,d.arr.join(" "))},A}(),Ms=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},R=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},G=function(){function A(){var t=this;this.iceconnectionstatechangeTimes=0,this.isCheckAll=!1;var n=document.createElement("canvas");n.getContext("2d").fillStyle="rgba(255, 255, 255, 0)";try{this.localStream=n.captureStream()}catch(o){console.error("canvas captureStream error",o)}this.timer=setTimeout(function(){t.resolve("Detection timeout"),t.hangup()},5e3)}return A.prototype.checkSupportByType=function(t,n){return Ms(this,void 0,void 0,function(){var o,s,d=this;return R(this,function(g){switch(g.label){case 0:return this.checkType=t,o={},this.localPc=new RTCPeerConnection(o),this.remotePc=new RTCPeerConnection(o),s=new Promise(function(E){return d.resolve=E}),this.localPc.addEventListener("icecandidate",function(E){return d.onIceCandidate(d.localPc,E)}),this.remotePc.addEventListener("icecandidate",function(E){return d.onIceCandidate(d.remotePc,E)}),this.remotePc.addEventListener("iceconnectionstatechange",function(E){d.remotePc.iceConnectionState==="connected"&&(d.iceconnectionstatechangeResult=!0),++d.iceconnectionstatechangeTimes==2&&d.iceCandidate&&(clearTimeout(d.timer),d.resolve(d.remotePc.iceConnectionState==="connected"||"The browser does not support ".concat(t," format")),d.hangup())}),this.localStream.getTracks().forEach(function(E){return d.localPc.addTrack(E,d.localStream)}),[4,this.check(t)];case 1:return g.sent(),[4,s];case 2:return[2,g.sent()]}})})},A.prototype.check=function(t,n){return Ms(this,void 0,void 0,function(){var o,s;return R(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),n&&typeof this.localPc.addTransceiver=="function"&&(this.localPc.addTransceiver("video",{direction:"sendonly"}),this.localPc.addTransceiver("audio",{direction:"sendonly"})),[4,this.localPc.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})];case 1:return(o=d.sent()).sdp=cs.getSDPByVideDecodeType(o.sdp,t),this.onCreateOfferSuccess(o),[3,3];case 2:return s=d.sent(),this.onCreateSessionDescriptionError(s),[3,3];case 3:return[2]}})})},A.prototype.onCreateOfferSuccess=function(t){return Ms(this,void 0,void 0,function(){var n,o,s,d;return R(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this.localPc.setLocalDescription(t)];case 1:return g.sent(),[3,3];case 2:return n=g.sent(),this.onSetSessionDescriptionError(n),[2];case 3:return g.trys.push([3,5,,6]),[4,this.remotePc.setRemoteDescription(t)];case 4:return g.sent(),[3,6];case 5:return o=g.sent(),this.onSetSessionDescriptionError(o),[2];case 6:return g.trys.push([6,9,,10]),[4,this.remotePc.createAnswer()];case 7:return s=g.sent(),[4,this.onCreateAnswerSuccess(s)];case 8:return g.sent(),[3,10];case 9:return d=g.sent(),this.onCreateSessionDescriptionError(d),[2];case 10:return[2]}})})},A.prototype.onCreateAnswerSuccess=function(t){return Ms(this,void 0,void 0,function(){var n,o;return R(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.remotePc.setLocalDescription(t)];case 1:return s.sent(),[3,3];case 2:return n=s.sent(),this.onSetSessionDescriptionError(n),[2];case 3:return s.trys.push([3,5,,6]),[4,this.localPc.setRemoteDescription(t)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),this.onSetSessionDescriptionError(o),[2];case 6:return[2]}})})},A.prototype.onIceCandidate=function(t,n){return Ms(this,void 0,void 0,function(){var o;return R(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.getOtherPc(t).addIceCandidate(n.candidate)];case 1:return s.sent(),[3,3];case 2:return o=s.sent(),console.error(this.checkType,"".concat(this.getPcName(t)," addIceCandidate error"),o),clearTimeout(this.timer),this.hangup(),this.resolve(o),[3,3];case 3:return this.getPcName(t)==="remotePc"&&n.candidate&&(this.iceCandidate=!0),this.iceconnectionstatechangeResult&&this.getPcName(t)==="localPc"&&(clearTimeout(this.timer),this.hangup(),this.resolve(!0)),[2]}})})},A.prototype.getOtherPc=function(t){return t===this.localPc?this.remotePc:this.localPc},A.prototype.getPcName=function(t){return t===this.localPc?"localPc":"remotePc"},A.prototype.onCreateSessionDescriptionError=function(t){console.error("Failed to create session description: ".concat(t.toString())),clearTimeout(this.timer),this.hangup(),this.resolve(t)},A.prototype.onSetSessionDescriptionError=function(t){console.error("Failed to set session description: ".concat(t.toString())),clearTimeout(this.timer),this.hangup(),this.resolve(t)},A.prototype.hangup=function(){this.localPc.close(),this.remotePc.close(),this.iceconnectionstatechangeTimes=0,this.localStream.getTracks().forEach(function(t){return t.stop()})},A}(),oe=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},se=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}};function Ie(A,t,n,o,s){return oe(this,void 0,void 0,function(){var d,g,E,b,S,l,J,he;return se(this,function(_e){switch(_e.label){case 0:return d={webRTC:!1,customCapture:!1,camera:!1,microphone:!1,videoCodec:{H264:!1,H265:!1,VP8:!1,VP9:!1},screenSharing:A,errInfo:{}},o&&o==="screenSharing"?(t({result:A,errInfo:d.errInfo}),[2]):o&&o!=="customCapture"||(((g=document.createElement("video")).captureStream||g.mozCaptureStream)&&(d.customCapture=!0),o!=="customCapture")?(E=navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,b=function(){var Ce=window.location.protocol!=="https:"&&window.location.protocol!=="file:"&&window.location.hostname.indexOf("127.0.0.1")==-1&&window.location.hostname.indexOf("localhost")==-1;if(Ce)throw console.error("webrtc requires https or localhost"),new Error("webrtc requires https or localhost");return!Ce}(),o&&o!=="camera"&&o!=="microphone"?[3,9]:E?b?[3,1]:(d.camera=!1,d.microphone=!1,console.error("webrtc requires https or localhost"),[3,9]):[3,9]):(t({result:d.customCapture,errInfo:d.errInfo}),[2]);case 1:if(o&&o!=="camera")return[3,5];_e.label=2;case 2:return _e.trys.push([2,4,,5]),[4,Qo({video:!0,audio:!1})];case 3:return(S=_e.sent())&&(d.camera=!0)&&S.getTracks().forEach(function(Ce){Ce.stop()}),[3,5];case 4:return l=_e.sent(),d.errInfo.camera={name:l.name,message:l.message},console.error("camera devices detect error: ",l.name,l.message),[3,5];case 5:if(o&&o!=="microphone")return[3,9];_e.label=6;case 6:return _e.trys.push([6,8,,9]),[4,navigator.mediaDevices.getUserMedia({audio:!0,video:!1})];case 7:return(J=_e.sent())&&(d.microphone=!0)&&J.getTracks().forEach(function(Ce){return Ce.stop()}),[3,9];case 8:return he=_e.sent(),d.errInfo.microphone={name:he.name,message:he.message},console.error("microphone devices detect error: ",he.name,he.message),[3,9];case 9:return o==="camera"||o==="microphone"?(t({result:d[o],errInfo:d.errInfo}),[2]):(function(Ce,Oe,$e,ze){oe(this,void 0,void 0,function(){var Xe,et,gt,_t,Bt,ut,Ct,wt,Pt,sr,or;return se(this,function(yr){switch(yr.label){case 0:return Xe={webRTC:!1,H264:!1,VP8:!1,VP9:!1,H265:!1},$e?Oe!==1||$e!=="VP8"&&$e!=="H264"?[3,2]:[4,(sr=new G).checkSupportByType($e,ze)]:[3,2];case 1:return typeof(et=yr.sent())=="boolean"?(Xe[$e]=et,[2,Ce(Xe)]):(Xe[$e]=!1,[2,Ce(Xe,et)]);case 2:if($e!=="webRTC"&&Oe!==1)return[3,7];yr.label=3;case 3:return yr.trys.push([3,5,,6]),or=new RTCPeerConnection,ze&&typeof or.addTransceiver=="function"&&(or.addTransceiver("video",{direction:"sendonly"}),or.addTransceiver("audio",{direction:"sendonly"})),[4,or.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})];case 4:return yr.sent(),Xe.webRTC=!0,[3,6];case 5:return gt=yr.sent(),Ce&&Ce(Xe,gt),[3,6];case 6:if($e==="webRTC")return[2,Ce(Xe)];yr.label=7;case 7:if(Oe===1){for(_t="",ut=[],Ct=0,wt=Bt=["VP8","H264"];Ct<wt.length;Ct++)Pt=wt[Ct],sr=new G,ut.push(sr.checkSupportByType(Pt));return Promise.all(ut).then(function(Fr){Fr.forEach(function(br,Lr){typeof br=="boolean"?Xe[Bt[Lr]]=!0:(Xe[Bt[Lr]]=!1,_t=br)}),_t?Ce(Xe,_t):Ce(Xe)}),[2]}try{or=new RTCPeerConnection,ze&&typeof or.addTransceiver=="function"&&(or.addTransceiver("video",{direction:"sendonly"}),or.addTransceiver("audio",{direction:"sendonly"})),or.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(Fr){if(Xe.webRTC=!0,Fr&&Fr.sdp){var br=Fr.sdp.split(`\r
`);if(Xe.H264=br.some(function(Lr){return Lr.startsWith("a=rtpmap:")&&Lr.indexOf("H264/")>-1}),$e==="H264"||(Xe.VP8=br.some(function(Lr){return Lr.startsWith("a=rtpmap:")&&Lr.indexOf("VP8/")>-1}),$e==="VP8"))return Ce(Xe);Xe.VP9=br.some(function(Lr){return Lr.startsWith("a=rtpmap:")&&Lr.indexOf("VP9/")>-1}),Xe.H265=br.some(function(Lr){return Lr.startsWith("a=rtpmap:")&&Lr.indexOf("H265/")>-1}),Ce&&Ce(Xe)}})}catch(Fr){Ce&&Ce(Xe,Fr)}return[2]}})})}(function(Ce,Oe){o||(d.videoCodec.H264=Ce.H264,d.videoCodec.H265=Ce.H265,d.videoCodec.VP8=Ce.VP8,d.videoCodec.VP9=Ce.VP9,d.webRTC=Ce.webRTC),Oe&&(typeof Oe=="string"?d.errInfo.extendedDate=Oe:d.errInfo.webRTC={name:Oe.name,message:Oe.message},console.error("videoCodec detect error: "+Oe)),t&&t(o?{result:Ce[o],errInfo:d.errInfo}:d)},n,o,s),[2])}})})}var Ne={supportDetection:Ie};function Ye(A){for(var t=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),o=new Uint8Array(n.length),s=0;s<n.length;++s)o[s]=n.charCodeAt(s);return o}function Te(A){return Uint8Array.from(Array.from(window.unescape(encodeURIComponent(A))).map(function(t){return t.charCodeAt(0)}))}function Je(A){for(var t in A)typeof A[t]=="object"?Je(A[t]):A.hasOwnProperty(t)||(typeof A[t]=="number"&&(A[t]=0),typeof A[t]=="string"&&(A[t]=""))}var mt="zc.0",vt="zc.1",Mt="zc.cs",Xt="zc.ds",er="zc.sps.0",jt="zc.sps.1",dr="zc.sps.0.0",kr="zc.sps.1.0",Cr="zc.smsi.0",Ur="zc.scsu",jr="zc.rdh.a",cn="zc.rdh.hfwur",pn="zc.psh.0",Qn="zc.psh.1",En="zc.tsh.rngn.0",On="zc.tsh.rngn.1",Ji="zc.tsh.dgnb",Xn="zc.sc.al",Yi="zc.s.bwh",fi="zc.s.ut",us="zc.s.smwc",bi="zc.s.cs.0",Ls="zc.s.sct",ls="zc.s.cs.1",ma="zc.s.sm",iA="zc.s.hrd",al="zc.s.hpd",Wc="zc.s.hprsd",Al="zc.s.smda",cl="zc.s.cmt",oA="zc.s.sh",ul="zc.s.sss",ll="zc.s.apas",gl="zc.s.snp",dl="zc.s.dgn",hl="zc.wcs.csws.1",pl="zc.wcs.smd",Zc="zsc.ssgn",Os="zsc.ccns",fl="zsc.ucgl",Gn="zc.p.0.sp.0",tc="zc.p.ps",Cl="zc.p.0.ocpss",sA="zc.p.0.ocos",gs="zc.p.0.oslds",Jo="zc.p.0.ogrd",rc="zc.p.0.ormd",aA="zc.p.0.orci.0",Il="zc.p.0.orci.1",Xc="zc.p.0.oic",ml="zc.p.0.ocsc",ds="zc.p.0.oicsc",nc="zc.p.0.spqt",El="zc.p.0.cpqut.1",yl="zc.p.0.upq",Bl="zc.p.0.orrs",vl="zc.p.0.orcs",AA="zc.p.0.sci",Ql="zc.p.0.psr",_l="zc.p.0.od",ic="zc.p.0.ssl.0",$c="zc.p.0.orumd",cA="zc.p.0.ss",Fi="zc.p.1.sp.0",oc="zc.p.ocpss.1",Ps="zc.p.hcsws.1",eu="zc.p.ocos.1",uA="zc.p.oslds.1",to="zc.p.ormd.1",Ea="zc.p.orci.1",Sl="zc.p.orpe.1",sc="zc.p.oic.1",Fs="zc.p.oicsc.1",lA="zc.p.spqt.1",bl="zc.p.orrs.1",wl="zc.p.orcs.1",ya="zc.p.orss.1",gA="zc.p.ogrs.1",dA="zc.p.sci.1",Dl="zc.p.psr.1",tu="zc.p.ssl.1",kl="zc.p.1.nqi",co="zc.uslq",ru="zc.p.scv",Rl="zc.sh.msbss",Nl="zc.sh.ms",nu="zc.sh.psl",Tl="zc.sh.sbr",Ml="zc.sh.sbr3",Ll="zc.as.smss",Ol="zc.as.sass",Pl="zc.as.s.0",ac="zc.srs",Fl="zc.irs",hA="zc.ssh",Ac="zc.wmh.db",iu="zc.ups.0",wd=function(){function A(t,n){this.logger=t,this.dataReport=n,this.debug=!1,this.testEnvironment=!1,this.pullLimited=!0,this.useNetAgent=!0,this.configOK=!1,this.relateService=[],this.role=2,this.maxMemberCount=0,this.roomCreateFlag=1,this.callbackList={},this.publishStreamList={},this.waitPublishStreamList={},this.streamUrlMap={},this.cmdCallback={},this.customUrl=[],this.customPlayUrl=[],this.turnToTcp=!1,this.turnOverTcpOnly=void 0,this.audioEffectBuffer={},this.audioBitRate=48e3,this.cdnSeq=0,this.engineDestroy=!1,this.listenerList={roomStreamUpdate:[],streamExtraInfoUpdate:[],playerStateUpdate:[],publisherStateUpdate:[],screenSharingEnded:[],publishQualityUpdate:[],playQualityUpdate:[],remoteCameraStatusUpdate:[],remoteMicStatusUpdate:[],soundLevelUpdate:[],capturedSoundLevelUpdate:[],videoDeviceStateChanged:[],audioDeviceStateChanged:[],deviceError:[],_deviceError:[],_remoteCameraStatusUpdate:[],_remoteMicStatusUpdate:[],_streamUpdated:[],receiveRealTimeSequentialData:[],beautyEffectOverload:[],playerRecvSEI:[],beautyEffectError:[],_engineConfigUpdate:[],backgroundEffectError:[],exceptionUpdate:[],networkQuality:[],mixerSoundLevelUpdate:[],autoMixerSoundLevelUpdate:[],_engineDestroy:[]},this.reportList={},this.reportSeqList={startPublish:{},rePublish:{},startPlay:{},rePlay:{},stopPublish:{},stopPlay:{}},this.streamTrigger={},this.audioStreamList={},this.deviceInfos=null,this.deviceChangeTimer=null,this.deviceStateOut=!1,this.customUa=!1,this.testNetPackageSize=!1,this.testSignalConnectCount=0,this.streamRetryTime=300,this.checkList=[],this.anchor_info={anchor_id:"",anchor_id_name:"",anchor_nick_name:""},this.streamConnectTime=0,this.defaultConnTime=5,this.clientIP="",this.accessClientIp="",this.isMultiOuter=!1,this.type="PUBLIC",this.roomList=[],this.tempRoomList=[],this.isMultiRoom=!1,this.browser="",this.unregisterSeiFilter="",this.isTestMode=!1,this.debugLog=!1,this.netAppConfigDelay=0,this.seiConfig={emulationPreventionByte:!1},this.playAccelerate=!0,this.connectChanged=!1,this.autoSwitchDeviceSetting={camera:!1,microphone:!1},this.unSendMessageList=[],this.scenario=Br.Default,this.testStreamRetryMode=0,this.testStreamRetryCount=10,this.supportDispatchByPass=!1,this.testStreamStatusSeq=0,this.engineConfig={keepAudioTrack:!0,playClearLastFrame:!0,previewClearLastFrame:!0,mixingAudioDelay:0,baseMixingAudioDelay:0,adaptCustomUA:!1,allowReplaceEmptyTrack:!1,publishQualityInterval:0,playQualityInterval:0},this._isMiniSdp=!0,this._forceMiniSdp=!1,this.player265Validated=!1,this.player265ReceiverList=[],this.logReportCallback=$a,this.unregisterCallback=eA,this.checkIllegalCharacters=Za,this.decodeServerError=Vc,this.getLiveRoomError=tA,this.getServerError=jc,this.mergeStreamList=ha,this.checkInteger=Ao,this.isUrl=da,this.actionSuccessCallback=Xa,this.checkValidNumber=ss,this.getDevices=Ho,this.uint8arrayToBase64=qo,this.getSeq=h.getSeq,this.getReportSeq=h.getReportSeq}return Object.defineProperty(A.prototype,"networkState",{get:function(){var t;return(t=this.rtm)===null||t===void 0?void 0:t.stateCenter.networkState},set:function(t){var n;!((n=this.rtm)===null||n===void 0)&&n.stateCenter&&t!==void 0&&(this.rtm.stateCenter.networkState=t)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isMiniSdp",{get:function(){if(!this._isMiniSdp&&!this._forceMiniSdp||!window.WebAssembly||!window.Worker)return!1;var t=this.settingConfig.getSetting("open_mini_sdp");return typeof t=="boolean"&&(this.logger.info("zc.c.ims setting: "+t),t)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"streamCenter",{get:function(){return this._streamCenter},set:function(t){this._streamCenter=t},enumerable:!1,configurable:!0}),A.prototype.getRequestId=function(){return this.idName+"-"+(0,h.getSeq)()},A.prototype.getSignalCmdContent=function(t,n,o,s){var d={request_id:n,room_id:t,from_userid:this.idName,from_username:this.nickName,to_userid:o};return s!=null&&(d.result=s),JSON.stringify(d)},A.prototype.actionListener=function(t){for(var n=this,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var d=["playQualityUpdate","publishQualityUpdate","soundLevelUpdate","capturedSoundLevelUpdate","playerRecvSEI","remoteCameraStatusUpdate","_remoteCameraStatusUpdate","remoteMicStatusUpdate","_remoteMicStatusUpdate","_streamUpdated","_deviceError","networkQuality","mixerSoundLevelUpdate","autoMixerSoundLevelUpdate"].includes(t);if(!d&&this.listenerList[t]){var g=this.reporter.createSpan(Zt.H,{key:Pe},{key:""},oa);g.setAttributes({listener:t,listener_params:JSON.stringify(o)}),["deviceError","streamExtraInfoUpdate","publisherStateUpdate","playerStateUpdate","roomStreamUpdate"].includes(t)&&this.logger.info("zc.al ".concat(t," ").concat(JSON.stringify(o))),g.end()}this.listenerList[t]&&this.listenerList[t].forEach(function(E){try{setTimeout(function(){E.apply(void 0,o)},0)}catch(b){n.logger.error(Xn+" "+t+" "+b)}})},A.prototype.getRoomByRoomID=function(t){return this.roomList.find(function(n){return n.roomID==t})},A.prototype.getPlayRoom=function(t){return this.roomList.find(function(n){return!!n.streamList.find(function(o){return o.stream_id==t})})},A.prototype.destroy=function(){this._streamCenter=null},A}(),ou=function(){return ou=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},ou.apply(this,arguments)},hs=oi,pA=function(){function A(t,n,o,s,d){this.logger=t,this.stateCenter=n,this.rtm=o,this.streamCenter=s,this.roomID=d,this.minStreamSeq=0,this.streamSeq=0,this.maxFullStreamSeq=0,this.streamQuerying=!1,this.streamSeqMergeMap=null,this.streamListHBMergeInterval=2e3,this.streamListMergeInterval=5e3}return A.prototype.setCDNInfo=function(t,n){t.urlFlv=n.urls_flv instanceof Array?n.urls_flv[0]||"":typeof n.urls_flv=="string"?n.urls_flv:"",t.urlHls=n.urls_m3u8 instanceof Array?n.urls_m3u8[0]||"":typeof n.urls_m3u8=="string"?n.urls_m3u8:"",t.urlFlvPlus=n.urls_flv_plus instanceof Array?n.urls_flv_plus[0]||"":typeof n.urls_flv_plus=="string"?n.urls_flv_plus:"",t.urlHlsPlus=n.urls_m3u8_plus instanceof Array?n.urls_m3u8_plus[0]||"":typeof n.urls_m3u8_plus=="string"?n.urls_m3u8_plus:"",t.urlHttpsFlv=n.urls_https_flv instanceof Array?n.urls_https_flv[0]||"":typeof n.urls_https_flv=="string"?n.urls_https_flv:"",t.urlHttpsHls=n.urls_https_m3u8 instanceof Array?n.urls_https_m3u8[0]||"":typeof n.urls_https_m3u8=="string"?n.urls_https_m3u8:"",t.urlRtmp=n.urls_rtmp instanceof Array?n.urls_rtmp[0]||"":typeof n.urls_rtmp=="string"?n.urls_rtmp:""},A.prototype.onStreamUpdated=function(t,n,o){},A.prototype.onStreamExtraInfoUpdated=function(t,n){},A.prototype.handleStreamStart=function(t,n){this.logger.info("zb.sh.hss call stream update"),this.room=n,t.body?(this.streamListHBMergeInterval=t.body.stream_list_hb_wait_merge_time||2e3,this.streamListMergeInterval=t.body.stream_list_push_merge_timeout||5e3,this.streamQuerying=!1,this.handleFullUpdateStream(t.body.stream_seq,t.body.stream_info||[]),this.handleReconnectStream(t.body.stream_info),this.logger.info("zb.sh.hss call end")):this.logger.error("zb.sh.hss server response wrong")},A.prototype.onPublishStateUpdate=function(t,n,o){},A.prototype._updateStreamInfo=function(t,n,o,s,d){var g,E,b=this;o===void 0&&(o=""),this.logger.info("zb.sh.usi call");var S=o,l=(g=this.room)===null||g===void 0?void 0:g.streamList.find(function(Xe){return Xe.stream_id===t});l||this.logger.info("zb.sh.usi stream not in room cmd "+n);var J={stream_id:t,extra_info:S};n!==2002&&n!==2003||(J.stream_sid=(l==null?void 0:l.stream_sid)||"");var he=JSON.stringify(J),_e={sub_cmd:n,stream_msg:he,third_token:(E=this.room)===null||E===void 0?void 0:E.token},Ce=this.room,Oe=function(Xe,et){s&&s(Xe,et),b.handleStreamUpdateRsp(Xe,t,n)},$e=function(Xe,et){var gt=b.room,_t=b.rtm.stateCenter.roomModulesList.find(function(wt){return wt.roomID===(gt==null?void 0:gt.roomID)}),Bt=function(){return(_t==null?void 0:_t.isTryLogin())||(_t==null?void 0:_t.roomState)==="CONNECTING"},ut=function(){b.logger.warn("zb.sh.usi resend stream update "+n),b._updateStreamInfo(t,n,o,s,d)};if(gt&&(_t!=null&&_t.isLogin()||Bt())&&Xe.code&&Xe.code==gr.code&&gt.streamInfoList[t].seq==et)setTimeout(function(){if(n==2001&&b.stateCenter.publishStreamList[t]&&b.stateCenter.publishStreamList[t].state==ot.update_info||n==2002)if(Bt()){var wt=function(Pt,sr){var or=function(){b.rtm.stateCenter.offListener("_roomStateUpdate",wt)};Pt===(gt==null?void 0:gt.roomID)&&sr==="CONNECTED"?(ut(),or()):Pt===(gt==null?void 0:gt.roomID)&&sr==="DISCONNECTED"&&or()};b.rtm.stateCenter.onListener("_roomStateUpdate",wt)}else ut();else d&&d(gr)},0);else if(Xe.body&&Xe.body.err_code){var Ct=b.stateCenter.getServerError(Xe.body.err_code,b.stateCenter.useNetAgent,Xe.body.err_message);[1011,1000002002].includes(Ct.code)&&(Ct=Hr),d&&d(Ct,et),n===ft&&b.onPublishStateUpdate(pr,t,Ct)}};if(this.stateCenter.useNetAgent){var ze=this.rtm.liveRoomHandler.sendStreamUpdate(_e,Oe,$e,{sessionID:Ce==null?void 0:Ce.sessionID,roomID:Ce==null?void 0:Ce.roomID,roomSessionID:Ce==null?void 0:Ce.roomSessionID});[2001,2002].includes(n)&&(this.room.streamInfoList[t]={seq:ze})}else ze=this.rtm.service.sendMessage("stream",_e,Oe,$e,void 0,{sessionID:Ce==null?void 0:Ce.sessionID,roomID:Ce==null?void 0:Ce.roomID,roomSessionID:Ce==null?void 0:Ce.roomSessionID}),this.room.streamInfoList[t]={seq:ze},ze===0&&n===2002&&this.stateCenter.clientType==="wxMini"&&(this.stateCenter.unSendMessageList.push({roomID:(Ce==null?void 0:Ce.roomID)||"",streamid:t,cmd:n,stream_extra_info:o}),this.logger.info("zb.sh.usi call unsendmsg "+JSON.stringify(this.stateCenter.unSendMessageList)));this.logger.info("zb.sh.usi call success cmd "+n+", roomid: ".concat(Ce==null?void 0:Ce.roomID,", stream: ").concat(t))},A.prototype.updateStreamInfo=function(t,n,o,s,d){var g=this;if(o===void 0&&(o=""),this.room){var E;(n===2001||n===2002)&&(E=this.stateCenter.reporter.createSpan(Zt.H,{key:ee,par:this.roomID},{key:""},na)).setAttributes({stream_update_type:mn(n===2001?"stream added":n===2002?"stream deleted":""),stream_extra_info:ia(o),stream_id:qa(t)}),this._updateStreamInfo(t,n,o,function(b,S){[2001,2002].includes(n)&&(E.setAttributes({send_seq:S}),E&&E.end()),s&&s(b,S)},function(b,S){[2001,2002].includes(n)&&(E.setAttributes({send_seq:S}),g.stateCenter.reporter.setError(E,b)),d&&d(b,S)})}else this.logger.warn("zb.sh.usi room not exist")},A.prototype.handleStreamUpdateRsp=function(t,n,o){var s,d,g,E;if(this.rtm.isDisConnect())this.logger.warn("zb.sh.hsur not login");else if(t.body.err_code==0){this.logger.info("zb.sh.hsur stream seq "+this.streamSeq+" server seq "+t.body.stream_seq);var b=this.room;if(b)if(!((s=t==null?void 0:t.body)===null||s===void 0)&&s.token_remain_time&&(this.stateCenter.getRoomByRoomID((d=t==null?void 0:t.header)===null||d===void 0?void 0:d.room_id)?this.rtm.resetRoomTokenTimer(t.header.room_id,t.body.token_remain_time):this.logger.error("zb.sh.hsur room no found ignore "+JSON.stringify((g=t.header)===null||g===void 0?void 0:g.room_id))),this.stateCenter.useNetAgent){this.handleStreamSync(t,n,o);var S=b.streamInfoList[n],l=(E=t.header)===null||E===void 0?void 0:E.seq;S&&S.seq===l?delete b.streamInfoList[n]:this.logger.info("zb.sh.hsur ".concat(JSON.stringify(n)," udp stream info; rsp seq: ").concat(l,", cur seq: ").concat(S==null?void 0:S.seq," "))}else{t.body.stream_seq>this.streamSeq+1?(this.logger.info("zb.sh.hsur seq diff, server: "+t.body.stream_seq+" client: "+this.streamSeq),this.fetchStreamList()):this.streamSeq=t.body.stream_seq;for(var J=0;J<t.body.stream_info.length;J++){var he=t.body.stream_info[J].stream_id;this.handleStreamRsp(b,he,ou({id_name:this.stateCenter.idName,nick_name:this.stateCenter.nickName},t.body.stream_info[J]),o),delete b.streamInfoList[he]}}else this.logger.info("hsur.0 room no found")}else this.logger.error("zb.sh.hsur stream update error "+t.body.err_code)},A.prototype.handleStreamSync=function(t,n,o){if(this.handleStreamRsp(this.room,n,{stream_id:n,stream_sid:t.body.stream_sid,stream_ver:t.body.stream_ver,stream_nid:t.body.stream_nid,id_name:this.stateCenter.idName,nick_name:this.stateCenter.nickName},o),t.body.stream_seq>this.streamSeq+1)return this.logger.info("zb.sh.hss.1 seq diff server: "+t.body.stream_seq+" client "+this.streamSeq),void this.fetchStreamList();this.streamSeq=t.body.stream_seq;var s=this.room.streamList.find(function(d){return d.stream_id==n});s&&t.body.stream_ver>s.stream_ver&&this.fetchStreamList(n)},A.prototype.handleStreamRsp=function(t,n,o,s){var d=this.stateCenter.publishStreamList[n],g=t.streamList.find(function(b){return b.stream_id==n});if(this.logger.info("hsur.0 cmd "+s+" "+!!g),g&&s===2002){var E=t.streamList.findIndex(function(b){return b.stream_id==n});this.logger.info("hsur.0 stream index "+E),E>-1&&t.streamList.splice(E,1)}d?(d.state==ot.update_info&&(d.state=ot.publishing,s!==2001||g||t.streamList.push(o),this.onPublishStateUpdate(lr,n,{code:0,message:""})),g&&g.stream_sid!==o.stream_sid&&(this.logger.info("hsur.0 update sid. "+n+" origin:"+g.stream_sid+", new:"+o.stream_sid),g.stream_sid=o.stream_sid)):this.logger.info("hsur.0 stream is not exist")},A.prototype.handleFetchStreamListRsp=function(t,n){var o,s,d,g,E,b;if(this.logger.info("zb.sh.hfslr call "+n),this.streamQuerying=!1,this.stateCenter.reporter.spanEnd({key:hs.event,par:this.roomID},{stream_seq:hs.stream_seq((o=t.body)===null||o===void 0?void 0:o.stream_seq),stream_size:hs.stream_size((d=(s=t.body)===null||s===void 0?void 0:s.stream_info)===null||d===void 0?void 0:d.length),stream_list:hs.stream_list((g=t.body)===null||g===void 0?void 0:g.stream_info),error:((E=t==null?void 0:t.body)===null||E===void 0?void 0:E.err_code)||(t==null?void 0:t.code),message:((b=t==null?void 0:t.body)===null||b===void 0?void 0:b.err_message)||(t==null?void 0:t.msg)}),t.body.err_code===0)if(this.streamSeq!==t.body.stream_seq){if(this.streamSeq>t.body.stream_seq)return this.logger.error("zb.sh.hfslr less seq"),void this.fetchStreamList(n);if(this.maxFullStreamSeq>t.body.stream_seq)this.logger.info("zb.sh.hfslr less than max fetch stream seq ");else{var S=t.body.stream_info;this.stateCenter.useNetAgent&&n&&(S=t.body.stream_info.filter(function(l){return l.stream_id===n})),this.handleFullUpdateStream(t.body.stream_seq,S),this.logger.info("zb.sh.hfslr call success")}}else this.logger.info("zb.sh.hfslr same seq");else this.logger.info("zb.sh.hfslr server error=",t.body.err_code)},A.prototype.syncPublishStreamList=function(){this.logger.info("zb.sh.spsl call");var t=function(s){var d=n.stateCenter.publishStreamList[s];if(d.state===ot.publishing){var g=n.room.streamList.findIndex(function(E){return E.stream_id===s});d.roomID===n.room.roomID&&g===-1&&(d.state=ot.update_info,n.updateStreamInfo(s,ft,d.extra_info,function(E){}))}},n=this;for(var o in this.stateCenter.publishStreamList)t(o);this.logger.info("zb.sh.spsl call success")},A.prototype.handleFullUpdateStream=function(t,n){var o=this;this.logger.info("zb.sh.hfus call"),this.streamSeq=t,this.maxFullStreamSeq<t&&(this.maxFullStreamSeq=t),this.logger.debug("zb.sh.hfus server seq "+this.streamSeq),n=n.filter(function(s){return s.stream_type!==1}),this.stateCenter.mergeStreamList(this.stateCenter.idName,this.room.streamList,n,function(s,d,g){s.length!==0&&(o.logger.debug("zb.sh.hfus callback addstream"),o.onStreamUpdated(o.roomID,ge,o.makeCallbackStreamList(s))),d.length!==0&&(o.logger.debug("zb.sh.hfus callback delstream"),o.onStreamUpdated(o.roomID,Ee,o.makeCallbackStreamList(d))),g.length!==0&&(o.logger.debug("zb.sh.hfus callback updatestream"),o.onStreamExtraInfoUpdated(o.roomID,o.makeCallbackStreamList(g)))}),this.syncPublishStreamList(),this.logger.info("zb.sh.hfus call success")},A.prototype.handlePushStreamUpdateMsg=function(t){this.logger.info("zb.sh.hpsum call "+JSON.stringify(t));var n=t.body.stream_info;if(n&&n.length!==0){if(n=n.filter(function(o){return o.stream_type!==1}),this.streamSeq+1!==t.body.stream_seq)return this.logger.info("zb.sh.hpsum call updatestream 1"),void this.fetchStreamList();if(t.body.stream_seq<this.maxFullStreamSeq)return this.logger.info("zb.sh.hpsum call updatestream 2"),void this.fetchStreamList();switch(this.streamSeq=t.body.stream_seq,t.body.stream_cmd){case de:this.handleAddedStreamList(n);break;case le:this.handleDeletedStreamList(n);break;case Ve:this.handleUpdatedStreamList(n)}this.logger.info("zb.sh.hpsum call success")}else this.logger.info("zb.sh.hpsum, emtpy list")},A.prototype.handlePriPushStreamUpdateMsg=function(t){if(this.logger.info("zb.sh.hpsum call"),t.body.streams_info&&t.body.streams_info.length!==0){if(t.body.streams_info.length+this.streamSeq!==t.body.stream_seq)return this.logger.info("zb.sh.hpsum call updatestream"),void this.mergeStreamByStreamSeq(t.body.stream_cmd,t.body.stream_seq,t.body.streams_info);switch(this.streamSeq=t.body.stream_seq,t.body.stream_cmd){case nt:this.handleAddedStreamList(t.body.streams_info);break;case Re:this.handleDeletedStreamList(t.body.streams_info);break;case ct:this.handleUpdatedStreamList(t.body.streams_info)}this.logger.info("zb.sh.hpsum call success")}else this.logger.info("zb.sh.hpsum, emtpy list")},A.prototype.handleAddedStreamList=function(t){this.logger.debug("zb.sh.hasl call");for(var n,o=[],s=0;s<t.length;s++)if(t[s].anchor_id_name!=this.stateCenter.idName&&t[s].id_name!=this.stateCenter.idName&&t[s].user_id!==this.stateCenter.idName){n=!1;for(var d=0;d<this.room.streamList.length;d++)if(t[s].stream_id===this.room.streamList[d].stream_id){n=!0;break}n||o.push(t[s])}else this.logger.debug("hdsl.0 have self stream added");if(o.length!==0){this.logger.debug("zb.sh.hasl callback addstream");for(var g=0;g<o.length;g++){this.room.streamList.push(o[g]);var E=this.streamCenter.playerList[o[g].stream_id];E==null||E.player.setStreamAdd()}this.onStreamUpdated(this.roomID,ge,this.makeCallbackStreamList(o))}this.logger.info("zb.sh.hasl call success")},A.prototype.handleDeletedStreamList=function(t){this.logger.debug("zb.sh.hdsl call");for(var n=[],o=0;o<t.length;o++)if(t[o].anchor_id_name!=this.stateCenter.idName&&t[o].id_name!=this.stateCenter.idName&&t[o].user_id!==this.stateCenter.idName){for(var s=this.room.streamList.length-1;s>=0;s--)if(t[o].stream_id===this.room.streamList[s].stream_id){!this.stateCenter.connectChanged&&this.room.streamList.splice(s--,1),n.push(t[o]);break}}else this.logger.debug("zb.sh.hdsl have self stream deleted");n.length!==0&&(this.logger.debug("zb.sh.hdsl callback delstream"),this.onStreamUpdated(this.roomID,Ee,this.makeCallbackStreamList(n))),this.logger.info("zb.sh.hdsl call")},A.prototype.handleUpdatedStreamList=function(t){this.logger.debug("zb.sh.husl call");for(var n=[],o=0;o<t.length;o++)if(t[o].anchor_id_name!=this.stateCenter.idName&&t[o].id_name!=this.stateCenter.idName&&t[o].user_id!==this.stateCenter.idName){for(var s=0;s<this.room.streamList.length;s++)if(t[o].stream_id===this.room.streamList[s].stream_id){t[o].extra_info!==this.room.streamList[s].extra_info&&(this.room.streamList[s]=t[o],n.push(t[o]));break}}else this.logger.debug("hsul.0 have self stream updated");n.length!==0&&(this.logger.debug("zb.sh.husl callback updatestream"),this.onStreamExtraInfoUpdated(this.roomID,this.makeCallbackStreamList(n))),this.logger.info("zb.sh.husl call success")},A.prototype.fetchStreamList=function(t){var n,o,s,d=this;this.logger.info("zb.sh.fsl call");var g=this.stateCenter.reporter.createSpan(Zt.H,{key:ee,par:this.roomID},{key:hs.event,par:this.roomID},hs.event,!0);if(this.rtm.isDisConnect())return this.logger.info("zb.sh.fsl state error"),void this.stateCenter.reporter.setError(g,hs.error.NOT_LOGIN);if(this.streamQuerying)return this.logger.info("zb.sh.fsl already doing"),void this.stateCenter.reporter.setError(g,hs.error.kParamError," already doing");if(this.streamQuerying=!0,this.logger.info("zb.sh.fsl send fetch request"),this.stateCenter.useNetAgent)this.rtm.liveRoomHandler.getStreamList({},function(b){d.handleFetchStreamListRsp(b,t)},function(b){},{roomID:(n=this.room)===null||n===void 0?void 0:n.roomID,sessionID:(o=this.room)===null||o===void 0?void 0:o.sessionID,roomSessionID:(s=this.room)===null||s===void 0?void 0:s.roomSessionID});else{var E=this.room;this.rtm.service.sendMessage("stream_info",{reserve:0},function(b){d.handleFetchStreamListRsp(b)},function(b,S){},void 0,{roomID:E==null?void 0:E.roomID,sessionID:E==null?void 0:E.sessionID,roomSessionID:E==null?void 0:E.roomSessionID})}this.logger.info("zb.sh.fsl call success")},A.prototype.handleReconnectStream=function(t){var n,o,s,d,g,E,b;this.logger.info("zb.sh.hrs call");var S=this.streamCenter.publisherList,l=this.streamCenter.playerList;this.logger.info("zb.sh.hrs publish "+Object.keys(this.streamCenter.publisherList));var J=function(Xe){if(((o=(n=S[Xe])===null||n===void 0?void 0:n.room)===null||o===void 0?void 0:o.roomID)!==he.roomID)return"continue";var et=t.find(function(Bt){return Bt.stream_id==Xe}),gt=et&&!(et.anchor_id_name===he.stateCenter.idName||et.id_name===he.stateCenter.idName||et.user_id===he.stateCenter.idName);if(he.logger.info("zb.sh.hrs stream ".concat(Xe," ").concat(!!et," ").concat(gt," ").concat((s=S[Xe].publisher)===null||s===void 0?void 0:s.state)),((d=S[Xe].publisher)===null||d===void 0?void 0:d.state)!=L&&S[Xe].state!==X||et&&!gt){if((((g=S[Xe].publisher)===null||g===void 0?void 0:g.state)==O||S[Xe].state===H)&&!(!((b=(E=S[Xe])===null||E===void 0?void 0:E.retryStreamHandler)===null||b===void 0)&&b.maxTimer)&&t.find(function(Bt){return Bt.stream_id==Xe})){he.updateStreamInfo(Xe,yt);for(var _t=0;_t<he.room.streamList.length;_t++)if(he.room.streamList[_t].stream_id==Xe){he.room.streamList.splice(_t--,1);break}}}else he.updateStreamInfo(Xe,ft,he.stateCenter.publishStreamList[Xe].extra_info)},he=this;for(var _e in S)J(_e);for(var _e in S)S[_e].room.roomID===this.roomID&&S[_e].isReDispatch&&(this.logger.info("zb.sh.hrs "+_e+"retry dispatch"),(Ce=S[_e].retryDispatchHandler).stopMaxTime(),Ce.invalid(),Ce.initStream(_e,S[_e].publishOption,!0),Ce.active(0),S[_e].isReDispatch=!1);for(var _e in l){var Ce;l[_e].room.roomID===this.roomID&&l[_e].isReDispatch&&(this.logger.info("zb.sh.hrs "+_e+"retry dispatch"),(Ce=l[_e].retryDispatchHandler).stopMaxTime(),Ce.invalid(),Ce.initStream(_e,l[_e].playOption,!1),Ce.active(0),l[_e].isReDispatch=!1)}var Oe=this.streamCenter.stopedPlayerList,$e=function(Xe){if(Oe[Xe].roomID!==ze.roomID)return"continue";var et=ze.streamCenter,gt=Oe[Xe],_t=gt.playOption,Bt=gt.playStream;et.setPlayStateStart(Xe,_t,gt.isDataChannel);var ut=et.playerList[Xe].retryDispatchHandler;et.playSuccessCallBackList[Xe]=Oe[Xe].sucCallBack?Oe[Xe].sucCallBack:function(Ct){for(var wt=document.querySelectorAll("video, audio"),Pt=0;Pt<wt.length;Pt++)Bt&&wt[Pt].srcObject===Bt&&(Bt.getTracks().forEach(function(sr){return Bt.removeTrack(sr)}),Ct.clone().getTracks().forEach(function(sr){return Bt.addTrack(sr)}))},Oe[Xe].errCallBack&&(et.playErrorCallBackList[Xe]=Oe[Xe].errCallBack),et.onPlayStateUpdate($t,Xe,{code:0,message:""}),ut.stopMaxTime(),ut.invalid(),ut.initStream(Xe,_t,!1),ut.startMaxTime(),ut.active(0),delete Oe[Xe]},ze=this;for(var _e in Oe)$e(_e);this.logger.info("zb.sh.hrs end")},A.prototype.makeCallbackStreamList=function(t){var n,o=[];if(this.stateCenter.useNetAgent&&this.stateCenter.appConfig&&(n=this.stateCenter.appConfig.media_config.play_config.resource_info.filter(function($e){return[m.CDN,m.DG].includes($e.resource_type)})),t&&t.length>0)for(var s=0;s<t.length;s++){var d=t[s].stream_id;if(n&&n.length)for(var g=0;g<n.length;g++){for(var E=n[g].resource_type==m.DG?"_plus":"",b=[],S=[],l=[],J=0;J<n[g].service_info.length;J++){var he=n[g].service_info[J],_e=he.protocol,Ce=he.url_template.replace("{STREAM_NAME}",d);switch(_e){case I.FLV:b.push(Ce);break;case I.HLS:S.push(Ce);break;case I.RTMP:l.push(Ce)}}t[s]["urls_flv"+E]=b,t[s]["urls_m3u8"+E]=S,t[s]["urls_rtmp"+E]=l}var Oe={user:{userID:t[s].anchor_id_name||t[s].id_name,userName:t[s].anchor_nick_name||t[s].nick_name},extraInfo:t[s].extra_info,streamID:t[s].stream_id,roomID:"",urlFlv:"",urlFlvPlus:"",urlRtmp:"",urlHls:"",urlHlsPlus:"",urlHttpsFlv:"",urlHttpsHls:"",streamGID:t[s].stream_gid,closeType:t[s].close_type};this.setCDNInfo(Oe,t[s]),o.push(Oe)}return o},A.prototype.sendBizChannelRequest=function(t,n,o,s){var d=this;s===void 0&&(s=!1),t=Object.assign(t,{is_retry_req:s?1:0});var g=this.room;this.rtm.service.sendMessage("biz_channel",t,function(E,b){n(E.header.seq,E.body.cmd,E.body.rsp_body)},function(E,b){var S=E.body.err_code;typeof S!="number"||S!==2002?o(S,b,E.body.rsp_body):d.sendBizChannelRequest(t,n,o,!0)},void 0,{roomID:g==null?void 0:g.roomID,sessionID:g==null?void 0:g.sessionID,roomSessionID:g==null?void 0:g.roomSessionID})},A.prototype.sendBizChannelRequestV3=function(t,n,o,s){var d=this,g=t.server,E=t.location,b=this.rtm.netAgent,S=this.room,l=void 0;n&&(l=JSON.stringify(n)),this.logger.info(Ml+" "+JSON.stringify(l)+" request "+JSON.stringify(t)),b.startHttpRequest({service:g,headers:[{"Token-Appid":this.stateCenter.appid+""},{"Token-Check":"true"},{"Token-Str":S==null?void 0:S.token},{"Token-Userid":this.stateCenter.idName},{"Token-Biztype":0}],body:n,idName:this.stateCenter.idName,method_no:2,ack:!1,location:E},function(J){d.logger.info(Ml+" rsp "+JSON.stringify(J.body));var he=J.status_code,_e=J.body;if(he===200){var Ce=_e;if(typeof _e=="string")try{Ce=JSON.parse(_e)}catch(Xe){throw s(he),Xe}var Oe=Ce.code,$e=Ce.data,ze=void 0;try{ze=JSON.parse($e)}catch{ze=$e}if(Oe!==0)return typeof Oe=="number"&&Oe===2002?void d.sendBizChannelRequest(n,o,s,!0):void s(he,Oe,ze);o(ze)}else s(he)},function(J){s(-1,J==null?void 0:J.code,void 0,J)})},A.prototype.sendHttpPBRequest=function(t,n,o,s,d){var g,E,b=this;d===void 0&&(d=2);var S=function(l,J){var he=l.status_code,_e=l.body;if(he!==200)return d--,void(he===502&&d>0?b.sendHttpPBRequest(t,n,o,s,d):s&&s(he,_e));o&&o(_e,J)};(g=this.rtm.netAgent)===null||g===void 0||g.startHttpRequest2({interfaceID:t.interfaceID,resID:t.resID||"",body:n,ack:!1,idName:this.stateCenter.idName,method:2,token:(E=this.room)===null||E===void 0?void 0:E.token,mode:this.stateCenter.testEnvironment?2:1,reduceRspHeaders:!0},function(l,J){S(l,J)},function(l){S(l)},null,{timeout:4e3,extras:{protoCmd:t.protoCmd}})},A.prototype.sendBizChannelRequestV2=function(t,n,o,s){var d=this,g=t.server,E=t.location,b=t.cmd,S=t.channel,l=this.rtm.netAgent,J=this.room,he=void 0,_e=n.timestamp;n&&(he=JSON.stringify(n));var Ce={cmd:b,req_body:he,appid:this.stateCenter.appid,timestamp:_e||Math.ceil(new Date().getTime()/1e3),token:J==null?void 0:J.token,user_id:this.stateCenter.idName,channel:S||"media"};this.logger.info(Tl+" "+JSON.stringify(Ce)+" request "+JSON.stringify(t)),l.startHttpRequest({service:g,headers:[],body:Ce,idName:this.stateCenter.idName,method_no:2,ack:!1,location:E},function(Oe){d.logger.info(Tl+" rsp "+JSON.stringify(Oe.body));var $e=Oe.status_code,ze=Oe.body;if($e===200){var Xe=ze;if(typeof ze=="string")try{Xe=JSON.parse(ze)}catch(Bt){throw s($e),Bt}var et=Xe.err_code,gt=Xe.rsp_body,_t=void 0;try{_t=JSON.parse(gt)}catch{_t=gt}if(et!==0)return typeof et=="number"&&et===2002?void d.sendBizChannelRequest(n,o,s,!0):void s($e,et,_t);o(_t)}else s($e)},function(Oe){s(-1,Oe==null?void 0:Oe.code,void 0,Oe)})},A.prototype._sendCDNPublishByAccessSvr=function(t,n,o,s){var d=this,g=Math.ceil(new Date().getTime()/1e3),E={appid:this.stateCenter.appid,biz_type:0,timestamp:g,seq:this.stateCenter.cdnSeq++,version:NaN,stream_id:t,pushurl:n.pushUrl},b={channel:"media",cmd:n.type,req_body:JSON.stringify(E)};this.sendBizChannelRequest(b,function(S,l,J){if(d.logger.info("zb.sh.pt receive message"),J.length!=0){var he=JSON.parse(J),_e=he.code,Ce=he.message;_e&&_e!=0?(d.logger.error("zb.sh.pt "+n.type+" error code: "+_e+" "+Ce),s(vr," cmd: ".concat(n.type," ").concat(_e," ").concat(Ce))):(d.logger.info("zb.sh.pt "+n.type+" success"),o&&o({errorCode:0,extendedData:""}))}else s(qi.kNoResponseError)},function(S,l,J){d.logger.info("zb.sh.pt error: "+S);var he=qi.kUnknownServerError;S==2001?he=qi.kInvalidChannelError:S==2002&&(he=qi.kBizChannelError),d.logger.error("zb.sh.pt "),s(he," cmd: ".concat(n.type," ").concat(S," ").concat("","  "))})},A.prototype._publishTarget=function(t,n,o){this.logger.info("zb.sh.ptcall");var s=t.streamID;this.stateCenter.testEnvironment&&(s="zegotest-"+this.stateCenter.appid+"-"+t.streamID),this._sendCDNPublishByAccessSvr(s,t,n,o)},A.prototype.updateStreamExtraInfo=function(t,n,o,s){this.logger.info("zb.sh.usei call");var d=Ot;this.stateCenter.publishStreamList[t]&&this.stateCenter.publishStreamList[t].state>=ot.update_info?(this.stateCenter.publishStreamList[t].extra_info=n,this.updateStreamInfo(t,d,n,o,s)):this.stateCenter.publishStreamList[t]&&this.stateCenter.publishStreamList[t].state===ot.tryPublish?(this.stateCenter.publishStreamList[t].extra_info=n,o({errorCode:0})):s(ZA.error.kUpdateStreamInfoFailError)},A.prototype.setStreamExtraInfo=function(t,n,o,s){this.updateStreamExtraInfo(t,n,o,s)},A.prototype._publishTargetWeb=function(t,n,o){},A.prototype.patchStreamList=function(t){var n=this;if(typeof t.body.stream_refresh=="number"&&t.body.stream_refresh!==0)return this.logger.info(nu+" stream refresh "),void this.fetchStreamList();this.logger.info(nu+" stream seq "+this.streamSeq+" "+JSON.stringify(this.streamSeqMergeMap)),t.body.stream_seq>this.streamSeq&&!this.streamSeqMergeMap&&(this.streamSeqMergeMap={},this.logger.info(nu+" call update stream "+this.streamSeq+" server "+t.body.stream_seq),this.streamSeqMergeTimer&&clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=setTimeout(function(){n.handleMergeTimeout()},this.streamListHBMergeInterval)),this.minStreamSeq=t.body.stream_seq},A.prototype.getStreamSeq=function(){return this.streamSeq},A.prototype.mergeStreamByStreamSeq=function(t,n,o){var s=this;this.streamSeqMergeMap||(this.logger.warn(Rl+" new merge stream list "+this.streamSeq+" server "+n),this.streamSeqMergeMap={},this.streamSeqMergeTimer&&clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=setTimeout(function(){s.handleMergeTimeout()},this.streamListMergeInterval)),this.logger.info(Rl+" ".concat(this.streamSeqMergeMap," ").concat(t," ").concat(n," ").concat(o)),this.streamSeqMergeMap[n]={cmd:t,streamList:o}},A.prototype.handleMergeTimeout=function(){if(this.streamSeqMergeMap){var t=Object.keys(this.streamSeqMergeMap).map(function(n){return+n}).sort(function(n,o){return n-o});t[t.length-1]-t[0]+1===t.length||t[t.length-1]>=this.minStreamSeq?this.mergeStream(t):(this.streamSeqMergeMap=null,this.fetchStreamList())}},A.prototype.mergeStream=function(t){var n=this;this.logger.info(Nl+" merge streamList "+this.streamSeq+" streamSeqList "+t.join(","));var o=t[t.length-1],s=[];t.forEach(function(d){if(n.streamSeqMergeMap&&n.streamSeqMergeMap[d])switch(n.streamSeqMergeMap[d].cmd){case de:n.streamSeqMergeMap[d].streamList.forEach(function(g){var E=s.findIndex(function(b){return b.stream_id==g.stream_id});E!==-1&&s.splice(E),s.push(g)});break;case le:n.streamSeqMergeMap[d].streamList.forEach(function(g){var E=s.findIndex(function(b){return b.stream_id==g.stream_id});E!==-1&&s.splice(E)});break;case Ve:n.streamSeqMergeMap[d].streamList.forEach(function(g){var E=s.findIndex(function(b){return b.stream_id==g.stream_id});E!==-1&&s.splice(E),s.push(g)})}}),this.streamSeqMergeMap=null,this.logger.info(Nl+" "+s),this.handleFullUpdateStream(o,s)},A.prototype.reset=function(){this.minStreamSeq=0,this.streamSeqMergeMap=null,this.streamSeqMergeTimer&&(clearTimeout(this.streamSeqMergeTimer),this.streamSeqMergeTimer=void 0),this.streamListHBMergeInterval=2e3,this.streamListMergeInterval=5e3},A}(),Dd=function(){function A(){this.handlerListMap={}}return A.prototype.addEventHandler=function(t,n){if(this.handlerListMap[t]||(this.handlerListMap[t]=[]),typeof n!="function")throw new Error("Params callBack is not a Function");return this.handlerListMap[t].indexOf(n)==-1&&this.handlerListMap[t].push(n),!0},A.prototype.removeEventHandler=function(t,n){return!!this.handlerListMap[t]&&(this.handlerListMap[t]=n?this.handlerListMap[t].filter(function(o){return o!==n}):[],!0)},A.prototype.emit=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.handlerListMap[t]&&this.handlerListMap[t].forEach(function(s){try{setTimeout(function(){s.apply(void 0,n)},0)}catch(d){console.error('Fail to execute callback of event "'.concat(t,'" : ').concat(d))}})},A}(),su=Dd,cc="zg_autoplay_wrapper";function xl(){return navigator.language.includes("zh")}var kd=function(){function A(){this.content='Media play failed. Click the "Resume"to resume.',this.dialogNode=null,this.bodyPosition="static";var t=document.createElement("style");t.innerHTML=".zg_autoplay_mask{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);z-index:1500;}.zg_autoplay_mask div:not(.zg_autoplay_action_wrapper){display:block !important;}.".concat(cc,"{padding:14px;background:#fff;border-radius:3px;box-shadow:1px 1px 10px #988e8d;border:1px solid #d1cfcf;max-width:500px;}.").concat(cc," a{color:#2473E8;}.zg_autoplay_header{overflow:hidden;text-overflow:ellipsis;font-size:16px;font-weight:600;}.zg_autoplay_content{margin:8px 0;}.zg_autoplay_action_wrapper{width:100%;display:flex !important;align-items:center;justify-content:right;float:right;}.zg_autoplay_collapse{margin-right:auto;cursor:pointer}.zg_autoplay_question{height:100%;line-height:16px;cursor:pointer;}.zg_autoplay_action_confirm{margin-left:8px;color:#fff;background:#0072ff;padding:4px 12px;outline:none;border:1px solid;border-radius:3px;font-weight:bold;}.zg_autoplay_action_confirm:hover{opacity:0.9;}.zg_autoplay_collapse,.zg_autoplay_action_confirm,.zg_autoplay_content,.zg_autoplay_question{font-size:14px;}@media screen and (max-width:750px){.").concat(cc,"{width:80vw;}}"),document.head.appendChild(t),xl()&&(this.content=""),this.eManager=new su}return A.getInstance=function(){return A.instance||(A.instance=new A),A.instance},A.prototype.createDialog=function(){var t=document.createElement("template");t.innerHTML="<div class='zg_autoplay_mask'><div class='".concat(cc,"'><div class='zg_autoplay_header'>").concat(location.host,"</div><div class='zg_autoplay_content'>").concat(this.content,"</div><div class='zg_autoplay_action_wrapper'></div></div></div>").trim();var n=document.createElement("button");n.className="zg_autoplay_action_confirm",n.innerText=xl()?"":"Resume",n.onclick=this.onConfirm.bind(this);var o=t.content.firstChild,s=o.querySelector(".zg_autoplay_action_wrapper");return s&&s.appendChild(n),o},A.prototype.onConfirm=function(t){t&&t.stopPropagation(),this.eManager.emit("allowPlay"),this.deleteDiaLog()},A.prototype.deleteDiaLog=function(){this.dialogNode&&(document.body.removeChild(this.dialogNode),this.dialogNode=null)},A.prototype.addDiaLog=function(){this.dialogNode=this.dialogNode||this.createDialog(),document.body.appendChild(this.dialogNode),this.dialogNode.onclick=this.onConfirm.bind(this)},A.prototype.on=function(t,n){return this.eManager.addEventHandler(t,n)},A.prototype.off=function(t,n){return this.eManager.removeEventHandler(t,n)},A.instance=null,A}(),ps=function(){return ps=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},ps.apply(this,arguments)},xs=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Us=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Rd=navigator.userAgent,Ul=/^(?=.*MicroMessenger)(?=.*HONOR).*$/.test(Rd||""),au=kd.getInstance(),uc,Au=function(){function A(t,n,o){var s,d,g,E=this;this.previewer=n,this.video=null,this.audio=null,this.inited=!1,this.container=null,this.srcNode=null,this.options={enableVideoAutoplayDialog:!0,enableAudioAutoplayDialog:!0,clearLastFrame:!0,useAudioElement:!0},this.emitPlayFailed=(s=function(Ce,Oe,$e){E.eventManager.emit("autoplayFailed",Oe,$e),(Ce?E.options.enableVideoAutoplayDialog:E.options.enableAudioAutoplayDialog)&&au.addDiaLog(),E.logger.warn("zc.zsv autoplay failed")},(d=600)===void 0&&(d=100),function(){for(var Ce=[],Oe=0;Oe<arguments.length;Oe++)Ce[Oe]=arguments[Oe];var $e=this;clearTimeout(g),g=window.setTimeout(function(){s.apply($e,Ce)},d)}),this.videoMuted=!1,this.audioMuted=!1,this.eventHandler={visibilitychange:function(){var Ce;document.hidden||E.audioMuted||!fa()||(E.logger.info("zc.zsv page show, recover audio"),E.options.useAudioElement&&E.audio?E.audio.srcObject=E.audio.srcObject:(E.logger.info("zc.ac.rs page show"),E.ac.resume()),E.mountPlayer(E.audio,!0)),document.hidden||E.videoMuted||!fa()||!((Ce=E.video)===null||Ce===void 0)&&Ce.paused&&(E.logger.info("zc.zsv page show, recover video"),E.mountPlayer(E.video,!0))},canPlayAudio:function(Ce){E.eventManager.emit("canPlayAudio",Ce)},canPlayVideo:function(Ce){E.eventManager.emit("canPlayVideo",Ce)}},this.inited=!0,this.options=ps(ps({},this.options),o);var b=this.id="".concat(t.id),S=document.createElement("div");S.id="zg-rtc-player_".concat(b),S.setAttribute("style","width:100%;height:100%;position:relative;background-color:black;overflow:hidden;");var l=t.getVideoTracks()[0],J=t.getAudioTracks()[0],he=Ca();he.id="zg-rtc-video_".concat(b),he.setAttribute("style","width:100%;height:100%;object-fit:contain;"),he.setAttribute("autoplay",""),he.srcObject=new MediaStream,he.addEventListener("canplay",this.eventHandler.canPlayVideo),l&&he.srcObject.addTrack(l);var _e=document.createElement("audio");_e.id="zg-rtc-audio_".concat(b),_e.setAttribute("autoplay",""),_e.setAttribute("playsinline",""),_e.setAttribute("muted",""),_e.muted=!0,_e.srcObject=this.audioStream=new MediaStream,_e.addEventListener("canplay",this.eventHandler.canPlayAudio),J&&_e.srcObject.addTrack(J),typeof WeixinJSBridge=="object"&&typeof WeixinJSBridge.invoke=="function"&&WeixinJSBridge.invoke("getNetworkType",{},function(){E.logger.info("zc.zsv weixin load media"),_e.load(),he.load()}),this.wrapper=S,this.video=he,this.audio=_e,this.eventManager=new su,this.allowPlayListener=function(){E.resume()},au.on("allowPlay",this.allowPlayListener),document.addEventListener("visibilitychange",this.eventHandler.visibilitychange)}return Object.defineProperty(A.prototype,"ac",{get:function(){return this.previewer.ac},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"browser",{get:function(){return this.previewer.stateCenter.browser},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"logger",{get:function(){return this.previewer.logger},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isLocal",{get:function(){return this.previewer instanceof Gs},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isMounted",{get:function(){return!!this.wrapper.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"hasAudio",{get:function(){var t,n;return((n=(t=this.audioStream)===null||t===void 0?void 0:t.getTracks()[0])===null||n===void 0?void 0:n.readyState)==="live"&&!this.audioMuted},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"hasVideo",{get:function(){var t,n,o;return!!(!((t=this.video)===null||t===void 0)&&t.parentNode)&&((o=(n=this.video.srcObject)===null||n===void 0?void 0:n.getTracks()[0])===null||o===void 0?void 0:o.readyState)==="live"},enumerable:!1,configurable:!0}),A.prototype.resume=function(t,n){return n===void 0&&(n=["audio","video"]),xs(this,void 0,void 0,function(){var o=this;return Us(this,function(s){return this.logger.info("zc.zsv resume call: ".concat(t,", kindList: ").concat(n)),n.forEach(function(d){return xs(o,void 0,void 0,function(){var g,E,b=this;return Us(this,function(S){switch(S.label){case 0:return E=d==="audio"?this.audio:this.video,((g=d==="audio")?this.hasAudio:this.hasVideo)?!g||this.options.useAudioElement?[3,1]:(this.logger.info("zc.zsv resume ac: "+this.ac.state),this.ac.resume(),[3,5]):[3,5];case 1:return t&&E?(E.srcObject=E.srcObject,[4,new Promise(function(l){var J=function(){E.removeEventListener("canplay",J),l(0)};E.addEventListener("canplay",J)})]):[3,3];case 2:S.sent(),S.label=3;case 3:return[4,E==null?void 0:E.play().catch(function(l){b.logger.info("zc.zsv resume failed. err:"+l.message)})];case 4:S.sent(),S.label=5;case 5:return[2]}})})}),[2]})})},A.prototype.checkIfClearLastFrame=function(){return xs(this,void 0,void 0,function(){return Us(this,function(t){switch(t.label){case 0:return this.options.clearLastFrame?[4,this.resume(!0,["video"])]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},A.prototype.play=function(t,n){n===void 0&&(n={}),this.logger.info("zc.zsv play: ".concat(typeof t,", ").concat(JSON.stringify(n)));var o=n.enableAutoplayDialog;typeof o=="boolean"&&(n.enableVideoAutoplayDialog=o,n.enableAudioAutoplayDialog=o,delete n.enableAutoplayDialog),this.playVideo(t,n),this.playAudio(n,!this.isLocal)},A.prototype.playVideo=function(t,n){n===void 0&&(n={}),this.logger.info("zc.zsv.pv play: ".concat(typeof t,", ").concat(JSON.stringify(n)));var o=null;if(typeof t=="string"?o=document.getElementById(t):t instanceof HTMLElement&&(o=t),!o)throw"Execute `play` failed, container not exist";n&&"enableAutoplayDialog"in n&&(n.enableVideoAutoplayDialog=n.enableAutoplayDialog,delete n.enableAutoplayDialog),this.options=ps(ps({},this.options),n);var s=this.options,d=s.objectFit,g=s.mirror;this.video&&(d!==void 0&&(this.video.style.objectFit=d),typeof g=="boolean"&&(this.video.style.transform=g?"rotateY(180deg)":"")),!o.contains(this.wrapper)&&o.appendChild(this.wrapper),this.container=o,this.videoMuted=!1,this.mountPlayer(this.video,!0)},A.prototype.playAudio=function(t,n){n===void 0&&(n=!0),this.logger.info("zc.zsv.pa play: ".concat(JSON.stringify(t))),t&&"enableAutoplayDialog"in t&&(t.enableAudioAutoplayDialog=t.enableAutoplayDialog,delete t.enableAutoplayDialog),this.options=ps(ps({},this.options),t);var o=!0;if(this.browser==="safari"){var s=navigator.userAgent.match(/Version\/([\d\.]+)/);s&&(s[1]!=="13.1.2"||this.options.useAudioElement||(o=!1))}o||(this.logger.warn("zc.zsv.pa safari 13.1.2 cannot use audio ctx render."),this.options.useAudioElement=!0);var d=n,g=this.options.muted;this.audio&&typeof g=="boolean"&&(d=!g),this.audioMuted=!d,this.mountPlayer(this.audio,d)},A.prototype.stop=function(){this.logger.info("zc.zsv stop "),this.stopAudio(),this.stopVideo()},A.prototype.stopAudio=function(){this.logger.info("zc.zsv.sa stop "),this.audioMuted=!0,this.mountPlayer(this.audio,!1)},A.prototype.stopVideo=function(){var t;this.logger.info("zc.zsv.sv stop "),this.mountPlayer(this.video,!1);var n=(t=this.wrapper)===null||t===void 0?void 0:t.parentNode;n&&n.removeChild(this.wrapper)},A.prototype.setVideo=function(t,n){return n===void 0&&(n=!1),xs(this,void 0,void 0,function(){return Us(this,function(o){switch(o.label){case 0:return[4,this.setTrack(!0,t,n)];case 1:return o.sent(),[2]}})})},A.prototype.setAudio=function(t,n){return n===void 0&&(n=!1),xs(this,void 0,void 0,function(){return Us(this,function(o){switch(o.label){case 0:return[4,this.setTrack(!1,t,n)];case 1:return o.sent(),[2]}})})},A.prototype.setTrack=function(t,n,o){return o===void 0&&(o=!1),xs(this,void 0,void 0,function(){var s,d,g;return Us(this,function(E){switch(E.label){case 0:return this.logger.info("zc.zsv set track: ".concat(t,", ").concat(typeof n,", ").concat(o,", ").concat(n==null?void 0:n.readyState)),(s=t?this.video:this.audio)?(d=s.srcObject)?n?[3,1]:((g=d.getTracks()).forEach(function(b){d==null||d.removeTrack(b),s.srcObject=s.srcObject}),this.eventManager.emit("_trackChange",t?"video":"audio"),[3,5]):[2]:[2];case 1:if(!(n instanceof MediaStreamTrack))return[3,5];if((g=d.getTracks()).includes(n))return[3,5];if(g.forEach(function(b){d==null||d.removeTrack(b)}),d.addTrack(n),this.options.useAudioElement||this.initAC(!0),this.eventManager.emit("_trackChange",n.kind,n),this.mountPlayer(s,!(t?this.videoMuted:this.audioMuted)),!o)return[3,5];E.label=2;case 2:return E.trys.push([2,4,,5]),[4,this.resume(!0,[t?"video":"audio"])];case 3:return E.sent(),[3,5];case 4:return E.sent(),[3,5];case 5:return[2]}})})},A.prototype.setMirror=function(t){var n=this.options.mirror=!!t;this.video&&(this.video.style.transform=n?"rotateY(180deg)":"")},A.prototype.setVideoMuted=function(t){return this.logger.info("zc.zsv mute video: ".concat(t)),this.videoMuted=t,this.mountPlayer(this.video,!t)},A.prototype.setAudioMuted=function(t){return this.logger.info("zc.zsv mute audio: ".concat(t)),this.audioMuted=t,this.mountPlayer(this.audio,!t)},A.prototype.setVolume=function(t){if(this.logger.info("zc.zsv volume: ".concat(t)),this.audio){var n=t>100?1:t/100;return this.audio.volume=n,this.gainNode&&(this.gainNode.gain.value=n),this.audio.volume==n}return!1},A.prototype.takeStreamSnapshot=function(t){var n=this.video;if(!n||!n.srcObject)return"";var o=Ia(this.video.videoWidth,this.video.videoHeight),s=o.getContext("2d");s&&s.drawImage(this.video,0,0,o.width,o.height);var d=o.toDataURL("image/"+(t==null?void 0:t.imageType)||0,t==null?void 0:t.quality),g="png";return t!=null&&t.imageType&&(g=["png","jpeg"].includes(t==null?void 0:t.imageType)?t==null?void 0:t.imageType:"png"),t!=null&&t.save&&o.toBlob(function(E){var b=window.URL.createObjectURL(E),S=document.createElement("a");S.style.display="none",S.href=b;var l=(t==null?void 0:t.fileName)||"snapshot"+Date.now();S.download=l+"."+g,document.body.appendChild(S),S.click(),setTimeout(function(){document.body.removeChild(S),window.URL.revokeObjectURL(b)},100)}),d},A.prototype.initAC=function(t){if(t===void 0&&(t=!1),this.srcNode?t&&(this.srcNode.disconnect(),this.srcNode=this.ac.createMediaStreamSource(this.audioStream)):this.srcNode=this.ac.createMediaStreamSource(this.audioStream),!this.gainNode){var n=this.gainNode=this.ac.createGain();this.audio&&(n.gain.value=this.audio.volume)}return this.srcNode.connect(this.gainNode),{gainNode:this.gainNode,srcNode:this.srcNode}},A.prototype.mountPlayer=function(t,n){var o,s,d=this;if(!t||!this.wrapper)return!1;var g=!this.options.useAudioElement,E=t.tagName==="VIDEO";if(n){if(!E&&g){t.muted=!0,t.pause(),t.remove(),this.initAC().gainNode.connect(this.ac.destination);var b="running";this.logger.info("zc.zsv render use audio context: "+this.ac.state),this.ac.state!==b&&this.ac.resume().then(function(){d.ac.state!==b&&d.emitPlayFailed(E,t)})}else if(((s=(o=t==null?void 0:t.srcObject)===null||o===void 0?void 0:o.getTracks()[0])===null||s===void 0?void 0:s.readyState)==="live"){var S=null,l=function(){t.oncanplay=null,S&&(clearTimeout(S),S=null),t.play().then(function(){Ul&&!E&&(d.logger.info("zc.ac.rs honor suspend ac"),d.ac.resume()),d.logger.info("zc.zsv render  ".concat(t.tagName," use element success"))}).catch(function(he){d.logger.warn("zc.zsv ".concat(t.tagName," play() error: ").concat(he.message));var _e=d.isMounted,Ce=d.hasVideo,Oe=d.hasAudio,$e=(he.message||"").includes("interrupted");_e&&!$e&&(E&&Ce||!E&&Oe)&&d.emitPlayFailed(E,t,he)})};t.muted=!0,E||(this.gainNode&&this.gainNode.disconnect(),t.muted=!1,t.srcObject=t.srcObject),Ul&&!E&&(this.logger.info("zc.ac.rs honor resume ac"),this.ac.suspend()),t.play().catch(function(){}),S=window.setTimeout(function(){l()},1e3),t.oncanplay=function(){l()},!t.parentNode&&E&&this.wrapper.appendChild(t)}}else if(t.muted=!0,t.remove(),t.pause(),!E){g&&this.gainNode&&this.gainNode.disconnect();var J=5*Math.random()+4;setTimeout(function(){!E&&!t.parentNode&&t.readyState>3&&t.load()},1e3*J)}return!0},A.prototype.on=function(t,n){return!!n&&this.eventManager.addEventHandler(t,n)},A.prototype.off=function(t,n){return this.eventManager.removeEventHandler(t,n)},A.prototype.useAudioOut=function(t){var n;return xs(this,void 0,void 0,function(){var o;return Us(this,function(s){switch(s.label){case 0:return o=(n=this.audio)===null||n===void 0?void 0:n.setSinkId,o?[4,o.call(this.audio,t)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},A.prototype.destroy=function(){this.stop(),this.video&&(this.video.removeEventListener("canplay",this.eventHandler.canPlayVideo),this.video=null),this.audio&&(this.audio.removeEventListener("canplay",this.eventHandler.canPlayAudio),this.audio=null),document.removeEventListener("visibilitychange",this.eventHandler.visibilitychange),au.off("allowPlay",this.allowPlayListener),this.inited=!1,this.allowPlayListener=null},A.prototype.getAudioNodeAndStopRender=function(){var t=this.audio,n=this.options;t&&(t.muted=!0,t.remove(),t.pause());var o=this.initAC(!0).gainNode;return n.useAudioContext&&o.disconnect(),o},A}(),Nd=function(){function A(t,n){this.source=t,this.destination=n,this.audioNodeList=[],this.source.disconnect(),this.source.connect(this.destination)}return Object.defineProperty(A.prototype,"destinationNode",{get:function(){return this.destination},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastNode",{get:function(){return this.isEmpty()?null:this.audioNodeList[this.audioNodeList.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"secondToLastNode",{get:function(){return this.audioNodeList.length<2?null:this.audioNodeList[this.audioNodeList.length-2]},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"firstNode",{get:function(){return this.isEmpty()?null:this.audioNodeList[0]},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"secondNode",{get:function(){return this.audioNodeList.length<2?null:this.audioNodeList[1]},enumerable:!1,configurable:!0}),A.prototype.pushBack=function(t){this.lastNode?(this.lastNode.disconnect(),this.lastNode.connect(t),t.connect(this.destination)):(this.source.disconnect(),this.source.connect(t),t.connect(this.destination)),this.audioNodeList.push(t)},A.prototype.popBack=function(){this.lastNode&&(this.lastNode.disconnect(),this.secondToLastNode?(this.secondToLastNode.disconnect(),this.secondToLastNode.connect(this.destination)):(this.source.disconnect(),this.source.connect(this.destination))),this.audioNodeList.pop()},A.prototype.pushFront=function(t){this.source.disconnect(),this.source.connect(t),t.connect(this.firstNode?this.firstNode:this.destination),this.audioNodeList.unshift(t)},A.prototype.popFront=function(){this.source.disconnect(),this.firstNode&&(this.firstNode.disconnect(),this.source.connect(this.secondNode?this.secondNode:this.destination)),this.audioNodeList.shift()},A.prototype.remove=function(t){var n=this.audioNodeList.indexOf(t);if(n!==-1){if(t.disconnect(),n-1>=0){var o=this.audioNodeList[n-1];o.disconnect(),o.connect(this.lastNode!=t?this.audioNodeList[n+1]:this.destination)}else this.source.disconnect(),this.source.connect(this.lastNode!=t?this.audioNodeList[n+1]:this.destination);this.audioNodeList.splice(n,1)}},A.prototype.isConnected=function(t){return this.audioNodeList.indexOf(t)!==-1},A.prototype.isEmpty=function(){return this.audioNodeList.length===0},A.prototype.replaceSource=function(t){this.source.disconnect(),t.connect(this.firstNode?this.firstNode:this.destination),this.source=t},A.prototype.replaceDestination=function(t){this.lastNode?(this.lastNode.disconnect(),this.lastNode.connect(t)):(this.source.disconnect(),this.source.connect(t)),this.destination=t},A}(),Gl=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Hl=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},cu=function(){function A(){}return A.prototype.connect=function(t){return Gl(this,void 0,void 0,function(){return Hl(this,function(n){switch(n.label){case 0:return this.next=t,this.output?[4,t.setInput(this.output)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2,t]}})})},A.prototype.disconnect=function(){return Gl(this,void 0,void 0,function(){return Hl(this,function(t){switch(t.label){case 0:return this.next?[4,this.next.setInput(null)]:[3,2];case 1:t.sent(),this.next=void 0,t.label=2;case 2:return[2]}})})},A}(),ql=function(){function A(){}return A.createError=function(t,n){return{code:t.code,message:t.message+(n?" "+n:"")}},A}(),Td=(uc=function(A,t){return uc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},uc(A,t)},function(A,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=A}uc(A,t),A.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),Md=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Ld=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Od=ql.createError,Jl=function(A){function t(n){var o=A.call(this)||this;return o.track=n,o}return Td(t,A),Object.defineProperty(t.prototype,"output",{get:function(){return this.track},enumerable:!1,configurable:!0}),t.prototype.setInput=function(n){return Md(this,void 0,void 0,function(){return Ld(this,function(o){throw Od({code:-1,message:"Can not set track input to VideoSourceNode"})})})},t.prototype.process=function(){},t.prototype.destory=function(){this.track&&(this.track.stop(),this.track=null),this.next=null},t}(cu),fs=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Cs=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Pd=function(){function A(t,n){this.source=t,this.destination=n,this.videoNodeList=[],this.source.connect(this.destination)}return Object.defineProperty(A.prototype,"lastNode",{get:function(){return this.isEmpty()?null:this.videoNodeList[this.videoNodeList.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"secondToLastNode",{get:function(){return this.videoNodeList.length<2?null:this.videoNodeList[this.videoNodeList.length-2]},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"firstNode",{get:function(){return this.isEmpty()?null:this.videoNodeList[0]},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"secondNode",{get:function(){return this.videoNodeList.length<2?null:this.videoNodeList[1]},enumerable:!1,configurable:!0}),A.prototype.pushBack=function(t){return fs(this,void 0,void 0,function(){return Cs(this,function(n){switch(n.label){case 0:return this.lastNode?[4,this.lastNode.connect(t)]:[3,3];case 1:return n.sent(),[4,t.connect(this.destination)];case 2:return n.sent(),[3,6];case 3:return[4,this.source.connect(t)];case 4:return n.sent(),[4,t.connect(this.destination)];case 5:n.sent(),n.label=6;case 6:return this.videoNodeList.push(t),[2]}})})},A.prototype.popBack=function(){return fs(this,void 0,void 0,function(){return Cs(this,function(t){switch(t.label){case 0:return this.lastNode?[4,this.lastNode.disconnect()]:[3,7];case 1:return t.sent(),this.secondToLastNode?[4,this.secondToLastNode.disconnect()]:[3,4];case 2:return t.sent(),[4,this.secondToLastNode.connect(this.destination)];case 3:return t.sent(),[3,7];case 4:return[4,this.source.disconnect()];case 5:return t.sent(),[4,this.source.connect(this.destination)];case 6:t.sent(),t.label=7;case 7:return this.videoNodeList.pop(),[2]}})})},A.prototype.pushFront=function(t){return fs(this,void 0,void 0,function(){return Cs(this,function(n){switch(n.label){case 0:return[4,this.source.disconnect()];case 1:return n.sent(),[4,this.source.connect(t)];case 2:return n.sent(),this.firstNode?[4,t.connect(this.firstNode)]:[3,4];case 3:return n.sent(),[3,6];case 4:return[4,t.connect(this.destination)];case 5:n.sent(),n.label=6;case 6:return this.videoNodeList.unshift(t),[2]}})})},A.prototype.popFront=function(){return fs(this,void 0,void 0,function(){return Cs(this,function(t){switch(t.label){case 0:return[4,this.source.disconnect()];case 1:return t.sent(),this.firstNode?[4,this.firstNode.disconnect()]:[3,6];case 2:return t.sent(),this.secondNode?[4,this.source.connect(this.secondNode)]:[3,4];case 3:return t.sent(),[3,6];case 4:return[4,this.source.connect(this.destination)];case 5:t.sent(),t.label=6;case 6:return this.videoNodeList.shift(),[2]}})})},A.prototype.remove=function(t){return fs(this,void 0,void 0,function(){var n,o;return Cs(this,function(s){switch(s.label){case 0:return(n=this.videoNodeList.indexOf(t))===-1?[3,13]:[4,t.disconnect()];case 1:return s.sent(),n-1>=0?[4,(o=this.videoNodeList[n-1]).disconnect()]:[3,7];case 2:return s.sent(),this.lastNode==t?[3,4]:[4,o.connect(this.videoNodeList[n+1])];case 3:return s.sent(),[3,6];case 4:return[4,o.connect(this.destination)];case 5:s.sent(),s.label=6;case 6:return[3,12];case 7:return[4,this.source.disconnect()];case 8:return s.sent(),this.lastNode==t?[3,10]:[4,this.source.connect(this.videoNodeList[n+1])];case 9:return s.sent(),[3,12];case 10:return[4,this.source.connect(this.destination)];case 11:s.sent(),s.label=12;case 12:this.videoNodeList.splice(n,1),s.label=13;case 13:return[2]}})})},A.prototype.isConnected=function(t){return this.videoNodeList.indexOf(t)!==-1},A.prototype.isEmpty=function(){return this.videoNodeList.length===0},A.prototype.getSourceTrack=function(){return this.source.output},A.prototype.getDestinationTrack=function(){return this.destination.output},A.prototype.replaceNewSourceByTrack=function(t,n){return n===void 0&&(n=!0),fs(this,void 0,void 0,function(){return Cs(this,function(o){switch(o.label){case 0:return[4,this.replaceSource(new Jl(t),n)];case 1:return o.sent(),[2]}})})},A.prototype.replaceSource=function(t,n){return n===void 0&&(n=!0),fs(this,void 0,void 0,function(){return Cs(this,function(o){switch(o.label){case 0:return this.destination.setReplaceRemote(n),[4,this.source.disconnect()];case 1:return o.sent(),this.firstNode?[4,t.connect(this.firstNode)]:[3,3];case 2:return o.sent(),[3,5];case 3:return[4,t.connect(this.destination)];case 4:o.sent(),o.label=5;case 5:return this.source=t,this.destination.setReplaceRemote(),[2]}})})},A.prototype.replaceDestination=function(t){return fs(this,void 0,void 0,function(){return Cs(this,function(n){switch(n.label){case 0:return this.lastNode?[4,this.lastNode.disconnect()]:[3,3];case 1:return n.sent(),[4,this.lastNode.connect(t)];case 2:return n.sent(),[3,6];case 3:return[4,this.source.disconnect()];case 4:return n.sent(),[4,this.source.connect(t)];case 5:n.sent(),n.label=6;case 6:return this.destination=t,[2]}})})},A.prototype.destroy=function(){for(var t=0;t<this.videoNodeList.length;t++)this.videoNodeList[t].disconnect();this.videoNodeList=[],this.destination.destroy(),this.source.destory()},A}(),Fd=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),uu=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},lu=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},gu=ql.createError,xd=function(A){function t(n){var o=A.call(this)||this;return o.preview=n,o.track=null,o.replaceRemote=!0,o}return Fd(t,A),t.prototype.setReplaceRemote=function(n){n===void 0&&(n=!0),this.replaceRemote=n},t.prototype.setInput=function(n){return uu(this,void 0,void 0,function(){var o,s,d;return lu(this,function(g){if(n==null)return[2];if(!this.preview.localStream)throw gu({code:-1,message:"preview haven't been inited."});return this.track=n,this.preview.localStream.getVideoTracks()[0]!==n&&(o=this.preview.localStream,(s=this.preview.zegoCaptureStream)!=null&&s.stream&&(o=s.stream),d=this.preview.streamCenter.getPublishList(o),this.replaceRemote&&d.length!==0?d.map(function(E){return E.publisher}).forEach(function(E){E&&E.previewer&&E.replacePublishedTrack(n,!0)}):this.preview.replacePreviewTrack(n,!0)),[2]})})},Object.defineProperty(t.prototype,"output",{get:function(){return this.track},enumerable:!1,configurable:!0}),t.prototype.connect=function(n){return uu(this,void 0,void 0,function(){return lu(this,function(o){throw gu({code:-1,message:"video destination node cann't connect any video node."})})})},t.prototype.disconnect=function(){return uu(this,void 0,void 0,function(){return lu(this,function(n){throw gu({code:-1,message:"video destination node cann't disconnect any video node."})})})},t.prototype.destroy=function(){this.track=null},t}(cu);function Ud(A,t,n,o,s){n===void 0&&(n=1e3),o===void 0&&(o=200);var d=A.createAnalyser();d.fftSize=2048,t.connect(d);var g=null,E=0,b=d.fftSize,S=null,l=null,J=0;function he(){var _e=0;if(d.getFloatTimeDomainData){l||(l=new Float32Array(b)),d.getFloatTimeDomainData(l);for(var Ce=0;Ce<l.length;Ce++)_e=Math.max(_e,Math.abs(l[Ce]))}else{for(S||(S=new Uint8Array(b)),d.getByteTimeDomainData(S),Ce=0;Ce<S.length;Ce++)_e=Math.max(_e,Math.abs(S[Ce]-128));_e/=128}var Oe=.005;o<=100?Oe=.5:o<=200?Oe=.3:o<=300?Oe=.15:o<=500?Oe=.07:o<=1e3&&(Oe=.05),_e>(E*=Oe)&&(E=_e),E>1&&(E=1);var $e=Date.now();return J==0&&(J=$e),($e-J>=n||o>=n)&&(J=$e,s&&s(E)),o&&(g=window.setTimeout(function(){g&&clearTimeout(g),he()},o))}return n<100&&(n=100),o<100&&(o=100),n<o&&(o=n),o&&(g=window.setTimeout(function(){he()},o)),A.state!=="running"&&A.resume(),{analyzer:d,destroy:function(){d.disconnect(),g!==null&&(clearInterval(g),o=0,g=null),E=0,S=null,l=null},setInterval:function(_e){_e>30&&(n=_e)}}}var fA,Yo,_o,zo,Yl,zl,Kl,jl,Vl,Wl,Ba,Zl,Xl,$l,eg,tg,rg,zi,du=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},hu=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},va="zc.smw",Gd=new Blob([`
class VolumeMeter extends AudioWorkletProcessor {
  constructor() {
    super();
    this.volume = 0;
    this.intervalTime = 1000;
    this.tick = this.intervalTime;
    this.isStop = false;
    this.port.onmessage = event => {
      const { data } = event;
      switch (data.name) {
        case "setIntervalTime":
          this.intervalTime = data.intervalTime;
          break;
        case "stop":
          this.isStop = true;
          break;
      }
    };
  }
  process(inputs) {
    const input = inputs[0];
    if (this.isStop) {
      return false;
    }
    if (input.length > 0) {
      const buffer = input[0];
      let maxVal = this.volume;
      for (let i = 0; i < buffer.length; i++) {
        if (maxVal < buffer[i]) {
          maxVal = buffer[i];
        }
      }
      this.volume = maxVal;
      this.tick -= buffer.length;
      if (this.tick < 0) {
        this.tick += (this.intervalTime / 1000) * sampleRate;
        this.port.postMessage({ volume: this.volume });
        this.volume = 0;
      }
    }
    return true;
  }
}
try {
  registerProcessor("meter", VolumeMeter);
} catch (error) {
  
}  
`],{type:"application/javascript"}),ng=function(){function A(){}return A.addModuleToContext=function(t,n){return du(this,void 0,void 0,function(){var o;return hu(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n.info(va+" worklet addModule call"),[4,t.audioWorklet.addModule(URL.createObjectURL(Gd))];case 1:return s.sent(),n.info(va+" worklet addModule success"),this.isSuccess=!0,[2];case 2:return o=s.sent(),n.warn(va+" worklet addModule catch error. ".concat(o==null?void 0:o.message)),[3,3];case 3:return[2]}})})},A.isSuccess=!1,A}(),pu=function(){function A(t,n,o,s){o===void 0&&(o=1e3),s===void 0&&(s=200),this.logger=t,this.stateCenter=n,this.updateInterval=o,this.sampleInterval=s,this.worklet=null,this.processor=null,this.analyzer=null,this.volume=0,this.onSoundLevelUpdate=function(d){}}return A.prototype.preload=function(t){return du(this,void 0,void 0,function(){return hu(this,function(n){switch(n.label){case 0:return ng.isSuccess?[3,2]:[4,ng.addModuleToContext(t,this.logger)];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.initAudioWorklet=function(t,n){return du(this,void 0,void 0,function(){var o,s,d=this;return hu(this,function(g){switch(g.label){case 0:if(this.worklet)return[3,5];g.label=1;case 1:if(g.trys.push([1,3,,4]),function(E){return typeof E.createAnalyser=="function"}(t)&&this.stateCenter.settingConfig.getSetting("sound_level_api_type")!==Ar.useWorklet)throw"use analyzer";return this.logger.info(va+" use AudioWorklet. "),[4,this.preload(t)];case 2:return g.sent(),(o=this.worklet=new AudioWorkletNode(t,"meter")).port.onmessage=function(E){d.onSoundLevelUpdate&&d.onSoundLevelUpdate(E.data.volume||0)},n.connect(o).connect(t.destination),this.setInterval(this.updateInterval),[3,4];case 3:return s=g.sent(),this.logger.info(va+" not use AudioWorklet. "+s),this.analyzer=Ud(t,n,this.updateInterval,this.sampleInterval,function(E){d.onSoundLevelUpdate&&d.onSoundLevelUpdate(E||0)}),[3,4];case 4:return[3,6];case 5:n.connect(this.worklet).connect(t.destination),g.label=6;case 6:return[2]}})})},A.prototype.getSrcSource=function(t,n){var o=n.getAudioTracks()[0],s=n.id,d=A.sourceList[s]||{},g=d.source,E=d._ac,b=d.trackid;return g&&E===t&&b===(o==null?void 0:o.id)||(g&&g.disconnect(),g=t.createMediaStreamSource(n),A.sourceList[s]={source:g,_ac:E=t,trackid:b=o.id}),g},A.prototype.replaceSrcSource=function(t,n){var o;A.sourceDisConnect(n);var s=this.getSrcSource(t,n);return!((o=this.analyzer)===null||o===void 0)&&o.analyzer&&s.connect(this.analyzer.analyzer),s},A.sourceDisConnect=function(t){var n=t.id,o=(A.sourceList[n]||{}).source;o&&(o.disconnect(),delete A.sourceList[n])},A.prototype.setInterval=function(t){var n=this.worklet;this.updateInterval=t,n&&n.port.postMessage({name:"setIntervalTime",intervalTime:t}),this.analyzer&&this.analyzer.setInterval(t)},A.prototype.destroy=function(){this.processor&&(this.processor.onaudioprocess=null,this.processor.disconnect()),this.analyzer&&(this.analyzer.destroy(),this.analyzer=null),this.worklet&&(this.worklet.port.postMessage({name:"stop"}),this.worklet.port.onmessage=null,this.worklet.port.close(),this.worklet.disconnect(),this.logger.info(va+" close worklet")),this.worklet=null,this.processor=null},A.sourceList={},A}(),Ki=function(){return Ki=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},Ki.apply(this,arguments)},fu=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Cu=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Gs=function(){function A(t,n,o,s,d){var g=this;this.logger=t,this.stateCenter=n,this.streamCenter=o,this.previewType=s,this.onlyPreview=d,this.localStream=null,this.videoInfo={},this.rtcViewer=null,this.streamFromCanvas=!1,this.streamFromCanvasTrack=null,this.previewSuc=!1,this.soundLevel=0,this.hasEmptyAudioTrack=!1,this._emptyAudioTrack=null,this.syncAudioState=!0,this.constraintsVideoKeys=["videoInput","videoQuality","facingMode","width","height","bitrate","frameRate","startBitrate","videoOptimizationMode","minBitrate","keyFrameInterval"],this.constraintsAudioKeys=["audioInput","audioBitrate","channelCount","ANS","AGC","AEC"],this.script=null,this.mic=null,this._audioTrack=null,this._videoTrack=null,this.cloneVideoTrack=null,this.originVideoTrack=null,this.originAudioTrack=null,this.activateSEIConfig=null,this.isAudioEnabled=!0,this.isVideoEnabled=!0,this.gainNode=null,this.cameraMaxResolution={},this.enableDualStream=!1,this.lowStreamConfig={width:160,height:120,frameRate:15,bitRate:50},this.muteImage=null,this.hasMicTrack=!0,this.enableMicrophoneOnly=function(E,b){if(!g.localStream)return g.logger.error("zp.em.2 no localStream"),!1;var S=b.getPublishList(g.localStream).map(function(l){return l.publisher});return S.length&&S.forEach(function(l){l.sendStreamStatus(l.camera_status,g.isAudioEnabled&&E?0:2)}),g.micTrack?(g.micTrack.enabled=g.isAudioEnabled&&E,g.logger.debug("zp.emo.2 call success"),!0):(g.logger.info("zp.emo.2 no micTrack"),!0)},this.soundMeterWorklet=null,this.audioMixManager=null,this.volume=100,this.volumeFactor=1,s&&(this.videoPreviewType=s,this.audioPreviewType=s)}return A.prototype.getEmptyAudioTrack=function(){if(!this._emptyAudioTrack){var t=this.streamCenter.ac.createMediaStreamDestination(),n=t?t.stream:null,o=this._emptyAudioTrack=n?n.getAudioTracks()[0]:null;this.logger.info("zp.geat "+"empty audio id: ".concat(o==null?void 0:o.id))}return this._emptyAudioTrack},Object.defineProperty(A.prototype,"audioTrack",{get:function(){var t;return this._audioTrack||((t=this.localStream)===null||t===void 0?void 0:t.getAudioTracks()[0])||null},set:function(t){this._audioTrack=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"videoTrack",{get:function(){var t;return this._videoTrack||((t=this.localStream)===null||t===void 0?void 0:t.getVideoTracks()[0])||null},set:function(t){this._videoTrack=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"videoNodeQueue",{get:function(){if(!this._videoNodeQueue){if(!this._videoTrack)throw new Error("cannot use video node queue, because videoTrack of previewer haven't been inited.");var t=new Jl(this._videoTrack),n=new xd(this);this._videoNodeQueue=new Pd(t,n)}return this._videoNodeQueue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isVideoNodeQueueEnabled",{get:function(){return!!this._videoNodeQueue},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"ac",{get:function(){return this.streamCenter.ac},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"acMgr",{get:function(){return this.streamCenter.acMgr},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"containBackgroundProcess",{get:function(){var t=this;if(this.previewType==="compositing"){var n=this.inputStreamOptions.some(function(o){if(o.stream){var s=t.streamCenter.checkPreview(o.stream);return s==null?void 0:s.isBackgroundBlur}});return n}return!!this.isBackgroundBlur},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"micTrack",{get:function(){return this.hasMicTrack&&this.audioPreviewType==="camera"&&this.audioTrack||null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isVideoEffectStarting",{get:function(){return!!this.videoEffect&&this.videoEffect.isStarting},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isVideoEffectEnabled",{get:function(){return!!this.videoEffect&&this.videoEffect.enabled},enumerable:!1,configurable:!0}),A.prototype.getMediaStreamConstraints=function(t,n){var o={audio:null,video:null};if(o.audio=!0,o.video={width:this.stateCenter.settingConfig.getSetting("camera_width")||640,height:this.stateCenter.settingConfig.getSetting("camera_height")||480,frameRate:this.stateCenter.settingConfig.getSetting("camera_framerate")||15,bitRate:this.stateCenter.settingConfig.getSetting("camera_video_bitrate")},t.audio?t.audioInput===void 0&&t.ANS===void 0&&t.AGC===void 0&&t.AEC===void 0&&t.channelCount===void 0?(o.audio={},o.audio.noiseSuppression=this.stateCenter.settingConfig.getSetting("ANS"),o.audio.autoGainControl=this.stateCenter.settingConfig.getSetting("AGC"),o.audio.echoCancellation=this.stateCenter.settingConfig.getSetting("AEC"),o.audio.channelCount=1):(o.audio={},t.audioInput&&t.audioInput!=="undefined"&&(o.audio.deviceId={exact:t.audioInput}),t.ANS!==void 0&&(o.audio.noiseSuppression=t.ANS),t.AGC!==void 0&&(o.audio.autoGainControl=t.AGC),t.AEC!==void 0&&(o.audio.echoCancellation=t.AEC),t.channelCount!==void 0&&(o.audio.channelCount=t.channelCount)):t.audio===!1&&(o.audio=!1),t.video){var s=640,d=480,g=15,E=this.stateCenter.settingConfig.getSetting("camera_video_bitrate");if(t.videoQuality===1?(s=Q.width,d=Q.height,g=Q.frameRate,E=Q.bitRate):t.videoQuality===2?(s=p.width,d=p.height,g=p.frameRate,E=p.bitRate):t.videoQuality===3?(s=u.width,d=u.height,g=u.frameRate,E=u.bitRate):t.videoQuality===4?(s=t.width||640,d=t.height||480,g=t.frameRate||15,E=t.bitRate||this.stateCenter.settingConfig.getSetting("camera_video_bitrate")):this.logger.info("zp.gmsc.2 use default"),n&&!t.videoQuality&&(t.width&&(s=t.width),t.height&&(d=t.height),t.frameRate&&(g=t.frameRate),t.bitRate&&(E=t.bitRate)),t.horizontal===!1){var b=d;d=s,s=b}t.isSwitch===!0&&(b=d,d=s,s=b),o.video={width:s,height:d,frameRate:g,bitRate:E},t.facingMode!=null?o.video.facingMode=t.facingMode:t.videoInput&&t.videoInput!="undefined"&&(o.video.deviceId={exact:t.videoInput}),this.logger.info("zp.gmsc.2 width: "+s+" height: "+d+" rate: "+g)}else t.video===!1&&(t.audioBitrate&&(o.video={}),o.video=!1);return o},A.prototype.addTrackListener=function(t){var n=this;t.addEventListener("ended",function(){gi(t,n.logger,"zc.tk.end")}),t.addEventListener("mute",function(){gi(t,n.logger,"zc.tk.mute")}),t.addEventListener("unmute",function(){gi(t,n.logger,"zc.tk.unmt")})},A.prototype.startPreview=function(t,n,o,s){var d,g;return fu(this,void 0,void 0,function(){var E,b,S,l,J,he,_e,Ce,Oe,$e,ze,Xe,et,gt,_t,Bt,ut=this;return Cu(this,function(Ct){return this.logger.info("zp.sv.2 called "+JSON.stringify(t)),this.mediaStreamConfig=t,t.video===!1&&this.deleteConstraints(this.mediaStreamConfig,this.constraintsVideoKeys),t.audio===!1&&this.deleteConstraints(this.mediaStreamConfig,this.constraintsAudioKeys),this.logger.info("zp.sv.2 store "+JSON.stringify(this.mediaStreamConfig)),navigator.mediaDevices===void 0||navigator.mediaDevices.getUserMedia==null?(o&&o(Tt.kBrowserNotSupportError),[2]):(E=function(wt){n(wt)},t.source instanceof MediaStream?(b=t.source.getVideoTracks(),S=b.length>0?b[0].getSettings():{width:0,height:0,frameRate:0},this.logger.debug("zp.sv.2 use external media stream"),this.previewSuc=!0,this.localStream=t.source,this.initMediaTrack(t.source),this.videoInfo={width:S.width,height:S.height,frameRate:S.frameRate,bitRate:t.bitRate||this.stateCenter.settingConfig.getSetting("custom_video_bitrate"),startBitrate:t.startBitrate||this.stateCenter.settingConfig.getSetting("bitrate_mode"),minBitrate:t.minBitrate,keyFrameInterval:t.keyFrameInterval,channelCount:t.channelCount||(this.audioTrack&&this.audioTrack.getSettings?this.audioTrack.getSettings().channelCount:1),audioBitrate:1e3*t.audioBitrate||48e3},E&&E(this.localStream),[2]):t.source instanceof HTMLMediaElement?((l=this.captureStream(t.source,t))?(this.videoInfo.bitRate=t.bitRate||this.stateCenter.settingConfig.getSetting("custom_video_bitrate"),this.previewSuc=!0,this.initMediaTrack(l),E&&E(l)):o&&o(Tt.kBrowserNotSupportError),[2]):((J=this.getMediaStreamConstraints(t)).audio&&(he=this.stateCenter.settingConfig.getSetting("AEC",!0),_e=this.stateCenter.settingConfig.getSetting("AGC",!0),Ce=this.stateCenter.settingConfig.getSetting("ANS",!0),typeof he=="boolean"&&(this.logger.info("zp.sv.2 setting AEC "+he),J.audio.echoCancellation=he),typeof _e=="boolean"&&(this.logger.info("zp.sv.2 setting AGC "+_e),J.audio.autoGainControl=_e),typeof Ce=="boolean"&&(this.logger.info("zp.sv.2 setting ANS "+Ce),J.audio.noiseSuppression=Ce)),this.videoInfo=Ki(Ki({},J.video),{keyFrameInterval:t.keyFrameInterval}),this.videoInfo?(this.videoInfo.audioBitrate=1e3*t.audioBitrate||48e3,this.videoInfo.startBitrate=t.startBitrate||this.stateCenter.settingConfig.getSetting("bitrate_mode"),this.videoInfo.minBitrate=t.minBitrate,this.videoInfo.keyFrameInterval=t.keyFrameInterval):t.audioBitrate&&(this.videoInfo={audioBitrate:1e3*t.audioBitrate||48e3}),(Oe=this.stateCenter.settingConfig.getSetting("camera_audio_bitrate",!0))&&(this.videoInfo.audioBitrate=1e3*Oe),J.video instanceof Object&&(J.video.width=this.stateCenter.settingConfig.getSetting("camera_width",!0)||J.video.width,J.video.height=this.stateCenter.settingConfig.getSetting("camera_height",!0)||J.video.height,J.video.frameRate=this.stateCenter.settingConfig.getSetting("camera_framerate",!0)||J.video.frameRate),this.mediaStreamConfig.video=!!J.video,this.mediaStreamConfig.audio=!!J.audio,this.logger.info("zp.sv.2 ",JSON.stringify(J)),s.setAttribute("preview_conf",Mn(J)),t.unlimitedCaptureResolution&&J.video.width&&(J.video.width={ideal:4096},J.video.height={ideal:2160},this.logger.info("zp.sv.2 ","capture max resolution of camera")),$e=function(wt){ut.localStream=wt,ut.previewSuc=!0,ut.initMediaTrack(wt),ut.videoInfo&&(ut.videoInfo.channelCount=t.channelCount||(ut.audioTrack&&ut.audioTrack.getSettings?ut.audioTrack.getSettings().channelCount:1)),E&&E(wt)},ze=function(wt){if(o){var Pt=Tt.kGetUserMediaError;Pt.message=Pt.message+" "+wt.name+" "+wt.message,wt.name==="NotAllowedError"||wt.name==="SecurityError"?(Pt=Ki({},Tt.kDeviceNoAllowedError)).message=wt.name+": "+Pt.message:wt.name==="NotReadableError"?(Pt=Ki({},Tt.kDeviceNoReadableError)).message=wt.name+": "+Pt.message:wt.name==="OverconstrainedError"&&((Pt=Ki({},Tt.kDeviceOverConstrainedError)).message=wt.name+": "+Pt.message+(wt.constraint?". such as "+wt.constraint:"")),o(Pt)}},gt=!1,_t=!1,(Xe=J.audio===!1)&&(gt=((d=J.video)===null||d===void 0?void 0:d.videoInput)===void 0),(et=J.video===!1)&&(_t=((g=J.audio)===null||g===void 0?void 0:g.audioInput)===void 0),Bt=function(wt,Pt,sr){ut.logger.info("zp.sv.2 recapture call"),Ho(function(or){var yr=or.cameras,Fr=or.microphones;if(ut.logger.info("zp.sv.2 recapture devices "+yr.length+" "+Fr.length),sr==="video"){if(!(yr.length>0))return void ze(Pt);var br=yr[0].deviceID;ut.logger.info("zp.sv.2 recapture video "+br),wt.video.deviceId={exact:br}}else if(sr==="audio"){if(!(Fr.length>0))return void ze(Pt);var Lr=Fr[0].deviceID;ut.logger.info("zp.sv.2 recapture audio "+Lr),wt.audio.deviceId={exact:Lr}}navigator.mediaDevices.getUserMedia(wt).then(function(xn){ut.logger.info("zp.sv.2 recapture success"),$e(xn)}).catch(function(xn){ze(Pt)})},function(or){ut.logger.warn("zp.sv.2 recapture getDevices err:",or.message),ze(Pt)})},navigator.mediaDevices.getUserMedia(J).then(function(wt){wt.getTracks().forEach(function(Pt){gi(Pt,ut.logger,"zp.sv.2"),ut.addTrackListener(Pt)}),ut.logger.info("zp.sv.2 success"),$e(wt)},function(wt){if(ut.logger.info("zp.sv.2 failed ",wt.name," ",wt.message),wt.name==="NotFoundError"){var Pt=Xe&&gt||et&&_t,sr=Xe?"video":"audio";ut.logger.info("zp.sv.2 failed "+Pt+" "+sr),Pt?Bt(J,wt,sr):ze(wt)}else ze(wt)}),[2]))})})},A.prototype.captureStream=function(t,n){if(!t)return this.logger.info("zp.cs.2 no local video"),null;var o;if(t.captureStream)o=t.captureStream(),this.logger.debug("zp.cs.2 captureStream");else{if(!t.mozCaptureStream)return this.logger.info("zp.cs.2 don't support"),null;o=t.mozCaptureStream(),this.logger.debug("zp.cs.2 mozCaptureStream")}return o.getTracks().length==0?(this.logger.error("zp.cs.2 external capture tracks no found"),null):(this.localStream=o,this.videoInfo={width:t.videoWidth,height:t.videoHeight,frameRate:0,bitRate:n.bitRate||this.stateCenter.settingConfig.getSetting("custom_video_bitrate"),channelCount:n.channelCount||(this.audioTrack&&this.audioTrack.getSettings?this.audioTrack.getSettings().channelCount:1),audioBitrate:1e3*n.audioBitrate||48e3,startBitrate:n.startBitrate||this.stateCenter.settingConfig.getSetting("bitrate_mode"),minBitrate:n.minBitrate,keyFrameInterval:n.keyFrameInterval},this.logger.debug("zp.cs.2 called success"),this.localStream)},A.prototype.stopPreview=function(){var t,n,o,s,d,g,E,b;if(this.logger.info("zp.sv.2.1 called"),this.localStream){var S=this.rtcViewer;S&&S.destroy(),this.videoEffect&&(this.videoEffect.setBeautyEffectOptions(!1),this.videoEffect.destroy()),(t=this.stateCenter.backgroundBlurManager)===null||t===void 0||t.releaseMap(this.localStream),this.backgroundProcessor&&(this.backgroundProcessor.release(),this.backgroundProcessor=null),this.streamCompositor&&(this.streamCompositor=null),this._videoNodeQueue&&this.videoNodeQueue.destroy(),(n=this.cloneVideoTrack)===null||n===void 0||n.stop(),this.cloneVideoTrack=null,this.muteImageAnID&&cancelAnimationFrame(this.muteImageAnID),this.stopSoundLevel(),(o=this.originVideoTrack)===null||o===void 0||o.stop(),this.originVideoTrack=null,(s=this.originAudioTrack)===null||s===void 0||s.stop(),this.originAudioTrack=null,(d=this.videoTrack)===null||d===void 0||d.stop(),this.videoTrack=null,(g=this.audioTrack)===null||g===void 0||g.stop(),this.audioTrack=null,pu.sourceDisConnect(this.localStream),(E=this.audioMixManager)===null||E===void 0||E.stopAudioManager(),!this.zegoCaptureStream&&this.localStream.getTracks().forEach(function(l){l.stop()}),this.localStream=null,!this.zegoCaptureStream&&((b=this.lowStream)===null||b===void 0||b.getTracks().forEach(function(l){return l.stop()})),this.lowStream=void 0,this.videoInfo={}}},A.prototype.enableMicrophone=function(t,n){return!1},A.prototype.enableCamera=function(t,n,o){return!1},A.prototype.enableCameraCapturing=function(t){return fu(this,void 0,void 0,function(){return Cu(this,function(n){return[2,!1]})})},A.prototype.stopCaptureVideo=function(){return new Promise(function(t){return t()})},A.prototype.startSoundLevel=function(){var t;if(this.localStream&&this.localStream.getAudioTracks().length!=0){(t=this.soundMeterWorklet)===null||t===void 0||t.destroy();var n=this.streamCenter.getCloudSoundInterval();try{var o=this,s=this.streamCenter.createSoundLevel(this.ac,this.localStream,this.streamCenter.soundLevelInterval,n,function(g){o.soundLevel=100*g}),d=s.mic;this.soundMeterWorklet=s.soundMeter,this.mic=d}catch(g){this.logger.error(ic+" get sound level failed "+g)}}},A.prototype.stopSoundLevel=function(){var t;this.soundLevel=0,(t=this.soundMeterWorklet)===null||t===void 0||t.destroy(),this.soundMeterWorklet=null,this.mic=null},A.prototype.restartSoundLevel=function(){this.streamCenter.soundLevelDelegate?(this.stopSoundLevel(),this.startSoundLevel()):this.stopSoundLevel()},A.prototype.setBeautyEffect=function(t,n){return fu(this,void 0,void 0,function(){return Cu(this,function(o){return[2]})})},A.prototype.replacePreviewTrack=function(t,n,o){},A.prototype.updateZegoStreamCaptureTrack=function(t){var n=this.zegoCaptureStream;if(n){var o=t.kind=="video"?n.originVideoStream:n.originAudioStream;if(o){var s=this.streamCenter.checkPreview(o);this.logger.info("zsc.uzsct replace zego preivew"),s==null||s.replacePreviewTrack(t)}}},A.prototype.createLowStream=function(){var t,n,o,s,d,g=(t=this.localStream)===null||t===void 0?void 0:t.getVideoTracks()[0];if(g){var E=g.getSettings().height,b=g.getSettings().width,S=navigator.userAgent,l=S.toLowerCase().match(/MicroMessenger/i)=="micromessenger",J=S.indexOf("Android")>-1||S.indexOf("Adr")>-1;this.logger.info("zp.cls w: "+b+" h: "+E+" "+J+" "+l);var he=typeof((n=this.videoInfo)===null||n===void 0?void 0:n.width)=="number"&&typeof((o=this.videoInfo)===null||o===void 0?void 0:o.height)=="number"&&E==this.videoInfo.width&&b==this.videoInfo.height;if(l&&J&&he){var _e=E;E=b,b=_e}var Ce=E&&b?E/b:1;try{var Oe,$e=this.lowStreamConfig,ze=$e.width,Xe=$e.frameRate;if(Oe=Math.round(Ce*this.lowStreamConfig.width),this.logger.info("zp.cls lw: "+ze+" lh: "+Oe),this.stateCenter.browser==="firefox")this.lowStream=this.getStreamThroughCanvas(this.localStream,{w:ze,h:Oe,fps:Xe});else{this.lowStream=(s=this.localStream)===null||s===void 0?void 0:s.clone();var et=(d=this.lowStream)===null||d===void 0?void 0:d.getVideoTracks()[0];et==null||et.applyConstraints({width:ze,height:Oe,frameRate:Xe})}}catch(gt){this.logger.error("zp.cls "+gt)}}},A.prototype.initAudioNodeQueue=function(t){if(!this.audioTrack||!this.localStream)return!1;var n=this.createSrcNode(this.audioTrack),o=this.createDestNode(this.localStream);return this.audioNodeQueue=new Nd(n,o),!0},A.prototype.createSrcNode=function(t,n,o){var s;n===void 0&&(n=!1),o===void 0&&(o=!1);var d=t||this.audioTrack;if(d===((s=this.destNode)===null||s===void 0?void 0:s.stream.getAudioTracks()[0])&&(this.logger.info("zp.pv.csn use empty track"),d=this.getEmptyAudioTrack()),this.srcNode&&!o){if(!n)return this.srcNode;this.srcNode.disconnect(),this.logger.info("zp.pv.csn recreate src")}var g=new MediaStream;d&&g.addTrack(d);var E=this.ac.createMediaStreamSource(g);return o||(this.srcNode=E),this.logger.info("zp.pv.csn "+"create src audio id: ".concat(d==null?void 0:d.id,", ").concat(d==null?void 0:d.label,",i")),E},A.prototype.isOriginEmptyTrack=function(){return!this.audioTrack||this._emptyAudioTrack===this.audioTrack},A.prototype.createDestNode=function(t){var n;if(this.destNode)return this.destNode;var o=this.destNode=this.destNode||this.ac.createMediaStreamDestination(),s=o.stream.getAudioTracks()[0];this.logger.info("zp.pv.cdn "+"create dest audio id: ".concat(s==null?void 0:s.id,", ").concat(s==null?void 0:s.label,",i"));var d=this.rtcViewer;for(var g in this.streamCenter.publisherList){var E=this.streamCenter.publisherList[g];if(E.localStream==t){var b=(n=E.publisher.peerConnection)===null||n===void 0?void 0:n.getSenders().find(function(l){return l.track&&l.track.kind==="audio"});b&&(b.replaceTrack(s),this.logger.info("zc.pv.cdn change sender audio track"));break}}var S=t.getAudioTracks()[0];return S&&t.removeTrack(S),!this.isOriginEmptyTrack()&&(s.enabled=S.enabled),t.addTrack(s),d&&d.setAudio(s),o},A.prototype.initMediaTrack=function(t){t.getVideoTracks().length>0&&(this.videoTrack=t.getVideoTracks()[0],this.originVideoTrack=this.videoTrack),t.getAudioTracks().length>0&&(this.audioTrack=t.getAudioTracks()[0],this.originAudioTrack=this.audioTrack)},A.prototype.onAudioTrackChange=function(t){},A.prototype.getViewer=function(){return!this.localStream||this.rtcViewer&&this.rtcViewer.inited||(this.rtcViewer=new Au(this.localStream,this,{clearLastFrame:this.stateCenter.engineConfig.previewClearLastFrame})),this.rtcViewer},A.prototype.getStreamThroughCanvas=function(t,n){var o,s=this;if(t.getVideoTracks().length==0)return t;var d=(o=t.getVideoTracks()[0])===null||o===void 0?void 0:o.getSettings(),g=d.width,E=d.height,b=d.frameRate;if(!g||!E||!b)return t;var S=Ca(),l=document.createElement("canvas"),J=l.getContext("2d");S.setAttribute("style","display:none"),l.setAttribute("style","display:none"),l.width=(n==null?void 0:n.w)||g,l.height=(n==null?void 0:n.h)||E,new Promise(function(Ce,Oe){var $e=null,ze=function(){$e&&clearTimeout($e),S&&S.removeEventListener("playing",ze),Ce(void 0)};S&&S.addEventListener("playing",ze),$e=window.setTimeout(function(){Oe()},1e3)}).then(function(){var Ce=(n==null?void 0:n.fps)||b||15;s.drawCanvasTimer&&(clearInterval(s.drawCanvasTimer),s.drawCanvasTimer=null),s.drawCanvasTimer=setInterval(function(){var Oe,$e=(Oe=t.getVideoTracks()[0])===null||Oe===void 0?void 0:Oe.getSettings();l.width=(n==null?void 0:n.w)||$e.width||S.videoWidth,l.height=(n==null?void 0:n.h)||$e.height||S.videoHeight,J==null||J.drawImage(S,0,0,l.width,l.height)},1e3/Ce)}),S.srcObject=t,S.play();var he=l.captureStream((n==null?void 0:n.fps)||15);if(he.getVideoTracks()[0].stop=function(){s.drawCanvasTimer&&(clearInterval(s.drawCanvasTimer),s.drawCanvasTimer=null),S.pause(),S.remove(),l.remove()},t instanceof MediaStream&&t.getAudioTracks().length){var _e=t.getAudioTracks()[0];he.addTrack(_e)}return he},A.prototype.stopCanvasStreamTrack=function(){var t;this.streamFromCanvas&&this.streamFromCanvasTrack&&((t=this.streamFromCanvasTrack)===null||t===void 0||t.stop(),this.streamFromCanvasTrack=null),this.drawCanvasTimer&&(clearInterval(this.drawCanvasTimer),this.drawCanvasTimer=null)},A.prototype.updateVideoInfo=function(t){var n={width:t.width,height:t.height,frameRate:t.frameRate,bitRate:t.bitRate,minBitrate:t.minBitrate,keyFrameInterval:t.keyFrameInterval};return this.logger.info("zc.pv.uvi input video info: ".concat(JSON.stringify(n))),this.videoInfo=Ki(Ki({},this.videoInfo),n),Ki({},this.videoInfo)},A.prototype.updateAudioInfo=function(t){var n={};return this.logger.info("zc.pv.uai input audio info: ".concat(JSON.stringify(n))),this.videoInfo=Ki(Ki({},this.videoInfo),n),Ki({},this.videoInfo)},A.prototype.updateMediaStreamConstraints=function(t,n){var o=this;this.logger.info("zc.pv.umsc ".concat(JSON.stringify(t))),n==="video"?this.constraintsVideoKeys.forEach(function(s){return o.mediaStreamConfig[s]=t[s]}):this.constraintsAudioKeys.forEach(function(s){return o.mediaStreamConfig[s]=t[s]})},A.prototype.deleteConstraints=function(t,n){n.forEach(function(o){return delete t[o]})},A.prototype.setVolumeFactorByUserCount=function(t){var n,o=this.stateCenter.engineConfig.choirRole;if(this.localStream){this.logger.info("zc.pv.svf ".concat((n=this.localStream)===null||n===void 0?void 0:n.id," count: ").concat(t,", mic: ").concat(!!this.micTrack,", choir role: ").concat(o));var s=this.volumeFactor,d=[1,2].includes(o);if(this.micTrack&&d)for(var g=[[0,1],[3,1],[4,.9],[8,.7],[12,.5],[16,.45],[20,.4],[24,.35],[1/0,.3]],E=0;E<g.length;E++){var b=g[E][0],S=g[E+1];if(!S){this.logger.error("zc.pv.svf error: no map factor");break}if(t>=b&&t<S[0]){s=S[1];break}}else s=o===1?.6:1;this.audioMixManager&&this.audioMixManager.setVolumeFactor(o===1?.6:1),this.logger.info("zc.pv.svf factor: ".concat(s)),this.setVolume(void 0,s)}},A.prototype.setVolume=function(t,n){var o,s,d;this.logger.info("zc.pv.scv volume: ".concat(t,", factor: ").concat(n,"; origin: ").concat(this.volume,", ").concat(this.volumeFactor)),t===void 0?t=this.volume:this.volume=t,n===void 0?n=this.volumeFactor:this.volumeFactor=n;var g=this.gainNode;g||(this.audioNodeQueue||this.initAudioNodeQueue(),g=this.ac.createGain(),(o=this.audioNodeQueue)===null||o===void 0||o.pushFront(g),this.gainNode=g);var E=t/100*this.volumeFactor;if(typeof E=="number"){var b=!1;g.gain.value!=E&&(b=!0,g.gain.value=E),this.logger.info("zc.pv.scv ".concat(this.audioPreviewType," ").concat((d=this.localStream)===null||d===void 0?void 0:d.id,"  volume: ").concat(E,". hasChanged: ").concat(b))}else this.logger.error("zc.pv.scv ".concat(this.audioPreviewType," ").concat((s=this.localStream)===null||s===void 0?void 0:s.id,"  volume error: ").concat(E))},A}();(function(A){A[A.Off=0]="Off",A[A.TurningOn=1]="TurningOn",A[A.On=2]="On"})(fA||(fA={})),function(A){A[A.World=0]="World",A[A.Team=1]="Team",A[A.SecretTeam=2]="SecretTeam"}(Yo||(Yo={})),function(A){A[A.All=0]="All",A[A.World=1]="World",A[A.Team=2]="Team"}(_o||(_o={})),function(A){A[A.All=0]="All",A[A.World=1]="World",A[A.Team=2]="Team"}(zo||(zo={})),function(A){A[A.Song=0]="Song",A[A.Accompaniment=1]="Accompaniment",A[A.AccompanimentClip=2]="AccompanimentClip",A[A.AccompanimentSegment=3]="AccompanimentSegment"}(Yl||(Yl={})),function(A){A[A.Count=0]="Count",A[A.User=1]="User",A[A.Room=2]="Room",A[A.Master=3]="Master"}(zl||(zl={})),function(A){A[A.VendorDefault=0]="VendorDefault",A[A.Vendor1=1]="Vendor1",A[A.Vendor2=2]="Vendor2",A[A.Vendor3=4]="Vendor3"}(Kl||(Kl={})),function(A){A[A.PortraitSegmentation=0]="PortraitSegmentation"}(jl||(jl={})),function(A){A[A.NONE=0]="NONE",A[A.MEN_TO_CHILD=1]="MEN_TO_CHILD",A[A.MEN_TO_WOMEN=2]="MEN_TO_WOMEN",A[A.WOMEN_TO_CHILD=3]="WOMEN_TO_CHILD",A[A.WOMEN_TO_MEN=4]="WOMEN_TO_MEN",A[A.FOREIGNER=5]="FOREIGNER",A[A.OPTIMUS_PRIME=6]="OPTIMUS_PRIME",A[A.ANDROID=7]="ANDROID",A[A.ETHEREAL=8]="ETHEREAL",A[A.MALE_MAGNETIC=9]="MALE_MAGNETIC",A[A.FEMALE_FRESH=10]="FEMALE_FRESH",A[A.MAJOR_C=11]="MAJOR_C",A[A.MINOR_A=12]="MINOR_A",A[A.HARMONIC_MINOR=13]="HARMONIC_MINOR",A[A.FEMALE_ENERGETIC=14]="FEMALE_ENERGETIC",A[A.RICHNESS=15]="RICHNESS",A[A.MUFFLED=16]="MUFFLED",A[A.ROUNDNESS=17]="ROUNDNESS",A[A.FALSETTO=18]="FALSETTO",A[A.FULLNESS=19]="FULLNESS",A[A.CLEAR=20]="CLEAR",A[A.HIGHLY_RESONANT=21]="HIGHLY_RESONANT",A[A.LOUD_CLEAR=22]="LOUD_CLEAR"}(Vl||(Vl={})),function(A){A[A.None=0]="None",A[A.SoftRoom=1]="SoftRoom",A[A.LargeRoom=2]="LargeRoom",A[A.ConcertHall=3]="ConcertHall",A[A.Valley=4]="Valley",A[A.RecordingStudio=5]="RecordingStudio",A[A.Basement=6]="Basement",A[A.KTV=7]="KTV",A[A.Popular=8]="Popular",A[A.Rock=9]="Rock",A[A.VocalConcert=10]="VocalConcert",A[A.GramoPhone=11]="GramoPhone",A[A.EnhancedKTV=12]="EnhancedKTV"}(Wl||(Wl={})),function(A){A[A.None=0]="None",A[A.Local=1]="Local",A[A.Publish=2]="Publish",A[A.All=3]="All"}(Ba||(Ba={})),function(A){A[A.Off=0]="Off",A[A.On=1]="On"}(Zl||(Zl={})),function(A){A[A.PortraitSegmentation=0]="PortraitSegmentation"}(Xl||(Xl={})),function(A){A[A.ZegoGeoFenceTypeNone=0]="ZegoGeoFenceTypeNone",A[A.ZegoGeoFenceTypeInclude=1]="ZegoGeoFenceTypeInclude",A[A.ZegoGeoFenceTypeExclude=2]="ZegoGeoFenceTypeExclude"}($l||($l={})),function(A){A[A.AspectFill=0]="AspectFill",A[A.AspectFit=1]="AspectFit"}(eg||(eg={})),function(A){A[A.ZegoFontTypeSourceHanSans=0]="ZegoFontTypeSourceHanSans",A[A.ZegoFontTypeAlibabaSans=1]="ZegoFontTypeAlibabaSans",A[A.ZegoFontTypePangMenZhengDaoTitle=2]="ZegoFontTypePangMenZhengDaoTitle",A[A.ZegoFontTypeHappyZcool=3]="ZegoFontTypeHappyZcool"}(tg||(tg={})),function(A){A[A.ZegoDefined=0]="ZegoDefined",A[A.UserUnregister=1]="UserUnregister"}(rg||(rg={})),function(A){A[A.video=0]="video",A[A.audio=1]="audio",A[A.videoAndAudio=2]="videoAndAudio"}(zi||(zi={}));var ig=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},og=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Hd=function(){function A(t){this.zegoStream=t}return Object.defineProperty(A.prototype,"active",{get:function(){return this.zegoStream.active},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"id",{get:function(){return this.zegoStream.id},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"videoCaptureStream",{get:function(){return this.zegoStream.originVideoStream},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"audioCaptureStream",{get:function(){return this.zegoStream.originAudioStream},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"stream",{get:function(){return this.zegoStream.stream},enumerable:!1,configurable:!0}),A.prototype.getAudioTracks=function(){return this.zegoStream.getAudioTracks()},A.prototype.getVideoTracks=function(){return this.zegoStream.getVideoTracks()},A.prototype.getTracks=function(){return this.zegoStream.getTracks()},Object.defineProperty(A.prototype,"videoDeviceId",{get:function(){return this.zegoStream.videoDeviceId},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"audioDeviceId",{get:function(){return this.zegoStream.audioDeviceId},enumerable:!1,configurable:!0}),A.prototype.on=function(t,n){return this.zegoStream.on(t,n)},A.prototype.off=function(t,n){return this.zegoStream.off(t,n)},A.prototype.startCaptureMicrophone=function(t){return this.zegoStream.startCaptureMicrophone(t)},A.prototype.startCaptureCamera=function(t){return this.zegoStream.startCaptureCamera(t)},A.prototype.startCaptureCameraAndMicrophone=function(t,n){return this.zegoStream.startCaptureCameraAndMicrophone(t,n)},A.prototype.startCaptureCustomAudio=function(t){return this.zegoStream.startCaptureCustomAudio(t)},A.prototype.startCaptureCustomVideo=function(t){return this.zegoStream.startCaptureCustomVideo(t)},A.prototype.startCaptureCustomVideoAndAudio=function(t,n){return this.zegoStream.startCaptureCustomVideoAndAudio(t,n)},A.prototype.startCaptureScreen=function(t){return this.zegoStream.startCaptureScreen(t)},A.prototype.startCaptureScreenWithAudio=function(t,n){return this.zegoStream.startCaptureScreenWithAudio(t,n)},A.prototype.stopCaptureAudio=function(){return ig(this,void 0,void 0,function(){return og(this,function(t){return[2,this.zegoStream.stopCaptureAudio()]})})},A.prototype.stopCaptureVideo=function(){return ig(this,void 0,void 0,function(){return og(this,function(t){return[2,this.zegoStream.stopCaptureVideo()]})})},A.prototype.playAudio=function(t){this.zegoStream.playAudio(t)},A.prototype.playCaptureAudio=function(t){this.zegoStream.playCaptureAudio(t)},A.prototype.playVideo=function(t,n){this.zegoStream.playVideo(t,n)},A.prototype.playCaptureVideo=function(t,n){this.zegoStream.playCaptureVideo(t,n)},A.prototype.takeStreamSnapshot=function(t){return this.zegoStream.takeStreamSnapshot(t)},A.prototype.resumeVideo=function(){return this.zegoStream.resumeVideo()},A.prototype.resumeAudio=function(){return this.zegoStream.resumeAudio()},A.prototype.stopVideo=function(){this.zegoStream.stopVideo()},A.prototype.stopAudio=function(){this.zegoStream.stopAudio()},A.prototype.stopPlayCaptureVideo=function(){this.zegoStream.stopPlayCaptureVideo()},A.prototype.stopPlayCaptureAudio=function(){this.zegoStream.stopPlayCaptureAudio()},A.prototype.setVolume=function(t){return this.zegoStream.setVolume(t)},A}(),si=function(){return si=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},si.apply(this,arguments)},Ni=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Ti=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},sg=function(A,t,n){if(n||arguments.length===2)for(var o,s=0,d=t.length;s<d;s++)!o&&s in t||(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return A.concat(o||Array.prototype.slice.call(t))},qd=function(){function A(t,n,o,s,d,g){var E=this;this.options=t,this.logger=n,this.streamCenter=o,this.stateCenter=s,this.publishModule=d,this.advancedModule=g,this.id="zego-stream-"+Date.now().toString(16),this.originVideoStream=null,this.originAudioStream=null,this.audioMuted=!0,this.audioCaptureMuted=!0,this.stream=null,this.publishAuido=null,this.publishVideo=null,this._ACacheStreams=[],this._VCacheStreams=[],this.eventHandler={autoplayFailed:function(b,S){E.eventManager.emit("autoplayFailed",b,S)},autoplayCaptureFailed:function(b,S){E.eventManager.emit("autoplayCaptureFailed",b,S)},canPlayAudio:function(b){E.eventManager.emit("canPlayAudio",b)},canPlayVideo:function(b){E.eventManager.emit("canPlayVideo",b)},canPlayCaptureVideo:function(b){E.eventManager.emit("canPlayCaptureVideo",b)},canPlayCaptureAudio:function(b){E.eventManager.emit("canPlayCaptureAudio",b)}},this.isPlayingVideo=!1,this.isPlayingCaptureVideo=!1,this.aCaptureViewer=null,this.vCaptureViewers=[],this.videoWrappers=[],this.viewer=null,this.previewer=null,this.originVideoTrack=null,this.originAudioTrack=null,this.eventManager=new su,this.autoPlay&&!t.view&&this.logger.error("zcs.c if you want to play the stream automatically, the view parameter is required.")}return Object.defineProperty(A.prototype,"active",{get:function(){var t,n;return((t=this.originAudioStream)===null||t===void 0?void 0:t.active)||((n=this.originVideoStream)===null||n===void 0?void 0:n.active)||!1},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"view",{get:function(){return this.options.view||null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"autoPlay",{get:function(){return typeof this.options.autoPlay=="boolean"&&this.options.autoPlay},enumerable:!1,configurable:!0}),A.prototype.getAudioTracks=function(){var t;return this.logger.info("zcs.gats call"),((t=this.originAudioStream)===null||t===void 0?void 0:t.getAudioTracks())||[]},A.prototype.getVideoTracks=function(){var t;return this.logger.info("zcs.gvts call"),((t=this.originVideoStream)===null||t===void 0?void 0:t.getVideoTracks())||[]},A.prototype.getTracks=function(){return sg(sg([],this.getAudioTracks(),!0),this.getVideoTracks(),!0)},Object.defineProperty(A.prototype,"videoDeviceId",{get:function(){var t=this.originVideoStream&&this.originVideoStream.getVideoTracks()[0];return t&&this._getDeviceIdByTrack(t)||""},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"audioDeviceId",{get:function(){var t=this.originAudioStream&&this.originAudioStream.getAudioTracks()[0];return t&&this._getDeviceIdByTrack(t)||""},enumerable:!1,configurable:!0}),A.prototype.on=function(t,n){return!!n&&this.eventManager.addEventHandler(t,n)},A.prototype.off=function(t,n){return this.eventManager.removeEventHandler(t,n)},A.prototype.startPublish=function(){},A.prototype.replacePublish=function(t,n){t===void 0&&(t=zi.videoAndAudio)},A.prototype.resetPublish=function(){this._checkAndRecycleStream()},A.prototype._getDeviceIdByTrack=function(t){return t&&t.getSettings().deviceId||""},A.prototype._handleCapture=function(t,n){return n.call(this,t instanceof Object?t:{})},A.prototype._updateOriginStream=function(t,n){var o=this;if(this.logger.info("zcs.uos call type:"+n),n==0){if(this.originVideoStream=t,this.autoPlay||this.isPlayingCaptureVideo){var s=this.vCaptureViewers.map(function(d){return{container:d.container,option:d.options}});this.stopPlayCaptureVideo(),s!=null&&s.length||(s=[{container:this.options.captureView||null,option:{}}]),s.forEach(function(d){return d.container&&o.playCaptureVideo(d.container,d.option)})}}else this.originAudioStream=t,this.audioCaptureMuted||(this.stopPlayCaptureAudio(),this.playCaptureAudio())},Object.defineProperty(A.prototype,"isPublish",{get:function(){for(var t in this.streamCenter.publisherList)if(this.streamCenter.publisherList[t].localStream==this.stream)return!0;return!1},enumerable:!1,configurable:!0}),A.prototype.updateStreamAudioTrack=function(t,n,o){return t===void 0&&(t=function(){}),n===void 0&&(n=function(){}),o===void 0&&(o=0),Ni(this,void 0,void 0,function(){var s,d,g,E,b,S,l=this;return Ti(this,function(J){switch(J.label){case 0:if(this.logger.info("zcs.uat call"),!this.originAudioStream||this.isPublish&&o==0||!this.stream)return[2];if(!(s=this.streamCenter.checkPreview(this.originAudioStream))||!s.audioTrack)return this.logger.info("zcs.uat not preview"),[2];d=this.originAudioTrack,g=s.audioTrack,E=function(he){l.replacePublish(1),l.originAudioTrack=s.audioTrack,t(he)},J.label=1;case 1:return J.trys.push([1,3,,4]),[4,this.updateStreamTrack(d,g,E,n)];case 2:return b=J.sent(),this.logger.info("zcs.uat success"),[2,b];case 3:return S=J.sent(),this.logger.info("zcs.uat fail"),[2,S];case 4:return[2]}})})},A.prototype.updateStreamVideoTrack=function(t,n,o){return t===void 0&&(t=function(){}),n===void 0&&(n=function(){}),o===void 0&&(o=0),Ni(this,void 0,void 0,function(){var s,d,g,E,b=this;return Ti(this,function(S){if(this.logger.info("zcs.uvt call"),!this.originVideoStream||this.isPublish&&o==0||!this.stream)return this.logger.info("zcs.uvt not capture"),[2];if(s=this.originVideoTrack,!(d=this.streamCenter.checkPreview(this.originVideoStream))||!d.videoTrack)return this.logger.info("zcs.uvt not preview"),[2];g=d.videoTrack,E=function(l){b.replacePublish(0),b.originVideoTrack=d.videoTrack,t(l)};try{this.updateStreamTrack(s,g,E,n),this.logger.info("zcs.uvt success")}catch(l){return this.logger.info("zcs.uvt fail"),[2,l]}return[2]})})},A.prototype.updateStreamVideoAndAudio=function(t,n,o){return t===void 0&&(t=function(){}),n===void 0&&(n=function(){}),o===void 0&&(o=0),Ni(this,void 0,void 0,function(){var s,d,g,E,b;return Ti(this,function(S){switch(S.label){case 0:this.logger.info("zcs.uva call"),s=!this.originVideoStream,d=!this.originAudioStream,g=function(l){s=!0,d&&t(l)},E=function(l){d=!0,s&&t(l)},S.label=1;case 1:return S.trys.push([1,4,,5]),[4,this.updateStreamVideoTrack(g,n,o)];case 2:return S.sent(),[4,this.updateStreamAudioTrack(E,n,o)];case 3:return S.sent(),[3,5];case 4:return b=S.sent(),n(b),this.logger.info("zcs.uva error:".concat(JSON.stringify(b))),[3,5];case 5:return[2]}})})},A.prototype.updateStreamTrack=function(t,n,o,s){return Ni(this,void 0,void 0,function(){var d,g,E;return Ti(this,function(b){switch(b.label){case 0:return b.trys.push([0,5,,6]),this.logger.info("zcs.ut call"),d=this.stream&&this.streamCenter.checkPreview(this.stream),this.stream&&d?(g={errorCode:0,extendedData:""},t?[3,2]:(this.logger.info("zcs.ut add"),[4,this.advancedModule.handleTrack("ADD",this.stream,n,o,s)])):(this.logger.info("zcs.ut stream:".concat(!this.stream,", previewer:").concat(!d)),[2]);case 1:return g=b.sent(),[3,4];case 2:return t.id==n.id?[3,4]:(this.logger.info("zcs.ut replace"),[4,this.advancedModule.replaceTrack(this.stream,n)]);case 3:g=b.sent(),t.stop(),b.label=4;case 4:return n.kind=="audio"&&(d.syncAudioState=!0),this._updatePreviewer(this.stream,this.originVideoStream,this.originAudioStream),o(g),[3,6];case 5:return E=b.sent(),s(E),[3,6];case 6:return[2]}})})},A.prototype._initPreviewer=function(){var t;if(!this.stream){var n=[];if(this.originAudioStream){var o=this.streamCenter.checkPreview(this.originAudioStream);o&&o.audioTrack&&(n.push(o.audioTrack),this.originAudioTrack=o.audioTrack)}if(this.originVideoStream){var s=this.streamCenter.checkPreview(this.originVideoStream);s&&s.videoTrack&&(n.push(s.videoTrack),this.originVideoTrack=s.videoTrack)}this.stream=new MediaStream(n)}var d=this.streamCenter.checkPreview(this.stream);if(d||(d=this.createZegoStreamPreview(this.stream,!1),this.stream=this.publishModule.getStreamByCanvas(this.stream)),this.stream&&this._updatePreviewer(this.stream,this.originVideoStream,this.originAudioStream),d&&((t=this.stream)===null||t===void 0?void 0:t.getAudioTracks().length)===0){var g=d.getEmptyAudioTrack();g&&this.stream.addTrack(g),this.originAudioTrack=g}this.publishModule.initCopyMusic(this.stream),d.zegoCaptureStream=this,this.previewer=d},A.prototype.createZegoStreamPreview=function(t,n,o){var s=new Gs(this.logger,this.stateCenter,this.streamCenter,o,n);return this.streamCenter.previewStreamList.push(s),s.localStream=t,s.mediaStreamConfig={},s.initMediaTrack(t),t.getTracks().forEach(function(d){return s.addTrackListener(d)}),o=="screen"&&this.publishModule.addShareScreenEnd(t),s},A.prototype._updatePreviewer=function(t,n,o){if(t){var s=this.streamCenter.checkPreview(t);if(s){var d=n&&this.streamCenter.checkPreview(n),g=o&&this.streamCenter.checkPreview(o);s.videoInfo={},s.mediaStreamConfig={},d&&(s.previewType=d.previewType,s.videoPreviewType=d.videoPreviewType,s.previewSuc=!0,s.mediaStreamConfig=si({},d.mediaStreamConfig),s.videoInfo=si({},d.videoInfo)),g&&(s.audioPreviewType=g.audioPreviewType,s.previewSuc=!0,s.videoInfo.channelCount=g.videoInfo.channelCount,s.videoInfo.audioBitrate=g.videoInfo.audioBitrate,s.mediaStreamConfig=si({},g.mediaStreamConfig))}}},A.prototype._getVideoBitrate=function(t){return si(si({},t),typeof this.options.videoBitrate=="number"?{videoBitrate:this.options.videoBitrate}:this.options.videoBitrate)},A.prototype._getAudioBitrate=function(t){return t.audioBitrate=this.options.audioBitrate,t},A.prototype._createStream=function(t,n,o,s,d){return Ni(this,void 0,void 0,function(){var g,E,b,S,l,J,he,_e,Ce,Oe,$e;return Ti(this,function(ze){switch(ze.label){case 0:return ze.trys.push([0,2,,3]),E=o==zi.audio||o==zi.videoAndAudio,(g=o==zi.video||o==zi.videoAndAudio)&&(t=this._getVideoBitrate(t)),E&&(t=this._getAudioBitrate(t)),this.logger.warn("zcs.cs config:",JSON.stringify(((Oe={})[n]=t,Oe))),[4,this.publishModule.createStream(($e={},$e[n]=t,$e))];case 1:return b=ze.sent(),S=this.streamCenter.checkPreview(b),l=(S==null?void 0:S.originVideoTrack)||b.getVideoTracks()[0],J=(S==null?void 0:S.originAudioTrack)||b.getAudioTracks()[0],E&&g?(he=new MediaStream([l]),_e=new MediaStream([J]),this.createZegoStreamPreview(he,!0,n),this.createZegoStreamPreview(_e,!0,n),this._updatePreviewer(he,b,null),this._updatePreviewer(_e,null,b),this._VCacheStreams.push(he),this._ACacheStreams.push(_e),this._updateOriginStream(he,0),this._updateOriginStream(_e,1),!this.stream&&S?(this.stream=b,this.originAudioTrack=J,this.originVideoTrack=l,S.zegoCaptureStream=this,this.previewer=S):this.updateStreamVideoAndAudio(s,d,0)):g?(this._updateOriginStream(b,0),this._VCacheStreams.push(b),this.stream?this.updateStreamVideoTrack(s,d,0):this._initPreviewer()):E&&(_e=new MediaStream([J]),this.createZegoStreamPreview(_e,!0,n),this._updateOriginStream(_e,1),this._ACacheStreams.push(_e),this._ACacheStreams.push(b),this.stream?this.updateStreamAudioTrack(s,d,0):this._initPreviewer()),this.isPublish||(this.autoPlay||this.isPlayingVideo)&&this.autoPlay&&this.playVideo(),this._checkAndRecycleStream(),s({errorCode:0,extendedData:""}),[3,3];case 2:return Ce=ze.sent(),d(Ce),[3,3];case 3:return[2]}})})},A.prototype.startCaptureMicrophone=function(t){var n=this;return t===void 0&&(t={}),new Promise(function(o){return Ni(n,void 0,void 0,function(){var s;return Ti(this,function(d){switch(d.label){case 0:this.logger.info("zcs.scm call ".concat(JSON.stringify(t))),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._createStream(si({audio:!0,video:!1,audioInput:t.input},t),"camera",1,o,o)];case 2:return d.sent(),this.logger.info("zcs.scm success"),[3,4];case 3:return s=d.sent(),o(s),this.logger.info("zcs.scm fail"),[3,4];case 4:return[2]}})})})},A.prototype.startCaptureCamera=function(t){var n=this;return t===void 0&&(t={}),new Promise(function(o){return Ni(n,void 0,void 0,function(){var s;return Ti(this,function(d){switch(d.label){case 0:this.logger.info("zcs.scc call ".concat(JSON.stringify(t))),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._createStream(si({audio:!1,video:!0,videoInput:t.input,videoQuality:t.quality,videoOptimizationMode:t.optimizationMode},t),"camera",0,o,o)];case 2:return d.sent(),this.logger.info("zcs.scc success"),[3,4];case 3:return s=d.sent(),o(s),this.logger.info("zcs.scc fail"),[3,4];case 4:return[2]}})})})},A.prototype.startCaptureCameraAndMicrophone=function(t,n){var o=this;return t===void 0&&(t={}),n===void 0&&(n={}),new Promise(function(s){return Ni(o,void 0,void 0,function(){var d;return Ti(this,function(g){switch(g.label){case 0:this.logger.info("zcs.sccm call c:".concat(JSON.stringify(t),", m:").concat(JSON.stringify(n))),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this._createStream(si(si(si({audio:!0,video:!0,videoInput:t==null?void 0:t.input,videoQuality:t.quality,videoOptimizationMode:t==null?void 0:t.optimizationMode},t),{audioInput:n==null?void 0:n.input}),n),"camera",2,s,s)];case 2:return g.sent(),this.logger.info("zcs.sccm success"),[3,4];case 3:return d=g.sent(),s(d),this.logger.info("zcs.sccm fail"),[3,4];case 4:return[2]}})})})},A.prototype.autoCapture=function(){var t=this;return new Promise(function(n,o){return Ni(t,void 0,void 0,function(){var s,d,g,E,b,S,l;return Ti(this,function(J){switch(J.label){case 0:this.logger.info("zcs.ac call"),J.label=1;case 1:return J.trys.push([1,23,,24]),g=(s=this.options).custom,E=s.screen,(d=s.camera)?(this.logger.info("zcs.ac camera:".concat(JSON.stringify(d))),S=d.video,(b=d.audio)&&S?[4,this.startCaptureCameraAndMicrophone(S instanceof Object?S:void 0,b instanceof Object?b:void 0)]:[3,3]):[3,8];case 2:return J.sent(),[3,7];case 3:return b?[4,this._handleCapture(b,this.startCaptureMicrophone)]:[3,5];case 4:return J.sent(),[3,7];case 5:return S?[4,this._handleCapture(S,this.startCaptureCamera)]:[3,7];case 6:J.sent(),J.label=7;case 7:return[3,22];case 8:return E?(this.logger.info("zcs.ac screen:".concat(JSON.stringify(E))),S=E.video,(b=E.audio)?[4,this._handleCapture(b,this.startCaptureScreenWithAudio)]:[3,10]):[3,13];case 9:return J.sent(),[3,12];case 10:return[4,this._handleCapture(S,this.startCaptureScreen)];case 11:J.sent(),J.label=12;case 12:return[3,22];case 13:return g?(this.logger.info("zcs.ac custom:".concat(JSON.stringify(g))),S=g.video,(b=g.audio)&&S&&b.source===S.source?[4,this.startCaptureCustomVideoAndAudio(S,b)]:[3,15]):[3,20];case 14:return J.sent(),[3,19];case 15:return b?[4,this._handleCapture(b,this.startCaptureCustomAudio)]:[3,17];case 16:J.sent(),J.label=17;case 17:return S?[4,this._handleCapture(S,this.startCaptureCustomVideo)]:[3,19];case 18:J.sent(),J.label=19;case 19:return[3,22];case 20:return[4,this.startCaptureCameraAndMicrophone({},{})];case 21:J.sent(),J.label=22;case 22:return n({errorCode:0,extendedData:""}),[3,24];case 23:return l=J.sent(),o(l),[3,24];case 24:return[2]}})})})},A.prototype.startCaptureCustomAudio=function(t){var n=this;return new Promise(function(o){return Ni(n,void 0,void 0,function(){var s;return Ti(this,function(d){switch(d.label){case 0:this.logger.info("zcs.scca call ".concat(JSON.stringify(t))),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._createStream(t,"custom",1,o,o)];case 2:return d.sent(),this.logger.info("zcs.scca success"),[3,4];case 3:return s=d.sent(),o(s),this.logger.info("zcs.scca fail"),[3,4];case 4:return[2]}})})})},A.prototype.startCaptureCustomVideo=function(t){var n=this;return new Promise(function(o){return Ni(n,void 0,void 0,function(){var s;return Ti(this,function(d){switch(d.label){case 0:this.logger.info("zcs.sccv call ".concat(JSON.stringify(t))),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._createStream(si({videoOptimizationMode:t.optimizationMode},t),"custom",0,o,o)];case 2:return d.sent(),this.logger.info("zcs.sccv success"),[3,4];case 3:return s=d.sent(),o(s),this.logger.info("zcs.sccv fail"),[3,4];case 4:return[2]}})})})},A.prototype.startCaptureCustomVideoAndAudio=function(t,n){var o=this;return new Promise(function(s){return Ni(o,void 0,void 0,function(){var d,g;return Ti(this,function(E){switch(E.label){case 0:this.logger.info("zcs.sccva call v:".concat(JSON.stringify(t)," a:").concat(JSON.stringify(n))),E.label=1;case 1:return E.trys.push([1,7,,8]),t.source!=n.source?[3,3]:[4,this._createStream(si(si({videoOptimizationMode:t.optimizationMode},t),n),"custom",2,s,s)];case 2:return E.sent(),[3,6];case 3:return d={video:!1,audio:!1},[4,this._createStream(si({videoOptimizationMode:t.optimizationMode},t),"custom",0,function(b){d.video=!0,d.audio&&s(b)},s)];case 4:return E.sent(),[4,this._createStream(si({},n),"custom",1,function(b){d.audio=!0,d.video&&s(b)},s)];case 5:E.sent(),E.label=6;case 6:return this.logger.info("zcs.sccva success"),[3,8];case 7:return g=E.sent(),s(g),this.logger.info("zcs.sccva fail"),[3,8];case 8:return[2]}})})})},A.prototype.startCaptureScreen=function(t){var n=this;return t===void 0&&(t={}),new Promise(function(o,s){return Ni(n,void 0,void 0,function(){var d;return Ti(this,function(g){switch(g.label){case 0:this.logger.info("zcs.scs call ".concat(JSON.stringify(t))),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this._createStream(si(si({videoOptimizationMode:t.optimizationMode,videoQuality:t.quality},t),{audio:!1}),"screen",0,o,o)];case 2:return g.sent(),this.logger.info("zcs.scs success"),[3,4];case 3:return d=g.sent(),o(d),this.logger.info("zcs.scs fail"),[3,4];case 4:return[2]}})})})},A.prototype.startCaptureScreenWithAudio=function(t,n){var o=this;return t===void 0&&(t={}),n===void 0&&(n={}),new Promise(function(s,d){return Ni(o,void 0,void 0,function(){var g;return Ti(this,function(E){switch(E.label){case 0:this.logger.info("zcs.scs call v:".concat(JSON.stringify(t)," a:").concat(JSON.stringify(n))),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,this._createStream(si(si(si({videoOptimizationMode:t.optimizationMode,videoQuality:t.quality},t),n),{audio:!0}),"screen",2,s,s)];case 2:return E.sent(),this.logger.info("zcs.scs success"),[3,4];case 3:return g=E.sent(),s(g),this.logger.info("zcs.scs fail"),[3,4];case 4:return[2]}})})})},A.prototype.stopCaptureAudio=function(){var t=this;return new Promise(function(n){var o,s,d=!0;if(t.originAudioStream){t.logger.info("zcs.sca call stop capture");var g=t.originAudioStream.getAudioTracks()[0];!((o=t.stream)===null||o===void 0)&&o.getAudioTracks()[0]&&t.isPublish&&t.stream&&(t.logger.info("zcs.sca stop audio"),d=((s=t.previewer)===null||s===void 0?void 0:s.audioPreviewType)==="camera"?t.previewer.enableMicrophoneOnly(!1,t.streamCenter):t.advancedModule.enableStream(t.stream,{audio:!0}),t.previewer&&(t.previewer.syncAudioState=!1)),t.logger.info("zcs.sca stop result:"+d),d&&(g.stop(),t.originAudioStream=null,t.stopPlayCaptureAudio(),t._checkAndRecycleStream())}n(d)})},A.prototype.stopCaptureVideo=function(){var t;return Ni(this,void 0,void 0,function(){var n,o,s,d,g=this;return Ti(this,function(E){switch(E.label){case 0:if(n=!0,this.logger.info("zcs.scv call stop capture"),!this.originVideoStream)return[3,7];o=this.originVideoStream.getVideoTracks()[0],s=(t=this.stream)===null||t===void 0?void 0:t.getVideoTracks()[0],E.label=1;case 1:return E.trys.push([1,6,,7]),s?this.previewer?(this.logger.info("zcs.scv stop stream video"),this.previewer.videoPreviewType!="camera"?[3,3]:[4,this.previewer.enableCameraCapturing(!1)]):[3,5]:[3,5];case 2:return n=E.sent(),[3,5];case 3:return[4,this.previewer.stopCaptureVideo()];case 4:E.sent(),n=!0,E.label=5;case 5:return this.logger.info("zcs.scv stop result:"+n),n&&(o.stop(),this.originVideoStream=null,this.stopPlayCaptureVideo(),this._VCacheStreams.forEach(function(b){return g.publishModule.destroyStream(b)}),this._VCacheStreams=[],this._checkAndRecycleStream()),[3,7];case 6:return d=E.sent(),this.logger.error("zcs.scv "+JSON.stringify(d)),n=!1,[3,7];case 7:return[2,n]}})})},A.prototype._checkStream=function(t){return!!(t&&this.streamCenter.checkPreview(t))},A.prototype.createStreamView=function(t,n){if(n===void 0&&(n=!1),!t||!this._checkStream(t))throw new Error("The stream does not exist, you must first capture the stream");var o=this.streamCenter.checkPreview(t);return n&&o?new Au(t,o,{clearLastFrame:this.stateCenter.engineConfig.previewClearLastFrame}):(o==null?void 0:o.getViewer())||null},A.prototype.initStreamView=function(){var t,n,o;this.viewer=this.createStreamView(this.stream),(t=this.viewer)===null||t===void 0||t.on("canPlayAudio",this.eventHandler.canPlayAudio),(n=this.viewer)===null||n===void 0||n.on("canPlayVideo",this.eventHandler.canPlayVideo),(o=this.viewer)===null||o===void 0||o.on("autoplayFailed",this.eventHandler.autoplayFailed)},A.prototype.playAudio=function(t){var n;if(this.logger.info("zcs.pa call"),!this.stream)return this.logger.warn("zcs.pa You need to capture the audio stream first");this.viewer||this.initStreamView(),(n=this.viewer)===null||n===void 0||n.playAudio(t,!0),this.audioMuted=!1},A.prototype.playCaptureAudio=function(t){var n,o,s;if(this.logger.info("zcs.pca call"),!this.originAudioStream)return this.logger.warn("zcs.pca You need to capture the audio stream first");this.aCaptureViewer||(this.aCaptureViewer=this.createStreamView(this.originAudioStream),(n=this.aCaptureViewer)===null||n===void 0||n.on("canPlayAudio",this.eventHandler.canPlayCaptureAudio),(o=this.aCaptureViewer)===null||o===void 0||o.on("autoplayFailed",this.eventHandler.autoplayCaptureFailed)),this.audioCaptureMuted=!1,(s=this.aCaptureViewer)===null||s===void 0||s.playAudio(t,!0)},A.prototype.playVideo=function(t,n){var o;if(this.logger.info("zcs.pv call"),this.stream){if(this.viewer&&this.viewer.inited||(this.initStreamView(),(o=this.viewer)===null||o===void 0||o.setAudioMuted(this.audioMuted)),this.viewer){var s=t||this.view;s&&s instanceof HTMLElement?(this.viewer.playVideo(s,n),this.isPlayingVideo=!0):this.logger.error("zcs.pv Execute `playVideo` failed, container not exist")}}else this.logger.warn("zcs.pv You need to capture the video stream first")},A.prototype.playCaptureVideo=function(t,n){this.logger.info("zcs.pcv call");var o=this.vCaptureViewers[0]||null;if(this.originVideoStream){if(!o||this.options.multiplacePreview){if(!(o=this.createStreamView(this.originVideoStream,o&&this.options.multiplacePreview)))return;o.on("canPlayVideo",this.eventHandler.canPlayCaptureVideo),o.on("autoplayFailed",this.eventHandler.autoplayCaptureFailed),this.vCaptureViewers.push(o)}var s=t||this.options.captureView;s&&s instanceof HTMLElement?(o.playVideo(s,n),this.isPlayingCaptureVideo=!0):this.logger.error("zcs.pcv Execute `playVideo` failed, container not exist")}else this.logger.warn("zcs.pv You need to capture the video stream first")},A.prototype.updatePlayVideo=function(){this.viewer&&this.stream?this.viewer.setVideo(this.stream.getVideoTracks()[0]):this.autoPlay&&this.playVideo()},A.prototype.updatePlayAudio=function(){this.viewer&&this.stream&&this.viewer.setAudio(this.stream.getAudioTracks()[0])},A.prototype.takeStreamSnapshot=function(t){var n;return((n=this.viewer)===null||n===void 0?void 0:n.takeStreamSnapshot(t))||""},A.prototype.resumeVideo=function(){var t;return(t=this.viewer)===null||t===void 0?void 0:t.resume(!0,["video"])},A.prototype.resumeAudio=function(){var t;return(t=this.viewer)===null||t===void 0?void 0:t.resume(!0,["audio"])},A.prototype.stopVideo=function(){var t;(t=this.viewer)===null||t===void 0||t.stopVideo(),this.isPlayingVideo=!1},A.prototype.stopAudio=function(){this.viewer&&(this.viewer.stopAudio(),this.audioMuted=!0)},A.prototype.stopPlayCaptureVideo=function(){this.vCaptureViewers.forEach(function(t){t.stopVideo(),t.destroy()}),this.vCaptureViewers=[],this.isPlayingCaptureVideo=!1},A.prototype.stopPlayCaptureAudio=function(){this.aCaptureViewer&&(this.aCaptureViewer.destroy(),this.aCaptureViewer=null,this.audioCaptureMuted=!0)},A.prototype.setVolume=function(t){return!!this.viewer&&this.viewer.setVolume(t)},A.prototype._destroyCacheStream=function(t){var n=this;return t.filter(function(o){return!!o.active||(n.publishModule.destroyStream(o),!1)})},A.prototype._checkAndRecycleStream=function(){this._ACacheStreams=this._destroyCacheStream(this._ACacheStreams),this._VCacheStreams=this._destroyCacheStream(this._VCacheStreams)},A.prototype.destroy=function(){var t,n=this;this.originAudioStream&&(this.originAudioStream=null),this.originVideoStream&&(this.originVideoStream=null),this.stream&&(this.publishModule.destroyStream(this.stream),this.stream=null),this._ACacheStreams.forEach(function(o){return n.publishModule.destroyStream(o)}),this._VCacheStreams.forEach(function(o){return n.publishModule.destroyStream(o)}),this._ACacheStreams=[],this._VCacheStreams=[],this.stopPlayCaptureVideo(),this.stopPlayCaptureAudio(),this.stopVideo(),this.stopAudio(),(t=this.viewer)===null||t===void 0||t.destroy(),this.viewer=null},A}(),xi=function(){return xi=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},xi.apply(this,arguments)},Iu=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},mu=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},So=tn,Eu=Bn,ag=function(){function A(t,n,o,s,d,g){this.logger=t,this.dataReport=n,this.stateCenter=o,this.streamCenter=s,this.rtm=d,this.zegoWebRtc=g,this.recordDevices()}return A.prototype.createStream=function(t){var n,o,s=this;this.logger.info(Mt+" call"),t&&t.camera&&t.camera.audioBitRate&&(t.camera.audioBitrate=t.camera.audioBitRate),t&&t.camera&&t.camera.bitrate&&(t.camera.bitRate=t.camera.bitrate),t&&t.screen&&typeof t.screen=="object"&&t.screen.bitrate&&(t.screen.bitRate=t.screen.bitrate),t&&t.custom&&t.custom.bitrate&&(t.custom.bitRate=t.custom.bitrate);var d={width:640,height:360},g={width:720,height:480},E={width:960,height:540};if(!(t!=null&&t.custom)&&!(t!=null&&t.screen)||t.camera||!t){var b=(o=(n=navigator.userAgent)===null||n===void 0?void 0:n.toLowerCase())===null||o===void 0?void 0:o.match(/cpu iphone os (.*?) like mac os/);if(!b||!b[1]||!b[1].includes("11_4")){var S=xi({video:!0,videoQuality:4,frameRate:15,bitRate:500},d);switch(this.stateCenter.scenario){case Br.StandardVideoCall:break;case Br.HighVideoCall:S.frameRate=25,S.bitRate=1500,S=xi(xi({},S),E);break;case Br.StandardChatroom:S.video=!1,S.audioBitrate=24;break;case Br.HighQualityChatroom:S.video=!1;break;case Br.Broadcast:S.frameRate=20,S.bitRate=1200,(S=xi(xi({},S),E)).audioBitrate=64,S.channelCount=2;break;default:S.bitRate=800,S=xi(xi({},S),g)}(t=t||{}).camera=Object.assign(S,t.camera||{})}}return new Promise(function(l,J){var he,_e,Ce="camera",Oe=s.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},Gt),$e=function(ut){var Ct=s.streamCenter.checkPreview(ut),wt=s.getStreamByCanvas(ut);if(s.stateCenter.engineConfig.keepAudioTrack&&wt.getAudioTracks().length==0){var Pt=Ct==null?void 0:Ct.getEmptyAudioTrack();Pt&&(Pt.enabled=!1,wt.addTrack(Pt),Ct&&(Ct.hasEmptyAudioTrack=!0))}s.initCopyMusic(ut),Oe.setAttributes({media_stream_id:ui(ut==null?void 0:ut.id)}),Oe.end(),!s.stateCenter.deviceInfos&&s.recordDevices(),l(wt),s.streamCenter.activeSoundLevel()},ze=function(ut,Ct){Ct===void 0&&(Ct=""),s.stateCenter.reporter.setError(Oe,ut,Ct),J({code:ut.code,msg:ut.message+Ct})};if(window.location.protocol!=="https:"&&window.location.protocol!=="file:"&&window.location.hostname.indexOf("127.0.0.1")==-1&&window.location.hostname.indexOf("localhost")==-1)return s.logger.error(Mt+" https or localhost required "),void ze({code:Tt.kBrowserNotSupportError.code,message:Tt.kBrowserNotSupportError.message+" https or localhost required"});if(t&&t.screen){if(Ce="screen",!function(ut,Ct){return typeof ut=="object"&&ut.videoQuality!==void 0&&!Ao(ut.videoQuality)?(Ct(Tt.kParamError," videoQuality must be integer number"),!1):typeof ut=="object"&&ut.sourceID!==void 0&&typeof ut.sourceID!="string"?(Ct(Tt.kParamError," sourceID must be string"),!1):!(typeof ut=="object"&&ut.videoQuality===4&&(!Rs(ut.bitRate,Ct)||!$A(ut,Ct)))}(t.screen,ze))return;var Xe=s.stateCenter.browser,et=s.streamCenter.getScreenConstrains(t.screen);Oe.setAttributes({stream_type:Ir("screen"),screen:bt(et)});var gt=function(ut){s.streamCenter.createScreenPreviewer(ut,et)&&$e(ut),s.addShareScreenEnd(ut)};Xe=="firefox"||typeof t.screen=="object"&&t.screen.type=="firefox"?s.startScreenShotFirFox("screen",et,function(ut,Ct,wt){ut?Ct&&gt(Ct):wt&&ze(wt)}):Xe=="chrome"&&Ks.screenShotReady||typeof t.screen=="object"&&t.screen.type=="shot"?s.startScreenShotChrome(function(ut,Ct,wt){ut?(s.logger.info(Mt+" using extension"),Ct&&gt(Ct)):(wt&&s.logger.error(Mt+" extension "+wt),wt==="SS_DIALOG_CANCEL"||typeof(t==null?void 0:t.screen)=="object"&&t.screen.type=="shot"?wt&&ze(Tt.kScreenCancelError):s.startScreenSharing(et,function(Pt,sr,or){Pt?sr&&gt(sr):(s.logger.error(Mt+" "+or),or&&ze(or))}))}):Xe=="Electron"||typeof t.screen=="object"&&t.screen.type=="Electron"?s.startScreenShotElectron(et,function(ut,Ct,wt){ut?Ct&&gt(Ct):wt&&ze(wt)}):s.startScreenSharing(et,function(ut,Ct,wt){ut?Ct&&gt(Ct):wt&&ze(wt)})}else{if(t&&typeof t.camera=="object"&&t.camera.videoQuality!==void 0&&!Ao(t.camera.videoQuality))return s.logger.error(Mt+" videoQuality must be integer number"),void ze(Tt.kParamError," videoQuality must be integer number");if(t&&t.camera&&t.camera.audioBitrate){if(!Ao(t.camera.audioBitrate))return s.logger.error(Mt+" audioBitrate must be integer number"),void ze(Tt.kParamError," audioBitrate must be integer number");if(t.camera.audioBitrate<6)return s.logger.error(Mt+" audioBitrate cannot less 6 kbps"),void ze(Tt.kParamError," audioBitrate cannot less 6 kbps");if(t.camera.audioBitrate>510)return s.logger.error(Mt+" audioBitrate cannot greater than 510 kbps"),void ze(Tt.kParamError," audioBitrate cannot greater than 510 kbps");s.stateCenter.audioBitRate=1e3*t.camera.audioBitrate}if(t&&t.camera&&t.camera.bitRate){if(typeof t.camera.bitRate!="number")return s.logger.error(Mt+" bitrate must be integer number"),void ze(Tt.kParamError," bitrate must be integer number");if(t.camera.bitRate>10240)return s.logger.error(Mt+" bitrate cannot greater than 10 Mbps"),void ze(Tt.kParamError," bitrate cannot greater than 10 Mbps")}if(t&&t.camera&&t.camera.channelCount!==void 0&&!Ao(t.camera.channelCount))return s.logger.error(Mt+" channelCount must be integer number"),void ze(Tt.kParamError," channelCount must be integer number");if(t&&t.camera&&t.camera.videoQuality===4&&(!$A(he=t.camera,_e=ze)||!Rs(he.bitRate,_e)))return;if(t&&t.custom&&t.custom.bitRate){if(!Ao(t.custom.bitRate))return s.logger.error(Mt+" bitrate must be integer number"),void ze(Tt.kParamError," bitrate must be integer number");if(t.custom.bitRate>10240)return s.logger.error(Mt+" bitrate cannot greater than 10 Mbps"),void ze(Tt.kParamError," bitrate cannot greater than 10 Mbps")}if(t&&t.custom&&t.custom.audioBitrate){if(!Ao(t.custom.audioBitrate))return s.logger.error("ze.cs.0 audioBitrate must be integer number"),void ze(Tt.kParamError," audioBitrate must be integer number");if(t.custom.audioBitrate<6)return s.logger.error("ze.cs.0 audioBitrate cannot less 6 kbps"),void ze(Tt.kParamError," audioBitrate cannot less 6 kbps");if(t.custom.audioBitrate>510)return s.logger.error("ze.cs.0 audioBitrate cannot greater than 510 kbps"),void ze(Tt.kParamError," audioBitrate cannot greater than 510 kbps")}if(t&&t.custom&&t.custom.channelCount!==void 0&&t.custom.channelCount!==1&&t.custom.channelCount!==2)return s.logger.error("ze.cs.0 channelCount must number 1 or 2"),void ze(Tt.kParamError," channelCount must number 1 or 2");var _t={};if(t&&t.camera)Ce="camera",s.logger.info(Mt+" camera "+JSON.stringify(t.camera)),_t=t.camera,Oe.setAttributes({stream_type:Ir("camera"),camera:Zr(t.camera)}),typeof _t.video!="boolean"&&(_t.video=!0),typeof _t.audio!="boolean"&&(_t.audio=!0);else if(t&&t.custom){Ce="custom",_t=t.custom;var Bt=t.custom.source instanceof MediaStream?"MediaStream":"HTMLElement";Oe.setAttributes({stream_type:Ir("custom"),custom:Wr(xi(xi({},t.custom),{source_type:Bt}))})}s.startPreview(_t,Ce,$e,ze,Oe)}})},A.prototype.getStreamByCanvas=function(t){var n=this.streamCenter.checkPreview(t);if(n&&navigator.userAgent){var o=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(o&&o[1]&&o[1].includes("15_1")){var s=n.getStreamThroughCanvas(t);return n.localStream=s,n.streamFromCanvas=!0,n.streamFromCanvasTrack=s.getVideoTracks()[0],s}}return t},A.prototype.createZegoStream=function(t){var n=this;return t===void 0&&(t={}),new Promise(function(o,s){return Iu(n,void 0,void 0,function(){var d,g,E;return mu(this,function(b){switch(b.label){case 0:if(this.logger.info("ze.czs.0 call"),!this.zegoWebRtc.rtcModules.advancedModule)return[3,5];if(t&&!(t instanceof Object))return[2,s(_r)];if(d=new qd(t,this.logger,this.streamCenter,this.stateCenter,this,this.zegoWebRtc.rtcModules.advancedModule),g=new Hd(d),!t.autoCapture&&t.autoCapture!=null)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,g.zegoStream.autoCapture()];case 2:return b.sent(),[3,4];case 3:return E=b.sent(),[2,s(E)];case 4:return this.logger.info("ze.czs.0 success"),o(g),[3,6];case 5:throw this.logger.info("ze.czs.0 fail"),new Error("should use advanced module first");case 6:return[2]}})})})},A.prototype.destroyStream=function(t){this.logger.info(Xt+" call");var n=this.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},In);if(n.setAttributes({stop_reason:Ri("destroyStream")}),!(t instanceof MediaStream||typeof t=="object"&&t.getTracks))return this.logger.error(Xt+" localStream is not mediaStream or tracks is null"),void this.stateCenter.reporter.setError(n,Zi.kLocalStreamError);t instanceof MediaStream?(t instanceof MediaStream&&t.getTracks().length==0&&this.logger.info(Xt+" tracks is null"),this.stopPreview(t)):t.zegoStream&&t.zegoStream.destroy(),n.end()},A.prototype.startPublishingStream=function(t,n,o,s){var d,g=this,E=Jn(n,this.logger);this.logger.info(er+" call "+t+" publishOption: "+JSON.stringify(o)+" isDataChannel: "+JSON.stringify(!!s)+" ms_id: "+(E==null?void 0:E.id));var b,S=!0,l="",J=So.error,he=J.kPublishParamError,_e=this.stateCenter.reporter.createSpan(Zt.I,{key:pt},{key:So.event,par:t},So.event,!0);S&&t===void 0&&(this.logger.error(er+(l="stream id required")),S=!1,b=he),!S||t&&typeof t=="string"||(this.logger.error(er+" "+(l="stream id type wrong")),S=!1,b=he),S&&t.length>256&&(this.logger.error(er+" "+(l="stream id length limit")),S=!1,b=he),S&&!Za(t)&&(this.logger.error(er+" "+(l="stream ID contains illegal characters")),S=!1,b=he),_e.setAttributes({stream_id:So.stream_id(t)}),S&&(!E||E instanceof MediaStream&&E.getTracks().length==0)?(this.logger.error(er+" "+(l="localStream wrong")),S=!1,b=he):E&&E.getTracks().forEach(function(Ct){gi(Ct,g.logger,er)});var Ce=this.streamCenter.checkPreview(E);S&&!Ce&&(this.logger.error(er+" "+(l="stream is not from zego")),S=!1,b=J.kPublishNoPreviewError);var Oe=Ce==null?void 0:Ce.zegoCaptureStream;if(Oe&&(Oe.originAudioStream||Oe.originVideoStream||(this.logger.error(er+" "+(l="stream is not capturing")),S=!1,b=J.kPublishNoCaptureError)),Ce!=null&&Ce.isVideoEffectStarting&&(this.logger.error(er+" "+(l=(b=J.kPublishEffectIsStarting).message)),S=!1),S&&o!==void 0&&typeof o!="object"&&(S=!1,b=he,l="publishOption must be object"),S&&o!==void 0&&o.streamParams!==void 0&&typeof o.streamParams!="string"&&(this.logger.error(er+" publishOption streamParams must be string"),S=!1,b=he,l=" publishOption streamParams must be string"),S&&o!==void 0&&o.extraInfo!==void 0&&typeof o.extraInfo!="string"&&(this.logger.error(er+" publishOption extraInfo must be string"),S=!1,b=he,l=" publishOption extraInfo must be string"),S&&o!==void 0&&o.videoCodec!==void 0&&typeof o.videoCodec!="string"&&(this.logger.error(er+" publishOption videoCodec must be string"),S=!1,b=he,l=" publishOption videoCodec must be string"),!S||!this.stateCenter.isMultiRoom||o&&typeof o.roomID=="string"&&o.roomID!=""||(S=!1,b=he,l=" roomID is need if set multi room"),o&&o.videoCodec&&(o.videoCodec=o.videoCodec.toUpperCase()),S&&(this.stateCenter.waitPublishStreamList[t]={retryStart:!1,localStream:E,publishOption:o,isDataChannel:s}),this.stateCenter.useNetAgent&&this.stateCenter.roomList.length>0)this.logger.info(er+" publish quick");else if(S&&this.rtm.isDisConnect()){if(this.stateCenter.connectChanged)return this.stateCenter.waitPublishStreamList[t].retryStart=!0,this.logger.info(er+" connect changed"),!1;this.logger.error(er+" not login"),S=!1,b=J.kPublishNoLoginError}if(!S)throw this.logger.error(er+" "+l),this.stateCenter.reporter.setError(_e,b),{errorCode:b==null?void 0:b.code,extendedData:l};o||(o={});var $e=as(this.stateCenter.appid,this.stateCenter.idName,t),ze=((d={})["_publish_"+t]={stream_sid:$e},d);this.stateCenter.reporter.setPublicPros(ze),_e.setAttributes({stream_sid:So.stream_sid($e),publish_option:So.publish_option(o),enable_camera:So.enable_camera(!!(Ce!=null&&Ce.videoTrack)),enable_mic:So.enable_mic(!!(Ce!=null&&Ce.audioTrack)),use_na:So.use_na(this.stateCenter.useNetAgent?1:0)}),o.audioBitRate=this.stateCenter.audioBitRate;var Xe=o.roomID?o.roomID:this.stateCenter.roomList[0]?this.stateCenter.roomList[0].roomID:"",et=this.stateCenter.getRoomByRoomID(Xe);if(!et)return this.logger.error("zc.p.sps.1 room no found"),!1;_e.setAttributes({room_id:So.room_id(Xe)});var gt=this.streamCenter.getSignalNodes();if(gt)return this.stateCenter.publishStreamList[t]={state:ot.tryPublish,extra_info:o.extraInfo,roomID:et.roomID},this.streamCenter.setPublishStateStart(et,t,E,o,$e,s)?(et.streamHandler.onPublishStateUpdate(rr,t,{code:0,message:""}),this.streamCenter.publisherList[t].serverUrls=gt,this.streamCenter.startPublishingStream(t)):(this.logger.info("zc.p.sps.1 cannot start publish"),!1);if(!this.streamCenter.setPublishStateStart(et,t,E,o,$e,s))return this.logger.error("zc.p.sps.1 cannot start publish"),!1;this.stateCenter.publishStreamList[t]={state:ot.tryPublish,extra_info:o.extraInfo,roomID:et.roomID},this.logger.info("zc.p.sps.1 start publish"),et.streamHandler.onPublishStateUpdate(rr,t,{code:0,message:""});var _t=this.stateCenter.useNetAgent,Bt=this.streamCenter.publisherList[t];if(this.stateCenter.reporter.createSpan(Zt.H,{key:tn.event,par:t},{key:Eu.event,par:t},Eu.event,!0).setAttributes({reason:Eu.reason("StartPublish")}),_t)return this.stateCenter.appConfig?Ce!=null&&Ce.containBackgroundProcess&&this.stateCenter.supportBg===!1?(this.logger.info("zc.p.sps.1 check not support background porcess"),et.streamHandler.onPublishStateUpdate(pr,t,J.kPublishNotSubscribeBackgroundProcessError),!1):(this.streamCenter.publisherList[t].serverUrls=["unified_rtc"],this.streamCenter.startPublishingStream(t,_t),!0):(this.streamCenter.waitPublishList.push(t),!0);var ut=Bt.retryDispatchHandler;return ut.stopMaxTime(),ut.invalid(),ut.initStream(t,o,!0),ut.startMaxTime(),ut.active(0)},A.prototype.updatePublishingStream=function(t,n){var o=this;return new Promise(function(s){var d=function(b,S){var l=typeof b=="number"?{errorCode:b,extendedData:JSON.stringify({fail_reason:S})}:b;o.logger.error(iu+" "+l.extendedData),s(l)};o.logger.info(iu+" call by user");var g=o.streamCenter.checkPreview(t);if(g)if(g.zegoCaptureStream){var E=g.zegoCaptureStream;n!=zi.audio&&n!=zi.videoAndAudio||E.getAudioTracks().length?n!=zi.video&&n!=zi.videoAndAudio||E.getVideoTracks().length?n==zi.audio?E.updateStreamAudioTrack(s,d,1):n==zi.video?E.updateStreamVideoTrack(s,d,1):E.updateStreamVideoAndAudio(s,d,1):d(Me,me):d(Lt,cr)}else d(_r.code,_r.message+", stream type wrong");else d(Ze,Nt)})},A.prototype.activateSEIInsert=function(t,n,o){return!1},A.prototype.sendSEI=function(t,n){if(!nA())return this.logger.warn(Cr+" browser not support "),!1;if(!(n instanceof Uint8Array))return this.logger.error(Cr+" inData required Uint8Array"),!1;if(n.byteLength>4096)return this.logger.error(Cr+" inData length limit"),!1;var o=this.streamCenter.publisherList[t];return o&&o.publisher?o.publisher.sendSEI(n):(this.logger.warn(Cr+" publish not exist"),!1)},A.prototype.stopPublishingStream=function(t,n,o){var s,d,g;this.logger.info(dr+" call ",t+(n?n.toString():"")+" "+o);var E=this.stateCenter.reporter.createSpan(Zt.I,{key:pt},{key:""},Qi);if(typeof t!="string"||t=="")return this.logger.error(dr+" streamID must be string and not empty"),this.stateCenter.reporter.setError(E,Lo.kParamError,"stream id type error"),!1;var b=this.streamCenter.publisherList[t];E.setAttributes({stream_id:oo(t),stream_sid:Zo(b==null?void 0:b.streamSid),room_id:bn((d=(s=this.streamCenter.publisherList[t])===null||s===void 0?void 0:s.room)===null||d===void 0?void 0:d.roomID),error:(n==null?void 0:n.code)||0,message:(n==null?void 0:n.message)||""});var S=this.streamCenter.getRoomByStreamID(t),l=b&&b.publisher&&b.publisher.state!==O||((g=b==null?void 0:b.retryStreamHandler)===null||g===void 0?void 0:g.isRetrying());if(this.streamCenter.stopPublishingStream(t,n),o&&delete this.stateCenter.waitPublishStreamList[t],this.stateCenter.publishStreamList[t]){if(this.stateCenter.publishStreamList[t].state>=ot.update_info&&S){(!n||n.code!==1102018)&&S.streamHandler.updateStreamInfo(t,yt);for(var J=0;J<S.streamList.length;J++)if(S.streamList[J].stream_id==t){!this.stateCenter.connectChanged&&S.streamList.splice(J--,1);break}}delete this.stateCenter.publishStreamList[t]}return E.end(),S&&l&&S.streamHandler.onPublishStateUpdate(pr,t,n||{code:0,message:""}),!0},A.prototype.setCaptureVolume=function(t,n){var o=this;return new Promise(function(s){o.logger.info(ru+" call");var d=Jn(t,o.logger),g=function(b){o.logger.error(ru+" "+b),s({errorCode:ar.kParamError.code,extendedData:JSON.stringify({fail_reason:ar.kParamError.message+" "+b})})},E=o.streamCenter.checkPreview(d);d instanceof MediaStream&&E?d.getAudioTracks().length!=0?typeof n!="number"||n<0||n>200?g(" volume must be number between 0 to 200"):(E.setVolume(n),s({errorCode:0,extendedData:""}),o.logger.info(ru+" call success")):g(" stream audioTrack no found"):g(" stream must be created by zego")})},A.prototype.getElectronScreenSources=function(){var t=this;return new Promise(function(n,o){var s=window.require("electron");s||(t.logger.error("zc.gess.0 Electron is not exist"),o({message:"Electron is not exist"})),s.desktopCapturer.getSources({types:["window","screen"]}).then(function(d){var g=d.map(function(E){return{id:E.id,name:E.name,thumbnail:E.thumbnail}});n(g)}).catch(function(d){t.logger.error("zc.gess.0 "+d),o(d)})})},A.prototype.startScreenShotChrome=function(t){if(Ks.screenShotReady)window.postMessage({type:"SS_UI_REQUEST",text:"start"},"*"),XA("screenShare",{success:t},this.stateCenter.callbackList);else{var n='zc.b.ss Please install the extension:1. Go to chrome://extensions  2. Check: "Enable Developer mode   3. Click: "Load the unpacked extension... 4. Choose "extension" folder from the repository 5. Reload this page';this.logger.error(n),t(!1,null,{code:Tt.kScreenFailedError.code,message:Tt.kScreenFailedError.message+" "+n})}},A.prototype.startScreenSharing=function(t,n){var o=this;if("getDisplayMedia"in navigator.mediaDevices){var s=navigator.mediaDevices,d=!1;if(t.audio&&(d={noiseSuppression:!1,autoGainControl:!1,echoCancellation:!0},t.ANS!==void 0&&(d.noiseSuppression=t.ANS),t.AGC!==void 0&&(d.autoGainControl=t.AGC),t.AEC!==void 0&&(d.echoCancellation=t.AEC)),this.stateCenter.browser==="safari"&&t.video instanceof Object){var g=t.video,E=g.width,b=g.height;E instanceof Object?t.video.width={max:E.max||E.ideal}:E&&(t.video.width={max:E}),b instanceof Object?t.video.height={max:b.max||b.ideal}:b&&(t.video.height={max:b})}this.logger.info("zc.b.sss video config: "+JSON.stringify(t.video)),this.logger.info("zc.b.sss audio config: "+JSON.stringify(d)),s.getDisplayMedia({audio:d,video:t.video}).then(function(S){n(!0,S)}).catch(function(S){o.logger.error("zc.b.sss "+S),S.message&&S.message.toLowerCase()=="permission denied"?n(!1,null,Tt.kScreenCancelError):n(!1,null,{code:Tt.kScreenFailedError.code,message:Tt.kScreenFailedError.message+" "+S})})}else this.logger.error("zc.b.sss brower does not support getDisplayMedia"),n(!1,null,Tt.kBrowserNotSupportError)},A.prototype.startScreenShotFirFox=function(t,n,o){var s=this,d={video:xi(xi({},n.video),{mediaSource:t}),audio:n.audio};navigator.mediaDevices.getUserMedia(d).then(function(g){g.getTracks().forEach(function(E){return gi(E,s.logger,"ze.ssf.1")}),o(!0,g)}).catch(function(g){s.logger.error("ze.ssf.1 "+g),o(!1,null,{code:Tt.kScreenFailedError.code,message:Tt.kScreenFailedError.message+" "+g})})},A.prototype.startScreenShotElectron=function(t,n){var o=this;if(!window.require("electron"))return this.logger.error("ze.sse.1 Electron is not exist"),void n(!1,null,{code:Tt.kScreenFailedError.code,message:Tt.kScreenFailedError.message+" Electron is not exist"});var s={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t.sourceID,maxWidth:window.screen.width,maxHeight:window.screen.height}},audio:!1};navigator.mediaDevices.getUserMedia(s).then(function(d){d.getTracks().forEach(function(g){return gi(g,o.logger,"ze.sse.1")}),n(!0,d)}).catch(function(d){o.logger.error("ze.sse.1 "+d),n(!1,null,{code:Tt.kScreenFailedError.code,message:Tt.kScreenFailedError.message+" "+d})})},A.prototype.startPreview=function(t,n,o,s,d){var g=this,E=null;return E=new Gs(this.logger,this.stateCenter,this.streamCenter,n),this.streamCenter.previewStreamList.push(E),E.startPreview(t,function(b){g.streamCenter.soundLevelDelegate&&(E==null||E.startSoundLevel()),n==="camera"&&((t==null?void 0:t.audio)===!1&&E&&(E.hasMicTrack=!1),E!=null&&E.micTrack&&(E.micTrack.enabled=g.streamCenter.isMicEnabled)),t!=null&&t.videoOptimizationMode&&g.streamCenter.setVideoTrackContentHint(b,t==null?void 0:t.videoOptimizationMode),g.logger.debug("zsc.sp.0 call success"),!g.stateCenter.deviceInfos&&g.recordDevices(),o&&o(b)},function(b){g.streamCenter.previewStreamList=g.streamCenter.previewStreamList.filter(function(S){return S!==E}),s&&s(b)},d),!0},A.prototype.stopPreview=function(t){if(!t)return this.logger.warn("zsc.sp.0 localStream null"),!1;for(var n in this.streamCenter.publisherList)this.streamCenter.publisherList[n].localStream===t&&(this.streamCenter.publisherList[n].localStream=null);var o=this.streamCenter.checkPreview(t);return o?(o.previewSuc&&(o.stopPreview(),this.streamCenter.removePreview(o)),!0):(this.logger.warn("zsc.sp.0 no preview"),!1)},A.prototype.recordDevices=function(t,n){var o,s=this;this.logger.info("zsc.rd.0 call"),Ho(function(d){s.stateCenter.deviceInfos={microphones:d.microphones,speakers:d.speakers,cameras:d.cameras},t&&t(d)},function(d){s.logger.warn("zsc.rd.0 getDevices err:",d),n&&n(d)}),((o=navigator.mediaDevices)===null||o===void 0?void 0:o.ondevicechange)!==void 0&&(navigator.mediaDevices.ondevicechange=null,navigator.mediaDevices.ondevicechange=function(d){s.logger.info("zsc.rd.0 devicechange"),s.stateCenter.deviceChangeTimer&&(clearTimeout(s.stateCenter.deviceChangeTimer),s.stateCenter.deviceChangeTimer=null),s.stateCenter.deviceChangeTimer=setTimeout(function(){Ho(function(g){var E,b,S,l,J,he,_e=[],Ce=[];if(s.stateCenter.browser=="safari"&&((b=(E=s.stateCenter.deviceInfos)===null||E===void 0?void 0:E.cameras)===null||b===void 0?void 0:b.length)===1&&((S=s.stateCenter.deviceInfos)===null||S===void 0?void 0:S.cameras[0].deviceID)==="")s.logger.info("zsc.rd.0 cameras not accurate");else{for(var Oe=function(ut){var Ct=s.stateCenter.deviceInfos.cameras[ut];g.cameras.find(function(wt){return wt.deviceID===Ct.deviceID})||_e.push(Ct)},$e=0;$e<s.stateCenter.deviceInfos.cameras.length;$e++)Oe($e);s.stateCenter.deviceStateOut=!1;var ze=!1;_e.length>0&&(ze=!0),_e.forEach(function(ut){for(var Ct in s.streamCenter.publisherList){var wt=s.streamCenter.publisherList[Ct],Pt=wt.publisher;wt.localStream&&wt.cameraLabel!==""&&wt.cameraLabel===ut.deviceName&&(ze=!1,Pt.sendStreamStatus(-6,Pt.mic_status),s.stateCenter.actionListener("_deviceError",be,ut.deviceName,"camera"),s.stateCenter.actionListener("deviceError",be,ut.deviceName)),wt.localStream&&wt.localStream.getAudioTracks().length===0&&(ze=!1)}ze&&(s.stateCenter.deviceStateOut=!0),s.deviceInterruptReport(0,ut,"camera"),s.stateCenter.actionListener("videoDeviceStateChanged","DELETE",ut)}),g.cameras.filter(function(ut){return!s.stateCenter.deviceInfos.cameras.find(function(Ct){return Ct.deviceID===ut.deviceID})}).forEach(function(ut){s.deviceInterruptReport(1,ut,"camera"),s.stateCenter.actionListener("videoDeviceStateChanged","ADD",ut)})}s.stateCenter.browser=="safari"&&((J=(l=s.stateCenter.deviceInfos)===null||l===void 0?void 0:l.microphones)===null||J===void 0?void 0:J.length)===1&&((he=s.stateCenter.deviceInfos)===null||he===void 0?void 0:he.microphones[0].deviceID)===""?s.logger.info("zsc.rd.0 microphones not accurate"):((Ce=s.stateCenter.deviceInfos.microphones.filter(function(ut){return!g.microphones.find(function(Ct){return Ct.deviceID===ut.deviceID})})).forEach(function(ut){for(var Ct in s.streamCenter.publisherList){var wt=s.streamCenter.publisherList[Ct],Pt=wt.publisher;wt.localStream&&wt.microLabel!==""&&(wt.microLabel===ut.deviceName||wt.microLabel!==""&&wt.microLabel.includes(ut.deviceName))&&(Pt.sendStreamStatus(Pt.camera_status,-6),s.stateCenter.actionListener("_deviceError",be,s.streamCenter.publisherList[Ct].microLabel,"micro"),s.stateCenter.actionListener("deviceError",be,s.streamCenter.publisherList[Ct].microLabel))}s.deviceInterruptReport(0,ut,"micro"),s.stateCenter.actionListener("audioDeviceStateChanged","DELETE","Input",ut)}),g.microphones.filter(function(ut){return!s.stateCenter.deviceInfos.microphones.find(function(Ct){return Ct.deviceID===ut.deviceID})}).forEach(function(ut){s.deviceInterruptReport(1,ut,"micro"),s.stateCenter.actionListener("audioDeviceStateChanged","ADD","Input",ut)}));var Xe=s.stateCenter.deviceInfos.speakers.filter(function(ut){return!g.speakers.find(function(Ct){return Ct.deviceID===ut.deviceID})}),et=g.speakers.filter(function(ut){return!s.stateCenter.deviceInfos.speakers.find(function(Ct){return Ct.deviceID===ut.deviceID})});Xe.forEach(function(ut){var Ct=s.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},ii);Ct.setAttributes({reason_type:xo("delete"),device:ci(ut.deviceID),device_name:ci(ut.deviceName)}),Ct.end(),s.stateCenter.actionListener("audioDeviceStateChanged","DELETE","Output",ut)}),et.forEach(function(ut){var Ct=s.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},ii);Ct.setAttributes({reason_type:xo("add"),device:ci(ut.deviceID),device_name:ci(ut.deviceName)}),Ct.end(),s.stateCenter.actionListener("audioDeviceStateChanged","ADD","Output",ut)});var gt=xi({},s.stateCenter.deviceInfos);if(s.stateCenter.deviceInfos={microphones:g.microphones,speakers:g.speakers,cameras:g.cameras},s.stateCenter.autoSwitchDeviceSetting.microphone){var _t=s.stateCenter.deviceInfos.microphones;Ce&&Ce.length!==0&&_t.length!=0&&s.streamCenter.previewStreamList.forEach(function(ut){return Iu(s,void 0,void 0,function(){var Ct,wt,Pt,sr,or,yr,Fr;return mu(this,function(br){switch(br.label){case 0:return Ct=ut.localStream,wt=_t[0].deviceID,sr=(Pt=ut.audioTrack)==null?void 0:Pt.getSettings().deviceId,or=!1,sr&&sr==="default"?(yr=gt.microphones.find(function(Lr){return Lr.deviceID==="default"}).deviceName,Fr=_t.find(function(Lr){return Lr.deviceID==="default"}).deviceName,or=Fr!==yr):sr!==""&&(or=Ce.some(function(Lr){return Lr.deviceID===sr})),Ct&&or&&wt!==""?(this.logger.info("zsc.rd.0 auto switch audio device. "+wt),[4,this.zegoWebRtc.useAudioDevice(Ct,wt)]):[3,2];case 1:br.sent(),br.label=2;case 2:return[2]}})})})}if(s.stateCenter.autoSwitchDeviceSetting.camera){var Bt=s.stateCenter.deviceInfos.cameras;_e&&_e.length!==0&&Bt.length!=0&&s.streamCenter.previewStreamList.forEach(function(ut){return Iu(s,void 0,void 0,function(){var Ct,wt,Pt,sr,or,yr,Fr;return mu(this,function(br){switch(br.label){case 0:return Ct=ut.localStream,wt=Bt[0].deviceID,sr=(Pt=ut.videoTrack)==null?void 0:Pt.getSettings().deviceId,or=!1,sr&&sr==="default"?(yr=gt.cameras.find(function(Lr){return Lr.deviceID==="default"}).deviceName,Fr=Bt.find(function(Lr){return Lr.deviceID==="default"}).deviceName,or=Fr!==yr):sr!==""&&(or=_e.some(function(Lr){return Lr.deviceID===sr})),Ct&&or&&wt!==""?(this.logger.info("zsc.rd.0 auto switch video device. "+wt),[4,this.zegoWebRtc.useVideoDevice(Ct,wt)]):[3,2];case 1:br.sent(),br.label=2;case 2:return[2]}})})})}},function(g){s.logger.warn("zsc.rd.0 getDevices err:",g)})},500)})},A.prototype.getStreamStats=function(t){var n,o,s;return this.logger.info("zc.p.0.gqs call"),t instanceof MediaStream&&t.getTracks().length>0?s=(n=this.streamCenter.checkPublish(t))===null||n===void 0?void 0:n.publisher:typeof t=="string"&&(s=(o=this.streamCenter.publisherList[t])===null||o===void 0?void 0:o.publisher),s?(s==null?void 0:s.qualityHandler.currentQuality)||null:(this.logger.error("zsc.sp.0 stream is not publishing"),null)},A.prototype.startWaitPublish=function(){var t=this;this.streamCenter.waitPublishList.forEach(function(n){t.stateCenter.useNetAgent&&(t.streamCenter.publisherList[n].serverUrls=["unified_rtc"]),t.streamCenter.startPublishingStream(n,t.stateCenter.useNetAgent)}),this.streamCenter.waitPublishList=[]},A.prototype.deviceInterruptReport=function(t,n,o){var s=o==="camera"?Oi:ta,d=this.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},s.event);d.setAttributes({changed_type:s.interrupt(t),device:s.device(n.deviceID),device_name:s.device_name(n.deviceName)}),d.end()},A.prototype.initCopyMusic=function(t){if(this.streamCenter.useCopyMusic&&!isNaN(this.stateCenter.engineConfig.choirRole)){var n=this.streamCenter.checkPreview(t),o=this.stateCenter.roomList[0];if(o){var s=Array.from(new Set(o.streamList.map(function(g){return g.id_name}))),d=s.length+(s.includes(this.streamCenter.userid)?0:1);n&&!n.onlyPreview&&n.setVolumeFactorByUserCount(d)}}},A.prototype.addShareScreenEnd=function(t){var n=this,o=t.getVideoTracks()[0];o&&(o.onended=function(){var s=n.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},In);s.setAttributes({stop_reason:Ri("screenSharingEnded")}),t&&n.stopPreview(t),s.end(),n.stateCenter.actionListener("screenSharingEnded",t)})},A}(),Qa=function(){return Qa=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},Qa.apply(this,arguments)},Ko=fn,Ag=function(){function A(t,n,o,s,d){this.logger=t,this.dataReport=n,this.stateCenter=o,this.streamCenter=s,this.rtm=d}return A.prototype.startPlayingStream=function(t,n,o){var s=this;return this.logger.info(jt+" call ",t," playOption: ",JSON.stringify(function(d,g){var E={};if(d)for(var b=0,S=Object.keys(d);b<S.length;b++){var l=S[b];g.includes(l)||(E[l]=d[l])}return E}(n||{},["CDNVideo","CDNPlayer"]))," isDataChannel: ",JSON.stringify(!!o)),new Promise(function(d,g){return s._handlePlayStream(t,n,d,g,o)})},A.prototype._handlePlayStream=function(t,n,o,s,d){var g,E=this,b=Ko,S=this.stateCenter.reporter.createSpan(Zt.I,{key:pt},{key:Ko.event,par:t},Ko.event,!0),l=function(Bt,ut){E.logger.error(jt+" "+(ut||Bt.message)),E.stateCenter.reporter.setError(S,Bt),s&&s(Qa(Qa({},Bt),{errorCode:Bt.code,extendedData:Bt.message+(ut?" "+ut:"")}))};if(t===void 0||typeof t!="string"||t==="")return l(b.error.kPlayParamError,"stream id type error"),!1;if(t.length>256)return l(b.error.kPlayStreamIDToLongError,"stream id length limit 256"),!1;if(!Za(t))return l(b.error.kPlayStreamIDInvalidCharacterError),!1;if(n!==void 0&&typeof n!="object")return l(b.error.kPlayParamError,"playOption must be object"),!1;var J=as(this.stateCenter.appid,this.stateCenter.idName,t),he=((g={})["_play_"+t]={stream_sid:J},g);this.stateCenter.reporter.setPublicPros(he);var _e,Ce=Qa(Qa({},n),{CDNVideo:void 0,CDNPlayer:void 0});if(S.setAttributes({stream_id:Ko.stream_id(t),stream_sid:Ko.stream_sid(J),play_option:Ko.play_option(Ce),video_codec_id:Ko.video_codec_id(n==null?void 0:n.videoCodec),use_na:Ko.use_na(this.stateCenter.useNetAgent?1:0),biz_product:(n==null?void 0:n.resourceMode)==Vt.DG?1:0}),this.stateCenter.customUrl&&this.stateCenter.customUrl.length!=0)this.logger.info("zc.p.sps.1 customUrl "+JSON.stringify(this.stateCenter.customUrl)),_e=this.stateCenter.customUrl;else{var Oe=this.stateCenter.settingConfig.getSetting("signal_nodes",!0);Oe&&Oe instanceof Array&&Oe.length>0&&(_e=Oe,this.logger.info("zc.p.sps.1 setting config signal_nodes "+JSON.stringify(Oe)))}if(_e){var $e=this.streamCenter.setPlayStateStart(t,n,J,d);return $e!==!0?(l(JSON.parse(JSON.stringify($e)),"cannot start play"),!1):(this.streamCenter.onPlayStateUpdate($t,t,{code:0,message:""}),this.streamCenter.playerList[t].serverUrls=_e,this.streamCenter.startPlayingStream(t,!1,function(Bt){o&&o(Bt)}))}if(this.stateCenter.useNetAgent&&this.stateCenter.playAccelerate&&this.stateCenter.roomList.length>0)this.logger.info(jt+" play accelerate");else if(this.rtm.isDisConnect())return l(b.error.kPlayNoLoginError),!1;this.stateCenter.pullLimited||(t=NaN+t),n&&n.videoCodec&&(n.videoCodec=n.videoCodec.toUpperCase());var ze=this.stateCenter.settingConfig.getSetting("resource_mode",!0);ze!==void 0&&(this.logger.info(jt," setting resource_mode "+ze),!n&&(n={}),n.resourceMode=ze);var Xe=this.streamCenter.setPlayStateStart(t,n,J,d);if(Xe!==!0)return l(JSON.parse(JSON.stringify(Xe)),"cannot start play"),!1;if(this.streamCenter.onPlayStateUpdate($t,t,{code:0,message:""}),this.streamCenter.playSuccessCallBackList[t]=function(Bt){o&&o(Bt)},s&&(this.streamCenter.playErrorCallBackList[t]=s),n&&n.resourceMode&&[1,3].includes(n.resourceMode)&&this.streamCenter.playerList[t].playMode==Ut.CDN)return this.streamCenter.startPlayingStream(t,this.stateCenter.useNetAgent,this.streamCenter.playSuccessCallBackList[t],!0);var et=An;this.stateCenter.reporter.createSpan(Zt.H,{key:Ko.event,par:t},{key:et.event,par:t},et.event,!0).setAttributes({reason:et.reason("StartPlay")});var gt=this.stateCenter.useNetAgent;if(gt)return this.stateCenter.appConfig?(this.streamCenter.playerList[t].serverUrls=(n==null?void 0:n.resourceMode)===2?["unified_l3"]:["unified_rtc"],this.streamCenter.startPlayingStream(t,gt,this.streamCenter.playSuccessCallBackList[t]),!0):(this.streamCenter.waitPlayList.push(t),!0);var _t=this.streamCenter.playerList[t].retryDispatchHandler;return _t.stopMaxTime(),_t.invalid(),_t.initStream(t,n,!1),_t.startMaxTime(),_t.active(0)},A.prototype.stopPlayingStream=function(t,n){var o,s,d,g;this.logger.info(kr+" call",t);var E=this.stateCenter.reporter.createSpan(Zt.I,{key:pt},{key:""},Kn);if(typeof t!="string"||t==="")return this.logger.error(kr+" streamid must be string and not empty"),this.stateCenter.reporter.setError(E,Xo.kParamError,"stream id type error"),void delete this.stateCenter.reportSeqList.stopPlay[t];var b=this.streamCenter.playerList[t];E.setAttributes({stream_id:dn(t),room_id:_s((o=this.streamCenter.playerList[t])===null||o===void 0?void 0:o.room.roomID),webrtc_sid:Ua((s=b==null?void 0:b.player)===null||s===void 0?void 0:s.sessionId),stream_sid:Oo(b==null?void 0:b.streamSid),biz_product:b&&((d=b.playOption)===null||d===void 0?void 0:d.resourceMode)==Vt.DG?1:0});var S=b&&b.player&&b.player.state!==x||((g=b==null?void 0:b.retryStreamHandler)===null||g===void 0?void 0:g.isRetrying()),l=[1,3].includes(b==null?void 0:b.player.resourceMode)&&(b==null?void 0:b.playMode)===Ut.CDN;for(var J in this.streamCenter.stopPlayingStream(t,n),this.stateCenter.streamUrlMap)if(this.stateCenter.streamUrlMap[J]===t){delete this.stateCenter.streamUrlMap[J];break}n?this.stateCenter.reporter.setError(E,n):E.end(),S&&this.streamCenter.onPlayStateUpdate(Kt,t,n||{code:0,message:""},{isCDN:l}),this.logger.debug(kr+" call success")},A.prototype.mutePlayStream=function(t,n,o){return new Promise(function(s,d){s(!1)})},A.prototype.setStreamAudioOutput=function(t,n){return!1},A.prototype.startWaitPlay=function(){var t=this;this.streamCenter.waitPlayList.forEach(function(n){var o,s=t.streamCenter.playerList[n];s.serverUrls=((o=s.playOption)===null||o===void 0?void 0:o.resourceMode)===2?["unified_l3"]:["unified_rtc"],t.streamCenter.startPlayingStream(n,t.stateCenter.useNetAgent,t.streamCenter.playSuccessCallBackList[n])}),this.streamCenter.waitPlayList=[]},A.prototype.getStreamStats=function(t){var n,o,s;return this.logger.info("zc.p.1.gqs call"),typeof t=="string"&&(s=(n=this.streamCenter.playerList[t])===null||n===void 0?void 0:n.player),s&&(!((o=s==null?void 0:s.qualityHandler)===null||o===void 0)&&o.currentQuality)?s.qualityHandler.currentQuality||null:(this.logger.error("zsc.sp.0 stream is not playing"),null)},A}(),jo,Hs,yn,Jd=function(){function A(t,n,o,s){this.streamCenter=t,this.stateCenter=n,this.logger=o,this.rtm=s}return A.prototype.setStreamExtraInfo=function(t,n){var o=this;return new Promise(function(s,d){var g=o.streamCenter.getRoomByStreamID(t),E=ZA,b=o.stateCenter.reporter.createSpan(Zt.H,g?{key:ee,par:g==null?void 0:g.roomID}:{key:xt},{key:""},E.event);b.setAttributes({stream_id:E.stream_id(t),stream_extra_info:E.stream_extra_info(n)});var S=function(l,J){J===void 0&&(J=""),o.logger.error("zb.ssei "+J),o.stateCenter.reporter.setError(b,l,J),d({errorCode:l.code,extendedData:l.message+" "+J})};typeof t=="string"&&t!=""?typeof n=="string"&&n!=""?o.rtm.isDisConnect()?S(E.error.kNoLoginError,"not login"):o.stateCenter.publishStreamList[t]?g?g.streamHandler.setStreamExtraInfo(t,n,function(l,J){var he,_e,Ce,Oe;if(((he=l==null?void 0:l.body)===null||he===void 0?void 0:he.err_code)===0||(l==null?void 0:l.errorCode)===0)b.setAttributes({send_seq:E.send_seq(J)}),b.end(),s({errorCode:((_e=l==null?void 0:l.body)===null||_e===void 0?void 0:_e.err_code)===0?(Ce=l==null?void 0:l.body)===null||Ce===void 0?void 0:Ce.err_code:l==null?void 0:l.errorCode,extendedData:""});else{var $e={errorCode:((Oe=l==null?void 0:l.body)===null||Oe===void 0?void 0:Oe.err_code)||(l==null?void 0:l.code)};o.stateCenter.reporter.setError(b,$e),d($e)}},S):S(E.error.kNoLoginError,"not login"):S(E.error.kPublishStreamNoFoundError):S(E.error.kParamError,"extraInfo must be string and no empty"):S(E.error.kParamError,"streamID must be string and not empty")})},A}(),yu=function(){return yu=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},yu.apply(this,arguments)},Yd=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},zd=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},qs=An,CA=function(){function A(t,n,o,s,d,g,E){var b=this;this.logger=t,this.dataReport=n,this.stateCenter=o,this.streamCenter=s,this.rtm=d,this.ac=g,this.zegoWebRtc=E,this.beforeunloadListener=function(){for(var S=0;S<b.streamCenter.previewStreamList.length;S++)b.streamCenter.previewStreamList[S].stopPreview();b.streamCenter.previewStreamList=[]},this.pagehideListener=function(){for(var S in window.event&&(window.event.cancelBubble=!0),b.streamCenter.publisherList)b.publishModule.stopPublishingStream(S);for(var S in b.streamCenter.playerList)b.playModule.stopPlayingStream(S)},this.messageListener=function(S){var l=S.data,J=l.type;J==="SS_DIALOG_SUCCESS"&&b.screenStreamFrom(l.streamId,l.canRequestAudioTrack,Xa("screenShare",b.stateCenter.callbackList)),J==="SS_DIALOG_CANCEL"&&Xa("screenShare",b.stateCenter.callbackList)(!1,null,J)},this.offlineListener=function(){if(b.logger.info("zc.off.0 network is broken"),b.stateCenter.networkState=ne.offline,b.stateCenter.useNetAgent)b.logger.info("zc.off.0 use netAgent");else{for(var S in b.streamCenter.publisherList)(J=b.streamCenter.publisherList[S].retryStreamHandler).startMaxTime(),J.invalid();for(var S in b.streamCenter.playerList){var l=b.streamCenter.playerList[S],J=l.retryStreamHandler;l.playMode==Ut.CDN&&l.cdnPlayer&&(l.cdnPlayer.canRetry=!1),J.startMaxTime(),J.invalid()}}},this.onlineListener=function(S){for(var l in b.logger.info("zc.on.0 network is online"),b.stateCenter.networkState=ne.online,b.streamCenter.publisherList){var J=b.streamCenter.publisherList[l].publisher,he=b.streamCenter.publisherList[l].retryStreamHandler;J.state==O||J.stateNego!==Et.iceConnected?!he.isOverTime&&he.publishStateHandle(pr,l,tn.error.kPublishNetworkBrokenError):J.state==L&&he.stopMaxTime()}for(var l in b.streamCenter.playerList){var _e=b.streamCenter.playerList[l].player,Ce=b.streamCenter.playerList[l].playMode,Oe=(he=b.streamCenter.playerList[l].retryStreamHandler,b.streamCenter.playerList[l].cdnPlayer);Ce==Ut.CDN&&Oe&&(Oe.canRetry=!1),_e.state==x||Ce!==Ut.CDN&&_e.stateNego!==j.iceConnected?!he.isOverTime&&he.playStateHandle(Kt,l,fn.error.kPlayNetworkBrokenError):_e.state==K&&he.stopMaxTime()}},this.visibilitychangeListener=function(S){var l="";l=document.visibilityState==="visible"?"foreground":"background";var J=b.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},Hi);J.setAttribute("state",Pi(l)),J.end()},this.safariPagehideListener=function(S){var l=b.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},Hi);l.setAttribute("state",Pi("background")),l.end()},this.safariPageshowListener=function(S){var l=b.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},Hi);l.setAttribute("state",Pi("foreground")),l.end()},this.publishModule=new ag(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.rtm,this.zegoWebRtc),this.playModule=new Ag(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.rtm),this.streamCenter.playModule=this.playModule,this.initAdvance(),this.streamCommon=new Jd(s,o,t,d),this.initStreamCDN(),this.initAudioMix(),this.init()}return A.prototype.init=function(){var t=this;this.bindWindowListener(),this.bindRTMListener(),this.bindStreamCenterHandler(),this.bindEngineDestroyListener(),this.bindListener("_engineConfigUpdate",function(n){isNaN(n.choirRole)||t.updatePreviewerVolumeFactor()})},A.prototype.initAudioMix=function(){},A.prototype.initAdvance=function(){},A.prototype.initStreamCDN=function(){},A.prototype.bindWindowListener=function(){var t=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)?"pagehide":this.stateCenter.browser==="firefox"?"beforeunload":"unload";window.addEventListener("beforeunload",this.beforeunloadListener),window.addEventListener(t,this.pagehideListener),window.addEventListener("message",this.messageListener),window.addEventListener("offline",this.offlineListener),window.addEventListener("online",this.onlineListener),document.addEventListener("visibilitychange",this.visibilitychangeListener),this.stateCenter.browser=="safari"&&(window.addEventListener("pagehide",this.safariPagehideListener),window.addEventListener("pageshow",this.safariPageshowListener))},A.prototype.offWindowListner=function(){var t=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)?"pagehide":this.stateCenter.browser==="firefox"?"beforeunload":"unload";window.removeEventListener("beforeunload",this.beforeunloadListener),window.removeEventListener(t,this.pagehideListener),window.removeEventListener("message",this.messageListener),window.removeEventListener("offline",this.offlineListener),window.removeEventListener("online",this.onlineListener),document.removeEventListener("visibilitychange",this.visibilitychangeListener),this.stateCenter.browser=="safari"&&(window.removeEventListener("pagehide",this.safariPagehideListener),window.removeEventListener("pageshow",this.safariPageshowListener))},A.prototype.bindEngineDestroyListener=function(){var t=this;this.stateCenter.listenerList._engineDestroy.push(function(){t.offWindowListner()})},A.prototype.bindRTMListener=function(){var t,n=this;this.rtm._on("_settingCanFetch",function(o){return Yd(n,void 0,void 0,function(){var s,d,g,E;return zd(this,function(b){return this.logger.info("zc.scf stream config "+JSON.stringify(o)),s=["auto_to_tcp","udp_max_fail_num","probe_started_num","hardware_encode","camera_hard_encode","custom_hard_encode","camera_width","camera_height","camera_framerate","camera_audio_bitrate","camera_video_bitrate","sound_level_api_type","open_mini_sdp","sound_sample_interval","AEC","AGC","ANS","publish_video_codec","screen_video_bitrate","l3_play_buffer_ms","udp_or_tcp","resource_mode","bitrate_mode","bg_fps_stat"],o&&(this.stateCenter.settingConfig.setSetting(o.setting,s),!((g=o.setting)===null||g===void 0)&&g.open_mini_sdp&&(d=o.setting.open_mini_sdp,(E=this.streamCenter)===null||E===void 0||E.initMiniSdpWorker(d.open_mini_sdp))),[2]})})}),this.rtm._on("_appConfigRsp",function(){n.logger.info("zc.acr call "),n.stateCenter.appConfig=n.rtm.getAppConfig(),n.streamCenter.reConnectSignals(),n.publishModule.startWaitPublish(),n.playModule.startWaitPlay()}),this.rtm._on("_netAppConfigRsp",function(o){n.stateCenter.netAppConfig=o,n.stateCenter.supportBg=n.checkBackgroundCapacity()}),this.rtm._on("_roomLogin",function(o,s){n.stateCenter.appid=n.rtm.getAppID(),n.stateCenter.idName=n.rtm.getUserID(),n.stateCenter.nickName=n.rtm.getUserName(),n.stateCenter.testEnvironment=n.rtm.isTestEnvironment(),n.stateCenter.isMultiRoom=n.rtm.getMultiRoom(),n.stateCenter.useNetAgent=n.rtm.isUseNetAgent,n.streamCenter.setSessionInfo(n.stateCenter.appid,n.stateCenter.idName,n.stateCenter.testEnvironment);var d=n.stateCenter.getRoomByRoomID(o);if(!d){var g=new pA(n.logger,n.stateCenter,n.rtm,n.streamCenter,o);n.bindStreamHandler(g),n.stateCenter.roomList.push(d={roomID:o,streamHandler:g,sessionID:"",roomSessionID:"",token:s,isResetRoom:!1,streamList:[],streamInfoList:[]}),n.streamCenter.connectStreamSignal(o,s)}}),this.rtm._on("roomLoginResponse",function(o){n.logger.info("zc.rlr call "+JSON.stringify(o));var s=o.header.room_id||o.body.room_id;n.stateCenter.appConfig=n.rtm.getAppConfig();var d=n.rtm.getToken(s),g=n.rtm.getSessionId(s),E=n.rtm.getRoomSessionID(s),b=n.stateCenter.getRoomByRoomID(s);if(!b){var S=new pA(n.logger,n.stateCenter,n.rtm,n.streamCenter,s);n.bindStreamHandler(S),n.stateCenter.roomList.push(b={roomID:s,streamHandler:S,sessionID:g,roomSessionID:E,token:d,isResetRoom:!1,streamList:[],streamInfoList:[]})}if(b.sessionID=g,b.roomSessionID=E,n.stateCenter.tempRoomList.length>0)for(var l=function(he){var _e=n.stateCenter.tempRoomList[he],Ce=_e.roomID,Oe=_e.streamList,$e=n.stateCenter.roomList.find(function(ze){return ze.roomID===Ce});$e&&($e.streamList=Oe.filter(function(ze){var Xe=n.streamCenter.stopedPlayerList[ze==null?void 0:ze.stream_id];return!!(Xe&&Xe.state<=6)}),n.stateCenter.tempRoomList[he].streamList=[])},J=0;J<n.stateCenter.tempRoomList.length;J++)l(J);if(o.body.stream_fetch_flag===1)return n.logger.info("zc.rlr stream fetch "+s),b.streamHandler.room=b,void b.streamHandler.fetchStreamList();b.streamHandler.handleStreamStart(o,b),n.streamCenter.checkStreamReport(),n.logger.info("zc.rlr end "+s)}),this.rtm._on("_connectChanged",function(o,s){n.logger.info("zc.cc.0 "+o+" "+JSON.stringify(s)),o==="connecting"?n.stateCenter.connectChanged=!0:o==="connected"&&(n.stateCenter.connectChanged=!1,n.stateCenter.useNetAgent=n.rtm.isUseNetAgent,n.handleWaitPublishAndPlays(s))}),this.rtm._on("HBResponse",function(o,s){var d,g=(d=o==null?void 0:o.header)===null||d===void 0?void 0:d.room_id,E=n.stateCenter.getRoomByRoomID(g||s);E==null||E.streamHandler.patchStreamList(o)}),this.rtm._on("_roomStateUpdate",function(o,s,d,g,E){if(s==="CONNECTED"&&(n.streamCenter.chargeInfosSaver.checkAndReport(),n.streamCenter.billingTimer.shouldReportRoomTime&&n.streamCenter.billingTimer.startChargeInfosUpload()),s=="DISCONNECTED"){n.logger.info("zc.rsu "+o+" disconnected "+(d?d+" ":"")+(g||"")+E),n.streamCenter.billingTimer.stopChargeInfosUpload();var b=n.stateCenter.getRoomByRoomID(o);if(b){var S=n.stateCenter.roomList.findIndex(function(l){return l.roomID==o});b.isResetRoom=!0,b.streamHandler.reset(),n.streamCenter.reset(o,d,E),n.stateCenter.roomList.splice(S,1),E?n.stateCenter.tempRoomList.push(b):n.stateCenter.tempRoomList=n.stateCenter.tempRoomList.filter(function(l){return l.roomID!==o})}n.streamCenter.disconnectStreamSignal()}else n.logger.info("zc.rsu "+o+" state: "+s)}),this.rtm._on("_tokenRenewed",function(o,s){n.logger.info("zc.tr roomID:"+s+" "+o);var d=n.stateCenter.getRoomByRoomID(s);d&&(d.token=o)}),this.rtm._on("_tokenExpired",function(o){var s,d;(((d=(s=o==null?void 0:o.body)===null||s===void 0?void 0:s.stop_stream_info)===null||d===void 0?void 0:d.stream_id_list)||[]).forEach(function(g){n.publishModule.stopPublishingStream(g,Hr)})}),this.rtm.liveRoomHandler.handlePushStreamMsg=function(o){o.body.stream_cmd=o.header.sub_cmd,o.body.stream_info=o.body.stream_info_list,delete o.body.stream_info_list,n.handlePushStreamMsg(o)},(t=this.rtm.service)===null||t===void 0||t.on("push_stream_update",function(o){n.handlePushStreamMsg(o)})},A.prototype.handleWaitPublishAndPlays=function(t){for(var n=Object.keys(this.stateCenter.waitPublishStreamList),o=0;o<n.length;o++){var s=n[o],d=this.stateCenter.waitPublishStreamList[s],g=d.localStream,E=d.publishOption,b=d.isDataChannel;if(d.retryStart){if(E.roomID&&E.roomID!==(t==null?void 0:t.roomID)){this.logger.info("zc.hwpap.0 room not connect");continue}this.publishModule.startPublishingStream(s,g,E,b),delete this.stateCenter.waitPublishStreamList[s]}}},A.prototype.handlePushStreamMsg=function(t){var n,o=((n=t==null?void 0:t.header)===null||n===void 0?void 0:n.room_id)||"",s=this.stateCenter.getRoomByRoomID(o),d=this.rtm.getMsgSpan(kn,o);if(!s)return this.stateCenter.reporter.setError(d,xr.ROOM_NOT_EXIST),void this.logger.error("zc.opsu room no found");var g="";switch(t.body.stream_cmd){case de:g="add";break;case le:g="delete";break;case Ve:g="update"}var E=t.body.stream_info.map(function(b){return{stream_id:b.stream_id,stream_extra_info:b.extra_info,id_name:b.id_name||b.anchor_id_name}});d.setAttributes({stream_update_type:Ii(g),stream_seq:t.body.stream_seq,stream_list:Ha(E)}),d.end(),s.streamHandler.handlePushStreamUpdateMsg(t)},A.prototype.bindStreamCenterHandler=function(){var t=this;this.streamCenter.onPlayStateUpdate=function(n,o,s,d){var g,E,b,S,l,J,he,_e,Ce,Oe,$e,ze,Xe,et,gt,_t,Bt,ut,Ct=t.streamCenter.playerList[o];if(n==1&&Ct&&pa(s)){var wt=Ct.player,Pt=Ct.retryDispatchHandler,sr=Ct.playOption;return wt.sessionId!=0&&wt.signal&&wt.shouldSendCloseSession()&&(wt.signal.sendCloseSession(t.stateCenter.getSeq(),wt.sessionId,1),wt.signal.removeSession(wt.sessionId),wt.closeSessionSignal=!0),wt.resetPlay(),Pt.stopMaxTime(),Pt.invalid(),Pt.initStream(o,sr,!1),void(t.rtm.isLogin()?(Pt.startMaxTime(),Pt.active(0)):t.streamCenter.playerList[o].isReDispatch=!0)}if(Ct&&Ct.player&&(n==0||n==1)){var or=Ct.player.isRePlay?Vi:An;n==1&&s&&t.stateCenter.reporter.spanSetAttributes({key:or.event,par:o},{error:s.code,message:s.message}),t.stateCenter.reporter.spanEnd({key:or.event,par:o},{url:qs.url((E=(g=Ct==null?void 0:Ct.player)===null||g===void 0?void 0:g.signal)===null||E===void 0?void 0:E.server),ip:qs.ip((b=Ct==null?void 0:Ct.player)===null||b===void 0?void 0:b.ip),peer_id:qs.peer_id((S=Ct==null?void 0:Ct.player)===null||S===void 0?void 0:S.peerID),source_type:qs.source_type(As((l=Ct==null?void 0:Ct.player)===null||l===void 0?void 0:l.resourceMode)),net_protocol:qs.net_protocol((J=Ct==null?void 0:Ct.player)===null||J===void 0?void 0:J.netProtocol),signal_consume:qs.signal_consume((he=Ct==null?void 0:Ct.player)===null||he===void 0?void 0:he.signalTime),is_center:qs.is_center(Ct==null?void 0:Ct.isCenterNode)}),t.stateCenter.reporter.spanEnd({key:fn.event,par:o},{error:s.code,message:s.message},!0)}if(n!=0||d!=null&&d.isCDN)n!=1||d!=null&&d.isCDN||((_t=Ct==null?void 0:Ct.player)===null||_t===void 0||_t.uploadRTCPlayStats(),t.stateCenter.reporter.spanEnd({key:Ai.event,par:o},{stop_reason:Ai.stop_reason((Bt=Ct==null?void 0:Ct.player)===null||Bt===void 0?void 0:Bt.stopReason),error:s.code,message:s.message}),Ct&&Ct.player&&(Ct.player.stopReason=""));else{var yr=Ai,Fr=t.stateCenter.reporter.createSpan(Zt.I,{key:fn.event,par:o},{key:Ai.event,par:o},((_e=Ct==null?void 0:Ct.player)===null||_e===void 0?void 0:_e.resourceMode)===0?Ai.event:P,!0);Ct.player.rtcPlayCount++,Fr.setAttributes({tryidx:yr.tryidx(Ct.player.rtcPlayCount),url:yr.url((Oe=(Ce=Ct==null?void 0:Ct.player)===null||Ce===void 0?void 0:Ce.signal)===null||Oe===void 0?void 0:Oe.server),ip:yr.ip(($e=Ct==null?void 0:Ct.player)===null||$e===void 0?void 0:$e.ip),net_protocol:yr.net_protocol((ze=Ct==null?void 0:Ct.player)===null||ze===void 0?void 0:ze.netProtocol),room_id:yr.room_id((Xe=Ct==null?void 0:Ct.room)===null||Xe===void 0?void 0:Xe.roomID),room_sid_string:yr.room_sid_string((et=Ct==null?void 0:Ct.room)===null||et===void 0?void 0:et.roomSessionID),env:yr.env(t.stateCenter.testEnvironment?3:1),resource_type:yr.resource_type(As((gt=Ct==null?void 0:Ct.player)===null||gt===void 0?void 0:gt.resourceMode)),protocol:yr.protocol("webrtc"),dispatch_external_ip:yr.dispatch_external_ip(t.stateCenter.clientIP),stream_id:yr.stream_id(o)})}if(n===1&&t.streamCenter.playErrorCallBackList[o])t.stateCenter.connectChanged||(t.logger.info("zc.opsu.1 connect changed"),t.streamCenter.playErrorCallBackList[o]({errorCode:s&&s.code,extendedData:s&&s.message}),delete t.streamCenter.playErrorCallBackList[o]),t.logger.info("zc.opsu.1 stop play called by sdk"),t.playModule.stopPlayingStream(o,s);else{var br=function(Lr){return Lr==0||Lr==1?Lr==0?"PLAYING":"NO_PLAY":"PLAY_REQUESTING"}(n);(n===1||!((ut=Ct==null?void 0:Ct.player)===null||ut===void 0)&&ut.updateCBState({state:br,code:s.code}))&&t.stateCenter.actionListener("playerStateUpdate",{state:br,streamID:o,errorCode:s&&s.code,extendedData:s&&s.message})}},this.streamCenter.onPublishStateUpdate=function(n,o,s){t.onPublishStateUpdateHandle(n,o,s)},this.streamCenter.onPublishQualityUpdate=function(n,o){t.stateCenter.actionListener("publishQualityUpdate",n,o)},this.streamCenter.onPlayQualityUpdate=function(n,o){t.stateCenter.actionListener("playQualityUpdate",n,o)},this.streamCenter.onRemoteCameraStatusUpdate=function(n,o,s){var d=t.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:n},{key:""},Hn);d.setAttributes({stream_id:Po(n),camera_status:ir(o),status_code:ki(s)}),d.end(),t.stateCenter.actionListener("remoteCameraStatusUpdate",n,o),t.stateCenter.actionListener("_remoteCameraStatusUpdate",n,s)},this.streamCenter.onRemoteMicStatusUpdate=function(n,o,s){var d=t.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:n},{key:""},Fo);d.setAttributes({stream_id:ra(n),mic_status:Ga(o),status_code:mo(s)}),d.end(),t.stateCenter.actionListener("remoteMicStatusUpdate",n,o),t.stateCenter.actionListener("_remoteMicStatusUpdate",n,s)},this.streamCenter.onSoundLevelUpdate=function(n){t.stateCenter.actionListener("soundLevelUpdate",n)},this.streamCenter.onMicSoundLevelUpdate=function(n){t.stateCenter.actionListener("capturedSoundLevelUpdate",n)}},A.prototype.bindStreamHandler=function(t){var n=this;t.onStreamUpdated=function(o,s,d){var g=d.map(function(l){return{streamID:l.streamID,user:l.user,extraInfo:l.extraInfo,urlsFLV:l.urlFlv,urlsRTMP:l.urlRtmp,urlsHLS:l.urlHls,urlsHttpsFLV:l.urlHttpsFlv,urlsHttpsHLS:l.urlHttpsHls}}),E={};if(s===0){var b=d.map(function(l){return{stream_id:l.streamID,code:ie[l.closeType]&&ie[l.closeType].code||0,description:ie[l.closeType]&&ie[l.closeType].description||"unknown"}});E.stream_delete_reason=b}if(s===0&&(g=g.filter(function(l){return!n.stateCenter.publishStreamList[l.streamID]})),n.updatePreviewerVolumeFactor(o),g.length>0&&n.stateCenter.actionListener("roomStreamUpdate",o,function(l){return l==0?"DELETE":"ADD"}(s),g,Object.keys(E).length>0?JSON.stringify(E):""),d.length>0&&n.stateCenter.actionListener("_streamUpdated",s,d),s===1){var S=[];g.forEach(function(l){l.extraInfo&&S.push({streamID:l.streamID,user:l.user,extraInfo:l.extraInfo})}),S.length>0&&n.stateCenter.actionListener("streamExtraInfoUpdate",o,S)}},t.onPublishStateUpdate=function(o,s,d){var g,E,b,S,l,J,he,_e,Ce,Oe,$e,ze,Xe,et,gt,_t;n.logger.info("zb.opsu ",s);var Bt=n.streamCenter.publisherList[s];if(Bt&&Bt.publisher&&(o==0||o==1)){var ut=Bn;n.stateCenter.reporter.spanEnd({key:(Bt.publisher.isRePublish?jn:Bn).event,par:s},{error:d.code,message:d.message,url:ut.url((E=(g=Bt==null?void 0:Bt.publisher)===null||g===void 0?void 0:g.signal)===null||E===void 0?void 0:E.server),ip:ut.ip((b=Bt==null?void 0:Bt.publisher)===null||b===void 0?void 0:b.ip),peer_id:ut.peer_id((S=Bt==null?void 0:Bt.publisher)===null||S===void 0?void 0:S.peerID),source_type:ut.source_type("rtc"),net_protocol:ut.net_protocol((l=Bt==null?void 0:Bt.publisher)===null||l===void 0?void 0:l.netProtocol),is_center:ut.is_center(Bt==null?void 0:Bt.isCenterNode)}),n.stateCenter.reporter.spanEnd({key:tn.event,par:s},yu({},d),!0)}var Ct=li;if(Bt&&Bt.publisher)if(o==0){var wt=n.stateCenter.reporter.createSpan(Zt.I,{key:tn.event,par:s},{key:Ct.event,par:s},Ct.event,!0);Bt.publisher.rtcPublishCount++,wt.setAttributes({tryidx:Ct.tryidx(Bt==null?void 0:Bt.publisher.rtcPublishCount),url:Ct.url((he=(J=Bt==null?void 0:Bt.publisher)===null||J===void 0?void 0:J.signal)===null||he===void 0?void 0:he.server),ip:Ct.ip((Oe=(Ce=(_e=Bt==null?void 0:Bt.publisher)===null||_e===void 0?void 0:_e.gwNode)===null||Ce===void 0?void 0:Ce.split(":"))===null||Oe===void 0?void 0:Oe[0]),net_protocol:Ct.net_protocol(($e=Bt==null?void 0:Bt.publisher)===null||$e===void 0?void 0:$e.netProtocol),dispatch_external_ip:Ct.dispatch_external_ip(n.stateCenter.clientIP),room_id:Ct.room_id((ze=Bt==null?void 0:Bt.room)===null||ze===void 0?void 0:ze.roomID),room_sid_string:Ct.room_sid_string((Xe=Bt==null?void 0:Bt.room)===null||Xe===void 0?void 0:Xe.roomSessionID),resource_type:Ct.resource_type("rtc"),protocol:Ct.protocol("webrtc")})}else o==1&&(d.code===1012?n.streamCenter.stopPublishingStream(s,d):d.code===2002&&(n.streamCenter.stopPublishingStream(s,d),d.code=ur),(et=Bt==null?void 0:Bt.publisher)===null||et===void 0||et.uploadRTCPublishStats(),n.stateCenter.reporter.spanEnd({key:Ct.event,par:s},{stop_reason:Ct.stop_reason((gt=Bt==null?void 0:Bt.publisher)===null||gt===void 0?void 0:gt.stopReason),error:d.code,message:d.message}),Bt&&Bt.publisher&&(Bt.publisher.stopReason=""));var Pt=function(sr){return sr==0||sr==1?sr==0?"PUBLISHING":"NO_PUBLISH":"PUBLISH_REQUESTING"}(o);(o===1||!((_t=Bt==null?void 0:Bt.publisher)===null||_t===void 0)&&_t.updateCBState({state:Pt,code:d.code}))&&n.stateCenter.actionListener("publisherStateUpdate",{state:Pt,streamID:s,errorCode:d.code,extendedData:d.message})},t.onStreamExtraInfoUpdated=function(o,s){var d=s.map(function(g){return{streamID:g.streamID,user:g.user,extraInfo:g.extraInfo}});n.stateCenter.actionListener("streamExtraInfoUpdate",o,d)}},A.prototype.updatePreviewerVolumeFactor=function(t){var n=this;if(this.streamCenter.useCopyMusic&&!isNaN(this.stateCenter.engineConfig.choirRole)){this.logger.info("zc.rtc.upvf "+t);var o=[];if(t){var s=this.stateCenter.getRoomByRoomID(t);s&&o.push(s)}else o.push.apply(o,this.stateCenter.roomList);o.forEach(function(d){var g=Array.from(new Set(d.streamList.map(function(E){return E.id_name})));n.streamCenter.previewStreamList.forEach(function(E){E&&!E.onlyPreview&&E.setVolumeFactorByUserCount(g.length)})})}},A.prototype.screenStreamFrom=function(t,n,o){var s=this,d={};d.audio={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t}},d.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxWidth:window.screen.width,maxHeight:window.screen.height}},!n&&(d.audio=!1),navigator.mediaDevices.getUserMedia(d).then(function(g){g.getTracks().forEach(function(E){return gi(E,s.logger,"zc.st.ssf")}),o(!0,g)}).catch(function(g){o(!1,null,g)})},A.prototype.onPublishStateUpdateHandle=function(t,n,o){var s=this;this.logger.info("zc.opsuh.0 call");var d=this.streamCenter.publisherList[n],g=d.room;if(g)if(t==0){if(this.stateCenter.publishStreamList[n]){var E=!g.streamList.find(function(J){return J.stream_id==n&&(J.anchor_id_name==s.stateCenter.idName||J.id_name==s.stateCenter.idName||J.user_id===s.stateCenter.idName)});this.logger.info("zc.opsuh.0 room stream"+n+" "+E),[ot.tryPublish,ot.retryPublish].includes(this.stateCenter.publishStreamList[n].state)&&E?(this.stateCenter.publishStreamList[n].state=ot.update_info,g.streamHandler.updateStreamInfo(n,ft,this.stateCenter.publishStreamList[n].extra_info,function(J){})):(this.logger.info("zc.opsuh.0 stream update "+n),this.stateCenter.publishStreamList[n].state=ot.publishing,this.WebrtcOnPublishStateUpdateHandle(t,n,o))}}else{if(t==1&&d&&pa(o)){var b=d.publisher,S=d.retryDispatchHandler,l=d.publishOption;return b.sessionId!=0&&b.signal&&b.shouldSendCloseSession()&&(b.signal.sendCloseSession(this.stateCenter.getSeq(),b.sessionId,1),b.signal.removeSession(b.sessionId),b.closeSessionSignal=!0),b.resetPublish(),S.stopMaxTime(),S.invalid(),S.initStream(n,l,!0),void(this.rtm.isLogin()?(S.startMaxTime(),S.active(0)):this.streamCenter.publisherList[n].isReDispatch=!0)}g.streamHandler.onPublishStateUpdate(t,n,o),t==1&&(this.logger.info("zc.opsuh.0 stop publish called by sdk"),this.publishModule.stopPublishingStream(n,o))}else this.logger.error("zc.opsuh.0 room not exist")},A.prototype.WebrtcOnPublishStateUpdateHandle=function(t,n,o){if(this.stateCenter.publishStreamList[n].state==ot.publishing){var s=this.streamCenter.getRoomByStreamID(n);s&&s.streamHandler.onPublishStateUpdate(t,n,o)}},A.prototype.bindListener=function(t,n){var o=this.stateCenter.reporter.createSpan(Zt.H,{key:Pe},{key:""},He);return o.setAttributes({listener:t}),this.stateCenter.listenerList[t]?typeof n!="function"?(this.logger.error("zc.o.0 listener callBack must be funciton"),this.stateCenter.reporter.setError(o,it.INPUT_PARAM," listener callBack must be function"),!1):(this.stateCenter.listenerList[t].indexOf(n)==-1&&this.stateCenter.listenerList[t].push(n),o.end(),!0):(this.logger.error("zc.o.0 event "+t+" no found"),this.stateCenter.reporter.setError(o,it.INPUT_PARAM," event "+event+" no found"),!1)},A.prototype.deleteListener=function(t,n){var o=this.stateCenter.reporter.createSpan(Zt.H,{key:Pe},{key:""},ht);if(o.setAttributes({listener:t}),!this.stateCenter.listenerList[t])return this.logger.error("zc.o.1 listener no found"),this.stateCenter.reporter.setError(o,Ht.INPUT_PARAM," event "+event+" no found"),!1;this.logger.info("dc.o.1 "+"".concat(t," cb:")+typeof n);var s=this.stateCenter.listenerList[t];return n?s.splice(s.indexOf(n),1):this.stateCenter.listenerList[t]=[],o.end(),!0},A.prototype.checkBackgroundCapacity=function(){if(this.stateCenter.netAppConfig){var t=this.stateCenter.netAppConfig.media_config.publish_config.object_segmentation_platform;return!!t&&!!((t&1<<(n=0))>>n)}var n;return!0},A}(),cg=function(){function A(t){this.view=t,this.offset=0,this.current_start_code_size=0,this.current_nalu_start=0,this.current_nalu_size=0,this.start_code_size=0,this.nalu_start=0,this.left_size=0,this.nalu_size=0,this.left_size=t.byteLength}return A.prototype.FindStartCode=function(){var t=this.view.byteLength-this.offset;for(this.current_start_code_size=0,this.current_nalu_start=-1;t>=3;){if(this.view.getUint8(this.offset)==0&&this.view.getUint8(this.offset+1)==0&&this.view.getUint8(this.offset+2)==1)return this.current_start_code_size=3,this.current_nalu_start=this.offset,this.offset-1>=0&&this.view.getUint8(this.offset-1)==0&&(++this.current_start_code_size,--this.current_nalu_start),this.offset+=3,!0;--t,++this.offset}return!1},A.prototype.FindNalu=function(){return this.start_code_size=0,this.nalu_start=0,this.nalu_size=0,!(this.offset>=this.view.byteLength)&&!!this.FindStartCode()&&(this.start_code_size=this.current_start_code_size,this.nalu_start=this.current_nalu_start,!0)},A.prototype.NextNalu=function(t){return this.start_code_size=0,this.nalu_start=0,this.nalu_size=0,this.offset>=this.view.byteLength||!this.FindStartCode()?!1:(this.start_code_size=this.current_start_code_size,this.nalu_start=this.current_nalu_start,t&&(31&this.view.getUint8(this.nalu_start+this.start_code_size))!=6?!0:this.FindStartCode()?(this.offset=this.current_nalu_start,this.nalu_size=this.current_nalu_start-this.nalu_start,!0):(this.nalu_size=this.view.byteLength-this.nalu_start,!0))},A}();function ug(A,t,n){if(A===0)return"";var o=1,s="  Here are some explanations about the error code: ".concat(o++,". reason=").concat(A,": ").concat(function(d){switch(d){case jo.PEER_CLOSE_REASON_NORMAL:return"Client voluntarily exits.";case jo.PEER_CLOSE_REASON_STATE_ERROR:return"Status error; Reason: Repeatedly received offer/answer, etc.";case jo.PEER_CLOSE_REASON_VRS_PUBLISH_DENIED:return"Refuse to push the stream; Reason: The client retweeted the stream and was kicked or the agent's pubstart timed out, etc.";case jo.PEER_CLOSE_REASON_VRS_PLAY_DENIED:return"Refuse to pull stream; Reason: may pull empty stream, etc., refer to 'err' error code for details.";case jo.PEER_CLOSE_REASON_AUDIO_CODEC_NOT_MATCH:return"No matching audio codec; Reason: Client (Web) does not support OPUS, etc.";case jo.PEER_CLOSE_REASON_VIDEO_CODEC_NOT_MATCH:return"No matching video codec; Reason: Client (Web) does not support h264 and vp8 etc.";case jo.PEER_CLOSE_REASON_SDP_INVALID:return"SDP parsing error; Reason: SDP format error.";default:return"unknown"}}(A));return t&&(s+=" ".concat(o++,". action=").concat(t,": ").concat(function(d){switch(d){case Hs.DENIED_ACTION_STOP:return"cancel pushing stream.";case Hs.DENIED_ACTION_RETRY_NEXT_IP:return"Try the next ip, if there is no next ip, re-request the route.";case Hs.DENIED_ACTION_REDIRECT:return"Redirect to the ip address specified by data.";case Hs.DENIED_ACTION_REDISPATCH:return"re-request route.";case Hs.DENIED_ACTION_RETRY:return"retry current gateway node.";default:return"unknown"}}(t))),n&&(s+=" ".concat(o++,". err=").concat(n,": ").concat(function(d){switch(d){case yn.DENIED_ERROR_DISPATCH_FAILED:return"media scheduling failed.";case yn.DENIED_ERROR_EMPTY_PUBLISH_IPS:return"empty publish ips error.";case yn.DENIED_ERROR_EMPTY_PLAY_IPS:return"empty play ips error.";case yn.DENIED_ERROR_STREAM_NOT_EXSIT:return"stream does not exist.";case yn.DENIED_ERROR_APP_NOT_ONLINE:return"APP has been removed.";case yn.DENIED_ERROR_INVALID_PARAMETERS:return"invalid parameter.";case yn.DENIED_ERROR_NO_CLIENTIP_SET:return"client ip is not set.";case yn.DENIED_ERROR_PERMISSION_DENIED:return"No permission, access denied.";case yn.DENIED_ERROR_SET_STREAM_INFO_FAILED:return"Failed to set stream information.";case yn.DENIED_ERROR_INTERNAL_ERROR:return"internal error / server busy.";case yn.DENIED_ERROR_PUBLISH_FORBIDDEN:return"Streaming is banned.";case yn.DENIED_ERROR_NEW_PUBLISH:return"new publish error.";case yn.DENIED_ERROR_INNER_ERROR:return"inner error.";case yn.DENIED_ERROR_MANAGER_STOP:return"manager stop error.";case yn.DENIED_ERROR_PUBLISH_AUTH_FAILED:return"Stream push authentication failed.";case yn.DENIED_ERROR_PLAY_AUTH_FAILED:return"Stream pull authentication failed.";case yn.DENIED_ERROR_SERVER_STOP:return"server stoped error.";case yn.DENIED_ERROR_SESSION_ID:return"session id error.";case yn.DENIED_ERROR_MANAGER_TIMEOUT:return"manager timeout.";case yn.DENIED_ERROR_NEW_PUBLISH_SRC:return"new publish src.";case yn.DENIED_ERROR_PLAY_SESSION_LIMIT:return"Pull session limit.";case yn.DENIED_ERROR_DISABLE_IP_PORT_FLEXIBLE:return"disable ip port flexible.";case yn.DENIED_ERROR_PACKET_ILLEGAL_TS:return"packet illegal ts.";case yn.DENIED_ERROR_PACKET_ILLEGAL_ADDR:return"packet illegal address.";case yn.DENIED_ERROR_PACKET_ILLEGAL_FORMAT:return"packet illegal format.";case yn.DENIED_ERROR_CHECK_ADDR_TIMEOUT:return"Check address timed out.";case yn.DENIED_ERROR_CHECK_ADDR_ILLEGAL_SIGNATURE:return"Check Address Illegal Signature.";case yn.DENIED_ERROR_CHECK_ADDR_INCONSTANT:return"Check for address changes.";case yn.DENIED_ERROR_WEBRTC_NEGOTIATE_TIMEOUT:return"SDP negotiation timed out, check whether the SDP is sent successfully.";case yn.DENIED_ERROR_WEBRTC_CANDIDATE_TIMEOUT:return"Address negotiation timed out, check whether the Candidate is sent successfully.";case yn.DENIED_ERROR_WEBRTC_CONNECTIVITY_CHECK_FAILED:return"The connectivity check failed, probably due to firewall restrictions (protocol or port) that caused the network between the browser and the gateway to fail.";case yn.DENIED_ERROR_WEBRTC_DTLS_HS_FAILED:return"The DTLS handshake fails, the verification of the certificate may fail, and the background checks whether the certificate has expired.";case yn.DENIED_ERROR_WEBRTC_DTLS_HS_TIMEOUT:return"The DTLS handshake timed out, this mainly due to network link packet loss and other situations that caused the timeout. Please check your network status and try again.";case yn.DENIED_ERROR_WEBRTC_SRTP_PROTECT_FAILED:return"Streaming encryption failed";case yn.DENIED_ERROR_WEBRTC_HB_TIMEOUT:return"The heartbeat timed out, this mainly due to network link packet loss and other conditions that caused the timeout. Please check your network status and try again.";case yn.DENIED_ERROR_WEBRTC_CONNECTION_LOST:return"The link is disconnected. In turn mode, if the turn link times out or has been released, the gateway will fail to send, and the gateway will think that the link has been lost.";case yn.DENIED_ERROR_WEBRTC_NEW_SRC:return"After the stream pushing end pushes the stream again, the stream pulling end will receive this message.";default:return"unknown"}}(n))),s}(function(A){A[A.PEER_CLOSE_REASON_NORMAL=0]="PEER_CLOSE_REASON_NORMAL",A[A.PEER_CLOSE_REASON_STATE_ERROR=5]="PEER_CLOSE_REASON_STATE_ERROR",A[A.PEER_CLOSE_REASON_VRS_PUBLISH_DENIED=15]="PEER_CLOSE_REASON_VRS_PUBLISH_DENIED",A[A.PEER_CLOSE_REASON_VRS_PLAY_DENIED=18]="PEER_CLOSE_REASON_VRS_PLAY_DENIED",A[A.PEER_CLOSE_REASON_AUDIO_CODEC_NOT_MATCH=21]="PEER_CLOSE_REASON_AUDIO_CODEC_NOT_MATCH",A[A.PEER_CLOSE_REASON_VIDEO_CODEC_NOT_MATCH=22]="PEER_CLOSE_REASON_VIDEO_CODEC_NOT_MATCH",A[A.PEER_CLOSE_REASON_SDP_INVALID=23]="PEER_CLOSE_REASON_SDP_INVALID"})(jo||(jo={})),function(A){A[A.DENIED_ACTION_STOP=1]="DENIED_ACTION_STOP",A[A.DENIED_ACTION_RETRY_NEXT_IP=2]="DENIED_ACTION_RETRY_NEXT_IP",A[A.DENIED_ACTION_REDIRECT=3]="DENIED_ACTION_REDIRECT",A[A.DENIED_ACTION_REDISPATCH=4]="DENIED_ACTION_REDISPATCH",A[A.DENIED_ACTION_RETRY=5]="DENIED_ACTION_RETRY"}(Hs||(Hs={})),function(A){A[A.DENIED_ERROR_DISPATCH_FAILED=1001]="DENIED_ERROR_DISPATCH_FAILED",A[A.DENIED_ERROR_EMPTY_PUBLISH_IPS=1002]="DENIED_ERROR_EMPTY_PUBLISH_IPS",A[A.DENIED_ERROR_EMPTY_PLAY_IPS=1003]="DENIED_ERROR_EMPTY_PLAY_IPS",A[A.DENIED_ERROR_STREAM_NOT_EXSIT=1004]="DENIED_ERROR_STREAM_NOT_EXSIT",A[A.DENIED_ERROR_APP_NOT_ONLINE=1005]="DENIED_ERROR_APP_NOT_ONLINE",A[A.DENIED_ERROR_INVALID_PARAMETERS=1006]="DENIED_ERROR_INVALID_PARAMETERS",A[A.DENIED_ERROR_NO_CLIENTIP_SET=1007]="DENIED_ERROR_NO_CLIENTIP_SET",A[A.DENIED_ERROR_PERMISSION_DENIED=1008]="DENIED_ERROR_PERMISSION_DENIED",A[A.DENIED_ERROR_SET_STREAM_INFO_FAILED=1009]="DENIED_ERROR_SET_STREAM_INFO_FAILED",A[A.DENIED_ERROR_INTERNAL_ERROR=1010]="DENIED_ERROR_INTERNAL_ERROR",A[A.DENIED_ERROR_PUBLISH_FORBIDDEN=1011]="DENIED_ERROR_PUBLISH_FORBIDDEN",A[A.DENIED_ERROR_NEW_PUBLISH=1012]="DENIED_ERROR_NEW_PUBLISH",A[A.DENIED_ERROR_INNER_ERROR=1013]="DENIED_ERROR_INNER_ERROR",A[A.DENIED_ERROR_MANAGER_STOP=1014]="DENIED_ERROR_MANAGER_STOP",A[A.DENIED_ERROR_PUBLISH_AUTH_FAILED=1015]="DENIED_ERROR_PUBLISH_AUTH_FAILED",A[A.DENIED_ERROR_PLAY_AUTH_FAILED=1016]="DENIED_ERROR_PLAY_AUTH_FAILED",A[A.DENIED_ERROR_SERVER_STOP=2001]="DENIED_ERROR_SERVER_STOP",A[A.DENIED_ERROR_SESSION_ID=2002]="DENIED_ERROR_SESSION_ID",A[A.DENIED_ERROR_MANAGER_TIMEOUT=2003]="DENIED_ERROR_MANAGER_TIMEOUT",A[A.DENIED_ERROR_NEW_PUBLISH_SRC=2004]="DENIED_ERROR_NEW_PUBLISH_SRC",A[A.DENIED_ERROR_PLAY_SESSION_LIMIT=2005]="DENIED_ERROR_PLAY_SESSION_LIMIT",A[A.DENIED_ERROR_DISABLE_IP_PORT_FLEXIBLE=2006]="DENIED_ERROR_DISABLE_IP_PORT_FLEXIBLE",A[A.DENIED_ERROR_PACKET_ILLEGAL_TS=2007]="DENIED_ERROR_PACKET_ILLEGAL_TS",A[A.DENIED_ERROR_PACKET_ILLEGAL_ADDR=2008]="DENIED_ERROR_PACKET_ILLEGAL_ADDR",A[A.DENIED_ERROR_PACKET_ILLEGAL_FORMAT=2009]="DENIED_ERROR_PACKET_ILLEGAL_FORMAT",A[A.DENIED_ERROR_CHECK_ADDR_TIMEOUT=2010]="DENIED_ERROR_CHECK_ADDR_TIMEOUT",A[A.DENIED_ERROR_CHECK_ADDR_ILLEGAL_SIGNATURE=2011]="DENIED_ERROR_CHECK_ADDR_ILLEGAL_SIGNATURE",A[A.DENIED_ERROR_CHECK_ADDR_INCONSTANT=2012]="DENIED_ERROR_CHECK_ADDR_INCONSTANT",A[A.DENIED_ERROR_WEBRTC_NEGOTIATE_TIMEOUT=3e3]="DENIED_ERROR_WEBRTC_NEGOTIATE_TIMEOUT",A[A.DENIED_ERROR_WEBRTC_CANDIDATE_TIMEOUT=3001]="DENIED_ERROR_WEBRTC_CANDIDATE_TIMEOUT",A[A.DENIED_ERROR_WEBRTC_CONNECTIVITY_CHECK_FAILED=3002]="DENIED_ERROR_WEBRTC_CONNECTIVITY_CHECK_FAILED",A[A.DENIED_ERROR_WEBRTC_DTLS_HS_FAILED=3003]="DENIED_ERROR_WEBRTC_DTLS_HS_FAILED",A[A.DENIED_ERROR_WEBRTC_DTLS_HS_TIMEOUT=3004]="DENIED_ERROR_WEBRTC_DTLS_HS_TIMEOUT",A[A.DENIED_ERROR_WEBRTC_SRTP_PROTECT_FAILED=3005]="DENIED_ERROR_WEBRTC_SRTP_PROTECT_FAILED",A[A.DENIED_ERROR_WEBRTC_HB_TIMEOUT=3006]="DENIED_ERROR_WEBRTC_HB_TIMEOUT",A[A.DENIED_ERROR_WEBRTC_CONNECTION_LOST=3007]="DENIED_ERROR_WEBRTC_CONNECTION_LOST",A[A.DENIED_ERROR_WEBRTC_NEW_SRC=3008]="DENIED_ERROR_WEBRTC_NEW_SRC"}(yn||(yn={}));var Bu={FPS:{code:lt.captureFpsToLow,message:"The video capture frame rate is too low."},VOLUME:{code:lt.captureVolumeToLow,message:"The capture volume is too low."}},lc={V_BITRATE:{code:lt.sendVideoBitrateToLow,message:"The video bit rate sent is too low."},FPS:{code:lt.sendFpsToLow,message:"The video frame rate sent is too low."},A_BITRATE:{code:lt.sendAudioBitrateToLow,message:"The audio bit rate sent is too low."}},_a={A_VOLUME:{code:lt.receiveVolumeToLow,message:"The volume of audio received is too low."},A_DECODE:{code:lt.receiveAudioDecodedFail,message:"The received audio failed to be decoded."},V_DECODE:{code:lt.receiveVideoDecodedFail,message:"The received video failed to be decoded."},V_DECODED_FPS:{code:lt.receiveVideoFpsDecodedToLow,message:"Received video decode frame rate is too low."},RENDER_VIDEO_FPS:{code:lt.renderVideoFpsToLow,message:"The rendered video frame rate is too low."}},lg={FPS:{code:lt.captureFpsNormal,message:"The video capture frame rate is normal."},VOLUME:{code:lt.captureVolumeNormal,message:"The capture volume is normal."}},vu={V_BITRATE:{code:lt.sendVideoBitrateNormal,message:"The video bit rate sent is normal."},FPS:{code:lt.sendFpsNormal,message:"The video frame rate sent is normal."},A_BITRATE:{code:lt.sendAudioBitrateNormal,message:"The audio bit rate sent is normal."}},IA={A_VOLUME:{code:lt.receiveVolumeNormal,message:"The volume of audio received is normal."},A_DECODE:{code:lt.receiveAudioDecodedNormal,message:"The received audio successed to be decoded."},V_DECODE:{code:lt.receiveVideoDecodedNormal,message:"The received video successed to be decoded."},V_DECODED_FPS:{code:lt.receiveVideoFpsDecodedNormal,message:"Received video decode frame rate is normal."},RENDER_VIDEO_FPS:{code:lt.renderVideoFpsNormal,message:"The rendered video frame rate is normal."}},gg=function(){function A(t,n,o,s){this.stateCenter=t,this.parentEvent=s,this.results={},this.preTime=Date.now(),this.preTotalFps=0,this.preIsNormal={},this.logger=n,this.streamId=o,this.initPreIsNormal(Bu),this.initPreIsNormal(lc),this.initPreIsNormal(_a)}return A.prototype.initPreIsNormal=function(t){for(var n in t)this.preIsNormal[t[n].code]=!0},A.prototype.recordData=function(t,n,o){var s=t.code,d=this.results[s]||[];if(d.push(o),d.length>=5){var g=d.includes(!1);this.preIsNormal[s]&&!g&&(this.uploadEventData(t),this.stateCenter.actionListener("exceptionUpdate",this.streamId,t)),!this.preIsNormal[s]&&g&&(this.uploadEventData(n),this.stateCenter.actionListener("exceptionUpdate",this.streamId,n)),this.preIsNormal[s]=g,d=[]}this.results[s]=d},A.prototype.uploadEventData=function(t){var n=this.stateCenter.reporter.createSpan(Zt.I,{key:this.parentEvent,par:this.streamId},{key:""},zc);n.setAttributes({code:ao(t.code),message:VA(t.message)}),n.end()},A.prototype.checkRemoteStats=function(t,n){this.recordData(_a.A_VOLUME,IA.A_VOLUME,this.recvAudioVolume(t)),this.recordData(_a.A_DECODE,IA.A_DECODE,this.recvAudioDecode(t)),this.recordData(_a.V_DECODE,IA.V_DECODE,this.recvVideoDecode(t)),this.recordData(_a.V_DECODED_FPS,IA.V_DECODED_FPS,this.recvVideoDecodedFrameRate(t)),this.recordData(_a.RENDER_VIDEO_FPS,IA.RENDER_VIDEO_FPS,this.renderVideoFrameRate(t,n))},A.prototype.checkLocalStats=function(t){this.recordData(Bu.FPS,lg.FPS,this.captureVideoFrameRate(t)),this.recordData(lc.FPS,vu.FPS,this.sendVideoFrameRate(t)),this.recordData(Bu.VOLUME,lg.VOLUME,this.sendAudioVolume(t)),this.recordData(lc.V_BITRATE,vu.V_BITRATE,this.sendVideoBitrate(t)),this.recordData(lc.A_BITRATE,vu.A_BITRATE,this.sendAudioBitrate(t))},A.prototype.sendVideoBitrate=function(t){return!(t.videoMuteState==="1"||t.videoQuality>2)&&t.videoBitrate===0},A.prototype.sendVideoFrameRate=function(t){var n=t.videoTransferFPS,o=t.videoFPS;return t.videoMuteState!=="1"&&(o>=10&&n<5||o<10&&o>=5&&n<=1)},A.prototype.captureVideoFrameRate=function(t){var n=t.videoTargetFPS,o=t.videoFPS;return t.videoMuteState!=="1"&&(n>=10&&o<5||n<10&&n>=5&&o<=1)},A.prototype.sendAudioVolume=function(t){return t.audioMuteState!=="1"&&Math.floor(32767*t.audioLevel)<Math.floor(327.67)},A.prototype.sendAudioBitrate=function(t){var n=t.audioBitrate;return!(t.audioMuteState==="1"||t.audioQuality>2)&&(n===0||t.audioTargetBitrate>=48&&n<22)},A.prototype.recvAudioVolume=function(t){return!(t.audioMuteState==="1"||t.audioQuality>2)&&t.audioBitrate>0&&Math.floor(32767*t.audioLevel)<Math.floor(327.67)},A.prototype.recvAudioDecode=function(t){return!(t.audioMuteState==="1"||t.audioQuality>2)&&t.audioBitrate>0&&t.audioFPS===0},A.prototype.recvVideoDecode=function(t){return!(t.videoMuteState==="1"||t.videoQuality>2)&&t.videoBitrate>0&&t.videoTransferFPS===0},A.prototype.recvVideoDecodedFrameRate=function(t){var n=t.videoFPS,o=t.videoTransferFPS;return t.videoMuteState!=="1"&&(n>=10&&o<5||n<10&&n>=5&&o<=1)},A.prototype.renderVideoFrameRate=function(t,n){var o,s=t.videoTransferFPS;if(t.videoMuteState==="1")return!1;for(var d=document.querySelectorAll("video")||[],g=0;g<d.length;g++){var E=d[g];try{if((E.srcObject===n||((o=E.srcObject)===null||o===void 0?void 0:o.getVideoTracks()[0])===(n==null?void 0:n.getVideoTracks()[0]))&&E.getVideoPlaybackQuality){var b=E.getVideoPlaybackQuality().totalVideoFrames,S=Date.now(),l=(b-this.preTotalFps)/(S-this.preTime)*1e3;return this.preTotalFps=b,this.preTime=S,s>10&&l<5||s<=10&&s>=5&&l<=1}}catch{}}return!1},A}(),Sa=function(){return Sa=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},Sa.apply(this,arguments)},Kd=function(){function A(t,n,o,s,d,g){this.qualityUpdateInterval=t,this.qualityUploadInterval=n,this.publish=o,this.logger=s,this.dataReport=d,this.stateCenter=g,this.qualityTimer=null,this.qualityUpdateTimer=null,this.qualityUploadTimer=null,this.lastPublishStats={},this.netQuality=0,this.poorQualityNum=0,this.probeState=_.probed,this.probeTime=0,this.probeInterval=6e4,this.publishStat={},this.currentQuality={video:{videoBitrate:0,videoFPS:0,videoTransferFPS:0,frameHeight:0,frameWidth:0,muteState:"1",videoQuality:-1,videoPacketsLost:0,videoPacketsLostRate:0,googCodecName:""},audio:{audioBitrate:0,audioCodec:"opus",muteState:"1",audioQuality:-1,audioFPS:0,audioPacketsLost:0,audioPacketsLostRate:0,googCodecName:""}},this.qualityUploadLastTime=0,this.qualitySeq=0,this.timerType=0;var E=Math.min(t,n);this.qualitySampleInterval=E>1e3?E:1e3,this.getTimerType(),this.exception=new gg(this.stateCenter,this.logger,this.streamId,tn.event)}return Object.defineProperty(A.prototype,"streamId",{get:function(){return this.publish.streamId},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"sessionId",{get:function(){return this.publish.sessionId},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"peerID",{get:function(){return this.publish.peerID},enumerable:!1,configurable:!0}),A.prototype.getTimerType=function(){this.qualityUpdateInterval===this.qualityUploadInterval?this.timerType=0:this.qualitySampleInterval===this.qualityUpdateInterval?this.timerType=1:this.qualitySampleInterval===this.qualityUploadInterval&&(this.timerType=2),this.logger.info("zc.p.0.qgtt "+this.streamId+" timer type "+this.timerType+" "+this.qualitySampleInterval+" "+this.qualityUpdateInterval+" "+this.qualityUploadInterval)},A.prototype.setPublishQualityTimer=function(){var t=this;this.qualityTimer==null&&(this.logger.info(nc+" "+this.streamId+" called "+this.qualitySampleInterval),this.clearPublishQualityTimer(),this.qualityTimer=setInterval(function(){t.peerConnectionGetStats()},this.qualitySampleInterval),this.lastPublishStats={audioPacketsLost:0,videoPacketsLost:0,videoPacketsSent:0,audioPacketsSent:0,audioRetransmittedPacketsSent:0,videoTime:new Date().getTime(),audioTime:new Date().getTime(),time:0,audioBytesSent:0,videoBytesSent:0,framesEncoded:0,framesSent:0,videoRetransmittedPacketsSent:0},this.qualitySeq=(0,h.getSeq)())},A.prototype.clearPublishQualityTimer=function(){this.clearPublishQualityUpdateTimer(),this.clearPublishQualityUploadTimer(),this.qualityTimer!=null&&(clearInterval(this.qualityTimer),this.qualityTimer=null),this.lastPublishStats={},this.poorQualityNum=0,this.qualityUploadLastTime=0},A.prototype.getConnectionStatsPromiseList=function(){var t=this,n=[];return this.publish.peerConnection&&this.publish.peerConnection.getSenders().filter(function(o){var s;return!t.publish.lowStream&&o.track||o.track&&!(!((s=t.publish.lowStream)===null||s===void 0)&&s.getTracks().includes(o.track))}).forEach(function(o){t.publish.peerConnection&&n.push(t.publish.peerConnection.getStats(o.track))}),n},A.prototype.peerConnectionGetStats=function(){var t=this;if(this.publish.peerConnection){var n=this.getConnectionStatsPromiseList();this.stateCenter.browser=="chrome"&&n.push(new Promise(function(o){var s;try{var d=(s=t.publish.peerConnection)===null||s===void 0?void 0:s.getStats(function(g){return o(g)},function(g){o(null)});typeof(d==null?void 0:d.catch)=="function"&&d.catch(function(g){o(null)})}catch{o(null)}})),Promise.all(n).then(function(o){o.length!==0&&t.getPublishStats(o.filter(function(s){return s instanceof RTCStatsReport}),o[o.length-1]instanceof RTCStatsReport?null:o[o.length-1])}).catch(function(o){t.logger.info(nc+" "+t.streamId+" getStats error "+o.toString())})}},A.prototype.getPublishStats=function(t,n){var o,s,d,g=this;if(t){for(var E,b=document.querySelectorAll("video, audio"),S=0;S<b.length;S++)b[S].srcObject===this.publish.localStream&&(E=b[S]);var l=this.publish.streamCenter.checkPreview(this.publish.localStream),J={scenario:this.stateCenter.scenario,sampleTimeWindow:this.qualityUploadInterval,audioCodec:"opus",audioTargetBitrate:this.publish.videoInfo.audioBitrate/1e3||0,audioBitrate:0,videoTargetBitrate:this.publish.videoInfo.bitRate||0,videoTargetFPS:this.publish.videoInfo.frameRate||0,videoBitrate:0,audioFPS:0,audioLevel:0,audioPacketsLost:0,totalAudioEnergy:0,totalSamplesDuration:0,audioPacketsLostRate:0,videoFPS:0,nackCount:0,pliCount:0,audioQuality:0,videoQuality:0,frameHeight:0,frameWidth:0,videoTransferFPS:0,videoPacketsLost:0,videoPacketsLostRate:0,totalRoundTripTime:0,currentRoundTripTime:0,googBandwidthLimitedResolution:void 0,videoCodecName:"",audioCodecName:"",googCpuLimitedResolution:void 0,googAvailableSendBandwidth:0,googActualEncBitrate:0,googTargetEncBitrate:0,googFrameWidthInput:0,googFrameHeightInput:0,googFrameRateInput:0,qualityLimitationReason:"",codecImplementationName:"",videoMuteState:!((o=l==null?void 0:l.videoTrack)===null||o===void 0)&&o.enabled?"0":"1",audioMuteState:this.publish.localStream.getAudioTracks().length>0&&this.publish.localStream.getAudioTracks()[0].enabled?"0":"1",soundLevel:l==null?void 0:l.soundLevel,muted:E?E.muted:void 0,paused:E?E.paused:void 0,volume:E?E.volume:void 0,sinkId:E?E.sinkId:void 0},he=this.lastPublishStats.time,_e=0,Ce=0,Oe=0,$e=0,ze=0,Xe=0;if(t.forEach(function(Ct){var wt=!1;Ct.forEach(function(Pt){Pt.type=="track"&&(wt=!0)}),Ct.forEach(function(Pt){var sr=Pt.kind||Pt.mediaType;if((Pt.type=="outbound-rtp"||Pt.type=="ssrc"&&Pt.bytesSent!=null)&&sr=="audio")he!=0&&(J.audioBitrate=8*(Pt.bytesSent-g.lastPublishStats.audioBytesSent)/(Pt.timestamp-he),Pt.retransmittedPacketsSent=Pt.retransmittedPacketsSent||0,Pt.packetsSent=Pt.packetsSent||0,J.audioFPS=(Pt.packetsSent-(Pt.retransmittedPacketsSent-g.lastPublishStats.audioRetransmittedPacketsSent)-g.lastPublishStats.audioPacketsSent)/(Pt.timestamp-he)*1e3||0,Oe=(Pt.retransmittedPacketsSent-g.lastPublishStats.audioRetransmittedPacketsSent)/(Pt.packetsSent-g.lastPublishStats.audioPacketsSent)),J.audioBitrate<0&&(J.audioBitrate=0),g.lastPublishStats.audioBytesSent=Pt.bytesSent,g.lastPublishStats.time=Pt.timestamp,g.lastPublishStats.audioPacketsSentTimeStamp=Pt.packetsSent-g.lastPublishStats.audioPacketsSent,g.lastPublishStats.audioPacketsSent=Pt.packetsSent,g.lastPublishStats.audioRetransmittedPacketsSent=Pt.retransmittedPacketsSent;else if((Pt.type=="outbound-rtp"||Pt.type=="ssrc"&&Pt.bytesSent!=null)&&sr=="video")J.isHardwareEncode=function(Fr){if(Fr){var br=Fr==null?void 0:Fr.toLocaleLowerCase();if(br!=="unknown")return br!=="openh264"&&br!=="libvpx"}}(Pt.encoderImplementation),he!=0&&(J.videoBitrate=8*(Pt.bytesSent-g.lastPublishStats.videoBytesSent)/(Pt.timestamp-he),J.videoFPS=1e3*(Pt.framesEncoded-g.lastPublishStats.framesEncoded)/(Pt.timestamp-he),$e=(Pt.retransmittedPacketsSent-g.lastPublishStats.videoRetransmittedPacketsSent)/(Pt.packetsSent-g.lastPublishStats.videoPacketsSent)),J.videoBitrate<0&&(J.videoBitrate=0),J.videoFPS<0&&(J.videoFPS=0),J.nackCount=Pt.nackCount,J.pliCount=Pt.pliCount,J.qualityLimitationReason=Pt.qualityLimitationReason,g.lastPublishStats.videoBytesSent=Pt.bytesSent,g.lastPublishStats.framesEncoded=Pt.framesEncoded,g.lastPublishStats.time=Pt.timestamp,g.lastPublishStats.videoPacketsSentTimeStamp=Pt.packetsSent-g.lastPublishStats.videoPacketsSent,g.lastPublishStats.videoPacketsSent=Pt.packetsSent,g.lastPublishStats.videoRetransmittedPacketsSent=Pt.retransmittedPacketsSent,wt||g.vTrackStats(he,J,Pt);else if(Pt.type=="remote-inbound-rtp"&&sr=="video"){Pt.packetsLost>0&&(J.videoPacketsLost=Pt.packetsLost);var or=Pt.packetsLost-g.lastPublishStats.videoPacketsLost;J.videoPacketsLostRate=or>0?or/g.lastPublishStats.videoPacketsSentTimeStamp:0,Pt.packetsLost>0&&(g.lastPublishStats.videoPacketsLost=Pt.packetsLost),g.lastPublishStats.videoTime=Pt.timestamp,Ce=1e3*Pt.roundTripTime,Xe=Pt.jitter}else if(Pt.type=="remote-inbound-rtp"&&sr=="audio"){Pt.packetsLost>0&&(J.audioPacketsLost=Pt.packetsLost);var yr=Pt.packetsLost-g.lastPublishStats.audioPacketsLost;J.audioPacketsLostRate=yr>0?yr/g.lastPublishStats.audioPacketsSentTimeStamp:0,Pt.packetsLost>0&&(g.lastPublishStats.audioPacketsLost=Pt.packetsLost),g.lastPublishStats.audioTime=Pt.timestamp,_e=1e3*Pt.roundTripTime,ze=Pt.jitter}else Pt.type=="media-source"&&(sr=="audio"||Pt.id.toLowerCase().indexOf("audio")>=0)?(J.audioLevel=Pt.audioLevel||0,J.totalAudioEnergy=Pt.totalAudioEnergy,J.totalSamplesDuration=Pt.totalSamplesDuration):Pt.type=="track"&&(sr=="video"||Pt.id.indexOf("video")>=0||Pt.frameWidth)?g.vTrackStats(he,J,Pt):Pt.type=="candidate-pair"&&(Pt.totalRoundTripTime!=null&&(J.totalRoundTripTime=Pt.totalRoundTripTime),Pt.currentRoundTripTime!=null&&(J.currentRoundTripTime=Pt.currentRoundTripTime))})}),n&&n.result().forEach(function(Ct){Ct.type=="ssrc"&&Ct.names().indexOf("googBandwidthLimitedResolution")>=0&&(J.googBandwidthLimitedResolution=Ct.stat("googBandwidthLimitedResolution")),Ct.type=="ssrc"&&Ct.stat("mediaType")=="video"&&Ct.names().indexOf("googCodecName")>=0&&(J.videoCodecName=Ct.stat("googCodecName")),Ct.type=="ssrc"&&Ct.stat("mediaType")=="audio"&&Ct.names().indexOf("googCodecName")>=0&&(J.audioCodecName=Ct.stat("googCodecName")),Ct.type=="ssrc"&&Ct.names().indexOf("googCpuLimitedResolution")>=0&&(J.googCpuLimitedResolution=Ct.stat("googCpuLimitedResolution")),Ct.type=="ssrc"&&Ct.names().indexOf("googFrameWidthInput")>=0&&(J.googFrameWidthInput=Ct.stat("googFrameWidthInput")),Ct.type=="ssrc"&&Ct.names().indexOf("googFrameHeightInput")>=0&&(J.googFrameHeightInput=Ct.stat("googFrameHeightInput")),Ct.type=="ssrc"&&Ct.names().indexOf("googFrameRateInput")>=0&&(J.googFrameRateInput=Ct.stat("googFrameRateInput")),Ct.type=="ssrc"&&Ct.names().indexOf("codecImplementationName")>=0&&(J.codecImplementationName=Ct.stat("codecImplementationName")),Ct.type=="VideoBwe"&&Ct.names().indexOf("googAvailableSendBandwidth")>=0&&(J.googAvailableSendBandwidth=Ct.stat("googAvailableSendBandwidth")),Ct.type=="VideoBwe"&&Ct.names().indexOf("googActualEncBitrate")>=0&&(J.googActualEncBitrate=Ct.stat("googActualEncBitrate")),Ct.type=="VideoBwe"&&Ct.names().indexOf("googTargetEncBitrate")>=0&&(J.googTargetEncBitrate=Ct.stat("googTargetEncBitrate")),Ct.type=="VideoBwe"&&Ct.names().indexOf("googRetransmitBitrate")>=0&&(J.googRetransmitBitrate=Ct.stat("googRetransmitBitrate"))}),this.stateCenter.browser==="chrome"){var et=(s=navigator.userAgent)===null||s===void 0?void 0:s.match(/Chrome\/(\d+)/);parseInt(et&&et[1]||"100")<=91&&J.isHardwareEncode&&this.publish.handleEncBitrate(Number.parseInt(J.googTargetEncBitrate),Number.parseInt(J.googActualEncBitrate),Number.parseInt(J.googRetransmitBitrate))}Ce=isNaN(Ce)||Ce<0?0:Ce,$e=isNaN($e)||$e<0?0:$e,Xe=isNaN(Xe)||Xe<0?0:Xe,_e=isNaN(_e)||_e<0?0:_e,Oe=isNaN(Oe)||Oe<0?0:Oe,ze=isNaN(ze)||ze<0?0:ze;var gt=Ts(Ce,$e,Xe),_t=Ts(_e,Oe,ze);if(J.videoQuality=he>0?vo(gt):0,J.audioQuality=he>0?vo(_t):0,this.stateCenter.networkState!==ne.offline&&((d=this.publish.peerConnection)===null||d===void 0?void 0:d.connectionState)!=="disconnected"||(J.videoQuality=Dt.Die,J.audioQuality=Dt.Die),!J.frameHeight||!J.frameWidth){var Bt=this.publish.localStream.getVideoTracks()[0];Bt&&(J.frameHeight=Bt.getSettings().height||0,J.frameWidth=Bt.getSettings().width||0)}var ut=Math.min(gt,_t);this.netQuality=ut,this.updateCurrentQualityStats(J),this.publishStat=J,this.timerType===0?he!==0&&(this.checkProbe(),this.uploadPublishQuality(J),this.publish.onPublishQualityUpdate(this.streamId,this.currentQuality),this.exception.checkLocalStats(J),this.publish.streamCenter.changeTxQuality(vo(this.netQuality),this.sessionId,this.peerID)):this.timerType===1?he!==0?this.publish.onPublishQualityUpdate(this.streamId,this.currentQuality):this.qualityTimer&&this.setPublishQualityUploadTimer():he!==0?(this.checkProbe(),this.uploadPublishQuality(J),this.exception.checkLocalStats(J),this.publish.streamCenter.changeTxQuality(vo(this.netQuality),this.sessionId,this.peerID)):this.qualityTimer&&this.setPublishQualityUpdateTimer()}},A.prototype.setPublishQualityUpdateTimer=function(){var t=this;this.qualityUpdateTimer==null&&(this.logger.info("zc.p.0.spqut.1 "+this.streamId+" called "+this.qualityUpdateInterval),this.clearPublishQualityUpdateTimer(),this.qualityUpdateTimer=setInterval(function(){t.publish.onPublishQualityUpdate(t.streamId,t.currentQuality)},this.qualityUpdateInterval))},A.prototype.clearPublishQualityUpdateTimer=function(){this.logger.info(El+" "+this.streamId+" called "+!!this.qualityUpdateTimer),this.qualityUpdateTimer!=null&&(clearInterval(this.qualityUpdateTimer),this.qualityUpdateTimer=null)},A.prototype.setPublishQualityUploadTimer=function(){var t=this;this.qualityUploadTimer==null&&(this.logger.info("zc.p.0.spqut.2 "+this.streamId+" called "+this.qualityUploadInterval),this.qualityUploadTimer=setInterval(function(){t.checkProbe(),t.uploadPublishQuality(t.publishStat),t.exception.checkLocalStats(t.publishStat),t.publish.streamCenter.changeTxQuality(vo(t.netQuality),t.sessionId,t.peerID)},this.qualityUploadInterval))},A.prototype.clearPublishQualityUploadTimer=function(){this.logger.info(El+" "+this.streamId+" called "+!!this.qualityUpdateTimer),this.qualityUploadTimer!=null&&(clearInterval(this.qualityUploadTimer),this.qualityUploadTimer=null)},A.prototype.checkProbe=function(){var t=this.netQuality,n=this.lastPublishStats.time;this.logger.info(nc+" netQuality "+t+" "+n),t<=this.publish.streamCenter.targetQuality?this.poorQualityNum++:this.poorQualityNum=0,n>0&&this.poorQualityNum>=this.publish.streamCenter.probeStartedNum&&new Date().getTime()>this.probeTime+this.probeInterval&&(this.logger.info(nc+" netQuality "+t+" start net probe"),this.probeState=_.tryProbe,this.publish.poorQualityRetryCnt++,this.publish.streamCenter.startNetProbe(!0,this.publish,this.publish.gwNodeList),this.probeTime=new Date().getTime())},A.prototype.vTrackStats=function(t,n,o){var s=o.frameHeight,d=o.frameWidth,g=o.framesSent,E=o.timestamp;if(n.frameHeight=s,n.frameWidth=d,t===0||this.lastPublishStats.frameHeight===s&&this.lastPublishStats.frameWidth===d)t===0&&(this.lastPublishStats.frameHeight=s,this.lastPublishStats.frameWidth=d);else{var b=this.stateCenter.reporter.createSpan(Zt.H,{key:tn.event,par:this.streamId},{key:""},Jr);b.setAttributes({webrtc_sid:Ci(this.sessionId),w:vi(d),h:Pr(s)}),b.end(),this.lastPublishStats.frameHeight=s,this.lastPublishStats.frameWidth=d}t!=0&&(n.videoTransferFPS=1e3*(g-this.lastPublishStats.framesSent)/(E-t)),n.videoTransferFPS<0&&(n.videoTransferFPS=0),this.lastPublishStats.framesSent=g},A.prototype.updateCurrentQualityStats=function(t){var n=t.videoBitrate,o=t.videoFPS,s=t.videoTransferFPS,d=t.frameHeight,g=t.frameWidth,E=t.videoMuteState,b=t.videoQuality,S=t.isHardwareEncode,l=t.audioBitrate,J=t.audioCodec,he=t.audioMuteState,_e=t.audioQuality,Ce=t.audioFPS,Oe={video:Sa(Sa({},this.currentQuality.video),{videoBitrate:n,videoFPS:o,videoTransferFPS:s,frameHeight:d,frameWidth:g,muteState:E,videoQuality:b,isHardwareEncode:S}),audio:Sa(Sa({},this.currentQuality.audio),{audioBitrate:l,audioCodec:J,muteState:he,audioQuality:_e,audioFPS:Ce}),nackCount:t.nackCount,pliCount:t.pliCount,totalRoundTripTime:t.totalRoundTripTime,currentRoundTripTime:t.currentRoundTripTime,qualityLimitationReason:t.qualityLimitationReason};if(t.videoPacketsLost!==void 0){var $e=t.videoPacketsLostRate;Oe.video.videoPacketsLost=t.videoPacketsLost,Oe.video.videoPacketsLostRate=$e}if(t.audioPacketsLost!==void 0){var ze=t.audioPacketsLostRate;Oe.audio.audioPacketsLost=t.audioPacketsLost,Oe.audio.audioPacketsLostRate=ze}if(t.muted!==void 0&&(Oe.muted=t.muted,Oe.paused=t.paused,Oe.volume=t.volume,Oe.sinkId=t.sinkId),t.googBandwidthLimitedResolution!==void 0){var Xe=t.videoCodecName,et=t.audioCodecName,gt=t.googFrameWidthInput,_t=t.googFrameHeightInput,Bt=t.googCpuLimitedResolution,ut=t.googFrameRateInput,Ct=t.codecImplementationName,wt=t.googAvailableSendBandwidth,Pt=t.googActualEncBitrate,sr=t.googTargetEncBitrate;Oe.googBandwidthLimitedResolution=t.googBandwidthLimitedResolution,Oe.video.googCodecName=Xe,Oe.audio.googCodecName=et,Oe.googCpuLimitedResolution=Bt,Oe.googFrameWidthInput=gt,Oe.googFrameHeightInput=_t,Oe.googFrameRateInput=ut,Oe.codecImplementationName=Ct,Oe.googAvailableSendBandwidth=wt,Oe.googActualEncBitrate=Pt,Oe.googTargetEncBitrate=sr}this.currentQuality=Oe},A.prototype.uploadPublishQuality=function(t){var n=this;if(this.publish.signal.isServerConnected){var o=new Date().getTime();(this.qualityUploadLastTime==0||o-this.qualityUploadLastTime>=2e3)&&(t.stream_type="publish",t.stream_id=this.streamId,t.timeStamp=o,this.logger.info(yl+" "+this.streamId+" upload"+JSON.stringify(t)),this.publish.localStream&&this.publish.localStream.getTracks().forEach(function(s){gi(s,n.logger,yl)}),this.publish.streamCenter.updateQuality(0,t),this.qualityUploadLastTime=o)}},A}(),ba=function(){return ba=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},ba.apply(this,arguments)},ro=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},no=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},$n,Qu,Ui,_u=new Uint8Array([0,0,0,1,101,184,0,4,0,0,9,255,254,222,35,192,166,30,73,128]),Su=new Uint8Array([0,0,0,1,103,77,64,51,140,141,78,64,60,34,17,168,0,0,0,1,104,238,60,128]),Cn=tn,ei=di,Js=Bn,bu=function(){function A(t,n,o,s,d,g,E,b){var S,l=this;this.curCBState={state:"NO_PUBLISH",code:0},this.isProbeDispatch=!1,this._state=O,this.lastState=O,this.sessionId=0,this.sessionToken="",this.candidateInfo=[],this.qualityUpdateInterval=3e3,this.publishQualityList=[],this.maxQualityListCount=10,this.canvasTimer=null,this.canvas=null,this.ctx=null,this.canvasImage=null,this.reportSeq=NaN,this.parentSpanKey="",this.streamReportSeq=(0,h.getSeq)(),this.videoInfo={width:0,height:0,frameRate:0,bitRate:0,minBitrate:0,keyFrameInterval:2,channelCount:1,audioBitrate:48e3},this.mediaStreamConfig=null,this.offerSeq=0,this.peerConnection=null,this.qualityCount=0,this.closeSessionSignal=!1,this.channelCount=1,this.localSdpOrder=[],this.remoteSdpOrder=[],this.videoCodec="H264",this.stateNego=Et.stop,this.isExternal=!1,this.negoInterval=25e3,this.publishEvent=!1,this.cameraState="on",this.microState="on",this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0,this.retryFailGwNodes=[],this.dispatchedGwNodes=[],this.needIncMax=!1,this.probeCount=0,this.gotMax=!1,this.initFitCnt=0,this.targetRate=0,this.totalBitrateArray=[],this.totalTargetRateArray=[],this.totalRetransRateArray=[],this.isPeer=!1,this.peerFailCount=0,this.peerID=0,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.probeNotRetryInfos=[],this.continuousFailCnt=0,this.iceDisconnectedMaxTime=15e3,this.isUpdateSDP=!1,this.isUdpSuccess=!1,this.toBeReplacedTracks={},this.send_seq=0,this.dataChannelState=0,this.first_pkt=!0,this.next_sn=[],this.pkt_list=[],this.answerSdpTime=0,this.streamConnectIP="",this.mediaSideInfos=[],this.lowMediaSideInfos=[],this.mixConfig={forceSynchronousNetworkTime:0,alignment:0},this.sideMediaConfig={isSEIStart:!1,SEIType:zt.ZegoDefined,unregisterSeiFilter:"",uuidSend:!1,track:null},this.reportBeginTime=0,this.reportPublishingTime=0,this.reportPublishStateTime=0,this.isRePublish=!1,this.cachedGwNodesMode=ko.TheSameReUse,this.rtcPublishCount=0,this.stopReason="",this.signalTime=0,this.pushCmdSeqMap=((S={}).MediaDescPush={seq:-1,time:0},S.MediaDescUpdatePush={seq:-1,time:0},S.PublishEventPush={seq:-1,time:0},S.ClientInfoPush={seq:-1,time:0},S.CandidateInfoPush={seq:-1,time:0},S),this._turnToTcp=!1,this.encodeLowVideoFrame=function(J,he){l.encodeFrame(J,he,!0)},this.encodeVideoFrame=function(J,he){l.sideMediaConfig.track?l.encodeFrameAudioOnly(J,he,!1):l.encodeFrame(J,he,!1)},this.camera_status=2,this.mic_status=2,this.streamId=t,this.logger=n,this.dataReport=o,this.qualityTimeInterval=s,this.streamCenter=g,this.stateCenter=E,this.videoCodec=this.stateCenter.settingConfig.getSetting("publish_video_codec"),this.previewer=b,this.localStream=b.localStream,this.zegoCaptureStream=b.zegoCaptureStream,this.zegoCaptureStream&&this.zegoCaptureStream.startPublish(),b.onAudioTrackChange=function(J){var he=l.peerConnection&&l.peerConnection.getSenders().find(function(_e){var Ce;return((Ce=_e.track)===null||Ce===void 0?void 0:Ce.kind)===J.kind});he?(he.replaceTrack(J),l.logger.info("zc.oatc remote audio track change success")):l.logger.warn("zc.oatc stream has not sender")},this.initStreamReport(),this.qualityHandler=new Kd(this.qualityTimeInterval,d,this,this.logger,this.dataReport,this.stateCenter)}return A.prototype.updateCBState=function(t){var n=this,o=Object.keys(t).some(function(s){return t[s]!==n.curCBState[s]});return o&&(this.curCBState=t),o},Object.defineProperty(A.prototype,"state",{get:function(){return this._state},set:function(t){this.lastState=this._state,this._state=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"publishStat",{get:function(){return this.qualityHandler.publishStat},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"probeState",{get:function(){return this.qualityHandler.probeState},set:function(t){this.qualityHandler.probeState=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"netQuality",{get:function(){return this.qualityHandler.netQuality},set:function(t){this.qualityHandler.netQuality=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastPublishStats",{get:function(){return this.qualityHandler.lastPublishStats},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lowStream",{get:function(){var t;return(t=this.previewer)===null||t===void 0?void 0:t.lowStream},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"iceStateDisConnect",{get:function(){return[Et.iceClosed,Et.iceDisconnected,Et.iceFailed].includes(this.stateNego)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isLastConnected",{get:function(){return this.lastState===L},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"netProtocol",{get:function(){return this._turnToTcp?"tcp":"udp"},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"ip",{get:function(){var t,n;return(n=(t=this.gwNode)===null||t===void 0?void 0:t.split(":"))===null||n===void 0?void 0:n[0]},enumerable:!1,configurable:!0}),A.prototype.initStreamReport=function(){this.reportSpan=this.stateCenter.reporter.createSpan(Zt.I,{key:tn.event,par:this.streamId},{key:ei.event,par:this.streamId},ei.event,!0),this.reportBeginTime=new Date().getTime()},A.prototype.publishStateUpdateError=function(t,n,o,s){this.logger.error(Ql+"  call ",this.streamId+" "+JSON.stringify(t));var d=this.stateCenter.reporter.createSpan(Zt.H,{key:tn.event,par:this.streamId},{key:""},hi);d.setAttributes({error:t==null?void 0:t.code,message:t==null?void 0:t.message}),d.end(),this.streamId&&this.onPublishStateUpdate(pr,this.streamId,t,n,o,s),this.logger.info(Ql+"  ended")},A.prototype.netProbeToReDispatch=function(){this.isProbeDispatch=!0,this.publishStateUpdateError(tn.error.kPublishNetProbePoor)},A.prototype.resetPublish=function(){this.logger.info("zc.p.0.rp   "+this.streamId+" call"),this.state=O,this.publishEvent=!1,this.peerConnection==null&&this.peerConnection==null||(this.peerConnection.close(),this.peerConnection=null),this.negoTimer!=null&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.iceDisconnectedTimer!=null&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.qualityHandler.clearPublishQualityTimer(),this.clearCanvasTimer(),this.signal&&(this.signal.unregisterPushCallback("CandidateInfoPush",this.sessionId),this.signal.unregisterPushCallback("MediaDescPush",this.sessionId),this.signal.unregisterPushCallback("CloseSessionPush",this.sessionId),this.signal.unregisterPushCallback("SessionResetPush",this.sessionId),this.signal.unregisterPushCallback("PublishEventPush",this.sessionId),this.signal.unregisterPushCallback("ClientInfoPush",this.sessionId),this.signal.unregisterPushCallback("MediaDescUpdatePush",this.sessionId)),this.sessionSeq=0,this.offerSeq=0,this.candidateInfo=[],this.publishQualityList=[],this.resetEncBitrate(),this.isUpdateSDP=!1},A.prototype.clearCanvasTimer=function(){this.canvasTimer!=null&&(clearInterval(this.canvasTimer),this.sideMediaConfig.track=null,this.canvasTimer=null,this.canvas=null,this.ctx=null,this.canvasImage=null)},A.prototype.shouldSendCloseSession=function(){return this.state!=O&&this.state!=te},A.prototype.resetPushCmdSeqMap=function(){var t;this.pushCmdSeqMap=((t={}).MediaDescPush={seq:-1,time:0},t.MediaDescUpdatePush={seq:-1,time:0},t.PublishEventPush={seq:-1,time:0},t.ClientInfoPush={seq:-1,time:0},t.CandidateInfoPush={seq:-1,time:0},t)},A.prototype.startPublish=function(t,n,o,s,d){var g,E,b,S,l,J,he,_e,Ce,Oe,$e,ze,Xe,et=this;if(this.logger.info(Gn+" "+t+" called"),this.signal&&this.signal.negoInterval&&(this.negoInterval=this.signal.negoInterval),t){if(this.localStream=n,this.mediaStreamConfig=s,this.channelCount=s.channelCount,this.publishOption=d||{},typeof this.publishOption.enableDTX=="boolean"){var gt=this.stateCenter.settingConfig.getSetting("dtx",!0);this.publishOption.enableDTX=gt!==void 0?!!gt:this.publishOption.enableDTX}else this.publishOption.enableDTX=!!this.stateCenter.settingConfig.getSetting("dtx");var _t;d!=null&&d.SEIType&&(this.sideMediaConfig.SEIType=d.SEIType),this.qualityHandler.currentQuality.video.muteState=!((E=(g=this.previewer)===null||g===void 0?void 0:g.videoTrack)===null||E===void 0)&&E.enabled?"0":"1",this.qualityHandler.currentQuality.audio.muteState=this.localStream.getAudioTracks().length>0&&this.localStream.getAudioTracks()[0].enabled?"0":"1",navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&s&&(s.externalCapture||s.externalMediaStream)&&(this.localStream.onaddtrack=function(){var Pt,sr,or,yr;et.logger.info(Gn+" "+et.streamId+" Track added"),n&&n.getTracks().forEach(function(xn){gi(xn,et.logger,Gn)});var Fr=[];!((Pt=et.previewer)===null||Pt===void 0)&&Pt.videoTrack&&Fr.push((sr=et.previewer)===null||sr===void 0?void 0:sr.videoTrack);var br=et.localStream.getAudioTracks();if(Fr.length>1){var Lr=(or=et.peerConnection)===null||or===void 0?void 0:or.getSenders().find(function(xn){var hn;return((hn=xn.track)===null||hn===void 0?void 0:hn.id)===et.localStream.getVideoTracks()[0].id});Lr==null||Lr.replaceTrack(Fr[1]),et.localStream.removeTrack(Fr[0])}else br.length>1&&(Lr=(yr=et.peerConnection)===null||yr===void 0?void 0:yr.getSenders().find(function(xn){var hn;return((hn=xn.track)===null||hn===void 0?void 0:hn.kind)===br[1].kind}),Lr==null||Lr.replaceTrack(br[1]),et.localStream.removeTrack(br[0]))}),o&&(this.videoInfo=o),d&&d.videoCodec&&(this.videoCodec=d.videoCodec);var Bt=(b=this.previewer)===null||b===void 0?void 0:b.videoPreviewType;switch(Bt){case"camera":_t=this.stateCenter.settingConfig.getSetting("camera_video_bitrate",!0);break;case"screen":_t=this.stateCenter.settingConfig.getSetting("screen_video_bitrate",!0);break;case"custom":_t=this.stateCenter.settingConfig.getSetting("custom_video_bitrate",!0)}_t!==void 0&&(this.logger.info(Gn+" setting "+Bt+" "+_t),this.videoInfo.bitRate=_t);var ut=this.stateCenter.settingConfig.getSetting("bitrate_mode",!0);ut&&(this.logger.info(Gn+" setting bitrate_mode "+ut),this.videoInfo.startBitrate=ut);var Ct=this.stateCenter.settingConfig.getSetting("publish_video_codec",!0);if(Ct&&(this.logger.info(Gn+" setting publish_video_codec "+Ct),this.videoCodec=Ct),typeof(d==null?void 0:d.isSEIStart)=="boolean"&&(this.sideMediaConfig.isSEIStart=d==null?void 0:d.isSEIStart),this.sideMediaConfig.isSEIStart){var wt=nA();this.videoCodec==="H264"&&wt||(this.sideMediaConfig.isSEIStart=!1)}!((S=this.stateCenter.seiConfig)===null||S===void 0)&&S.unregisterSEIFilter&&(this.sideMediaConfig.unregisterSeiFilter=(l=this.stateCenter.seiConfig)===null||l===void 0?void 0:l.unregisterSEIFilter),[0,1].includes(d==null?void 0:d.forceSynchronousNetworkTime)&&(this.mixConfig.forceSynchronousNetworkTime=d==null?void 0:d.forceSynchronousNetworkTime),this.stateCenter.reporter.spanSetAttributes({key:Cn.event,par:this.streamId},{video_en_codec_id:Cn.video_en_codec_id(this.videoCodec=="VP8"?2:0),audio_c_channel_count:Cn.audio_c_channel_count(this.channelCount==2?2:1),audio_en_bps:Cn.audio_en_bps(this.videoInfo.audioBitrate),aec_level:Cn.aec_level(s.AEC==1?2:s.AEC==0?0:2),ans_level:Cn.ans_level(s.ANS==1?2:s.ANS==0?0:2),agc:Cn.agc(s.AGC==1||s.AGC!=0),video_activate:Cn.video_activate(!!(!((he=(J=this.previewer)===null||J===void 0?void 0:J.videoTrack)===null||he===void 0)&&he.enabled)),audio_activate:Cn.audio_activate(!!(!((Ce=(_e=this.previewer)===null||_e===void 0?void 0:_e.audioTrack)===null||Ce===void 0)&&Ce.enabled)),scenario:this.stateCenter.scenario}),this.reportSpan.setAttributes({room_id:ei.room_id(($e=(Oe=this.streamCenter.publisherList[this.streamId])===null||Oe===void 0?void 0:Oe.room)===null||$e===void 0?void 0:$e.roomID),room_sid_string:ei.room_sid_string((Xe=(ze=this.streamCenter.publisherList[this.streamId])===null||ze===void 0?void 0:ze.room)===null||Xe===void 0?void 0:Xe.roomSessionID),max_retry_interval:ei.max_retry_interval(this.stateCenter.streamRetryTime),scenario:this.stateCenter.scenario,use_resource_type:ei.use_resource_type(["rtc"])}),this.isPeer?this.createOffer({encodedInsertableStreams:this.sideMediaConfig.isSEIStart}):this.createSession(),this.negoTimer!=null&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.negoTimer=setTimeout(function(){et.logger.error(Gn+" waiting timeout"),et.publishStateUpdateError(Cn.error.kPublishNegoTimeoutError)},this.negoInterval)}else this.logger.error(Gn+" "+t+" streamId is null")},A.prototype.activateSEIInsert=function(t,n){return new Promise(function(o,s){o(!1)})},A.prototype.createSession=function(t,n){var o,s,d,g=this;this.sessionSeq=(0,h.getSeq)();var E=this.streamId;this.streamCenter.testEnvironment==1&&(E="zegotest-"+this.streamCenter.appid+"-"+this.streamId),this.streamCenter.gwNode&&(this.gwNode=this.streamCenter.gwNode);var b=this.stateCenter.settingConfig.getSetting("gw_nodes");b&&b instanceof Array&&b.length>0&&(this.logger.info(Gn+" setting "+JSON.stringify(b)),this.gwNodeList=b,this.gwNode=this.gwNodeList[0]||this.gwNode),this.setTurnTcp();var S=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);S&&(this.logger.info(Gn+" setting udp_or_tcp "+S),this._turnToTcp=S==="tcp"),this._turnToTcp&&(this.isPeer=!1);var l=((s=(o=this.streamCenter.publisherList[this.streamId])===null||o===void 0?void 0:o.room)===null||s===void 0?void 0:s.roomID)||((d=this.stateCenter.roomList[0])===null||d===void 0?void 0:d.roomID),J=this.getSessionParams(l),he=J.params,_e=J.paramsExt;this.paramsExt=_e;var Ce=zr;if(this.isPeer){var Oe=new Date().getTime(),$e=this.getSpan(zr.event,this.parentSpanKey);this.signal.createSessionWithSdp({seq:this.sessionSeq,type:0,mode:0,streamId:E,videoInfo:this.videoInfo,strAuthParam:this.publishOption&&this.publishOption.streamParams||"",sdp:n||t.sdp,serverHost:this.gwNode,params:he,paramsExt:_e,roomID:l,geo:{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList}},function(Xe,et,gt){return ro(g,void 0,void 0,function(){var _t;return no(this,function(Bt){return _t=new Date().getTime(),this.logger.info(Gn+" create session time "+(_t-Oe)),$e.setAttributes({webrtc_sid:et,sdp:Ce.sdp(gt.sdp),is_mini:Ce.is_mini(this.stateCenter.isMiniSdp),gw_nodes:Ce.gw_nodes(gt.gw_nodes),gw_nodes_ttl:Ce.gw_nodes(gt.gw_nodes_ttl),gw_version:Ce.gw_version(gt.gw_version)}),$e.end(),this.stateCenter.reporter.spanSetAttributes({key:Cn.event,par:this.streamId},{gw_version:Cn.gw_version(gt.gw_version)}),this.stateNego!==Et.iceConnected&&this.getSpan(Wn,this.parentSpanKey,"",!0),this.handleCreateSessionWithSdpResp(Xe,et,gt),[2]})})},function(Xe,et){var gt;if(g.sessionSeq==et){var _t=Xe==1?Cn.error.kSessionTimeoutError:Cn.error.kSessionRequestError;g.logger.info(Gn+" ".concat(g.streamId," create session fail. signal: ").concat(g.signal.state,"; ws: ").concat((gt=g.signal.websocket)===null||gt===void 0?void 0:gt.readyState," ")),$e.setAttributes({try_cnt:g.peerFailCount}),g.stateCenter.reporter.setError($e,_t),g.publishStateUpdateError(_t)}else g.logger.warn(Gn+" seq is not match.")})}else{var ze=this.getSpan(zr.event,this.parentSpanKey);this.signal.createSession(this.sessionSeq,0,0,E,this.publishOption&&this.publishOption.streamParams,this.gwNode,he,l,{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList},function(Xe,et,gt){return ro(g,void 0,void 0,function(){return no(this,function(_t){return ze.setAttributes({webrtc_sid:Ce.webrtc_sid(et),gw_nodes:Ce.gw_nodes(gt.gw_nodes),gw_nodes_ttl:Ce.gw_nodes(gt.gw_nodes_ttl),gw_version:Ce.gw_version(gt.gw_version)}),ze.end(),this.stateCenter.reporter.spanSetAttributes({key:Cn.event,par:this.streamId},{gw_version:Cn.gw_version(gt.gw_version)}),this.handleCreateSessionResp(Xe,et,gt),[2]})})},function(Xe,et){if(g.sessionSeq==et){var gt=Xe==1?Cn.error.kSessionTimeoutError:Cn.error.kSessionRequestError;g.stateCenter.reporter.setError(ze,gt),g.publishStateUpdateError(gt)}else g.logger.warn(Gn+" seq is not match.")})}this.state=te,this.logger.info(Gn+" "+this.streamId+" called success"),this.stateNego=Et.start},A.prototype.handleCreateSessionResp=function(t,n,o){var s=o.turn_server,d=s.split("?")[0]&&s.split("?")[0].slice(5),g=this.streamCenter.server.split("?"),E=g[1]&&g[1].slice(2),b="webrtc://".concat(d,"/").concat(E,"/").concat(this.streamId);if(this.stateCenter.reporter.spanSetAttributes({key:this.parentSpanKey,par:this.streamId},{webrtc_sid:o.session_id,url:b}),this.logger.info(Gn+" "+this.streamId+" sessionId:"+o.session_id),this.sessionSeq==t){this.resetPushCmdSeqMap();var S=o.client_ip||o.clientip;S&&(this.stateCenter.clientIP=S);var l=0,J=new Date().getTime();if(this.reportBeginTime&&(this.logger.info(Gn+" "+this.streamId+" create signal time "+(l=J-this.reportBeginTime)),this.signalTime=l),this.answerSdpTime=J,o.result!==0){if(this.logger.error(Gn+" "+this.streamId+" create session failed "+o.result),(o==null?void 0:o.result)===1021)return void this.publishStateUpdateError(ln,!0);this.publishStateUpdateError(Cn.error.kSessionRequestError)}else this.sessionId=o.session_id,this.sessionToken=o.session_token,this.logger.info(Gn+" "+this.streamId+" create session success "+this.sessionId),this.setGwNodes(o,!1),this.onCreatePublishSessionSuccess(o)}else this.logger.error(Gn+" "+this.streamId+" seq is not match.")},A.prototype.handleCreateSessionWithSdpResp=function(t,n,o){var s=this;if(this.logger.info(Gn+" sessionId:"+n),this.sessionSeq==t){this.resetPushCmdSeqMap();var d=o.client_ip||o.clientip;d&&(this.stateCenter.clientIP=d);var g=0,E=new Date().getTime();if(this.reportBeginTime&&(this.logger.info(Gn+" "+this.streamId+" create signal time "+(g=E-this.reportBeginTime)),this.signalTime=g),this.answerSdpTime=E,o.result!==0){if(o.result===110&&(this.stateCenter._isMiniSdp=!1),this.logger.error(Gn+" create session failed "+o.result),(o==null?void 0:o.result)===1021)return void this.publishStateUpdateError(ln,!0);this.publishStateUpdateError({code:Cn.error.kSessionRequestError.code,message:Cn.error.kSessionRequestError.message+" result:"+o.result})}else{this.sessionId=n,this.sessionToken=o.session_token,this.setGwNodes(o,!1),this.logger.info(Gn+" get remote session success "+this.streamId);var b=performance.now();this.signal.registerPushCallback("CloseSessionPush",this.sessionId,function(S,l,J){if(b){var he=(performance.now()-b).toFixed(0);b=void 0,s.logger.info(Gn+" ".concat(s.streamId,", cmd: CloseSessionPush, cost_time: ").concat(he))}s.onRecvCloseSession(S,l,J)}),this.signal.registerPushCallback("SessionResetPush",this.sessionId,function(S,l,J){s.onRecvResetSession(S,l,J)}),this.signal.registerPushCallback("PublishEventPush",this.sessionId,function(S,l,J){if(s.compareSeqs("PublishEventPush",S)){if(b){var he=(performance.now()-b).toFixed(0);b=void 0,s.logger.info(Gn+" ".concat(s.streamId,", cmd: PublishEventPush, cost_time: ").concat(he))}s.onRecvPublishEvent(S,l,J)}}),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,function(S,l,J){s.compareSeqs("ClientInfoPush",S)&&s.onRecvClientInfo(S,l,J)}),this.signal.registerPushCallback("MediaDescUpdatePush",this.sessionId,function(S,l,J){return ro(s,void 0,void 0,function(){return no(this,function(he){switch(he.label){case 0:return this.compareSeqs("MediaDescUpdatePush",S)?[4,this.onRecvUpdateMediaDescription(S,l,J)]:[2];case 1:return he.sent(),[2]}})})}),this.onGetRemoteOfferSuccess(o.sdp)}}else this.logger.error(Gn+" seq is not match.")},A.prototype.getSessionParams=function(t){var n="",o=[],s={},d=this.stateCenter.seiConfig.SEIPass;if(typeof d=="boolean"){var g=d?1:0;this.stateCenter.useNetAgent?s.sei_filter_pass=g:o.push("zgseipass="+g)}this.stateCenter.isMiniSdp&&!this.stateCenter.useNetAgent&&o.push("sdp_fmt_type=1"),this.stateCenter.idName&&o.push("zguid="+this.stateCenter.idName),t&&o.push("zgrid="+t),this.mixConfig.forceSynchronousNetworkTime===1&&(this.stateCenter.useNetAgent?s.sync_ntp=1:o.push("sync_ntp=1"));var E=this.publishOption.setDeviceDelayByUser;return isNaN(E)||(this.stateCenter.useNetAgent?s.ktv_device_delay=E:o.push("ktv_device_delay="+E)),o.length>0&&(n=o.join("&")),{params:n,paramsExt:s}},A.prototype.setGwNodes=function(t,n){var o;if(this.logger.info("zc.p.0.sgn "+this.streamId+" "+JSON.stringify(t==null?void 0:t.gw_nodes)+" "+JSON.stringify(this.retryFailGwNodes)),((o=t.gw_nodes)===null||o===void 0?void 0:o.length)>0){var s=this.sortGwNodes(t.gw_nodes,this.retryFailGwNodes,n);this.retryFailGwNodes=[],this.handleDispatchedGwNodes(s,t.gw_nodes_ttl)}},A.prototype.resetGwNodes=function(){this.logger.info("zc.p.0.rgn "+this.streamId),this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0},A.prototype.sortGwNodes=function(t,n,o){var s=JSON.parse(JSON.stringify(t));if(n.forEach(function(g){var E=s.indexOf(g);E>=0&&(s.splice(E,1),s.push(g))}),!o){var d=s.findIndex(function(g){return g===t[0]});d>0&&(s.splice(d,1),s.unshift(t[0]))}return s},A.prototype.handleDispatchedGwNodes=function(t,n){if(this.logger.info("zc.p.0.hdgn "+this.streamId+" "+JSON.stringify(t)),Array.isArray(t)){this.gwNodeList=t.length>0?t:this.gwNodeList,this.gwNode=t.length>0?this.gwNodeList[0]:this.gwNode;var o=n===0?60:n;this.gwNodesTTL=o?new Date().getTime()+1e3*o:this.gwNodesTTL,t.length>0&&this.streamCenter.updateCachedGwNodesList(this,!0,t,o)}},A.prototype.dispatchGwNodes=function(t,n){var o,s=this.streamId;this.streamCenter.testEnvironment==1&&(s="zegotest-"+this.streamCenter.appid+"-"+this.streamId),(o=this.signal)===null||o===void 0||o.dispatchGwNodes((0,h.getSeq)(),0,s,{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList},function(d,g,E){t&&t(E)},function(d,g){n&&n(d)})},A.prototype.onCreatePublishSessionSuccess=function(t){var n=this,o=Cl;this.logger.info(o+" "+this.streamId+" called");var s=[];if(t.turn_server){var d=t.turn_server.split(";");this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1;var g=this.stateCenter.settingConfig.getSetting("udp_max_fail_num");!isNaN(g)&&(this.streamCenter.maxUdpFailNum=g);var E=this.streamCenter,b=E.autoSwitchProtocol,S=E.maxUdpFailNum,l=E.udpFailNum;this.logger.info(o+"  autoToTcp: ".concat(b,", udpFailNum: ").concat(l,", maxUdpFailNum: ").concat(S,".")),b&&!this._turnToTcp&&l>=S&&(this.logger.info(o+" switch to tcp. "),this._turnToTcp=!0);var J=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);J&&(this.logger.info(o+" setting udp_or_tcp "+J),this._turnToTcp=J==="tcp");var he=void 0,_e=d.filter(function(ze){return ze.indexOf("udp")>-1}),Ce=d.filter(function(ze){return ze.indexOf("tcp")>-1});he=this._turnToTcp?Ce.length>0?Ce:_e.map(function(ze){return ze.replace("udp","tcp")}):_e,this.logger.info(o+" over tcp "+JSON.stringify(he)),s.push.apply(s,he)}t.stun_server&&s.push(t.stun_server);var Oe={iceTransportPolicy:"all",iceServers:[{urls:s,username:t.turn_username,credential:t.turn_auth_key}],encodedInsertableStreams:this.sideMediaConfig.isSEIStart};this.logger.info(o+" "+this.streamId+" username: "+t.turn_username),this.logger.info(o+" "+this.streamId+" credential: "+t.turn_auth_key),this.createOffer(Oe);var $e=performance.now();this.signal.registerPushCallback("CandidateInfoPush",this.sessionId,function(ze,Xe,et){if(n.compareSeqs("CandidateInfoPush",ze))var gt=setTimeout(function(){n.onRecvCandidateInfo(ze,Xe,et),clearTimeout(gt)},0)}),this.signal.registerPushCallback("CloseSessionPush",this.sessionId,function(ze,Xe,et){if($e){var gt=(performance.now()-$e).toFixed(0);$e=void 0,n.logger.info(o+" ".concat(n.streamId,", cmd: CloseSessionPush, cost_time: ").concat(gt))}et.reason===32&&(n.stateCenter._isMiniSdp=!1),n.onRecvCloseSession(ze,Xe,et)}),this.signal.registerPushCallback("MediaDescPush",this.sessionId,function(ze,Xe,et){return ro(n,void 0,void 0,function(){return no(this,function(gt){switch(gt.label){case 0:return this.compareSeqs("MediaDescPush",ze)?[4,this.onRecvMediaDescription(ze,Xe,et)]:[2];case 1:return gt.sent(),[2]}})})}),this.signal.registerPushCallback("SessionResetPush",this.sessionId,function(ze,Xe,et){n.onRecvResetSession(ze,Xe,et)}),this.signal.registerPushCallback("PublishEventPush",this.sessionId,function(ze,Xe,et){if(n.compareSeqs("PublishEventPush",ze)){if($e){var gt=(performance.now()-$e).toFixed(0);$e=void 0,n.logger.info(o+" ".concat(n.streamId,", cmd: PublishEventPush, cost_time: ").concat(gt))}n.onRecvPublishEvent(ze,Xe,et)}}),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,function(ze,Xe,et){n.compareSeqs("ClientInfoPush",ze)&&n.onRecvClientInfo(ze,Xe,et)}),this.signal.registerPushCallback("MediaDescUpdatePush",this.sessionId,function(ze,Xe,et){return ro(n,void 0,void 0,function(){return no(this,function(gt){switch(gt.label){case 0:return this.compareSeqs("MediaDescUpdatePush",ze)?[4,this.onRecvUpdateMediaDescription(ze,Xe,et)]:[2];case 1:return gt.sent(),[2]}})})}),this.logger.info(o+" "+this.streamId+" call success")},A.prototype.compareSeqs=function(t,n){var o=this.pushCmdSeqMap[t],s=o.seq,d=o.time,g=performance.now();return s!==-1&&s>=n&&g-d<6e3?(this.logger.warn("zc.p.cps.0"+" ".concat(this.streamId,", push ").concat(t,", seq ").concat(n," local ").concat(JSON.stringify(this.pushCmdSeqMap[t]))),!1):(this.pushCmdSeqMap[t]={seq:n,time:g},!0)},A.prototype.createOffer=function(t){var n,o,s,d=this,g=Cl;this.peerConnection=new RTCPeerConnection(t),this.peerConnection.onicecandidate=function(_e){d.onIceCandidate(_e)},this.peerConnection.onsignalingstatechange=function(_e){d.onSignalStateChange(_e)},this.peerConnection.connectionState?this.peerConnection.onconnectionstatechange=function(_e){d.onConnectionStateChange(_e)}:this.logger.info("".concat(g," not support connectionState")),this.peerConnection.oniceconnectionstatechange=function(_e){d.onIceConnectionStateChange(_e)},this.streamCenter.isDataChannelEnabled&&(this.dataChannel=this.peerConnection.createDataChannel(this.streamId),this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=function(_e){d.logger.info(g+" "+d.streamId+" data channel open"),d.dataChannelState=1},this.dataChannel.onclose=function(_e){d.logger.error(g+" "+d.streamId+" data channel close ")});var E=[],b=[];if(this.lowStream&&this.lowStream.getVideoTracks().forEach(function(_e){var Ce,Oe=(Ce=d.peerConnection)===null||Ce===void 0?void 0:Ce.addTrack(_e,d.lowStream);d.sideMediaConfig.isSEIStart&&Oe&&typeof Oe.createEncodedStreams=="function"&&d.createVideoSenderTransform(Oe,!0)}),this.localStream){if(this.localStream.getTracks().forEach(function(_e){var Ce,Oe=(Ce=d.peerConnection)===null||Ce===void 0?void 0:Ce.addTrack(_e,d.localStream);d.sideMediaConfig.isSEIStart&&Oe&&typeof Oe.createEncodedStreams=="function"&&(_e.kind==="video"?d.createVideoSenderTransform(Oe):_e.kind==="audio"&&d.createAudioSenderTransform(Oe),gi(_e,d.logger,g))}),!(!((n=this.previewer)===null||n===void 0)&&n.videoTrack)&&this.sideMediaConfig.isSEIStart){this.videoInfo.bitRate||(this.videoInfo.bitRate=50);var S=this.sideMediaConfig.track=this.addCanvasStreamVideoTrack(),l=this.peerConnection.addTrack(S,this.localStream);l&&S.kind=="video"&&typeof l.createEncodedStreams=="function"&&this.createVideoSenderTransform(l)}!((o=this.previewer)===null||o===void 0)&&o.videoTrack&&(E=[(s=this.previewer)===null||s===void 0?void 0:s.videoTrack]),b=this.localStream.getAudioTracks(),E.length>0&&this.logger.info(g+" "+this.streamId+" video device: "+E[0].label),b.length>0&&this.logger.info(g+" "+this.streamId+" audio device: "+b[0].label)}var J={offerToReceiveAudio:b.length>0?1:0,offerToReceiveVideo:E.length>0?1:0};this.publishOption.enableDTX===!0&&(J.voiceActivityDetection=!0),this.logger.info(g+" "+this.streamId+" createOffer: "+JSON.stringify(J));var he=this.getSpan(qt,this.parentSpanKey);this.peerConnection.createOffer(J).then(function(_e){he.setAttributes({sdp:Wt(_e.sdp),is_mini:rn(d.stateCenter.isMiniSdp)}),he.end(),d.onCreateOfferSuccess(_e)},function(_e){d.logger.error(g+" "+d.streamId+" create offer error "+_e.toString()),d.stateCenter.reporter.setError(he,{code:Cn.error.kCreateOfferError.code,message:_e.toString()}),d.publishStateUpdateError(Cn.error.kCreateOfferError,!0)})},A.prototype.sendSEI=function(t){var n,o;if(this.videoCodec!=="H264")return this.logger.error(cA+" code not support"),!1;if(!this.sideMediaConfig.isSEIStart)return this.logger.error(cA+" not enable to send sei"),!1;var s=(n=this.peerConnection)===null||n===void 0?void 0:n.getSenders().filter(function(d){return d.track&&d.track.kind==="video"});return s&&typeof((o=s[0])===null||o===void 0?void 0:o.createEncodedStreams)!="function"?(this.logger.error(cA+" browser not support"),!1):this.sideMediaConfig.SEIType==zt.UserUnregister&&t.byteLength<=16?(this.logger.error(cA+" inData size should greater than 16"),!1):this.mediaSideInfos.length>=10?(this.logger.error(cA+" side info count limit"),!1):(this.mediaSideInfos.push(t.buffer),this.lowStream&&this.lowMediaSideInfos.push(t.buffer),!0)},A.prototype.createAudioSenderTransform=function(t){var n=t.createEncodedStreams(),o=new TransformStream({transform:this.encodeAudioFrame});n.readable.pipeThrough(o).pipeTo(n.writable)},A.prototype.encodeAudioFrame=function(t,n){n.enqueue(t)},A.prototype.createVideoSenderTransform=function(t,n){n===void 0&&(n=!1);var o=t.createEncodedStreams(),s=new TransformStream({transform:n?this.encodeLowVideoFrame:this.encodeVideoFrame});o.readable.pipeThrough(s).pipeTo(o.writable)},A.prototype.encodeSEINalu=function(t){var n=t.byteLength,o=parseInt(n/255),s=n%255,d=new ArrayBuffer(1+(o+1)+n+1),g=new DataView(d),E=0;g.setUint8(E++,this.sideMediaConfig.SEIType===zt.UserUnregister?5:243);for(var b=0;b<o;b++)g.setUint8(E++,255);g.setUint8(E++,s);var S=new DataView(t);for(b=0;b<(t==null?void 0:t.byteLength);b++)g.setInt8(E++,S.getInt8(b));g.setInt8(E++,128);var l=new Uint8Array(d),J=l;return this.stateCenter.seiConfig.emulationPreventionByte&&(J=function(he){for(var _e=[],Ce=he.length,Oe=0,$e=0;$e<Ce;++$e){var ze=he[$e];ze<=3&&Oe>=2&&(_e.push(3),Oe=0),_e.push(he[$e]),ze==0?++Oe:Oe=0}var Xe=new Uint8Array(_e);return{output:Xe,outLength:Xe.length}}(l).output),{rbspView:J,ebspLength:J.length}},A.prototype.encodeFrame=function(t,n,o){var s=o?this.lowMediaSideInfos:this.mediaSideInfos;if(s.length>0){for(var d=new DataView(t.data),g=[],E=0,b=0;b<s.length;b++){var S=this.encodeSEINalu(s[b]);E+=5+(_t=S.ebspLength),g.push(S)}o?this.lowMediaSideInfos=[]:this.mediaSideInfos=[];for(var l=new ArrayBuffer(E+t.data.byteLength),J=new DataView(l),he=0,_e=new cg(d),Ce=0,Oe=!1,$e=!1;_e.NextNalu();){var ze=31&d.getUint8(_e.nalu_start+_e.start_code_size);if(ze==7)Oe=!0,Ce+=_e.nalu_size;else if(ze==8)$e=!0,Ce+=_e.nalu_size;else if(ze==9)continue;if(Oe&&$e)break}for(var Xe=0;Xe<Ce;Xe++)J.setInt8(he++,d.getInt8(Xe));for(b=0;b<g.length;b++){var et=g[b],gt=et.rbspView,_t=et.ebspLength;J.setUint8(he++,0),J.setUint8(he++,0),J.setUint8(he++,0),J.setUint8(he++,1),J.setUint8(he++,6);for(var Bt=0;Bt<_t;Bt++)J.setInt8(he++,gt[Bt-0])}for(Xe=Ce;Xe<t.data.byteLength;Xe++)J.setInt8(he++,d.getInt8(Xe));t.data=l}n.enqueue(t)},A.prototype.encodeFrameAudioOnly=function(t,n,o){var s=o?this.lowMediaSideInfos:this.mediaSideInfos,d=0;t.type==="key"&&(d=Su.length+_u.length);var g=0,E=[];if(s.length>0){for(var b=0;b<s.length;b++){var S=this.encodeSEINalu(s[b]);g+=5+(ze=S.ebspLength),E.push(S)}o?this.lowMediaSideInfos=[]:this.mediaSideInfos=[]}var l=new ArrayBuffer(g+d),J=new DataView(l),he=0;if(t.type==="key")for(var _e=new DataView(Su.buffer),Ce=0;Ce<Su.length;Ce++)J.setInt8(he++,_e.getInt8(Ce));for(b=0;b<E.length;b++){var Oe=E[b],$e=Oe.rbspView,ze=Oe.ebspLength;J.setUint8(he++,0),J.setUint8(he++,0),J.setUint8(he++,0),J.setUint8(he++,1),J.setUint8(he++,6);for(var Xe=0;Xe<ze;Xe++)J.setInt8(he++,$e[Xe-0])}if(t.type==="key"){var et=new DataView(_u.buffer);for(Ce=0;Ce<_u.length;Ce++)J.setInt8(he++,et.getInt8(Ce))}t.data=l,n.enqueue(t)},A.prototype.onCreateOfferSuccess=function(t,n,o,s){var d,g=this;n&&(this.isUpdateSDP=!0,s&&(this.updateSDPCallBack=s)),this.localStream&&this.localStream.getTracks().forEach(function(et){gi(et,g.logger,sA)}),this.videoInfo.bitRate>0&&(t.sdp=this.updateBandwidthRestriction(t.sdp,this.videoInfo.bitRate)),t.sdp=t.sdp.replace(/sendrecv/g,"sendonly");var E=t.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)?t.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)[0]:null;if(E){var b=E.replace(/sendonly/,"sendrecv");t.sdp=t.sdp.replace(E,b)}var S=[];isNaN(this.videoInfo.audioBitrate)||S.push("maxaveragebitrate="+this.videoInfo.audioBitrate);var l=/stereo=\d+/,J=t.sdp.match(l),he="stereo="+(this.videoInfo.channelCount===2?1:0);if(J&&J[0]?t.sdp=t.sdp.replace(l,he):S.push(he),this.publishOption.enableDTX===!0){var _e=/usedtx=\d+/,Ce=t.sdp.match(_e),Oe="usedtx="+(this.publishOption.enableDTX?1:0);Ce&&Ce[0]?t.sdp=t.sdp.replace(_e,Oe):S.push(Oe)}var $e=/useinbandfec=\d+/,ze=t.sdp.match($e);ze&&ze[0]&&S.push(ze[0]),t.sdp=t.sdp.replace($e,S.join(";")),this.localSdpOrder=t.sdp.match(/m=(.\w*)\s/g)||[],this.logger.info(sA+" "+this.streamId+" local sdp revert "+this.localSdpOrder.join("")),t.sdp=cs.getSDPByVideDecodeType(t.sdp,this.videoCodec),this.logger.info(sA+" "+this.streamId+" localSdp1 "+t.sdp.substr(0,t.sdp.length/2)),this.logger.info(sA+" "+this.streamId+" localSdp2 "+t.sdp.substr(t.sdp.length/2));var Xe=this.getSpan(Yr,this.parentSpanKey);Xe.setAttributes({sdp:an(t.sdp),is_mini:Er(this.stateCenter.isMiniSdp)}),(d=this.peerConnection)===null||d===void 0||d.setLocalDescription(t).then(function(){return ro(g,void 0,void 0,function(){return no(this,function(et){switch(et.label){case 0:return Xe.end(),[4,this.onSetLocalDescriptionSuccess(t,o)];case 1:return et.sent(),[2]}})})},function(et){g.logger.error(sA+" "+g.streamId+" error "+et.toString()),g.stateCenter.reporter.setError(Xe,{code:Cn.error.kSetLocalDescError.code,message:et.toString()}),g.publishStateUpdateError(Cn.error.kSetLocalDescError,!0)})},A.prototype.updateBandwidthRestriction=function(t,n){var o="AS";return this.stateCenter.browser==="firefox"&&(n=1e3*(n>>>0),o="TIAS"),t=t.indexOf("b="+o+":")===-1?t.replace(/(m=video.*\r\nc=IN.*\r\n)/g,"$1b="+o+":"+n+`\r
`):(t=t.replace(new RegExp("b="+o+`:.*\r
`,"g"),"b="+o+":"+n+`\r
`)).replace("b="+o+":"+n+`\r
`,"")},A.prototype.onSetLocalDescriptionSuccess=function(t,n){var o,s,d,g;return ro(this,void 0,void 0,function(){var E,b,S,l,J,he,_e,Ce,Oe,$e,ze,Xe,et=this;return no(this,function(gt){return this.logger.info(gs+" "+this.streamId+" success"),this.localStream&&this.localStream.getTracks().forEach(function(_t){gi(_t,et.logger,gs)}),!this.isUpdateSDP&&(this.state=F),n&&(this.videoInfo=ba(ba({},this.videoInfo),n)),E=!1,b=(o=this.previewer)===null||o===void 0?void 0:o.previewType,S=this.stateCenter.settingConfig,b==="camera"?E=S.getSetting("camera_hard_encode"):b==="screen"?E=S.getSetting("hardware_encode"):b==="custom"&&(E=S.getSetting("custom_hard_encode")),l=!E,this.logger.info(gs+" "+this.streamId+" ".concat((s=this.previewer)===null||s===void 0?void 0:s.previewType," software encode: ").concat(l,", ")),J=cs.getSDPByVideDecodeType(t.sdp,this.videoCodec,l,this.stateCenter.engineConfig.encodecSelectionMode),he=(d=this.previewer.videoTrack)===null||d===void 0?void 0:d.getSettings(),_e=(he==null?void 0:he.width)||this.videoInfo.width,Ce=(he==null?void 0:he.height)||this.videoInfo.height,Oe=(he==null?void 0:he.frameRate)||this.videoInfo.frameRate,$e={sdp:J,width:isNaN(_e)?100:_e,height:isNaN(Ce)?100:Ce,frameRate:isNaN(Oe)?15:Oe,video_min_kpbs:this.videoInfo.bitRate,video_max_kpbs:this.videoInfo.bitRate,audio_kpbs:48,keyframe_intv:Math.floor(((g=this.videoInfo)===null||g===void 0?void 0:g.keyFrameInterval)||2),paramsExt:this.paramsExt},this.offerSeq=(0,h.getSeq)(),this.isUpdateSDP?(this.logger.info(gs+" "+this.streamId+" update sdp"),ze=ba(ba({},$e),{seq:this.sessionSeq,peerID:this.peerID,type:0}),this.signal.sendMediaDescUpdateReq(this.offerSeq,this.sessionId,ze,function(_t,Bt,ut){(ut==null?void 0:ut.result)==0&&(ut!=null&&ut.sdp)&&et.onGetRemoteOfferSuccess(ut==null?void 0:ut.sdp)},function(_t,Bt){et.logger.error(gs+" "+et.streamId+" update sdp failed"),et.updateSDPCallBack&&et.updateSDPCallBack(-1),et.publishStateUpdateError(_t==1?Cn.error.kUpdateMediaDescriptionTimeOut:Cn.error.kUpdateMediaDescriptionError)}),[2]):this.isPeer?(this.createSession(t,J),[2]):(Xe=this.getSpan(Lc,this.parentSpanKey),this.signal.sendMediaDesc(this.offerSeq,this.sessionId,0,$e,function(_t,Bt,ut){Xe.setAttributes({webrtc_sid:Oc(Bt),mediaDescription:{width:$e.width,height:$e.height,frameRate:$e.frameRate,video_min_kpbs:$e.video_min_kpbs,video_max_kpbs:$e.video_max_kpbs,audio_kpbs:$e.audio_kpbs,keyframe_intv:$e.keyframe_intv},sdp:$e.sdp}),Xe.end(),et.offerSeq==_t&&et.sessionId==Bt?(et.logger.info(gs+" "+et.streamId+" send success stateNego:waiterAnswer"),et.stateNego=Et.waiterAnswer,et.state=V,typeof(ut==null?void 0:ut.sdp)=="string"&&(ut!=null&&ut.sdp)&&et.onGetRemoteOfferSuccess(ut.sdp,!0)):et.logger.error(gs+" "+et.streamId+" seq or sessionId is not equal")},function(_t,Bt){et.stateCenter.reporter.setError(Xe,{code:Cn.error.kMediaDescError.code,message:_t.toString()}),et.publishStateUpdateError(Cn.error.kMediaDescError)}),this.logger.info(gs+" "+this.streamId+" call success"),[2])})})},A.prototype.onRecvUpdateMediaDescription=function(t,n,o){return ro(this,void 0,void 0,function(){var s,d,g;return no(this,function(E){switch(E.label){case 0:if(this.logger.info($c+" "+this.streamId+" received"),this.logger.info($c+" "+this.streamId+" received stateNego:waitingCandidate"),this.signal.sendUpdateMediaDescAck(t,this.sessionId,0,this.peerID),s=o.sdp,!this.stateCenter.isMiniSdp||!s)return[3,4];E.label=1;case 1:return E.trys.push([1,3,,4]),[4,this.signal.webrtcCenterSvr.parseRecSdp(s,!0)];case 2:return d=E.sent(),[3,4];case 3:return g=E.sent(),this.logger.info($c+" "+this.streamId+" parse sdp err "+JSON.stringify(g)),[3,4];case 4:return d=d||o.sdp,o.type==1?this.onGetRemoteOfferSuccess(d):this.publishStateUpdateError(Cn.error.kMediaDescError),[2]}})})},A.prototype.onRecvMediaDescription=function(t,n,o){return ro(this,void 0,void 0,function(){var s,d,g,E;return no(this,function(b){switch(b.label){case 0:if(this.logger.info(rc+" "+this.streamId+" received"),s=o.sdp,!this.stateCenter.isMiniSdp||!s)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this.signal.webrtcCenterSvr.parseRecSdp(s,!0)];case 2:return d=b.sent(),[3,4];case 3:return g=b.sent(),this.logger.info(rc+" "+this.streamId+" parse sdp err "+JSON.stringify(g)),[3,4];case 4:return d=d||o.sdp,(E=this.getSpan(ts,this.parentSpanKey)).setAttributes({sdp:FA(o.sdp),is_mini:Ya(this.stateCenter.isMiniSdp)}),E.end(),this.state!=V?(this.logger.info(rc+" "+this.streamId+" current state "+this.state+" not allowed"),[2]):(this.stateNego=Et.waitingCandidate,this.logger.info(rc+" "+this.streamId+" received stateNego:waitingCandidate"),this.signal.sendMediaDescAck(t,this.sessionId,0),o.type==1?this.onGetRemoteOfferSuccess(d):this.publishStateUpdateError(Cn.error.kMediaDescError),[2])}})})},A.prototype.getVideoSenders=function(){var t;return(t=this.peerConnection)===null||t===void 0?void 0:t.getSenders().filter(function(n){return n.track&&n.track.kind==="video"})},A.prototype.canSetBandWidthBySender=function(){var t=this.stateCenter.browserInfo.name.toLowerCase(),n=function(o){return typeof o!="string"?0:Number(o.split(".")[0])||0}(this.stateCenter.browserInfo.version);return(t==="chrome"||t==="safari"||t==="firefox"&&n>=64)&&"RTCRtpSender"in window&&"setParameters"in window.RTCRtpSender.prototype},A.prototype.setBandwidth=function(t,n){return n===void 0&&(n=""),ro(this,void 0,void 0,function(){var o=this;return no(this,function(s){return[2,new Promise(function(d){var g,E=function(S){o.logger.info("zc.p.sbw set band width by sdp.");var l="AS";return o.stateCenter.browser==="firefox"&&(t=1e3*(t>>>0),l="TIAS"),S=/b=AS.*(\r\n|\n)/.test(S)?S.replace(/AS:(\d+)/,l+":"+t):S.replace(/m=video.*(\r\n|\n)c=.*(\r\n|\n)/,"$&b=".concat(l,":").concat(t,`
`))},b=(g=o.getVideoSenders())===null||g===void 0?void 0:g.filter(function(S){var l,J;return((l=S.track)===null||l===void 0?void 0:l.id)!==((J=o.lowStream)===null||J===void 0?void 0:J.getVideoTracks()[0].id)});o.canSetBandWidthBySender()&&(b!=null&&b.length)?(o.logger.info("zc.p.sbw set band width by sender parameter."),b==null||b.forEach(function(S){return ro(o,void 0,void 0,function(){var l,J,he,_e,Ce=this;return no(this,function(Oe){return(l=S.getParameters()).encodings||(l.encodings=[{}]),J=1e3*t,he=l.encodings[0].maxBitrate,_e=JSON.stringify(l.encodings[0]),l.encodings[0].maxBitrate=J,S.setParameters(l).then(function(){Ce.logger.info("zc.p.sbw update maxBitrate success. origin: ".concat(he,", new: ").concat(J," , ").concat(_e,",").concat(S.getParameters().encodings[0]," ")),d(n)}).catch(function($e){Ce.logger.warn("zc.p.sbw set band width by sender parameter fail, fall back to sdp parse."+$e),n&&(n=E(n)),d(n)}),[2]})})})):(n&&(n=E(n)),d(n))})]})})},A.prototype.onGetRemoteOfferSuccess=function(t,n){var o,s;return n===void 0&&(n=!1),ro(this,void 0,void 0,function(){var d,g,E,b,S,l,J,he,_e,Ce,Oe,$e,ze,Xe,et,gt,_t,Bt,ut,Ct,wt=this;return no(this,function(Pt){switch(Pt.label){case 0:if(this.videoInfo.audioBitrate&&this.videoInfo.audioBitrate!==48e3&&(t=t.replace(/maxaveragebitrate=(\d+)/,"maxaveragebitrate="+this.videoInfo.audioBitrate)),this.remoteSdpOrder=t.match(/m=(.\w*)\s/g)||[],this.logger.info(Jo+" "+this.streamId+" sdp revert "+this.remoteSdpOrder.join("")),this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1,d=this.stateCenter.settingConfig.getSetting("udp_max_fail_num"),!isNaN(d)&&(this.streamCenter.maxUdpFailNum=d),b=(g=this.streamCenter).maxUdpFailNum,S=g.udpFailNum,this.logger.info("zp.oro.0  autoToTcp: ".concat(E=g.autoSwitchProtocol,", udpFailNum: ").concat(S,", maxUdpFailNum: ").concat(b,".")),E&&!this._turnToTcp&&S>=b&&(this.logger.info("zp.oro.0 switch to tcp."),this._turnToTcp=!0),(l=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0))&&(this.logger.info("zp.oro.0 setting udp_or_tcp "+l),this._turnToTcp=l==="tcp"),this._turnToTcp&&((o=t.match(/candidate.*/g))===null||o===void 0||o.forEach(function(sr){var or=sr.replace(/udp/,"tcp");or.includes(" tcptype ")||(or=or.replace(" typ host "," typ host tcptype passive ")),t=t.replace(sr,or)})),this.logger.info("zp.oro.0 "+this.streamId+" sdp revert "+this.localSdpOrder.join("")+" "+this.remoteSdpOrder.join("")),this.localSdpOrder.join()!==this.remoteSdpOrder.join()&&this.localSdpOrder.length==this.remoteSdpOrder.length&&(J=new RegExp("[\\s\\S]*"+this.remoteSdpOrder[0]).exec(t)[0].replace(this.remoteSdpOrder[0],""),he=[],_e="",this.localSdpOrder.forEach(function(sr){var or=wt.remoteSdpOrder.findIndex(function(br){return br==sr}),yr=new RegExp(sr+"[\\s\\S]*"+(wt.remoteSdpOrder[or+1]||"")).exec(t)[0].replace(wt.remoteSdpOrder[or+1],""),Fr=/a=mid:(\w)/.exec(yr)[1];he.push(Fr),_e+=yr||""}),t=J.replace(/a=group:BUNDLE.*/,"a=group:BUNDLE "+he.join(" "))+_e,this.localSdpOrder=[],this.remoteSdpOrder=[]),Ce=t.match(/m=video(.|\r|\n)*a=rtpmap(.|\r|\n)*(a=fmtp:(\d+).*)/),this.stateCenter.browser=="chrome"&&(Oe=0,$e=0,this.videoInfo.bitRate&&this.videoInfo.startBitrate==="target"&&(Oe=this.videoInfo.bitRate),this.videoInfo.minBitrate?$e=this.videoInfo.minBitrate:this.previewer.previewType==="screen"&&(ze=function(sr){var or=0,yr=sr.frameRate,Fr=sr.width*sr.height*(yr<=30?yr:30);return typeof Fr=="number"?(or=Fr<=3888e3?200:Fr<=6912e3?400:Fr<=15552e3?700:Fr<=27648e3?1e3:2e3)>sr.bitRate&&(or=sr.bitRate):or=parseInt(.6*sr.bitRate+""),{minBitrate:or,resolution:Fr}}(this.videoInfo),$e=ze.minBitrate,this.logger.info(Jo+" "+this.streamId+" resolution: ".concat(ze.resolution,", min bitrate: ").concat($e))),Xe=[],$e&&Xe.push("x-google-min-bitrate=".concat($e)),Oe&&Xe.push("x-google-start-bitrate=".concat(Oe)),Ce!==null&&Xe.length&&(et=Ce[3],gt="".concat(et,";").concat(Xe.join(";")),t=t.replace(et,gt))),!(this.videoInfo.bitRate>0))return[3,5];Pt.label=1;case 1:return Pt.trys.push([1,3,,4]),[4,this.setBandwidth(this.videoInfo.bitRate,t)];case 2:return t=Pt.sent(),[3,4];case 3:return _t=Pt.sent(),this.logger.error(Jo+JSON.stringify(_t)),[3,4];case 4:(Bt=this.getVideoSenders())==null||Bt.forEach(function(sr){var or,yr,Fr,br,Lr,xn;if(sr&&sr.getParameters&&sr.setParameters){var hn=sr.getParameters();if(hn.encodings&&hn.encodings.length!=0||(hn.encodings=[{}]),((or=sr.track)===null||or===void 0?void 0:or.id)==((yr=wt.lowStream)===null||yr===void 0?void 0:yr.getVideoTracks()[0].id)){var Mi=(Fr=wt.previewer)===null||Fr===void 0?void 0:Fr.lowStreamConfig.bitRate;Mi&&(hn.encodings[0].maxBitrate=1e3*Mi)}else{var ri=wt.lastPublishStats.frameWidth,wn=((Lr=(br=wt.previewer)===null||br===void 0?void 0:br.cameraMaxResolution)===null||Lr===void 0?void 0:Lr.maxWidth)||0,Gi=(xn=wt.previewer.videoTrack)===null||xn===void 0?void 0:xn.getSettings().width,pi=ri?Math.min(wn,ri):wn;if(wn&&Gi){var fo=Math.max(pi/Gi,1);hn.encodings[0].scaleResolutionDownBy=fo}}sr.setParameters(hn)}}),Pt.label=5;case 5:return this.logger.info(Jo+" "+this.streamId+" remoteSdp:",t),ut={type:"answer",sdp:t,toJSON:function(){}},(Ct=this.getSpan(Tn,this.parentSpanKey)).setAttributes({sdp:nn(ut.sdp),is_mini:qn(this.stateCenter.isMiniSdp),webrtc_sid:_n(this.sessionId)}),(s=this.peerConnection)===null||s===void 0||s.setRemoteDescription(new RTCSessionDescription(ut)).then(function(){wt.logger.info(Jo+" "+wt.streamId+" set success"),wt.localStream&&wt.localStream.getTracks().forEach(function(sr){gi(sr,wt.logger,Jo)}),Ct.end(),wt.stateNego==Et.iceConnected&&wt.updateSDPCallBack&&(wt.logger.info(Jo+" "+wt.streamId+" update sdp success"),wt.updateSDPCallBack(0),wt.updateSDPCallBack=void 0,wt.isUpdateSDP=!1)},function(sr){wt.logger.error(Jo+" "+wt.streamId+" failed: "+sr.toString()),Ct.setAttributes({error:Cn.error.kSetRemoteDescError.code,message:sr.toString()}),Ct.end(),wt.publishStateUpdateError(Cn.error.kSetRemoteDescError,!0)}),this.state=z,n&&t.indexOf("candidate")>-1&&(this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[],this.state=$),this.logger.info(Jo+" "+this.streamId+" call success"),[2]}})})},A.prototype.onIceConnectionStateChange=function(t){var n,o=this;if(this.state!=O&&this.peerConnection!=null){this.logger.info(ds+" "+this.streamId+" ice state: "+this.peerConnection.iceConnectionState);var s=this.getSpan(es,this.parentSpanKey,li.event);if(s.setAttributes({ice_state:bs(this.peerConnection.iceConnectionState)}),this.peerConnection.iceConnectionState==="connected"){if(this.logger.info(ds+" "+this.streamId+" connected state "+this.state+" ?"+((n=this.peerConnection)===null||n===void 0?void 0:n.connectionState)),this.reportBeginTime){var d=new Date().getTime()-this.reportBeginTime;this.reportSpan.setAttributes({publish_begin_time:ei.publish_begin_time(d)}),this.reportBeginTime=0}if(this.stateCenter.reporter.spanEnd({key:Wn,par:this.streamId},{webrtc_sid:this.sessionId}),this.stateNego=Et.iceConnected,this.answerSdpTime){var g=new Date().getTime()-this.answerSdpTime;this.logger.info(ds+" "+this.streamId+" ice time "+g)}this.isProbeDispatch=!1,this.logger.info(ds+" "+this.streamId+" stateNego:iceConnected"),this.negoTimer&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.iceDisconnectedTimer!=null&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.peerConnection.connectionState||(this.publishEvent?this.publishSuccess():(this.firstGetStatsTimer&&clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=null,this.firstGetStatsTimer=setTimeout(function(){var E;o.logger.info(ds+" get first stats state "+o.state),o.state!==L&&((E=o.peerConnection)===null||E===void 0||E.getStats().then(function(b){o.logger.info(ds+" get first stats suc"),b.size>0&&o.publishSuccess()}))},1e3)))}else this.peerConnection.iceConnectionState==="closed"?(s.end(),this.stateNego=Et.iceClosed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)):this.peerConnection.iceConnectionState==="failed"?(s.end(),this.stateNego=Et.iceFailed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState)):this.peerConnection.iceConnectionState==="disconnected"&&(s.end(),this.logger.warn(ds+" ice disconnected "),this.stateNego=Et.iceDisconnected,this.iceDisconnectedTimer||(this.iceDisconnectedTimer=setTimeout(function(){o.checkPublishConnectionFailedState("disconnected")},this.iceDisconnectedMaxTime)))}},A.prototype.onIceCandidate=function(t){var n;this.logger.info(Xc+" "+this.streamId+" candidate "+JSON.stringify(t.candidate)),t.candidate&&(((n=t.candidate.candidate)===null||n===void 0?void 0:n.indexOf("relay"))!=-1?(this.logger.info(Xc+" "+this.streamId+" candidate "+t.candidate.candidate+" state "+this.state),this.state<$||this.state==O?this.candidateInfo.push({candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex}):this.sendCandidateInfo([{candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex}])):this.logger.info(Xc+" "+this.streamId+" candidate not relay"))},A.prototype.sendCandidateInfo=function(t){var n=this;if(this.logger.info(AA+" "+this.streamId+" called"),!(t=t.filter(function(s){return s.candidate.indexOf("relay")>0}))||t.length<1)this.logger.info(AA+" "+this.streamId+" cancelled");else{var o=this.getSpan(Pc,this.parentSpanKey);o.setAttributes({candidate_info:xA(t)}),this.stateNego!==Et.iceConnected&&(this.stateNego=Et.sendCandidate),this.logger.info(AA+" "+this.streamId+" stateNego:sendCandidate"),this.signal.sendCandidateInfo((0,h.getSeq)(),this.sessionId,t,function(s,d,g){n.logger.info(AA+" "+n.streamId+" send success"),o.end()},function(s,d){n.logger.error(AA+" "+n.streamId+" failed to send: "+s.toString()),n.stateCenter.reporter.setError(o,{code:Cn.error.kCandidateError.code,message:s.toString()}),n.publishStateUpdateError(Cn.error.kCandidateError)})}},A.prototype.onConnectionStateChange=function(t){var n,o=(n=this.peerConnection)===null||n===void 0?void 0:n.connectionState;this.logger.info(ml+" "+this.streamId+" conn state: "+o),o==="connected"&&this.state!==L&&this.publishSuccess()},A.prototype.onSignalStateChange=function(t){this.logger.info(ml+" "+this.streamId+" signal state: "+t.target.signalingState),this.state!=O&&this.peerConnection!=null&&t.target.signalingState==="closed"&&(this.dataReport.addEvent(this.reportSeq,"IceClosed"),this.stateNego=Et.iceClosed,this.checkPublishConnectionFailedState(this.peerConnection.iceConnectionState))},A.prototype.onRecvCandidateInfo=function(t,n,o){var s,d=this;this.logger.info(aA+" "+this.streamId+" received "+JSON.stringify(o.infos));var g=this.getSpan(Fc,this.parentSpanKey);if(g.setAttributes({candidate_info:xc(o.infos)}),g.end(),this.state==z){this.signal.sendCandidateInfoAck(t,this.sessionId,0),this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[];for(var E=0;E<o.infos.length;E++){var b={sdpMid:o.infos[E].sdpMid,sdpMLineIndex:o.infos[E].sdpMLineIndex,candidate:o.infos[E].candidate};this.logger.debug(aA+""+this.streamId+" candidate "+b.candidate),(s=this.peerConnection)===null||s===void 0||s.addIceCandidate(new RTCIceCandidate(b)).then(function(){d.logger.info(aA+" "+d.streamId+" add success")},function(S){d.logger.error(aA+" "+d.streamId+" add error "+S.toString()),d.publishStateUpdateError(Cn.error.kCandidateError,!0)})}this.state=$,this.getSpan(Wn,this.parentSpanKey,"",!0).setAttributes({webrtc_sid:this.sessionId})}else this.logger.info(aA+" "+this.streamId+" current state "+this.state+" not allowed")},A.prototype.onRecvCloseSession=function(t,n,o){var s=this;this.logger.info(vl+" "+this.streamId+" "+JSON.stringify(o));var d=this.getSpan(ua,li.event);d.setAttributes({err_info:PA(o.err_info||""),reason_info:o==null?void 0:o.reason}),d.end(),this.stateCenter.reporter.spanSetAttributes({key:li.event,par:this.streamId},{denied_info:li.denied_info(o.err_info),stop_reason:li.stop_reason("DenyStop")}),this.signal.sendCloseSessionAck(t,this.sessionId,0);var g=o.err_info?JSON.parse(o.err_info.toLowerCase()):{},E=g.action?g.action:null,b=1*o.reason,S=JSON.parse(JSON.stringify(Cn.error.kPublishSessionClosedError));S.message+=" reason:".concat(b," ").concat(E?" action:"+E:""," ").concat(g!=null&&g.err?" err:"+(g==null?void 0:g.err):""),S.message+=";".concat(ug(b,E,g==null?void 0:g.err)),g.err===1011&&(S=Cn.error.kMediaServerForbidError),g.err===1014&&(S=Cn.error.kPublishTokenExpiredError),this.negoTimer&&clearTimeout(this.negoTimer);var l=!([4,8,10,11,12,14,18,24,26,27,28,32].includes(b)||[2,3,4,5,6].includes(E)),J=!1;if(!this._turnToTcp){if([8,10].includes(b)||[18,15].includes(b)&&E===2&&[3001,3002].includes(g.err)){this.streamCenter.udpFailNum++;var he=this.streamCenter;he.autoSwitchProtocol&&he.udpFailNum>=he.maxUdpFailNum&&(this.isPeer=!1,this.streamCenter.setIsPeer(!1),J=!0)}else this._turnToTcp||(this.streamCenter.udpFailNum=0);var _e=this.gwNodeList.findIndex(function(Oe){return Oe==s.gwNode})===this.gwNodeList.length-1,Ce=[3001,3002,3003,3004,3005,3006,3007,3008].includes(g.err);_e&&Ce&&(this.logger.info(vl+" "+this.streamId+" switch tcp by all fail"),this.stateCenter.turnToTcp=!0)}this.publishStateUpdateError(S,l,g,J)},A.prototype.onRecvResetSession=function(t,n,o){if(this.logger.info(Bl+" "+this.streamId+" received "),this.getSpan(Ja,li.event).end(),n==this.sessionId){this.signal.sendCloseSessionAck(t,this.sessionId,0);var s=Cn.error.kPublishSessionClosedError;this.negoTimer&&clearTimeout(this.negoTimer),this.publishStateUpdateError(s)}else this.logger.error(Bl+" "+this.streamId+" cannot find session")},A.prototype.onRecvPublishEvent=function(t,n,o){var s;this.logger.info("zc.p.0.orpe "+this.streamId+" received");var d=this.getSpan(Ln,this.parentSpanKey,li.event);d.setAttributes({event_state:Si(o.event),webrtc_sid:n}),d.end(),this.firstGetStatsTimer&&(clearTimeout(this.firstGetStatsTimer),this.firstGetStatsTimer=null);var g=(s=this.peerConnection)===null||s===void 0?void 0:s.connectionState;this.publishEvent=!0,(g?g==="connected":this.stateNego===Et.iceConnected)&&this.state!=L&&o.event==0&&this.publishSuccess()},A.prototype.onRecvClientInfo=function(t,n,o){this.stateCenter.clientIP!==o.clientip&&this.logger.warn(Il+" client ip changed "+this.stateCenter.clientIP+" "+o.clientip),this.signal.sendClientInfoAck(t,this.sessionId,0),this.stateCenter.clientIP=o.clientip,this.peerID=o.peer_id,this.streamConnectIP=o.clientip,this.stateCenter.isMultiOuter=this.isMultiOuter(),this.sideMediaConfig.isSEIStart&&this.sideMediaConfig.SEIType==zt.UserUnregister&&this.sideMediaConfig.unregisterSeiFilter&&this.sendSEIUUID();var s=this.previewer;if(s&&s.activateSEIConfig!==null){var d=s==null?void 0:s.activateSEIConfig;this.activateSEIInsert(d.action,d.infoType)}},A.prototype.sendSEIUUID=function(){var t=this;this.logger.info("zc.ssuid call: "+this.sideMediaConfig.unregisterSeiFilter),this.signal.gw.mediaStreamSEIUUIDReq((0,h.getSeq)(),this.sessionId,this.peerID,this.sideMediaConfig.unregisterSeiFilter).then(function(n){var o;t.logger.info("zc.ssuid success"),((o=n==null?void 0:n.usr_sei_filter)===null||o===void 0?void 0:o.result)==0&&(t.sideMediaConfig.uuidSend=!0)}).catch(function(n){t.logger.error("zc.ssuid failed")})},A.prototype.checkPublishConnectionFailedState=function(t){this.logger.info(ds+" streamID "+this.streamId," state "+this.state+" connectionState "+t),this.publishStateUpdateError(Cn.error.kMediaConnectionError)},A.prototype.getStopReason=function(t){var n="StopPublish";return t&&t.code&&(t.code===1103051?n="ReachMaxAVRetryTime":n="StopPublish"),n},A.prototype.stopPublish=function(t){var n;this.logger.info("zc.p.0.sp.1  .1 "+this.streamId+" called "+this.state+" "+JSON.stringify(t));var o=this.getStopReason(t);if(Object.keys(this.streamCenter.publisherList).length=1)for(var s in this.streamCenter.playerList){var d=this.streamCenter.playerList[s].player;d.state==K&&d.broadcasterStatus==Yt.start&&(this.signal&&this.signal.sendBroadcasterStatus((0,h.getSeq)(),d.sessionId,0),d.broadcasterStatus=Yt.stop)}this.sessionId&&!this.closeSessionSignal&&(this.signal.sendCloseSession((0,h.getSeq)(),this.sessionId,0),this.resetPushCmdSeqMap());var g=Date.now()-this.reportPublishStateTime;this.reportSpan.setAttributes({publish_state_time:ei.publish_state_time(g)}),this.stateCenter.reporter.spanSetAttributes({key:li.event,par:this.streamId},{stop_reason:li.stop_reason(o)}),this.uploadRTCPublishStats(),this.reportSpan.setAttributes({stream_id:ei.stream_id(this.streamId),webrtc_sid:ei.webrtc_sid(this.sessionId),probe_ip_cnt:ei.probe_ip_cnt(this.probeIpCnt),valid_probe_ip_cnt:ei.valid_probe_ip_cnt(this.validProbeIpCnt),poor_quality_retry_cnt:ei.poor_quality_retry_cnt(this.poorQualityRetryCnt),probe_not_trigger_retry_info:ei.probe_not_trigger_retry_info(this.probeNotRetryInfos.length>0?this.probeNotRetryInfos:void 0),bitrate:ei.bitrate(1e3*this.videoInfo.bitRate),h:ei.h(this.videoInfo.height),w:ei.w(this.videoInfo.width),cap_w:ei.w(this.videoInfo.width),cap_h:ei.h(this.videoInfo.height),fps:ei.h(this.videoInfo.frameRate),env:ei.env(this.stateCenter.testEnvironment?3:1),fail_cnt:ei.fail_cnt(Math.max(this.rtcPublishCount-1,0)),continuous_fail_cnt:ei.continuous_fail_cnt(this.continuousFailCnt),stop_reason:ei.stop_reason(o),error:(t==null?void 0:t.code)||0,message:(t==null?void 0:t.message)||""}),this.reportSpan.end(),this.streamCenter.stopToReport(0),this.retryFailGwNodes=[],this.resetPublish(),this.isRePublish=!1,this.rtcPublishCount=0,this.isProbeDispatch=!1,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.probeNotRetryInfos=[],this.continuousFailCnt=0,(n=this.zegoCaptureStream)===null||n===void 0||n.resetPublish()},A.prototype.uploadRTCPublishStats=function(){var t,n,o,s,d,g,E,b,S,l,J,he,_e,Ce;this.stateCenter.reporter.spanSetAttributes({key:li.event,par:this.streamId},{lsttime:li.lsttime(parseInt(this.lastPublishStats.time)),total_stat:li.total_stat({afc:(t=this.lastPublishStats)===null||t===void 0?void 0:t.audioPacketsSent,vfc:(n=this.lastPublishStats)===null||n===void 0?void 0:n.framesSent,tfc:((o=this.lastPublishStats)===null||o===void 0?void 0:o.audioPacketsSent)+((s=this.lastPublishStats)===null||s===void 0?void 0:s.framesSent),vb:(d=this.lastPublishStats)===null||d===void 0?void 0:d.videoBytesSent,ab:(g=this.lastPublishStats)===null||g===void 0?void 0:g.audioBytesSent,tb:((E=this.lastPublishStats)===null||E===void 0?void 0:E.videoBytesSent)+((b=this.lastPublishStats)===null||b===void 0?void 0:b.audioBytesSent),rtp_rtt:Math.round(1e3*((S=this.publishStat)===null||S===void 0?void 0:S.currentRoundTripTime))||0,w:(l=this.publishStat)===null||l===void 0?void 0:l.frameWidth,rtp_plr:(J=this.publishStat)===null||J===void 0?void 0:J.videoPacketsLostRate,h:(he=this.publishStat)===null||he===void 0?void 0:he.frameHeight,rtp_bw:!((_e=this.publishStat)===null||_e===void 0)&&_e.googAvailableSendBandwidth?(Ce=this.publishStat)===null||Ce===void 0?void 0:Ce.googAvailableSendBandwidth:void 0})})},A.prototype.onPublishStateUpdate=function(t,n,o,s,d,g){},A.prototype.onPublishQualityUpdate=function(t,n){},A.prototype.onDisconnect=function(t){this.logger.info(_l+" "+this.streamId+" call"),this.logger.info(_l+" "+this.streamId+" websocket disconnect"),this.publishStateUpdateError(t||fn.error.kWebsocketDisconnectedError,!!t)},A.prototype.publishSuccess=function(){var t,n,o,s,d=this;if(this.logger.info(tc+" call"),this._turnToTcp||(this.streamCenter.udpFailNum=0),this.isUpdateSDP&&this.updateSDPCallBack)return this.logger.info(tc+" "+this.streamId+" update sdp success"),this.updateSDPCallBack(0),this.updateSDPCallBack=void 0,void(this.isUpdateSDP=!1);var g=this.isRePublish?jn:Bn;for(var E in this.stateCenter.reporter.spanEnd({key:g.event,par:this.streamId},{url:Js.url((t=this.signal)===null||t===void 0?void 0:t.server),ip:Js.ip(this.ip),source_type:Js.source_type("rtc"),net_protocol:Js.net_protocol(this.netProtocol),is_center:Js.is_center((n=this.streamCenter.publisherList[this.streamId])===null||n===void 0?void 0:n.isCenterNode),signal_consume:Js.signal_consume(this.signalTime),is_peer:Js.is_peer(this.isPeer)}),this.state!=L&&this.onPublishStateUpdate(lr,this.streamId,{code:0,message:""},!0),this.isPeer&&(this.peerFailCount=0),this.state=L,this.continuousFailCnt=0,this.reportPublishStateTime=Date.now(),this.streamCenter.playerList){var b=this.streamCenter.playerList[E].player;b.state==K&&b.broadcasterStatus==Yt.stop&&(this.signal&&this.signal.sendBroadcasterStatus((0,h.getSeq)(),b.sessionId,1),b.broadcasterStatus=Yt.start)}var S=this.stateCenter.settingConfig.getSetting("probe_started_num");!isNaN(S)&&(this.streamCenter.probeStartedNum=S),this.qualityHandler.setPublishQualityTimer();var l=2,J=2,he=(o=this.previewer)===null||o===void 0?void 0:o.videoTrack,_e=this.localStream.getAudioTracks().length!==0&&this.localStream.getAudioTracks()[0];this.localStream&&this.localStream.getTracks().forEach(function(Ce){gi(Ce,d.logger,tc)}),(he&&he.readyState==="live"&&he.enabled===!0||!((s=this.previewer)===null||s===void 0)&&s.muteImage)&&(l=0),_e&&_e.readyState==="live"&&_e.enabled===!0&&(J=0),this.sendStreamStatus(l,J,!0),this.streamCenter.soundLevelDelegate&&this.previewer&&this.previewer.startSoundLevel(),this.logger.info(tc+" call success")},A.prototype.startSoundLevel=function(){var t;if(this.logger.info(ic+" call streamID: "+this.streamId),this.localStream&&this.localStream.getAudioTracks().length!=0)try{(t=this.previewer)===null||t===void 0||t.startSoundLevel()}catch(n){this.logger.error(ic+" "+this.streamId+" get sound level failed "+n)}else this.logger.info(ic+" "+this.streamId+" local stream no found")},A.prototype.stopSoundLevel=function(){var t;this.logger.info("zc.p.0.ssl.1 call streamID: "+this.streamId),(t=this.previewer)===null||t===void 0||t.stopSoundLevel()},A.prototype.handleEncBitrate=function(t,n,o){var s,d=this,g=1e3*this.videoInfo.bitRate,E=0;if(n>0){this.needIncMax||this.gotMax||(this.probeCount++,n>=.75*t?(this.probeCount>=10&&this.initFitCnt>=.6*this.probeCount&&(this.gotMax=!0,this.targetRate=g),this.initFitCnt++):this.probeCount>=10&&this.initFitCnt/this.probeCount<.3&&(this.needIncMax=!0));var b=rA(this.totalBitrateArray,n,10);this.needIncMax&&(b>=1.05*g?this.targetRate>g&&(this.targetRate-=b>t?b-t:b-g,this.targetRate=Math.max(this.targetRate,g),this.targetRate=Math.min(this.targetRate,2*g),E=this.targetRate):b<.8*g&&(this.targetRate===0&&(this.targetRate=t),this.targetRate=this.targetRate>=g?this.targetRate+.08*g:1.05*this.targetRate,this.targetRate=Math.min(this.targetRate,2*g),E=this.targetRate))}if(o>0&&o<g){var S=rA(this.totalRetransRateArray,o,5);this.needIncMax?S+n>1.05*g&&(this.targetRate-=S+n-g,this.targetRate=Math.max(this.targetRate,g-S),E=this.targetRate):E=this.targetRate-S}else this.targetRate<g&&(this.targetRate=g,E=this.targetRate);if(E>0){E=rA(this.totalTargetRateArray,E,5);var l=(s=this.peerConnection)===null||s===void 0?void 0:s.getSenders().filter(function(_e){return _e.track&&_e.track.kind==="video"});if(!l)return;var J=l.length>1?l[1]:l[0]?l[0]:null;if(!J)return;var he=J.getParameters();he.encodings||(he.encodings=[{}]),he.encodings[0].maxBitrate=E,J.setParameters(he).catch(function(_e){d.logger.error("zc.p.0.heb "+_e)})}},A.prototype.resetEncBitrate=function(){this.needIncMax=!1,this.probeCount=0,this.gotMax=!1,this.initFitCnt=0,this.targetRate=0,this.totalBitrateArray=[],this.totalTargetRateArray=[],this.totalRetransRateArray=[]},A.prototype.replacePublishedTrack=function(t,n,o){return{errorCode:-1,extendedData:"should install advanced module first"}},A.prototype.sendStreamStatus=function(t,n,o,s){var d=this;o===void 0&&(o=!1),s===void 0&&(s=0),(o||this.camera_status!==t||this.mic_status!==n)&&this.signal&&(this.camera_status=t,this.mic_status=n,s++,this.signal.sendStreamStatus((0,h.getSeq)(),this.sessionId,t,n,this.streamId,function(){d.camera_status===t&&d.mic_status===n&&s<=1&&d.sendStreamStatus(t,n,!0,s)}))},A.prototype.handleSEIVideoTrack=function(t){t=="add"&&this.sideMediaConfig.track?this.clearCanvasTimer():t!="remove"||this.sideMediaConfig.track||(this.sideMediaConfig.track=this.addCanvasStreamVideoTrack())},A.prototype.addCanvasStreamVideoTrack=function(){var t=this;this.canvas=Ia(16,16),this.ctx=this.canvas.getContext("2d"),this.canvasImage=new Image,this.canvasImage.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAFFJREFUOE9jZGBgaGBgYLBnYGBwYCANHGBgYDjIyMDAcIWBgUGbNL1w1VdBBvwnUzNY26gBo2EwjNLBfjJyIiz7HADlBVB2DiEjR15lYGBYAwAypRSY53SYoAAAAABJRU5ErkJggg==";var n=this.stateCenter.engineConfig.blankVideoTrackFrameInterval||100;return this.logger.info("zc.acsvt frame interval: "+n),this.canvasTimer=setInterval(function(){var o;(o=t.ctx)===null||o===void 0||o.drawImage(t.canvasImage,0,0,16,16)},n),this.canvas.captureStream().getVideoTracks()[0]},A.prototype.getSpan=function(t,n,o,s){return s===void 0&&(s=!1),this.stateCenter.reporter.createSpan(Zt.H,{key:n,bak_key:o,par:this.streamId},{key:t,par:this.streamId},t,s)},A.prototype.isMultiOuter=function(){return!(!this.stateCenter.accessClientIp||!this.streamConnectIP||this.stateCenter.accessClientIp===this.streamConnectIP)},A.prototype.isCustomCdn=function(){var t,n;return((t=this.publishOption)===null||t===void 0?void 0:t.cdnUrl)!==void 0&&((n=this.publishOption)===null||n===void 0?void 0:n.cdnUrl)!==""},A.prototype.setTurnTcp=function(){this._turnToTcp=this.stateCenter.turnToTcp,this.stateCenter.turnOverTcpOnly!==void 0&&(this._turnToTcp=this.stateCenter.turnOverTcpOnly)},A.prototype.setStreamAlignmentProperty=function(t){var n=this;return new Promise(function(o){n.signal.gw.streamPropertyUpdate((0,h.getSeq)(),n.sessionId,n.peerID,t).then(function(s){n.logger.info("zc.zsap succsess. ".concat(s)),n.mixConfig.alignment=t,o(!0)}).catch(function(s){n.logger.error("zc.zsap failed. ".concat(s)),o(!1)})})},A}(),jd=function(){this.publisherList={},this.playerList={},this.stopedPlayerList={}},bo=__webpack_require__(6348),wu=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Du=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Vd=function(){function A(t,n,o){this.logger=t,this.streamSignal=n,this.stateCenter=o,this.callbackMap={},this.pushCmdSeqs={}}return A.prototype.streamPropertyUpdate=function(t,n,o,s){return wu(this,void 0,void 0,function(){var d=this;return Du(this,function(g){return[2,new Promise(function(E,b){var S=bo.webrtc_cmd.WebrtcCmdReqMsg.encode({stream_property_update:{enable_stream_alignment_when_mix:s}}).finish();d.streamSignal.sendGWCmd(t,n,{peer_id:o,cmd_id:9},S,function(l,J,he){var _e=bo.webrtc_cmd.WebrtcCmdRspMsg.decode(he.body);_e.stream_property_update_ack?E(_e.stream_property_update_ack.result):b(_e)},function(l){b(l)})})]})})},A.prototype.mediaStreamSEIUUIDReq=function(t,n,o,s){return wu(this,void 0,void 0,function(){var d=this;return Du(this,function(g){return[2,new Promise(function(E,b){var S=bo.webrtc_cmd.WebrtcCmdReqMsg.encode({usr_sei_filter:{sei_filter:s}}).finish();d.streamSignal.sendGWCmd(t,n,{peer_id:o,cmd_id:5},S,function(l,J,he){var _e=bo.webrtc_cmd.WebrtcCmdRspMsg.decode(he.body);Je(_e[Object.keys(_e)[0]]),E(_e)},function(l){b(l)})})]})})},A.prototype.metadataAck=function(t,n,o){return wu(this,void 0,void 0,function(){var s;return Du(this,function(d){return s=bo.webrtc_cmd.WebrtcCmdRspMsg.encode({meta_data_ack:{result:1}}).finish(),this.streamSignal.sendGWAck(t,n,{peer_id:o,cmd_id:1},s),[2]})})},A.prototype.registerPushCallback=function(t,n,o){var s,d=this,g=this.callbackMap[n];g?g[t]=o:(this.callbackMap[n]=((s={})[t]=o,s),this.pushCmdSeqs[n]={},this.streamSignal.registerPushCallback("CmdPush",n,function(E,b,S){var l=performance.now();if(d.pushCmdSeqs[b][S.cmd_id]){var J=d.pushCmdSeqs[b][S.cmd_id],he=J.seq;if(he!==void 0&&he>=E&&l-J.time<6e3)return void d.logger.warn("zc.gs.rpc"+" ".concat(b," CdmPush order ").concat(t," ").concat(S.cmd_id," local: ").concat(he," seq ").concat(E))}d.pushCmdSeqs[b][S.cmd_id]={seq:E,time:l};var _e=d.stateCenter.useNetAgent?S.body:Ye(S.body),Ce=bo.webrtc_cmd.WebrtcCmdReqMsg.decode(_e),Oe=Object.keys(Ce)[0];Je(Ce[Oe=Oe||"meta_data_push"]);var $e=d.callbackMap[b];if($e){var ze=$e[Oe];ze&&ze(E,b,Ce)}}))},A.prototype.unregisterPushCallback=function(t,n){var o=this.callbackMap[n];o&&(delete o[t],Object.keys(o).length===0&&(this.streamSignal.unregisterPushCallback("CmdPush",n),delete this.callbackMap[n],delete this.pushCmdSeqs[n]))},A}();(function(A){A[A.Connected=0]="Connected",A[A.Disconnected=1]="Disconnected",A[A.Broken=2]="Broken"})($n||($n={})),function(A){A[A.AUTO=0]="AUTO",A[A.MANUAL=1]="MANUAL"}(Qu||(Qu={})),function(A){A[A.CONNECTING=0]="CONNECTING",A[A.OPEN=1]="OPEN",A[A.CLOSING=2]="CLOSING",A[A.CLOSED=3]="CLOSED"}(Ui||(Ui={}));var ku,dg=function(){function A(t,n,o,s,d){var g=this;this.server=t,this.netAgent=n,this.signalConfig=o,this.logger=s,this.stateCenter=d,this.readyState=Ui.CLOSED,this.isActive=!1,this.accessServerState=$n.Disconnected,this.originAccessServerState=$n.Disconnected,this.mediaServerState=$n.Disconnected,this.originMediaServerState=$n.Disconnected,this.eventHandler={accessDisconnect:function(){g.setAccessServerState($n.Disconnected)},accessConnect:function(){g.setAccessServerState($n.Connected)},accessBroken:function(){g.setAccessServerState($n.Broken)},mediaDisconnect:function(){g.setMediaServerState($n.Disconnected)},mediaConnect:function(E){g.setMediaServerState($n.Connected,E)},mediaBroken:function(){g.setMediaServerState($n.Broken)}},this.wsHandler=n.getPCRequest(t==="unified_rtc"?h.BusinessService.SERVICE_WEBRTC_SIGNAL:h.BusinessService.SERVICE_L3_WEBRTC_SIGNAL,{path:o.path,query:o.query,encode:o.encode,messageType:o.messageType,isMsgCache:!1}),this.setAccessServerState(n.isConnect()?$n.Connected:$n.Disconnected),this.setMediaServerState(this.wsHandler.connectState===0?$n.Connected:$n.Disconnected)}return A.prototype.updateAccessReadyState=function(){this.isActive&&this.accessServerState===$n.Connected&&this.mediaServerState!==$n.Connected?this.onreconnnecting&&this.onreconnnecting():this.accessServerState===$n.Disconnected&&this.logger.warn("zc.as.uars access timeout")},A.prototype.updateMediaReadyState=function(t){return this.logger.info("zc.as.umrs "+t),this.mediaServerState===$n.Connected?(this.originMediaServerState===$n.Broken&&t===Qu.AUTO&&this.onreconnnecting&&this.onreconnnecting(),void(this.readyState!==Ui.OPEN&&(this.readyState=Ui.OPEN,this.onopen&&this.onopen()))):this.mediaServerState===$n.Disconnected?(this.wsHandler.off("connected",this.eventHandler.mediaConnect),this.wsHandler.off("disconnected",this.eventHandler.mediaDisconnect),this.wsHandler.off("broken",this.eventHandler.mediaBroken),this.wsHandler.off("downLoadMessage"),this.netAgent.off("connected",this.eventHandler.accessConnect),this.netAgent.off("disconnected",this.eventHandler.accessDisconnect),this.netAgent.off("broken",this.eventHandler.accessBroken),void(this.readyState!==Ui.CLOSED&&(this.readyState=Ui.CLOSED,this.onclose&&this.onclose()))):void(this.mediaServerState===$n.Broken&&(this.readyState=Ui.CONNECTING,this.onerror&&this.onerror(new Event("signal connecting"))))},A.prototype.setMediaServerState=function(t,n){this.logger.info(Ll+" "+t+" "+n),this.mediaServerState!==t?(this.originMediaServerState=this.mediaServerState,this.mediaServerState=t,this.updateMediaReadyState(n)):this.logger.info(Ll+" same state")},A.prototype.setAccessServerState=function(t){this.logger.info(Ol+" "+t),this.accessServerState!==t?(this.originAccessServerState=this.accessServerState,this.accessServerState=t,this.updateAccessReadyState()):this.logger.info(Ol+" same state")},A.prototype.open=function(){var t=this;this.isActive=!0,this.logger.info("zc.as.op state "+this.mediaServerState),this.mediaServerState===$n.Disconnected&&(this.wsHandler.on("connected",this.eventHandler.mediaConnect),this.wsHandler.on("disconnected",this.eventHandler.mediaDisconnect),this.wsHandler.on("broken",this.eventHandler.mediaBroken),this.netAgent.on("connected",this.eventHandler.accessConnect),this.netAgent.on("disconnected",this.eventHandler.accessDisconnect),this.netAgent.on("broken",this.eventHandler.accessBroken),this.wsHandler.on("downLoadMessage",function(n,o){t.onmessage({data:n,extras:o})}),this.wsHandler.off("pcBrokenEvent"),this.wsHandler.on("pcBrokenEvent",function(n){var o=yo,s=t.stateCenter.reporter.createSpan(Zt.H,{key:ja},{key:""},o.event);s.setAttributes({service_no:o.service_no(n==null?void 0:n.service_no)}),s.end()}),this.wsHandler.off("pcDisconnectedEvent"),this.wsHandler.on("pcDisconnectedEvent",function(n){var o=jA,s=t.stateCenter.reporter.createSpan(Zt.H,{key:ja},{key:""},o.event);s.setAttributes({service_no:o.service_no(n==null?void 0:n.service_no)}),s.end()}),this.wsHandler.off("pcConnectedEvent"),this.wsHandler.on("pcConnectedEvent",function(n){var o=Va,s=t.stateCenter.reporter.createSpan(Zt.H,{key:ja},{key:""},o.event);s.setAttributes({service_no:o.service_no(n.service_no),recv_time:o.recv_time(new Date().getTime()),proxy_link_sources:o.proxy_link_sources(n.proxy_link_sources),connect_stream:o.connect_stream(n.connect_stream)}),s.end()}))},A.prototype.close=function(){this.logger.info("zc.as.c call"),this.isActive=!1,this.wsHandler.off("connected",this.eventHandler.mediaConnect),this.wsHandler.off("disconnected",this.eventHandler.mediaDisconnect),this.wsHandler.off("broken",this.eventHandler.mediaBroken),this.wsHandler.off("downLoadMessage"),this.netAgent.off("connected",this.eventHandler.accessConnect),this.netAgent.off("disconnected",this.eventHandler.accessDisconnect),this.netAgent.off("broken",this.eventHandler.accessBroken),this.wsHandler.closeRequest()},A.prototype.send=function(t,n,o,s){var d=this;this.wsHandler.sendRequest({payload:t,ack:n,isInSendMap:o},function(g){d.logger.info(Pl+" fail "+g),d.onerror&&d.onerror(g)},function(g){d.logger.info(Pl+" suc "+g)},s)},A.prototype.onopen=function(){},A.prototype.onclose=function(t){},A.prototype.onerror=function(t){},A.prototype.onmessage=function(t){},A.prototype.onreconnnecting=function(){},A}(),Ys=__webpack_require__(4212),Ru=__webpack_require__(6602);(function(A){A[A.LoginReq=1]="LoginReq",A[A.LoginRsp=2]="LoginRsp",A[A.CreateSessionReq=3]="CreateSessionReq",A[A.CreateSessionRsp=4]="CreateSessionRsp",A[A.CreateSessionWithSdpReq=5]="CreateSessionWithSdpReq",A[A.CreateSessionWithSdpRsp=6]="CreateSessionWithSdpRsp",A[A.SessionResetPush=7]="SessionResetPush",A[A.SessionResetAck=8]="SessionResetAck",A[A.PublishEventPush=9]="PublishEventPush",A[A.PlayEventPush=10]="PlayEventPush",A[A.MediaDescReq=11]="MediaDescReq",A[A.MediaDescRsp=12]="MediaDescRsp",A[A.CandidateInfoReq=13]="CandidateInfoReq",A[A.CandidateInfoRsp=14]="CandidateInfoRsp",A[A.CloseSessionReq=15]="CloseSessionReq",A[A.CloseSessionRsp=16]="CloseSessionRsp",A[A.MediaDescPush=17]="MediaDescPush",A[A.MediaDescAck=18]="MediaDescAck",A[A.CandidateInfoPush=19]="CandidateInfoPush",A[A.CandidateInfoAck=20]="CandidateInfoAck",A[A.CloseSessionPush=21]="CloseSessionPush",A[A.CloseSessionAck=22]="CloseSessionAck",A[A.StreamStatusNotify=23]="StreamStatusNotify",A[A.StreamStatusNotifyAck=24]="StreamStatusNotifyAck",A[A.StreamStatusNotifyPush=25]="StreamStatusNotifyPush",A[A.StreamStatusNotifyPushAck=26]="StreamStatusNotifyPushAck",A[A.BroadcasterStatusNotify=27]="BroadcasterStatusNotify",A[A.BroadcasterStatusAck=28]="BroadcasterStatusAck",A[A.ActivateAudioPlayStreamReq=29]="ActivateAudioPlayStreamReq",A[A.ActivateAudioPlayStreamRsp=30]="ActivateAudioPlayStreamRsp",A[A.ActivateVideoPlayStreamReq=31]="ActivateVideoPlayStreamReq",A[A.ActivateVideoPlayStreamRsp=32]="ActivateVideoPlayStreamRsp",A[A.ClientInfoPush=33]="ClientInfoPush",A[A.ClientInfoAck=34]="ClientInfoAck",A[A.NetQualityProbeReq=35]="NetQualityProbeReq",A[A.NetQualityProbeRsp=36]="NetQualityProbeRsp",A[A.NetQualityInfoPush=37]="NetQualityInfoPush",A[A.NetQualityInfoAck=38]="NetQualityInfoAck",A[A.ActivateSEIInsertReq=39]="ActivateSEIInsertReq",A[A.ActivateSEIInsertRsp=40]="ActivateSEIInsertRsp",A[A.Peer2PeerNetStatsGetReq=41]="Peer2PeerNetStatsGetReq",A[A.Peer2PeerNetStatsGetRsp=42]="Peer2PeerNetStatsGetRsp",A[A.CmdReq=43]="CmdReq",A[A.CmdRsp=44]="CmdRsp",A[A.CmdPush=45]="CmdPush",A[A.CmdAck=46]="CmdAck",A[A.WebRTCDispatchReq=47]="WebRTCDispatchReq",A[A.WebRTCDispatchRsp=48]="WebRTCDispatchRsp"})(ku||(ku={}));var hg={1:"LoginReq",2:"LoginRsp",3:"CreateSessionReq",4:"CreateSessionRsp",5:"CreateSessionWithSdpReq",6:"CreateSessionWithSdpRsp",7:"SessionResetPush",8:"SessionResetAck",9:"PublishEventPush",10:"PlayEventPush",11:"MediaDescReq",12:"MediaDescRsp",13:"CandidateInfoReq",14:"CandidateInfoRsp",15:"CloseSessionReq",16:"CloseSessionRsp",17:"MediaDescPush",18:"MediaDescAck",19:"CandidateInfoPush",20:"CandidateInfoAck",21:"CloseSessionPush",22:"CloseSessionAck",23:"StreamStatusNotify",24:"StreamStatusNotifyAck",25:"StreamStatusNotifyPush",26:"StreamStatusNotifyPushAck",27:"BroadcasterStatusNotify",28:"BroadcasterStatusAck",29:"ActivateAudioPlayStreamReq",30:"ActivateAudioPlayStreamRsp",31:"ActivateVideoPlayStreamReq",32:"ActivateVideoPlayStreamRsp",33:"ClientInfoPush",34:"ClientInfoAck",35:"NetQualityProbeReq",36:"NetQualityProbeRsp",37:"NetQualityInfoPush",38:"NetQualityInfoAck",39:"ActivateSEIInsertReq",40:"ActivateSEIInsertRsp",41:"Peer2PeerNetStatsGetReq",42:"Peer2PeerNetStatsGetRsp",43:"CmdReq",44:"CmdRsp",45:"CmdPush",46:"CmdAck",47:"WebRTCDispatchReq",48:"WebRTCDispatchRsp"},wo=function(){return wo=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},wo.apply(this,arguments)},pg=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},fg=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Wd=function(){function A(t,n,o){this.stateCenter=t,this.logger=n,this.isV2=!1,this.isV2=o}return A.prototype.mediaLogin=function(t,n){var o;if(this.isV2){var s={appid:this.stateCenter.appid,user_id:this.stateCenter.idName,token:t.token,tokenType:t.tokenType,sessions:t.sessions,roomid:t.roomid,sdk_version:this.stateCenter.sdkVerNum,app:n};this.logger.info("".concat("zc.wcs.ml"," LoginReq ").concat(JSON.stringify(s)," ")),o=this.encodePBBody("LoginReq",s)}else o=t;return o},A.prototype.createSession=function(t,n,o,s,d,g,E,b,S){var l;if(d===void 0&&(d=""),g===void 0&&(g=""),this.isV2){var J={type:n,stream_id:s,turn_server_host:typeof g=="string"?g:"",strAuthParam:d,params:E,area_type:S.type,area_id_list:S.areaList};this.stateCenter.isMultiRoom&&(J.roomid=b),this.logger.info("".concat("zc.wcs.cs.1"," ").concat(s," ").concat(t," ").concat(JSON.stringify(J)," ")),l=this.encodePBBody(t,J)}else{var he="";f.split(".").forEach(function(Ce,Oe){return he+=Ce.length==1&&Oe==1?"0"+Ce:Ce});var _e=this.stateCenter.browserInfo;l={type:n,stream_id:s,platform:navigator.platform,browser:_e.name,version:_e.version,app_id:this.stateCenter.appid+"",negotiate_mode:o,strAuthParam:d,sdk_version:1*he,turn_server_host:typeof g=="string"?g:"",params:E}}return l},A.prototype.createSessionWithSdp=function(t,n,o,s){var d=this,g=n.type,E=n.streamId,b=n.strAuthParam,S=n.sdp,l=n.serverHost,J=n.playBufLevel,he=n.params,_e=n.paramsExt,Ce=n.roomID,Oe=n.geo,$e=function(Xe){var et,gt,_t=((et=n.videoInfo)===null||et===void 0?void 0:et.keyFrameInterval)||2;if(d.isV2){var Bt=d.getParamsExt(_e,J,_t),ut={type:g,stream_id:E,media_server_host:typeof l=="string"?l:"",strAuthParam:b,params:he,params_ext:Bt,area_type:Oe.type,area_id_list:Oe.areaList};Xe?ut.mini_sdp=Xe:ut.sdp=S,d.stateCenter.isMultiRoom&&(ut.roomid=Ce),d.logger.info(hl+" "+E+" "+t+" params: "+JSON.stringify(wo(wo({},ut),{sdp:void 0,mini_sdp:void 0,params_ext:Bt.toString()}))),performance.now(),gt=d.encodePBBody(t,ut)}else{var Ct="";f.split(".").forEach(function(Pt,sr){return Ct+=Pt.length==1&&sr==1?"0"+Pt:Pt});var wt={type:g,app_id:d.stateCenter.appid+"",stream_id:E,sdp:Xe.length?Xe:S,user_id:d.stateCenter.idName,platform:navigator.platform,browser:d.stateCenter.browserInfo.name,sdk_vers:parseInt(Ct),clientIp:"",media_server_host:typeof l=="string"?l:"",strAuthParam:b,params:he,keyframe_intv:parseInt(_t)};J&&(wt.min_play_buf_level_ms=J),d.logger.info(hl+" "+E+" "+t+" params: "+JSON.stringify(wo(wo({},wt),{sdp:void 0}))),gt=wt}return gt};if(this.stateCenter.isMiniSdp&&S)this.getMiniSdp(S,!this.isV2).then(function(Xe){var et=$e(Xe);o(et)}).catch(function(){var Xe=$e();o(Xe)});else{var ze=$e();o(ze)}},A.prototype.getParamsExt=function(t,n,o){return n&&(t.min_play_buf_level_ms=n),o&&(t.keyframe_intv=o),this.logger.info("".concat("zc.wcs.gpe"," ").concat(JSON.stringify(t))),bo.webrtc_cmd.WebrtcCmdReqMsg.encode({peer_extend_param:t}).finish()},A.prototype.sendMediaDesc=function(t,n,o){return pg(this,void 0,void 0,function(){var s=this;return fg(this,function(d){return[2,new Promise(function(g,E){var b=function(l){var J,he=l||o.sdp;if(s.isV2){var _e=s.getParamsExt(o.paramsExt,o.min_play_buf_level_ms,o.keyframe_intv),Ce={type:n,update:0,params_ext:_e};l?Ce.mini_sdp=l:Ce.sdp=he,s.logger.info(pl+"  params: "+JSON.stringify(wo(wo({},Ce),{sdp:void 0}))),J=s.encodePBBody(t,Ce)}else{var Oe={type:n,sdp:he};o.width!=null&&(Oe.width=o.width),o.height!=null&&(Oe.height=o.height),o.frameRate!=null&&(Oe.framerate=o.frameRate),o.video_min_kpbs!=null&&(Oe.video_min_kpbs=o.video_min_kpbs),o.video_max_kpbs!=null&&(Oe.video_max_kpbs=o.video_max_kpbs),o.audio_kpbs!=null&&(Oe.audio_kpbs=o.audio_kpbs),o.keyframe_intv!=null&&(Oe.keyframe_intv=o.keyframe_intv),o.min_play_buf_level_ms!=null&&(Oe.min_play_buf_level_ms=o.min_play_buf_level_ms),s.logger.info(pl+"  params: "+JSON.stringify(wo(wo({},Oe),{sdp:void 0}))),J=Oe}return J};if(s.stateCenter.isMiniSdp&&o.sdp)s.getMiniSdp(o.sdp,!s.isV2).then(function(l){var J=b(l);g(J)}).catch(function(){var l=b();g(l)});else{var S=b();g(S)}})]})})},A.prototype.sendCandidateInfo=function(t,n){for(var o=[],s=0;s<n.length;s++)o.push({candidate:n[s].candidate,sdpMid:n[s].sdpMid,sdpMLineIndex:n[s].sdpMLineIndex});return this.getBodyData(t,{infos:o})},A.prototype.sendCloseSession=function(t,n){return this.getBodyData(t,{reason:n})},A.prototype.sendAckMessage=function(t,n){return this.getBodyData(t,{result:n})},A.prototype.sendActivatePlayStream=function(t,n,o){var s={active:n?0:1,layer:0};return this.logger.info(ll+" activate "+o+" "+JSON.stringify(s)),this.getBodyData(t,s)},A.prototype.sendMediaDescUpdateReq=function(t){return pg(this,void 0,void 0,function(){var n=this;return fg(this,function(o){return[2,new Promise(function(s,d){var g=t.peerID,E=t.type,b=t.sdp,S=t.width,l=t.height,J=t.frameRate,he=t.video_min_kpbs,_e=t.video_max_kpbs,Ce=t.audio_kpbs,Oe=t.keyframe_intv,$e=function(Xe){var et;if(n.isV2){var gt={type:E,update:1};Xe?gt.mini_sdp=Xe:gt.sdp=b,n.logger.info("zc.wcs.smdu "+JSON.stringify(gt)),et=n.encodePBBody("MediaDescReq",gt)}else et={peer_id:g,type:E,sdp:Xe||b,width:S,height:l,framerate:J,video_min_kpbs:he,video_max_kpbs:_e,audio_kpbs:Ce,keyframe_intv:Oe};return et};if(n.stateCenter.isMiniSdp&&b)n.getMiniSdp(b,!n.isV2).then(function(Xe){var et=$e(Xe);s(et)}).catch(function(){var Xe=$e();s(Xe)});else{var ze=$e();s(ze)}})]})})},A.prototype.getBodyData=function(t,n){return this.isV2?this.encodePBBody(t,n):n},A.prototype.getMiniSdp=function(t,n){var o=this;return this.logger.info("zc.s.gmsdp isMini: ".concat(this.stateCenter.isMiniSdp," sdp:").concat(t.length)),new Promise(function(s,d){var g;(g=o.stateCenter.streamCenter.miniSdpWorker)===null||g===void 0||g.parseToMiniSdp(t||"").then(function(E){var b,S;if(o.logger.info("zc.s.gmsdp parse sdp success buffer:".concat(E.byteLength)),!E||!E.byteLength)return o.stateCenter._isMiniSdp=!1,"";S=n?(b=qo(E))===null||b===void 0?void 0:b.trim():E,s(S)}).catch(function(E){o.logger.error("zc.s.gmsdp error:".concat(JSON.stringify(E))),o.stateCenter._isMiniSdp=!1,d(E)})})},A.prototype.parseRecSdp=function(t,n){var o=this;return this.logger.info("zc.s.prsdp isMini: ".concat(this.stateCenter.isMiniSdp," rSDP:").concat(t.length)),new Promise(function(s,d){var g,E=n?Ye(t):t;(g=o.stateCenter.streamCenter.miniSdpWorker)===null||g===void 0||g.loadMiniSdpToOriginSdp(E).then(function(b){o.logger.info("zc.s.prsdp parse minisdp success sdp:".concat(b.length)),s(b)}).catch(function(b){o.logger.error("zc.s.gmsdp error:".concat(JSON.stringify(b))),o.stateCenter._isMiniSdp=!1,d(t)})})},A.prototype.headerData=function(t){var n=ku[t.cmd];if(n!==void 0){var o=Ys.webrtc_proto_v2.Head.create({cmd:n,seq:t.seq,session_id:t.session_id});return Ys.webrtc_proto_v2.Head.encode(o).finish()}this.logger.error("zc.wmh.hd cmd not exist")},A.prototype.encodePBMsg=function(t,n,o){o===void 0&&(o=!0);var s=new Uint8Array(Array.from(this.getWebRTCHead(t.length,n.length)).concat(Array.from(t)).concat(Array.from(n))),d=Ru.generalpclib.Header.create({cmd:o?100:101}),g=Ru.generalpclib.Header.encode(d).finish(),E=new Uint8Array(8);E[0]=181,E[1]=0;var b=g.length,S=s.length;return E[2]=b>>8,E[3]=b-(E[2]<<8),E.set(new Uint8Array(Int32Array.from([S]).buffer).reverse(),4),new Uint8Array(Array.from(E).concat(Array.from(g)).concat(Array.from(s)))},A.prototype.getWebRTCHead=function(t,n){var o=new Uint8Array(7);return o[0]=17,o[1]=t>>8,o[2]=t-(o[1]<<8),o.set(new Uint8Array(Int32Array.from([n]).buffer).reverse(),3),o},A.prototype.encodePBBody=function(t,n){var o=Ys.webrtc_proto_v2[t].create(n),s=Ys.webrtc_proto_v2[t].encode(o).finish();return Ys.webrtc_proto_v2[t].decode(s),s},A.prototype.decodePBBody=function(t,n){var o=hg[t.cmd];if(o)return Ys.webrtc_proto_v2[o].decode(n);this.logger.info(Ac+" cmd is not rtc")},A.prototype.handlePushMsg=function(t,n){var o=t[0];if(o===181){var s=(t[2]<<8)+t[3],d=Ru.generalpclib.Header.decode(t.slice(8,8+s));if(d.cmd===101){var g=t.slice(8+s),E=g[0];if(E===17){var b=(g[1]<<8)+g[2],S=Ys.webrtc_proto_v2.Head.decode(g.slice(7,7+b)),l=g.slice(7+b);return{header:S,body:this.decodePBBody(S,l)}}this.logger.error(Ac+" webrtc tag error "+E)}else this.logger.error(Ac+" cmd error "+d.cmd)}else this.logger.error(Ac+" type error "+o)},A}(),wa=function(){return wa=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},wa.apply(this,arguments)},mA=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},EA=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Zd=["LoginReq","CreateSessionWithSdpReq","CreateSessionReq"],Nu=["Peer2PeerNetStatsGetReq","Peer2PeerNetStatsGetRsp"],Cg=function(){function A(t,n,o,s){s===void 0&&(s=!1),this.netAgent=o,this.useNetAgent=s,this.sendDataMap={},this.sendDataList=new tr,this.sendDataCheckOnceCount=100,this.signalSeq=0,this.pushCallback={},this.sessionInfos={},this.tryHeartbeatCount=0,this.heartbeatInterval=1e4,this.sendDataTimeout=5e3,this.sendDataDropTimeout=1e4,this.sendDataCheckTimer=null,this.sendDataCheckInterval=2e3,this.loginTimer=null,this.loginTimeout=1e4,this.successConnectedCallback=null,this.isNoAppConfig=!1,this.checkMessageList=["ActivateVideoPlayStreamReq","ActivateAudioPlayStreamReq","CreateSessionReq","CreateSessionWithSdpReq","ActivateSEIInsertReq","StreamStatusNotify","MediaDescUpdateReq"],this.tryConnectCount=1,this.tryConnectTimer=null,this.tryConnectInterval=3e3,this.state=Qe,this.tokenType=0,this.platform=navigator.platform,this.testStreamStatusMsgs=[],this.unCheckCmds=["LoginReq","CreateSessionReq","CreateSessionWithSdpReq"],this._websocket=null,this.negoInterval=25e3,this.negoTryCount=1,this.negoTryMaxCount=2,this.isV2=!0,this.logger=t,this.stateCenter=n,this.stateCenter.streamConnectTime&&(this.tryConnectInterval=this.stateCenter.streamConnectTime),this.isV2=!!this.stateCenter.useNetAgent,this.webrtcCenterSvr=new Wd(n,t,this.isV2),this.gw=new Vd(t,this,n)}return Object.defineProperty(A.prototype,"wsReadyState",{get:function(){var t;return(t=this.websocket)===null||t===void 0?void 0:t.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"websocket",{get:function(){return this._websocket},set:function(t){t===null&&this.useNetAgent||(this._websocket=t)},enumerable:!1,configurable:!0}),A.prototype.setSessionInfo=function(t,n){this.logger.debug("zc.s.ssi call"),this.appid=t+"",this.userid=n},A.prototype.onDisconnect=function(t,n){},A.prototype.onReConnect=function(t){},A.prototype.onUpdateHeartBeatInterval=function(t){},A.prototype.resetConnectTimer=function(){this.logger.info("zc.s.rct call"),clearTimeout(this.tryConnectTimer),this.tryConnectTimer=null,this.tryConnectCount=0},A.prototype.resetLoginTimer=function(){this.logger.info("zc.s.rlt call"),clearTimeout(this.loginTimer),this.loginTimer=null},A.prototype.handleWsPBMsg=function(t,n){var o=this.webrtcCenterSvr.handlePushMsg(t,n);if(o!=null&&o.header&&(o!=null&&o.body)){var s;return o&&(o.header.cmd=hg[o.header.cmd],Je(o.body),s={header:wa(wa({},o.header),{appid:this.appid,user_id:this.userid}),body:o.body}),s}this.logger.error("zc.s.dwpm no header or body")},A.prototype.handleWsMessage=function(t){var n;(n=this.isV2?this.handleWsPBMsg(t.data,t.extras):JSON.parse(t.data))!=null&&n.header&&n.header.appid==this.appid&&n.header.user_id===this.userid?(Nu.includes(n.header.cmd)||(this.logger.info(Yi+" signmsg= ",n.header.cmd),this.logger.info(Yi+" signmsg= "+JSON.stringify(n.header)+" "+JSON.stringify(wa(wa({},n.body),{mini_sdp:void 0})))),this.handleServerPush(n)):this.logger.warn(Yi+" check header failed")},A.prototype.bindWebSocketEvents=function(){var t=this;this.tryHeartbeatCount=0,this.tryConnectInterval=this.stateCenter.streamConnectTime?this.stateCenter.streamConnectTime:3e3,this.websocket&&(this.websocket.onclose=function(n){var o=n||{},s=o.reason,d=o.wasClean;if(t.logger.info(Yi+" close msg = ".concat(o.code,", ").concat(s,", ").concat(d)),t.state!=Qe){if(t.useNetAgent)return void t.disconnectCallback();t.successConnectedCallback=t.connectCallback,t.resetConnectTimer(),t.startConnectTimer(function(g){g===1008&&t.disconnectCallback(Hr)}),t.resetCheckMessage()}},this.websocket.onerror=function(n){var o=n||{},s=o.code,d=o.reason,g=o.wasClean;t.logger.info(Yi+" msg = ".concat(JSON.stringify(n),", ").concat(s,", ").concat(d,", ").concat(g))})},A.prototype.resetCheckMessage=function(){this.logger.info("zc.s.rcm call"),clearTimeout(this.sendDataCheckTimer),this.sendDataCheckTimer=null;for(var t=this.sendDataList.getFirst();t!=null;)this.sendDataList.remove(t),t._data.error&&t._data.error(2,t._data.seq),t=this.sendDataList.getFirst();this.sendDataMap={}},A.prototype.handleServerPush=function(t){switch(t.header.cmd){case"LoginRsp":this.handleRespondData("LoginReq",t);break;case"CreateSessionRsp":this.handleRespondData("CreateSessionReq",t),t.body.result===0&&this.addSession(t.header.session_id,t.body.session_token);break;case"CreateSessionWithSdpRsp":this.handleRespondData("CreateSessionWithSdpReq",t),t.body.result===0&&this.addSession(t.header.session_id,t.body.session_token);break;case"MediaDescRsp":this.handleRespondData("MediaDescReq",t);break;case"CandidateInfoRsp":this.handleRespondData("CandidateInfoReq",t);break;case"CloseSessionRsp":this.handleRespondData("CloseSessionReq",t),this.removeSession(t.header.session_id);break;case"ClientHBRsp":this.handleRespondData("ClientHBReq",t);break;case"MediaDescPush":case"CandidateInfoPush":case"StreamStatusNotifyPush":case"PublishEventPush":case"PlayEventPush":case"ClientInfoPush":case"NetQualityInfoPush":case"MediaDescUpdatePush":case"CmdPush":this.handlePushData(t);break;case"CloseSessionPush":this.handlePushData(t),this.removeSession(t.header.session_id);break;case"QualityReportRsp":this.handleRespondData("QualityReportReq",t);break;case"SessionResetPush":this.handlePushResetSessionData(t);break;case"ActivateVideoPlayStreamRsp":this.handleRespondData("ActivateVideoPlayStreamReq",t);break;case"ActivateAudioPlayStreamRsp":this.handleRespondData("ActivateAudioPlayStreamReq",t);break;case"NetQualityProbeRsp":this.handleRespondData("NetQualityProbeReq",t);break;case"ActivateSEIInsertRsp":this.handleRespondData("ActivateSEIInsertReq",t);break;case"StreamStatusNotifyAck":this.handleRespondData("StreamStatusNotify",t);break;case"Peer2PeerNetStatsGetRsp":this.handleRespondData("Peer2PeerNetStatsGetReq",t);break;case"MediaDescUpdateRsp":this.handleRespondData("MediaDescUpdateReq",t);break;case"CmdRsp":this.handleRespondData("CmdReq",t);break;case"WebRTCDispatchRsp":this.handleRespondData("WebRTCDispatchReq",t)}},A.prototype.disconnectCallback=function(t,n){this.logger.info("zc.s.dcb "+JSON.stringify(t)+" "+n),this.connectCallback&&(this.connectCallback(n||-1,this.server,void 0),this.connectCallback=null);var o=this.server;this.disconnectServer(),this.onDisconnect(o,t)},A.prototype.updateToken=function(){var t=this;this.logger.info(fi+" call");var n={token:this.token,tokenType:this.tokenType,roomid:this.roomID,anchorname:this.stateCenter.anchor_info.anchor_id,sdkversion:f,osinfo:navigator.appVersion};if(this.logger.info(fi+" osinfo "+navigator.userAgent),Object.keys(this.sessionInfos).length!=0){var o=[];for(var s in this.sessionInfos){var d=parseInt(s);o.push({session_id:d,session_token:this.sessionInfos[d].token})}n.sessions=o}var g=this.webrtcCenterSvr.mediaLogin(n,this.app);this.sendMessageWithCallback("LoginReq",this.stateCenter.getSeq(),0,g,function(E,b,S){S.result==0?(t.token=S.token,t.tokenType=S.tokenType,t.resetLoginTimer(),t.logger.info(fi+" callback "+!!t.connectCallback),t.connectCallback!=null?(t.connectCallback(0,t.server,{}),t.connectCallback=null):t.useNetAgent&&t.onReConnect(t.server),t.checkMessageTimeout()):t.connectCallback!=null&&(t.connectCallback(S.result,t.server,{error:S.strError}),t.connectCallback=null)},function(){t.connectCallback!=null&&(t.connectCallback(-1,t.server,void 0),t.connectCallback=null)}),this.resetLoginTimer(),this.loginTimer=setTimeout(function(){t.logger.info(fi+" set login timer"),t.connectCallback!=null&&(t.connectCallback(-1,t.server,void 0),t.connectCallback=null)},this.loginTimeout)},A.prototype.sendMessageWithCallback=function(t,n,o,s,d,g){var E,b=this;d===void 0&&(d=null),g===void 0&&(g=null),Nu.includes(t)||this.logger.info(us+" call "+t+" "+n+" "+((E=this.websocket)===null||E===void 0?void 0:E.readyState));var S=performance.now();if(!this.websocket||!this.unCheckCmds.includes(t)&&this.websocket.readyState!==Ui.OPEN)return this.logger.error(us+" connect not establish"),void(g&&g(1,n));var l={seq:n,deleted:!1,cmd:t,time:new Date().getTime(),success:function(){for(var Oe=[],$e=0;$e<arguments.length;$e++)Oe[$e]=arguments[$e];if(Zd.includes(t)){var ze=(performance.now()-S).toFixed(0);b.logger.info(us+" seq: ".concat(n,", cmd: ").concat(t,", cost_time: ").concat(ze))}d&&d.apply(void 0,Oe)},error:g},J=this.sendDataList.push(l);this.sendDataMap[l.seq]=J;var he,_e=this.getHeader(t,n,o);this.isV2?he=this.webrtcCenterSvr.encodePBMsg(_e,s):he=JSON.stringify({header:_e,body:s}),Nu.includes(t)||this.isV2||this.logger.info(us+" "+he);var Ce={};this.useNetAgent&&t==="LoginReq"?this.websocket.send(he,!0,!0,Ce):this.websocket.send(he,void 0,void 0,Ce),this.logger.debug(us+" success")},A.prototype.getHeader=function(t,n,o){var s={version:"1.0.1",cmd:t,appid:this.appid+"",seq:n,user_id:this.userid,session_id:o};return this.isV2?this.webrtcCenterSvr.headerData(s):s},A.prototype.connectServer=function(t,n,o,s){var d,g,E=this;if(this.logger.info(bi+" "+o),this.roomID=t,this.token=n,this.server=o,this.state=De,this.connectCallback=s,this.isServerConnected)this.logger.info(bi+" websocket is connected"),this.resetConnectTimer(),this.state=Fe;else try{if(this.useNetAgent){if(!this.stateCenter.appConfig)return this.logger.info(bi+" no app config "),void(this.isNoAppConfig=!0);var b=this.stateCenter.appConfig.media_config.publish_config.resource_info.find(function(Ce){return Ce.resource_type===m.RTC});if(!b)return void(s&&s(Gr));var S=(d=b==null?void 0:b.service_info)===null||d===void 0?void 0:d.find(function(Ce){return Ce.protocol===I.WEBRTC});if(!S)return void(s&&s(Gr));var l=S.url_template.split("{IP}")[1].split("?"),J=l[0],he=l[1];this.app=(g=he.split("="))===null||g===void 0?void 0:g[1];var _e=void 0;_e=this.isV2?{path:"wsv2",query:"",encode:!1,messageType:2}:{path:J,query:he,encode:!0,messageType:1},this.logger.info(bi+" signal "+JSON.stringify(_e)),this.websocket instanceof WebSocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null),!this.websocket&&(this.websocket=new dg(this.server,this.netAgent,_e,this.logger,this.stateCenter)),this.websocket.open()}else this.logger.info(bi+" need new websocket"),this.websocket&&(this.logger.warn(bi+" close error websocket"),this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close()),this.websocket=new WebSocket(this.server);this.websocket.onclose=function(Ce){var Oe=Ce||{},$e=Oe.code,ze=Oe.reason,Xe=Oe.wasClean;E.logger.info(bi+" websocket close call. msg = ".concat(JSON.stringify(Ce),", ").concat($e,", ").concat(ze,", ").concat(Xe)),E.useNetAgent&&E.state!=Qe&&(E.successConnectedCallback=E.connectCallback,E.resetConnectTimer(),E.startConnectTimer(function(et){et===1008&&E.disconnectCallback(Hr)}))},this.websocket.onerror=function(Ce){var Oe=Ce||{},$e=Oe.code,ze=Oe.reason,Xe=Oe.wasClean;E.logger.info(bi+" websocket onerror call. msg = ".concat(JSON.stringify(Ce),", ").concat($e,", ").concat(ze,", ").concat(Xe)),E.stateCenter.useNetAgent&&(Ce!=null&&Ce.code)&&E.disconnectCallback(void 0,Ce==null?void 0:Ce.code)},this.useNetAgent&&this.websocket instanceof dg?(this.websocket.onopen=function(){E.logger.info(bi+" websocket open call"),E.bindWebSocketEvents(),E.state=Fe,E.websocket&&(E.websocket.onmessage=E.handleWsMessage.bind(E))},this.websocket.onreconnnecting=function(){E.logger.info(bi+" websocket reconnecting "+!!E.successConnectedCallback+" "+!!E.loginTimer),E.successConnectedCallback&&(E.connectCallback=E.successConnectedCallback),E.updateToken()},this.websocket.onmessage=this.handleWsMessage.bind(this),this.updateToken()):this.websocket.onopen=function(){E.resetConnectTimer(),E.logger.info(bi+" websocket open call"),E.websocket&&(E.websocket.onmessage=E.handleWsMessage.bind(E)),E.bindWebSocketEvents(),E.updateToken(),E.state=Fe}}catch(Ce){this.logger.error(bi+" websocket error "+Ce)}this.useNetAgent||(this.logger.info(bi+" "+this.tryConnectInterval),this.tryConnectTimer=setTimeout(function(){E.startConnectTimer(s)},this.tryConnectInterval))},A.prototype.startConnectTimer=function(t){if(this.logger.info(Ls+" call"),this.tryConnectCount>=3)return this.logger.info(Ls+" beyond "+this.server+"max limit"),void this.disconnectCallback();this.websocket&&this.websocket.readyState===Ui.OPEN?(this.logger.info(Ls+" websocket is connected"),this.resetConnectTimer()):(this.tryConnectCount+=1,this.connectServer(this.roomID,this.token,this.server,t))},A.prototype.disconnectServer=function(){this.logger.info("zc.s.dc call"),this.connectCallback=null,this.resetCheckMessage(),this.resetConnectTimer(),this.resetLoginTimer(),this.websocket&&(this.websocket.onclose=null,this.websocket.onerror=null,this.websocket.close(),this.websocket=null),this.token="",this.sessionInfos={},this.tokenType=0,this.tryHeartbeatCount=0,this.tryConnectCount=0,this.state=Qe},Object.defineProperty(A.prototype,"isServerConnected",{get:function(){var t;return((t=this.websocket)===null||t===void 0?void 0:t.readyState)===Ui.OPEN},enumerable:!1,configurable:!0}),A.prototype.createSession=function(t,n,o,s,d,g,E,b,S,l,J){d===void 0&&(d=""),g===void 0&&(g=""),this.logger.info(ls+" call: "+s);var he="CreateSessionReq",_e=this.webrtcCenterSvr.createSession(he,n,o,s,d,g,E,b,S);this.sendMessageWithCallback(he,t,0,_e,l,J)},A.prototype.createSessionWithSdp=function(t,n,o){var s=this,d=t.seq,g=t.streamId;this.logger.info(ls+" call: "+g);var E="CreateSessionWithSdpReq";this.webrtcCenterSvr.createSessionWithSdp(E,t,function(b){s.sendMessageWithCallback(E,d,0,b,function(S,l,J){return mA(s,void 0,void 0,function(){var he,_e=this;return EA(this,function(Ce){return he=J.sdp||J.mini_sdp,this.stateCenter.isMiniSdp&&he?this.setRspBodySdp(J).then(function(){_e.logger.info(ls+" sdp "+g),n&&n(S,l,J)}).catch(function(Oe){o&&o(Oe)}):(this.logger.info(ls+" sdp "+g),n&&n(S,l,J)),[2]})})},o)},function(){})},A.prototype.dispatchGwNodes=function(t,n,o,s,d,g){this.logger.info(dl+" call: "+o);var E="WebRTCDispatchReq",b={type:n,stream_id:o,area_type:s.type,area_id_list:s.areaList};this.logger.info(dl+" "+o+" "+JSON.stringify(b));var S=this.webrtcCenterSvr.getBodyData(E,b);this.sendMessageWithCallback(E,t,0,S,d,g)},A.prototype.sendMediaDescUpdateReq=function(t,n,o,s,d){var g=this,E=this.isV2?"MediaDescReq":"MediaDescUpdateReq";this.webrtcCenterSvr.sendMediaDescUpdateReq(o).then(function(b){g.sendMessageWithCallback(E,t,n,b,function(S,l,J){return mA(g,void 0,void 0,function(){var he;return EA(this,function(_e){return he=J.sdp||J.mini_sdp,this.stateCenter.isMiniSdp&&he?this.setRspBodySdp(J).then(function(){s&&s(S,l,J)}).catch(function(Ce){d&&d(Ce)}):s&&s(S,l,J),[2]})})},d)}).catch(function(b){d&&d(b)})},A.prototype.removeSession=function(t){this.logger.info("zc.s.rs call "+t),this.sessionInfos[t]&&delete this.sessionInfos[t]},A.prototype.sendCloseSession=function(t,n,o,s,d){this.logger.info("zc.s.srs call: "+n);var g="CloseSessionReq",E=this.webrtcCenterSvr.sendCloseSession(g,o);this.removeSession(n),this.sendMessageWithCallback(g,t,n,E,s,d)},A.prototype.sendMessage=function(t,n,o,s){if(this.logger.info(ma+" call "+t),this.websocket&&this.websocket.readyState===Ui.OPEN){var d,g=this.getHeader(t,n,o);this.isV2?d=this.webrtcCenterSvr.encodePBMsg(g,s):d=JSON.stringify({header:g,body:s}),this.websocket.send(d,void 0,void 0,{}),this.logger.info(ma+" success")}else this.logger.error(ma+" connect not establish")},A.prototype.handleRespondData=function(t,n){this.logger.debug(iA+" call");var o=this.sendDataMap[n.header.seq];if(o!=null){delete this.sendDataMap[n.header.seq],this.sendDataList.remove(o);var s=o._data;s.cmd!==t?this.logger.error(iA+" command is not match"):s.success&&s.success(n.header.seq,n.header.session_id,n.body)}else{if(n.header.cmd=="CloseSessionRsp")return;this.logger.error(iA+" cannot find data "+t)}},A.prototype.addSession=function(t,n){this.logger.info("zc.s.as call"+t),this.sessionInfos[t]={token:n}},A.prototype.handlePushData=function(t){this.logger.info(al+" call "+t.header.cmd+" session "+t.header.session_id);var n=this.pushCallback[t.header.cmd+t.header.session_id];n?n.callback&&n.callback(t.header.seq,t.header.session_id,t.body):this.logger.info(al+" no callbackData "+t.header.cmd+" session: "+t.header.session_id)},A.prototype.handlePushResetSessionData=function(t){this.logger.debug(Wc+" call ");var n=[];if(t.body.cResetType==0)n=Object.keys(this.sessionInfos);else if(t.body.cResetType==1)for(var o=0;o<t.body.session_ids.length;o++)n.push(t.body.session_ids[o]);if(this.sendResetSessionAck(t.header.seq,0,0),n.length!=0)for(var s=0;s<n.length;s++){var d=this.pushCallback[t.header.cmd+n[s]];d==null?this.logger.info(Wc+" no callbackData "+n[s]):d.callback&&d.callback(t.header.seq,n[s],t.body)}else this.logger.info(Wc+" no session to callback")},A.prototype.sendMediaDesc=function(t,n,o,s,d,g){return mA(this,void 0,void 0,function(){var E,b=this;return EA(this,function(S){return this.logger.info("zc.s.smd call: "+n),this.webrtcCenterSvr.sendMediaDesc(E="MediaDescReq",o,s).then(function(l){b.sendMessageWithCallback(E,t,n,l,function(J,he,_e){return mA(b,void 0,void 0,function(){var Ce;return EA(this,function(Oe){return Ce=_e.sdp||_e.mini_sdp,this.stateCenter.isMiniSdp&&Ce?this.setRspBodySdp(_e).then(function(){d&&d(J,he,_e)}).catch(function($e){g&&g($e)}):d&&d(J,he,_e),[2]})})},g)}).catch(function(){}),[2]})})},A.prototype.sendCandidateInfo=function(t,n,o,s,d){this.logger.info("zc.s.sci call: "+n);var g="CandidateInfoReq",E=this.webrtcCenterSvr.sendCandidateInfo(g,o);this.sendMessageWithCallback(g,t,n,E,s,d)},A.prototype.sendMediaDescAck=function(t,n,o){this.logger.info(Al+" call: "+n);var s="MediaDescAck",d=this.webrtcCenterSvr.sendAckMessage(s,o);this.sendMessage(s,t,n,d)},A.prototype.sendUpdateMediaDescAck=function(t,n,o,s){this.logger.info(Al+" call: "+n),this.sendMessage("MediaDescUpdateAck",t,n,{peer_id:s,result:o})},A.prototype.sendCandidateInfoAck=function(t,n,o){this.logger.info("zc.s.scia call: "+n);var s="CandidateInfoAck",d=this.webrtcCenterSvr.sendAckMessage(s,o);this.sendMessage(s,t,n,d)},A.prototype.sendCloseSessionAck=function(t,n,o){this.logger.info("zc.s.scsa call: "+n);var s="CloseSessionAck",d=this.webrtcCenterSvr.sendAckMessage(s,o);this.sendMessage(s,t,n,d)},A.prototype.sendResetSessionAck=function(t,n,o){this.logger.debug("zc.s.srsa call: "+n);var s="SessionResetAck",d=this.webrtcCenterSvr.sendAckMessage(s,o);this.sendMessage(s,t,n,d)},A.prototype.sendStreamStatusNotifyAck=function(t,n,o){this.logger.debug("zc.s.sssna call: "+n);var s="StreamStatusNotifyPushAck",d=this.webrtcCenterSvr.sendAckMessage(s,o);this.sendMessage(s,t,n,d)},A.prototype.sendClientInfoAck=function(t,n,o){this.logger.debug("zc.s.scia call: "+n);var s="ClientInfoAck",d=this.webrtcCenterSvr.sendAckMessage(s,o);this.sendMessage(s,t,n,d)},A.prototype.registerPushCallback=function(t,n,o){o&&typeof o=="function"&&(this.logger.info("zc.s.rpc set callback "+n+" "+t),this.pushCallback[t+n]={callback:o})},A.prototype.unregisterPushCallback=function(t,n){delete this.pushCallback[t+n]},A.prototype.checkMessageTimeout=function(){for(var t,n,o=this,s=this.sendDataList.getFirst(),d=new Date().getTime(),g=0,E=0,b=0;s!=null&&!(s._data.time+this.sendDataTimeout>d);)if(delete this.sendDataMap[s._data.seq],this.sendDataList.remove(s),++E,this.checkMessageList.indexOf(s._data.cmd)!=-1){if(s._data.error==null||this.sendDataDropTimeout>0&&s._data.time+this.sendDataDropTimeout<d?++b:(this.logger.warn(cl+" error cmd = "+s._data.cmd+" seq ="+((t=s._data)===null||t===void 0?void 0:t.seq)+" start time ="+((n=s._data)===null||n===void 0?void 0:n.time)),s._data.error&&s._data.error(1,s._data.seq)),++g>=this.sendDataCheckOnceCount)break;s=this.sendDataList.getFirst()}else s=this.sendDataList.getFirst();this.sendDataCheckTimer=setTimeout(function(){o.checkMessageTimeout()},this.sendDataCheckInterval),E==0&&b==0||this.logger.info(cl+" call success, state: timeout="+E+" drop="+b)},A.prototype.sendHeartbeat=function(){var t=this;if(this.logger.debug(oA+"call tryHeartbeatCount:"+this.tryHeartbeatCount),Object.keys(this.sessionInfos).length!=0)if(this.state===Fe){if(++this.tryHeartbeatCount>5)return this.logger.error(oA+" heartbeat try limit"),void this.disconnectCallback();var n=[];for(var o in this.sessionInfos)n.push(parseInt(o));var s={session_ids:n},d=new Date().getTime();this.sendMessageWithCallback("ClientHBReq",this.stateCenter.getSeq(),0,s,function(g,E,b){t.logger.info(oA+" hb time "+(new Date().getTime()-d)),t.heartbeatInterval!=b.hb_interval&&(t.heartbeatInterval=b.hb_interval,t.onUpdateHeartBeatInterval(b.hb_interval)),t.tryHeartbeatCount=0},function(g,E){})}else this.logger.warn(oA+" state error");else this.logger.info(oA+" no need to heartbeat")},A.prototype.sendStreamStatus=function(t,n,o,s,d,g){this.logger.info(ul+" call "+n);var E="StreamStatusNotify",b={mic_status:s,camera_status:o};this.logger.info("".concat(ul," stream ").concat(d||""," status ").concat(JSON.stringify(b)));var S=this.webrtcCenterSvr.getBodyData(E,b);this.sendMessageWithCallback(E,t,n,S,function(){},function(l){l===1&&g&&g()})},A.prototype.ActivatePlayVideoStream=function(t,n,o,s,d){this.logger.info("zc.s.apvs call");var g="ActivateVideoPlayStreamReq",E=this.webrtcCenterSvr.sendActivatePlayStream(g,o,"video");this.sendMessageWithCallback(g,t,n,E,s,d)},A.prototype.ActivatePlayAudioStream=function(t,n,o,s,d){this.logger.info(ll+" call");var g="ActivateAudioPlayStreamReq",E=this.webrtcCenterSvr.sendActivatePlayStream(g,o,"audio");this.sendMessageWithCallback(g,t,n,E,s,d)},A.prototype.sendBroadcasterStatus=function(t,n,o){this.logger.info("zc.s.sbs call "+n);var s="BroadcasterStatusNotify",d=this.webrtcCenterSvr.getBodyData(s,{status:o});this.sendMessage(s,t,n,d)},A.prototype.sendNetProbe=function(t,n,o,s,d){this.logger.info(gl+" call "+n);var g="NetQualityProbeReq",E=this.webrtcCenterSvr.getBodyData(g,{peer_id:o,action:1});this.sendMessageWithCallback(g,t,n,E,s,d)},A.prototype.sendNetQualityInfoPushAck=function(t,n,o,s){this.logger.info(gl+" call "+n);var d="NetQualityInfoAck",g=this.webrtcCenterSvr.getBodyData(d,{peer_id:o,result:s});this.sendMessage(d,t,n,g)},A.prototype.activateSEIInsert=function(t,n,o,s,d,g,E){},A.prototype.getP2PNetStats=function(t,n,o,s,d){var g="Peer2PeerNetStatsGetReq",E=this.webrtcCenterSvr.getBodyData(g,{peer_id:o});this.sendMessageWithCallback(g,t,n,E,s,d)},A.prototype.sendGWCmd=function(t,n,o,s,d,g){var E=this,b="CmdReq";o.body=this.isV2?s:qo(s);var S=this.webrtcCenterSvr.getBodyData(b,o);this.sendMessageWithCallback(b,t,n,S,function(l,J,he){var _e=E.isV2?he.body:Ye(he.body);he.body=_e,d(l,J,he)},g)},A.prototype.sendGWAck=function(t,n,o,s){var d="CmdAck";o.body=this.isV2?s:qo(s);var g=this.webrtcCenterSvr.getBodyData(d,o);this.sendMessage(d,t,n,g)},A.prototype.sendNetQualityGradeAck=function(t,n,o){this.logger.info("zc.s.nqga call: "+t);var s=bo.webrtc_cmd.WebrtcCmdRspMsg.encode({net_quality_grade_ack:{result:o}}).finish();this.sendGWAck(this.stateCenter.getSeq(),t,{peer_id:n,cmd_id:7},s)},A.prototype.setRspBodySdp=function(t){return mA(this,void 0,void 0,function(){var n=this;return EA(this,function(o){return[2,new Promise(function(s,d){n.webrtcCenterSvr.parseRecSdp(t.sdp||t.mini_sdp,!t.mini_sdp).then(function(g){t.sdp=g,delete t.mini_sdp,s()}).catch(function(g){d(g)})})]})})},A}(),yA=function(A,t,n,o,s){if(t.breakStartTime){var d=A-t.breakStartTime;d>=o&&(t.cumulativeBreakDuration+=d,n.breakDuration+=d),t.breakStartTime=void 0}},Ig=function(A,t,n,o,s,d,g,E,b,S){if(b===void 0&&(b=E),s>1e3&&(s=1e3),o.breakStartTime)if(n)t===0?(A-o.breakStartTime>=22e3&&yA(A,o,g,s),d.breakDuration+=1e3):E>=s?E<500?E+b<1e3?(yA(A-(1e3-b),o,g,s),o.breakStartTime=A-E,d.breakDuration+=b+E,d.decodeTime+=1e3-(b+E)):(yA(A-1e3+b,o,g,s),o.breakStartTime=A-1e3+b,d.breakDuration+=1e3):E>=500&&(yA(A-E,o,g,s),o.breakStartTime=A-E,d.breakDuration+=1e3):b<=s?(yA(A-1e3+b,o,g,s),o.breakStartTime=void 0,d.breakDuration+=b,d.decodeTime+=1e3-b,g.decodeDuration+=1e3-b):d.breakDuration+=1e3;else{o.resumeRecv=!1;var l=A-1e3-o.breakStartTime;l<=0&&(l=0),o.breakStartTime=void 0,o.noBreakNoDecodeDuration+=l,d.breakCancelDuration+=l,g.blankDuration+=l}else n?t===0?o.resumeRecv?(o.breakStartTime=A-1e3,d.breakDuration+=1e3):(o.noBreakNoDecodeDuration+=1e3,g.blankDuration+=1e3):b>s?o.resumeRecv?(o.breakStartTime=A-b,o.cumulativeBreakDuration+=b,d.breakDuration+=b,d.decodeTime+=1e3-b,g.breakDuration+=b,g.decodeDuration+=1e3-b):(o.noBreakNoDecodeDuration+=1e3,g.blankDuration+=1e3):(d.decodeTime+=1e3,g.decodeDuration+=1e3):o.decodeStartTime&&(t===0?(o.resumeRecv=!1,o.noBreakNoDecodeDuration+=1e3,g.blankDuration+=1e3):(d.decodeTime+=1e3,g.decodeDuration+=1e3));n&&t&&(o.resumeRecv=!0)},mg=function(A,t,n,o,s,d,g){if(o=o>1e3?1e3:o,t.breakDuration=0,t.breakCancelDuration=0,t.decodeTime=0,n.decodeDuration=0,n.breakDuration=0,n.blankDuration=0,A.decodeStartTime){var E=d,b=E-A.decodeStartTime;if(A.decodeStartTime=void 0,A.totalDuration+=b,A.breakStartTime){var S=E-A.breakStartTime;A.breakStartTime=void 0,s?S>o&&(A.cumulativeBreakDuration+=S):A.noBreakNoDecodeDuration+=S}var l=A.cumulativeBreakDuration,J=A.totalDuration-A.cumulativeBreakDuration-A.noBreakNoDecodeDuration;return A.cumulativeDecodeDuration=J,{cumulativeBreakDuration:l,cumulativeDecodeDuration:J}}return{cumulativeBreakDuration:0,cumulativeDecodeDuration:0}},Da=function(){return Da=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},Da.apply(this,arguments)},Xd=function(){function A(t,n,o,s,d,g){this.qualityUpdateInterval=t,this.qualityUploadInterval=n,this.player=o,this.logger=s,this.dataReport=d,this.stateCenter=g,this.playQualityList=[],this.qualityTimer=null,this.qualityUpdateTimer=null,this.qualityUploadTimer=null,this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,audioPacketsReceived:0,videoPacketsReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0,audioBitrate:0},this.currentQuality={video:{videoBitrate:0,videoFPS:0,videoTransferFPS:0,frameHeight:0,frameWidth:0,muteState:"1",videoQuality:-1,googCodecName:"",videoPacketsLost:0,videoPacketsLostRate:0,videoFramesDecoded:0,videoFramesDropped:0,videoCumulativeDecodeTime:0,videoCumulativeBreakTime:0,videoCumulativeBreakRate:0},audio:{audioBitrate:0,audioCodec:"opus",muteState:"1",audioQuality:-1,audioFPS:0,audioJitter:0,audioLevel:0,audioPacketsLost:0,audioPacketsLostRate:0,audioSamplingRate:0,audioSendLevel:0,googCodecName:"",audioCumulativeDecodeTime:0,audioCumulativeBreakTime:0,audioCumulativeBreakRate:0},peerToPeerDelay:0,peerToPeerPacketLostRate:0},this.decodeStartTime=0,this.netQuality=0,this.probeTime=0,this.probeInterval=6e4,this.probeState=_.probed,this.probeTimer=null,this.probeTimeoutInterval=3e4,this.qualityUploadLastTime=0,this.playStat={},this.cumulativeQuality={},this.audioBreakThreshold=200,this.videoBreakThreshold=500,this.videoBreak={breakStartTime:void 0,cumulativeBreakDuration:0,cumulativeDecodeDuration:0,decodeStartTime:void 0,decodeEndTime:void 0,totalDuration:0,noBreakNoDecodeDuration:0,resumeRecv:!0},this.audioBreak={breakStartTime:void 0,cumulativeBreakDuration:0,cumulativeDecodeDuration:0,decodeStartTime:void 0,decodeEndTime:void 0,totalDuration:0,noBreakNoDecodeDuration:0,resumeRecv:!0},this.lastSampleTime=0,this.videoBreakReport={breakDuration:0,breakCancelDuration:0,decodeTime:0},this.audioBreakReport={breakDuration:0,breakCancelDuration:0,decodeTime:0},this.videoReliableBreak={decodeDuration:0,breakDuration:0,blankDuration:0},this.audioReliableBreak={decodeDuration:0,breakDuration:0,blankDuration:0},this.totalQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0,audioBytesReceived:0},this.currentSecondQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0},this.poorQualityNum=0,this.sampleTimes=0,this.qualitySampleInterval=1e3,this.timerType=0,this.hasRecvMediaData=!1,this.onRecvMediaData=function(){},this.p2pNetStats={p2pLostRate:0,p2pRTT:0},this.currentQuality.video.muteState=this.player.videoMuteState,this.currentQuality.audio.muteState=this.player.audioMuteState,this.getTimerType(),this.exception=new gg(this.stateCenter,this.logger,this.streamId,fn.event)}return Object.defineProperty(A.prototype,"streamId",{get:function(){return this.player.streamId},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"sessionId",{get:function(){return this.player.sessionId},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"peerID",{get:function(){return this.player.peerID},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"audioMuted",{get:function(){if(!this.player.remoteStream||this.player.remoteStream.getAudioTracks().length<=0)return!0;var t=this.player.remoteStream.getAudioTracks()[0];return!(!t||!t.muted&&t.readyState!=="ended"&&t.enabled)||this.player.audioMuteState=="1"||!this.player.playMediaStatus.audio},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"videoMuted",{get:function(){if(!this.player.remoteStream||this.player.remoteStream.getVideoTracks().length<=0)return!0;var t=this.player.remoteStream.getVideoTracks()[0];return!(!t||!t.muted&&t.readyState!=="ended"&&t.enabled)||this.player.videoMuteState=="1"||!this.player.playMediaStatus.video},enumerable:!1,configurable:!0}),A.prototype.getPlayStats=function(t,n){var o,s=this;if(t!=null){var d=this.sampleTimes%parseInt((this.qualityUploadInterval/this.qualitySampleInterval).toString())==0;d&&this.getP2PNetStats();for(var g,E=document.querySelectorAll("video, audio"),b=0;b<E.length;b++)E[b].srcObject===this.player.playStream&&(g=E[b]);var S=this.player.rtcViewer;!g&&S&&(g=S.audio);var l={sampleTimeWindow:this.qualityUploadInterval,audioFractionLost:0,audioPacketsLost:0,audioPacketsLostRate:0,audioBitrate:0,audioLevel:0,audioSendLevel:0,audioSamplingRate:0,audioCodec:"opus",audioQuality:0,audioFPS:0,videoQuality:0,videoPacketsLost:0,videoPacketsLostRate:0,videoBitrate:0,videoFPS:0,nackCount:0,pliCount:0,audioJitter:0,videoJitter:0,videoFractionLost:0,videoFramesDecoded:0,frameHeight:0,frameWidth:0,videoTransferFPS:0,videoFramesDropped:0,totalRoundTripTime:0,currentRoundTripTime:0,googBandwidthLimitedResolution:void 0,videoCodecName:"",audioCodecName:"",googCpuLimitedResolution:void 0,googAvailableSendBandwidth:0,audioMuteState:this.audioMuted?"1":"0",videoMuteState:this.videoMuted?"1":"0",soundLevel:this.player.soundLevel,muted:g?g.muted:void 0,paused:g?g.paused:void 0,volume:g?g.volume:void 0,sinkId:g?g.sinkId:void 0},J=this.lastPlayStats.time,he=0,_e=0,Ce=0,Oe=0,$e=0,ze=0,Xe=0,et=null,gt=null;t.forEach(function(hr){var io=hr.kind||hr.mediaType;["ssrc","inbound-rtp"].includes(hr.type)&&(io=="video"||hr.id.indexOf("VideoStream")>=0)&&(et=hr),(hr.type=="inbound-rtp"||hr.type=="ssrc"&&hr.bytesReceived!=null)&&(io=="audio"||hr.id.indexOf("AudioStream")>=0)&&(gt=hr)});var _t=new Date().getTime(),Bt=function(hr,io){return hr>io?hr-io:0};if(this.lastSampleTime||(this.lastSampleTime=_t-1e3),et){var ut=et.totalInterFrameDelay,Ct=et.framesDecoded,wt=et.totalSquaredInterFrameDelay,Pt=Bt(Ct,this.totalQuality.framesDecode);this.totalQuality.framesDecode=Ct;var sr=Bt(ut,this.totalQuality.totalInterFrameDelay);this.totalQuality.totalInterFrameDelay=ut;var or=Bt(wt,this.totalQuality.totalSquaredInterFrameDelay);this.totalQuality.totalSquaredInterFrameDelay=wt;var yr=(or-Math.pow(sr,2)/(Pt||1))/(Pt||1);yr=yr>0?yr:-yr;var Fr=parseInt((1e3/(Pt+1)).toString()),br=1e3*Math.sqrt(yr),Lr=sr/(Pt||1)*1e3||Fr,xn=(Lr=parseInt((Lr>1e3?1e3:Lr).toString()))+br;xn=parseInt((xn>1e3?1e3:xn).toString()),Pt>0&&this.player.cameraStatus===0&&!this.videoBreak.decodeStartTime&&(this.videoBreak.decodeStartTime=_t-1e3),this.videoBreak.decodeStartTime&&Ig(_t,Pt,this.player.cameraStatus===0&&this.player.playMediaStatus.video,this.videoBreak,this.videoBreakThreshold,this.videoBreakReport,this.videoReliableBreak,Lr,xn)}if(gt){var hn=gt.totalSamplesReceived,Mi=gt.concealedSamples,ri=gt.bytesReceived,wn=Bt(hn,this.totalQuality.totalSamplesReceived);this.totalQuality.totalSamplesReceived=hn;var Gi=Bt(Mi,this.totalQuality.concealedSamples);this.totalQuality.concealedSamples=Mi;var pi=Bt(ri,this.totalQuality.audioBytesReceived);this.totalQuality.audioBytesReceived=ri;var fo=parseInt((1e3*(Gi/(wn||1))).toString());pi>0&&this.player.micStatus===0&&!this.audioBreak.decodeStartTime&&(this.audioBreak.decodeStartTime=_t-1e3),this.audioBreak.decodeStartTime&&Ig(_t,pi,this.player.micStatus===0&&this.player.playMediaStatus.audio,this.audioBreak,this.audioBreakThreshold,this.audioBreakReport,this.audioReliableBreak,fo,fo)}n&&n.result().forEach(function(hr){hr.type=="ssrc"&&(hr.names().indexOf("googBandwidthLimitedResolution")>=0&&(l.googBandwidthLimitedResolution=hr.stat("googBandwidthLimitedResolution")),hr.names().indexOf("codecImplementationName")>=0&&(l.codecImplementationName=hr.stat("codecImplementationName")),hr.stat("mediaType")=="video"&&(hr.names().indexOf("googCodecName")>=0&&(l.videoCodecName=hr.stat("googCodecName")),hr.names().indexOf("googCurrentDelayMs")>=0&&(Xe=hr.stat("googCurrentDelayMs"))),hr.stat("mediaType")=="audio"&&(hr.names().indexOf("googCodecName")>=0&&(l.audioCodecName=hr.stat("googCodecName")),hr.names().indexOf("googCurrentDelayMs")>=0&&(ze=hr.stat("googCurrentDelayMs"))),hr.names().indexOf("googCpuLimitedResolution")>=0&&(l.googCpuLimitedResolution=hr.stat("googCpuLimitedResolution"))),hr.type=="VideoBwe"&&hr.names().indexOf("googAvailableSendBandwidth")>=0&&(l.googAvailableSendBandwidth=hr.stat("googAvailableSendBandwidth"))});var LA=!1;t.forEach(function(hr){hr.type=="track"&&(LA=!0)}),t.forEach(function(hr){var io=hr.kind||hr.mediaType;if((hr.type=="inbound-rtp"||hr.type=="ssrc"&&hr.bytesReceived!=null)&&(io=="audio"||hr.id.indexOf("AudioStream")>=0)){J!=0&&(l.audioBitrate=8*(hr.bytesReceived-s.lastPlayStats.audioBytesReceived)/(hr.timestamp-J),(xa=hr.packetsLost-s.lastPlayStats.audioPacketsLost)>0&&(_e=xa/(xa+hr.packetsReceived-s.lastPlayStats.audioPacketsReceived))),l.audioBitrate<0&&(l.audioBitrate=0),l.audioJitter=hr.jitter,hr.packetsLost>0&&(l.audioPacketsLost=hr.packetsLost),l.audioFractionLost=hr.fractionLost;var Fa=hr.packetsLost-s.lastPlayStats.audioPacketsLost;l.audioFPS=(hr.packetsReceived-s.lastPlayStats.audioPacketsReceived)/(hr.timestamp-J)*1e3,l.audioPacketsLostRate=Fa>0?Fa/(hr.packetsReceived-s.lastPlayStats.audioPacketsReceived+Fa):0,s.lastPlayStats.audioBytesReceived=hr.bytesReceived,hr.packetsLost>0&&(s.lastPlayStats.audioPacketsLost=hr.packetsLost),s.lastPlayStats.audioPacketsReceived=hr.packetsReceived,s.lastPlayStats.audioTime=hr.timestamp,s.lastPlayStats.time=hr.timestamp,s.lastPlayStats.audioBitrate=l.audioBitrate,Oe=hr.jitter,LA||s.aTrackStats(l,hr)}else if((hr.type=="inbound-rtp"||hr.type=="ssrc"&&hr.bytesReceived!=null)&&(io=="video"||hr.id.indexOf("VideoStream")>=0)){var xa;J!=0?(l.videoBitrate=8*(hr.bytesReceived-s.lastPlayStats.videoBytesReceived)/(hr.timestamp-J),l.videoFPS=1e3*(hr.framesDecoded-s.lastPlayStats.framesDecoded)/(hr.timestamp-J),(xa=hr.packetsLost-s.lastPlayStats.videoPacketsLost)>0&&(Ce=xa/(xa+hr.packetsReceived-s.lastPlayStats.videoPacketsReceived))):typeof hr.framesPerSecond=="number"&&(l.videoFPS=hr.framesPerSecond),l.videoBitrate<0&&(l.videoBitrate=0),l.videoFPS<0&&(l.videoFPS=0),l.videoJitter=hr.jitter,l.nackCount=hr.nackCount,l.pliCount=hr.pliCount,l.videoFractionLost=hr.fractionLost,l.videoFramesDecoded=hr.framesDecoded,hr.packetsLost>0&&(l.videoPacketsLost=hr.packetsLost),l.videoPacketsLostRate=(Fa=hr.packetsLost-s.lastPlayStats.videoPacketsLost)>0?Fa/(hr.packetsReceived-s.lastPlayStats.videoPacketsReceived+Fa):0,s.lastPlayStats.videoBytesReceived=hr.bytesReceived,s.lastPlayStats.framesDecoded=hr.framesDecoded,hr.packetsLost>0&&(s.lastPlayStats.videoPacketsLost=hr.packetsLost),s.lastPlayStats.videoPacketsReceived=hr.packetsReceived,s.lastPlayStats.videoTime=hr.timestamp,s.lastPlayStats.time=hr.timestamp,$e=hr.jitter,LA||s.vTrackStats(l,hr,J)}else hr.type=="track"&&(io=="video"||hr.id.indexOf("video")>=0)||hr.frameWidth?s.vTrackStats(l,hr,J):hr.type=="track"&&(io=="audio"||hr.id.indexOf("audio")>=0)?s.aTrackStats(l,hr):hr.type=="candidate-pair"&&(hr.totalRoundTripTime!=null&&(l.totalRoundTripTime=hr.totalRoundTripTime),hr.currentRoundTripTime!=null&&(l.currentRoundTripTime=hr.currentRoundTripTime,he=1e3*l.currentRoundTripTime))}),this.lastPlayStats.googCurrentDelayMs=Number(ze)||Number(Xe)||0,Ce=isNaN(Ce)||Ce<0?0:Ce,$e=isNaN($e)||$e<0?0:$e,_e=isNaN(_e)||_e<0?0:_e,Oe=isNaN(Oe)||Oe<0?0:Oe;var Mc=Ts(he,Ce,$e),OA=Ts(he,_e,Oe);l.audioQuality=J>0?vo(OA):0,l.videoQuality=J>0?vo(Mc):0,this.player.stateCenter.networkState!==ne.offline&&((o=this.player.peerConnection)===null||o===void 0?void 0:o.connectionState)!=="disconnected"||(l.videoQuality=Dt.Die,l.audioQuality=Dt.Die);var sl=Math.min(Mc,OA);this.netQuality=sl,l.peerToPeerDelay=isNaN(this.p2pNetStats.p2pRTT)?0:parseInt((this.p2pNetStats.p2pRTT/2+this.lastPlayStats.googCurrentDelayMs).toString()),l.peerToPeerPacketLostRate=this.p2pNetStats.p2pLostRate,this.playStat=l,this.updateCurrentQualityStats(l),(!this.hasRecvMediaData&&l.videoBitrate>0||l.audioBitrate>0)&&(this.hasRecvMediaData=!0,this.onRecvMediaData&&this.onRecvMediaData()),this.timerType===1&&J!=0&&this.player.onPlayQualityUpdate(this.streamId,this.currentQuality),d&&(this.checkProbe(_t),this.uploadPlayQuality(l,_t),J!=0&&(this.timerType===0&&this.player.onPlayQualityUpdate(this.streamId,this.currentQuality),this.exception.checkRemoteStats(l,this.player.playStream),this.player.streamCenter.changeRxQuality(vo(this.netQuality)))),this.timerType==2&&J===0&&this.qualityTimer&&this.setPlayQualityUpdateTimer()}},A.prototype.vTrackStats=function(t,n,o){var s=n.frameHeight,d=n.frameWidth,g=n.framesReceived,E=n.framesDropped,b=n.timestamp;if(t.frameHeight=s,t.frameWidth=d,o===0||this.lastPlayStats.frameHeight===s&&this.lastPlayStats.frameWidth===d)o===0&&(this.lastPlayStats.frameHeight=s,this.lastPlayStats.frameWidth=d,this.player.isProbe||(this.stateCenter.reporter.spanAppendAttribute({key:Ai.event,par:this.streamId},"vinfo",{h:s,fft:Date.now(),w:d}),this.stateCenter.reporter.spanAppendAttribute({key:vn.event,par:this.streamId},"vinfo",{h:s,fft:Date.now(),w:d})));else{if(!this.player.isProbe){var S=this.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:this.streamId},{key:""},Un);S.setAttributes({webrtc_sid:Mr(this.sessionId),w:Dn(d),h:Co(s)}),S.end(),this.stateCenter.reporter.spanAppendAttribute({key:Ai.event,par:this.streamId},"vinfo",{h:s,fft:Date.now(),w:d}),this.stateCenter.reporter.spanAppendAttribute({key:vn.event,par:this.streamId},"vinfo",{h:s,fft:Date.now(),w:d})}this.lastPlayStats.frameHeight=s,this.lastPlayStats.frameWidth=d}o!=0&&(isNaN(g)||isNaN(E)||(t.videoTransferFPS=1e3*(g-this.lastPlayStats.framesReceived)/(b-o),t.videoFramesDropped=E-this.lastPlayStats.framesDropped)),t.videoTransferFPS<0&&(t.videoTransferFPS=0),t.videoFramesDropped<0&&(t.videoFramesDropped=0),g&&(this.lastPlayStats.framesReceived=g),E&&(this.lastPlayStats.framesDropped=E)},A.prototype.aTrackStats=function(t,n){t.audioLevel=n.audioLevel||0,t.audioSendLevel=n.totalAudioEnergy,t.audioSamplingRate=n.totalSamplesDuration},A.prototype.updateCurrentQualityStats=function(t){var n=t.videoBitrate,o=t.videoFPS,s=t.videoTransferFPS,d=t.frameHeight,g=t.frameWidth,E=t.videoMuteState,b=t.videoQuality,S=t.videoFramesDecoded,l=t.videoFramesDropped,J=t.videoPacketsLost,he=t.videoPacketsLostRate,_e=t.audioBitrate,Ce=t.audioCodec,Oe=t.audioMuteState,$e=t.audioQuality,ze=t.audioFPS,Xe=t.audioJitter,et=t.audioLevel,gt=t.audioPacketsLost,_t=t.audioPacketsLostRate,Bt=t.audioSamplingRate,ut=t.audioSendLevel,Ct=t.nackCount,wt=t.pliCount,Pt=t.totalRoundTripTime,sr=t.currentRoundTripTime,or=t.peerToPeerDelay,yr=t.peerToPeerPacketLostRate,Fr=t.sampleTimeWindow,br={video:Da(Da({},this.currentQuality.video),{videoBitrate:n,videoFPS:o,videoTransferFPS:s,frameHeight:d,frameWidth:g,videoQuality:b,videoFramesDecoded:S,videoFramesDropped:l,videoPacketsLost:J,videoPacketsLostRate:he,muteState:E,videoCumulativeDecodeTime:this.videoReliableBreak.decodeDuration,videoCumulativeBreakTime:this.videoReliableBreak.breakDuration,videoCumulativeBreakRate:this.videoReliableBreak.breakDuration/(this.videoReliableBreak.decodeDuration+this.videoReliableBreak.breakDuration||1)}),audio:Da(Da({},this.currentQuality.audio),{audioBitrate:_e,audioCodec:Ce,audioQuality:$e,audioFPS:ze,audioJitter:Xe,audioLevel:et,audioPacketsLost:gt,audioPacketsLostRate:_t,audioSamplingRate:Bt,audioSendLevel:ut,muteState:Oe,audioCumulativeDecodeTime:this.audioReliableBreak.decodeDuration,audioCumulativeBreakTime:this.audioReliableBreak.breakDuration,audioCumulativeBreakRate:this.audioReliableBreak.breakDuration/(this.audioReliableBreak.decodeDuration+this.audioReliableBreak.breakDuration||1)}),nackCount:Ct,pliCount:wt,totalRoundTripTime:Pt,currentRoundTripTime:sr,peerToPeerDelay:or,peerToPeerPacketLostRate:(yr||0)/255,sampleTimeWindow:Fr};if(t.muted!==void 0){var Lr=t.paused,xn=t.volume,hn=t.sinkId;br.muted=t.muted,br.paused=Lr,br.volume=xn,br.sinkId=hn}if(t.videoCodecName!==void 0){var Mi=t.audioCodecName,ri=t.codecImplementationName,wn=t.googAvailableSendBandwidth;br.video.googCodecName=t.videoCodecName,br.audio.googCodecName=Mi,br.codecImplementationName=ri,br.googAvailableSendBandwidth=wn}this.currentQuality=br},A.prototype.uploadPlayQuality=function(t,n){var o,s;if(this.player.signal.isServerConnected){var d=n;if(this.qualityUploadLastTime==0||d-this.qualityUploadLastTime>=2e3){if(t.stream_type="play",t.stream_id=this.streamId,t.timeStamp=d,t.video_break_duration=this.videoBreakReport.breakDuration,t.video_break_cancel_duration=this.videoBreakReport.breakCancelDuration,t.video_decode_time=this.videoBreakReport.decodeTime,this.videoBreakReport.breakCancelDuration=0,this.videoBreakReport.breakDuration=0,this.videoBreakReport.decodeTime=0,t.audio_break_duration=this.audioBreakReport.breakDuration,t.audio_break_cancel_duration=this.audioBreakReport.breakCancelDuration,t.audio_decode_time=this.audioBreakReport.decodeTime,this.audioBreakReport.breakCancelDuration=0,this.audioBreakReport.breakDuration=0,this.audioBreakReport.decodeTime=0,t.real_sampling_interval=d-this.lastSampleTime,!t.frameHeight||!t.frameWidth)for(var g=document.querySelectorAll("video"),E=0;E<g.length;E++){var b=g[E],S=(o=b.srcObject)===null||o===void 0?void 0:o.getVideoTracks()[0];if(S&&S==((s=this.player.playStream)===null||s===void 0?void 0:s.getVideoTracks()[0])){t.frameHeight=b.videoHeight||0,t.frameWidth=b.videoWidth||0;break}}this.lastSampleTime=d,this.logger.info("zc.p.upq.1 "+this.streamId+" upload"+JSON.stringify(t)),this.player.streamCenter.updateQuality(1,t),this.qualityUploadLastTime=d}}},A.prototype.getP2PNetStats=function(){var t=this;this.player.signal.getP2PNetStats((0,h.getSeq)(),this.sessionId,this.peerID,function(n,o,s){var d=s.p2p_rtt;t.p2pNetStats.p2pLostRate=s.p2p_lost_rate||0,t.p2pNetStats.p2pRTT=d||0},function(n){})},A.prototype.getTimerType=function(){this.timerType=this.qualityUpdateInterval===this.qualityUploadInterval?0:this.qualitySampleInterval===this.qualityUpdateInterval?1:2,this.logger.info("zc.p.0.qgtt "+this.streamId+" timer type "+this.timerType+" "+this.qualitySampleInterval+" "+this.qualityUpdateInterval+" "+this.qualityUploadInterval)},A.prototype.setPlayQualityTimer=function(){var t=this;this.qualityTimer==null&&(this.logger.info(lA+" "+this.streamId+" startTimer"),this.clearPlayQualityTimer(),this.getP2PNetStats(),this.qualityTimer=setInterval(function(){t.sampleTimes++;var n=t.player.peerConnection;if(n){var o=[n.getStats(null)];t.player.stateCenter.browser=="chrome"&&o.push(new Promise(function(s){try{var d=n.getStats(function(g){return s(g)},function(g){s(null)});typeof(d==null?void 0:d.catch)=="function"&&d.catch(function(g){s(null)})}catch{s(null)}})),Promise.all(o).then(function(s){t.getPlayStats(s[0],s[1])}).catch(function(s){t.logger.error(lA+" "+t.streamId+" getStats error "+s.toString())})}},this.qualitySampleInterval),this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,videoPacketsReceived:0,audioPacketsReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0,audioBitrate:0})},A.prototype.clearPlayQualityTimer=function(){if(this.clearPlayQualityUpdateTimer(),this.qualityTimer!=null){clearInterval(this.qualityTimer),this.qualityTimer=null;var t=new Date().getTime();this.lastSampleTime=0,this.sampleTimes=0,this.totalQuality={totalSquaredInterFrameDelay:0,totalInterFrameDelay:0,framesDecode:0,totalSamplesReceived:0,concealedSamples:0,audioBytesReceived:0},mg(this.videoBreak,this.videoBreakReport,this.videoReliableBreak,this.videoBreakThreshold,this.player.cameraStatus===0&&this.player.playMediaStatus.video,t),mg(this.audioBreak,this.audioBreakReport,this.audioReliableBreak,this.audioBreakThreshold,this.player.micStatus===0&&this.player.playMediaStatus.audio,t)}this.poorQualityNum=0,this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,videoPacketsReceived:0,audioPacketsReceived:0,framesDecoded:0,framesDropped:0,framesReceived:0,audioBitrate:0}},A.prototype.setPlayQualityUpdateTimer=function(){var t=this;this.qualityUpdateTimer==null&&(this.logger.info("zc.p.1.spqt.1 "+this.streamId+" called "+this.qualityUpdateInterval),this.clearPlayQualityUpdateTimer(),this.qualityUpdateTimer=setInterval(function(){t.player.onPlayQualityUpdate(t.streamId,t.currentQuality)},this.qualityUpdateInterval))},A.prototype.clearPlayQualityUpdateTimer=function(){this.logger.info("zc.p.1.cpqt.1 "+this.streamId+" called "+!!this.qualityUpdateTimer),this.qualityUpdateTimer!=null&&(clearInterval(this.qualityUpdateTimer),this.qualityUpdateTimer=null)},A.prototype.checkProbe=function(t){var n,o,s=this.netQuality,d=this.lastPlayStats.time;if(s<=this.player.streamCenter.targetQuality?this.poorQualityNum++:this.poorQualityNum=0,s<=this.player.streamCenter.l3BadQualityScore&&this.player.streamCenter.handleQualityBad(this.streamId,this.player.resourceMode,Ut.L3)?this.logger.info(lA+"check cdn mode"):d>0&&this.poorQualityNum>=((o=(n=this.player)===null||n===void 0?void 0:n.streamCenter)===null||o===void 0?void 0:o.probeStartedNum)&&t>this.probeTime+this.probeInterval&&(this.logger.info(lA+" netQuality "+s+" start net probe"),this.probeState=_.tryProbe,this.player.poorQualityRetryCnt++,this.player.streamCenter.startNetProbe(!1,this.player,this.player.gwNodeList),this.probeTime=t),s>this.player.streamCenter.l3BadQualityScore){var g=this.player.streamCenter.playerList[this.streamId];g?g.qualityBadCount=0:this.logger.warn(lA+" ".concat(this.streamId," play info not exist.")),this.player.streamCenter.l3ProtocolBadTimestamp=0,this.player.streamCenter.lastHandleL3BadTimestamp=0}},A.prototype.startProbeTimeout=function(){var t=this;this.probeTimer=setTimeout(function(){t.logger.error(Fi+" probe timeout"),t.player.playStateUpdateError(fn.error.kProbeTimeOutError)},this.probeTimeoutInterval)},A.prototype.stopProbeTimeout=function(){this.probeTimer&&(clearTimeout(this.probeTimer),this.probeTimer=null)},A}(),$d=function(A,t,n){if(n||arguments.length===2)for(var o,s=0,d=t.length;s<d;s++)!o&&s in t||(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return A.concat(o||Array.prototype.slice.call(t))};function eh(A){var t,n=A,o=function(d){var g={m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"}]};function E(he,_e,Ce){var Oe=function(Xe){return String(Number(Xe))===Xe?Number(Xe):Xe},$e=he.name&&he.names;he.push&&!_e[he.push]?_e[he.push]=[]:$e&&!_e[he.name]&&(_e[he.name]={});var ze=he.push?{}:$e?_e[he.name]:_e;(function(Xe,et,gt,_t){if(_t&&!gt)et[_t]=Oe(Xe[1]);else for(var Bt=0;Bt<gt.length;Bt+=1)Xe[Bt+1]!=null&&(et[gt[Bt]]=Oe(Xe[Bt+1]))})(Ce.match(he.reg),ze,he.names,he.name),he.push&&_e[he.push].push(ze)}var b=RegExp.prototype.test.bind(/^([a-z])=(.*)/),S=[],l={},J=l;return d.split(/(\r\n|\r|\n)/).filter(b).forEach(function(he){var _e=he[0],Ce=he.slice(2);_e==="m"&&(S.push({rtp:[],fmtp:[]}),J=S[S.length-1]);for(var Oe=0;Oe<(g[_e]||[]).length;Oe+=1){var $e=g[_e][Oe];if($e.reg&&$e.reg.test(Ce))return E($e,J,Ce)}}),l.media=S,l}(A),s=[];return o.media.forEach(function(d){d.type==="video"&&d.fmtp.forEach(function(g){t="a=fmtp:"+g.payload+" "+g.config,g.config.indexOf("sps-pps-idr-in-keyframe")===-1&&s.indexOf(t)===-1&&s.push(t)})}),s.forEach(function(d){n=n.replace(new RegExp(d,"g"),d+";sps-pps-idr-in-keyframe=1")}),n}var Tu=function(){return Tu=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},Tu.apply(this,arguments)},BA=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},vA=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Pn=fn,ti=vn,QA=An;function th(A){var t=0,n=0;return t=A[n++]<<24,t|=A[n++]<<16,t|=A[n++]<<8,t|=A[n++]}function rh(A,t){t===void 0&&(t=0);for(var n=A.length,o=[],s=0;s<n;)s>=t&&n-s>=3&&!A[s]&&!A[s+1]&&A[s+2]==3?(o.push(A[s++]),o.push(A[s++]),s++):o.push(A[s++]);var d=new Uint8Array(o);return{output:d,outLength:d.length}}var nh=function(){function A(t,n,o,s,d,g,E,b,S){var l,J=this;this.curCBState={state:"NO_PLAY",code:0},this._state=x,this.lastState=x,this.candidateInfo=[],this.broadcasterStatus=Yt.stop,this.isExternal=!1,this.reportSeq=NaN,this.parentSpanKey="",this.streamReportSeq=(0,h.getSeq)(),this.reportBeginTime=0,this.reportPlayingTime=0,this.reportPlayStateTime=0,this.streamInRoom=!0,this.playStartTime=0,this.streamRoomPushConsumed=0,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.probeNotRetryInfos=[],this.continuousFailCnt=0,this.playStateCount=0,this.isRePlay=!1,this.videoSizeCallback=!1,this.remoteStream=null,this.playStream=null,this.rtcViewer=null,this.playOption={},this.playMediaStatus={video:!0,audio:!0},this.closeSessionSignal=!1,this.stateNego=j.stop,this.negoTimer=null,this.negoInterval=25e3,this.cameraStatus=0,this.micStatus=0,this.hasSentStreamStatus=!1,this.playEvent=!1,this.gotStreamStatus=!1,this.soundLevel=0,this.mic=null,this.beginTime=0,this.firstFrameTime=0,this.resourceMode=0,this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0,this.isPeer=!1,this.peerFailCount=0,this.isProbe=!1,this.probeType="audio",this.peerID=0,this.isRecvClientInfo=!1,this.videoCodec="",this.videoCodecTimes=0,this.answerSdpTime=0,this.streamConnectIP="",this.initPoster="",this.initVideoStyle="",this.firstPlay=!0,this.isProbeByDG=!1,this.useResourceTypes=[],this.tryidx=0,this._CDNPlayerClone=null,this.retryFailGwNodes=[],this.dispatchedGwNodes=[],this.rtcPlayCount=0,this.signalTime=0,this.stopReason="",this.isProbeDispatch=!1,this.streamNotFoundTime=0,this.pushCmdSeqMap=((l={}).MediaDescPush={seq:-1,time:0},l.StreamStatusNotifyPush={seq:-1,time:0},l.PlayEventPush={seq:-1,time:0},l.ClientInfoPush={seq:-1,time:0},l.NetQualityInfoPush={seq:-1,time:0},l.CandidateInfoPush={seq:-1,time:0},l),this.audioMuteState="0",this.videoMuteState="0",this.first_pkt=!0,this.next_sn=[],this.pkt_list=[],this.onDataChannelList=[],this.sideMediaConfig={isSEIStart:!1,unregisterSeiFilter:"",filterSize:0},this.cachedGwNodesMode=ko.DiffReUse,this.iceDisconnectedMaxTime=15e3,this.netTimer=null,this.lostQualityTime=0,this.userID="",this._turnToTcp=!1,this.decodeVideoFrame=function(he,_e){var Ce,Oe;if(J.videoCodec==="VP8")_e.enqueue(he);else{for(var $e=new DataView(he.data),ze=0,Xe=new cg($e),et=0,gt=!1;Xe.NextNalu(gt);)if((et=31&$e.getUint8(Xe.nalu_start+Xe.start_code_size))!=7&&et!=8&&et!=9){if(et!=6)break;var _t=new Uint8Array(he.data).slice(Xe.nalu_start+Xe.start_code_size,Xe.nalu_start+Xe.start_code_size+Xe.nalu_size);J.stateCenter.seiConfig.emulationPreventionByte&&(_t=rh(_t).output),ze=1,gt=!0;for(var Bt=0;_t[ze]===255;)Bt+=255,ze++;if((Bt+=_t[ze++])===243||Bt===5||Bt===100){for(var ut=0;_t[ze]===255;)ut+=255,ze++;if(ut+=_t[ze++],he.data.byteLength-ze<ut)break;var Ct=new Uint8Array(4+ut);switch(Ct[0]=0,Ct[1]=0,Bt){case 100:Ct[2]=3,Ct[3]=235;break;case 5:Ct[2]=3,Ct[3]=236;break;case 243:Ct[2]=3,Ct[3]=237}for(var wt=0;wt<ut;wt++)Ct[4+wt-0]=_t[ze++];var Pt=!1;if(Bt===243)Pt=!0;else if(Bt===5){var sr=J.sideMediaConfig.unregisterSeiFilter;if(sr){var or=Ct.slice(4,4+J.sideMediaConfig.filterSize),yr=void 0,Fr=!0;if((yr=typeof sr=="string"?Te(sr):sr).length===0)Fr=!1;else for(var br=0;br<yr.length;br++)if(yr[br]!==or[br]){Fr=!1;break}Pt=Fr}else Pt=!0}Pt&&J.stateCenter.actionListener("playerRecvSEI",J.streamId,Ct)}else if(Bt===244){for(ut=0;_t[ze]===255;)ut+=255,ze++;if(ut+=_t[ze++],he.data.byteLength-ze<ut)break;var Lr=parseInt(ut/5+""),xn=_t.slice(ze,ze+=ut),hn=[],Mi=function(pi){var fo=5*pi,LA=xn.slice(fo,fo+4),Mc=xn.slice(fo+4,fo+5),OA=th(LA),sl=Mc[0],hr=((Oe=(Ce=J.room.streamList)===null||Ce===void 0?void 0:Ce.find(function(io){return io.stream_nid===OA}))===null||Oe===void 0?void 0:Oe.stream_id)||"";hn.push({soundLevelID:OA,value:sl,streamID:hr})};for(br=0;br<Lr;br++)Mi(br);var ri=new Map(hn.map(function(pi){return[pi.soundLevelID,pi.value]})),wn=hn.filter(function(pi){return pi.streamID}).map(function(pi){return[pi.streamID,pi.value]}),Gi=new Map(wn);J.stateCenter.actionListener("mixerSoundLevelUpdate",ri,J.streamId),Gi.size&&J.stateCenter.actionListener("autoMixerSoundLevelUpdate",Gi,J.streamId)}}_e.enqueue(he)}},this.decodeAudioFrame=function(he,_e){_e.enqueue(he)},this.soundMeterWorklet=null,this.streamId=t,this.logger=n,this.signal=o,this.dataReport=s,this.streamCenter=E,this.ac=b,this.stateCenter=S,this.qualityHandler=new Xd(d,g,this,this.logger,this.dataReport,this.stateCenter),this.qualityHandler.onRecvMediaData=function(){J.streamNotFoundTime&&(J.streamNotFoundTime=0,J.logger.info("zc.p.ormd.1 "+J.streamId+" reset streamNotFoundTime"))},this.resourceMode=this.stateCenter.settingConfig.getSetting("resource_mode"),this.initStreamReport()}return A.prototype.updateCBState=function(t){var n=this,o=Object.keys(t).some(function(s){return t[s]!==n.curCBState[s]});return o&&(this.curCBState=t),o},Object.defineProperty(A.prototype,"room",{get:function(){var t;return(t=this.streamCenter.playerList[this.streamId])===null||t===void 0?void 0:t.room},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"state",{get:function(){return this._state},set:function(t){this.lastState=this._state,this._state=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"probeState",{get:function(){return this.qualityHandler.probeState},set:function(t){this.qualityHandler.probeState=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"netQuality",{get:function(){return this.qualityHandler.netQuality},set:function(t){this.qualityHandler.netQuality=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastPlayStats",{get:function(){return this.qualityHandler.lastPlayStats},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"iceStateDisConnect",{get:function(){return[j.iceClosed,j.iceDisconnected,j.iceFailed].includes(this.stateNego)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isLastConnected",{get:function(){return this.lastState===K},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"playStat",{get:function(){return this.qualityHandler.playStat},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"ip",{get:function(){var t,n;return(n=(t=this.gwNode)===null||t===void 0?void 0:t.split(":"))===null||n===void 0?void 0:n[0]},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"netProtocol",{get:function(){return this._turnToTcp?"tcp":"udp"},enumerable:!1,configurable:!0}),A.prototype.netProbeToReDispatch=function(){this.isProbeDispatch=!0,this.playStateUpdateError(Pn.error.kPlayNetProbePoor)},A.prototype.initStreamReport=function(){this.reportSpan=this.stateCenter.reporter.createSpan(Zt.I,{key:fn.event,par:this.streamId},{key:ti.event,par:this.streamId},ti.event,!0),this.playStartTime=this.reportBeginTime=new Date().getTime()},A.prototype.startPlay=function(t,n,o){var s,d,g,E,b,S,l,J,he,_e=this;if(this.logger.info(Fi+" called ",t),this.playEvent=!1,this.signal&&this.signal.negoInterval&&(this.negoInterval=this.signal.negoInterval),t){if(this.getRemoteStreamSuc=n,this.playOption=o||{},this.playMediaStatus={video:this.playMediaStatus.video&&(this.playOption.video===void 0||!!this.playOption.video),audio:this.playMediaStatus.audio&&(this.playOption.audio===void 0||!!this.playOption.audio)},o&&o.videoCodec&&(this.playOption.videoCodec=o.videoCodec),typeof(o==null?void 0:o.isSEIStart)=="boolean"&&(this.sideMediaConfig.isSEIStart=o==null?void 0:o.isSEIStart),this.sideMediaConfig.isSEIStart){var Ce=nA();(!((s=this.playOption)===null||s===void 0)&&s.videoCodec&&((d=this.playOption)===null||d===void 0?void 0:d.videoCodec)!=="H264"||!Ce)&&(this.sideMediaConfig.isSEIStart=!1)}if(!((g=this.stateCenter.seiConfig)===null||g===void 0)&&g.unregisterSEIFilter){var Oe=this.sideMediaConfig.unregisterSeiFilter=(E=this.stateCenter.seiConfig)===null||E===void 0?void 0:E.unregisterSEIFilter;this.sideMediaConfig.filterSize=Te(Oe).byteLength}(o==null?void 0:o.streamType)==null&&this.stateCenter.streamType!==void 0&&(this.playOption.streamType=this.stateCenter.streamType),this.stateCenter.reporter.spanSetAttributes({key:Pn.event,par:t},{video_layer:Pn.video_layer(this.playOption.streamType===2?-1:this.playOption.streamType||1)});var $e=this.stateCenter.settingConfig.getSetting("play_video_codec",!0);$e&&(this.logger.info(Fi+" setting play_video_codec "+$e),this.playOption.videoCodec=$e);var ze=((b=this.playOption)===null||b===void 0?void 0:b.resourceMode)==Vt.DG?1:0;this.stateCenter.reporter.spanSetAttributes({key:(this.isRePlay?Vi:QA).event,par:this.streamId},{is_peer:QA.is_peer(this.isPeer)}),this.stateCenter.reporter.spanSetAttributes({key:Pn.event,par:this.streamId},{audio_activate:Pn.audio_activate(this.playOption.audio==1||this.playOption.audio!=0),video_activate:Pn.video_activate(this.playOption.video==1||this.playOption.video!=0),biz_product:Pn.biz_product(ze)}),this.reportSpan.setAttributes({room_id:ti.room_id((l=(S=this.streamCenter.playerList[this.streamId])===null||S===void 0?void 0:S.room)===null||l===void 0?void 0:l.roomID),room_sid_string:ti.room_sid_string((he=(J=this.streamCenter.playerList[this.streamId])===null||J===void 0?void 0:J.room)===null||he===void 0?void 0:he.roomSessionID)}),this.isPeer?this.createOffer({encodedInsertableStreams:this.sideMediaConfig.isSEIStart}):this.createSession(),this.negoTimer!=null&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.negoTimer=setTimeout(function(){_e.logger.error(Fi+" waiting timeout"),_e.playStateUpdateError(Pn.error.kPlayNegoTimeoutError)},this.negoInterval),this.isProbe&&this.qualityHandler.startProbeTimeout()}else this.logger.warn(Fi+" streamId is null")},A.prototype.onCreatePlaySessionSuccess=function(t){var n=this,o=oc;this.logger.info(o+" "+this.streamId+" success");var s=[];if(t.turn_server){var d=t.turn_server.split(";");this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1;var g=this.stateCenter.settingConfig.getSetting("udp_max_fail_num");!isNaN(g)&&(this.streamCenter.maxUdpFailNum=g);var E=this.streamCenter,b=E.autoSwitchProtocol,S=E.maxUdpFailNum,l=E.udpFailNum;this.logger.info(o+"  autoToTcp: ".concat(b,", udpFailNum: ").concat(l,", maxUdpFailNum: ").concat(S,".")),b&&!this._turnToTcp&&l>=S&&(this.logger.info(o+" switch to tcp."),this._turnToTcp=!0);var J=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);J&&(this.logger.info(o+" setting udp_or_tcp "+J),this._turnToTcp=J==="tcp");var he=void 0,_e=d.filter(function(ze){return ze.indexOf("udp")>-1}),Ce=d.filter(function(ze){return ze.indexOf("tcp")>-1});he=this._turnToTcp?Ce.length>0?Ce:_e.map(function(ze){return ze.replace("udp","tcp")}):_e,this.logger.info(o+" over tcp "+JSON.stringify(he)),s.push.apply(s,he)}t.stun_server&&s.push(t.stun_server);var Oe={iceTransportPolicy:"all",iceServers:[{urls:s,username:t.turn_username,credential:t.turn_auth_key}],encodedInsertableStreams:this.sideMediaConfig.isSEIStart};this.logger.info(o+" "+this.streamId+" username: "+t.turn_username),this.logger.info(o+" "+this.streamId+" credential: "+t.turn_auth_key),this.createOffer(Oe);var $e=performance.now();this.signal.registerPushCallback("MediaDescPush",this.sessionId,function(ze,Xe,et){return BA(n,void 0,void 0,function(){return vA(this,function(gt){switch(gt.label){case 0:return this.compareSeqs("MediaDescPush",ze)?[4,this.onRecvMediaDesc(ze,Xe,et)]:[2];case 1:return gt.sent(),[2]}})})}),this.signal.registerPushCallback("CandidateInfoPush",this.sessionId,function(ze,Xe,et){if(n.compareSeqs("CandidateInfoPush",ze))var gt=setTimeout(function(){n.onRecvCandidateInfo(ze,Xe,et),clearTimeout(gt)},0)}),this.signal.registerPushCallback("CloseSessionPush",this.sessionId,function(ze,Xe,et){if($e){var gt=(performance.now()-$e).toFixed(0);$e=void 0,n.logger.info(o+" ".concat(n.streamId,", cmd: CloseSessionPush, cost_time: ").concat(gt))}et.reason===32&&(n.stateCenter._isMiniSdp=!1),n.onRecvCloseSession(ze,Xe,et)}),this.signal.registerPushCallback("SessionResetPush",this.sessionId,function(ze,Xe,et){n.onRecvResetSession(ze,Xe,et)}),this.signal.registerPushCallback("StreamStatusNotifyPush",this.sessionId,function(ze,Xe,et){n.compareSeqs("StreamStatusNotifyPush",ze)&&(n.gotStreamStatus=!0,n.streamStatus=et,n.statusSeq=ze,n.playStream&&n.onRecvStreamStatus(ze,et))}),this.signal.registerPushCallback("PlayEventPush",this.sessionId,function(ze,Xe,et){if(n.compareSeqs("PlayEventPush",ze)){if($e){var gt=(performance.now()-$e).toFixed(0);n.logger.info(o+" ".concat(n.streamId,", cmd: PlayEventPush, cost_time: ").concat(gt))}n.onRecvPlayEvent(ze,Xe,et)}}),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,function(ze,Xe,et){n.compareSeqs("ClientInfoPush",ze)&&n.onRecvClientInfo(ze,Xe,et)}),this.signal.gw.registerPushCallback("net_quality_grade_push",this.sessionId,function(ze,Xe,et){n.onRecvNetQualityGrade(ze,Xe,et)}),this.logger.info(o+" "+this.streamId+" call success")},A.prototype.compareSeqs=function(t,n){var o=this.pushCmdSeqMap[t],s=o.seq,d=o.time,g=performance.now();return s!==-1&&s>=n&&g-d<6e3?(this.logger.warn("zc.p.cps.1"+" ".concat(this.streamId,", push ").concat(t,", seq ").concat(n," local ").concat(JSON.stringify(this.pushCmdSeqMap[t]))),!1):(this.pushCmdSeqMap[t]={seq:n,time:g},!0)},A.prototype.createOffer=function(t){var n=this,o=oc;if(this.peerConnection=new RTCPeerConnection(t),this.peerConnection.onicecandidate=function(E){n.onIceCandidate(E)},this.peerConnection.onsignalingstatechange=function(E){n.onConnectionStateChange(E)},this.peerConnection.oniceconnectionstatechange=function(E){n.onIceConnectionStateChange(E)},this.peerConnection.onconnectionstatechange=function(E){n.onPeerConnectionStateChange(E)},this.peerConnection.ontrack=function(E){n.onGotRemoteStream(E.streams[0],E.receiver)},this.streamCenter.isDataChannelEnabled&&(this.dataChannel=this.peerConnection.createDataChannel(this.streamId),this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=function(E){n.logger.info(o+" "+n.streamId+" data channel open")},this.dataChannel.onmessage=function(E){if(n.logger.info(o+" "+n.streamId+" data channel onmessage"),E.data instanceof Blob){var b=new FileReader,S={};b.readAsArrayBuffer(E.data),b.onload=function(){S.data=b.result,n.onReceivedDataChannel(S)}}else n.onReceivedDataChannel(E)}),this.stateCenter.customUa){var s=typeof this.peerConnection.addTransceiver=="function";this.logger.info(o+" "+this.streamId+" custom ua ios "+s),s&&(this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"}))}var d={offerToReceiveAudio:1,offerToReceiveVideo:1};this.isProbe?this.probeType==="audio"&&(d.offerToReceiveVideo=0):(this.playOption&&this.playOption.video===!1&&(d.offerToReceiveVideo=0),this.playOption&&this.playOption.audio===!1&&(d.offerToReceiveAudio=0)),this.logger.info(o+" "+this.streamId+" createOffer: "+JSON.stringify(d));var g=this.getSpan(GA,this.parentSpanKey);this.peerConnection.createOffer(d).then(function(E){if(g&&(g.setAttributes({sdp:Uc(E.sdp),is_mini:za(n.stateCenter.isMiniSdp)}),g.end()),!n.checkProbeSDP(E.sdp))return n.resetPlay(),void n.startPlay(n.streamId,n.getRemoteStreamSuc,n.playOption);n.onCreateOfferSuccess(E)},function(E){n.logger.error(o+" "+n.streamId+" create offer error "+E.toString()),g&&n.stateCenter.reporter.setError(g,{code:fn.error.kCreateOfferError.code,message:E.toString()}),n.playStateUpdateError(Pn.error.kCreateOfferError,!0)})},A.prototype.checkProbeSDP=function(t){return this.logger.info(oc+" is probe "+this.isProbe),!this.isProbe||!(this.probeType==="audio"&&!t.includes("m=audio"))||(this.logger.warn(oc+" no audio"),this.probeType="all",!1)},A.prototype.createSession=function(t){var n,o,s,d=this;this.sessionSeq=(0,h.getSeq)();var g=this.streamId;this.streamCenter.testEnvironment==1&&(g="zegotest-"+this.streamCenter.appid+"-"+this.streamId),this.streamCenter.gwNode&&(this.gwNode=this.streamCenter.gwNode);var E=this.stateCenter.settingConfig.getSetting("gw_nodes");E&&E instanceof Array&&E.length>0&&(this.logger.info(Fi+" setting "+JSON.stringify(E)),this.gwNodeList=E,this.gwNode=this.gwNodeList[0]||this.gwNode),this.setTurnTcp();var b=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);b&&(this.logger.info(to+" setting udp_or_tcp "+b),this._turnToTcp=b==="tcp"),this._turnToTcp&&(this.isPeer=!1);var S=((o=(n=this.streamCenter.publisherList[this.streamId])===null||n===void 0?void 0:n.room)===null||o===void 0?void 0:o.roomID)||((s=this.stateCenter.roomList[0])===null||s===void 0?void 0:s.roomID),l=this.getSessionParams(S),J=l.params,he=l.paramsExt;this.paramsExt=he;var _e=la;if(this.isPeer){var Ce=this.getSpan(la.event,this.parentSpanKey),Oe=this.stateCenter.settingConfig.getSetting("l3_play_buffer_ms"),$e=new Date().getTime();this.signal.createSessionWithSdp({seq:this.sessionSeq,type:this.isProbe?2:1,mode:0,streamId:g,strAuthParam:this.playOption&&this.playOption.streamParams||"",sdp:t.sdp,serverHost:this.gwNode,playBufLevel:[Vt.L3,Vt.DG].includes(this.resourceMode)?Oe:void 0,params:J,paramsExt:he,roomID:S,geo:{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList}},function(Xe,et,gt){return BA(d,void 0,void 0,function(){var _t;return vA(this,function(Bt){return _t=new Date().getTime(),this.logger.info(Fi+" create session time "+(_t-$e)),Ce&&(Ce.setAttributes({webrtc_sid:et,sdp:_e.sdp(gt.sdp),gw_nodes:_e.gw_nodes(gt.gw_nodes),gw_nodes_ttl:_e.gw_nodes(gt.gw_nodes_ttl),gw_version:_e.gw_version(gt.gw_version)}),Ce.end()),this.stateNego!==j.iceConnected&&this.getSpan(ga,this.parentSpanKey,"",!0),this.stateCenter.reporter.spanSetAttributes({key:Pn.event,par:this.streamId},{gw_version:Pn.gw_version(gt.gw_version)}),this.handleCreateSessionWithSdpResp(Xe,et,gt),[2]})})},function(Xe,et){if(d.sessionSeq==et){var gt=Xe==1?Pn.error.kSessionTimeoutError:Pn.error.kSessionRequestError;Ce&&(Ce.setAttributes({try_cnt:d.peerFailCount}),d.stateCenter.reporter.setError(Ce,gt)),d.playStateUpdateError(gt)}else d.logger.warn(Fi+" seq is not match.")})}else{var ze=this.getSpan(la.event,this.parentSpanKey);this.signal.createSession(this.sessionSeq,1,0,g,this.playOption&&this.playOption.streamParams,this.gwNode,J,S,{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList},function(Xe,et,gt){return BA(d,void 0,void 0,function(){return vA(this,function(_t){return ze&&(ze.setAttributes({webrtc_sid:la.webrtc_sid(et),sdp:_e.sdp(gt.sdp),is_mini:_e.is_mini(this.stateCenter.isMiniSdp),gw_nodes:_e.gw_nodes(gt.gw_nodes),gw_nodes_ttl:_e.gw_nodes(gt.gw_nodes_ttl),gw_version:_e.gw_version(gt.gw_version)}),ze.end(),this.stateCenter.reporter.spanSetAttributes({key:Pn.event,par:this.streamId},{gw_version:Pn.gw_version(gt.gw_version)})),this.handleCreateSessionResp(Xe,et,gt),[2]})})},function(Xe,et){if(d.sessionSeq==et){var gt=Xe==1?Pn.error.kSessionTimeoutError:Pn.error.kSessionRequestError;ze&&d.stateCenter.reporter.setError(ze,gt),d.playStateUpdateError(gt)}else d.logger.warn(Fi+" seq is not match.")})}this.state=w,this.logger.info(Fi+" "+this.streamId+" called success"),this.stateNego=j.start},A.prototype.getSessionParams=function(t){var n="",o=[],s={},d=this.stateCenter.seiConfig.SEIPass;if(typeof d=="boolean"){var g=d?1:0;this.stateCenter.useNetAgent?s.sei_filter_pass=g:o.push("zgseipass="+g)}return this.stateCenter.isMiniSdp&&!this.stateCenter.useNetAgent&&o.push("sdp_fmt_type=1"),this.resourceMode===2&&(s.client_class_type=1),typeof this.playOption.streamType=="number"&&(this.stateCenter.useNetAgent?s.video_stream_type=this.playOption.streamType:o.push("video_stream_type="+this.playOption.streamType)),this.stateCenter.idName&&o.push("zguid="+this.stateCenter.idName),t&&o.push("zgrid="+t),o.length>0&&(n=o.join("&")),{params:n,paramsExt:s}},A.prototype.setGwNodes=function(t,n){var o;if(this.logger.info("zc.p.1.sgn "+this.streamId+" "+JSON.stringify(t==null?void 0:t.gw_nodes)+" "+JSON.stringify(this.retryFailGwNodes)),((o=t.gw_nodes)===null||o===void 0?void 0:o.length)>0){var s=this.sortGwNodes(t.gw_nodes,this.retryFailGwNodes,n);this.retryFailGwNodes=[],this.handleDispatchedGwNodes(s,t.gw_nodes_ttl)}},A.prototype.resetGwNodes=function(){this.logger.info("zc.p.1.rgn "+this.streamId),this.gwNode="",this.gwNodeList=[],this.gwNodesTTL=0},A.prototype.sortGwNodes=function(t,n,o){var s=JSON.parse(JSON.stringify(t));if(n.forEach(function(g){var E=s.indexOf(g);E>=0&&(s.splice(E,1),s.push(g))}),!o){var d=s.findIndex(function(g){return g===t[0]});d>0&&(s.splice(d,1),s.unshift(t[0]))}return s},A.prototype.handleDispatchedGwNodes=function(t,n){if(this.logger.info("zc.p.1.hdgn "+this.streamId+" "+JSON.stringify(t)),Array.isArray(t)){this.gwNodeList=t.length>0?t:this.gwNodeList,this.gwNode=t.length>0?this.gwNodeList[0]:this.gwNode;var o=n===0?60:n;this.gwNodesTTL=o?new Date().getTime()+1e3*o:this.gwNodesTTL,t.length>0&&this.streamCenter.updateCachedGwNodesList(this,!1,t,o)}},A.prototype.dispatchGwNodes=function(t,n){var o,s=this.streamId;this.streamCenter.testEnvironment==1&&(s="zegotest-"+this.streamCenter.appid+"-"+this.streamId),(o=this.signal)===null||o===void 0||o.dispatchGwNodes((0,h.getSeq)(),1,s,{type:this.streamCenter.geo.type,areaList:this.streamCenter.geo.areaList},function(d,g,E){t&&t(E)},function(d,g){n&&n(d)})},A.prototype.handleCreateSessionResp=function(t,n,o){var s=o.turn_server,d=s.split("?")[0]&&s.split("?")[0].slice(5),g=this.streamCenter.server.split("?"),E=g[1]&&g[1].slice(2);if(this.stateCenter.reporter.spanSetAttributes({key:this.parentSpanKey,par:this.streamId},{webrtc_sid:o.session_id,url:"webrtc://".concat(d,"/").concat(E,"/").concat(this.streamId)}),this.logger.info(Fi+" "+this.streamId+" sessionId:"+o.session_id),this.sessionSeq==t){this.resetPushCmdSeqMap();var b=o.client_ip||o.clientip;b&&(this.stateCenter.clientIP=b);var S=0,l=new Date().getTime();if(this.reportBeginTime&&(this.logger.info(Ps+" "+this.streamId+" create signal time "+(S=l-this.reportBeginTime)),this.signalTime=S),this.answerSdpTime=l,o.result!==0){if(this.logger.error(Fi+" "+this.streamId+" create error"),(o==null?void 0:o.result)===1021)return void this.playStateUpdateError(ln,!0);this.playStateUpdateError(Pn.error.kSessionRequestError)}else this.sessionId=o.session_id,this.sessionToken=o.session_token,this.setGwNodes(o,!1),this.onCreatePlaySessionSuccess(o)}else this.logger.error(Fi+" seq is not match.")},A.prototype.handleCreateSessionWithSdpResp=function(t,n,o){var s=this;if(this.logger.info(Ps+" sessionId:"+n),this.sessionSeq==t){this.resetPushCmdSeqMap();var d=o.client_ip||o.clientip;d&&(this.stateCenter.clientIP=d);var g=0,E=new Date().getTime();if(this.reportBeginTime&&(this.logger.info(Ps+" "+this.streamId+" create signal time "+(g=E-this.reportBeginTime)),this.signalTime=g),this.answerSdpTime=E,o.result!==0){if(o.result===110&&(this.stateCenter._isMiniSdp=!1),this.logger.error(Ps+" create session failed "+o.result),(o==null?void 0:o.result)===1021)return void this.playStateUpdateError(ln,!0);if(this.stateCenter.useNetAgent&&(o==null?void 0:o.result)===1004&&this.checkTryEmptyStreamTimeout())return void this.playStateUpdateError(Pn.error.kPlayStreamNotFound,!0);this.playStateUpdateError(Pn.error.kSessionRequestError)}else{this.sessionId=n,this.sessionToken=o.session_token,this.logger.info(Ps+" create session success ",this.streamId),this.setGwNodes(o,!1);var b=performance.now();this.signal.registerPushCallback("CloseSessionPush",this.sessionId,function(S,l,J){if(b){var he=(performance.now()-b).toFixed(0);b=void 0,s.logger.info(Ps+" ".concat(s.streamId,", cmd: CloseSessionPush, cost_time: ").concat(he))}s.onRecvCloseSession(S,l,J)}),this.signal.registerPushCallback("SessionResetPush",this.sessionId,function(S,l,J){s.onRecvResetSession(S,l,J)}),this.signal.registerPushCallback("StreamStatusNotifyPush",this.sessionId,function(S,l,J){s.compareSeqs("StreamStatusNotifyPush",S)&&(s.gotStreamStatus=!0,s.streamStatus=J,s.statusSeq=S,s.playStream&&s.onRecvStreamStatus(S,J))}),this.signal.registerPushCallback("PlayEventPush",this.sessionId,function(S,l,J){if(s.compareSeqs("PlayEventPush",S)){if(b){var he=(performance.now()-b).toFixed(0);b=void 0,s.logger.info(Fi+" ".concat(s.streamId,", cmd: PlayEventPush, cost_time: ").concat(he))}s.onRecvPlayEvent(S,l,J)}}),this.signal.registerPushCallback("ClientInfoPush",this.sessionId,function(S,l,J){s.compareSeqs("ClientInfoPush",S)&&s.onRecvClientInfo(S,l,J)}),this.signal.registerPushCallback("NetQualityProbeRsp",this.sessionId,function(S,l,J){s.onRecvPlayEvent(S,l,J)}),this.signal.registerPushCallback("NetQualityInfoPush",this.sessionId,function(S,l,J){s.compareSeqs("NetQualityInfoPush",S)&&s.onRecvNetQualityInfo(S,l,J)}),this.signal.gw.registerPushCallback("net_quality_grade_push",this.sessionId,function(S,l,J){s.onRecvNetQualityGrade(S,l,J)}),this.onGetRemoteOfferSuccess(o.sdp)}}else this.logger.error(Ps+" seq is not match.")},A.prototype.onCreateOfferSuccess=function(t){var n=this;this.logger.info(eu+" "+this.streamId+" localSdp1 "+t.sdp.substr(0,t.sdp.length/2)),this.logger.info(eu+" "+this.streamId+" localSdp2 "+t.sdp.substr(t.sdp.length/2)),t.sdp=t.sdp.replace(/sendrecv/g,"recvonly"),t.sdp=t.sdp.replace(/useinbandfec=/,"stereo=1;useinbandfec=");var o=t.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)?t.sdp.match(/m=application[\s\S]+datachannel[\s\S]+/)[0]:null;if(o){var s=o.replace(/recvonly/,"sendrecv");t.sdp=t.sdp.replace(o,s)}t.sdp=eh(t.sdp),t.sdp=function(g){var E=g.split(`\r
`),b=new Map;E.forEach(function(he,_e){if(/^a=rtcp-fb:/.test(he)&&E[_e+1]&&!/^a=rtcp-fb:/.test(E[_e+1])){var Ce=he.match(/^a=rtcp-fb:\d+/);Ce&&b.set(_e+1,Ce[0]+" rrtr")}});for(var S=Array.from(b),l=0;l<S.length;l++){var J=$d([],S[l],!0);E.splice(J[0]+l,0,J[1])}return E.join(`\r
`)}(t.sdp),this.playOption.videoCodec&&(t.sdp=cs.getSDPByVideDecodeType(t.sdp,this.playOption.videoCodec));var d=this.getSpan(mi,this.parentSpanKey);d&&d.setAttributes({sdp:Ka(t.sdp),is_mini:HA(this.stateCenter.isMiniSdp)}),this.peerConnection.setLocalDescription(t).then(function(){d&&d.end(),n.onSetLocalDescriptionSuccess(t)},function(g){n.logger.error(eu+" "+n.streamId+" set error "+g.toString()),d&&n.stateCenter.reporter.setError(d,{code:fn.error.kSetLocalDescError.code,message:g.toString()}),n.playStateUpdateError(Pn.error.kSetLocalDescError,!0)})},A.prototype.onSetLocalDescriptionSuccess=function(t){var n=this;if(this.logger.info(uA+" "+this.streamId+" success"),this.isPeer)this.createSession(t);else{var o={sdp:t.sdp,paramsExt:this.paramsExt};this.resourceMode==2&&(o.min_play_buf_level_ms=500),this.answerSeq=(0,h.getSeq)();var s=this.getSpan(Gc,this.parentSpanKey);this.signal.sendMediaDesc(this.answerSeq,this.sessionId,0,o,function(d,g,E){n.logger.info(uA+" "+n.streamId+" sendMediaDesc resp"),s&&(s.setAttributes({webrtc_sid:rs(g),sdp:o.sdp}),s.end()),n.answerSeq==d&&n.sessionId==g?(n.logger.info(uA+" "+n.streamId+" send success stateNego:waiterAnswer"),n.stateNego=j.waiterAnswer,n.state=Y,typeof(E==null?void 0:E.sdp)=="string"&&(E!=null&&E.sdp)&&n.onGetRemoteOfferSuccess(E.sdp,!0)):n.logger.error(uA+" "+n.streamId+" seq or sessionId is not equal "+n.answerSeq+" "+d,0+n.sessionId+" "+g)},function(d,g){n.logger.error(uA+" "+n.streamId+" failed to send "+d),s&&n.stateCenter.reporter.setError(s,{code:fn.error.kMediaDescError.code,message:d.toString()}),n.playStateUpdateError(Pn.error.kMediaDescError)}),this.state=k}},A.prototype.onRecvMediaDesc=function(t,n,o){return BA(this,void 0,void 0,function(){var s,d,g,E;return vA(this,function(b){switch(b.label){case 0:if(this.logger.info(to+" "+this.streamId+" received ",o),s=o.sdp,!this.stateCenter.isMiniSdp||!s)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,this.signal.webrtcCenterSvr.parseRecSdp(s,!0)];case 2:return d=b.sent(),[3,4];case 3:return g=b.sent(),this.logger.warn(to+" "+this.streamId+" parse sdp err "+JSON.stringify(g)),[3,4];case 4:return d=d||o.sdp,(E=this.getSpan(Hc,this.parentSpanKey))&&(E.setAttributes({sdp:zA(d),is_mini:qc(this.stateCenter.isMiniSdp)}),E.end()),this.stateNego=j.waitingCandidate,this.logger.info(to+" "+this.streamId+" received stateNego:waitingCandidate"),this.state!==Y?(this.logger.error(to+" "+this.streamId+" current state "+this.state+" not allowed"),[2]):(this.signal.sendMediaDescAck(t,this.sessionId,0),this.onGetRemoteOfferSuccess(d),[2])}})})},A.prototype.onGetRemoteOfferSuccess=function(t,n){var o,s=this;n===void 0&&(n=!1);var d={type:"answer",sdp:t,toJSON:function(){}},g=this.getSpan(eo,this.parentSpanKey);this.setTurnTcp(),this.streamCenter.autoSwitchProtocol=this.stateCenter.settingConfig.getSetting("auto_to_tcp")||!1;var E=this.stateCenter.settingConfig.getSetting("udp_max_fail_num");!isNaN(E)&&(this.streamCenter.maxUdpFailNum=E);var b=this.streamCenter,S=b.autoSwitchProtocol,l=b.maxUdpFailNum,J=b.udpFailNum;this.logger.info(to+"  autoToTcp: ".concat(S,", udpFailNum: ").concat(J,", maxUdpFailNum: ").concat(l,".")),S&&!this._turnToTcp&&J>=l&&(this.logger.info(to+" switch to tcp."),this._turnToTcp=!0);var he=this.stateCenter.settingConfig.getSetting("udp_or_tcp",!0);he&&(this.logger.info(to+" setting udp_or_tcp "+he),this._turnToTcp=he==="tcp"),this._turnToTcp&&((o=d.sdp.match(/candidate.*/g))===null||o===void 0||o.forEach(function(_e){var Ce=_e.replace(/udp/,"tcp");Ce.includes(" tcptype ")||(Ce=Ce.replace(" typ host "," typ host tcptype passive ")),d.sdp=d.sdp.replace(_e,Ce)})),this.logger.info(to+" "+this.streamId+" remoteSdp ",d.sdp),g&&g.setAttributes({sdp:qA(d.sdp),webrtc_sid:YA(this.sessionId),is_mini:JA(this.stateCenter.isMiniSdp)}),this.peerConnection.setRemoteDescription(new RTCSessionDescription(d)).then(function(){g&&g.end(),s.logger.info(to+" "+s.streamId+" set success")},function(_e){s.logger.error(to+" "+s.streamId+" set remote error "+_e.toString()),g&&(g.setAttributes({error:fn.error.kSetRemoteDescError.code,message:_e.toString()}),g.end()),s.playStateUpdateError(Pn.error.kSetRemoteDescError,!0)}),this.state=Z,n&&t.indexOf("candidate")>-1&&(this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[],this.state=$),this.logger.info(to+" "+this.streamId+" call success")},A.prototype.onRecvCandidateInfo=function(t,n,o){var s=this;this.logger.info(Ea+" "+this.streamId+" received ");var d=this.getSpan(Yc,this.parentSpanKey);if(d&&(d.setAttributes({candidate_info:KA(o.infos)}),d.end()),this.state==Z){this.signal.sendCandidateInfoAck(t,this.sessionId,0),this.sendCandidateInfo(this.candidateInfo),this.candidateInfo=[];for(var g=0;g<o.infos.length;g++){var E={sdpMid:o.infos[g].sdpMid,sdpMLineIndex:o.infos[g].sdpMLineIndex,candidate:o.infos[g].candidate};this.logger.info(Ea+" "+this.streamId+" candidate "+E.candidate),this.peerConnection.addIceCandidate(new RTCIceCandidate(E)).then(function(){s.logger.debug(Ea+" "+s.streamId+" add success")},function(S){s.logger.error(Ea+" "+s.streamId+" add error "+S.toString()),s.playStateUpdateError(Pn.error.kCandidateError,!0)})}this.state=W;var b=this.getSpan(ga,this.parentSpanKey,"",!0);b==null||b.setAttributes({webrtc_sid:this.sessionId}),this.logger.info(Ea+" "+this.streamId+" call success")}else this.logger.warn(Ea+" "+this.streamId+" current state "+this.state+" not allowed")},A.prototype.onRecvPlayEvent=function(t,n,o){if(this.logger.info(Sl+" "+this.streamId+" received"),!this.isProbe){var s=this.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:this.streamId},{key:""},Xi);s.setAttributes({event_state:ca(o.event),webrtc_sid:n}),s.end()}if(this.playEvent===!0&&o.event==0){this.logger.info(Sl+" "+this.streamId+" retry: "+this.streamId);var d=this.streamId,g=this.playOption;this.signal.sendCloseSession((0,h.getSeq)(),this.sessionId,1),this.resetPlay(),this.startPlay(d,this.getRemoteStreamSuc,g)}else this.playEvent=!0},A.prototype.onRecvClientInfo=function(t,n,o){this.stateCenter.clientIP!==o.clientip&&this.logger.warn("zc.p.orci.1.1 client ip changed "+this.stateCenter.clientIP+" "+o.clientip),this.signal.sendClientInfoAck(t,this.sessionId,0),this.stateCenter.clientIP=o.clientip,this.peerID=o.peer_id,this.streamConnectIP=o.clientip,this.stateCenter.isMultiOuter=this.isMultiOuter(),this.isProbe&&this.stateNego==j.iceConnected&&this.signal.sendNetProbe((0,h.getSeq)(),this.sessionId,this.peerID,function(){},function(){}),this.isRecvClientInfo=!0},A.prototype.onRecvNetQualityInfo=function(t,n,o){this.logger.info(kl+" call"),this.qualityHandler.stopProbeTimeout();var s=0,d=o.lossrate,g=o.rtt;(this.peerID!==o.peer_id&&!this.isProbeByDG||typeof d==null||typeof g==null)&&(this.logger.info(kl+" local peerID:"+this.peerID+" remote peerID:"+o.peer_id+" lossrate:"+d+" rtt:"+g),s=1),this.signal.sendNetQualityInfoPushAck((0,h.getSeq)(),this.sessionId,this.peerID,s),s==0&&typeof d=="number"&&typeof g=="number"?(this.isProbeByDG=!1,this.onCalNetQualityResult(0,Ts(g,d))):this.onCalNetQualityResult(1)},A.prototype.onRecvNetQualityGrade=function(t,n,o){var s,d,g=this,E=o.net_quality_grade_push;this.userID=this.userID||((d=(s=this.streamCenter.playerList[this.streamId])===null||s===void 0?void 0:s.room.streamList.find(function(b){return b.stream_id==g.streamId}))===null||d===void 0?void 0:d.id_name),this.signal.sendNetQualityGradeAck(this.sessionId,this.peerID,0),this.userID&&(this.stateCenter.actionListener("networkQuality",this.userID,E==null?void 0:E.tx_quality,E==null?void 0:E.rx_quality),!this.netTimer&&this.startPollNetworkQuality(),this.lostQualityTime=0)},A.prototype.onIceCandidate=function(t){this.logger.info(sc+" "+this.streamId+" called"),t.candidate!=null&&(this.logger.info(sc+" "+this.streamId+" candidate "+t.candidate.candidate),this.state<W||this.state==x?(this.logger.info(sc+" "+this.streamId+" cached"),this.candidateInfo.push({candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex})):(this.logger.info(sc+" "+this.streamId+" send"),this.sendCandidateInfo([{candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex}])))},A.prototype.onConnectionStateChange=function(t){this.logger.info("zc.p.ocsc.1 "+this.streamId+" called "+t.target.signalingState),this.state!=x&&this.peerConnection!=null&&t.target.signalingState==="closed"&&(this.dataReport.addEvent(this.reportSeq,"IceClosed"),this.stateNego=j.iceClosed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState))},A.prototype.onIceConnectionStateChange=function(t){var n=this;if(this.state!=x&&this.peerConnection!=null){this.logger.info(Fs+" "+this.streamId+" stateChanged "+this.peerConnection.iceConnectionState);var o=this.getSpan(es,this.parentSpanKey,Ai.event);if(o&&o.setAttributes({ice_state:bs(this.peerConnection.iceConnectionState)}),this.peerConnection.iceConnectionState==="connected"){if(this.stateNego=j.iceConnected,this.isProbe&&this.isPeer&&(this.isRecvClientInfo||this.isProbeByDG))return this.signal.sendNetProbe((0,h.getSeq)(),this.sessionId,this.peerID,function(){},function(){}),void(this.negoTimer!=null&&(clearTimeout(this.negoTimer),this.negoTimer=null));if(this.negoTimer!=null&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.iceDisconnectedTimer!=null&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),!this.isProbe&&this.reportBeginTime){var s=new Date().getTime()-this.reportBeginTime;this.reportSpan.setAttributes({play_begin_time:ti.play_begin_time(s)}),this.reportBeginTime=0}if(this.stateCenter.reporter.spanEnd({key:ga,par:this.streamId},{webrtc_sid:this.sessionId}),this.answerSdpTime){var d=new Date().getTime()-this.answerSdpTime;this.logger.info(Fs+" "+this.streamId+" ice time "+d)}if(!this.isProbe&&this.state!=K){this.onPlayStateUpdate(Dr,this.streamId,{code:0,message:""},!0),this.getRemoteStreamSuc&&this.getRemoteStreamSuc(this.playOption.resourceMode==Vt.DG&&this.firstPlay?null:this.playStream);var g=this.playMediaStatus,E=g.video,b=g.audio,S=this.streamCenter.playModule;if(S){var l=[void 0,!0].includes(this.playOption.video),J=[void 0,!0].includes(this.playOption.audio);l&&!E&&S.mutePlayStream(this.streamId,"video",!E).then(function(Oe){n.logger.info(Fs+" mute video: ".concat(Oe))}),J&&!b&&S.mutePlayStream(this.streamId,"audio",!b).then(function(Oe){n.logger.info(Fs+" mute audio: ".concat(Oe))})}}this.state=K;var he=this.isRePlay?Vi:QA;for(var _e in this.stateCenter.reporter.spanEnd({key:he.event,par:this.streamId},{signal_consume:QA.signal_consume(this.signalTime),is_peer:QA.is_peer(this.isPeer)}),this.playStateCount++,this.continuousFailCnt=0,this.reportPlayStateTime=Date.now(),this.isProbeDispatch=!1,this.streamCenter.publisherList)if(this.streamCenter.publisherList[_e].publisher.state==L&&this.broadcasterStatus==Yt.stop){this.signal&&this.signal.sendBroadcasterStatus((0,h.getSeq)(),this.sessionId,1),this.broadcasterStatus=Yt.start;break}if(!this.isProbe){this.qualityHandler.setPlayQualityTimer();var Ce=this.stateCenter.settingConfig.getSetting("probe_started_num");!isNaN(Ce)&&(this.streamCenter.probeStartedNum=Ce)}this.logger.info(Fs+" "+this.streamId+" stateNego:iceConnected"),this.isPeer&&(this.peerFailCount=0),!this.hasConnectionChange()&&this.recordFirstFrameData(),this._turnToTcp||(this.streamCenter.udpFailNum=0)}else this.peerConnection.iceConnectionState==="closed"?(o==null||o.end(),this.stateNego=j.iceClosed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState)):this.peerConnection.iceConnectionState==="failed"?(o==null||o.end(),this.stateNego=j.iceFailed,this.checkPlayConnectionFailedState(this.peerConnection.iceConnectionState)):this.peerConnection.iceConnectionState==="disconnected"&&(o==null||o.end(),this.stateNego=j.iceDisconnected,this.logger.warn(Fs+" ice disconnected"),this.iceDisconnectedTimer||(this.iceDisconnectedTimer=setTimeout(function(){n.checkPlayConnectionFailedState("disconnected")},this.iceDisconnectedMaxTime)))}},A.prototype.onPeerConnectionStateChange=function(t){this.logger.info("zc.p.opcsc.1 "+this.streamId+" connectionChanged "+this.peerConnection.connectionState),this.peerConnection.connectionState==="connected"&&this.recordFirstFrameData()},A.prototype.hasConnectionChange=function(){var t,n,o=this.stateCenter.browser;return!(o==="firefox"||o==="chrome"&&(t=0,n=(navigator.userAgent.toLowerCase().match(/chrome\/([\d.]+)/)||[])[1],n&&(t=parseInt(n.split(",")[0])),t<72))},A.prototype.checkPlayConnectionFailedState=function(t){this.logger.info(Fs+"  state "+this.state+" connectionState "+t),this.playStateUpdateError(Pn.error.kMediaConnectionError)},A.prototype.resetPlay=function(){this.logger.info("zc.p.rp.1 "+this.streamId+" call"),this.state=x,this.playEvent=!1,this.isRecvClientInfo=!1,this.peerConnection!=null&&(this.peerConnection.close(),this.peerConnection=null),this.negoTimer!=null&&(clearTimeout(this.negoTimer),this.negoTimer=null),this.iceDisconnectedTimer!=null&&(clearTimeout(this.iceDisconnectedTimer),this.iceDisconnectedTimer=null),this.stopVideocTimer(),this.qualityHandler.stopProbeTimeout(),this.qualityHandler.clearPlayQualityTimer(),this.signal&&(this.signal.unregisterPushCallback("MediaDescPush",this.sessionId),this.signal.unregisterPushCallback("CandidateInfoPush",this.sessionId),this.signal.unregisterPushCallback("CloseSessionPush",this.sessionId),this.signal.unregisterPushCallback("SessionResetPush",this.sessionId),this.signal.unregisterPushCallback("PlayEventPush",this.sessionId),this.signal.unregisterPushCallback("ClientInfoPush",this.sessionId),this.signal.unregisterPushCallback("NetQualityProbeRsp",this.sessionId),this.signal.unregisterPushCallback("NetQualityInfoPush",this.sessionId),this.signal.gw.unregisterPushCallback("net_quality_grade_push",this.sessionId)),this.sessionSeq=0,this.answerSeq=0,this.videoSizeCallback=!1,this.stopSoundLevel()},A.prototype.onRecvResetSession=function(t,n,o){this.logger.info(bl+" "+this.streamId+" received ");var s=this.getSpan(Ja,Ai.event);if(s&&s.end(),n==this.sessionId){this.signal.sendCloseSessionAck(t,this.sessionId,0);var d=JSON.parse(JSON.stringify(Pn.error.kPlaySessionClosedError));this.negoTimer&&clearTimeout(this.negoTimer),this.playStateUpdateError(d)}else this.logger.info(bl+" "+this.streamId+" cannot find session")},A.prototype.onRecvCloseSession=function(t,n,o){var s=this;this.logger.info(wl+" "+this.streamId+" "+JSON.stringify(o)),this.stateCenter.reporter.spanSetAttributes({key:Ai.event,par:this.streamId},{denied_info:Ai.denied_info(o.err_info),stop_reason:Ai.stop_reason("DenyStop")}),this.signal.sendCloseSessionAck(t,this.sessionId,0);var d=o.err_info?JSON.parse(o.err_info.toLowerCase()):{},g=d.action?d.action:null,E=1*o.reason,b=JSON.parse(JSON.stringify((d==null?void 0:d.err)===1004?Pn.error.kPlayStreamNotFound:Pn.error.kPlaySessionClosedError));b.message+=" reason:".concat(E," ").concat(g?" action:"+g:""," ").concat(d!=null&&d.err?" err:"+(d==null?void 0:d.err):""),b.message+=";".concat(ug(E,g,d==null?void 0:d.err)),this.negoTimer&&clearTimeout(this.negoTimer);var S=!([4,8,10,11,12,14,24,26,27,28,32].includes(E)||[2,3,4,5,6].includes(g));(d==null?void 0:d.err)===1004&&this.checkTryEmptyStreamTimeout()&&(S=!0);var l=!1;if(!this._turnToTcp){if([8,10].includes(E)||[18,15].includes(E)&&g===2&&[3001,3002].includes(d.err)){this.streamCenter.udpFailNum++;var J=this.streamCenter;J.autoSwitchProtocol&&J.udpFailNum>=J.maxUdpFailNum&&(this.isPeer=!1,this.streamCenter.setIsPeer(!1),l=!0)}else this._turnToTcp||(this.streamCenter.udpFailNum=0);var he=this.gwNodeList.findIndex(function(Ce){return Ce==s.gwNode})===this.gwNodeList.length-1,_e=[3001,3002,3003,3004,3005,3006,3007,3008].includes(d.err);he&&_e&&(this.logger.info(wl+" "+this.streamId+" switch tcp by all fail"),this.stateCenter.turnToTcp=!0)}this.playStateUpdateError(b,S,d,l)},A.prototype.checkTryEmptyStreamTimeout=function(){var t=Date.now(),n=this.stateCenter.streamRetryTime,o=this.streamNotFoundTime;if(o){if(t-o>1e3*n)return this.streamNotFoundTime=0,this.logger.info("zc.p.ctest.1 "+this.streamId+" stream not found. retry over time: ".concat(n,"s")),!0}else this.streamNotFoundTime=t;return!1},A.prototype.onRecvStreamStatus=function(t,n,o){o===void 0&&(o=!1),this.logger.info(ya+" "+this.streamId+" call"),this.logger.info("".concat(ya," ").concat(this.streamId," status camera_status: ").concat(n.camera_status," mic_status: ").concat(n.mic_status)),this.signal.sendStreamStatusNotifyAck(t,this.sessionId,0),this.reportFirstFrameData(n.camera_status,n.mic_status),(!this.hasSentStreamStatus||this.cameraStatus!==n.camera_status)&&this.onRemoteCameraStatusUpdate(this.streamId,this.getCameraMicStatus(n.camera_status),n.camera_status),(!this.hasSentStreamStatus||this.micStatus!==n.mic_status)&&this.onRemoteMicStatusUpdate(this.streamId,this.getCameraMicStatus(n.mic_status),n.mic_status),this.hasSentStreamStatus=!0;var s=this.cameraStatus!==n.camera_status;if(this.cameraStatus=n.camera_status,this.micStatus=n.mic_status,this.videoMuteState=n.camera_status===0?"0":"1",this.audioMuteState=n.mic_status===0?"0":"1",typeof this.playOption.video=="boolean")this.logger.info(ya+" "+this.streamId+" has set video option, ignore stream status");else{var d=this.playStream,g=this.rtcViewer;if(n.camera_status!==0&&n.camera_status!==20)g?s&&(this.logger.info(ya+" "+this.streamId+" viewer clear last frame"),g.checkIfClearLastFrame()):d.getVideoTracks().forEach(function(J){J.enabled=!1,J.stop(),d.removeTrack(J)});else if(d.getVideoTracks().length===0){var E=this.remoteStream.clone().getVideoTracks()[0];d.addTrack(E),g&&g.setVideo(E,this.stateCenter.browser==="safari")}if(this.stateCenter.browser==="safari"&&o)for(var b=document.querySelectorAll("video, audio"),S=0;S<b.length;S++){var l=b[S];l.srcObject===this.playStream&&(this.logger.info(ya+" track changed. rerender stream"),l.srcObject=this.playStream)}}this.logger.info(ya+" "+this.streamId+" call success")},A.prototype.onGotRemoteStream=function(t,n){var o=this;if(this.logger.info(gA+" "+this.streamId+" called "+t),t){var s=this.playOption.playoutDelayHint;if(!isNaN(s)&&n)try{this.logger.info(gA+" "+this.streamId+" playoutDelayHint: ".concat(s,", origin delay: ").concat(n.playoutDelayHint)),n.playoutDelayHint=s,this.logger.info(gA+" "+this.streamId+" playoutDelayHint result: ".concat(n.playoutDelayHint))}catch(g){this.logger.warn(gA+" set playoutDelayHint failed. ".concat(g))}if(this.sideMediaConfig.isSEIStart&&typeof n.createEncodedStreams=="function"&&(n.track.kind==="video"?this.createVideoReceiverTransform(n):n.track.kind==="audio"&&this.createAudioReceiverTransform(n)),this.playStream){this.playStream.getTracks().forEach(function(g){return o.playStream.removeTrack(g)});var d=this.rtcViewer;t.clone().getTracks().forEach(function(g){return BA(o,void 0,void 0,function(){return vA(this,function(E){return this.playStream.addTrack(g),d&&d.setTrack(g.kind==="video",g,this.stateCenter.browser==="safari"),[2]})})})}else this.playStream=t.clone();this.audioMuteState=this.playStream.getAudioTracks().length>0?"0":"1",this.videoMuteState=this.playStream.getVideoTracks().length>0?"0":"1",this.remoteStream=t,this.getVideoCodec(),this.gotStreamStatus&&this.onRecvStreamStatus(this.statusSeq,this.streamStatus,!0),this.streamCenter.soundLevelDelegate&&!this.isProbe&&this.startSoundLevel()}else this.logger.warn(gA+" "+this.streamId+" remote stream is empty")},A.prototype.createVideoReceiverTransform=function(t){var n=t.createEncodedStreams(),o=new TransformStream({transform:this.decodeVideoFrame});this.receiverStreams=n,n.readable.pipeThrough(o).pipeTo(n.writable)},A.prototype.createAudioReceiverTransform=function(t){var n=t.createEncodedStreams(),o=new TransformStream({transform:this.decodeAudioFrame});n.readable.pipeThrough(o).pipeTo(n.writable)},A.prototype.sendCandidateInfo=function(t){var n=this;if(this.logger.info(dA+" "+this.streamId+" called"),!(t=t.filter(function(s){return s.candidate.indexOf("relay")>0}))||t.length<1)this.logger.info(dA+" "+this.streamId+" cancelled");else{var o=this.getSpan(ns,this.parentSpanKey);o&&o.setAttributes({candidate_info:Jc(t)}),this.stateNego!==j.iceConnected&&(this.stateNego=j.sendCandidate),this.logger.info(dA+" "+this.streamId+" stateNego:sendCandidate"),this.signal.sendCandidateInfo((0,h.getSeq)(),this.sessionId,t,function(s,d,g){n.logger.debug(dA+" "+n.streamId+" send success"),o&&o.end()},function(s,d){n.logger.error(dA+" "+n.streamId+" failed to send: "+s.toString()),o&&n.stateCenter.reporter.setError(o,{code:fn.error.kCandidateError.code,message:s.toString()}),n.playStateUpdateError(Pn.error.kCandidateError)})}},A.prototype.shouldSendCloseSession=function(){return this.state!=Nr&&this.state!=w},A.prototype.resetPushCmdSeqMap=function(){var t;this.pushCmdSeqMap=((t={}).MediaDescPush={seq:-1,time:0},t.StreamStatusNotifyPush={seq:-1,time:0},t.PlayEventPush={seq:-1,time:0},t.ClientInfoPush={seq:-1,time:0},t.NetQualityInfoPush={seq:-1,time:0},t.CandidateInfoPush={seq:-1,time:0},t)},A.prototype.playStateUpdateError=function(t,n,o,s){if(this.logger.error(Dl+" call ",this.streamId,JSON.stringify(t)),!this.isProbe){var d=this.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:this.streamId},{key:""},ni);d.setAttributes({error:t==null?void 0:t.code,message:t==null?void 0:t.message}),d.end()}this.isProbe?this.onCalNetQualityResult(1):this.streamId&&this.onPlayStateUpdate(Kt,this.streamId,t,n,o,s),this.logger.info(Dl+" "+this.streamId+" ended")},A.prototype.getCameraMicStatus=function(t){return t==0?"OPEN":"MUTE"},A.prototype.onPlayStateUpdate=function(t,n,o,s,d,g){},A.prototype.onPlayQualityUpdate=function(t,n){},A.prototype.onRemoteCameraStatusUpdate=function(t,n,o){},A.prototype.onRemoteMicStatusUpdate=function(t,n,o){},A.prototype.getStopReason=function(t){var n="StopPlay";return t&&t.code&&(t.code===1104031?n="ReachMaxAVRetryTime":n="StopPlay"),n},A.prototype.stopPlay=function(t,n){var o,s,d,g;this.logger.info("zc.p.1.sp.1 "+this.streamId+" called");var E=this.getStopReason(t);for(var b in this.streamCenter.publisherList)if(this.streamCenter.publisherList[b].publisher.state==L&&this.broadcasterStatus==Yt.start){this.signal&&this.signal.sendBroadcasterStatus((0,h.getSeq)(),this.sessionId,0),this.broadcasterStatus=Yt.stop;break}if(this.sessionId&&!this.closeSessionSignal&&(this.signal.sendCloseSession((0,h.getSeq)(),this.sessionId,0),this.resetPushCmdSeqMap()),!this.isProbe){var S=Date.now()-this.reportPlayStateTime;[0,2].includes(this.resourceMode)&&this.reportSpan.setAttributes({play_state_time:ti.play_state_time(S||0)}),this.uploadRTCPlayStats(),this.stateCenter.reporter.spanSetAttributes({key:Ai.event,par:this.streamId},{stop_reason:Ai.stop_reason(E)})}if(this.stopPollNetworkQuality(),this.resetPlay(),!this.isProbe&&!n){var l=this.qualityHandler,J=l.videoBreak,he=l.audioBreak,_e=this.resourceMode===2?"l3":"rtc",Ce=((o={})["".concat(_e,"_a_break_time")]=he.cumulativeBreakDuration,o["".concat(_e,"_a_decode_time")]=he.cumulativeDecodeDuration,o["".concat(_e,"_v_break_time")]=J.cumulativeBreakDuration,o["".concat(_e,"_v_decode_time")]=J.cumulativeDecodeDuration,o.audio_cumulative_break_time=he.cumulativeBreakDuration,o.audio_cumulative_decode_time=he.cumulativeDecodeDuration,o.video_cumulative_break_time=J.cumulativeBreakDuration,o.video_cumulative_decode_time=J.cumulativeDecodeDuration,o);this.reportSpan.setAttributes(Tu({biz_product:((s=this.playOption)===null||s===void 0?void 0:s.resourceMode)==Vt.DG?1:0,webrtc_sid:ti.webrtc_sid(this.sessionId),max_retry_interval:ti.max_retry_interval(this.stateCenter.streamRetryTime),probe_ip_cnt:ti.probe_ip_cnt(this.probeIpCnt),valid_probe_ip_cnt:ti.valid_probe_ip_cnt(this.validProbeIpCnt),poor_quality_retry_cnt:ti.poor_quality_retry_cnt(this.poorQualityRetryCnt),probe_not_trigger_retry_info:ti.probe_not_trigger_retry_info(this.probeNotRetryInfos.length>0?this.probeNotRetryInfos:void 0),fail_cnt:ti.fail_cnt(Math.max(this.rtcPlayCount-1,0)),continuous_fail_cnt:ti.continuous_fail_cnt(this.continuousFailCnt),use_resource_type:ti.use_resource_type(this.resourceMode===Vt.DG?this.useResourceTypes:[As(this.resourceMode)]),use_na:vn.use_na(this.stateCenter.useNetAgent?1:0),play_state_cnt:ti.first_frame_time(this.playStateCount),protocol:ti.protocol("webrtc"),dispatch_external_ip:ti.dispatch_external_ip(this.stateCenter.clientIP),w:ti.w((d=this.playStat)===null||d===void 0?void 0:d.frameWidth),h:ti.h((g=this.playStat)===null||g===void 0?void 0:g.frameHeight),stop_reason:ti.stop_reason(E),error:(t==null?void 0:t.code)||0,message:(t==null?void 0:t.message)||"",cdn_a_break_time:0,cdn_a_decode_time:0,cdn_v_break_time:0,cdn_v_decode_time:0,l3_a_break_time:0,l3_a_decode_time:0,l3_v_break_time:0,l3_v_decode_time:0,rtc_a_break_time:0,rtc_a_decode_time:0,rtc_v_break_time:0,rtc_v_decode_time:0},Ce)),this.reportSpan.end()}this.streamCenter.stopToReport(1),this.retryFailGwNodes=[],this.isRePlay=!1,this.rtcPlayCount=0,this.isProbeDispatch=!1,this.probeIpCnt=0,this.validProbeIpCnt=0,this.poorQualityRetryCnt=0,this.continuousFailCnt=0;var Oe=this.rtcViewer;Oe&&Oe.destroy()},A.prototype.onDisconnect=function(t){this.logger.info("zc.p.od.1 "+this.streamId+" call"),this.playStateUpdateError(t||Pn.error.kWebsocketDisconnectedError,!!t)},A.prototype.startSoundLevel=function(){var t,n=this;if(this.logger.info(tu+" call streamID: "+this.streamId),!this.isProbe)if(this.remoteStream&&this.remoteStream.getAudioTracks().length!=0){(t=this.soundMeterWorklet)===null||t===void 0||t.destroy(),this.mic=null;var o=this.streamCenter.getCloudSoundInterval();try{var s=this,d=this.streamCenter.createSoundLevel(this.ac,this.remoteStream,this.streamCenter.soundLevelInterval,o,function(E){s.soundLevel=n.micStatus===0?100*E:0}),g=d.mic;this.soundMeterWorklet=d.soundMeter,this.mic=g}catch(E){this.logger.error(tu+" get sound level failed "+E)}}else this.logger.info(tu+" "+this.streamId+" remote stream no found")},A.prototype.stopSoundLevel=function(){var t;this.logger.info("zc.p.ssl.1.1 call streamID: "+this.streamId),(t=this.soundMeterWorklet)===null||t===void 0||t.destroy(),this.mic=null},A.prototype.onCalNetQualityResult=function(t,n){},A.prototype.onReceivedDataChannel=function(t){var n,o,s=this,d=new Uint8Array(t.data,0,10),g=t.data.byteLength-10,E=new Uint8Array(t.data,10,g);if(d[0]==1){var b=d[1],S=d[2]<<8|d[3],l=d[4]<<8|d[5],J=new Date().getTime();if(this.first_pkt&&(this.next_sn[0]=S==l?S:l,this.first_pkt=!1),this.pkt_list.push({sn:S,sn0:l,recv_ts:J,flags:b,payload_len:g,payloadArray:E}),this.pkt_list.sort(this.compareShort),S==this.next_sn[0]){var he=this.pkt_list.filter(function(Xe){return Xe.sn0==l});if(he.sort(this.compareShort),he.find(function(Xe){return 1&Xe.flags})!=null&&he.length==this.compareShort(S,l)+1){for(var _e=0,Ce=new ArrayBuffer(65536),Oe=0;Oe<he.length;Oe++)new Uint8Array(Ce).set(he[Oe].payloadArray,_e),_e+=he[Oe].payload_len;(n=this.onDataChannelList)===null||n===void 0||n.forEach(function(Xe){Xe(Ce,_e,s.streamId)}),this.pkt_list=[],this.first_pkt=!0}this.next_sn[0]++}else for(var $e=function(){var Xe=ze.pkt_list.filter(function(ut){return ut.sn0==s.pkt_list[0].sn0});if(Xe.sort(ze.compareShort),Xe.find(function(ut){return 1&ut.flags})!=null&&Xe.length==ze.compareShort(Xe[Xe.length-1].sn,Xe[0].sn0)+1){for(var et=0,gt=new ArrayBuffer(65536),_t=0;_t<Xe.length;_t++)new Uint8Array(gt).set(Xe[_t].payloadArray,et),et+=Xe[_t].payload_len;ze.next_sn[0]=Xe[0].sn0+Xe.length,(o=ze.onDataChannelList)===null||o===void 0||o.forEach(function(ut){ut(gt,et,s.streamId)}),ze.pkt_list=[],ze.first_pkt=!0}else if(J-Xe[0].ts<4e3){var Bt=Xe[0].sn0;for(_t=0;_t<Xe.length&&Bt==Xe[_t].sn;_t++)Bt++;return ze.next_sn[0]=Bt,"break"}for(_t=0;_t<Xe.length;_t++)ze.pkt_list.shift()},ze=this;this.pkt_list.length>0&&$e()!=="break";);}},A.prototype.compareShort=function(t,n){var o=new Uint16Array(1);o[0]=t-n;var s=new Int16Array(1);return s[0]=o[0],s[0]},A.prototype.uploadRTCPlayStats=function(){var t,n,o,s,d,g,E,b,S,l,J,he,_e,Ce,Oe;this.stateCenter.reporter.spanSetAttributes({key:Ai.event,par:this.streamId},{lsttime:Ai.lsttime(parseInt(this.qualityHandler.lastPlayStats.time)),total_stat:li.total_stat({afc:(t=this.lastPlayStats)===null||t===void 0?void 0:t.audioPacketsReceived,vfc:(n=this.lastPlayStats)===null||n===void 0?void 0:n.framesReceived,tfc:((o=this.lastPlayStats)===null||o===void 0?void 0:o.audioPacketsReceived)+((s=this.lastPlayStats)===null||s===void 0?void 0:s.framesReceived),vb:(d=this.lastPlayStats)===null||d===void 0?void 0:d.videoBytesReceived,ab:(g=this.lastPlayStats)===null||g===void 0?void 0:g.audioBytesReceived,tb:((E=this.lastPlayStats)===null||E===void 0?void 0:E.videoBytesReceived)+((b=this.lastPlayStats)===null||b===void 0?void 0:b.audioBytesReceived),rtp_rtt:Math.round(1e3*((S=this.playStat)===null||S===void 0?void 0:S.currentRoundTripTime))||0,w:(l=this.playStat)===null||l===void 0?void 0:l.frameWidth,rtp_plr:(J=this.playStat)===null||J===void 0?void 0:J.videoPacketsLostRate,h:(he=this.playStat)===null||he===void 0?void 0:he.frameHeight,rtp_bw:!((_e=this.playStat)===null||_e===void 0)&&_e.googAvailableSendBandwidth?(Ce=this.playStat)===null||Ce===void 0?void 0:Ce.googAvailableSendBandwidth:void 0,p2p_delay:(Oe=this.playStat)===null||Oe===void 0?void 0:Oe.peerToPeerDelay})})},A.prototype.getVideoCodec=function(){var t=this;this.peerConnection&&(this.peerConnection.getStats().then(function(n){n.forEach(function(o){if(o.type==="inbound-rtp"&&o.kind==="video"&&o.codecId){var s=n.get(o.codecId).mimeType.toLowerCase();s.indexOf("h264")>-1?t.videoCodec="H264":s.indexOf("vp8")>-1&&(t.videoCodec="VP8",t.sideMediaConfig.isSEIStart&&t.logger.error("zc.p.gvc video code VP8 is not support SEI"))}})}),this.videoCodecTimes++,this.videoCodec||this.videoCodecTimes>=5)?this.stopVideocTimer():this.videoCodecTimer=setTimeout(function(){t.getVideoCodec()},100)},A.prototype.stopVideocTimer=function(){this.videoCodecTimer&&(clearTimeout(this.videoCodecTimer),this.videoCodecTimer=null)},A.prototype.getViewer=function(){return this.playStream&&!this.rtcViewer&&(this.rtcViewer=new Au(this.playStream,this,{clearLastFrame:this.stateCenter.engineConfig.playClearLastFrame})),this.rtcViewer},A.prototype.isMultiOuter=function(){return!(!this.stateCenter.accessClientIp||!this.streamConnectIP||this.stateCenter.accessClientIp===this.streamConnectIP)},A.prototype.isCustomCdn=function(){return!1},A.prototype.getSpan=function(t,n,o,s){return s===void 0&&(s=!1),this.isProbe?null:this.stateCenter.reporter.createSpan(Zt.H,{key:n,bak_key:o,par:this.streamId},{key:t,par:this.streamId},t,s)},A.prototype.setTurnTcp=function(){this._turnToTcp=this.stateCenter.turnToTcp,this.stateCenter.turnOverTcpOnly!==void 0&&(this._turnToTcp=this.stateCenter.turnOverTcpOnly)},A.prototype.recordFirstFrameData=function(){var t;this.isProbe||this.firstFrameTime!=0||(this.firstFrameTime=new Date().getTime()-this.beginTime,this.reportSpan.setAttributes({first_frame_time:ti.first_frame_time(this.firstFrameTime),fft_video:ti.fft_video(this.firstFrameTime),fft_audio:ti.fft_audio(this.firstFrameTime),biz_product:_i.biz_product(((t=this.playOption)===null||t===void 0?void 0:t.resourceMode)==Vt.DG?1:0)}),this.firstVideoSpan=this.firstFrameSpan("video"),this.firstAudioSpan=this.firstFrameSpan("audio"))},A.prototype.reportFirstFrameData=function(t,n){t===0&&this.firstVideoSpan&&(this.firstVideoSpan.setAttributes({dev_changed:_i.dev_changed(this.cameraStatus!==0)}),this.firstVideoSpan.spanReport(),this.firstVideoSpan=null),n===0&&this.firstAudioSpan&&(this.firstAudioSpan.setAttributes({dev_changed:Uo.dev_changed(this.micStatus!==0)}),this.firstAudioSpan.spanReport(),this.firstAudioSpan=null)},A.prototype.firstFrameSpan=function(t){var n,o=t==="video"?_i:Uo,s=this.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:this.streamId},{key:""},o.event),d=this.streamInRoom?2:this.streamRoomPushConsumed===0?0:1,g=new Date().getTime()-this.answerSdpTime;return s.setAttributes({webrtc_sid:o.webrtc_sid(this.sessionId),resource_type:o.resource_type(As(this.resourceMode)),fft_consumed:o.fft_consumed(this.firstFrameTime),protocol:o.protocol("webrtc"),push_consumed:o.push_consumed(this.streamRoomPushConsumed),prepare_recv_consumed:o.prepare_recv_consumed(this.signalTime),connected_consumed:o.connected_consumed(g),reliability:o.reliability(d),biz_product:o.biz_product(((n=this.playOption)===null||n===void 0?void 0:n.resourceMode)==Vt.DG?1:0)}),s==null||s.end(!1),s},A.prototype.setStreamAdd=function(){this.streamInRoom||this.streamRoomPushConsumed!==0||this.state===W||(this.streamRoomPushConsumed=new Date().getTime()-this.playStartTime)},A.prototype.startPollNetworkQuality=function(){var t=this;clearTimeout(this.netTimer),this.netTimer=setTimeout(function(){t.lostQualityTime++;var n=Dt.Unknown,o=Dt.Unknown;t.userID&&t.lostQualityTime>1&&(t.lostQualityTime>3&&(n=Dt.Die,o=Dt.Die),t.stateCenter.actionListener("networkQuality",t.userID,n,o)),t.startPollNetworkQuality()},3e3)},A.prototype.stopPollNetworkQuality=function(){clearTimeout(this.netTimer),this.lostQualityTime=0},A}(),Eg=function(){function A(){this.RETRY_MAX_TIME=300,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryStartTime=0,this.retryActiveCount=1,this.retryNetCount=0,this.retryNetMaxTimes=3,this.isOverTime=!1}return A.prototype.init=function(t,n,o,s){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,typeof t=="number"&&t<3600&&(this.RETRY_MAX_TIME=t),typeof n=="number"&&(this.RETRY_START_TIME_INTERVAL=n),typeof o=="number"&&(this.RETRY_CONTINUE_COUNT=o),typeof s=="number"&&(this.RETRY_MAX_TIME_INTERVAL=s)},A.prototype.invalid=function(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.startRetryTimer&&clearTimeout(this.startRetryTimer),this.startRetryTimer=null,this.retryStartTime=0,this.retryActiveCount=1,this.retryNetCount=0},A.prototype.isRetrying=function(){return this.retryTimer!==null||this.startRetryTimer!==null||this.maxTimer!==null},A}(),ih=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),yg=di,Bg=vn,vg=function(A){function t(n,o,s,d){var g=A.call(this)||this;return g.logger=n,g.stateCenter=o,g.streamCenter=s,g.isPublish=d,g.serverUrls=[],g}return ih(t,A),t.prototype.initStream=function(n,o){this.streamID=n,this.serverUrls=o},t.prototype.activePublish=function(n){var o=this;if(this.logger.info("zc.tsh.a retry call "+this.streamID),this.retryTimer)return this.logger.info("zc.tsh.a has active, ignore"),!1;var s=this.stateCenter.networkState==ne.offline;if(s){if(this.logger.info("zc.tsh.a check if really offline. "+this.retryNetCount),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn("zc.tsh.a network is broken, stop retry"),!1}else this.retryNetCount=0;if(this.isOverTime)return this.logger.warn("zc.tsh.a retry over time, stop retry"),!1;if(this.retryActiveCount==1)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var d=Math.pow(2,Math.floor(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)-1);this.retryActiveInterval=d>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:d}var g=this.streamCenter.publisherList[this.streamID].publisher,E=this.serverUrls[0],b=["unified_rtc","unified_l3"].includes(E);if(!b){var S=this.serverUrls,l=g.signal?g.signal.server:"";S.forEach(function(_e,Ce){return Ce<=S.indexOf(l)&&o.serverUrls.push(_e)}),S.splice(0,S.indexOf(l)+1),E=this.serverUrls[this.retryActiveCount%this.serverUrls.length==0?this.serverUrls.length-1:this.retryActiveCount%this.serverUrls.length-1]}var J=typeof n=="number"?n:1e3*this.retryActiveInterval;this.stateCenter.reporter.spanSetAttributes({key:g.parentSpanKey,par:this.streamID},{wait_consume:Bn.wait_consume(J)});var he=function(){o.logger.info("zc.tsh.a stream ".concat(o.streamID," : connect to ").concat(b?"unified signal server":"signal server "+E)),o.retryTimer&&clearTimeout(o.retryTimer),o.retryTimer=null,s?o.retryNetCount++:o.retryActiveCount++,o.streamCenter.connectPublishServer(o.streamID,E)};return J!==0?this.retryTimer=setTimeout(he,J):he(),this.logger.info("zc.tsh.a call success. delay: "+J),!0},t.prototype.activePull=function(n,o){var s=this;if(this.logger.info("zc.tsh.a retry call "+this.streamID),o&&(this.playStreamSuccess=o),this.retryTimer)return this.logger.info("zc.tsh.a has active, ignore"),!1;var d=this.stateCenter.networkState==ne.offline;if(d){if(this.logger.info("zc.tsh.a check if really offline. "+this.retryNetCount),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn("zc.tsh.a network is broken, stop retry"),!1}else this.retryNetCount=0;if(this.isOverTime)return this.logger.warn("zc.tsh.a retry over time, stop retry"),!1;if(this.retryActiveCount==1)this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL);else{var g=Math.pow(2,Math.floor(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)-1);this.retryActiveInterval=g>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:g}var E=this.streamCenter.playerList[this.streamID].player,b=this.serverUrls,S=E.signal?E.signal.server:"",l=this.serverUrls[0],J=["unified_rtc","unified_l3"].includes(l);J||(b.forEach(function(_e,Ce){return Ce<=b.indexOf(S)&&s.serverUrls.push(_e)}),b.splice(0,b.indexOf(S)+1),l=this.serverUrls[this.retryActiveCount%this.serverUrls.length==0?this.serverUrls.length-1:this.retryActiveCount%this.serverUrls.length-1]);var he=typeof n=="number"?n:1e3*this.retryActiveInterval;return this.stateCenter.reporter.spanSetAttributes({key:E.parentSpanKey,par:this.streamID},{wait_consume:An.wait_consume(he)}),this.retryTimer=setTimeout(function(){s.logger.warn("zc.tsh.a stream ".concat(s.streamID," : connect to ").concat(J?"unified signal server":"signal server "+l)),s.retryTimer&&clearTimeout(s.retryTimer),s.retryTimer=null,d?s.retryNetCount++:s.retryActiveCount++,s.streamCenter.connectPlayServer(s.streamID,s.playStreamSuccess,l)},he),this.logger.info("zc.tsh.a call success. delay: "+he),!0},t.prototype.startMaxTime=function(){var n=this;this.logger.info("zc.tsh.smt ".concat(this.streamID," call")),this.maxTimer?this.logger.warn("zc.tsh.smt max timer"):(this.maxTimer=setTimeout(function(){if(n.logger.warn("zc.tsh.smt ".concat(n.streamID," over max time ").concat(n.RETRY_MAX_TIME,"s, stop retry")),n.isOverTime=!0,n.invalid(),n.isPublish){if(!n.streamCenter.publisherList[n.streamID])return void n.logger.info("zc.tsh.smt streamID "+n.streamID+" publish no found");n.publishStateHandle(pr,n.streamID,tn.error.kPublishRetryTimeoutError,!0)}else{if(!n.streamCenter.playerList[n.streamID])return void n.logger.info("zc.tsh.smt streamID "+n.streamID+" play no found");n.playStateHandle(Kt,n.streamID,fn.error.kPlayRetryTimeoutError,!0)}},1e3*this.RETRY_MAX_TIME),this.logger.info("zc.tsh.smt maxTimer=".concat(this.maxTimer)))},t.prototype.stopMaxTime=function(){this.logger.info("zc.tsh.stmt streamID "+this.streamID+" maxTimer="+this.maxTimer),this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.onactive=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o]},t.prototype.retryNextSignal=function(n){var o,s,d,g;if(this.stateCenter.networkState==ne.offline)return this.logger.info("zc.tsh.rns "+this.streamID+" offline"),!0;if(this.isPublish){var E=this.streamCenter.publisherList[this.streamID];if(E.publisher.state==O&&[tn.error.kPublishNegoTimeoutError.code].includes(n.code))return!0;if(this.logger.info("zc.tsh.rns "+this.streamID+" publish ws state "+((o=E.publisher.signal)===null||o===void 0?void 0:o.wsReadyState)),this.logger.info("zc.tsh.rns "+this.streamID+" offline"),E.isCenterNode&&((s=E.publisher.signal)===null||s===void 0?void 0:s.wsReadyState)==Ui.OPEN)return!1;if(!E.isCenterNode&&[tn.error.kPublishSessionClosedError.code].includes(n.code)){var b=n.message.match(/reason:(\d+)/);return!["26"].includes(b?b[1]:"")}return!0}var S=this.streamCenter.playerList[this.streamID];return S.player.state==x&&[fn.error.kPlayNegoTimeoutError.code].includes(n.code)?!0:(this.logger.info("zc.tsh.rns "+this.streamID+" play ws state "+((d=S.player.signal)===null||d===void 0?void 0:d.wsReadyState)),S.isCenterNode&&((g=S.player.signal)===null||g===void 0?void 0:g.wsReadyState)==Ui.OPEN?!1:!S.isCenterNode&&[fn.error.kPlaySessionClosedError.code].includes(n.code)?(b=n.message.match(/reason:(\d+)/),!["24","26","28"].includes(b?b[1]:"")):!0)},t.prototype.publishStateHandle=function(n,o,s,d,g,E){this.logger.info(pn+" call "+o+" "+(s?s.code+"":"")+" "+d+" "+JSON.stringify(g)+" "+E);var b=d||this.RETRY_MAX_TIME<3;if(!b&&s&&(pa(s)||this.serverUrls.length==0))return this.logger.info(pn+" stop "+b+" "+JSON.stringify(this.serverUrls)),this.stopMaxTime(),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,void this.streamCenter.onPublishStateUpdate(n,o,s);var S=this.streamCenter.publisherList[o],l=S.publisher;if(!b&&s&&s.code!==0){if(this.maxTimer||b||this.startMaxTime(),this.stateCenter.useNetAgent&&s.code===Tr.code)return this.logger.info(pn+" connect fail"),this.activePublish(),void this.streamCenter.onPublishStateUpdate(2,o,s);this.stateCenter.publishStreamList[o].state=ot.retryPublish;var J=l.localStream,he=l.videoInfo,_e=l.mediaStreamConfig,Ce=l.publishOption;if(l.sessionId!=0&&l.signal&&l.shouldSendCloseSession()&&(l.signal.sendCloseSession((0,h.getSeq)(),l.sessionId,1),l.signal.removeSession(l.sessionId),l.closeSessionSignal=!0),l.resetPublish(),!b&&!this.retryNextSignal(s)){if(this.logger.info(pn+" retry current signal "),this.rePublishSpan(o,s,l),S.isCenterNode){this.logger.info(pn+" current node "+l.gwNode+" failed "+JSON.stringify(l.retryFailGwNodes));var Oe=l.retryFailGwNodes.findIndex(function(Xe){return Xe===l.gwNode});Oe>=0&&l.retryFailGwNodes.splice(Oe,1),l.retryFailGwNodes.push(l.gwNode),this.retryNewGwNode(l,s,g,E)}this.startRetryTimer&&clearTimeout(this.startRetryTimer),this.startRetryTimer=null;var $e=tn.error,ze=[$e.kPublishNetworkBrokenError.code,$e.kMediaConnectionError.code].includes(s.code)?0:1e3;return this.logger.info(pn+" delay "+ze),this.startRetryTimer=setTimeout(function(){l.state==O&&l.startPublish(o,J,he,_e,Ce)},ze),void(s&&s.code!==0&&this.streamCenter.onPublishStateUpdate(2,o,s))}this.streamCenter.removeStreamFromSignal(!0,o)}if(b)return this.stopMaxTime(),this.invalid(),n===1&&l.resetPublish(),s!=null&&s.code&&this.stateCenter.reporter.spanSetAttributes({key:l.parentSpanKey,par:o},s),void this.streamCenter.onPublishStateUpdate(n,o,s);s&&s.code!==0&&this.activePublish(void 0)&&(l&&(l.isExternal=!1),this.rePublishSpan(o,s,l),this.streamCenter.onPublishStateUpdate(2,o,s)),this.logger.info(pn+" end "+o)},t.prototype.needReDispatchError=function(n){return[tn.error.kPublishNetProbePoor.code,fn.error.kPlayNetProbePoor.code].includes(n.code)},t.prototype.playStateHandle=function(n,o,s,d,g,E){this.logger.info(Qn+" call "+o+" "+(s?s.code+"":"")+" "+d+" "+JSON.stringify(g)+" "+E);var b=d||this.RETRY_MAX_TIME<3;if(!b&&s&&(pa(s)||this.serverUrls.length==0))return this.logger.info(Qn+" stop "+b+" "+JSON.stringify(this.serverUrls)),this.stopMaxTime(),this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,void this.streamCenter.onPlayStateUpdate(n,o,s);var S=this.streamCenter.playerList[o],l=S.player;if(!b&&s&&s.code!==0){!this.maxTimer&&!b&&this.startMaxTime();var J=l.playOption;if(l.sessionId!=0&&l.signal&&l.shouldSendCloseSession()&&(l.signal.sendCloseSession((0,h.getSeq)(),l.sessionId,1),l.signal.removeSession(l.sessionId),l.closeSessionSignal=!0),l.resetPlay(),!b&&!this.retryNextSignal(s)){if(this.logger.info(Qn+" retry current signal "),S.isCenterNode){this.logger.info(Qn+" current node "+l.gwNode+" "+JSON.stringify(l.retryFailGwNodes));var he=l.retryFailGwNodes.findIndex(function(Oe){return Oe===l.gwNode});he>=0&&l.retryFailGwNodes.splice(he,1),l.retryFailGwNodes.push(l.gwNode),this.retryNewGwNode(l,s,g,E)}this.startRetryTimer&&clearTimeout(this.startRetryTimer),this.startRetryTimer=null,this.rePlaySpan(o,s,l);var _e=fn.error,Ce=[_e.kPlayNetworkBrokenError.code,_e.kMediaConnectionError.code].includes(s.code)?0:1e3;return this.logger.info(Qn+" delay "+Ce),this.startRetryTimer=setTimeout(function(){l.startPlay(o,l.getRemoteStreamSuc,J)},Ce),void(s&&s.code!==0&&this.streamCenter.onPlayStateUpdate(2,o,s))}this.streamCenter.removeStreamFromSignal(!1,o)}if(b)return this.stopMaxTime(),this.invalid(),s!=null&&s.code&&this.stateCenter.reporter.spanSetAttributes({key:l.parentSpanKey,par:o},{error:s==null?void 0:s.code}),void this.streamCenter.onPlayStateUpdate(n,o,s);s&&s.code!==0&&this.activePull(void 0)&&(l&&(l.isExternal=!1),(0,h.getReportSeq)(),this.rePlaySpan(o,s,l),this.streamCenter.onPlayStateUpdate(2,o,s)),this.logger.info(Qn+" end "+o)},t.prototype.retryNewGwNode=function(n,o,s,d){var g,E,b,S;if(this.logger.info(En+" call "+n.streamId),o&&o.code&&this.needReDispatchError(o))this.retryNextGwNode(n,!0,d);else if(s!=null&&s.action)switch(s==null?void 0:s.action){case 1:case 5:break;case 2:default:this.retryNextGwNode(n,!1,d);break;case 3:var l=s==null?void 0:s.ins;l&&l.length>0&&(n.gwNode=(((g=l[0])===null||g===void 0?void 0:g.IP)||((E=l[0])===null||E===void 0?void 0:E.ip))+":"+(((b=l[0])===null||b===void 0?void 0:b.Port)||((S=l[0])===null||S===void 0?void 0:S.port)));break;case 4:n.resetGwNodes(),this.streamCenter.clearCachedGwNodesList(n,this.isPublish)}else this.retryNextGwNode(n,!1,d);this.logger.info(En+" "+n.streamId+" new node "+n.gwNode)},t.prototype.retryNextGwNode=function(n,o,s){var d;if(this.logger.info(On+" call "+n.streamId+" "+n.gwNode),((d=n.gwNodeList)===null||d===void 0?void 0:d.length)!==0||n.gwNode){var g=n.gwNodesTTL<new Date().getTime(),E=n.iceStateDisConnect&&this.stateCenter.isMultiOuter,b=n.gwNodeList.findIndex(function(l){return l==n.gwNode}),S=b===n.gwNodeList.length-1;this.logger.info(On+" "+n.streamId+" ttl: "+g+" ice: "+E+" last: "+S),o||g||n.isLastConnected&&E||S?this.stateCenter.useNetAgent?(n.gwNode=n.gwNodeList[++b%n.gwNodeList.length],this.dispatchGwNodesBypass(n)):n.resetGwNodes():n.gwNode=s?n.gwNodeList[0]:n.gwNodeList[++b%n.gwNodeList.length]}else this.logger.info(On+" call "+n.streamId+" gwNodeList is empty")},t.prototype.dispatchGwNodesBypass=function(n){var o=this;n.dispatchGwNodes(function(s){o.logger.info(Ji+" suc "+JSON.stringify(s)),n.setGwNodes(s,!0)},function(s){o.logger.info(Ji+" fail "+JSON.stringify(s))})},t.prototype.rePublishSpan=function(n,o,s){s==null||s.uploadRTCPublishStats(),this.stateCenter.reporter.spanEnd({key:li.event,par:n},{error:o==null?void 0:o.code,message:o==null?void 0:o.message}),this.stateCenter.reporter.createSpan(Zt.H,{key:tn.event,par:n},{key:jn.event,par:n},jn.event,!0),(s==null?void 0:s.isRePublish)===!1&&this.stateCenter.reporter.spanSetAttributes({key:yg.event,par:n},{retry_btime:yg.retry_btime(new Date().getTime())}),s&&(s.isRePublish=!0,s.parentSpanKey=jn.event)},t.prototype.rePlaySpan=function(n,o,s){s==null||s.uploadRTCPlayStats(),this.stateCenter.reporter.spanEnd({key:Ai.event,par:n},{error:o==null?void 0:o.code,message:o==null?void 0:o.message}),this.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:n},{key:Vi.event,par:n},Vi.event,!0),(s==null?void 0:s.isRePlay)===!1&&this.stateCenter.reporter.spanSetAttributes({key:Bg.event,par:n},{retry_btime:Bg.retry_btime(new Date().getTime())}),s&&(s.isRePlay=!0,s.parentSpanKey=Vi.event)},t}(Eg),oh=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),gc=Qt,dc=UA,Qg=function(A){function t(n,o,s,d){var g=A.call(this)||this;return g.retryActiveCount=1,g.RETRY_MAX_TIME=90,g.logger=n,g.stateCenter=o,g.rtm=s,g.streamCenter=d,g}return oh(t,A),t.prototype.initStream=function(n,o,s){this.streamID=n,this.playOption=o,this.isPublish=s},t.prototype.active=function(n){var o,s,d,g,E,b,S=this;if(this.logger.info(jr+" retry call "+this.streamID),this.isPublish){var l=(s=(o=this.streamCenter)===null||o===void 0?void 0:o.publisherList[this.streamID])===null||s===void 0?void 0:s.publisher;E=l!=null&&l.isRePublish?jn:Bn,b=Qt}else{var J=(g=(d=this.streamCenter)===null||d===void 0?void 0:d.playerList[this.streamID])===null||g===void 0?void 0:g.player;E=J!=null&&J.isRePlay?Vi:An,b=UA}var he=this.stateCenter.reporter.createSpan(Zt.H,{key:E.event,par:this.streamID},{key:""},b.event);if(this.retryTimer)return this.logger.info(jr+" has active, ignore"),this.stateCenter.reporter.setError(he,Kr,"has active, ignore"),!1;var _e=this.rtm.isDisConnect()&&this.stateCenter.networkState==ne.offline;if(_e){if(this.logger.info(jr+" check if really offline"),this.retryNetCount>=this.retryNetMaxTimes)return this.logger.warn(jr+" network is broken, stop retry"),!1}else this.retryNetCount=0;if(this.isOverTime)return this.logger.warn(jr+" retry over time, stop retry"),this.stateCenter.reporter.setError(he,Kr,"retry over time, stop retry"),!1;if(!this.rtm.isLogin()){this.stopMaxTime(),this.invalid();var Ce=this.isPublish?this.streamCenter.publisherList[this.streamID]:this.streamCenter.playerList[this.streamID];Ce&&(Ce.isReDispatch=!0)}var Oe=this.retryActiveCount-1;this.retryDispatchSpan||(this.retryDispatchSpan=he,this.stateCenter.reporter.setSpanInMap(he,{key:b.event,par:this.streamID}));var $e=this.playOption&&this.playOption.resourceMode==2?1:0,ze={stream_id:this.streamID,ptype:this.isPublish?"push":"pull",signals:this.streamCenter.getAllInUseUrl(),header_kvs:[{key:"grpc-metadata-push",value:this.playOption&&this.playOption.cdnUrl||""}],retry:Oe,center_ability:!0,dispatch_type:$e};return this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=setTimeout(function(){S.retryTimer=null,_e?S.retryNetCount++:S.retryActiveCount++;var Xe=S.streamCenter.getRoomByStreamID(S.streamID),et=S.rtm.service.sendMessage("webrtc_url",ze,function(gt,_t){S.handleFetchWebRtcUrlRsp(gt)},function(gt,_t){S.handleFetchWebRtcUrlRsp(gt)},void 0,{sessionID:Xe==null?void 0:Xe.sessionID,roomID:Xe==null?void 0:Xe.roomID,roomSessionID:Xe==null?void 0:Xe.roomSessionID});S.isPublish&&et?S.streamCenter.publisherList[S.streamID]&&(S.streamCenter.publisherList[S.streamID].seq=et):et&&S.streamCenter.playerList[S.streamID]&&(S.streamCenter.playerList[S.streamID].seq=et)},typeof n=="number"?n:1e3*this.retryActiveInterval),this.logger.info(jr+" call success"),!0},t.prototype.startMaxTime=function(){var n=this;this.logger.info("zc.tdh.smt ".concat(this.streamID," call")),this.maxTimer||(this.maxTimer=setTimeout(function(){n.logger.warn("".concat("zc.rdh.m"," ").concat(n.streamID," dispatch over max time ").concat(n.RETRY_MAX_TIME,"s stop retry")),n.isOverTime=!0,n.invalid();var o=fn.error.kPlayDispatchError;o.message=o.message+" try max limit",n.isPublish?n.streamCenter.onPublishStateUpdate(pr,n.streamID,o):n.streamCenter.onPlayStateUpdate(Kt,n.streamID,o)},1e3*this.RETRY_MAX_TIME),this.logger.info("zc.tdh.smt ".concat(this.streamID," maxTimer=").concat(this.maxTimer)))},t.prototype.stopMaxTime=function(){this.logger.info("zc.tdh.stmt ".concat(this.streamID," maxTimer=").concat(this.maxTimer)),this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.onactive=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o]},t.prototype.handleFetchWebRtcUrlRsp=function(n){var o,s,d,g,E,b,S,l,J,he,_e;if(n.code&&[gr.code].includes(n.code))this.active();else{if(n.code&&[Qr.code].includes(n.code))return this.stopMaxTime(),this.invalid(),void(this.isPublish?this.streamCenter.publisherList[this.streamID].isReDispatch=!0:this.streamCenter.playerList[this.streamID].isReDispatch=!0);var Ce=n,Oe=Ce.body.stream_id,$e=!1,ze=fn.error;if(this.isPublish&&(!this.streamCenter.publisherList[Oe]||Ce.header.seq!==this.streamCenter.publisherList[this.streamID].seq))return this.logger.warn(cn+" seq is not match, ignore "+this.streamID),this.stopMaxTime(),void this.invalid();if(!(this.isPublish||this.streamCenter.playerList[this.streamID]&&Ce.header.seq===this.streamCenter.playerList[this.streamID].seq))return this.logger.warn(cn+" seq is not match, ignore "+this.streamID),this.stopMaxTime(),void this.invalid();if(this.stateCenter.clientIP=Ce.body.clientip||"",Ce.body.err_code===0||Ce.body.need_action!=2)if(Ce.body.err_code===0||Ce.body.need_action===1||[3102].includes(Ce.body.err_code)){if(this.stopMaxTime(),this.invalid(),Ce.body.urls&&Array.isArray(Ce.body.urls)&&Ce.body.urls.length>0?$e=!0:this.logger.error(cn+" signal url is empty"),Ce.body.ptype==="push"&&this.streamCenter.publisherList[Oe]){if(!$e)return(E=this.retryDispatchSpan)===null||E===void 0||E.setAttributes({try_cnt:gc.try_cnt(this.retryActiveCount)}),this.stateCenter.reporter.setError(this.retryDispatchSpan,tn.error.kPublishDispatchError),this.retryDispatchSpan=null,void this.streamCenter.onPublishStateUpdate(pr,Oe,tn.error.kPublishDispatchError);var Xe=this.streamCenter.publisherList[Oe];this.stateCenter.publishStreamList[Oe]?(Xe.ttl=Ce.body.hosts_ttl?new Date().getTime()+1e3*Ce.body.hosts_ttl:0,Xe.isCenterNode=typeof Ce.body.is_center_node=="boolean"&&Ce.body.is_center_node,Xe.serverUrls=Ce.body.urls,(b=this.retryDispatchSpan)===null||b===void 0||b.setAttributes({urls:gc.urls(Xe.serverUrls),is_center:gc.is_center(Xe.isCenterNode),try_cnt:gc.try_cnt(this.retryActiveCount)}),(S=this.retryDispatchSpan)===null||S===void 0||S.end(),this.retryDispatchSpan=null,this.streamCenter.startPublishingStream(Oe)):this.logger.error(cn+" no streamid to publish")}else if(Ce.body.ptype=="pull"&&this.streamCenter.playerList[Oe]){var et;if(!$e)return(et=JSON.parse(JSON.stringify(((l=Ce.body)===null||l===void 0?void 0:l.err_code)===1900001004?ze.kPlayStreamNotFound:ze.kPlayDispatchError))).message=et.message+(Ce.body.err_code?" server error:"+Ce.body.err_code:""),Ce.body.err_code===3102&&(et=fn.error.kPlayUnsupportedResourceMode),(J=this.retryDispatchSpan)===null||J===void 0||J.setAttributes({try_cnt:dc.try_cnt(this.retryActiveCount)}),this.stateCenter.reporter.setError(this.retryDispatchSpan,et),void this.streamCenter.onPlayStateUpdate(Kt,Oe,et);var gt=this.streamCenter.playerList[Oe];gt.ttl=Ce.body.hosts_ttl?new Date().getTime()+1e3*Ce.body.hosts_ttl:0,gt.isCenterNode=typeof Ce.body.is_center_node=="boolean"&&Ce.body.is_center_node,gt.serverUrls=Ce.body.urls,(he=this.retryDispatchSpan)===null||he===void 0||he.setAttributes({urls:dc.urls(gt.serverUrls),is_center:dc.is_center(gt.isCenterNode),try_cnt:dc.try_cnt(this.retryActiveCount)}),(_e=this.retryDispatchSpan)===null||_e===void 0||_e.end(),this.retryDispatchSpan=null,this.streamCenter.startPlayingStream(Oe,this.stateCenter.useNetAgent,this.streamCenter.playSuccessCallBackList[Oe])}}else this.retryActiveInterval=Math.floor(3*Math.random())+3,this.retryActiveCount==2&&((et=JSON.parse(JSON.stringify(((d=Ce.body)===null||d===void 0?void 0:d.ptype)==="pull"&&((g=Ce.body)===null||g===void 0?void 0:g.err_code)===1900001004?ze.kPlayStreamNotFound:ze.kPlayDispatchError))).message=et.message+(Ce.body.err_code?" server error:"+Ce.body.err_code:""),Ce.body.ptype==="push"?this.streamCenter.onPublishStateUpdate(rr,Oe,et):this.streamCenter.onPlayStateUpdate($t,Oe,et)),this.active();else this.retryActiveInterval=Ce.body.action_delay/1e3||Math.floor(3*Math.random())+3,this.retryActiveCount==2&&((et=JSON.parse(JSON.stringify(((o=Ce.body)===null||o===void 0?void 0:o.ptype)==="pull"&&((s=Ce.body)===null||s===void 0?void 0:s.err_code)===1900001004?ze.kPlayStreamNotFound:ze.kPlayDispatchError))).message=et.message+(Ce.body.err_code?" server error:"+Ce.body.err_code:""),Ce.body.ptype==="push"?this.streamCenter.onPublishStateUpdate(rr,Oe,et):this.streamCenter.onPlayStateUpdate($t,Oe,et)),this.active()}},t}(Eg),sh=__webpack_require__(3720),ah=__webpack_require__.n(sh),hc=__webpack_require__(2990),Ah=__webpack_require__(9483),Mu=__webpack_require__.n(Ah),Do=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},uo=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},ch=function(){function A(t,n){this.name=t,this.logger=n,this.storeName=t+":"+function(o,s){var d,g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),E=[];if(s=s||g.length,o)for(d=0;d<o;d++)E[d]=g[0|Math.random()*s];else{var b=void 0;for(E[8]=E[13]=E[18]=E[23]="-",E[14]="4",d=0;d<36;d++)E[d]||(b=0|16*Math.random(),E[d]=g[d==19?3&b|8:b])}return E.join("")}(6),this.store=Mu().createInstance({name:this.storeName}),this.recordStoresInStorage(t,this.storeName)}return A.prototype.recordStoresInStorage=function(t,n){try{var o=localStorage.getItem(t),s=o?o.split(","):[];s.push(n+"-1"),localStorage.setItem(t,s==null?void 0:s.join(","))}catch{}},A.prototype.getStoresFromStorage=function(){return this.refreshStores("1")},A.prototype.resetStorageStores=function(){this.refreshStores("0")},A.prototype.removeStoreFromStorage=function(t){this.refreshStores("2",t)},A.prototype.refreshStores=function(t,n){var o=this;if(!localStorage)return[];var s=localStorage.getItem(this.name),d=s?s.split(","):[],g=[];if(d.length>0){var E=[];d.forEach(function(b){var S=b.split("-"),l=S[0],J=S[1];t=="2"?(l!==n&&E.push(l+"-"+J),n&&o.dropInstance(n)):E.push(l+"-"+t),l.indexOf(o.storeName)===-1&&J=="0"&&g.push(l)}),localStorage.setItem(this.name,E.join(","))}return g},A.prototype.dropInstance=function(t){return Do(this,void 0,void 0,function(){return uo(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Mu().dropInstance({name:t})];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}})})},A.prototype.getCacheStoreData=function(t){return Do(this,void 0,void 0,function(){var n,o,s,d;return uo(this,function(g){switch(g.label){case 0:return g.trys.push([0,5,,6]),[4,(n=Mu().createInstance({name:t})).keys()];case 1:return o=g.sent(),s=o.filter(function(E){return E.indexOf("_head")>-1}),d=[],s.length>0?[4,this.readStoreDatas(s,o,n)]:[3,3];case 2:return d=g.sent(),[3,4];case 3:this.removeStoreFromStorage(t),g.label=4;case 4:return[2,d];case 5:return g.sent(),[3,6];case 6:return[2]}})})},A.prototype.readStoreDatas=function(t,n,o){return Do(this,void 0,void 0,function(){var s,d,g;return uo(this,function(E){switch(E.label){case 0:s=[],d=function(b){var S,l,J,he,_e,Ce,Oe,$e,ze,Xe;return uo(this,function(et){switch(et.label){case 0:l=(S=t[b]).replace("_head",""),J=n.filter(function(gt){return gt.indexOf(l)>-1}),he=null,_e=[],Ce=[],Oe=0,et.label=1;case 1:return Oe<J.length?[4,o.getItem($e=J[Oe])]:[3,4];case 2:ze=et.sent(),$e.startsWith(l+"_head")?he=ze:$e.startsWith(l+"_publish")?_e.push(ze):$e.startsWith(l+"_play")&&Ce.push(ze),et.label=3;case 3:return Oe++,[3,1];case 4:return Xe=new Date().getTime()-parseInt(l),he?_e.length>0||Ce.length>0?(s.push({timestamp:parseInt(l),head:he,publishInfos:_e,playInfos:Ce}),[3,7]):[3,5]:[3,7];case 5:return _e.length===0&&Ce.length===0&&Xe>6e4?[4,o.removeItem(S)]:[3,7];case 6:et.sent(),et.label=7;case 7:return[2]}})},g=0,E.label=1;case 1:return g<t.length?[5,d(g)]:[3,4];case 2:E.sent(),E.label=3;case 3:return g++,[3,1];case 4:return[2,s]}})})},A.prototype.saveItem=function(t,n){return Do(this,void 0,void 0,function(){var o;return uo(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.store.setItem(t,n)];case 1:return s.sent(),[3,3];case 2:return o=s.sent(),this.logger.warn(hA+" save "+JSON.stringify(o)),[3,3];case 3:return[2]}})})},A.prototype.getItem=function(t){return Do(this,void 0,void 0,function(){var n;return uo(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.store.getItem(t)];case 1:return[2,o.sent()];case 2:return n=o.sent(),this.logger.warn(hA+" get "+JSON.stringify(n)),[3,3];case 3:return[2]}})})},A.prototype.removeItem=function(t){return Do(this,void 0,void 0,function(){var n;return uo(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.store.removeItem(t)];case 1:return o.sent(),[3,3];case 2:return n=o.sent(),this.logger.warn(hA+" remove "+JSON.stringify(n)),[3,3];case 3:return[2]}})})},A.prototype.clearItems=function(t){return Do(this,void 0,void 0,function(){var n,o,s=this;return uo(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,this.store.keys()];case 1:return n=d.sent(),n.filter(function(g){return g.indexOf(t)>-1}).forEach(function(g){return Do(s,void 0,void 0,function(){return uo(this,function(E){switch(E.label){case 0:return[4,this.removeItem(g)];case 1:return E.sent(),[2]}})})}),[3,3];case 2:return o=d.sent(),this.logger.warn(hA+" clear "+JSON.stringify(o)),[3,3];case 3:return[2]}})})},A.prototype.getUnReportCachedDatas=function(t){return Do(this,void 0,void 0,function(){var n,o,s;return uo(this,function(d){switch(d.label){case 0:return[4,this.filterItems(t)];case 1:return n=d.sent(),o=[],n&&n.length>0?(s=n.filter(function(g){return g.indexOf("_head")>-1}),[4,this.readStoreDatas(s,n,this.store)]):[3,3];case 2:o=d.sent(),d.label=3;case 3:return[2,o]}})})},A.prototype.filterItems=function(t){return Do(this,void 0,void 0,function(){var n,o;return uo(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.store.keys()];case 1:return n=s.sent(),[2,n.filter(function(d){return d.indexOf(t)===-1})];case 2:return o=s.sent(),this.logger.warn(hA+" filter "+JSON.stringify(o)),[3,3];case 3:return[2]}})})},A}(),Lu=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Ou=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},uh=function(){function A(t,n,o){var s=this;this.logger=t,this.stateCenter=n,this.streamCenter=o,this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityUploadTimestamp=0,this.qualityHeadTimestamp=0,this.uploadInterval=6e4,this.cacheChargeInfoPackets=[],this.chargeInfoSending=!1,this.beforeunloadListener=function(){s.streamStoreHandler.resetStorageStores()},this.streamStoreHandler=new ch(this.CacheKey,t),this.bindListener(),this.bindDestroyListener()}return Object.defineProperty(A.prototype,"CacheKey",{get:function(){return"z_s_c_"+this.stateCenter.appid},enumerable:!1,configurable:!0}),A.prototype.bindListener=function(){window.addEventListener("beforeunload",this.beforeunloadListener)},A.prototype.offListener=function(){window.removeEventListener("beforeunload",this.beforeunloadListener)},A.prototype.bindDestroyListener=function(){var t=this;this.stateCenter.listenerList._engineDestroy.push(function(){t.offListener()})},A.prototype.updateQuality=function(t,n,o){var s=new Date().getTime(),d=JSON.stringify(this.publishQualityInfos).length+JSON.stringify(this.playQualityInfos).length,g=o&&(this.publishQualityInfos.length>0||this.playQualityInfos.length>0);this.qualityUploadTimestamp!==0&&s-this.qualityUploadTimestamp>this.uploadInterval||d>8e3||g?(this.streamQualityUpload(g),this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityHeadTimestamp=Math.round(new Date().getTime()),this.saveSpeedLogHead(),this.qualityUploadTimestamp=s):this.qualityHeadTimestamp==0&&(this.qualityHeadTimestamp=Math.round(new Date().getTime()),this.saveSpeedLogHead(),this.qualityUploadTimestamp=s),n&&(t==0?this.handlePublishQualityData(n):this.handlePlayQualityData(n))},A.prototype.sendPacketFromCache=function(){var t=this;if(!this.chargeInfoSending){var n=function(){if(!t.logDomain||t.cacheChargeInfoPackets.length<=0)t.chargeInfoSending=!1;else{t.chargeInfoSending=!0;var o=t.cacheChargeInfoPackets[0];t.getStreamReportSocket(t.logDomain).then(function(s){t.sendMessageWithCallback(s,o,function(){t.logger.info(co+" upload charge info success"),t.chargeInfoSending=!1,t.cacheChargeInfoPackets.shift(),t.cacheChargeInfoPackets.length>0&&t.sendPacketFromCache()},function(){t.logger.info(co+" send message error, retry upload charge info 1"),setTimeout(n,3e3)},function(){t.logger.info(co+" timeout, retry upload charge info 2"),n()})}).catch(function(s){if(s==="appid userid token not exist")return t.logger.info(co+" stop retry upload charge info."),void(t.chargeInfoSending=!1);t.logger.info(co+" open socket error, retry upload charge info 3"),setTimeout(n,3e3)})}};n()}},A.prototype.uploadChargeInfos=function(t){var n,o=(n=this.logger.url)===null||n===void 0?void 0:n.split("/")[2];if(o){o!==""&&(this.logDomain=o);var s=Math.round(new Date().getTime()/1e3),d=this.getSpeedLogHead(s),g={charge_infos:t,client_type:2};this.logger.info("zc.uslg.cgif call, chargeinfos:"+JSON.stringify({_SpeedLogHead:d,_QualityEvent:g}));var E=this.createStreamQualityPacket(d,g);this.cacheChargeInfoPackets.push(E),this.sendPacketFromCache()}},A.prototype.streamQualityUpload=function(t){if(Object.keys(this.streamCenter.publisherList).length>0||Object.keys(this.streamCenter.playerList).length>0||t){var n=this.getSpeedLogHead();this.uploadQuality(this.qualityHeadTimestamp,n,{publish_quality_infos:this.publishQualityInfos,play_quality_infos:this.playQualityInfos,client_type:2})}},A.prototype.getStreamReportSocket=function(t){var n=this;return new Promise(function(o,s){var d,g=!1,E=function(){var Ce;n.logger.info(co+" speed log socket open"),g=!0,n.qualityWebsocket&&o(n.qualityWebsocket),(Ce=n.qualityWebsocket)===null||Ce===void 0||Ce.removeEventListener("open",E)},b=function(){var Ce;n.logger.info(co+" speed log socket close"),g||s("not open, socket closed"),(Ce=n.qualityWebsocket)===null||Ce===void 0||Ce.removeEventListener("close",b)},S=function(){(function(){var Ce;(Ce=n.qualityWebsocket)===null||Ce===void 0||Ce.addEventListener("open",E)})(),function(){var Ce;(Ce=n.qualityWebsocket)===null||Ce===void 0||Ce.addEventListener("close",b)}()};if(n.qualityWebsocket&&n.qualityWebsocket.readyState!=2&&n.qualityWebsocket.readyState!=3)n.qualityWebsocket.readyState==1?(g=!0,o(n.qualityWebsocket)):S();else{var l=n.stateCenter.appid,J=n.stateCenter.idName,he=(d=n.stateCenter.roomList[0])===null||d===void 0?void 0:d.token;if(!l||!J||!he)return n.logger.error(co+" appid userid token not exist"),void s("appid userid token not exist");var _e="wss://".concat(t,"/ws/report/stream?appid=").concat(l,"&product=rtc&token=").concat(encodeURIComponent(he),"&id_name=").concat(J);n.qualityWebsocket=new WebSocket(_e),S()}setTimeout(function(){g||s("not open, timeout, socket closed")},1e4)})},A.prototype.createStreamQualityPacket=function(t,n){var o=hc.logreport.SpeedLogHead.create(t),s=hc.logreport.QualityEvent.create(n),d=hc.logreport.SpeedLogHead.encode(o).finish(),g=hc.logreport.QualityEvent.encode(s).finish(),E=this.getQualityHead(d,g),b=new Uint8Array(12+d.length+g.length);return b.set(E),b.set(d,12),b.set(g,12+d.length),b},A.prototype.sendMessageWithCallback=function(t,n,o,s,d){var g=this,E=Date.now()%1e4,b=!1,S=!1;t.readyState!==1&&!S&&s&&s(),t.onmessage=function(l){(l.data+"").includes("success")?(g.logger.info(co+" quality (".concat(E,") upload success")),!S&&o&&o(),b=!0):(!S&&s&&s(),b=!0),t.onmessage=null},t.send(n),setTimeout(function(){b||(d&&d(),S=!0)},15e3)},A.prototype.uploadQuality=function(t,n,o,s){var d,g=this,E=this.createStreamQualityPacket(n,o),b=(d=this.logger.url)===null||d===void 0?void 0:d.split("/")[2];if(b){var S=function(){return g.getStreamReportSocket(b)};S().then(function(l){var J=Date.now()%1e4,he=!1;g.sendMessageWithCallback(l,E,function(){he=!0,g.delStreamData(t),s&&g.streamStoreHandler.removeStoreFromStorage(s),setTimeout(function(){g.checkCacheDataToReport()},1e3)}),setTimeout(function(){return Lu(g,void 0,void 0,function(){return Ou(this,function(_e){switch(_e.label){case 0:return he?[3,2]:[4,S()];case 1:_e.sent().send(E),this.logger.info(co+" retry upload quality (".concat(J,"), length: ")+E.length+"."),_e.label=2;case 2:return[2]}})})},3e3),g.logger.info(co+" upload quality (".concat(J,"), length: ")+E.length+".")})}},A.prototype.checkCacheDataToReport=function(){return Lu(this,void 0,void 0,function(){var t;return Ou(this,function(n){switch(n.label){case 0:return[4,this.streamStoreHandler.getUnReportCachedDatas(this.qualityHeadTimestamp+"")];case 1:return t=n.sent(),this.uploadUnReportDatas(t),[2]}})})},A.prototype.getQualityHead=function(t,n){var o=new Uint8Array(12);o[0]=0,o[1]=12,o[2]=t.length>>8,o[3]=t.length-(o[2]<<8),o[4]=n.length>>24,o[5]=n.length-(o[4]<<24)>>16,o[6]=n.length-(o[4]<<24)-(o[5]<<16)>>8,o[7]=n.length-(o[4]<<24)-(o[5]<<16)-(o[6]<<8);var s=Math.ceil(new Date().getTime()/1e3);return o[8]=s>>24,o[9]=s-(o[8]<<24)>>16,o[10]=s-(o[8]<<24)-(o[9]<<16)>>8,o[11]=s-(o[8]<<24)-(o[9]<<16)-(o[10]<<8),o},A.prototype.handlePublishQualityData=function(t){var n=this.publishQualityInfos.find(function(s){return s.stream_id==t.stream_id&&s.video_width==t.frameWidth&&s.video_height==t.frameHeight});if(!n){var o=this.streamCenter.getRoomByStreamID(t.stream_id);n={stream_id:t.stream_id,session_id:o?Number(o.sessionID):0,video_width:t.frameWidth,video_height:t.frameHeight,infos:[],room_id:o?o.roomID:"",evnvironment:1,room_session_id:o?Number(o.roomSessionID):0,resource_type:2},this.publishQualityInfos.push(n)}n.infos.push({audio_bitrate:Math.round(t.audioBitrate)||0,video_bitrate:Math.round(t.videoBitrate)||0,video_capture_fps:Math.round(10*t.videoFPS)||0,video_network_fps:Math.round(10*t.videoTransferFPS)||0,uplink_plr:t.audioPacketsLostRate,rtt:Math.round(1e3*t.currentRoundTripTime)||0,audio_network_fps:Math.round(10*t.audioFPS),captured_sound_level:Math.round(t.audioLevel),sample_time_offset:Math.round((t.timeStamp-this.qualityHeadTimestamp)/10)}),this.saveStreamInfo("publish",n)},A.prototype.handlePlayQualityData=function(t){var n,o=this.playQualityInfos.find(function(g){return g.stream_id==t.stream_id&&g.video_width==t.frameWidth&&g.video_height==t.frameHeight});if(!o){var s=this.streamCenter.getRoomByStreamID(t.stream_id),d=(n=this.streamCenter.playerList[t.stream_id])===null||n===void 0?void 0:n.player;o={stream_id:t.stream_id,session_id:s?Number(s.sessionID):0,video_width:t.frameWidth,video_height:t.frameHeight,infos:[],room_id:s?s.roomID:"",room_session_id:s?Number(s.roomSessionID):0,resource_type:(d==null?void 0:d.resourceMode)===0?2:3},this.playQualityInfos.push(o)}o.infos.push({audio_bitrate:Math.round(t.audioBitrate)||0,video_bitrate:Math.round(t.videoBitrate)||0,video_network_fps:Math.round(10*t.videoFPS)||0,downlink_plr:Math.round(t.audioPacketsLostRate)||0,audio_network_fps:Math.round(10*t.audioFPS)||0,audio_break_duration:Math.round(t.audio_break_duration/10),video_break_duration:Math.round(t.video_break_duration/10),rtt:Math.round(1e3*t.currentRoundTripTime)||0,rendered_sound_level:Math.round(t.audioLevel),audio_break_cancel_duration:Math.round(t.audio_break_cancel_duration/10),video_break_cancel_duration:Math.round(t.video_break_cancel_duration/10),audio_decode_time:Math.round(t.audio_decode_time/10),video_decode_time:Math.round(t.video_decode_time/10),real_sampling_interval:Math.round(t.real_sampling_interval/10),video_frames_decoded:Math.round(t.videoFramesDecoded)||0,video_frames_dropped:Math.round(t.videoFramesDropped)||0,sample_time_offset:Math.round((t.timeStamp-this.qualityHeadTimestamp)/10),peer_to_peer_plr:t.peerToPeerPacketLostRate,peer_to_peer_delay:t.peerToPeerDelay}),this.saveStreamInfo("play",o)},A.prototype.saveSpeedLogHead=function(){var t=this.getSpeedLogHead();this.streamStoreHandler.saveItem(this.qualityHeadTimestamp+"_head",t)},A.prototype.saveStreamInfo=function(t,n){this.streamStoreHandler.saveItem("".concat(this.qualityHeadTimestamp,"_").concat(t).concat(n.stream_id),n)},A.prototype.delStreamData=function(t){this.streamStoreHandler.clearItems(t+"")},A.prototype.getSpeedLogHead=function(t){return{version:14,timestamp:t||Math.round(this.qualityHeadTimestamp/1e3),event:0,app_id:this.stateCenter.appid,user_id:this.stateCenter.idName,biz_type:1,time_offset:ah().MAX_VALUE,os_type:Bo(),scenario:this.stateCenter.scenario,sdk_version:f}},A.prototype.checkStreamReport=function(){var t=this;this.streamStoreHandler.getStoresFromStorage().forEach(function(n){return Lu(t,void 0,void 0,function(){var o;return Ou(this,function(s){switch(s.label){case 0:return[4,this.streamStoreHandler.getCacheStoreData(n)];case 1:return o=s.sent(),this.uploadUnReportDatas(o,n),[2]}})})})},A.prototype.uploadUnReportDatas=function(t,n){var o=this;this.stateCenter.roomList.length<=0?this.logger.warn("zc.sqr.uud no room"):t.length>0&&t.forEach(function(s){o.uploadQuality(s.timestamp,s.head,{publish_quality_infos:s.publishInfos,play_quality_infos:s.playInfos,client_type:2},n)})},A.prototype.resetReport=function(){var t=this;this.publishQualityInfos=[],this.playQualityInfos=[],this.qualityHeadTimestamp=0,this.qualityUploadTimestamp=0,setTimeout(function(){t.qualityWebsocket&&(t.qualityWebsocket.close(),t.qualityWebsocket=void 0,t.chargeInfoSending=!1)},2e4)},A}();function lh(){var A={},t=this,n={init:function(o){importScripts(o),t._ModuleFn(A)},parseToMiniSdp:function(o,s){var d=A._parseToMiniSdp,g=A._getBuffer,E=A.HEAPU8,b=A._free,S=(0,A.allocateUTF8)(o),l=d(S);if(l<0)return t.postMessage({code:l,eventId:s});var J=g(),he=new Uint8Array(E.subarray(J,J+l-1))||new Uint8Array;t.postMessage({code:0,data:he,eventId:s});try{b(S),b(l),b(J)}catch(_e){console.error(_e)}},loadMiniSdpToOriginSdp:function(o,s){var d,g,E,b=A._loadMiniSdpToSdp,S=A.UTF8ToString,l=A.HEAPU8,J=A._free,he=(0,A._malloc)(o.length);l.set(o,he);for(var _e=S(b(he,o.byteLength))||"",Ce=_e.split(`\r
`)||[],Oe=["ice-ufrag","ice-pwd","ice-options","fingerprint","setup","mid","extmap","sendrecv","sendonly","recvonly","inactive","rtpmap","rtcp-fb","fmtp","ssrc","candidate","msid"];Ce.length;){var $e=Ce.length,ze=(g=(d=Ce[$e-1])===null||d===void 0?void 0:d.split("=")[1])===null||g===void 0?void 0:g.split(":")[0];if(((E=Ce[$e-1])===null||E===void 0?void 0:E.indexOf("="))!=-1&&Oe.includes(ze))break;Ce.pop()}_e=Ce.join(`\r
`),t.postMessage({code:0,data:_e+=`\r
`,eventId:s});try{J(he)}catch(Xe){console.error(Xe)}}};onmessage=function(o){n[o.data.command]?n[o.data.command](o.data.val,o.data.eventId):console.error("the command is invalid")}}var zs,pc=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},fc=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},_g=function(){function A(){var t=this;this.msgSuccessCallBack={};var n=lh.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],o=URL.createObjectURL(new window.Blob([n],{type:"text/javascript"}));this.worker=new Worker(o);var s=URL.createObjectURL(new window.Blob([`
var Module = (() => {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  
  return (
function(Module) {
  Module = Module || {};


var g;
g || (g = typeof Module !== 'undefined' ? Module : {});
var aa, t;
g.ready = new Promise(function(a, c) {
  aa = a;
  t = c;
});
var ba = Object.assign({}, g), ca = "./this.program", u = "";
"undefined" != typeof document && document.currentScript && (u = document.currentScript.src);
_scriptDir && (u = _scriptDir);
0 !== u.indexOf("blob:") ? u = u.substr(0, u.replace(/[?#].*/, "").lastIndexOf("/") + 1) : u = "";
var da = g.print || console.log.bind(console), v = g.printErr || console.warn.bind(console);
Object.assign(g, ba);
ba = null;
g.thisProgram && (ca = g.thisProgram);
var x;
g.wasmBinary && (x = g.wasmBinary);
var noExitRuntime = g.noExitRuntime || !0;
"object" != typeof WebAssembly && y("no native wasm support detected");
var z, ea = !1, fa = "undefined" != typeof TextDecoder ? new TextDecoder("utf8") : void 0;
function ha(a, c, b) {
  var d = c + b;
  for (b = c; a[b] && !(b >= d);) {
    ++b;
  }
  if (16 < b - c && a.buffer && fa) {
    return fa.decode(a.subarray(c, b));
  }
  for (d = ""; c < b;) {
    var f = a[c++];
    if (f & 128) {
      var k = a[c++] & 63;
      if (192 == (f & 224)) {
        d += String.fromCharCode((f & 31) << 6 | k);
      } else {
        var h = a[c++] & 63;
        f = 224 == (f & 240) ? (f & 15) << 12 | k << 6 | h : (f & 7) << 18 | k << 12 | h << 6 | a[c++] & 63;
        65536 > f ? d += String.fromCharCode(f) : (f -= 65536, d += String.fromCharCode(55296 | f >> 10, 56320 | f & 1023));
      }
    } else {
      d += String.fromCharCode(f);
    }
  }
  return d;
}
function A(a, c) {
  return a ? ha(C, a, c) : "";
}
function D(a, c, b, d) {
  if (!(0 < d)) {
    return 0;
  }
  var f = b;
  d = b + d - 1;
  for (var k = 0; k < a.length; ++k) {
    var h = a.charCodeAt(k);
    if (55296 <= h && 57343 >= h) {
      var l = a.charCodeAt(++k);
      h = 65536 + ((h & 1023) << 10) | l & 1023;
    }
    if (127 >= h) {
      if (b >= d) {
        break;
      }
      c[b++] = h;
    } else {
      if (2047 >= h) {
        if (b + 1 >= d) {
          break;
        }
        c[b++] = 192 | h >> 6;
      } else {
        if (65535 >= h) {
          if (b + 2 >= d) {
            break;
          }
          c[b++] = 224 | h >> 12;
        } else {
          if (b + 3 >= d) {
            break;
          }
          c[b++] = 240 | h >> 18;
          c[b++] = 128 | h >> 12 & 63;
        }
        c[b++] = 128 | h >> 6 & 63;
      }
      c[b++] = 128 | h & 63;
    }
  }
  c[b] = 0;
  return b - f;
}
function E(a) {
  for (var c = 0, b = 0; b < a.length; ++b) {
    var d = a.charCodeAt(b);
    127 >= d ? c++ : 2047 >= d ? c += 2 : 55296 <= d && 57343 >= d ? (c += 4, ++b) : c += 3;
  }
  return c;
}
var G, H, C, I, J, K, L, ia, ja;
function ka() {
  var a = z.buffer;
  G = a;
  g.HEAP8 = H = new Int8Array(a);
  g.HEAP16 = I = new Int16Array(a);
  g.HEAP32 = K = new Int32Array(a);
  g.HEAPU8 = C = new Uint8Array(a);
  g.HEAPU16 = J = new Uint16Array(a);
  g.HEAPU32 = L = new Uint32Array(a);
  g.HEAPF32 = ia = new Float32Array(a);
  g.HEAPF64 = ja = new Float64Array(a);
}
var la = [], ma = [], na = [];
function oa() {
  var a = g.preRun.shift();
  la.unshift(a);
}
var M = 0, N = null, O = null;
function y(a) {
  if (g.onAbort) {
    g.onAbort(a);
  }
  a = "Aborted(" + a + ")";
  v(a);
  ea = !0;
  a = new WebAssembly.RuntimeError(a + ". Build with -sASSERTIONS for more info.");
  t(a);
  throw a;
}
function pa(a) {
  return a.startsWith("data:application/octet-stream;base64,");
}
var P;
P = "data:application/octet-stream;base64,AGFzbQEAAAAByISAgABGYAF/AX9gAn9/AX9gAn9/AGABfwBgA39/fwF/YAN/f38AYAR/f39/AGAGf39/f39/AX9gBH9/f38Bf2AAAGAFf39/f38Bf2AAAX9gBn9/f39/fwBgBX9/f39/AGAIf39/f39/f38Bf2AHf39/f39/fwF/YAd/f39/f39/AGAFf35+fn4AYAABfmAFf39/f34Bf2AFf39+f38AYAJ/fgF/YAR/f39/AX5gBn9/f39+fwF/YAp/f39/f39/f39/AGAHf39/f39+fgF/YAR/fn5/AGADf35/AX5gAn9+AGAKf39/f39/f39/fwF/YAZ/f39/fn4Bf2ABfwF+YAJ8fwF8YAZ/fH9/f38Bf2ACfn8Bf2AEfn5+fgF/YAR/f39+AX5gA39/fwF+YAJ/fwF9YAJ/fwF8YAN/f38BfWADf39/AXxgDH9/f39/f39/f39/fwF/YAV/f39/fAF/YAZ/f39/fH8Bf2AHf39/f35+fwF/YAt/f39/f39/f39/fwF/YA9/f39/f39/f39/f39/f38AYAh/f39/f39/fwBgBH9/f34AYAF+AX9gDn9/f39/f39/f39/f39/AX9gDX9/f39/f39/f39/f38Bf2ADfn9/AX9gAXwBfmACfn4BfGACf30AYAJ/fABgAn5+AX9gA39+fgBgAn9/AX5gAn5+AX1gA39/fgBgBn9/f35/fwBgBn9/f39/fgF/YAh/f39/f39+fgF/YAR/f35/AX5gCX9/f39/f39/fwF/YAV/f39+fgBgBH9+f38BfwK1hICAABMDZW52C19fY3hhX3Rocm93AAUDZW52FV9lbWJpbmRfcmVnaXN0ZXJfdm9pZAACA2VudhVfZW1iaW5kX3JlZ2lzdGVyX2Jvb2wADQNlbnYYX2VtYmluZF9yZWdpc3Rlcl9pbnRlZ2VyAA0DZW52Fl9lbWJpbmRfcmVnaXN0ZXJfZmxvYXQABQNlbnYbX2VtYmluZF9yZWdpc3Rlcl9zdGRfc3RyaW5nAAIDZW52HF9lbWJpbmRfcmVnaXN0ZXJfc3RkX3dzdHJpbmcABQNlbnYWX2VtYmluZF9yZWdpc3Rlcl9lbXZhbAACA2VudhxfZW1iaW5kX3JlZ2lzdGVyX21lbW9yeV92aWV3AAUDZW52FWVtc2NyaXB0ZW5fbWVtY3B5X2JpZwAF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mAKZAp0CsQKyAtAC0QLTAtQC1QLXAtgC2QLaAuEC4wLlAuYC5wKEA4YDhQOHA9sD3APWA90D0APRA9MD3gPgA+ED4gPMBM0E9ASlAssH9gn/CfIK9Qr5CvwK/wqCC4QLhguIC4oLjAuOC5ALkgviCeoJ+wmSCpMKlAqVCpYKlwqYCpkKmgqbCu8IpgqnCqoKrQquCrEKsgq0Ct0K3grhCuMK5QrnCusK3wrgCuIK5ArmCugK7AqYBfoJgQqCCoMKhAqFCoYKiAqJCosKjAqNCo4KjwqcCp0KngqfCqAKoQqiCqMKtQq2CrgKugq7CrwKvQq/CsAKwQrCCsMKxArFCsYKxwrICskKywrNCs4KzwrQCtIK0wrUCtUK1grXCtgK2QraCpcFmQWaBZsFngWfBaAFoQWiBacFlguoBbUFvgXBBcQFxwXKBc0F0gXVBdgFlwvfBekF7gXwBfIF9AX2BfgF/AX+BYAGmAuNBpUGmwadBp8GoQaqBqwGmQuwBrkGvQa/BsEGwwbJBssGmgucC9QG1QbWBtcG2QbbBt4G8Ar3Cv0KiwuPC4MLhwudC58L7QbuBu8G9Qb3BvkG/AbzCvoKgAuNC5ELhQuJC6ELoAuJB6MLoguPB6QLlgeZB5oHmwecB50HngefB6AHpQuhB6IHowekB6UHpgenB6gHqQemC6oHrQeuB68HsgezB7QHtQe2B6cLtwe4B7kHuge7B7wHvQe+B78HqAvKB+IHqQuJCJsIqgvHCNMIqwvUCOEIrAvpCOoI6witC+wI7QjuCKENog2nDs0CywLKAqgOqw6pDqoOsQ6sDrQOrQ61DsoOxw64Dq4OyQ7GDrkOrw7IDsMOvA6wDr4O0A7RDtMO1A7NDs4O2Q7aDtwO3Q4Kh6yOgADdDhMAEPYEEBwQgAEQwgEQ4gEQoQILGwACQEHQqwEsAAtBf0oNAEEAKALQqwEQsA0LCxsAAkBB4KsBLAALQX9KDQBBACgC4KsBELANCwv3BQEEfyMAQdAAayIBJAACQCAAEP8BIgJB8P///wdPDQACQAJAIAJBCksNACABIAI6AEsgAUHAAGohAwwBCyACQQ9yQQFqIgQQrg0hAyABIARBgICAgHhyNgJIIAEgAzYCQCABIAI2AkQgAyEDCyADIgQgAmohAwJAIAJFDQAgBCAAIAIQ5wEaCyADQQA6AAAgAUHA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G0F/Sg0AIAEoAhAQsA0LIAEQsA0LIARBEGokAAvpAQECfyMAQRBrIgQkAAJAAkAgASAEQQxqQSgQrg0iBUEQaiACIAMQfRB2IgMoAgAiAkUNACAFIQFBACEDIAIhBQwBCyAFIAQoAgw2AgggBUIANwIAIAMgBTYCAAJAIAEoAgAoAgAiAkUNACABIAI2AgALIAEoAgQgAygCABBMIAEgASgCCEEBajYCCEEAIQFBASEDIAUhBQsgACADOgAEIAAgBTYCAAJAIAEiAUUNAAJAIAEsACdBf0oNACABQRxqKAIAELANCwJAIAEsABtBf0oNACABKAIQELANCyABELANCyAEQRBqJAALhwIBA38jAEEgayIEJAAgBEEQaiABIAIgAxB+QQAhAyABIARBDGogBCgCEEEQahB2IgUoAgAiBiECAkAgBg0AIAQoAhAiAyAEKAIMNgIIIANCADcCACAFIAM2AgACQCABKAIAKAIAIgNFDQAgASADNgIACyABKAIEIAUoAgAQTCABIAEoAghBAWo2AgggBCgCECEBIARBADYCEEEBIQMgASECCyAAIAM6AAQgACACNgIAIAQoAhAhASAEQQA2AhACQCABRQ0AAkAgBC0AGEUNAAJAIAEsACdBf0oNACABQRxqKAIAELANCyABLAAbQX9KDQAgASgCEBCwDQsgARCwDQsgBEEgaiQAC4cCAQN/IwBBIGsiBCQAIARBEGogASACIAMQf0EAIQMgASAEQQxqIAQoAhBBEGoQdiIFKAIAIgYhAgJAIAYNACAEKAIQIgMgBCgCDDYCCCADQgA3AgAgBSADNgIAAkAgASgCACgCACIDRQ0AIAEgAzYCAAsgASgCBCAFKAIAEEwgASABKAIIQQFqNgIIIAQoAhAhASAEQQA2AhBBASEDIAEhAgsgACADOgAEIAAgAjYCACAEKAIQIQEgBEEANgIQAkAgAUUNAAJAIAQtABhFDQACQCABLAAnQX9KDQAgAUEcaigCABCwDQsgASwAG0F/Sg0AIAEoAhAQsA0LIAEQsA0LIARBIGokAAvsBAEDfyABIAEgAEYiAjoADAJAIAINACABIQEDQCABIgIoAggiAS0ADA0BAkACQCABKAIIIgMoAgAiBCABRw0AAkAgAygCBCIERQ0AIAQtAAwNACABQQE6AAwgAyADIABGOgAMIARBAToA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QQApA/gcNwAAIAFBIGpBACkD8Bw3AAAgAUEYakEAKQPoHDcAACABQRBqQQApA+AcNwAAIAFBCGpBACkD2Bw3AAAgAUEAKQPQHDcAACAAQSRqQQE6AAAgAEEcakK6gICAgIiAgIB/NwIAIAAgATYCGEHQABCuDUGQHUHJABDnASIBQQA6AEkgAEE0akECOgAAIABBLGpCyYCAgICKgICAfzcCACAAIAE2AihBwAAQrg0iAUEAOgA5IAFBOGpBAC0AmB46AAAgAUEwakEAKQOQHjcAACABQShqQQApA4geNwAAIAFBIGpBACkDgB43AAAgAUEYakEAKQP4HTcAACABQRBqQQApA/AdNwAAIAFBCGpBACkD6B03AAAgAUEAKQPgHTcAACAAQcQAakEDOgAAIABBPGpCuYCAgICIgICAfzcCACAAIAE2AjhBwAAQrg0iAUEAOgA5IAFBOGpBAC0A2B46AAAgAUEwakEAKQPQHjcAACABQShqQQApA8geNwAAIAFBIGpBACkDwB43AAAgAUEYakEAKQO4HjcAACABQRBqQQApA7AeNwAAIAFBCGpBACkDqB43AAAgAUEAKQOgHjcAACAAQdQAakEEOgAAIABBzABqQrmAgICAiICAgH83AgAgACABNgJIQcAAEK4NIgFBADoAOSABQThqQQAtAJgfOgAAIAFBMGpBACkDkB83AAAgAUEoakEAKQOIHzcAACABQSBqQQApA4AfNwAAIAFBGGpBACkD+B43AAAgAUEQakEAKQPwHjcAACABQQhqQQApA+geNwAAIAFBACkD4B43AAAgAEHkAGpBBToAACAAQdwAakK5gICAgIiAgIB/NwIAIAAgATYCWEHAABCuDSIBQQA6AD8gAUE3akEAKQDXHzcAACABQTBqQQApA9AfNwAAIAFBKGpBACkDyB83AAAgAUEgakEAKQPAHzcAACABQRhqQQApA7gfNwAAIAFBEGpBACkDsB83AAAgAUEIakEAKQOoHzcAACABQQApA6AfNwAAIABB9ABqQQY6AAAgAEHsAGpCv4CAgICIgICAfzcCACAAIAE2AmhB0AAQrg1B4B9BwwAQ5wEiAUEAOgBDIABBhAFqQQc6AAAgAEH8AGpCw4CAgICKgICAfzcCACAAIAE2AnhBwAAQrg0iAUEAOgA9IAFBNWpBACkA5SA3AAAgAUEwakEAKQPgIDcAACABQShqQQApA9ggNwAAIAFBIGpBACkD0CA3AAAgAUEYakEAKQPIIDcAACABQRBqQQApA8AgNwAAIAFBCGpBACkDuCA3AAAgAUEAKQOwIDcAACAAQZQBakEIOgAAIABBjAFqQr2AgICAiICAgH83AgAgACABNgKIAUEwEK4NIgFBADoALyABQSdqQQApAJchNwAAIAFBIGpBACkDkCE3AAAgAUEYakEAKQOIITcAACABQRBqQQApA4AhNwAAIAFBCGpBACkD+CA3AAAgAUEAKQPwIDcAACAAQZwBakKvgICAgIaAgIB/NwIAIABBpAFqQQk6AAAgACABNgKYAUEwEK4NIgFBADoAIyABQR9qQQAoAL8hNgAAIAFBGGpBACkDuCE3AAAgAUEQakEAKQOwITcAACABQQhqQQApA6ghNwAAIAFBACkDoCE3AAAgAEGsAWpCo4CAgICGgICAfzcCACAAQbQBakEKOgAAIAAgATYCqAFBMBCuDSIBQQA6AC0gAUElakEAKQD1ITcAACABQSBqQQApA/AhNwAAIAFBGGpBACkD6CE3AAAgAUEQakEAKQPgITcAACABQQhqQQApA9ghNwAAIAFBACkD0CE3AAAgAEG8AWpCrYCAgICGgICAfzcCACAAQcQBakELOgAAIAAgATYCuAFBwAAQrg0iAUEAOgA2IAFBLmpBACkBriI3AAAgAUEoakEAKQOoIjcAACABQSBqQQApA6AiNwAAIAFBGGpBACkDmCI3AAAgAUEQakEAKQOQIjcAACABQQhqQQApA4giNwAAIAFBACkDgCI3AAAgAEHMAWpCtoCAgICIgICAfzcCACAAQdQBakEMOgAAIAAgATYCyAFBMBCuDSIBQQA6ACIgAUEgakEALwHgIjsAACABQRhqQQApA9giNwAAIAFBEGpBACkD0CI3AAAgAUEIakEAKQPIIjcAACABQQApA8AiNwAAIABB3AFqQqKAgICAhoCAgH83AgAgAEHkAWpBDToAACAAIAE2AtgBQTAQrg0iAUEAOgArIAFBJ2pBACgAlyM2AAAgAUEgakEAKQOQIzcAACABQRhqQQApA4gjNwAAIAFBEGpBACkDgCM3AAAgAUEIakEAKQP4IjcAACABQQApA/AiNwAAIABB7AFqQquAgICAhoCAgH83AgAgAEH0AWpBDjoAACAAIAE2AugBQSAQrg0iAUEAOgAaIAFBGGpBAC8BuCM7AAAgAUEQakEAKQOwIzcAACABQQhqQQApA6gjNwAAIAFBACkDoCM3AAAgAEH8AWpCmoCAgICEgICAfzcCACAAQYQCakEPOgAAIAAgATYC+AFBwAAQrg0iAUEAOgA/IAFBN2pBACkA9yM3AAAgAUEwakEAKQPwIzcAACABQShqQQApA+gjNwAAIAFBIGpBACkD4CM3AAAgAUEYakEAKQPYIzcAACABQRBqQQApA9AjNwAAIAFBCGpBACkDyCM3AAAgAUEAKQPAIzcAACAAQZQCakEQOgAAIABBjAJqQr+AgICAiICAgH83AgAgACABNgKIAkHAABCuDSIBQQA6ADkgAUE4akEALQC4JDoAACABQTBqQQApA7AkNwAAIAFBKGpBACkDqCQ3AAAgAUEgakEAKQOgJDcAACABQRhqQQApA5gkNwAAIAFBEGpBACkDkCQ3AAAgAUEIakEAKQOIJDcAACABQQApA4AkNwAAIABBpAJqQRE6AAAgAEGcAmpCuYCAgICIgICAfzcCACAAIAE2ApgCQcAAEK4NIgFBADoAOCABQTBqQQApA/AkNwAAIAFBKGpBACkD6CQ3AAAgAUEgakEAKQPgJDcAACABQRhqQQApA9gkNwAAIAFBEGpBACkD0CQ3AAAgAUEIakEAKQPIJDcAACABQQApA8AkNwAAIABBrAJqQriAgICAiICAgH83AgAgAEG0AmpBEjoAAEEAQgA3Aty4AUEAQgA3AuS4AUEAQYCAgPwDNgLsuAEgACABNgKoAkEAIQEDQCAAQbgCakHcuAEgAEEIaiABIgFBBHRqIgIgAhBoIAFBAWoiAiEBIAJBE0cNAAsgAEG4AmohAgNAIAIiAkFwaiEBAkAgAkF7aiwAAEF/Sg0AIAEoAgAQsA0LIAEhAiABIABBCGpHDQALQRRBAEGACBDjARogAEHAABCuDSIBNgIIIABCuoCAgICIgICAfzcCDCABQThqQQAvAcgcOwAAIAFBMGpBACkDwBw3AAAgAUEoakEAKQO4HDcAACABQSBqQQApA7AcNwAAIAFBGGpBACkDqBw3AAAgAUEQakEAKQOgHDcAACABQQhqQQApA5gcNwAAIAFBACkDkBw3AAAgAUEAOgA6QcAAEK4NIQEgAEEIakEQakK6gICAgIiAgIB/NwMAIAAgATYCFCABQThqQQAvAYgdOwAAIAFBMGpBACkDgB03AAAgAUEoakEAKQP4HDcAACABQSBqQQApA/AcNwAAIAFBGGpBACkD6Bw3AAAgAUEQakEAKQPgHDcAACABQQhqQQApA9gcNwAAIAFBACkD0Bw3AAAgAUEAOgA6QdAAEK4NIQEgAEEkakLJgICAgIqAgIB/NwIAIAAgATYCICABQZAdQckAEOcBQQA6AElBwAAQrg0hASAAQQhqQShqQrmAgICAiICAgH83AwAgACABNgIsIAFBOGpBAC0AmB46AAAgAUEwakEAKQOQHjcAACABQShqQQApA4geNwAAIAFBIGpBACkDgB43AAAgAUEYakEAKQP4HTcAACABQRBqQQApA/AdNwAAIAFBCGpBACkD6B03AAAgAUEAKQPgHTcAACABQQA6ADlBwAAQrg0hASAAQTxqQrmAgICAiICAgH83AgAgACABNgI4IAFBOGpBAC0A2B46AAAgAUEwakEAKQPQHjcAACABQShqQQApA8geNwAAIAFBIGpBACkDwB43AAAgAUEYakEAKQO4HjcAACABQRBqQQApA7AeNwAAIAFBCGpBACkDqB43AAAgAUEAKQOgHjcAACABQQA6ADlBwAAQrg0hASAAQQhqQcAAakK5gICAgIiAgIB/NwMAIAAgATYCRCABQThqQQAtAJgfOgAAIAFBMGpBACkDkB83AAAgAUEoakEAKQOIHzcAACABQSBqQQApA4AfNwAAIAFBGGpBACkD+B43AAAgAUEQakEAKQPwHjcAACABQQhqQQApA+geNwAAIAFBACkD4B43AAAgAUEAOgA5QcAAEK4NIQEgAEHUAGpCv4CAgICIgICAfzcCACAAIAE2AlAgAUE3akEAKQDXHzcAACABQTBqQQApA9AfNwAAIAFBKGpBACkDyB83AAAgAUEgakEAKQPAHzcAACABQRhqQQApA7gfNwAAIAFBEGpBACkDsB83AAAgAUEIakEAKQOoHzcAACABQQApA6AfNwAAIAFBADoAP0HQABCuDSEBIABB4ABqQsOAgICAioCAgH83AwAgACABNgJcIAFB4B9BwwAQ5wFBADoAQ0HAABCuDSEBIABB7ABqQr2AgICAiICAgH83AgAgACABNgJoIAFBNWpBACkA5SA3AAAgAUEwakEAKQPgIDcAACABQShqQQApA9ggNwAAIAFBIGpBACkD0CA3AAAgAUEYakEAKQPIIDcAACABQRBqQQApA8AgNwAAIAFBCGpBACkDuCA3AAAgAUEAKQOwIDcAACABQQA6AD1BMBCuDSEBIABB+ABqQq+AgICAhoCAgH83AwAgACABNgJ0IAFBJ2pBACkAlyE3AAAgAUEgakEAKQOQITcAACABQRhqQQApA4ghNwAAIAFBEGpBACkDgCE3AAAgAUEIakEAKQP4IDcAACABQQApA/AgNwAAIAFBADoAL0EwEK4NIQEgAEGEAWpCo4CAgICGgICAfzcCACAAIAE2AoABIAFBH2pBACgAvyE2AAAgAUEYakEAKQO4ITcAACABQRBqQQApA7AhNwAAIAFBCGpBACkDqCE3AAAgAUEAKQOgITcAACABQQA6ACNBMBCuDSEBIABBkAFqQq2AgICAhoCAgH83AwAgACABNgKMASABQSVqQQApAPUhNwAAIAFBIGpBACkD8CE3AAAgAUEYakEAKQPoITcAACABQRBqQQApA+AhNwAAIAFBCGpBACkD2CE3AAAgAUEAKQPQITcAACABQQA6AC1BwAAQrg0hASAAQZwBakK2gICAgIiAgIB/NwIAIAAgATYCmAEgAUEuakEAKQGuIjcAACABQShqQQApA6giNwAAIAFBIGpBACkDoCI3AAAgAUEYakEAKQOYIjcAACABQRBqQQApA5AiNwAAIAFBCGpBACkDiCI3AAAgAUEAKQOAIjcAACABQQA6ADZBMBCuDSEBIABBqAFqQqKAgICAhoCAgH83AwAgACABNgKkASABQSBqQQAvAeAiOwAAIAFBGGpBACkD2CI3AAAgAUEQakEAKQPQIjcAACABQQhqQQApA8giNwAAIAFBACkDwCI3AAAgAUEAOgAiQSAQrg0hASAAQbQBakKagICAgISAgIB/NwIAIAAgATYCsAEgAUEYakEALwG4IzsAACABQRBqQQApA7AjNwAAIAFBCGpBACkDqCM3AAAgAUEAKQOgIzcAACABQQA6ABpBMBCuDSEBIABBwAFqQquAgICAhoCAgH83AwAgACABNgK8ASABQSdqQQAoAJcjNgAAIAFBIGpBACkDkCM3AAAgAUEYakEAKQOIIzcAACABQRBqQQApA4AjNwAAIAFBCGpBACkD+CI3AAAgAUEAKQPw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ACAIIAcgAxDoARoLIAJBADoAAAJAAkAgASAEQQxqIAYQdCIDKAIAIgZFDQAgBSEDQQAhASAGIQUMAQsgBSAEKAIMNgIIIAVCADcCACADIAU2AgACQCABKAIAKAIAIgZFDQAgASAGNgIACyABKAIEIAMoAgAQTCABIAEoAghBAWo2AghBACEDQQEhASAFIQULIAAgAToABCAAIAU2AgACQCADIgNFDQACQCADLAAbQX9KDQAgAygCEBCwDQsgAxCwDQsgBEEQaiQADwsgBhAXAAvoCwEJfyMAQdAAayIEJAAgBEHAAGogAiADQSBBARDYAUEAIQMCQCAEKAJEIAQoAkAiAmtBEEcNACAEIAIoAgAQ5AEiBaw3AzhBACEDAkAgBUH/AUsNACAAKAIAIgZBiAFqIgchCAJAIAcoAgAiA0UNACAFQf8BcSEJIAchAiADIQMDQCACIAMiAyADLQAQIAlJIgobIgghAiADQQRqIAMgChsoAgAiCiEDIAghCCAKDQALCwJAAkAgCCICIAdGDQAgAiEDIAItABAgBUH/AXFNDQELIAchAwsgAyICIQMCQAJAAkACQAJAAkAgAiAHRw0AQcQAEK4NIgNBHGpCADcCACADQSxqIgJCADcCACADQTRqIgpCADcCACADQgA3AgQgA0IANwIMIANBqClBCGo2AgAgA0EUakIANwIAIANBJGoiCEIANwIAIANBPGoiCUIANwIAIANBIGogCDYCACACIANBMGoiCDYCACAIQQA2AgAgA0E4aiAJNgIAIApBADYCACAEIAM2AhwgBCADQQxqNgIYIARBKGogBkGEAWogBEE4aiAEQRhqEJEBIAQoAhwhAyAELQAsRQ0BIAQoAighAgJAIANFDQAgAyADKAIEIgpBf2o2AgQgCg0AIAMgAygCACgCCBEDACADEKMNCyACIQMLIAMhBiAEQShqIAQoAkAiAygCCCADQQxqKAIAQTtBARDYASAEKAIoIgMgBCgCLCILRg0EIAMhAwNAIAYoAhQiCUEgaiEIAkACQCADIgMoAgBBPSADKAIEEPUBIgoNACADKAIEIgJB8P///wdPDQQgAygCACEJAkACQCACQQpLDQAgBCACOgAjIARBGGohCgwBCyACQQ9yQQFqIgcQrg0hCiAEIAdBgICAgHhyNgIgIAQgCjYCGCAEIAI2AhwgCiEK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QCABRQ0AIAEQsA0LC0gAIABCADcAFyAAQX82AgggACACNgIEIAAgATYCACAAQQxqQQA6AAAgAEEfakIANwAAIABBJ2pCADcAACAAQSxqQgA3AAAgAAuIAQECfwJAIABBJGooAgAiAUUNACABIAEoAgQiAkF/ajYCBCACDQAgASABKAIAKAIIEQMAIAEQow0LAkAgAEEcaigCACIBRQ0AIAEgASgCBCICQX9qNgIEIAINACABIAEoAgAoAggRAwAgARCjDQsCQCAALAAXQX9KDQAgAEEMaigCABCwDQsgAAuyAwEFf0GwARCuDSIBQbwnQQhqNgIAIAFCADcCBCABQQxqQQBBpAEQ6QEhAiABQZgBakIANwIAIAFBiAFqIAFBjAFqNgIAIAFBoAFqQQA2AgAgAUGoAWoiA0IANwIAIAFBpAFqIAM2AgAgACACNgIYIABBHGoiAygCACECIAMgATYCAAJAIAJFDQAgAiACKAIEIgFBf2o2AgQgAQ0AIAIgAigCACgCCBEDACACEKMNCwJAAkADQCAAKAIEIgRFDQEgAEEANgI4IAAgACgCACIBNgI0QQAhAiABIQMCQANAIAIiASEFAkAgAyICLQAAQXZqDgQCAAACAAsgACACQQFqIgM2AgAgACABQQFqIgE2AjggASECIAMhAyABIARHDQALIAQhBQsgACAEIAVrIgE2AgQCQCABRQ0AIAEhAiAAKAIAIQMDQCACIQECQCADIgItAABBdmoOBAACAgACCyAAIAFBf2oiATYCBCAAIAJBAWoiAzYCACABIQIgAyEDIAENAAsLIAAgACgCMEEBajYCMCAERQ0BIAAQnwENAAwCCwALIAAoAiBFDQAgABCgAQsgBEUL8QQBBX8jAEEQayIBJABBASECAkACQAJAAkACQAJAAkACQAJAIAAoAjQiAywAAEGff2oOGgAHAQYHBgYGAgYHBgMGBAcGBwUHBwcGBgYHBgsgABChASECDAYLIAAQogEhAgwFCyAAKAI4QX5qIgJB8P///wdPDQUCQAJAIAJBCksNACABIAI6AAsgASEEDAELIAJBD3JBAWoiBRCuDSEEIAEgBUGAgICAeHI2AgggASAENgIAIAEgAjYCBCAEIQQLIAQiBSACaiEEAkAgAkUNACAFIANBAmogAhDoARoLIARBADoAACAAKAIYIgJBNGoh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IAAoAjAQpQECQCABLAATQX9KDQAgASgCCBCwDQtBACECDAELAkAgAkUNACADQfD///8HTw0GAkACQCADQQpLDQAgASADOgATIAFBCGohAAwBCyADQQ9yQQFqIgQQrg0hACABIARBgICAgHhyNgIQIAEgADYCCCABIAM2AgwgACEACyAAIgQgA2ohAAJAIANFDQAgBCACIAMQ6AEaCyAAQQA6AAAgBSABQRhqIAFBCGoQ0AECQCABLAATQX9KDQAgASgCCBCwDQtBASECDAELIAFBADoACCABQQA6ABMgBSABQRhqIAFBCGoQ0AECQCABLAATQX9KDQAgASgCCBCwDQtBASECCyACIQACQCABLAAjQX9KDQAgASgCGBCwDQsgAUEwaiQAIAAPCxCpAQALIAFBCGoQFwALIAFBCGoQFwALIAFBCGoQFwALIAFBCGoQFwALjgMBA38jAEEgayIBJAAgAUEQaiAAKAI0QQJqIAAoAjhBfmpBIEEBENgBAkACQAJAIAEoAhAiAkEMaigCACIDQQNHDQAgAigCCCICQbUrIAMQgAJFDQEgAkG5KyADEIACRQ0BCyABQRAQrg0iAzYCACABQouAgICAgoCAgH83AgQgA0EHakEAKACOCzYAACADQQApAIcLNwAAIANBADoACyAAQQIgASAAKAIwEKUBAkAgASwAC0F/Sg0AIAEoAgAQsA0LQQAhAAwBCwJAIAAoAiAiA0UNACADQQA2AlxBASEADAELAkAgACgCGCgCTA0AQQEhAAwBCyABQSAQrg0iAzYCACABQpKAgICAhICAgH83AgQgA0EQakEALwCwCjsAACADQQhqQQApAKgKNwAAIANBACkAoAo3AAAgA0EAOgASIABBAiABIAAoAjAQpQECQCABLAALQX9KDQAgASgCABCwDQtBACEACyAAIQMCQCABKAIQIgBFDQAgASAANgIUIAAQsA0LIAFBIGokACADC7kJAQh/IwBBIGsiASQAIAFBEGogACgCNEECaiAAKAI4QX5qQSBBARDYAQJAAkACQCABKAIUIAEoAhAiAmtBH0sNACABQRAQrg0iAjYCACABQoyAgICAgoCAgH83AgQgAkEIakEAKACACzYAACACQQApAPgKNwAAIAJBADoADCAAQQEgASAAKAIwEKUBAkAgASwAC0F/Sg0AIAEoAgAQsA0LQQAhAAwBCyACKAIAIQMCQAJAAkACQCACKAIEIgJBe2oOBwACAgICAgECCwJAIANBvSsgAhCAAg0AQQAhAkEAIQNBASEEDAMLAkAgA0HDKyACEIACDQBBACECQQEhA0EBIQQMAwsgAkELRw0BCyADQckrIAIQgAINAEEBIQJBAiEDQQEhBAwBC0EAIgQhAkEAIQMgBCEECyADIQUgAiEGAkACQCAEIgMNACABQSAQrg0iAjYCACABQpiAgICAhICAgH83AgQgAkEQakEAKQDjDzcAACACQQhqQQApANsPNwAAIAJBACkA0w83AAAgAkEAOgAYIABBAiABIAAoAjAQpQEgASwAC0F/Sg0BIAEoAgAQsA0MAQsCQCAAKAIgRQ0AIAAQoAELQdgBEK4NIgJBtChBCGo2AgAgAkIANwIEIAJBDGpBAEHMARDpASEEIAJBiAFqIgdCADcCACACQRBqQQk7AQAgAkEUakEAQe4AEOkBGiACQZQBaiIIQgA3AgAgAkGEAWogBzYCACACQaABaiIHQgA3AgAgAkGQAWogCDYCACACQdABaiIIQgA3AgAgAkGcAWogBzYCACACQagBakIANwIAIAJBsAFqQgA3AgAgAkG4AWpCADcCACACQcABakIANwIAIAJByAFqQQA2AgAgAkHMAWogCDYCACAAIAQ2AiAgAEEkaiIHKAIAIQQgByACNgIAAkAgBEUNACAEIAQoAgQiAkF/ajYCBCACDQAgBCAEKAIAKAIIEQMAIAQQow0LIAAoAiAiBCAFNgIAIAQgASgCECIFKAIIEOQBOwEEIAVBFGooAgAiAkHw////B08NAiAFKAIQIQcCQAJAIAJBCksNACABIAI6AAsgASEFDAELIAJBD3JBAWoiCBCuDSEFIAEgCEGAgICAeHI2AgggASAFNgIAIAEgAjYCBCAFIQULIAUiCCACaiEFAkAgAkUNACAIIAcgAhDoARoLIAVBADoAACAEQQhqIQICQCAELAATQX9KDQAgAigCABCwDQsgAiABKQMANwIAIAJBCGogAUEIaigCADYCACAGRQ0AIAEoAhAiBEEcaigCACICQfD///8HTw0CIAQoAhghBQJAAkAgAkEKSw0AIAEgAjoACyABIQQMAQsgAkEPckEBaiIGEK4NIQQgASAGQYCAgIB4cjYCCCABIAQ2AgAgASACNgIEIAQhBAsgBCIGIAJqIQQCQCACRQ0AIAYgBSACEOgBGgsgBEEAOgAAIAAoAiAiAkEgaiEAAkAgAiwAK0F/Sg0AIAAoAgAQsA0LIAAgASkDADcCACAAQQhqIAFBCGooAgA2AgALIAMhAAsgACECAkAgASgCECIARQ0AIAEgADYCFCAAELANCyABQSBqJAAgAg8LIAEQFwAL7QcBBX8jAEEgayIBJAAgAUEQaiAAKAI0QQJqIAAoAjhBfmpBIEEBENgBAkACQAJAIAEoAhQgASgCECICa0EwRg0AIAFBEBCuDSIDNgIAIAFCjICAgICCgICAfzcCBCADQQhqQQAoAIALNgAAIANBACkA+Ao3AAAgA0EAOgAMIABBASABIAAoAjAQpQECQCABLAALQX9KDQAgASgCABCwDQtBACEADAELIAIoAgQiA0Hw////B08NASACKAIAIQQCQAJAIANBCksNACABIAM6AAsgASECDAELIANBD3JBAWoiBRCuDSECIAEgBUGAgICAeHI2AgggASACNgIAIAEgAzYCBCACIQILIAIiBSADaiECAkAgA0UNACAFIAQgAxDoARoLIAJBADoAACAAKAIYIgJBBGohAwJAIAIsAA9Bf0oNACADKAIAELANCyADIAEpAwA3AgAgA0EIaiABQQhqKAIANgIAIAEoAhAiAkEMaigCACIDQfD///8HTw0BIAIoAgghBAJAAkAgA0EKSw0AIAEgAzoACyABIQIMAQsgA0EPckEBaiIFEK4NIQIgASAFQYCAgIB4cjYCCCABIAI2AgAgASADNgIEIAIhAgsgAiIFIANqIQICQCADRQ0AIAUgBCADEOgBGgsgAkEAOgAAIAAoAhgiAkEQaiEDAkAgAiwAG0F/Sg0AIAMoAgAQsA0LIAMgASkDADcCACADQQhqIAFBCGooAgA2AgAgASgCECICQRRqKAIAIgNB8P///wdPDQEgAigCECEEAkACQCADQQpLDQAgASADOgALIAEhAgwBCyADQQ9yQQFqIgUQrg0hAiABIAVBgICAgHhyNgIIIAEgAjYCACABIAM2AgQgAiECCyACIgUgA2ohAgJAIANFDQAgBSAEIAMQ6AEaCyACQQA6AAAgACgCGCICQRxqIQMCQCACLAAnQX9KDQAgAygCABCwDQsgAyABKQMANwIAIANBCGogAUEIaigCADYC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ODYCOCACIAEoAjw2AjwgAUHAAGohASACQcAAaiICIAVNDQALCyACIARPDQEDQCACIAEoAgA2AgAgAUEEaiEBIAJBBGoiAiAESQ0ADAILAAsCQCADQQRPDQAgACECDAELAkAgA0F8aiIEIABPDQAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCwJAIAIgA08NAANAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANHDQALCyAAC/cCAQJ/AkAgACABRg0AAkAgASAAIAJqIgNrQQAgAkEBdGtLDQAgACABIAIQ5wEPCyABIABzQQNxIQQCQAJAAkAgACABTw0AAkAgBEUNACAAIQMMAwsCQCAAQQNxDQAgACEDDAILIAAhAwNAIAJFDQQgAyABLQAAOgAAIAFBAWohASACQX9qIQIgA0EBaiIDQQNxRQ0CDAALAAsCQCAEDQACQCADQQNxRQ0AA0AgAkUNBSAAIAJBf2oiAmoiAyABIAJqLQAAOgAAIANBA3ENAAsLIAJBA00NAANAIAAgAkF8aiICaiABIAJqKAIANgIAIAJBA0sNAAsLIAJFDQIDQCAAIAJBf2oiAmogASACai0AADoAACACDQAMAwsACyACQQNNDQADQCADIAEoAgA2AgAgAUEEaiEBIANBBGohAyACQXxqIgJBA0sNAAsLIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8gICA38BfgJAIAJFDQAgACABOgAAIAIgAGoiA0F/aiABOgAAIAJBA0kNACAAIAE6AAIgACABOgABIANBfWogAToAACADQX5qIAE6AAAgAkEHSQ0AIAAgAToAAyADQXxqIAE6AAAgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIFayIC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AUEBaiEBIAAtAAEhBCAAQQFqIQAgBA0ADAILAAsgBCEDCyADQf8BcSABLQAAawvkAQEDfyMAQSBrIgJBGGpCADcDACACQRBqQgA3AwAgAkIANwMIIAJCADcDAAJAIAEtAAAiAw0AQQAPCwJAIAEtAAENACAAIQEDQCABIgRBAWohASAELQAAIANGDQALIAQgAGsPCwNAIAIgA0EDdkEccWoiBCAEKAIAQQEgA3RyNgIAIAEtAAEhAyABQQFqIQEgAw0ACyAAIQQCQCAALQAAIgNFDQAgACEBA0ACQCACIANBA3ZBHHFqKAIAIAN2QQFxDQAgASEEDAILIAEtAAEhAyABQQFqIgQhASADDQALCyAEIABrCwQAQQELAgALBABBAAsEAEEACwQAQQALBABBAAsCAAsCAAtcAQF/IAAgACgCSCIBQX9qIAFyNgJIAkAgACgCACIBQQhxRQ0AIAAgAUEgcjYCAEF/DwsgAEIANwIEIAAgACgCLCIBNgIcIAAgATYCFCAAIAEgACgCMGo2AhBBAAsXAQF/IABBACABEPUBIgIgAGsgASACGwuPAQIBfgF/AkAgAL0iAkI0iKdB/w9xIgNB/w9GDQACQCADDQACQAJAIABEAAAAAAAAAABiDQBBACEDDAELIABEAAAAAAAA8EOiIAEQjAIhACABKAIAQUBqIQMLIAEgAzYCACAADwsgASADQYJ4ajYCACACQv////////+HgH+DQoCAgICAgIDwP4S/IQALIAALzgEBA38CQAJAIAIoAhAiAw0AQQAhBCACEIoCDQEgAigCECEDCwJAIAMgAigCFCIFayABTw0AIAIgACABIAIoAiQRBAAPCwJAAkAgAigCUEEATg0AQQAhAwwBCyABIQQDQAJAIAQiAw0AQQAhAwwCCyAAIANBf2oiBGotAABBCkcNAAsgAiAAIAMgAigCJBEEACIEIANJDQEgACADaiEAIAEgA2shASACKAIUIQULIAUgACABEOcBGiACIAIoAhQgAWo2AhQgAyABaiEECyAEC/sCAQR/IwBB0AFrIgUkACAFIAI2AswBQQAhBiAFQaABakEAQSgQ6QEaIAUgBSgCzAE2AsgBAkACQEEAIAEgBUHIAWogBUHQAGogBUGgAWogAyAEEI8CQQBODQBBfyEEDAELAkAgACgCTEEASA0AIAAQggIhBgsg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AEEgcQ0AIAEgAiAAEI0CGgsLdAEDf0EAIQECQCAAKAIALAAAEPIBDQBBAA8LA0AgACgCACECQX8hAwJAIAFBzJmz5gBLDQBBfyACLAAAQVBqIgMgAUEKbCIBaiADIAFB/////wdzShshAwsgACACQQFqNgIAIAMhASACLAABEPIBDQALIAMLtgQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAUF3ag4SAAECBQMEBgcICQoLDA0ODxAREgsgAiACKAIAIgFBBGo2AgAgACABKAIANgIADwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMADwsgAiACKAIAIgFBBGo2AgAgACABMgEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMwEANwMADwsgAiACKAIAIgFBBGo2AgAgACABMAAANwMADwsgAiACKAIAIgFBBGo2AgAgACABMQAANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMADwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACIAMRAgALCz4BAX8CQCAAUA0AA0AgAUF/aiIBIACnQQ9xQaDAAGotAAAgAnI6AAAgAEIPViEDIABCBIghACADDQALCyABCzYBAX8CQCAAUA0AA0AgAUF/aiIBIACnQQdxQTByOgAAIABCB1YhAiAAQgOIIQAgAg0ACwsgAQuIAQIBfgN/AkACQCAAQoCAgIAQWg0AIAAhAgwBCwNAIAFBf2oiASAAIABCCoAiAkIKfn2nQTByOgAAIABC/////58BViEDIAIhACADDQAL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NgIYDAELIAFBAEEZIANBAXZrIANBH0YbdCEDIAQoAgAhBgNAIAYiBCgCBEF4cSABRg0CIANBHXYhBiADQQF0IQMgBCAGQQRxakEQaiICKAIAIgYNAAsgAiAANgIAIAAgBDYCGAsgACAANgIMIAAgADYCCA8LIAQoAggiASAANgIMIAQgADYCCCAAQQA2AhggACAENgIMIAAgATYCCAsLBwA/AEEQdAtUAQJ/QQAoArSqASIBIABBB2pBeHEiAmohAAJAAkAgAkUNACAAIAFNDQELAkAgABCrAk0NACAAEApFDQELQQAgADYCtKoBIAEPCxDuAUEwNgIAQX8LUwEBfgJAAkAgA0HAAHFFDQAgASADQUBqrYYhAkIAIQEMAQsgA0UNACABQcAAIANrrYggAiADrSIEhoQhAiABIASGIQELIAAgATcDACAAIAI3AwgLUwEBfgJAAkAgA0HAAHFFDQAgAiADQUBqrYghAUIAIQIMAQsgA0UNACACQcAAIANrrYYgASADrSIEiIQhASACIASIIQILIAAgATcDACAAIAI3AwgL5AMCAn8CfiMAQSBrIgIkAAJAAkAgAUL///////////8AgyIEQoCAgICAgMD/Q3wgBEKAgICAgIDAgLx/fFoNACAAQjyIIAFCBIaEIQQCQCAAQv//////////D4MiAEKBgICAgICAgAhUDQAgBEKBgICAgICAgMAAfCEFDAILIARCgICAgICAgIDAAHwhBSAAQoCAgICAgICACFINASAFIARCAYN8IQUMAQsCQCAAUCAEQoCAgICAgMD//wBUIARCgICAgICAwP//AFEbDQAgAEI8iCABQgSGhEL/////////A4NCgICAgICAgPz/AIQhBQwBC0KAgICAgICA+P8AIQUgBEL///////+//8MAVg0AQgAhBSAEQjCIpyIDQZH3AEkNACACQRBqIAAgAUL///////8/g0KAgICAgIDAAIQiBCADQf+If2oQrQIgAiAAIARBgfgAIANrEK4CIAIpAwAiBEI8iCACQQhqKQMAQgSGhCEFAkAgBEL//////////w+DIAIpAxAgAkEQakEIaikDAIRCAFKthCIEQoGAgICAgICACFQNACAFQgF8IQUMAQsgBEKAgICAgICAgAhSDQAgBUIBgyAFfCEFCyACQSBqJAAgBSABQoCAgICAgICA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ajYCCCAAIARBDGogBEEIahDrAyAEQRBqJAALCQAgACABEO8DCwkAIAAgARDwAwsMACAAIAEgAhDuAxoLOAEBfyMAQRBrIgMkACADIAEQ8QM2AgwgAyACEPEDNgIIIAAgA0EMaiADQQhqEPIDGiADQRBqJAALBwAgABC5AwsYACAAIAEoAgA2AgAgACACKAIANgIEIAALCQAgACABEPUDCw0AIAAgASAAELkDa2oLBwAgABDzAwsYACAAIAEoAgA2AgAgACACKAIANgIEIAALBwAgABD0AwsEACAACwkAIAAgARD2AwsNACAAIAEgABD0A2tqCysBAX8jAEEQayIDJAAgA0EIaiAAIAEgAhD4AyADKAIMIQIgA0EQaiQAIAILZAEBfyMAQSBrIgQkACAEQRhqIAEgAhD5AyAEQRBqIAQoAhggBCgCHCADEPoDEPsDIAQgASAEKAIQEPwDNgIMIAQgAyAEKAIUEP0DNgIIIAAgBEEMaiAEQQhqEP4DIARBIGokAAsLACAAIAEgAhD/AwsHACAAEIAEC1IBAn8jAEEQayIEJAAgAiABayEFAkAgAiABRg0AIAMgASAFEOgBGgsgBCABIAVqNgIMIAQgAyAFajYCCCAAIARBDGogBEEIahD+AyAEQRBqJAALCQAgACABEIIECwkAIAAgARCDBAsMACAAIAEgAhCBBBoLOAEBfyMAQRBrIgMkACADIAEQhAQ2AgwgAyACEIQENgIIIAAgA0EMaiADQQhqEIUEGiADQRBqJAALBwAgABCIBAsYACAAIAEoAgA2AgAgACACKAIANgIEIAALCQAgACABEIkECw0AIAAgASAAEIgEa2oLBwAgABCGBAsYACAAIAEoAgA2AgAgACACKAIANgIEIAALBwAgABCHBAsEACAACwQAIAALCQAgACABEIoECw0AIAAgASAAEIcEa2oLBAAgAAsHACAAEI4ECxgAIAAQvgMiAEIANwIAIABBCGpBADYCAAsHACAAEI8ECwQAIAALBAAgAAsKACAAEL4DKAIACwoAIAAQvgMQkwQLBAAgAAsEACAACwsAIAAgASACEJkECwkAIAAgARCbBAstAQF/IAAQvgMiAiACLQALQYABcSABcjoACyAAEL4DIgAgAC0AC0H/AHE6AAsLDAAgACABLQAAOgAACwsAIAEgAkEBEJwECwcAIAAQogQLDgAgARC/AxogABC/AxoLHgACQCACEJ0ERQ0AIAAgASACEJ4EDwsgACABEJ8ECwcAIABBCEsLCQAgACACEKAECwcAIAAQoQQLCQAgACABELQNCwcAIAAQsA0LBAAgAAsHACAAEKQECwQAIAALBAAgAAsJACAAIAEQrwQLGQAgABDEAxCwBCIAIAAQsQRBAXZLdkFwagsHACAAQQtJCy0BAX9BCiEBAkAgAEELSQ0AIABBAWoQswQiACAAQX9qIgAgAEELRhshAQsgAQsZACABIAIQsgQhASAAIAI2AgQgACABNgIACwIACwwAIAAQvgMgATYCAAs6AQF/IAAQvgMiAiACKAIIQYCAgIB4cSABQf////8HcXI2AgggABC+AyIAIAAoAghBgICAgHhyNgIICwwAIAAQvgMgATYCBAsHACABIABrCwUAELEECwUAELQECxkAAkAgABCwBCABTw0AEE8ACyABQQEQtQQLCgAgAEEPakFwcQsEAEF/CxoAAkAgARCdBEUNACAAIAEQtgQPCyAAELcECwkAIAAgARCyDQsHACAAEK4NCxgAAkAgABC8A0UNACAAELoEDwsgABC7BAsNACABKAIAIAIoAgBJCwoAIAAQywMoAgALCgAgABDLAxC8BAsEACAACw0AIAEoAgAgAigCAEkLMQEBfwJAIAAoAgAiAUUNAAJAIAEQ9wIQ4gIQ+gINACAAKAIARQ8LIABBADYCAAtBAQsIAEGAgICAeAsIAEH/////BwsRACAAIAEgACgCACgCHBEBAAsxAQF/AkAgACgCACIBRQ0AAkAgARChAxCZAxCjAw0AIAAoAgBFDwsgAEEANgIAC0EBCxEAIAAgASAAKAIAKAIsEQEACxwBAX8gACgCACECIAAgASgCADYCACABIAI2AgALMwEBfyMAQRBrIgIkACAAIAJBCGogAhC1AyIAIAEgARDGBBDFDSAAELYDIAJBEGokACAACwcAIAAQ/wELQAECfyAAKAIoIQIDQAJAIAINAA8LIAEgACAAKAIkIAJBf2oiAkECdCIDaigCACAAKAIgIANqKAIAEQUADAALAAsNACAAIAFBHGoQ9AkaCwkAIAAgARDLBAsnACAAIAAoAhhFIAFyIgE2AhACQCAAKAIUIAFxRQ0AQcULEM4EAAsLKQECfyMAQRBrIgIkACACQQhqIAAgARC5BCEDIAJBEGokACABIAAgAxsLQAAgAEHgyABBCGo2AgAgAEEAEMcEIABBHGoQ9QkaIAAoAiAQpQIgACgCJBClAiAAKAIwEKUCIAAoAjwQpQIgAAsNACAAEMwEGiAAELANCwUAEAsAC0EAIABBADYCFCAAIAE2AhggAEEANgIMIABCgqCAgOAANwIEIAAgAUU2AhAgAEEgakEAQSgQ6QEaIABBHGoQ8wkaCw4AIAAgASgCADYCACAACwQAIAALQQECfyMAQRBrIgEkAEF/IQICQCAAEM4CDQAgACABQQ9qQQEgACgCIBEEAEEBRw0AIAEtAA8hAgsgAUEQaiQAIAILRwECfyAAIAE3A3AgACAAKAIsIAAoAgQiAmusNwN4IAAoAgghAwJAIAFQDQAgAyACa6wgAVcNACACIAGnaiEDCyAAIAM2AmgL3QECA38CfiAAKQN4IAAoAgQiASAAKAIsIgJrrHwhBAJAAkACQCAAKQNwIgVQDQAgBCAFWQ0BCyAAENIEIgJBf0oNASAAKAIEIQEgACgCLCECCyAAQn83A3AgACABNgJoIAAgBCACIAFrrHw3A3hBfw8LIARCAXwhBCAAKAIEIQEgACgCCCEDAkAgACkDcCIFQgBRDQAgBSAEfSIFIAMgAWusWQ0AIAEgBadqIQMLIAAgAzYCaCAAIAQgACgCLCIDIAFrrHw3A3gCQCABIANLDQAgAUF/aiACOgAACyACC+EBAgN/An4jAEEQayICJAACQAJAIAG8IgNB/////wdxIgRBgICAfGpB////9wdLDQAgBK1CGYZCgICAgICAgMA/fCEFQgAhBgwBCwJAIARBgICA/AdJDQAgA61CGYZCgICAgICAwP//AIQhBUIAIQYMAQsCQCAEDQBCACEGQgAhBQwBCyACIAStQgAgBGciBEHRAGoQrQIgAkEIaikDAEKAgICAgIDAAIVBif8AIARrrUIwhoQhBSACKQMAIQYLIAAgBjcDACAAIAUgA0GAgICAeHGtQiCGhDcDCCACQRBqJAALjQECAn8CfiMAQRBrIgIkAAJAAkAgAQ0AQgAhBEIAIQUMAQsgAiABIAFBH3UiA3MgA2siA61CACADZyIDQdEAahCtAiACQQhqKQMAQoCAgICAgMAAhUGegAEgA2utQjCGfCABQYCAgIB4ca1CIIaEIQUgAikDACEECyAAIAQ3AwAgACAFNwMIIAJBEGokAAucCwIFfw9+IwBB4ABrIgUkACAEQv///////z+DIQogBCAChUKAgICAgICAgIB/gyELIAJC////////P4MiDEIgiCENIARCMIinQf//AXEhBgJAAkACQCACQjCIp0H//wFxIgdBgYB+akGCgH5JDQBBACEIIAZBgYB+akGBgH5LDQELAkAgAVAgAkL///////////8AgyIOQoCAgICAgMD//wBUIA5CgICAgICAwP//AFEbDQAgAkKAgICAgIAghCELDAILAkAgA1AgBEL///////////8AgyICQoCAgICAgMD//wBUIAJCgICAgICAwP//AFEbDQAgBEKAgICAgIAghCELIAMhAQwCCwJAIAEgDkKAgICAgIDA//8AhYRCAFINAAJAIAMgAoRQRQ0AQoCAgICAgOD//wAhC0IAIQEMAwsgC0KAgICAgIDA//8AhCELQgAhAQwCCwJAIAMgAkKAgICAgIDA//8AhYRCAFINACABIA6EIQJCACEBAkAgAlBFDQBCgICAgICA4P//ACELDAMLIAtCgICAgICAwP//AIQhCwwCCwJAIAEgDoRCAFINAEIAIQEMAgsCQCADIAKEQgBSDQBCACEBDAILQQAhCAJAIA5C////////P1YNACAFQdAAaiABIAwgASAMIAxQIggbeSAIQQZ0rXynIghBcWoQrQJBECAIayEIIAVB2ABqKQMAIgxCIIghDSAFKQNQIQELIAJC////////P1YNACAFQcAAaiADIAogAyAKIApQIgkbeSAJQQZ0rXynIglBcWoQrQIgCCAJa0EQaiEIIAVByABqKQMAIQogBSkDQCEDCyADQg+GIg5CgID+/w+DIgIgAUIgiCIEfiIPIA5CIIgiDiABQv////8PgyIBfnwiEEIghiIRIAIgAX58IhIgEVStIAIgDEL/////D4MiDH4iEyAOIAR+fCIRIANCMYggCkIPhiIUhEL/////D4MiAyABfnwiCiAQQiCIIBAgD1StQiCGhHwiDyACIA1CgIAEhCIQfiIVIA4gDH58Ig0gFEIgiEKAgICACIQiAiABfnwiFCADIAR+fCIWQiCGfCIXfCEBIAcgBmogCGpBgYB/aiEGAkACQCACIAR+IhggDiAQfnwiBCAYVK0gBCADIAx+fCIOIARUrXwgAiAQfnwgDiARIBNUrSAKIBFUrXx8IgQgDlStfCADIBB+IgMgAiAMfnwiAiADVK1CIIYgAkIgiIR8IAQgAkIghnwiAiAEVK18IAIgFkIgiCANIBVUrSAUIA1UrXwgFiAUVK18QiCGhHwiBCACVK18IAQgDyAKVK0gFyAPVK18fCICIARUrXwiBEKAgICAgIDAAINQDQAgBkEBaiEGDAELIBJCP4ghAyAEQgGGIAJCP4iEIQQgAkIBhiABQj+IhCECIBJCAYYhEiADIAFCAYaEIQELAkAgBkH//wFIDQAgC0KAgICAgIDA//8AhCELQgAhAQwBCwJAAkAgBkEASg0AAkBBASAGayIHQf8ASw0AIAVBMGogEiABIAZB/wBqIgYQrQIgBUEgaiACIAQgBhCtAiAFQRBqIBIgASAHEK4CIAUgAiAEIAcQrgIgBSkDICAFKQMQhCAFKQMwIAVBMGpBCGopAwCEQgBSrYQhEiAFQSBqQQhqKQMAIAVBEGpBCGopAwCEIQEgBUEIaikDACEEIAUpAwAhAgwCC0IAIQEMAgsgBq1CMIYgBEL///////8/g4QhBAsgBCALhCELAkAgElAgAUJ/VSABQoCAgICAgICAgH9RGw0AIAsgAkIBfCIBIAJUrXwhCwwBCwJAIBIgAUKAgICAgICAgIB/hYRCAFENACACIQEMAQsgCyACIAJCAYN8IgEgAlStfCELCyAAIAE3AwAgACALNwMIIAVB4ABqJAALBABBAAsEAEEAC+gKAgR/BH4jAEHwAGsiBSQAIARC////////////AIMhCQJAAkACQCABUCIGIAJC////////////AIMiCkKAgICAgIDAgIB/fEKAgICAgIDAgIB/VCAKUBsNACADQgBSIAlCgICAgICAwICAf3wiC0KAgICAgIDAgIB/ViALQoCAgICAgMCAgH9RGw0BCwJAIAYgCkKAgICAgIDA//8AVCAKQoCAgICAgMD//wBRGw0AIAJCgICAgICAIIQhBCABIQMMAgsCQCADUCAJQoCAgICAgMD//wBUIAlCgICAgICAwP//AFEbDQAgBEKAgICAgIAghCEEDAILAkAgASAKQoCAgICAgMD//wCFhEIAUg0AQoCAgICAgOD//wAgAiADIAGFIAQgAoVCgICAgICAgICAf4WEUCIGGyEEQgAgASAGGyEDDAILIAMgCUKAgICAgIDA//8AhYRQDQECQCABIAqEQgBSDQAgAyAJhEIAUg0CIAMgAYMhAyAEIAKDIQQMAgsgAyAJhFBFDQAgASEDIAIhBAwBCyADIAEgAyABViAJIApWIAkgClEbIgcbIQkgBCACIAcbIgtC////////P4MhCiACIAQgBxsiAkIwiKdB//8BcSEIAkAgC0IwiKdB//8BcSIGDQAgBUHgAGogCSAKIAkgCiAKUCIGG3kgBkEGdK18pyIGQXFqEK0CQRAgBmshBiAFQegAaikDACEKIAUpA2AhCQsgASADIAcbIQMgAkL///////8/gyEEAkAgCA0AIAVB0ABqIAMgBCADIAQgBFAiBxt5IAdBBnStfKciB0FxahCtAkEQIAdrIQggBUHYAGopAwAhBCAFKQNQIQMLIARCA4YgA0I9iIRCgICAgICAgASEIQEgCkIDhiAJQj2IhCEEIANCA4YhCiALIAKFIQMCQCAGIAhGDQACQCAGIAhrIgdB/wBNDQBCACEBQgEhCgwBCyAFQcAAaiAKIAFBgAEgB2sQrQIgBUEwaiAKIAEgBxCuAiAFKQMwIAUpA0AgBUHAAGpBCGopAwCEQgBSrYQhCiAFQTBqQQhqKQMAIQELIARCgICAgICAgASEIQwgCUIDhiEJAkACQCADQn9VDQBCACEDQgAhBCAJIAqFIAwgAYWEUA0CIAkgCn0hAiAMIAF9IAkgClStfSIEQv////////8DVg0BIAVBIGogAiAEIAIgBCAEUCIHG3kgB0EGdK18p0F0aiIHEK0CIAYgB2shBiAFQShqKQMAIQQgBSkDICECDAELIAEgDHwgCiAJfCICIApUrXwiBEKAgICAgICACINQDQAgAkIBiCAEQj+GhCAKQgGDhCECIAZBAWohBiAEQgGIIQQLIAtCgICAgICAgICAf4MhCgJAIAZB//8BSA0AIApCgICAgICAwP//AIQhBEIAIQMMAQtBACEHAkACQCAGQQBMDQAgBiEHDAELIAVBEGogAiAEIAZB/wBqEK0CIAUgAiAEQQEgBmsQrgIgBSkDACAFKQMQIAVBEGpBCGopAwCEQgBSrYQhAiAFQQhqKQMAIQQLIAJCA4ggBEI9hoQhAyAHrUIwhiAEQgOIQv///////z+DhCAKhCEEIAKnQQdxIQYCQAJAAkACQAJAENgEDgMAAQIDCyAEIAMgBkEES618IgogA1StfCEEAkAgBkEERg0AIAohAwwDCyAEIApCAYMiASAKfCIDIAFUrXwhBAwDCyAEIAMgCkIAUiAGQQBHca18IgogA1StfCEEIAohAwwBCyAEIAMgClAgBkEAR3GtfCIKIANUrXwhBCAKIQMLIAZFDQELENkEGgsgACADNwMAIAAgBDcDCCAFQfAAaiQAC44CAgJ/A34jAEEQayICJAACQAJAIAG9IgRC////////////AIMiBUKAgICAgICAeHxC/////////+//AFYNACAFQjyGIQYgBUIEiEKAgICAgICAgDx8IQUMAQsCQCAFQoCAgICAgID4/wBUDQAgBEI8hiEGIARCBIhCgICAgICAwP//AIQhBQwBCwJAIAVQRQ0AQgAhBkIAIQUMAQsgAiAFQgAgBKdnQSBqIAVCIIinZyAFQoCAgIAQVBsiA0ExahCtAiACQQhqKQMAQoCAgICAgMAAhUGM+AAgA2utQjCGhCEFIAIpAwAhBgsgACAGNwMAIAAgBSAEQoCAgICAgICAgH+DhDcDCCACQRBqJAAL4AECAX8CfkEBIQQCQCAAQgBSIAFC////////////AIMiBUKAgICAgIDA//8AViAFQoCAgICAgMD//wBRGw0AIAJCAFIgA0L///////////8AgyIGQoCAgICAgMD//wBWIAZCgICAgICAwP//AFEbDQACQCACIACEIAYgBYSEUEUNAEEADwsCQCADIAGDQgBTDQBBfyEEIAAgAlQgASADUyABIANRGw0BIAAgAoUgASADhYRCAFIPC0F/IQQgACACViABIANVIAEgA1EbDQAgACAChSABIAOFhEIAUiEECyAEC9gBAgF/An5BfyEEAkAgAEIAUiABQv///////////wCDIgVCgICAgICAwP//AFYgBUKAgICAgIDA//8AURsNACACQgBSIANC////////////AIMiBkKAgICAgIDA//8AViAGQoCAgICAgMD//wBRGw0AAkAgAiAAhCAGIAWEhFBFDQBBAA8LAkAgAyABg0IAUw0AIAAgAlQgASADUyABIANRGw0BIAAgAoUgASADhYRCAFIPCyAAIAJWIAEgA1UgASADURsNACAAIAKFIAEgA4WEQgBSIQQLIAQLrgEAAkACQCABQYAISA0AIABEAAAAAAAA4H+iIQACQCABQf8PTw0AIAFBgXhqIQEMAgsgAEQAAAAAAADgf6IhACABQf0XIAFB/RdIG0GCcGohAQwBCyABQYF4Sg0AIABEAAAAAAAAYAOiIQACQCABQbhwTQ0AIAFByQdqIQEMAQsgAEQAAAAAAABgA6IhACABQfBoIAFB8GhKG0GSD2ohAQsgACABQf8Haq1CNIa/ogs1ACAAIAE3AwAgACAEQjCIp0GAgAJxIAJCMIinQf//AXFyrUIwhiACQv///////z+DhDcDCAtyAgF/An4jAEEQayICJAACQAJAIAENAEIAIQNCACEEDAELIAIgAa1CACABZyIBQdEAahCtAiACQQhqKQMAQoCAgICAgMAAhUGegAEgAWutQjCGfCEEIAIpAwAhAwsgACADNwMAIAAgBDcDCCACQRBqJAALSAEBfyMAQRBrIgUkACAFIAEgAiADIARCgICAgICAgICAf4UQ2gQgBSkDACEEIAAgBUEIaikDADcDCCAAIAQ3AwAgBUEQaiQAC+cCAQF/IwBB0ABrIgQkAAJAAkAgA0GAgAFIDQAgBEEgaiABIAJCAEKAgICAgICA//8AENcEIARBIGpBCGopAwAhAiAEKQMgIQECQCADQf//AU8NACADQYGAf2ohAwwCCyAEQRBqIAEgAkIAQoCAgICAgID//wAQ1wQgA0H9/wIgA0H9/wJIG0GCgH5qIQMgBEEQakEIaikDACECIAQpAxAhAQwBCyADQYGAf0oNACAEQcAAaiABIAJCAEKAgICAgICAORDXBCAEQcAAakEIaikDACECIAQpA0AhAQJAIANB9IB+TQ0AIANBjf8AaiEDDAELIARBMGogASACQgBCgICAgICAgDkQ1wQgA0HogX0gA0HogX1KG0Ga/gFqIQMgBEEwakEIaikDACECIAQpAzAhAQsgBCABIAJCACADQf//AGqtQjCGENcEIAAgBEEIaikDADcDCCAAIAQpAwA3AwAgBEHQAGokAAt1AQF+IAAgBCABfiACIAN+fCADQiCIIgIgAUIgiCIEfnwgA0L/////D4MiAyABQv////8PgyIBfiIFQiCIIAMgBH58IgNCIIh8IANC/////w+DIAIgAX58IgFCIIh8NwMIIAAgAUIghiAFQv////8Pg4Q3AwAL5xACBX8PfiMAQdACayIFJAAgBEL///////8/gyEK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QfAAahCtAiAFQSBqIAMgDiAFKQNAIgIgBUHAAGpBCGopAwAiDxDjBCAFQTBqQQhqKQMAIAVBIGpBCGopAwBCAYYgBSkDICIBQj+IhH0gBSkDMCIEIAFCAYYiAVStfSENIAQgAX0hBAsgBUEQaiADIA5CA0IAEOMEIAUgAyAOQgVCABDjBCAPIAIgAkIBgyIBIAR8IgQgA1YgDSAEIAFUrXwiASAOViABIA5RG618IgMgAlStfCICIAMgAkKAgICAgIDA//8AVCAEIAUpAxBWIAEgBUEQakEIaikDACICViABIAJRG3GtfCICIANUrXwiAyACIANCgICAgICAwP//AFQgBCAFKQMAViABIAVBCGopAwAiBFYgASAEURtxrXwiASACVK18IAyEIQwLIAAgATcDACAAIAw3AwggBUHQAmokAAtLAgF+An8gAUL///////8/gyECAkACQCABQjCIp0H//wFxIgNB//8BRg0AQQQhBCADDQFBAkEDIAIgAIRQGw8LIAIgAIRQIQQLIAQL1QYCBH8DfiMAQYABayIFJAACQAJAAkAgAyAEQgBCABDcBEUNACADIAQQ5QQhBiACQjCIpyIHQf//AXEiCEH//wFGDQAgBg0BCyAFQRBqIAEgAiADIAQQ1wQgBSAFKQMQIgQgBUEQakEIaikDACIDIAQgAxDkBCAFQQhqKQMAIQIgBSkDACEEDAELAkAgASACQv///////////wCDIgkgAyAEQv///////////wCDIgoQ3ARBAEoNAAJAIAEgCSADIAoQ3ARFDQAgASEEDAILIAVB8ABqIAEgAkIAQgAQ1wQgBUH4AGopAwAhAiAFKQNwIQQMAQsgBEIwiKdB//8BcSEGAkACQCAIRQ0AIAEhBAwBCyAFQeAAaiABIAlCAEKAgICAgIDAu8AAENcEIAVB6ABqKQMAIglCMIinQYh/aiEIIAUpA2AhBAsCQCAGDQAgBUHQAGogAyAKQgBCgICAgICAwLvAABDXBCAFQdgAaikDACIKQjCIp0GIf2ohBiAFKQNQIQMLIApC////////P4NCgICAgICAwACEIQsgCUL///////8/g0KAgICAgIDAAIQhCQJAIAggBkwNAANAAkACQCAJIAt9IAQgA1StfSIKQgBTDQACQCAKIAQgA30iBIRCAFINACAFQSBqIAEgAkIAQgAQ1wQgBUEoaikDACECIAUpAyAhBAwFCyAKQgGGIARCP4iEIQkMAQsgCUIBhiAEQj+IhCEJCyAEQgGGIQQgCEF/aiIIIAZKDQALIAYhCAsCQAJAIAkgC30gBCADVK19IgpCAFkNACAJIQoMAQsgCiAEIAN9IgSEQgBSDQAgBUEwaiABIAJCAEIAENcEIAVBOGopAwAhAiAFKQMwIQQMAQsCQCAKQv///////z9WDQADQCAEQj+IIQMgCEF/aiEIIARCAYYhBCADIApCAYaEIgpCgICAgICAwABUDQALCyAHQYCAAnEhBgJAIAhBAEoNACAFQcAAaiAEIApC////////P4MgCEH4AGogBnKtQjCGhEIAQoCAgICAgMDDPxDXBCAFQcgAaikDACECIAUpA0AhBAwBCyAKQv///////z+DIAggBnKtQjCGhCECCyAAIAQ3AwAgACACNwMIIAVBgAFqJAALHAAgACACQv///////////wCDNwMIIAAgATcDAAuOCQIGfwN+IwBBMGsiBCQAQgAhCgJAAkAgAkECSw0AIAFBBGohBSACQQJ0IgJBzMkAaigCACEGIAJBwMkAaigCACEHA0ACQAJAIAEoAgQiAiABKAJoRg0AIAUgAkEBajYCACACLQAAIQIMAQsgARDUBCECCyACEPQBDQALQQEhCAJAAkAgAkFVag4DAAEAAQtBf0EBIAJBLUYbIQgCQCABKAIEIgIgASgCaEYNACAFIAJBAWo2AgAgAi0AACECDAELIAEQ1AQhAgtBACEJAkACQAJAA0AgAkEgciAJQYAIaiwAAEcNAQJAIAlBBksNAAJAIAEoAgQiAiABKAJoRg0AIAUgAkEBajYCACACLQAAIQIMAQsgARDUBCECCyAJQQFqIglBCEcNAAwCCwALAkAgCUEDRg0AIAlBCEYNASADRQ0CIAlBBEkNAiAJQQhGDQELAkAgASkDcCIKQgBTDQAgBSAFKAIAQX9qNgIACyADRQ0AIAlBBEkNACAKQgBTIQEDQAJAIAENACAFIAUoAgBBf2o2AgALIAlBf2oiCUEDSw0ACwsgBCAIskMAAIB/lBDVBCAEQQhqKQMAIQsgBCkDACEKDAILAkACQAJAIAkNAEEAIQkDQCACQSByIAlBwgxqLAAARw0BAkAgCUEBSw0AAkAgASgCBCICIAEoAmhGDQAgBSACQQFqNgIAIAItAAAhAgwBCyABENQEIQILIAlBAWoiCUEDRw0ADAILAAsCQAJAIAkOBAABAQIBCwJAIAJBMEcNAAJAAkAgASgCBCIJIAEoAmhGDQAgBSAJQQFqNgIAIAktAAAhCQwBCyABENQEIQkLAkAgCUFfcUHYAEcNACAEQRBqIAEgByAGIAggAxDpBCAEQRhqKQMAIQsgBCkDECEKDAYLIAEpA3BCAFMNACAFIAUoAgBBf2o2AgALIARBIGogASACIAcgBiAIIAMQ6gQgBEEoaikDACELIAQpAyAhCgwEC0IAIQoCQCABKQNwQgBTDQAgBSAFKAIAQX9qNgIACxDuAUEcNgIADAELAkACQCABKAIEIgIgASgCaEYNACAFIAJBAWo2AgAgAi0AACECDAELIAEQ1AQhAgsCQAJAIAJBKEcNAEEBIQkMAQtCACEKQoCAgICAgOD//wAhCyABKQNwQgBTDQMgBSAFKAIAQX9qNgIADAMLA0ACQAJAIAEoAgQiAiABKAJoRg0AIAUgAkEBajYCACACLQAAIQIMAQsgARDUBCECCyACQb9/aiEIAkACQCACQVBqQQpJDQAgCEEaSQ0AIAJBn39qIQggAkHfAEYNACAIQRpPDQELIAlBAWohCQwBCwtCgICAgICA4P//ACELIAJBKUYNAgJAIAEpA3AiDEIAUw0AIAUgBSgCAEF/ajYCAAsCQAJAIANFDQAgCQ0BQgAhCgwECxDuAUEcNgIAQgAhCgwBCwNAIAlBf2ohCQJAIAxCAFMNACAFIAUoAgBBf2o2AgALQgAhCiAJDQAMAwsACyABIAoQ0wQLQgAhCwsgACAKNwMAIAAgCzcDCCAEQTBqJAALwg8CCH8HfiMAQbADayIGJAACQAJAIAEoAgQiByABKAJoRg0AIAEgB0EBajYCBCAHLQAAIQcMAQsgARDUBCEHC0EAIQhCACEOQQAhCQJAAkACQANAAkAgB0EwRg0AIAdBLkcNBCABKAIEIgcgASgCaEYNAiABIAdBAWo2AgQgBy0AACEHDAMLAkAgASgCBCIHIAEoAmhGDQBBASEJIAEgB0EBajYCBCAHLQAAIQcMAQtBASEJIAEQ1AQhBwwACwALIAEQ1AQhBwtBASEIQgAhDiAHQTBHDQADQAJAAkAgASgCBCIHIAEoAmhGDQAgASAHQQFqNgIEIActAAAhBwwBCyABENQEIQcLIA5Cf3whDiAHQTBGDQALQQEhCEEBIQkLQoCAgICAgMD/PyEPQQAhCkIAIRBCACERQgAhEkEAIQtCACETAkADQCAHQSByIQwCQAJAIAdBUGoiDUEKSQ0AAkAgDEGff2pBBkkNACAHQS5HDQQLIAdBLkcNACAIDQNBASEIIBMhDgwBCyAMQal/aiANIAdBOUobIQcCQAJAIBNCB1UNACAHIApBBHRqIQoMAQsCQCATQhxWDQAgBkEwaiAHENYEIAZBIGogEiAPQgBCgICAgICAwP0/ENcEIAZBEGogBikDMCAGQTBqQQhqKQMAIAYpAyAiEiAGQSBqQQhqKQMAIg8Q1wQgBiAGKQMQIAZBEGpBCGopAwAgECARENoEIAZBCGopAwAhESAGKQMAIRAMAQsgB0UNACALDQAgBkHQAGogEiAPQgBCgICAgICAgP8/ENcEIAZBwABqIAYpA1AgBkHQAGpBCGopAwAgECARENoEIAZBwABqQQhqKQMAIRFBASELIAYpA0AhEAsgE0IBfCETQQEhCQsCQCABKAIEIgcgASgCaEYNACABIAdBAWo2AgQgBy0AACEHDAELIAEQ1AQhBwwACwALAkACQCAJDQACQAJAAkAgASkDcEIAUw0AIAEgASgCBCIHQX9qNgIEIAVFDQEgASAHQX5qNgIEIAhFDQIgASAHQX1qNgIEDAILIAUNAQsgAUIAENMECyAGQeAAaiAEt0QAAAAAAAAAAKIQ2wQgBkHoAGopAwAhEyAGKQNgIRAMAQsCQCATQgdVDQAgEyEPA0AgCkEEdCEKIA9CAXwiD0IIUg0ACwsCQAJAAkACQCAHQV9xQdAARw0AIAEgBRDrBCIPQoCAgICAgICAgH9SDQMCQCAFRQ0AIAEpA3BCf1UNAgwDC0IAIRAgAUIAENMEQgAhEwwEC0IAIQ8gASkDcEIAUw0CCyABIAEoAgRBf2o2AgQLQgAhDwsCQCAKDQAgBkHwAGogBLdEAAAAAAAAAACiENsEIAZB+ABqKQMAIRMgBikDcCEQDAELAkAgDiATIAgbQgKGIA98QmB8IhNBACADa61XDQAQ7gFBxAA2AgAgBkGgAWogBBDWBCAGQZABaiAGKQOgASAGQaABakEIaikDAEJ/Qv///////7///wAQ1wQgBkGAAWogBikDkAEgBkGQAWpBCGopAwBCf0L///////+///8AENcEIAZBgAFqQQhqKQMAIRMgBikDgAEhEAwBCwJAIBMgA0GefmqsUw0AAkAgCkF/TA0AA0AgBkGgA2ogECARQgBCgICAgICAwP+/fxDaBCAQIBFCAEKAgICAgICA/z8Q3QQhByAGQZADaiAQIBEgBikDoAMgECAHQX9KIgcbIAZBoANqQQhqKQMAIBEgBxsQ2gQgE0J/fCETIAZBkANqQQhqKQMAIREgBikDkAMhECAKQQF0IAdyIgpBf0oNAAsLAkACQCATIAOsfUIgfCIOpyIHQQAgB0EAShsgAiAOIAKtUxsiB0HxAEgNACAGQYADaiAEENYEIAZBiANqKQMAIQ5CACEPIAYpA4ADIRJCACEUDAELIAZB4AJqRAAAAAAAAPA/QZABIAdrEN4EENsEIAZB0AJqIAQQ1gQgBkHwAmogBikD4AIgBkHgAmpBCGopAwAgBikD0AIiEiAGQdACakEIaikDACIOEN8EIAZB8AJqQQhqKQMAIRQgBikD8AIhDwsgBkHAAmogCiAHQSBIIBAgEUIAQgAQ3ARBAEdxIApBAXFFcSIHahDgBCAGQbACaiASIA4gBikDwAIgBkHAAmpBCGopAwAQ1wQgBkGQAmogBikDsAIgBkGwAmpBCGopAwAgDyAUENoEIAZBoAJqIBIgDkIAIBAgBxtCACARIAcbENcEIAZBgAJqIAYpA6ACIAZBoAJqQQhqKQMAIAYpA5ACIAZBkAJqQQhqKQMAENoEIAZB8AFqIAYpA4ACIAZBgAJqQQhqKQMAIA8gFBDhBAJAIAYpA/ABIhAgBkHwAWpBCGopAwAiEUIAQgAQ3AQNABDuAUHEADYCAAsgBkHgAWogECARIBOnEOIEIAZB4AFqQQhqKQMAIRMgBikD4AEhEAwBCxDuAUHEADYCACAGQdABaiAEENYEIAZBwAFqIAYpA9ABIAZB0AFqQQhqKQMAQgBCgICAgICAwAAQ1wQgBkGwAWogBikDwAEgBkHAAWpBCGopAwBCAEKAgICAgIDAABDXBCAGQbABakEIaikDACETIAYpA7ABIRALIAAgEDcDACAAIBM3AwggBkGwA2okAAv2HwMLfwZ+AXwjAEGQxgBrIgckAEEAIQhBACAEayIJIANrIQpCACESQQAhCwJAAkACQANAAkAgAkEwRg0AIAJBLkcNBCABKAIEIgIgASgCaEYNAiABIAJBAWo2AgQgAi0AACECDAMLAkAgASgCBCICIAEoAmhGDQBBASELIAEgAkEBajYCBCACLQAAIQIMAQtBASELIAEQ1AQhAgwACwALIAEQ1AQhAgtBASEIQgAhEiACQTBHDQADQAJAAkAgASgCBCICIAEoAmhGDQAgASACQQFqNgIEIAItAAAhAgwBCyABENQEIQILIBJCf3whEiACQTBGDQALQQEhC0EBIQgLQQAhDCAHQQA2ApAGIAJBUGohDQJAAkACQAJAAkACQAJAIAJBLkYiDg0AQgAhEyANQQlNDQBBACEPQQAhEAwBC0IAIRNBACEQQQAhD0EAIQwDQAJAAkAgDkEBcUUNAAJAIAgNACATIRJBASEIDAILIAtFIQ4MBAsgE0IBfCETAkAgD0H8D0oNACACQTBGIQsgE6chESAHQZAGaiAPQQJ0aiEOAkAgEEUNACACIA4oAgBBCmxqQVBqIQ0LIAwgESALGyEMIA4gDTYCAEEBIQtBACAQQQFqIgIgAkEJRiICGyEQIA8gAmohDwwBCyACQTBGDQAgByAHKAKARkEBcjYCgEZB3I8BIQwLAkACQCABKAIEIgIgASgCaEYNACABIAJBAWo2AgQgAi0AACECDAELIAEQ1AQhAgsgAkFQaiENIAJBLkYiDg0AIA1BCkkNAAsLIBIgEyAIGyESAkAgC0UNACACQV9xQcUARw0AAkAgASAGEOsEIhRCgICAgICAgICAf1INACAGRQ0EQgAhFCABKQNwQgBTDQAgASABKAIEQX9qNgIECyAUIBJ8IRIMBAsgC0UhDiACQQBIDQELIAEpA3BCAFMNACABIAEoAgRBf2o2AgQLIA5FDQEQ7gFBHDYCAAtCACETIAFCABDTBEIAIRIMAQsCQCAHKAKQBiIBDQAgByAFt0QAAAAAAAAAAKIQ2wQgB0EIaikDACESIAcpAwAhEwwBCwJAIBNCCVUNACASIBNSDQACQCADQR5KDQAgASADdg0BCyAHQTBqIAUQ1gQgB0EgaiABEOAEIAdBEGogBykDMCAHQTBqQQhqKQMAIAcpAyAgB0EgakEIaikDABDXBCAHQRBqQQhqKQMAIRIgBykDECETDAELAkAgEiAJQQF2rVcNABDuAUHEADYCACAHQeAAaiAFENYEIAdB0ABqIAcpA2AgB0HgAGpBCGopAwBCf0L///////+///8AENcEIAdBwABqIAcpA1AgB0HQAGpBCGopAwBCf0L///////+///8AENcEIAdBwABqQQhqKQMAIRIgBykDQCETDAELAkAgEiAEQZ5+aqxZDQAQ7gFBxAA2AgAgB0GQAWogBRDWBCAHQYABaiAHKQOQASAHQZABakEIaikDAEIAQoCAgICAgMAAENcEIAdB8ABqIAcpA4ABIAdBgAFqQQhqKQMAQgBCgICAgICAwAAQ1wQgB0HwAGpBCGopAwAhEiAHKQNwIRMMAQsCQCAQRQ0AAkAgEEEISg0AIAdBkAZqIA9BAnRqIgIoAgAhAQNAIAFBCmwhASAQQQFqIhBBCUcNAAsgAiABNgIACyAPQQFqIQ8LIBKnIQgCQCAMQQlODQAgDCAISg0AIAhBEUoNAAJAIAhBCUcNACAHQcABaiAFENYEIAdBsAFqIAcoApAGEOAEIAdBoAFqIAcpA8ABIAdBwAFqQQhqKQMAIAcpA7ABIAdBsAFqQQhqKQMAENcEIAdBoAFqQQhqKQMAIRIgBykDoAEhEwwCCwJAIAhBCEoNACAHQZACaiAFENYEIAdBgAJqIAcoApAGEOAEIAdB8AFqIAcpA5ACIAdBkAJqQQhqKQMAIAcpA4ACIAdBgAJqQQhqKQMAENcEIAdB4AFqQQggCGtBAnRBoMkAaigCABDWBCAHQdABaiAHKQPwASAHQfABakEIaikDACAHKQPgASAHQeABakEIaikDABDkBCAHQdABakEIaikDACESIAcpA9ABIRMMAgsgBygCkAYhAQJAIAMgCEF9bGpBG2oiAkEeSg0AIAEgAnYNAQsgB0HgAmogBRDWBCAHQdACaiABEOAEIAdBwAJqIAcpA+ACIAdB4AJqQQhqKQMAIAcpA9ACIAdB0AJqQQhqKQMAENcEIAdBsAJqIAhBAnRB+MgAaigCABDWBCAHQaACaiAHKQPAAiAHQcACakEIaikDACAHKQOwAiAHQbACakEIaikDABDXBCAHQaACakEIaikDACESIAcpA6ACIRMMAQsDQCAHQZAGaiAPIgJBf2oiD0ECdGooAgBFDQALQQAhEAJAAkAgCEEJbyIBDQBBACEODAELQQAhDiABQQlqIAEgCEEASBshBgJAAkAgAg0AQQAhAgwBC0GAlOvcA0EIIAZrQQJ0QaDJAGooAgAiC20hEUEAIQ1BACEBQQAhDgNAIAdBkAZqIAFBAnRqIg8gDygCACIPIAtuIgwgDWoiDTYCACAOQQFqQf8PcSAOIAEgDkYgDUVxIg0bIQ4gCEF3aiAIIA0bIQggESAPIAwgC2xrbCENIAFBAWoiASACRw0ACyANRQ0AIAdBkAZqIAJBAnRqIA02AgAgAkEBaiECCyAIIAZrQQlqIQgLA0AgB0GQBmogDkECdGohDAJAA0ACQCAIQSRIDQAgCEEkRw0CIAwoAgBB0en5BE8NAgsgAkH/D2ohC0EAIQ0DQAJAAkAgB0GQBmogC0H/D3EiAUECdGoiCzUCAEIdhiANrXwiEkKBlOvcA1oNAEEAIQ0MAQsgEiASQoCU69wDgCITQoCU69wDfn0hEiATpyENCyALIBKnIg82AgAgAiACIAIgASAPGyABIA5GGyABIAJBf2pB/w9xRxshAiABQX9qIQsgASAORw0ACyAQQWNqIRAgDUUNAAsCQCAOQX9qQf8PcSIOIAJHDQAgB0GQBmogAkH+D2pB/w9xQQJ0aiIBIAEoAgAgB0GQBmogAkF/akH/D3EiAUECdGooAgByNgIAIAEhAgsgCEEJaiEIIAdBkAZqIA5BAnRqIA02AgAMAQsLAkADQCACQQFqQf8PcSEJIAdBkAZqIAJBf2pB/w9xQQJ0aiEGA0BBCUEBIAhBLUobIQ8CQANAIA4hC0EAIQECQAJAA0AgASALakH/D3EiDiACRg0BIAdBkAZqIA5BAnRqKAIAIg4gAUECdEGQyQBqKAIAIg1JDQEgDiANSw0CIAFBAWoiAUEERw0ACwsgCEEkRw0AQgAhEkEAIQFCACETA0ACQCABIAtqQf8PcSIOIAJHDQAgAkEBakH/D3EiAkECdCAHQZAGampBfGpBADYCAAsgB0GABmogB0GQBmogDkECdGooAgAQ4AQgB0HwBWogEiATQgBCgICAgOWat47AABDXBCAHQeAFaiAHKQPwBSAHQfAFakEIaikDACAHKQOABiAHQYAGakEIaikDABDaBCAHQeAFakEIaikDACETIAcpA+AFIRIgAUEBaiIBQQRHDQALIAdB0AVqIAUQ1gQgB0HABWogEiATIAcpA9AFIAdB0AVqQQhqKQMAENcEIAdBwAVqQQhqKQMAIRNCACESIAcpA8AFIRQgEEHxAGoiDSAEayIBQQAgAUEAShsgAyABIANIIg8bIg5B8ABMDQJCACEVQgAhFkIAIRcMBQsgDyAQaiEQIAIhDiALIAJGDQALQYCU69wDIA92IQxBfyAPdEF/cyERQQAhASALIQ4DQCAHQZAGaiALQQJ0aiINIA0oAgAiDSAPdiABaiIBNgIAIA5BAWpB/w9xIA4gCyAORiABRXEiARshDiAIQXdqIAggARshCCANIBFxIAxsIQEgC0EBakH/D3EiCyACRw0ACyABRQ0BAkAgCSAORg0AIAdBkAZqIAJBAnRqIAE2AgAgCSECDAMLIAYgBigCAEEBcjYCAAwBCwsLIAdBkAVqRAAAAAAAAPA/QeEBIA5rEN4EENsEIAdBsAVqIAcpA5AFIAdBkAVqQQhqKQMAIBQgExDfBCAHQbAFakEIaikDACEXIAcpA7AFIRYgB0GABWpEAAAAAAAA8D9B8QAgDmsQ3gQQ2wQgB0GgBWogFCATIAcpA4AFIAdBgAVqQQhqKQMAEOYEIAdB8ARqIBQgEyAHKQOgBSISIAdBoAVqQQhqKQMAIhUQ4QQgB0HgBGogFiAXIAcpA/AEIAdB8ARqQQhqKQMAENoEIAdB4ARqQQhqKQMAIRMgBykD4AQhFAsCQCALQQRqQf8PcSIIIAJGDQACQAJAIAdBkAZqIAhBAnRqKAIAIghB/8m17gFLDQACQCAIDQAgC0EFakH/D3EgAkYNAgsgB0HwA2ogBbdEAAAAAAAA0D+iENsEIAdB4ANqIBIgFSAHKQPwAyAHQfADakEIaikDABDaBCAHQeADakEIaikDACEVIAcpA+ADIRIMAQsCQCAIQYDKte4BRg0AIAdB0ARqIAW3RAAAAAAAAOg/ohDbBCAHQcAEaiASIBUgBykD0AQgB0HQBGpBCGopAwAQ2gQgB0HABGpBCGopAwAhFSAHKQPABCESDAELIAW3IRgCQCALQQVqQf8PcSACRw0AIAdBkARqIBhEAAAAAAAA4D+iENsEIAdBgARqIBIgFSAHKQOQBCAHQZAEakEIaikDABDaBCAHQYAEakEIaikDACEVIAcpA4AEIRIMAQsgB0GwBGogGEQAAAAAAADoP6IQ2wQgB0GgBGogEiAVIAcpA7AEIAdBsARqQQhqKQMAENoEIAdBoARqQQhqKQMAIRUgBykDoAQhEgsgDkHvAEoNACAHQdADaiASIBVCAEKAgICAgIDA/z8Q5gQgBykD0AMgB0HQA2pBCGopAwBCAEIAENwEDQAgB0HAA2ogEiAVQgBCgICAgICAwP8/ENoEIAdBwANqQQhqKQMAIRUgBykDwAMhEgsgB0GwA2ogFCATIBIgFRDaBCAHQaADaiAHKQOwAyAHQbADakEIaikDACAWIBcQ4QQgB0GgA2pBCGopAwAhEyAHKQOgAyEUAkAgDUH/////B3EgCkF+akwNACAHQZADaiAUIBMQ5wQgB0GAA2ogFCATQgBCgICAgICAgP8/ENcEIAcpA5ADIAdBkANqQQhqKQMAQgBCgICAgICAgLjAABDdBCECIAdBgANqQQhqKQMAIBMgAkF/SiICGyETIAcpA4ADIBQgAhshFCASIBVCAEIAENwEIQ0CQCAQIAJqIhBB7gBqIApKDQAgDyAOIAFHcSAPIAIbIA1BAEdxRQ0BCxDuAUHEADYCAAsgB0HwAmogFCATIBAQ4gQgB0HwAmpBCGopAwAhEiAHKQPwAiETCyAAIBI3AwggACATNwMAIAdBkMYAaiQAC8kEAgR/AX4CQAJAIAAoAgQiAiAAKAJoRg0AIAAgAkEBajYCBCACLQAAIQMMAQsgABDUBCEDCwJAAkACQAJAAkAgA0FVag4DAAEAAQsCQAJAIAAoAgQiAiAAKAJoRg0AIAAgAkEBajYCBCACLQAAIQIMAQsgABDUBCECCyADQS1GIQQgAkFGaiEFIAFFDQEgBUF1Sw0BIAApA3BCAFMNAiAAIAAoAgRBf2o2AgQMAgsgA0FGaiEFQQAhBCADIQILIAVBdkkNAEIAIQYCQCACQVBqIgVBCk8NAEEAIQMDQCACIANBCmxqIQMCQAJAIAAoAgQiAiAAKAJoRg0AIAAgAkEBajYCBCACLQAAIQIMAQsgABDUBCECCyADQVBqIQMCQCACQVBqIgVBCUsNACADQcyZs+YASA0BCwsgA6whBgsCQCAFQQpPDQADQCACrSAGQgp+fCEGAkACQCAAKAIEIgIgACgCaEYNACAAIAJBAWo2AgQgAi0AACECDAELIAAQ1AQhAgsgBkJQfCEGIAJBUGoiBUEJSw0BIAZCro+F18fC66MBUw0ACwsCQCAFQQpPDQADQAJAAkAgACgCBCICIAAoAmhGDQAgACACQQFqNgIEIAItAAAhAgwBCyAAENQEIQILIAJBUGpBCkkNAAsLAkAgACkDcEIAUw0AIAAgACgCBEF/ajYCBAtCACAGfSAGIAQbIQYMAQtCgICAgICAgICAfyEGIAApA3BCAFMNACAAIAAoAgRBf2o2AgRCgICAgICAgICAfw8LIAYL8gsCBX8EfiMAQRBrIgQkAAJAAkACQCABQSRLDQAgAUEBRw0BCxDuAUEcNgIAQgAhAwwBCwNAAkACQCAAKAIEIgUgACgCaEYNACAAIAVBAWo2AgQgBS0AACEFDAELIAAQ1AQhBQsgBRD0AQ0AC0EAIQYCQAJAIAVBVWoOAwABAAELQX9BACAFQS1GGyEGAkAgACgCBCIFIAAoAmhGDQAgACAFQQFqNgIEIAUtAAAhBQwBCyAAENQEIQULAkACQAJAAkACQCABQQBHIAFBEEdxDQAgBUEwRw0AAkACQCAAKAIEIgUgACgCaEYNACAAIAVBAWo2AgQgBS0AACEFDAELIAAQ1AQhBQsCQCAFQV9xQdgARw0AAkACQCAAKAIEIgUgACgCaEYNACAAIAVBAWo2AgQgBS0AACEFDAELIAAQ1AQhBQtBECEBIAVB4ckAai0AAEEQSQ0DQgAhAwJAAkAgACkDcEIAUw0AIAAgACgCBCIFQX9qNgIEIAJFDQEgACAFQX5qNgIEDAgLIAINBwtCACEDIABCABDTBAwGCyABDQFBCCEBDAILIAFBCiABGyIBIAVB4ckAai0AAEsNAEIAIQMCQCAAKQNwQgBTDQAgACAAKAIEQX9qNgIECyAAQgAQ0wQQ7gFBHDYCAAwECyABQQpHDQBCACEJAkAgBUFQaiICQQlLDQBBACEBA0AgAUEKbCEBAkACQCAAKAIEIgUgACgCaEYNACAAIAVBAWo2AgQgBS0AACEFDAELIAAQ1AQhBQsgASACaiEBAkAgBUFQaiICQQlLDQAgAUGZs+bMAUkNAQsLIAGtIQkLAkAgAkEJSw0AIAlCCn4hCiACrSELA0ACQAJAIAAoAgQiBSAAKAJoRg0AIAAgBUEBajYCBCAFLQAAIQUMAQsgABDUBCEFCyAKIAt8IQkgBUFQaiICQQlLDQEgCUKas+bMmbPmzBlaDQEgCUIKfiIKIAKtIgtCf4VYDQALQQohAQwCC0EKIQEgAkEJTQ0BDAILAkAgASABQX9qcUUNAEIAIQkCQCABIAVB4ckAai0AACIHTQ0AQQAhAgNAIAIgAWwhAgJAAkAgACgCBCIFIAAoAmhGDQAgACAFQQFqNgIEIAUtAAAhBQwBCyAAENQEIQULIAcgAmohAgJAIAEgBUHhyQBqLQAAIgdNDQAgAkHH4/E4SQ0BCwsgAq0hCQsgASAHTQ0BIAGtIQoDQCAJIAp+IgsgB61C/wGDIgxCf4VWDQICQAJAIAAoAgQiBSAAKAJoRg0AIAAgBUEBajYCBCAFLQAAIQUMAQsgABDUBCEFCyALIAx8IQkgASAFQeHJAGotAAAiB00NAiAEIApCACAJQgAQ4wQgBCkDCEIAUg0CDAALAAsgAUEXbEEFdkEHcUHhywBqLAAAIQhCACEJAkAgASAFQeHJAGotAAAiAk0NAEEAIQcDQCAHIAh0IQcCQAJAIAAoAgQiBSAAKAJoRg0AIAAgBUEBajYCBCAFLQAAIQUMAQsgABDUBCEFCyACIAdyIQcCQCABIAVB4ckAai0AACICTQ0AIAdBgICAwABJDQELCyAHrSEJCyABIAJNDQBCfyAIrSILiCIMIAlUDQADQCAJIAuGIQkgAq1C/wGDIQoCQAJAIAAoAgQiBSAAKAJoRg0AIAAgBUEBajYCBCAFLQAAIQUMAQsgABDUBCEFCyAJIAqEIQkgASAFQeHJAGotAAAiAk0NASAJIAxYDQALCyABIAVB4ckAai0AAE0NAANAAkACQCAAKAIEIgUgACgCaEYNACAAIAVBAWo2AgQgBS0AACEFDAELIAAQ1AQhBQsgASAFQeHJAGotAABLDQALEO4BQcQANgIAIAZBACADQgGDUBshBiADIQkLAkAgACkDcEIAUw0AIAAgACgCBEF/ajYCBAsCQCAJIANUDQACQCADp0EBcQ0AIAYNABDuAUHEADYCACADQn98IQMMAgsgCSADWA0AEO4BQcQANgIADAELIAkgBqwiA4UgA30hAwsgBEEQaiQAIAMLxAMCA38BfiMAQSBrIgIkAAJAAkAgAUL///////////8AgyIFQoCAgICAgMC/QHwgBUKAgICAgIDAwL9/fFoNACABQhmIpyEDAkAgAFAgAUL///8PgyIFQoCAgAhUIAVCgICACFEbDQAgA0GBgICABGohBAwCCyADQYCAgIAEaiEEIAAgBUKAgIAIhYRCAFINASAEIANBAXFqIQQMAQsCQCAAUCAFQoCAgICAgMD//wBUIAVCgICAgICAwP//AFEbDQAgAUIZiKdB////AXFBgICA/gdyIQQMAQtBgICA/AchBCAFQv///////7+/wABWDQBBACEEIAVCMIinIgNBkf4ASQ0AIAJBEGogACABQv///////z+DQoCAgICAgMAAhCIFIANB/4F/ahCtAiACIAAgBUGB/wAgA2sQrgIgAkEIaikDACIFQhmIpyEEAkAgAikDACACKQMQIAJBEGpBCGopAwCEQgBSrYQiAFAgBUL///8PgyIFQoCAgAhUIAVCgICACFEbDQAgBEEBaiEEDAELIAAgBUKAgIAIhYRCAFINACAEQQFxIARqIQQLIAJBIGokACAEIAFCIIinQYCAgIB4cXK+C9YCAQR/IANB9L4BIAMbIgQoAgAhAwJAAkACQAJAIAENACADDQFBAA8LQX4hBSACRQ0BAkACQCADRQ0AIAIhBQwBCwJAIAEtAAAiBcAiA0EASA0AAkAgAEUNACAAIAU2AgALIANBAEcPCwJAEKACKAJgKAIADQBBASEFIABFDQMgACADQf+/A3E2AgBBAQ8LIAVBvn5qIgNBMksNASADQQJ0QfDLAGooAgAhAyACQX9qIgVFDQMgAUEBaiEBCyABLQAAIgZBA3YiB0FwaiADQRp1IAdqckEHSw0AA0AgBUF/aiEFAkAgBkH/AXFBgH9qIANBBnRyIgNBAEgNACAEQQA2AgACQCAARQ0AIAAgAzYCAAsgAiAFaw8LIAVFDQMgAUEBaiIBLQAAIgZBwAFxQYABRg0ACwsgBEEANgIAEO4BQRk2AgBBfyEFCyAFDwsgBCADNgIAQX4LEgACQCAADQBBAQ8LIAAoAgBFC+QVAg9/A34jAEGwAmsiAyQAQQAhBAJAIAAoAkxBAEgNACAAEIICIQQLAkACQAJAAkAgACgCBA0AIAAQzgIaIAAoAgQNAEEAIQUMAQsCQCABLQAAIgYNAEEAIQcMAwsgA0EQaiEIQgAhEkEAIQcCQAJAAkACQAJAA0ACQAJAIAZB/wFxEPQBRQ0AA0AgASIGQQFqIQEgBi0AARD0AQ0ACyAAQgAQ0wQDQAJAAkAgACgCBCIBIAAoAmhGDQAgACABQQFqNgIEIAEtAAAhAQwBCyAAENQEIQELIAEQ9AENAAsgACgCBCEBAkAgACkDcEIAUw0AIAAgAUF/aiIBNgIECyAAKQN4IBJ8IAEgACgCLGusfCESDAELAkACQAJAAkAgAS0AAEElRw0AIAEtAAEiBkEqRg0BIAZBJUcNAgsgAEIAENMEAkACQCABLQAAQSVHDQADQAJAAkAgACgCBCIGIAAoAmhGDQAgACAGQQFqNgIEIAYtAAAhBgwBCyAAENQEIQYLIAYQ9AENAAsgAUEBaiEBDAELAkAgACgCBCIGIAAoAmhGDQAgACAGQQFqNgIEIAYtAAAhBgwBCyAAENQEIQYLAkAgBiABLQAARg0AAkAgACkDcEIAUw0AIAAgACgCBEF/ajYCBAsgBkF/Sg0NQQAhBSAHDQ0MCwsgACkDeCASfCAAKAIEIAAoAixrrHwhEiABIQYMAwsgAUECaiEGQQAhCQwBCwJAIAYQ8gFFDQAgAS0AAkEkRw0AIAFBA2ohBiACIAEtAAFBUGoQ8QQhCQwBCyABQQFqIQYgAigCACEJIAJBBGohAgtBACEKQQAhAQJAIAYtAAAQ8gFFDQADQCABQQpsIAYtAABqQVBqIQEgBi0AASELIAZBAWohBiALEPIBDQALCwJAAkAgBi0AACIMQe0ARg0AIAYhCwwBCyAGQQFqIQtBACENIAlBAEchCiAGLQABIQxBACEOCyALQQFqIQZBAyEPIAohBQJAAkACQAJAAkACQCAMQf8BcUG/f2oOOgQMBAwEBAQMDAwMAwwMDAwMDAQMDAwMBAwMBAwMDAwMBAwEBAQEBAAEBQwBDAQEBAwMBAIEDAwEDAIMCyALQQJqIAYgCy0AAUHoAEYiCxshBkF+QX8gCxshDwwECyALQQJqIAYgCy0AAUHsAEYiCxshBkEDQQEgCxshDwwDC0EBIQ8MAgtBAiEPDAELQQAhDyALIQYLQQEgDyAGLQAAIgtBL3FBA0YiDBshBQJAIAtBIHIgCyAMGyIQQdsARg0AAkACQCAQQe4ARg0AIBBB4wBHDQEgAUEBIAFBAUobIQEMAgsgCSAFIBIQ8gQMAgsgAEIAENMEA0ACQAJAIAAoAgQiCyAAKAJoRg0AIAAgC0EBajYCBCALLQAAIQsMAQsgABDUBCELCyALEPQBDQALIAAoAgQhCwJAIAApA3BCAFMNACAAIAtBf2oiCzYCBAsgACkDeCASfCALIAAoAixrrHwhEgsgACABrCITENMEAkACQCAAKAIEIgsgACgCaEYNACAAIAtBAWo2AgQMAQsgABDUBEEASA0GCwJAIAApA3BCAFMNACAAIAAoAgRBf2o2AgQLQRAhCwJAAkACQAJAAkACQAJAAkACQAJAIBBBqH9qDiEGCQkCCQkJCQkBCQIEAQEBCQUJCQkJCQMGCQkCCQQJCQYACyAQQb9/aiIBQQZLDQhBASABdEHxAHFFDQgLIANBCGogACAFQQAQ6AQgACkDeEIAIAAoAgQgACgCLGusfVINBQwMCwJAIBBBEHJB8wBHDQAgA0EgakF/QYECEOkBGiADQQA6ACAgEEHzAEcNBiADQQA6AEEgA0EAOgAuIANBADYBKgwGCyADQSBqIAYtAAEiD0HeAEYiC0GBAhDpARogA0EAOgAgIAZBAmogBkEBaiALGyEMAkACQAJAAkAgBkECQQEgCxtqLQAAIgZBLUYNACAGQd0ARg0BIA9B3gBHIQ8gDCEGDAMLIAMgD0HeAEciDzoATgwBCyADIA9B3gBHIg86AH4LIAxBAWohBgsDQAJAAkAgBi0AACILQS1GDQAgC0UNDyALQd0ARg0IDAELQS0hCyAGLQABIhFFDQAgEUHdAEYNACAGQQFqIQwCQAJAIAZBf2otAAAiBiARSQ0AIBEhCwwBCwNAIANBIGogBkEBaiIGaiAPOgAAIAYgDC0AACILSQ0ACwsgDCEGCyALIANBIGpqQQFqIA86AAAgBkEBaiEGDAALAAtBCCELDAILQQohCwwBC0EAIQsLIAAgC0EAQn8Q7AQhEyAAKQN4QgAgACgCBCAAKAIsa6x9UQ0HAkAgEEHwAEcNACAJRQ0AIAkgEz4CAAwDCyAJIAUgExDyBAwCCyAJRQ0BIAgpAwAhEyADKQMIIRQCQAJAAkAgBQ4DAAECBAsgCSAUIBMQ7QQ4AgAMAwsgCSAUIBMQrwI5AwAMAgsgCSAUNwMAIAkgEzcDCAwBC0EfIAFBAWogEEHjAEciDBshDwJAAkAgBUEBRw0AIAkhCwJAIApFDQAgD0ECdBCkAiILRQ0HCyADQgA3A6gCQQAhAQNAIAshDgJAA0ACQAJAIAAoAgQiCyAAKAJoRg0AIAAgC0EBajYCBCALLQAAIQsMAQsgABDUBCELCyALIANBIGpqQQFqLQAARQ0BIAMgCzoAGyADQRxqIANBG2pBASADQagCahDuBCILQX5GDQBBACENIAtBf0YNCwJAIA5FDQAgDiABQQJ0aiADKAIcNgIAIAFBAWohAQsgCkUNACABIA9HDQALQQEhBSAOIA9BAXRBAXIiD0ECdBCmAiILDQEMCwsLQQAhDSAOIQ8gA0GoAmoQ7wRFDQgMAQsCQCAKRQ0AQQAhASAPEKQCIgtFDQYDQCALIQ4DQAJAAkAgACgCBCILIAAoAmhGDQAgACALQQFqNgIEIAstAAAhCwwBCyAAENQEIQsLAkAgCyADQSBqakEBai0AAA0AQQAhDyAOIQ0MBAsgDiABaiALOgAAIAFBAWoiASAPRw0AC0EBIQUgDiAPQQF0QQFyIg8QpgIiCw0ACyAOIQ1BACEODAkLQQAhAQJAIAlFDQADQAJAAkAgACgCBCILIAAoAmhGDQAgACALQQFqNgIEIAstAAAhCwwBCyAAENQEIQsLAkAgCyADQSBqakEBai0AAA0AQQAhDyAJIQ4gCSENDAMLIAkgAWogCzoAACABQQFqIQEMAAsACwNAAkACQCAAKAIEIgEgACgCaEYNACAAIAFBAWo2AgQgAS0AACEBDAELIAAQ1AQhAQsgASADQSBqakEBai0AAA0AC0EAIQ5BACENQQAhD0EAIQELIAAoAgQhCwJAIAApA3BCAFMNACAAIAtBf2oiCzYCBAsgACkDeCALIAAoAixrrHwiFFANAyAMIBQgE1FyRQ0DAkAgCkUNACAJIA42AgALAkAgEEHjAEYNAAJAIA9FDQAgDyABQQJ0akEANgIACwJAIA0NAEEAIQ0MAQsgDSABakEAOgAACyAPIQ4LIAApA3ggEnwgACgCBCAAKAIsa6x8IRIgByAJQQBHaiEHCyAGQQFqIQEgBi0AASIGDQAMCAsACyAPIQ4MAQtBASEFQQAhDUEAIQ4MAgsgCiEFDAMLIAohBQsgBw0BC0F/IQcLIAVFDQAgDRClAiAOEKUCCwJAIARFDQAgABCDAgsgA0GwAmokACAHCzIBAX8jAEEQayICIAA2AgwgAiAAIAFBAnRBfGpBACABQQFLG2oiAUEEajYCCCABKAIAC0MAAkAgAEUNAAJAAkACQAJAIAFBAmoOBgABAgIEAwQLIAAgAjwAAA8LIAAgAj0BAA8LIAAgAj4CAA8LIAAgAjcDAAsLSgEBfyMAQZABayIDJAAgA0EAQZABEOkBIgNBfzYCTCADIAA2AiwgA0H0ADYCICADIAA2AlQgAyABIAIQ8AQhACADQZABaiQAIAALVwEDfyAAKAJUIQMgASADIANBACACQYACaiIEEPUBIgUgA2sgBCAFGyIEIAIgBCACSRsiAhDnARogACADIARqIgQ2AlQgACAENgIIIAAgAyACajYCBCACC1kBAn8gAS0AACECAkAgAC0AACIDRQ0AIAMgAkH/AXFHDQADQCABLQABIQIgAC0AASIDRQ0BIAFBAWohASAAQQFqIQAgAyACQf8BcUYNAAsLIAMgAkH/AXFrC30BAn8jAEEQayIAJAACQCAAQQxqIABBCGoQDg0AQQAgACgCDEECdEEEahCkAiIBNgL4vgEgAUUNAAJAIAAoAggQpAIiAUUNAEEAKAL4vgEgACgCDEECdGpBADYCAEEAKAL4vgEgARAPRQ0BC0EAQQA2Avi+AQsgAEEQaiQAC4gBAQR/AkAgAEE9EMcCIgEgAEcNAEEADwtBACECAkAgACABIABrIgNqLQAADQBBACgC+L4BIgFFDQAgASgCACIERQ0AAkADQAJAIAAgBCADEIACDQAgASgCACADaiIELQAAQT1GDQILIAEoAgQhBCABQQRqIQEgBA0ADAILAAsgBEEBaiECCyACC/wCAQN/AkAgAS0AAA0AAkBBxxEQ9wQiAUUNACABLQAADQELAkAgAEEMbEGwzgBqEPcEIgFFDQAgAS0AAA0BCwJAQc4REPcEIgFFDQAgAS0AAA0BC0GBGCEBC0EAIQICQAJAA0AgASACai0AACIDRQ0BIANBL0YNAUEXIQMgAkEBaiICQRdHDQAMAgsACyACIQMLQYEYIQQCQAJAAkACQAJAIAEtAAAiAkEuRg0AIAEgA2otAAANACABIQQgAkHDAEcNAQsgBC0AAUUNAQsgBEGBGBD1BEUNACAEQZYREPUEDQELAkAgAA0AQdTNACECIAQtAAFBLkYNAgtBAA8LAkBBACgCgL8BIgJFDQADQCAEIAJBCGoQ9QRFDQIgAigCICICDQALCwJAQSQQpAIiAkUNACACQQApAtRNNwIAIAJBCGoiASAEIAMQ5wEaIAEgA2pBADoAACACQQAoAoC/ATYCIEEAIAI2AoC/AQsgAkHUzQAgACACchshAgsgAgsnACAAQZy/AUcgAEGEvwFHIABBkM4ARyAAQQBHIABB+M0AR3FxcXELHQBB/L4BEIgCIAAgASACEPsEIQJB/L4BEIkCIAIL7gIBA38jAEEgayIDJABBACEEAkACQANAQQEgBHQgAHEhBQJAAkAgAkUNACAFDQAgAiAEQQJ0aigCACEFDAELIAQgAUGBGiAFGxD4BCEFCyADQQhqIARBAnRqIAU2AgAgBUF/Rg0BIARBAWoiBEEGRw0ACwJAIAIQ+QQNAEH4zQAhAiADQQhqQfjNAEEYEPYBRQ0CQZDOACECIANBCGpBkM4AQRgQ9gFFDQJBACEEAkBBAC0AtL8BDQADQCAEQQJ0QYS/AWogBEGBGhD4BDYCACAEQQFqIgRBBkcNAAtBAEEBOgC0vwFBAEEAKAKEvwE2Apy/AQtBhL8BIQIgA0EIakGEvwFBGBD2AUUNAkGcvwEhAiADQQhqQZy/AUEYEPYBRQ0CQRgQpAIiAkUNAQsgAiADKQMINwIAIAJBEGogA0EIakEQaikDADcCACACQQhqIANBCGpBCGopAwA3AgAMAQtBACECCyADQSBqJAAgAgsXACAAQSByQZ9/akEGSSAAEPIBQQBHcgsHACAAEPwECygBAX8jAEEQayIDJAAgAyACNgIMIAAgASACEPMEIQIgA0EQaiQAIAILYwEDfyMAQRBrIgMkACADIAI2AgwgAyACNgIIQX8hBAJAQQBBACABIAIQnAIiAkEASA0AIAAgAkEBaiIFEKQCIgI2AgAgAkUNACACIAUgASADKAIMEJwCIQQLIANBEGokACAECxIAAkAgABD5BEUNACAAEKUCCwsjAQJ/IAAhAQNAIAEiAkEEaiEBIAIoAgANAAsgAiAAa0ECdQsGAEH4zgALBgBBgNsAC9UBAQR/IwBBEGsiBSQAQQAhBgJAIAEoAgAiB0UNACACRQ0AIANBACAAGyEIQQAhBgNAAkAgBUEMaiAAIAhBBEkbIAcoAgBBABCiAiIDQX9HDQBBfyEGDAILAkACQCAADQBBACEADAELAkAgCEEDSw0AIAggA0kNAyAAIAVBDGogAxDnARoLIAggA2shCCAAIANqIQALAkAgBygCAA0AQQAhBwwCCyADIAZqIQYgB0EEaiEHIAJBf2oiAg0ACwsCQCAARQ0AIAEgBzYCAAsgBUEQaiQAIAYL/wgBBX8gASgCACEEAkACQAJAAkACQAJAAkACQAJAAkACQAJAIANFDQAgAygCACIFRQ0AAkAgAA0AIAIhAwwDCyADQQA2AgAgAiEDDAELAkACQBCgAigCYCgCAA0AIABFDQEgAkUNDCACIQUCQANAIAQsAAAiA0UNASAAIANB/78DcTYCACAAQQRqIQAgBEEBaiEEIAVBf2oiBQ0ADA4LAAsgAEEANgIAIAFBADYCACACIAVrDwsgAiEDIABFDQMgAiEDQQAhBgwFCyAEEP8BDwtBASEGDAMLQQAhBgwBC0EBIQYLA0ACQAJAIAYOAgABAQsgBC0AAEEDdiIGQXBqIAVBGnUgBmpyQQdLDQMgBEEBaiEGAkACQCAFQYCAgBBxDQAgBiEEDAELAkAgBi0AAEHAAXFBgAFGDQAgBEF/aiEEDAcLIARBAmohBgJAIAVBgIAgcQ0AIAYhBAwBCwJAIAYtAABBwAFxQYABRg0AIARBf2ohBAwHCyAEQQNqIQQLIANBf2ohA0EBIQYMAQsDQCAELQAAIQUCQCAEQQNxDQAgBUF/akH+AEsNACAEKAIAIgVB//37d2ogBXJBgIGChHhxDQADQCADQXxqIQMgBCgCBCEFIARBBGoiBiEEIAUgBUH//ft3anJBgIGChHhxRQ0ACyAGIQQLAkAgBUH/AXEiBkF/akH+AEsNACADQX9qIQMgBEEBaiEEDAELCyAGQb5+aiIGQTJLDQMgBEEBaiEEIAZBAnRB8MsAaigCACEFQQAhBgwACwALA0ACQAJAIAYOAgABAQsgA0UNBwJAA0ACQAJAAkAgBC0AACIGQX9qIgdB/gBNDQAgBiEFDAELIARBA3ENASADQQVJDQECQANAIAQoAgAiBUH//ft3aiAFckGAgYKEeHENASAAIAVB/wFxNgIAIAAgBC0AATYCBCAAIAQtAAI2AgggACAELQADNgIMIABBEGohACAEQQRqIQQgA0F8aiIDQQRLDQALIAQtAAAhBQsgBUH/AXEiBkF/aiEHCyAHQf4ASw0CCyAAIAY2AgAgAEEEaiEAIARBAWohBCADQX9qIgNFDQkMAAsACyAGQb5+aiIGQTJLDQMgBEEBaiEEIAZBAnRB8MsAaigCACEFQQEhBgwBCyAELQAAIgdBA3YiBkFwaiAGIAVBGnVqckEHSw0BIARBAWohCAJAAkACQAJAIAdBgH9qIAVBBnRyIgZBf0wNACAIIQQMAQsgCC0AAEGAf2oiB0E/Sw0BIARBAmohCAJAIAcgBkEGdHIiBkF/TA0AIAghBAwBCyAILQAAQYB/aiIHQT9LDQEgBEEDaiEEIAcgBkEGdHIhBgsgACAGNgIAIANBf2ohAyAAQQRqIQAMAQsQ7gFBGTYCACAEQX9qIQQMBQtBACEGDAALAAsgBEF/aiEEIAUNASAELQAAIQULIAVB/wFxDQACQCAARQ0AIABBADYCACABQQA2AgALIAIgA2sPCxDuAUEZNgIAIABFDQELIAEgBDYCAAtBfw8LIAEgBDYCACACC4MDAQZ/IwBBkAhrIgUkACAFIAEoAgAiBjYCDCADQYACIAAbIQMgACAFQRBqIAAbIQdBACEIAkACQAJAIAZFDQAgA0UNAANAIAJBAnYhCQJAIAJBgwFLDQAgCSADSQ0DCwJAIAcgBUEMaiAJIAMgCSADSRsgBBCFBSIJQX9HDQBBfyEIQQAhAyAFKAIMIQYMAgsgA0EAIAkgByAFQRBqRhsiCmshAyAHIApBAnRqIQcgAiAGaiAFKAIMIgZrQQAgBhshAiAJIAhqIQggBkUNASADDQALCyAGRQ0BCyADRQ0AIAJFDQAgCCEJA0ACQAJAAkAgByAGIAIgBBDuBCIIQQJqQQJLDQACQAJAIAhBAWoOAgYAAQsgBUEANgIMDAILIARBADYCAAwBCyAFIAUoAgwgCGoiBjYCDCAJQQFqIQkgA0F/aiIDDQELIAkhCAwCCyAHQQRqIQcgAiAIayECIAkhCCACDQALCwJAIABFDQAgASAFKAIMNgIACyAFQZAIaiQAIAgLzgIBAn8CQCABDQBBAA8LAkACQCACRQ0AAkAgAS0AACIDwCIEQQBIDQACQCAARQ0AIAAgAzYCAAsgBEEARw8LAkAQoAIoAmAoAgANAEEBIQEgAEUNAiAAIARB/78DcTYCAEEBDwsgA0G+fmoiBEEySw0AIARBAnRB8MsAaigCACEEAkAgAkEDSw0AIAQgAkEGbEF6anRBAEgNAQsgAS0AASIDQQN2IgJBcGogAiAEQRp1anJBB0sNAAJAIANBgH9qIARBBnRyIgJBAEgNAEECIQEgAEUNAiAAIAI2AgBBAg8LIAEtAAJBgH9qIgRBP0sNAAJAIAQgAkEGdHIiAkEASA0AQQMhASAARQ0CIAAgAjYCAEEDDwsgAS0AA0GAf2oiBEE/Sw0AQQQhASAARQ0BIAAgBCACQQZ0cjYCAEEEDwsQ7gFBGTYCAEF/IQELIAELEABBBEEBEKACKAJgKAIAGwsUAEEAIAAgASACQbi/ASACGxDuBAszAQJ/EKACIgEoAmAhAgJAIABFDQAgAUH0uQEgACAAQX9GGzYCYAtBfyACIAJB9LkBRhsLDQAgACABIAJCfxCMBQu1BAIHfwR+IwBBEGsiBCQAAkACQAJAAkAgAkEkSg0AQQAhBSAALQAAIgYNASAAIQcMAgsQ7gFBHDYCAEIAIQMMAgsgACEHAkADQCAGwBD0AUUNASAHLQABIQYgB0EBaiIIIQcgBg0ACyAIIQcMAQsCQCAHLQAAIgZBVWoOAwABAAELQX9BACAGQS1GGyEFIAdBAWohBwsCQAJAIAJBEHJBEEcNACAHLQAAQTBHDQBBASEJAkAgBy0AAUHfAXFB2ABHDQAgB0ECaiEHQRAhCgwCCyAHQQFqIQcgAkEIIAIbIQoMAQsgAkEKIAIbIQpBACEJCyAKrSELQQAhAkIAIQwCQANAQVAhBgJAIAcsAAAiCEFQakH/AXFBCkkNAEGpfyEGIAhBn39qQf8BcUEaSQ0AQUkhBiAIQb9/akH/AXFBGUsNAgsgBiAIaiIIIApODQEgBCALQgAgDEIAEOMEQQEhBgJAIAQpAwhCAFINACAMIAt+Ig0gCK0iDkJ/hVYNACANIA58IQxBASEJIAIhBgsgB0EBaiEHIAYhAgwACwALAkAgAUUNACABIAcgACAJGzYCAAsCQAJAAkAgAkUNABDuAUHEADYCACAFQQAgA0IBgyILUBshBSADIQwMAQsgDCADVA0BIANCAYMhCwsCQCALQgBSDQAgBQ0AEO4BQcQANgIAIANCf3whAwwCCyAMIANYDQAQ7gFBxAA2AgAMAQsgDCAFrCILhSALfSEDCyAEQRBqJAAgAwsWACAAIAEgAkKAgICAgICAgIB/EIwFCxIAIAAgASACQv////8PEIwFpwsSACAAIAEgAkKAgICACBCMBacLNQIBfwF9IwBBEGsiAiQAIAIgACABQQAQkQUgAikDACACQQhqKQMAEO0EIQMgAkEQaiQAIAMLhgECAX8CfiMAQaABayIEJAAgBCABNgI8IAQgATYCFCAEQX82AhggBEEQakIAENMEIAQgBEEQaiADQQEQ6AQgBEEIaikDACEFIAQpAwAhBgJAIAJFDQAgAiABIAQoAhQgBCgCiAFqIAQoAjxrajYCAAsgACAFNwMIIAAgBjcDACAEQaABaiQACzUCAX8BfCMAQRBrIgIkACACIAAgAUEBEJEFIAIpAwAgAkEIaikDABCvAiEDIAJBEGokACADCzwCAX8BfiMAQRBrIgMkACADIAEgAkECEJEFIAMpAwAhBCAAIANBCGopAwA3AwggACAENwMAIANBEGokAAsJACAAIAEQkAULCQAgACABEJIFCzoCAX8BfiMAQRBrIgQkACAEIAEgAhCTBSAEKQMAIQUgACAEQQhqKQMANwMIIAAgBTcDACAEQRBqJAALBwAgABCYBQsHACAAEKENCw0AIAAQlwUaIAAQsA0LYQEEfyABIAQgA2tqIQUCQAJAA0AgAyAERg0BQX8hBiABIAJGDQIgASwAACIHIAMsAAAiCEgNAgJAIAggB04NAEEBDwsgA0EBaiEDIAFBAWohAQwACwALIAUgAkchBgsgBgsMACAAIAIgAxCcBRoLMAEBfyMAQRBrIgMkACAAIANBCGogAxC1AyIAIAEgAhCdBSAAELYDIANBEGokACAAC74BAQN/IwBBEGsiAyQAAkAgASACEK4LIgQgABCnBEsNAAJAAkAgBBCoBEUNACAAIAQQlwQgABCSBCEFDAELIANBCGogABC/AyAEEKkEQQFqEKoEIAMoAggiBSADKAIMEKsEIAAgBRCsBCAAIAMoAgwQrQQgACAEEK4ECwJAA0AgASACRg0BIAUgARCYBCAFQQFqIQUgAUEBaiEBDAALAAsgA0EAOgAHIAUgA0EHahCYBCADQRBqJAAPCyAAEBcAC0IBAn9BACEDA38CQCABIAJHDQAgAw8LIANBBHQgASwAAGoiA0GAgICAf3EiBEEYdiAEciADcyEDIAFBAWohAQwACwsHACAAEJgFCw0AIAAQnwUaIAAQsA0LVwEDfwJAAkADQCADIARGDQFBfyEFIAEgAkYNAiABKAIAIgYgAygCACIHSA0CAkAgByAGTg0AQQEPCyADQQRqIQMgAUEEaiEBDAALAAsgASACRyEFCyAFCwwAIAAgAiADEKMFGgswAQF/IwBBEGsiAyQAIAAgA0EIaiADEKQFIgAgASACEKUFIAAQpgUgA0EQaiQAIAALCgAgABCwCxCxCwu/AQEDfyMAQRBrIgMkAAJAIAEgAhCyCyIEIAAQswtLDQACQAJAIAQQtAtFDQAgACAEEKMIIAAQogghBQwBCyADQQhqIAAQqAggBBC1C0EBahC2CyADKAIIIgUgAygCDBC3CyAAIAUQuAsgACADKAIMELkLIAAgBBChCAsCQANAIAEgAkYNASAFIAEQoAggBUEEaiEFIAFBBGohAQwACwALIANBADYCBCAFIANBBGoQoAggA0EQaiQADwsgABC6CwALAgALQgECf0EAIQMDfwJAIAEgAkcNACADDwsgASgCACADQQR0aiIDQYCAgIB/cSIEQRh2IARyIANzIQMgAUEEaiEBDAALC/UBAQF/IwBBIGsiBiQAIAYgATYCGAJAAkAgAxDrAkEBcQ0AIAZBfzYCACAAIAEgAiADIAQgBiAAKAIAKAIQEQcAIQECQAJAAkAgBigCAA4CAAECCyAFQQA6AAAMAwsgBUEBOgAADAILIAVBAToAACAEQQQ2AgAMAQsgBiADEMgEIAYQ7AIhASAGEPUJGiAGIAMQyAQgBhCpBSEDIAYQ9QkaIAYgAxCqBSAGQQxyIAMQqwUgBSAGQRhqIAIgBiAGQRhqIgMgASAEQQEQrAUgBkY6AAAgBigCGCEBA0AgA0F0ahDADSIDIAZHDQALCyAGQSBqJAAgAQsLACAAQcDBARCtBQsRACAAIAEgASgCACgCGBECAAsRACAAIAEgASgCACgCHBECAAvkBAELfyMAQYABayIHJAAgByABNgJ4IAIgAxCuBSEIIAdB9QA2AhBBACEJIAdBCGpBACAHQRBqEK8FIQogB0EQaiELAkACQAJAIAhB5QBJDQAgCBCkAiILRQ0BIAogCxCwBQsgCyEMIAIhAQNAAkAgASADRw0AQQAhDQNAAkACQCAAIAdB+ABqEO0CDQAgCA0BCwJAIAAgB0H4AGoQ7QJFDQAgBSAFKAIAQQJyNgIACwwFCyAAEO4CIQ4CQCAGDQAgBCAOELEFIQ4LIA1BAWohD0EAIRAgCyEMIAIhAQNAAkAgASADRw0AIA8hDSAQQQFxRQ0CIAAQ8AIaIA8hDSALIQwgAiEBIAkgCGpBAkkNAgNAAkAgASADRw0AIA8hDQwECwJAIAwtAABBAkcNACABEMcDIA9GDQAgDEEAOgAAIAlBf2ohCQsgDEEBaiEMIAFBDGohAQwACwALAkAgDC0AAEEBRw0AIAEgDRCyBS0AACERAkAgBg0AIAQgEcAQsQUhEQsCQAJAIA5B/wFxIBFB/wFxRw0AQQEhECABEMcDIA9HDQIgDEECOgAAQQEhECAJQQFqIQkMAQsgDEEAOgAACyAIQX9qIQgLIAxBAWohDCABQQxqIQEMAAsACwALIAxBAkEBIAEQswUiERs6AAAgDEEBaiEMIAFBDGohASAJIBFqIQkgCCARayEIDAALAAsQrQ0ACwJAAkADQCACIANGDQECQCALLQAAQQJGDQAgC0EBaiELIAJBDGohAgwBCwsgAiEDDAELIAUgBSgCAEEEcjYCAAsgChC0BRogB0GAAWokACADCw8AIAAoAgAgARC5CRDaCQsJACAAIAEQhQ0LKwEBfyMAQRBrIgMkACADIAE2AgwgACADQQxqIAIQgA0hASADQRBqJAAgAQstAQF/IAAQgQ0oAgAhAiAAEIENIAE2AgACQCACRQ0AIAIgABCCDSgCABEDAAsLEQAgACABIAAoAgAoAgwRAQALCgAgABDMAyABagsIACAAEMcDRQsLACAAQQAQsAUgAAsRACAAIAEgAiADIAQgBRC2BQu6AwECfyMAQZACayIGJAAgBiACNgKAAiAGIAE2AogCIAMQtwUhASAAIAMgBkHgAWoQuAUhACAGQdABaiADIAZB/wFqELkFIAZBwAFqEKkDIQMgAyADEMgDEMkDIAYgA0EAELoFIgI2ArwBIAYgBkEQajYCDCAGQQA2AggCQANAIAZBiAJqIAZBgAJqEO0CDQECQCAGKAK8ASACIAMQxwNqRw0AIAMQxwMhByADIAMQxwNBAXQQyQMgAyADEMgDEMkDIAYgByADQQAQugUiAmo2ArwBCyAGQYgCahDuAiABIAIgBkG8AWogBkEIaiAGLAD/ASAGQdABaiAGQRBqIAZBDGogABC7BQ0BIAZBiAJqEPACGgwACwALAkAgBkHQAWoQxwNFDQAgBigCDCIAIAZBEGprQZ8BSg0AIAYgAEEEajYCDCAAIAYoAgg2AgALIAUgAiAGKAK8ASAEIAEQvAU2AgAgBkHQAWogBkEQaiAGKAIMIAQQvQUCQCAGQYgCaiAGQYACahDtAkUNACAEIAQoAgBBAnI2AgALIAYoAogCIQIgAxDADRogBkHQAWoQwA0aIAZBkAJqJAAgAgszAAJAAkAgABDrAkHKAHEiAEUNAAJAIABBwABHDQBBCA8LIABBCEcNAUEQDwtBAA8LQQoLCwAgACABIAIQhwYLQAEBfyMAQRBrIgMkACADQQhqIAEQyAQgAiADQQhqEKkFIgEQhAY6AAAgACABEIUGIANBCGoQ9QkaIANBEGokAAsKACAAELgDIAFqC/kCAQN/IwBBEGsiCiQAIAogADoADwJAAkACQCADKAIAIAJHDQBBKyELAkAgCS0AGCAAQf8BcSIMRg0AQS0hCyAJLQAZIAxHDQELIAMgAkEBajYCACACIAs6AAAMAQsCQCAGEMcDRQ0AIAAgBUcNAEEAIQAgCCgCACIJIAdrQZ8BSg0CIAQoAgAhACAIIAlBBGo2AgAgCSAANgIADAELQX8hACAJIAlBGmogCkEPahDcBSAJayIJQRdKDQECQAJAAkAgAUF4ag4DAAIAAQsgCSABSA0BDAMLIAFBEEcNACAJQRZIDQAgAygCACIGIAJGDQIgBiACa0ECSg0CQX8hACAGQX9qLQAAQTBHDQJBACEAIARBADYCACADIAZBAWo2AgAgBkGQ5wAgCWotAAA6AAAMAgsgAyADKAIAIgBBAWo2AgAgAEGQ5wAgCWotAAA6AAAgBCAEKAIAQQFqNgIAQQAhAAwBC0EAIQAgBEEANgIACyAKQRBqJAAgAAvRAQIDfwF+IwBBEGsiBCQAAkACQAJAAkACQCAAIAFGDQAQ7gEiBSgCACEGIAVBADYCACAAIARBDGogAxDaBRCGDSEHAkACQCAFKAIAIgBFDQAgBCgCDCABRw0BIABBxABGDQUMBAsgBSAGNgIAIAQoAgwgAUYNAwsgAkEENgIADAELIAJBBDYCAAtBACEADAILIAcQhw2sUw0AIAcQgAOsVQ0AIAenIQAMAQsgAkEENgIAAkAgB0IBUw0AEIADIQAMAQsQhw0hAAsgBEEQaiQAIAALrQEBAn8gABDHAyEEAkAgAiABa0EFSA0AIARFDQAgASACEIcIIAJBfGohBCAAEMwDIgIgABDHA2ohBQJAAkADQCACLAAAIQAgASAETw0BAkAgAEEBSA0AIAAQlwdODQAgASgCACACLAAARw0DCyABQQRqIQEgAiAFIAJrQQFKaiECDAALAAsgAEEBSA0BIAAQlwdODQEgBCgCAEF/aiACLAAASQ0BCyADQQQ2AgALCxEAIAAgASACIAMgBCAFEL8FC7oDAQJ/IwBBkAJrIgYkACAGIAI2AoACIAYgATYCiAIgAxC3BSEBIAAgAyAGQeABahC4BSEAIAZB0AFqIAMgBkH/AWoQuQUgBkHAAWoQqQMhAyADIAMQyAMQyQMgBiADQQAQugUiAjYCvAEgBiAGQRBqNgIMIAZBADYCCAJAA0AgBkGIAmogBkGAAmoQ7QINAQJAIAYoArwBIAIgAxDHA2pHDQAgAxDHAyEHIAMgAxDHA0EBdBDJAyADIAMQyAMQyQMgBiAHIANBABC6BSICajYCvAELIAZBiAJqEO4CIAEgAiAGQbwBaiAGQQhqIAYsAP8BIAZB0AFqIAZBEGogBkEMaiAAELsFDQEgBkGIAmoQ8AIaDAALAAsCQCAGQdABahDHA0UNACAGKAIMIgAgBkEQamtBnwFKDQAgBiAAQQRqNgIMIAAgBigCCDYCAAsgBSACIAYoArwBIAQgARDABTcDACAGQdABaiAGQRBqIAYoAgwgBBC9BQJAIAZBiAJqIAZBgAJqEO0CRQ0AIAQgBCgCAEECcjYCAAsgBigCiAIhAiADEMANGiAGQdABahDADRogBkGQAmokACACC8gBAgN/AX4jAEEQayIEJAACQAJAAkACQAJAIAAgAUYNABDuASIFKAIAIQYgBUEANgIAIAAgBEEMaiADENoFEIYNIQcCQAJAIAUoAgAiAEUNACAEKAIMIAFHDQEgAEHEAEYNBQwECyAFIAY2AgAgBCgCDCABRg0DCyACQQQ2AgAMAQsgAkEENgIAC0IAIQcMAgsgBxCJDVMNABCKDSAHWQ0BCyACQQQ2AgACQCAHQgFTDQAQig0hBwwBCxCJDSEHCyAEQRBqJAAgBwsRACAAIAEgAiADIAQgBRDCBQu6AwECfyMAQZACayIGJAAgBiACNgKAAiAGIAE2AogCIAMQtwUhASAAIAMgBkHgAWoQuAUhACAGQdABaiADIAZB/wFqELkFIAZBwAFqEKkDIQMgAyADEMgDEMkDIAYgA0EAELoFIgI2ArwBIAYgBkEQajYCDCAGQQA2AggCQANAIAZBiAJqIAZBgAJqEO0CDQECQCAGKAK8ASACIAMQxwNqRw0AIAMQxwMhByADIAMQxwNBAXQQyQMgAyADEMgDEMkDIAYgByADQQAQugUiAmo2ArwBCyAGQYgCahDuAiABIAIgBkG8AWogBkEIaiAGLAD/ASAGQdABaiAGQRBqIAZBDGogABC7BQ0BIAZBiAJqEPACGgwACwALAkAgBkHQAWoQxwNFDQAgBigCDCIAIAZBEGprQZ8BSg0AIAYgAEEEajYCDCAAIAYoAgg2AgALIAUgAiAGKAK8ASAEIAEQwwU7AQAgBkHQAWogBkEQaiAGKAIMIAQQvQUCQCAGQYgCaiAGQYACahDtAkUNACAEIAQoAgBBAnI2AgALIAYoAogCIQIgAxDADRogBkHQAWoQwA0aIAZBkAJqJAAgAgvwAQIEfwF+IwBBEGsiBCQAAkACQAJAAkACQAJAIAAgAUYNAAJAIAAtAAAiBUEtRw0AIABBAWoiACABRw0AIAJBBDYCAAwCCxDuASIGKAIAIQcgBkEANgIAIAAgBEEMaiADENoFEI0NIQgCQAJAIAYoAgAiAEUNACAEKAIMIAFHDQEgAEHEAEYNBQwECyAGIAc2AgAgBCgCDCABRg0DCyACQQQ2AgAMAQsgAkEENgIAC0EAIQAMAwsgCBCODa1YDQELIAJBBDYCABCODSEADAELQQAgCKciAGsgACAFQS1GGyEACyAEQRBqJAAgAEH//wNxCxEAIAAgASACIAMgBCAFEMUFC7oDAQJ/IwBBkAJrIgYkACAGIAI2AoACIAYgATYCiAIgAxC3BSEBIAAgAyAGQeABahC4BSEAIAZB0AFqIAMgBkH/AWoQuQUgBkHAAWoQqQMhAyADIAMQyAMQyQMgBiADQQAQugUiAjYCvAEgBiAGQRBqNgIMIAZBADYCCAJAA0AgBkGIAmogBkGAAmoQ7QINAQJAIAYoArwBIAIgAxDHA2pHDQAgAxDHAyEHIAMgAxDHA0EBdBDJAyADIAMQyAMQyQMgBiAHIANBABC6BSICajYCvAELIAZBiAJqEO4CIAEgAiAGQbwBaiAGQQhqIAYsAP8BIAZB0AFqIAZBEGogBkEMaiAAELsFDQEgBkGIAmoQ8AIaDAALAAsCQCAGQdABahDHA0UNACAGKAIMIgAgBkEQamtBnwFKDQAgBiAAQQRqNgIMIAAgBigCCDYCAAsgBSACIAYoArwBIAQgARDGBTYCACAGQdABaiAGQRBqIAYoAgwgBBC9BQJAIAZBiAJqIAZBgAJqEO0CRQ0AIAQgBCgCAEECcjYCAAsgBigCiAIhAiADEMANGiAGQdABahDADRogBkGQAmokACACC+sBAgR/AX4jAEEQayIEJAACQAJAAkACQAJAAkAgACABRg0AAkAgAC0AACIFQS1HDQAgAEEBaiIAIAFHDQAgAkEENgIADAILEO4BIgYoAgAhByAGQQA2AgAgACAEQQxqIAMQ2gUQjQ0hCAJAAkAgBigCACIARQ0AIAQoAgwgAUcNASAAQcQARg0FDAQLIAYgBzYCACAEKAIMIAFGDQMLIAJBBDYCAAwBCyACQQQ2AgALQQAhAAwDCyAIENIIrVgNAQsgAkEENgIAENIIIQAMAQtBACAIpyIAayAAIAVBLUYbIQALIARBEGokACAACxEAIAAgASACIAMgBCAFEMgFC7oDAQJ/IwBBkAJrIgYkACAGIAI2AoACIAYgATYCiAIgAxC3BSEBIAAgAyAGQeABahC4BSEAIAZB0AFqIAMgBkH/AWoQuQUgBkHAAWoQqQMhAyADIAMQyAMQyQMgBiADQQAQugUiAjYCvAEgBiAGQRBqNgIMIAZBADYCCAJAA0AgBkGIAmogBkGAAmoQ7QINAQJAIAYoArwBIAIgAxDHA2pHDQAgAxDHAyEHIAMgAxDHA0EBdBDJAyADIAMQyAMQyQMgBiAHIANBABC6BSICajYCvAELIAZBiAJqEO4CIAEgAiAGQbwBaiAGQQhqIAYsAP8BIAZB0AFqIAZBEGogBkEMaiAAELsFDQEgBkGIAmoQ8AIaDAALAAsCQCAGQdABahDHA0UNACAGKAIMIgAgBkEQamtBnwFKDQAgBiAAQQRqNgIMIAAgBigCCDYCAAsgBSACIAYoArwBIAQgARDJBTYCACAGQdABaiAGQRBqIAYoAgwgBBC9BQJAIAZBiAJqIAZBgAJqEO0CRQ0AIAQgBCgCAEECcjYCAAsgBigCiAIhAiADEMANGiAGQdABahDADRogBkGQAmokACACC+sBAgR/AX4jAEEQayIEJAACQAJAAkACQAJAAkAgACABRg0AAkAgAC0AACIFQS1HDQAgAEEBaiIAIAFHDQAgAkEENgIADAILEO4BIgYoAgAhByAGQQA2AgAgACAEQQxqIAMQ2gUQjQ0hCAJAAkAgBigCACIARQ0AIAQoAgwgAUcNASAAQcQARg0FDAQLIAYgBzYCACAEKAIMIAFGDQMLIAJBBDYCAAwBCyACQQQ2AgALQQAhAAwDCyAIELEErVgNAQsgAkEENgIAELEEIQAMAQtBACAIpyIAayAAIAVBLUYbIQALIARBEGokACAACxEAIAAgASACIAMgBCAFEMsFC7oDAQJ/IwBBkAJrIgYkACAGIAI2AoACIAYgATYCiAIgAxC3BSEBIAAgAyAGQeABahC4BSEAIAZB0AFqIAMgBkH/AWoQuQUgBkHAAWoQqQMhAyADIAMQyAMQyQMgBiADQQAQugUiAjYCvAEgBiAGQRBqNgIMIAZBADYCCAJAA0AgBkGIAmogBkGAAmoQ7QINAQJAIAYoArwBIAIgAxDHA2pHDQAgAxDHAyEHIAMgAxDHA0EBdBDJAyADIAMQyAMQyQMgBiAHIANBABC6BSICajYCvAELIAZBiAJqEO4CIAEgAiAGQbwBaiAGQQhqIAYsAP8BIAZB0AFqIAZBEGogBkEMaiAAELsFDQEgBkGIAmoQ8AIaDAALAAsCQCAGQdABahDHA0UNACAGKAIMIgAgBkEQamtBnwFKDQAgBiAAQQRqNgIMIAAgBigCCDYCAAsgBSACIAYoArwBIAQgARDMBTcDACAGQdABaiAGQRBqIAYoAgwgBBC9BQJAIAZBiAJqIAZBgAJqEO0CRQ0AIAQgBCgCAEECcjYCAAsgBigCiAIhAiADEMANGiAGQdABahDADRogBkGQAmokACACC+cBAgR/AX4jAEEQayIEJAACQAJAAkACQAJAAkAgACABRg0AAkAgAC0AACIFQS1HDQAgAEEBaiIAIAFHDQAgAkEENgIADAILEO4BIgYoAgAhByAGQQA2AgAgACAEQQxqIAMQ2gUQjQ0hCAJAAkAgBigCACIARQ0AIAQoAgwgAUcNASAAQcQARg0FDAQLIAYgBzYCACAEKAIMIAFGDQMLIAJBBDYCAAwBCyACQQQ2AgALQgAhCAwDCxCQDSAIWg0BCyACQQQ2AgAQkA0hCAwBC0IAIAh9IAggBUEtRhshCAsgBEEQaiQAIAgLEQAgACABIAIgAyAEIAUQzgUL2wMBAX8jAEGQAmsiBiQAIAYgAjYCgAIgBiABNgKIAiAGQdABaiADIAZB4AFqIAZB3wFqIAZB3gFqEM8FIAZBwAFqEKkDIQIgAiACEMgDEMkDIAYgAkEAELoFIgE2ArwBIAYgBkEQajYCDCAGQQA2AgggBkEBOgAHIAZBxQA6AAYCQANAIAZBiAJqIAZBgAJqEO0CDQECQCAGKAK8ASABIAIQxwNqRw0AIAIQxwMhAyACIAIQxwNBAXQQyQMgAiACEMgDEMkDIAYgAyACQQAQugUiAWo2ArwBCyAGQYgCahDuAiAGQQdqIAZBBmogASAGQbwBaiAGLADfASAGLADeASAGQdABaiAGQRBqIAZBDGogBkEIaiAGQeABahDQBQ0BIAZBiAJqEPACGgwACwALAkAgBkHQAWoQxwNFDQAgBi0AB0H/AXFFDQAgBigCDCIDIAZBEGprQZ8BSg0AIAYgA0EEajYCDCADIAYoAgg2AgALIAUgASAGKAK8ASAEENEFOAIAIAZB0AFqIAZBEGogBigCDCAEEL0FAkAgBkGIAmogBkGAAmoQ7QJFDQAgBCAEKAIAQQJyNgIACyAGKAKIAiEBIAIQwA0aIAZB0AFqEMANGiAGQZACaiQAIAELYwEBfyMAQRBrIgUkACAFQQhqIAEQyAQgBUEIahDsAkGQ5wBBkOcAQSBqIAIQ2QUaIAMgBUEIahCpBSIBEIMGOgAAIAQgARCEBjoAACAAIAEQhQYgBUEIahD1CRogBUEQaiQAC/gDAQF/IwBBEGsiDCQAIAwgADoADwJAAkACQCAAIAVHDQAgAS0AAEUNAUEAIQAgAUEAOgAAIAQgBCgCACILQQFqNgIAIAtBLjoAACAHEMcDRQ0CIAkoAgAiCyAIa0GfAUoNAiAKKAIAIQUgCSALQQRqNgIAIAsgBTYCAAwCCwJAIAAgBkcNACAHEMcDRQ0AIAEtAABFDQFBACEAIAkoAgAiCyAIa0GfAUoNAiAKKAIAIQAgCSALQQRqNgIAIAsgADYCAEEAIQAgCkEANgIADAILQX8hACALIAtBIGogDEEPahCGBiALayILQR9KDQFBkOcAIAtqLQAAIQUCQAJAAkACQCALQX5xQWpqDgMBAgACCwJAIAQoAgAiCyADRg0AQX8hACALQX9qLQAAQd8AcSACLQAAQf8AcUcNBQsgBCALQQFqNgIAIAsgBToAAEEAIQAMBAsgAkHQADoAAAwBCyAFQd8AcSIAIAItAABHDQAgAiAAQYABcjoAACABLQAARQ0AIAFBADoAACAHEMcDRQ0AIAkoAgAiACAIa0GfAUoNACAKKAIAIQEgCSAAQQRqNgIAIAAgATYCAAsgBCAEKAIAIgBBAWo2AgAgACAFOgAAQQAhACALQRVKDQEgCiAKKAIAQQFqNgIADAELQX8hAAsgDEEQaiQAIAALpAECA38CfSMAQRBrIgMkAAJAAkACQAJAIAAgAUYNABDuASIEKAIAIQUgBEEANgIAIAAgA0EMahCSDSEGIAQoAgAiAEUNAUMAAAAAIQcgAygCDCABRw0CIAYhByAAQcQARw0DDAILIAJBBDYCAEMAAAAAIQYMAgsgBCAFNgIAQwAAAAAhByADKAIMIAFGDQELIAJBBDYCACAHIQYLIANBEGokACAGCxEAIAAgASACIAMgBCAFENMFC9sDAQF/IwBBkAJrIgYkACAGIAI2AoACIAYgATYCiAIgBkHQAWogAyAGQeABaiAGQd8BaiAGQd4BahDPBSAGQcABahCpAyECIAIgAhDIAxDJAyAGIAJBABC6BSIBNgK8ASAGIAZBEGo2AgwgBkEANgIIIAZBAToAByAGQcUAOgAGAkADQCAGQYgCaiAGQYACahDtAg0BAkAgBigCvAEgASACEMcDakcNACACEMcDIQMgAiACEMcDQQF0EMkDIAIgAhDIAxDJAyAGIAMgAkEAELoFIgFqNgK8AQsgBkGIAmoQ7gIgBkEHaiAGQQZqIAEgBkG8AWogBiwA3wEgBiwA3gEgBkHQAWogBkEQaiAGQQxqIAZBCGogBkHgAWoQ0AUNASAGQYgCahDwAhoMAAsACwJAIAZB0AFqEMcDRQ0AIAYtAAdB/wFxRQ0AIAYoAgwiAyAGQRBqa0GfAUoNACAGIANBBGo2AgwgAyAGKAIINgIACyAFIAEgBigCvAEgBBDUBTkDACAGQdABaiAGQRBqIAYoAgwgBBC9BQJAIAZBiAJqIAZBgAJqEO0CRQ0AIAQgBCgCAEECcjYCAAsgBigCiAIhASACEMANGiAGQdABahDADRogBkGQAmokACABC7ABAgN/AnwjAEEQayIDJAACQAJAAkACQCAAIAFGDQAQ7gEiBCgCACEFIARBADYCACAAIANBDGoQkw0hBiAEKAIAIgBFDQFEAAAAAAAAAAAhByADKAIMIAFHDQIgBiEHIABBxABHDQMMAgsgAkEENgIARAAAAAAAAAAAIQYMAgsgBCAFNgIARAAAAAAAAAAAIQcgAygCDCABRg0BCyACQQQ2AgAgByEGCyADQRBqJAAgBgsRACAAIAEgAiADIAQgBRDWBQv1AwIBfwF+IwBBoAJrIgYkACAGIAI2ApACIAYgATYCmAIgBkHgAWogAyAGQfABaiAGQe8BaiAGQe4BahDPBSAGQdABahCpAyECIAIgAhDIAxDJAyAGIAJBABC6BSIBNgLMASAGIAZBIGo2AhwgBkEANgIYIAZBAToAFyAGQcUAOgAWAkADQCAGQZgCaiAGQZACahDtAg0BAkAgBigCzAEgASACEMcDakcNACACEMcDIQMgAiACEMcDQQF0EMkDIAIgAhDIAxDJAyAGIAMgAkEAELoFIgFqNgLMAQsgBkGYAmoQ7gIgBkEXaiAGQRZqIAEgBkHMAWogBiwA7wEgBiwA7gEgBkHgAWogBkEgaiAGQRxqIAZBGGogBkHwAWoQ0AUNASAGQZgCahDwAhoMAAsACwJAIAZB4AFqEMcDRQ0AIAYtABdB/wFxRQ0AIAYoAhwiAyAGQSBqa0GfAUoNACAGIANBBGo2AhwgAyAGKAIYNgIACyAGIAEgBigCzAEgBBDXBSAGKQMAIQcgBSAGQQhqKQMANwMIIAUgBzcDACAGQeABaiAGQSBqIAYoAhwgBBC9BQJAIAZBmAJqIAZBkAJqEO0CRQ0AIAQgBCgCAEECcjYCAAsgBigCmAIhASACEMANGiAGQeABahDADRogBkGgAmokACABC88BAgN/BH4jAEEgayIEJAACQAJAAkACQCABIAJGDQAQ7gEiBSgCACEGIAVBADYCACAEQQhqIAEgBEEcahCUDSAEQRBqKQMAIQcgBCkDCCEIIAUoAgAiAUUNAUIAIQlCACEKIAQoAhwgAkcNAiAIIQkgByEKIAFBxABHDQMMAgsgA0EENgIAQgAhCEIAIQcMAgsgBSAGNgIAQgAhCUIAIQogBCgCHCACRg0BCyADQQQ2AgAgCSEIIAohBwsgACAINwMAIAAgBzcDCCAEQSBqJAALowMBAn8jAEGQAmsiBiQAIAYgAjYCgAIgBiABNgKIAiAGQdABahCpAyEHIAZBEGogAxDIBCAGQRBqEOwCQZDnAEGQ5wBBGmogBkHgAWoQ2QUaIAZBEGoQ9QkaIAZBwAFqEKkDIQIgAiACEMgDEMkDIAYgAkEAELoFIgE2ArwBIAYgBkEQajYCDCAGQQA2AggCQANAIAZBiAJqIAZBgAJqEO0CDQECQCAGKAK8ASABIAIQxwNqRw0AIAIQxwMhAyACIAIQxwNBAXQQyQMgAiACEMgDEMkDIAYgAyACQQAQugUiAWo2ArwBCyAGQYgCahDuAkEQIAEgBkG8AWogBkEIakEAIAcgBkEQaiAGQQxqIAZB4AFqELsFDQEgBkGIAmoQ8AIaDAALAAsgAiAGKAK8ASABaxDJAyACENcDIQEQ2gUhAyAGIAU2AgACQCABIANBgAwgBhDbBUEBRg0AIARBBDYCAAsCQCAGQYgCaiAGQYACahDtAkUNACAEIAQoAgBBAnI2AgALIAYoAogCIQEgAhDADRogBxDADRogBkGQAmokACABCxUAIAAgASACIAMgACgCACgCIBEIAAs9AQF/AkBBAC0A4MABRQ0AQQAoAtzAAQ8LQf////8HQfcRQQAQ+gQhAEEAQQE6AODAAUEAIAA2AtzAASAAC0QBAX8jAEEQayIEJAAgBCABNgIMIAQgAzYCCCAEIARBDGoQ3QUhAyAAIAIgBCgCCBDzBCEBIAMQ3gUaIARBEGokACABCzcAIAItAABB/wFxIQIDfwJAAkAgACABRg0AIAAtAAAgAkcNASAAIQELIAEPCyAAQQFqIQAMAAsLEQAgACABKAIAEIoFNgIAIAALGQEBfwJAIAAoAgAiAUUNACABEIoFGgsgAAv1AQEBfyMAQSBrIgYkACAGIAE2AhgCQAJAIAMQ6wJBAXENACAGQX82AgAgACABIAIgAyAEIAYgACgCACgCEBEHACEBAkACQAJAIAYoAgAOAgABAgsgBUEAOgAADAMLIAVBAToAAAwCCyAFQQE6AAAgBEEENgIADAELIAYgAxDIBCAGEJsDIQEgBhD1CRogBiADEMgEIAYQ4AUhAyAGEPUJGiAGIAMQ4QUgBkEMciADEOIFIAUgBkEYaiACIAYgBkEYaiIDIAEgBEEBEOMFIAZGOgAAIAYoAhghAQNAIANBdGoQ3Q0iAyAGRw0ACwsgBkEgaiQAIAELCwAgAEHIwQEQrQULEQAgACABIAEoAgAoAhgRAgALEQAgACABIAEoAgAoAhwRAgAL2wQBC38jAEGAAWsiByQAIAcgATYCeCACIAMQ5AUhCCAHQfUANgIQQQAhCSAHQQhqQQAgB0EQahCvBSEKIAdBEGohCwJAAkACQCAIQeUASQ0AIAgQpAIiC0UNASAKIAsQsAULIAshDCACIQEDQAJAIAEgA0cNAEEAIQ0DQAJAAkAgACAHQfgAahCcAw0AIAgNAQsCQCAAIAdB+ABqEJwDRQ0AIAUgBSgCAEECcjYCAAsMBQsgABCdAyEOAkAgBg0AIAQgDhDlBSEOCyANQQFqIQ9BACEQIAshDCACIQEDQAJAIAEgA0cNACAPIQ0gEEEBcUUNAiAAEJ8DGiAPIQ0gCyEMIAIhASAJIAhqQQJJDQIDQAJAIAEgA0cNACAPIQ0MBAsCQCAMLQAAQQJHDQAgARDmBSAPRg0AIAxBADoAACAJQX9qIQkLIAxBAWohDCABQQxqIQEMAAsACwJAIAwtAABBAUcNACABIA0Q5wUoAgAhEQJAIAYNACAEIBEQ5QUhEQsCQAJAIA4gEUcNAEEBIRAgARDmBSAPRw0CIAxBAjoAAEEBIRAgCUEBaiEJDAELIAxBADoAAAsgCEF/aiEICyAMQQFqIQwgAUEMaiEBDAALAAsACyAMQQJBASABEOgFIhEbOgAAIAxBAWohDCABQQxqIQEgCSARaiEJIAggEWshCAwACwALEK0NAAsCQAJAA0AgAiADRg0BAkAgCy0AAEECRg0AIAtBAWohCyACQQxqIQIMAQsLIAIhAwwBCyAFIAUoAgBBBHI2AgALIAoQtAUaIAdBgAFqJAAgAwsJACAAIAEQlQ0LEQAgACABIAAoAgAoAhwRAQALGAACQCAAEPIGRQ0AIAAQ8wYPCyAAEPQGCw0AIAAQ8AYgAUECdGoLCAAgABDmBUULEQAgACABIAIgAyAEIAUQ6gULugMBAn8jAEHgAmsiBiQAIAYgAjYC0AIgBiABNgLYAiADELcFIQEgACADIAZB4AFqEOsFIQAgBkHQAWogAyAGQcwCahDsBSAGQcABahCpAyEDIAMgAxDIAxDJAyAGIANBABC6BSICNgK8ASAGIAZBEGo2AgwgBkEANgIIAkADQCAGQdgCaiAGQdACahCcAw0BAkAgBigCvAEgAiADEMcDakcNACADEMcDIQcgAyADEMcDQQF0EMkDIAMgAxDIAxDJAyAGIAcgA0EAELoFIgJqNgK8AQsgBkHYAmoQnQMgASACIAZBvAFqIAZBCGogBigCzAIgBkHQAWogBkEQaiAGQQxqIAAQ7QUNASAGQdgCahCfAxoMAAsACwJAIAZB0AFqEMcDRQ0AIAYoAgwiACAGQRBqa0GfAUoNACAGIABBBGo2AgwgACAGKAIINgIACyAFIAIgBigCvAEgBCABELwFNgIAIAZB0AFqIAZBEGogBigCDCAEEL0FAkAgBkHYAmogBkHQAmoQnANFDQAgBCAEKAIAQQJyNgIACyAGKALYAiECIAMQwA0aIAZB0AFqEMANGiAGQeACaiQAIAILCwAgACABIAIQjAYLQAEBfyMAQRBrIgMkACADQQhqIAEQyAQgAiADQQhqEOAFIgEQiQY2AgAgACABEIoGIANBCGoQ9QkaIANBEGokAAv9AgECfyMAQRBrIgokACAKIAA2AgwCQAJAAkAgAygCACACRw0AQSshCwJAIAkoAmAgAEYNAEEtIQsgCSgCZCAARw0BCyADIAJBAWo2AgAgAiALOgAADAELAkAgBhDHA0UNACAAIAVHDQBBACEAIAgoAgAiCSAHa0GfAUoNAiAEKAIAIQAgCCAJQQRqNgIAIAkgADYCAAwBC0F/IQAgCSAJQegAaiAKQQxqEIIGIAlrIglB3ABKDQEgCUECdSEGAkACQAJAIAFBeGoOAwACAAELIAYgAUgNAQwDCyABQRBHDQAgCUHYAEgNACADKAIAIgkgAkYNAiAJIAJrQQJKDQJBfyEAIAlBf2otAABBMEcNAkEAIQAgBEEANgIAIAMgCUEBajYCACAJQZDnACAGai0AADoAAAwCCyADIAMoAgAiAEEBajYCACAAQZDnACAGai0AADoAACAEIAQoAgBBAWo2AgBBACEADAELQQAhACAEQQA2AgALIApBEGokACAACxEAIAAgASACIAMgBCAFEO8FC7oDAQJ/IwBB4AJrIgYkACAGIAI2AtACIAYgATYC2AIgAxC3BSEBIAAgAyAGQeABahDrBSEAIAZB0AFqIAMgBkHMAmoQ7AUgBkHAAWoQqQMhAyADIAMQyAMQyQMgBiADQQAQugUiAjYCvAEgBiAGQRBqNgIMIAZBADYCCAJAA0AgBkHYAmogBkHQAmoQnAMNAQJAIAYoArwBIAIgAxDHA2pHDQAgAxDHAyEHIAMgAxDHA0EBdBDJAyADIAMQyAMQyQMgBiAHIANBABC6BSICajYCvAELIAZB2AJqEJ0DIAEgAiAGQbwBaiAGQQhqIAYoAswCIAZB0AFqIAZBEGogBkEMaiAAEO0FDQEgBkHYAmoQnwMaDAALAAsCQCAGQdABahDHA0UNACAGKAIMIgAgBkEQamtBnwFKDQAgBiAAQQRqNgIMIAAgBigCCDYCAAsgBSACIAYoArwBIAQgARDABTcDACAGQdABaiAGQRBqIAYoAgwgBBC9BQJAIAZB2AJqIAZB0AJqEJwDRQ0AIAQgBCgCAEECcjYCAAsgBigC2AIhAiADEMANGiAGQdABahDADRogBkHgAmokACACCxEAIAAgASACIAMgBCAFEPEFC7oDAQJ/IwBB4AJrIgYkACAGIAI2AtACIAYgATYC2AIgAxC3BSEBIAAgAyAGQeABahDrBSEAIAZB0AFqIAMgBkHMAmoQ7AUgBkHAAWoQqQMhAyADIAMQyAMQyQMgBiADQQAQugUiAjYCvAEgBiAGQRBqNgIMIAZBADYCCAJAA0AgBkHYAmogBkHQAmoQnAMNAQJAIAYoArwBIAIgAxDHA2pHDQAgAxDHAyEHIAMgAxDHA0EBdBDJAyADIAMQyAMQyQMgBiAHIANBABC6BSICajYCvAELIAZB2AJqEJ0DIAEgAiAGQbwBaiAGQQhqIAYoAswCIAZB0AFqIAZBEGogBkEMaiAAEO0FDQEgBkHYAmoQnwMaDAALAAsCQCAGQdABahDHA0UNACAGKAIMIgAgBkEQamtBnwFKDQAgBiAAQQRqNgIMIAAgBigCCDYCAAsgBSACIAYoArwBIAQgARDDBTsBACAGQdABaiAGQRBqIAYoAgwgBBC9BQJAIAZB2AJqIAZB0AJqEJwDRQ0AIAQgBCgCAEECcjYCAAsgBigC2AIhAiADEMANGiAGQdABahDADRogBkHgAmokACACCxEAIAAgASACIAMgBCAFEPMFC7oDAQJ/IwBB4AJrIgYkACAGIAI2AtACIAYgATYC2AIgAxC3BSEBIAAgAyAGQeABahDrBSEAIAZB0AFqIAMgBkHMAmoQ7AUgBkHAAWoQqQMhAyADIAMQyAMQyQMgBiADQQAQugUiAjYCvAEgBiAGQRBqNgIMIAZBADYCCAJAA0AgBkHYAmogBkHQAmoQnAMNAQJAIAYoArwBIAIgAxDHA2pHDQAgAxDHAyEHIAMgAxDHA0EBdBDJAyADIAMQyAMQyQMgBiAHIANBABC6BSICajYCvAELIAZB2AJqEJ0DIAEgAiAGQbwBaiAGQQhqIAYoAswCIAZB0AFqIAZBEGogBkEMaiAAEO0FDQEgBkHYAmoQnwMaDAALAAsCQCAGQdABahDHA0UNACAGKAIMIgAgBkEQamtBnwFKDQAgBiAAQQRqNgIMIAAgBigCCDYCAAsgBSACIAYoArwBIAQgARDGBTYCACAGQdABaiAGQRBqIAYoAgwgBBC9BQJAIAZB2AJqIAZB0AJqEJwDRQ0AIAQgBCgCAEECcjYCAAsgBigC2AIhAiADEMANGiAGQdABahDADRogBkHgAmokACACCxEAIAAgASACIAMgBCAFEPUFC7oDAQJ/IwBB4AJrIgYkACAGIAI2AtACIAYgATYC2AIgAxC3BSEBIAAgAyAGQeABahDrBSEAIAZB0AFqIAMgBkHMAmoQ7AUgBkHAAWoQqQMhAyADIAMQyAMQyQMgBiADQQAQugUiAjYCvAEgBiAGQRBqNgIMIAZBADYCCAJAA0AgBkHYAmogBkHQAmoQnAMNAQJAIAYoArwBIAIgAxDHA2pHDQAgAxDHAyEHIAMgAxDHA0EBdBDJAyADIAMQyAMQyQMgBiAHIANBABC6BSICajYCvAELIAZB2AJqEJ0DIAEgAiAGQbwBaiAGQQhqIAYoAswCIAZB0AFqIAZBEGogBkEMaiAAEO0FDQEgBkHYAmoQnwMaDAALAAsCQCAGQdABahDHA0UNACAGKAIMIgAgBkEQamtBnwFKDQAgBiAAQQRqNgIMIAAgBigCCDYCAAsgBSACIAYoArwBIAQgARDJBTYCACAGQdABaiAGQRBqIAYoAgwgBBC9BQJAIAZB2AJqIAZB0AJqEJwDRQ0AIAQgBCgCAEECcjYCAAsgBigC2AIhAiADEMANGiAGQdABahDADRogBkHgAmokACACCxEAIAAgASACIAMgBCAFEPcFC7oDAQJ/IwBB4AJrIgYkACAGIAI2AtACIAYgATYC2AIgAxC3BSEBIAAgAyAGQeABahDrBSEAIAZB0AFqIAMgBkHMAmoQ7AUgBkHAAWoQqQMhAyADIAMQyAMQyQMgBiADQQAQugUiAjYCvAEgBiAGQRBqNgIMIAZBADYCCAJAA0AgBkHYAmogBkHQAmoQnAMNAQJAIAYoArwBIAIgAxDHA2pHDQAgAxDHAyEHIAMgAxDHA0EBdBDJAyADIAMQyAMQyQMgBiAHIANBABC6BSICajYCvAELIAZB2AJqEJ0DIAEgAiAGQbwBaiAGQQhqIAYoAswCIAZB0AFqIAZBEGogBkEMaiAAEO0FDQEgBkHYAmoQnwMaDAALAAsCQCAGQdABahDHA0UNACAGKAIMIgAgBkEQamtBnwFKDQAgBiAAQQRqNgIMIAAgBigCCDYCAAsgBSACIAYoArwBIAQgARDMBTcDACAGQdABaiAGQRBqIAYoAgwgBBC9BQJAIAZB2AJqIAZB0AJqEJwDRQ0AIAQgBCgCAEECcjYCAAsgBigC2AIhAiADEMANGiAGQdABahDADRogBkHgAmokACACCxEAIAAgASACIAMgBCAFEPkFC9sDAQF/IwBB8AJrIgYkACAGIAI2AuACIAYgATYC6AIgBkHIAWogAyAGQeABaiAGQdwBaiAGQdgBahD6BSAGQbgBahCpAyECIAIgAhDIAxDJAyAGIAJBABC6BSIBNgK0ASAGIAZBEGo2AgwgBkEANgIIIAZBAToAByAGQcUAOgAGAkADQCAGQegCaiAGQeACahCcAw0BAkAgBigCtAEgASACEMcDakcNACACEMcDIQMgAiACEMcDQQF0EMkDIAIgAhDIAxDJAyAGIAMgAkEAELoFIgFqNgK0AQsgBkHoAmoQnQMgBkEHaiAGQQZqIAEgBkG0AWogBigC3AEgBigC2AEgBkHIAWogBkEQaiAGQQxqIAZBCGogBkHgAWoQ+wUNASAGQegCahCfAxoMAAsACwJAIAZByAFqEMcDRQ0AIAYtAAdB/wFxRQ0AIAYoAgwiAyAGQRBqa0GfAUoNACAGIANBBGo2AgwgAyAGKAIINgIACyAFIAEgBigCtAEgBBDRBTgCACAGQcgBaiAGQRBqIAYoAgwgBBC9BQJAIAZB6AJqIAZB4AJqEJwDRQ0AIAQgBCgCAEECcjYCAAsgBigC6AIhASACEMANGiAGQcgBahDADRogBkHwAmokACABC2MBAX8jAEEQayIFJAAgBUEIaiABEMgEIAVBCGoQmwNBkOcAQZDnAEEgaiACEIEGGiADIAVBCGoQ4AUiARCIBjYCACAEIAEQiQY2AgAgACABEIoGIAVBCGoQ9QkaIAVBEGokAAuCBAEBfyMAQRBrIgwkACAMIAA2AgwCQAJAAkAgACAFRw0AIAEtAABFDQFBACEAIAFBADoAACAEIAQoAgAiC0EBajYCACALQS46AAAgBxDHA0UNAiAJKAIAIgsgCGtBnwFKDQIgCigCACEBIAkgC0EEajYCACALIAE2AgAMAgsCQCAAIAZHDQAgBxDHA0UNACABLQAARQ0BQQAhACAJKAIAIgsgCGtBnwFKDQIgCigCACEAIAkgC0EEajYCACALIAA2AgBBACEAIApBADYCAAwCC0F/IQAgCyALQYABaiAMQQxqEIsGIAtrIgtB/ABKDQFBkOcAIAtBAnVqLQAAIQUCQAJAAkAgC0F7cSIAQdgARg0AIABB4ABHDQECQCAEKAIAIgsgA0YNAEF/IQAgC0F/ai0AAEHfAHEgAi0AAEH/AHFHDQULIAQgC0EBajYCACALIAU6AABBACEADAQLIAJB0AA6AAAMAQsgBUHfAHEiACACLQAARw0AIAIgAEGAAXI6AAAgAS0AAEUNACABQQA6AAAgBxDHA0UNACAJKAIAIgAgCGtBnwFKDQAgCigCACEBIAkgAEEEajYCACAAIAE2AgALIAQgBCgCACIAQQFqNgIAIAAgBToAAEEAIQAgC0HUAEoNASAKIAooAgBBAWo2AgAMAQtBfyEACyAMQRBqJAAgAAsRACAAIAEgAiADIAQgBRD9BQvbAwEBfyMAQfACayIGJAAgBiACNgLgAiAGIAE2AugCIAZByAFqIAMgBkHgAWogBkHcAWogBkHYAWoQ+gUgBkG4AWoQqQMhAiACIAIQyAMQyQMgBiACQQAQugUiATYCtAEgBiAGQRBqNgIMIAZBADYCCCAGQQE6AAcgBkHFADoABgJAA0AgBkHoAmogBkHgAmoQnAMNAQJAIAYoArQBIAEgAhDHA2pHDQAgAhDHAyEDIAIgAhDHA0EBdBDJAyACIAIQyAMQyQMgBiADIAJBABC6BSIBajYCtAELIAZB6AJqEJ0DIAZBB2ogBkEGaiABIAZBtAFqIAYoAtwBIAYoAtgBIAZByAFqIAZBEGogBkEMaiAGQQhqIAZB4AFqEPsFDQEgBkHoAmoQnwMaDAALAAsCQCAGQcgBahDHA0UNACAGLQAHQf8BcUUNACAGKAIMIgMgBkEQamtBnwFKDQAgBiADQQRqNgIMIAMgBigCCDYCAAsgBSABIAYoArQBIAQQ1AU5AwAgBkHIAWogBkEQaiAGKAIMIAQQvQUCQCAGQegCaiAGQeACahCcA0UNACAEIAQoAgBBAnI2AgALIAYoAugCIQEgAhDADRogBkHIAWoQwA0aIAZB8AJqJAAgAQsRACAAIAEgAiADIAQgBRD/BQv1AwIBfwF+IwBBgANrIgYkACAGIAI2AvACIAYgATYC+AIgBkHYAWogAyAGQfABaiAGQewBaiAGQegBahD6BSAGQcgBahCpAyECIAIgAhDIAxDJAyAGIAJBABC6BSIBNgLEASAGIAZBIGo2AhwgBkEANgIYIAZBAToAFyAGQcUAOgAWAkADQCAGQfgCaiAGQfACahCcAw0BAkAgBigCxAEgASACEMcDakcNACACEMcDIQMgAiACEMcDQQF0EMkDIAIgAhDIAxDJAyAGIAMgAkEAELoFIgFqNgLEAQsgBkH4AmoQnQMgBkEXaiAGQRZqIAEgBkHEAWogBigC7AEgBigC6AEgBkHYAWogBkEgaiAGQRxqIAZBGGogBkHwAWoQ+wUNASAGQfgCahCfAxoMAAsACwJAIAZB2AFqEMcDRQ0AIAYtABdB/wFxRQ0AIAYoAhwiAyAGQSBqa0GfAUoNACAGIANBBGo2AhwgAyAGKAIYNgIACyAGIAEgBigCxAEgBBDXBSAGKQMAIQcgBSAGQQhqKQMANwMIIAUgBzcDACAGQdgBaiAGQSBqIAYoAhwgBBC9BQJAIAZB+AJqIAZB8AJqEJwDRQ0AIAQgBCgCAEECcjYCAAsgBigC+AIhASACEMANGiAGQdgBahDADRogBkGAA2okACABC6MDAQJ/IwBB4AJrIgYkACAGIAI2AtACIAYgATYC2AIgBkHQAWoQqQMhByAGQRBqIAMQyAQgBkEQahCbA0GQ5wBBkOcAQRpqIAZB4AFqEIEGGiAGQRBqEPUJGiAGQcABahCpAyECIAIgAhDIAxDJAyAGIAJBABC6BSIBNgK8ASAGIAZBEGo2AgwgBkEANgIIAkADQCAGQdgCaiAGQdACahCcAw0BAkAgBigCvAEgASACEMcDakcNACACEMcDIQMgAiACEMcDQQF0EMkDIAIgAhDIAxDJAyAGIAMgAkEAELoFIgFqNgK8AQsgBkHYAmoQnQNBECABIAZBvAFqIAZBCGpBACAHIAZBEGogBkEMaiAGQeABahDtBQ0BIAZB2AJqEJ8DGgwACwALIAIgBigCvAEgAWsQyQMgAhDXAyEBENoFIQMgBiAFNgIAAkAgASADQYAMIAYQ2wVBAUYNACAEQQQ2AgALAkAgBkHYAmogBkHQAmoQnANFDQAgBCAEKAIAQQJyNgIACyAGKALYAiEBIAIQwA0aIAcQwA0aIAZB4AJqJAAgAQsVACAAIAEgAiADIAAoAgAoAjARCAALMwAgAigCACECA38CQAJAIAAgAUYNACAAKAIAIAJHDQEgACEBCyABDwsgAEEEaiEADAALCw8AIAAgACgCACgCDBEAAAsPACAAIAAoAgAoAhARAAALEQAgACABIAEoAgAoAhQRAgALNwAgAi0AAEH/AXEhAgN/AkACQCAAIAFGDQAgAC0AACACRw0BIAAhAQsgAQ8LIABBAWohAAwACwsGAEGQ5wALDwAgACAAKAIAKAIMEQAACw8AIAAgACgCACgCEBEAAAsRACAAIAEgASgCACgCFBECAAszACACKAIAIQIDfwJAAkAgACABRg0AIAAoAgAgAkcNASAAIQELIAEPCyAAQQRqIQAMAAsLQgEBfyMAQRBrIgMkACADQQhqIAEQyAQgA0EIahCbA0GQ5wBBkOcAQRpqIAIQgQYaIANBCGoQ9QkaIANBEGokACACC/UBAQF/IwBBMGsiBSQAIAUgATYCKAJAAkAgAhDrAkEBcQ0AIAAgASACIAMgBCAAKAIAKAIYEQoAIQIMAQsgBUEYaiACEMgEIAVBGGoQqQUhAiAFQRhqEPUJGgJAAkAgBEUNACAFQRhqIAIQqgUMAQsgBUEYaiACEKsFCyAFIAVBGGoQjgY2AhADQCAFIAVBGGoQjwY2AggCQCAFQRBqIAVBCGoQkAYNACAFKAIoIQIgBUEYahDADRoMAgsgBUEQahCRBiwAACECIAVBKGoQlAMgAhCVAxogBUEQahCSBhogBUEoahCWAxoMAAsACyAFQTBqJAAgAgsqAQF/IwBBEGsiASQAIAFBCGogACAAELgDEJMGKAIAIQAgAUEQaiQAIAALMAEBfyMAQRBrIgEkACABQQhqIAAgABC4AyAAEMcDahCTBigCACEAIAFBEGokACAACwwAIAAgARCUBkEBcwsHACAAKAIACxEAIAAgACgCAEEBajYCACAACwsAIAAgAjYCACAACw0AIAAQ/AcgARD8B0YLEgAgACABIAIgAyAEQZENEJYGC7UBAQF/IwBB0ABrIgYkACAGQiU3A0ggBkHIAGpBAXIgBUEBIAIQ6wIQlwYQ2gUhBSAGIAQ2AgAgBkE7aiAGQTtqIAZBO2pBDSAFIAZByABqIAYQmAZqIgUgAhCZBiEEIAZBEGogAhDIBCAGQTtqIAQgBSAGQSBqIAZBHGogBkEYaiAGQRBqEJoGIAZBEGoQ9QkaIAEgBkEgaiAGKAIcIAYoAhggAiADENYBIQIgBkHQAGokACACC8MBAQF/AkAgA0GAEHFFDQAgA0HKAHEiBEEIRg0AIARBwABGDQAgAkUNACAAQSs6AAAgAEEBaiEACwJAIANBgARxRQ0AIABBIzoAACAAQQFqIQALAkADQCABLQAAIgRFDQEgACAEOgAAIABBAWohACABQQFqIQEMAAsACwJAAkAgA0HKAHEiAUHAAEcNAEHvACEBDAELAkAgAUEIRw0AQdgAQfgAIANBgIABcRshAQwBC0HkAEH1ACACGyEBCyAAIAE6AAALRgEBfyMAQRBrIgUkACAFIAI2AgwgBSAENgIIIAUgBUEMahDdBSEEIAAgASADIAUoAggQnAIhAiAEEN4FGiAFQRBqJAAgAgtmAAJAIAIQ6wJBsAFxIgJBIEcNACABDwsCQCACQRBHDQACQAJAIAAtAAAiAkFVag4DAAEAAQsgAEEBag8LIAEgAGtBAkgNACACQTBHDQAgAC0AAUEgckH4AEcNACAAQQJqIQALIAAL3gMBCH8jAEEQayIHJAAgBhDsAiEIIAcgBhCpBSIGEIUGAkACQCAHELMFRQ0AIAggACACIAMQ2QUaIAUgAyACIABraiIGNgIADAELIAUgAzYCACAAIQkCQAJAIAAtAAAiCkFVag4DAAEAAQsgCCAKwBDBBCEKIAUgBSgCACILQQFqNgIAIAsgCjoAACAAQQFqIQkLAkAgAiAJa0ECSA0AIAktAABBMEcNACAJLQABQSByQfgARw0AIAhBMBDBBCEKIAUgBSgCACILQQFqNgIAIAsgCjoAACAIIAksAAEQwQQhCiAFIAUoAgAiC0EBajYCACALIAo6AAAgCUECaiEJCyAJIAIQzgZBACEKIAYQhAYhDEEAIQsgCSEGA0ACQCAGIAJJDQAgAyAJIABraiAFKAIAEM4GIAUoAgAhBgwCCwJAIAcgCxC6BS0AAEUNACAKIAcgCxC6BSwAAEcNACAFIAUoAgAiCkEBajYCACAKIAw6AAAgCyALIAcQxwNBf2pJaiELQQAhCgsgCCAGLAAAEMEEIQ0gBSAFKAIAIg5BAWo2AgAgDiANOgAAIAZBAWohBiAKQQFqIQoMAAsACyAEIAYgAyABIABraiABIAJGGzYCACAHEMANGiAHQRBqJAALEgAgACABIAIgAyAEQfIMEJwGC7kBAQJ/IwBB8ABrIgYkACAGQiU3A2ggBkHoAGpBAXIgBUEBIAIQ6wIQlwYQ2gUhBSAGIAQ3AwAgBkHQAGogBkHQAGogBkHQAGpBGCAFIAZB6ABqIAYQmAZqIgUgAhCZBiEHIAZBEGogAhDIBCAGQdAAaiAHIAUgBkEgaiAGQRxqIAZBGGogBkEQahCaBiAGQRBqEPUJGiABIAZBIGogBigCHCAGKAIYIAIgAxDWASECIAZB8ABqJAAgAgsSACAAIAEgAiADIARBkQ0QngYLtQEBAX8jAEHQAGsiBiQAIAZCJTcDSCAGQcgAakEBciAFQQAgAhDrAhCXBhDaBSEFIAYgBDYCACAGQTtqIAZBO2ogBkE7akENIAUgBkHIAGogBhCYBmoiBSACEJkGIQQgBkEQaiACEMgEIAZBO2ogBCAFIAZBIGogBkEcaiAGQRhqIAZBEGoQmgYgBkEQahD1CRogASAGQSBqIAYoAhwgBigCGCACIAMQ1gEhAiAGQdAAaiQAIAILEgAgACABIAIgAyAEQfIMEKAGC7kBAQJ/IwBB8ABrIgYkACAGQiU3A2ggBkHoAGpBAXIgBUEAIAIQ6wIQlwYQ2gUhBSAGIAQ3AwAgBkHQAGogBkHQAGogBkHQAGpBGCAFIAZB6ABqIAYQmAZqIgUgAhCZBiEHIAZBEGogAhDIBCAGQdAAaiAHIAUgBkEgaiAGQRxqIAZBGGogBkEQahCaBiAGQRBqEPUJGiABIAZBIGogBigCHCAGKAIYIAIgAxDWASECIAZB8ABqJAAgAgsSACAAIAEgAiADIARBgRoQogYLhwQBBn8jAEHQAWsiBiQAIAZCJTcDyAEgBkHIAWpBAXIgBSACEOsCEKMGIQcgBiAGQaABajYCnAEQ2gUhBQJAAkAgB0UNACACEKQGIQggBiAEOQMoIAYgCDYCICAGQaABakEeIAUgBkHIAWogBkEgahCYBiEFDAELIAYgBDkDMCAGQaABakEeIAUgBkHIAWogBkEwahCYBiEFCyAGQfUANgJQIAZBkAFqQQAgBkHQAGoQpQYhCSAGQaABaiIKIQgCQAJAIAVBHkgNABDaBSEFAkACQCAHRQ0AIAIQpAYhCCAGIAQ5AwggBiAINgIAIAZBnAFqIAUgBkHIAWogBhCmBiEFDAELIAYgBDkDECAGQZwBaiAFIAZByAFqIAZBEGoQpgYhBQsgBUF/Rg0BIAkgBigCnAEQpwYgBigCnAEhCAsgCCAIIAVqIgcgAhCZBiELIAZB9QA2AlAgBkHIAGpBACAGQdAAahClBiEIAkACQCAGKAKcASAGQaABakcNACAGQdAAaiEFDAELIAVBAXQQpAIiBUUNASAIIAUQpwYgBigCnAEhCgsgBkE4aiACEMgEIAogCyAHIAUgBkHEAGogBkHAAGogBkE4ahCoBiAGQThqEPUJGiABIAUgBigCRCAGKAJAIAIgAxDWASECIAgQqQYaIAkQqQYaIAZB0AFqJAAgAg8LEK0NAAvsAQECfwJAIAJBgBBxRQ0AIABBKzoAACAAQQFqIQALAkAgAkGACHFFDQAgAEEjOgAAIABBAWohAAsCQCACQYQCcSIDQYQCRg0AIABBrtQAOwAAIABBAmohAAsgAkGAgAFxIQQCQANAIAEtAAAiAkUNASAAIAI6AAAgAEEBaiEAIAFBAWohAQwACwALAkACQAJAIANBgAJGDQAgA0EERw0BQcYAQeYAIAQbIQEMAgtBxQBB5QAgBBshAQwBCwJAIANBhAJHDQBBwQBB4QAgBBshAQwBC0HHAEHnACAEGyEBCyAAIAE6AAAgA0GEAkcLBwAgACgCCAsrAQF/IwBBEGsiAyQAIAMgATYCDCAAIANBDGogAhDPByEBIANBEGokACABC0QBAX8jAEEQayIEJAAgBCABNgIMIAQgAzYCCCAEIARBDGoQ3QUhAyAAIAIgBCgCCBD/BCEBIAMQ3gUaIARBEGokACABCy0BAX8gABDgBygCACECIAAQ4AcgATYCAAJAIAJFDQAgAiAAEOEHKAIAEQMACwu+BQEKfyMAQRBrIgckACAGEOwCIQggByAGEKkFIgkQhQYgBSADNgIAIAAhCgJAAkAgAC0AACIGQVVqDgMAAQABCyAIIAbAEMEEIQYgBSAFKAIAIgtBAWo2AgAgCyAGOgAAIABBAWohCgsgCiEGAkACQCACIAprQQFMDQAgCiEGIAotAABBMEcNACAKIQYgCi0AAUEgckH4AEcNACAIQTAQwQQhBiAFIAUoAgAiC0EBajYCACALIAY6AAAgCCAKLAABEMEEIQYgBSAFKAIAIgtBAWo2AgAgCyAGOgAAIApBAmoiCiEGA0AgBiACTw0CIAYsAAAQ2gUQ/QRFDQIgBkEBaiEGDAALAAsDQCAGIAJPDQEgBiwAABDaBRDzAUUNASAGQQFqIQYMAAsACwJAAkAgBxCzBUUNACAIIAogBiAFKAIAENkFGiAFIAUoAgAgBiAKa2o2AgAMAQsgCiAGEM4GQQAhDCAJEIQGIQ1BACEOIAohCwNAAkAgCyAGSQ0AIAMgCiAAa2ogBSgCABDOBgwCCwJAIAcgDhC6BSwAAEEBSA0AIAwgByAOELoFLAAARw0AIAUgBSgCACIMQQFqNgIAIAwgDToAACAOIA4gBxDHA0F/aklqIQ5BACEMCyAIIAssAAAQwQQhDyAFIAUoAgAiEEEBajYCACAQIA86AAAgC0EBaiELIAxBAWohDAwACwALA0ACQAJAIAYgAk8NACAGLQAAIgtBLkcNASAJEIMGIQsgBSAFKAIAIgxBAWo2AgAgDCALOgAAIAZBAWohBgsgCCAGIAIgBSgCABDZBRogBSAFKAIAIAIgBmtqIgY2AgAgBCAGIAMgASAAa2ogASACRhs2AgAgBxDADRogB0EQaiQADwsgCCALwBDBBCELIAUgBSgCACIMQQFqNgIAIAwgCzoAACAGQQFqIQYMAAsACwsAIABBABCnBiAACxQAIAAgASACIAMgBCAFQcwREKsGC7AEAQZ/IwBBgAJrIgckACAHQiU3A/gBIAdB+AFqQQFyIAYgAhDrAhCjBiEIIAcgB0HQAWo2AswBENoFIQYCQAJAIAhFDQAgAhCkBiEJIAdBwABqIAU3AwAgByAENwM4IAcgCTYCMCAHQdABakEeIAYgB0H4AWogB0EwahCYBiEGDAELIAcgBDcDUCAHIAU3A1ggB0HQAWpBHiAGIAdB+AFqIAdB0ABqEJgGIQYLIAdB9QA2AoABIAdBwAFqQQAgB0GAAWoQpQYhCiAHQdABaiILIQkCQAJAIAZBHkgNABDaBSEGAkACQCAIRQ0AIAIQpAYhCSAHQRBqIAU3AwAgByAENwMIIAcgCTYCACAHQcwBaiAGIAdB+AFqIAcQpgYhBgwBCyAHIAQ3AyAgByAFNwMoIAdBzAFqIAYgB0H4AWogB0EgahCmBiEGCyAGQX9GDQEgCiAHKALMARCnBiAHKALMASEJCyAJIAkgBmoiCCACEJkGIQwgB0H1ADYCgAEgB0H4AGpBACAHQYABahClBiEJAkACQCAHKALMASAHQdABakcNACAHQYABaiEGDAELIAZBAXQQpAIiBkUNASAJIAYQpwYgBygCzAEhCwsgB0HoAGogAhDIBCALIAwgCCAGIAdB9ABqIAdB8ABqIAdB6ABqEKgGIAdB6ABqEPUJGiABIAYgBygCdCAHKAJwIAIgAxDWASECIAkQqQYaIAoQqQYaIAdBgAJqJAAgAg8LEK0NAAuvAQEEfyMAQeAAayIFJAAQ2gUhBiAFIAQ2AgAgBUHAAGogBUHAAGogBUHAAGpBFCAGQYAMIAUQmAYiB2oiBCACEJkGIQYgBUEQaiACEMgEIAVBEGoQ7AIhCCAFQRBqEPUJGiAIIAVBwABqIAQgBUEQahDZBRogASAFQRBqIAcgBUEQamoiByAFQRBqIAYgBUHAAGpraiAGIARGGyAHIAIgAxDWASECIAVB4ABqJAAgAgsHACAAKAIMCzABAX8jAEEQayIDJAAgACADQQhqIAMQtQMiACABIAIQzw0gABC2AyADQRBqJAAgAAsUAQF/IAAoAgwhAiAAIAE2AgwgAgv1AQEBfyMAQTBrIgUkACAFIAE2AigCQAJAIAIQ6wJBAXENACAAIAEgAiADIAQgACgCACgCGBEKACECDAELIAVBGGogAhDIBCAFQRhqEOAFIQIgBUEYahD1CRoCQAJAIARFDQAgBUEYaiACEOEFDAELIAVBGGogAhDiBQsgBSAFQRhqELEGNgIQA0AgBSAFQRhqELIGNgIIAkAgBUEQaiAFQQhqELMGDQAgBSgCKCECIAVBGGoQ3Q0aDAILIAVBEGoQtAYoAgAhAiAFQShqEKUDIAIQpgMaIAVBEGoQtQYaIAVBKGoQpwMaDAALAAsgBUEwaiQAIAILKgEBfyMAQRBrIgEkACABQQhqIAAgABC2BhC3BigCACEAIAFBEGokACAACzMBAX8jAEEQayIBJAAgAUEIaiAAIAAQtgYgABDmBUECdGoQtwYoAgAhACABQRBqJAAgAAsMACAAIAEQuAZBAXMLBwAgACgCAAsRACAAIAAoAgBBBGo2AgAgAAsYAAJAIAAQ8gZFDQAgABCfCA8LIAAQoggLCwAgACACNgIAIAALDQAgABC+CCABEL4IRgsSACAAIAEgAiADIARBkQ0QugYLugEBAX8jAEGgAWsiBiQAIAZCJTcDmAEgBkGYAWpBAXIgBUEBIAIQ6wIQlwYQ2gUhBSAGIAQ2AgAgBkGLAWogBkGLAWogBkGLAWpBDSAFIAZBmAFqIAYQmAZqIgUgAhCZBiEEIAZBEGogAhDIBCAGQYsBaiAEIAUgBkEgaiAGQRxqIAZBGGogBkEQahC7BiAGQRBqEPUJGiABIAZBIGogBigCHCAGKAIYIAIgAxC8BiECIAZBoAFqJAAgAgvnAwEIfyMAQRBrIgckACAGEJsDIQggByAGEOAFIgYQigYCQAJAIAcQswVFDQAgCCAAIAIgAxCBBhogBSADIAIgAGtBAnRqIgY2AgAMAQsgBSADNgIAIAAhCQJAAkAgAC0AACIKQVVqDgMAAQABCyAIIArAEMMEIQogBSAFKAIAIgtBBGo2AgAgCyAKNgIAIABBAWohCQsCQCACIAlrQQJIDQAgCS0AAEEwRw0AIAktAAFBIHJB+ABHDQAgCEEwEMMEIQogBSAFKAIAIgtBBGo2AgAgCyAKNgIAIAggCSwAARDDBCEKIAUgBSgCACILQQRqNgIAIAsgCjYCACAJQQJqIQkLIAkgAhDOBkEAIQogBhCJBiEMQQAhCyAJIQYDQAJAIAYgAkkNACADIAkgAGtBAnRqIAUoAgAQ0AYgBSgCACEGDAILAkAgByALELoFLQAARQ0AIAogByALELoFLAAARw0AIAUgBSgCACIKQQRqNgIAIAogDDYCACALIAsgBxDHA0F/aklqIQtBACEKCyAIIAYsAAAQwwQhDSAFIAUoAgAiDkEEajYCACAOIA02AgAgBkEBaiEGIApBAWohCgwACwALIAQgBiADIAEgAGtBAnRqIAEgAkYbNgIAIAcQwA0aIAdBEGokAAvMAQEEfyMAQRBrIgYkAAJAAkAgAA0AQQAhBwwBCyAEEK0GIQhBACEHAkAgAiABayIJQQFIDQAgACABIAlBAnYiCRCoAyAJRw0BCwJAIAggAyABa0ECdSIHa0EAIAggB0obIgFBAUgNACAAIAYgASAFEMwGIgcQzQYgARCoAyEIIAcQ3Q0aQQAhByAIIAFHDQELAkAgAyACayIBQQFIDQBBACEHIAAgAiABQQJ2IgEQqAMgAUcNAQsgBEEAEK8GGiAAIQcLIAZBEGokACAHCxIAIAAgASACIAMgBEHyDBC+Bgu6AQECfyMAQYACayIGJAAgBkIlNwP4ASAGQfgBakEBciAFQQEgAhDrAhCXBhDaBSEFIAYgBDcDACAGQeABaiAGQeABaiAGQeABakEYIAUgBkH4AWogBhCYBmoiBSACEJkGIQcgBkEQaiACEMgEIAZB4AFqIAcgBSAGQSBqIAZBHGogBkEYaiAGQRBqELsGIAZBEGoQ9QkaIAEgBkEgaiAGKAIcIAYoAhggAiADELwGIQIgBkGAAmokACACCxIAIAAgASACIAMgBEGRDRDABgu6AQEBfyMAQaABayIGJAAgBkIlNwOYASAGQZgBakEBciAFQQAgAhDrAhCXBhDaBSEFIAYgBDYCACAGQYsBaiAGQYsBaiAGQYsBakENIAUgBkGYAWogBhCYBmoiBSACEJkGIQQgBkEQaiACEMgEIAZBiwFqIAQgBSAGQSBqIAZBHGogBkEYaiAGQRBqELsGIAZBEGoQ9QkaIAEgBkEgaiAGKAIcIAYoAhggAiADELwGIQIgBkGgAWokACACCxIAIAAgASACIAMgBEHyDBDCBgu6AQECfyMAQYACayIGJAAgBkIlNwP4ASAGQfgBakEBciAFQQAgAhDrAhCXBhDaBSEFIAYgBDcDACAGQeABaiAGQeABaiAGQeABakEYIAUgBkH4AWogBhCYBmoiBSACEJkGIQcgBkEQaiACEMgEIAZB4AFqIAcgBSAGQSBqIAZBHGogBkEYaiAGQRBqELsGIAZBEGoQ9QkaIAEgBkEgaiAGKAIcIAYoAhggAiADELwGIQIgBkGAAmokACACCxIAIAAgASACIAMgBEGBGhDEBguHBAEGfyMAQYADayIGJAAgBkIlNwP4AiAGQfgCakEBciAFIAIQ6wIQowYhByAGIAZB0AJqNgLMAhDaBSEFAkACQCAHRQ0AIAIQpAYhCCAGIAQ5AyggBiAINgIgIAZB0AJqQR4gBSAGQfgCaiAGQSBqEJgGIQUMAQsgBiAEOQMwIAZB0AJqQR4gBSAGQfgCaiAGQTBqEJgGIQULIAZB9QA2AlAgBkHAAmpBACAGQdAAahClBiEJIAZB0AJqIgohCAJAAkAgBUEeSA0AENoFIQUCQAJAIAdFDQAgAhCkBiEIIAYgBDkDCCAGIAg2AgAgBkHMAmogBSAGQfgCaiAGEKYGIQUMAQsgBiAEOQMQIAZBzAJqIAUgBkH4AmogBkEQahCmBiEFCyAFQX9GDQEgCSAGKALMAhCnBiAGKALMAiEICyAIIAggBWoiByACEJkGIQsgBkH1ADYCUCAGQcgAakEAIAZB0ABqEMUGIQgCQAJAIAYoAswCIAZB0AJqRw0AIAZB0ABqIQUMAQsgBUEDdBCkAiIFRQ0BIAggBRDGBiAGKALMAiEKCyAGQThqIAIQyAQgCiALIAcgBSAGQcQAaiAGQcAAaiAGQThqEMcGIAZBOGoQ9QkaIAEgBSAGKAJEIAYoAkAgAiADELwGIQIgCBDIBhogCRCpBhogBkGAA2okACACDwsQrQ0ACysBAX8jAEEQayIDJAAgAyABNgIMIAAgA0EMaiACEI0IIQEgA0EQaiQAIAELLQEBfyAAENgIKAIAIQIgABDYCCABNgIAAkAgAkUNACACIAAQ2QgoAgARAwALC9MFAQp/IwBBEGsiByQAIAYQmwMhCCAHIAYQ4AUiCRCKBiAFIAM2AgAgACEKAkACQCAALQAAIgZBVWoOAwABAAELIAggBsAQwwQhBiAFIAUoAgAiC0EEajYCACALIAY2AgAgAEEBaiEKCyAKIQYCQAJAIAIgCmtBAUwNACAKIQYgCi0AAEEwRw0AIAohBiAKLQABQSByQfgARw0AIAhBMBDDBCEGIAUgBSgCACILQQRqNgIAIAsgBjYCACAIIAosAAEQwwQhBiAFIAUoAgAiC0EEajYCACALIAY2AgAgCkECaiIKIQYDQCAGIAJPDQIgBiwAABDaBRD9BEUNAiAGQQFqIQYMAAsACwNAIAYgAk8NASAGLAAAENoFEPMBRQ0BIAZBAWohBgwACwALAkACQCAHELMFRQ0AIAggCiAGIAUoAgAQgQYaIAUgBSgCACAGIAprQQJ0ajYCAAwBCyAKIAYQzgZBACEMIAkQiQYhDUEAIQ4gCiELA0ACQCALIAZJDQAgAyAKIABrQQJ0aiAFKAIAENAGDAILAkAgByAOELoFLAAAQQFIDQAgDCAHIA4QugUsAABHDQAgBSAFKAIAIgxBBGo2AgAgDCANNgIAIA4gDiAHEMcDQX9qSWohDkEAIQwLIAggCywAABDDBCEPIAUgBSgCACIQQQRqNgIAIBAgDzYCACALQQFqIQsgDEEBaiEMDAALAAsCQAJAA0AgBiACTw0BAkAgBi0AACILQS5GDQAgCCALwBDDBCELIAUgBSgCACIMQQRqNgIAIAwgCzYCACAGQQFqIQYMAQsLIAkQiAYhDCAFIAUoAgAiDkEEaiILNgIAIA4gDDYCACAGQQFqIQYMAQsgBSgCACELCyAIIAYgAiALEIEGGiAFIAUoAgAgAiAGa0ECdGoiBjYCACAEIAYgAyABIABrQQJ0aiABIAJGGzYCACAHEMANGiAHQRBqJAALCwAgAEEAEMYGIAALFAAgACABIAIgAyAEIAVBzBEQygYLsAQBBn8jAEGwA2siByQAIAdCJTcDqAMgB0GoA2pBAXIgBiACEOsCEKMGIQggByAHQYADajYC/AIQ2gUhBgJAAkAgCEUNACACEKQGIQkgB0HAAGogBTcDACAHIAQ3AzggByAJNgIwIAdBgANqQR4gBiAHQagDaiAHQTBqEJgGIQYMAQsgByAENwNQIAcgBTcDWCAHQYADakEeIAYgB0GoA2ogB0HQAGoQmAYhBgsgB0H1ADYCgAEgB0HwAmpBACAHQYABahClBiEKIAdBgANqIgshCQJAAkAgBkEeSA0AENoFIQYCQAJAIAhFDQAgAhCkBiEJIAdBEGogBTcDACAHIAQ3AwggByAJNgIAIAdB/AJqIAYgB0GoA2ogBxCmBiEGDAELIAcgBDcDICAHIAU3AyggB0H8AmogBiAHQagDaiAHQSBqEKYGIQYLIAZBf0YNASAKIAcoAvwCEKcGIAcoAvwCIQkLIAkgCSAGaiIIIAIQmQYhDCAHQfUANgKAASAHQfgAakEAIAdBgAFqEMUGIQkCQAJAIAcoAvwCIAdBgANqRw0AIAdBgAFqIQYMAQsgBkEDdBCkAiIGRQ0BIAkgBhDGBiAHKAL8AiELCyAHQegAaiACEMgEIAsgDCAIIAYgB0H0AGogB0HwAGogB0HoAGoQxwYgB0HoAGoQ9QkaIAEgBiAHKAJ0IAcoAnAgAiADELwGIQIgCRDIBhogChCpBhogB0GwA2okACACDwsQrQ0AC7UBAQR/IwBB0AFrIgUkABDaBSEGIAUgBDYCACAFQbABaiAFQbABaiAFQbABakEUIAZBgAwgBRCYBiIHaiIEIAIQmQYhBiAFQRBqIAIQyAQgBUEQahCbAyEIIAVBEGoQ9QkaIAggBUGwAWogBCAFQRBqEIEGGiABIAVBEGogBUEQaiAHQQJ0aiIHIAVBEGogBiAFQbABamtBAnRqIAYgBEYbIAcgAiADELwGIQIgBUHQAWokACACCzABAX8jAEEQayIDJAAgACADQQhqIAMQpAUiACABIAIQ5w0gABCmBSADQRBqJAAgAAsKACAAELYGEIgECwkAIAAgARDPBgsJACAAIAEQzwsLCQAgACABENEGCwkAIAAgARDSCwvqAwEEfyMAQSBrIggkACAIIAI2AhAgCCABNgIYIAhBCGogAxDIBCAIQQhqEOwCIQIgCEEIahD1CRogBEEANgIAQQAhAQJAA0AgBiAHRg0BIAENAQJAIAhBGGogCEEQahDtAg0AAkACQCACIAYsAABBABDTBkElRw0AIAZBAWoiASAHRg0CQQAhCQJAAkAgAiABLAAAQQAQ0wYiCkHFAEYNACAKQf8BcUEwRg0AIAohCyAGIQEMAQsgBkECaiIGIAdGDQMgAiAGLAAAQQAQ0wYhCyAKIQkLIAggACAIKAIYIAgoAhAgAyAEIAUgCyAJIAAoAgAoAiQRDgA2AhggAUECaiEGDAELAkAgAkEBIAYsAAAQ7wJFDQACQANAAkAgBkEBaiIGIAdHDQAgByEGDAILIAJBASAGLAAAEO8CDQALCwNAIAhBGGogCEEQahDtAg0CIAJBASAIQRhqEO4CEO8CRQ0CIAhBGGoQ8AIaDAALAAsCQCACIAhBGGoQ7gIQsQUgAiAGLAAAELEFRw0AIAZBAWohBiAIQRhqEPACGgwBCyAEQQQ2AgALIAQoAgAhAQwBCwsgBEEENgIACwJAIAhBGGogCEEQahDtAkUNACAEIAQoAgBBAnI2AgALIAgoAhghBiAIQSBqJAAgBgsTACAAIAEgAiAAKAIAKAIkEQQACwQAQQILQQEBfyMAQRBrIgYkACAGQqWQ6anSyc6S0wA3AwggACABIAIgAyAEIAUgBkEIaiAGQRBqENIGIQUgBkEQaiQAIAULMwEBfyAAIAEgAiADIAQgBSAAQQhqIAAoAggoAhQRAAAiBhDMAyAGEMwDIAYQxwNqENIGC00BAX8jAEEQayIGJAAgBiABNgIIIAYgAxDIBCAGEOwCIQEgBhD1CRogACAFQRhqIAZBCGogAiAEIAEQ2AYgBigCCCEBIAZBEGokACABC0IAAkAgAiADIABBCGogACgCCCgCABEAACIAIABBqAFqIAUgBEEAEKwFIABrIgBBpwFKDQAgASAAQQxtQQdvNgIACwtNAQF/IwBBEGsiBiQAIAYgATYCCCAGIAMQyAQgBhDsAiEBIAYQ9QkaIAAgBUEQaiAGQQhqIAIgBCABENoGIAYoAgghASAGQRBqJAAgAQtCAAJAIAIgAyAAQQhqIAAoAggoAgQRAAAiACAAQaACaiAFIARBABCsBSAAayIAQZ8CSg0AIAEgAEEMbUEMbzYCAAsLTQEBfyMAQRBrIgYkACAGIAE2AgggBiADEMgEIAYQ7AIhASAGEPUJGiAAIAVBFGogBkEIaiACIAQgARDcBiAGKAIIIQEgBkEQaiQAIAELQwAgAiADIAQgBUEEEN0GIQUCQCAELQAAQQRxDQAgASAFQdAPaiAFQewOaiAFIAVB5ABIGyAFQcUASBtBlHFqNgIACwvJAQEDfyMAQRBrIgUkACAFIAE2AghBACEBQQYhBgJAAkAgACAFQQhqEO0CDQBBBCEGIANBwAAgABDuAiIHEO8CRQ0AIAMgB0EAENMGIQECQANAIAAQ8AIaIAFBUGohASAAIAVBCGoQ7QINASAEQQJIDQEgA0HAACAAEO4CIgYQ7wJFDQMgBEF/aiEEIAFBCmwgAyAGQQAQ0wZqIQEMAAsAC0ECIQYgACAFQQhqEO0CRQ0BCyACIAIoAgAgBnI2AgALIAVBEGokACABC8EHAQJ/IwBBIGsiCCQAIAggATYCGCAEQQA2AgAgCEEIaiADEMgEIAhBCGoQ7AIhCSAIQQhqEPUJGgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAGQb9/ag45AAEXBBcFFwYHFxcXChcXFxcODxAXFxcTFRcXFxcXFxcAAQIDAxcXARcIFxcJCxcMFw0XCxcXERIUFgsgACAFQRhqIAhBGGogAiAEIAkQ2AYMGAsgACAFQRBqIAhBGGogAiAEIAkQ2gYMFwsgCCAAIAEgAiADIAQgBSAAQQhqIAAoAggoAgwRAAAiBhDMAyAGEMwDIAYQxwNqENIGNgIYDBYLIAAgBUEMaiAIQRhqIAIgBCAJEN8GDBULIAhCpdq9qcLsy5L5ADcDCCAIIAAgASACIAMgBCAFIAhBCGogCEEQahDSBjYCGAwUCyAIQqWytanSrcuS5AA3AwggCCAAIAEgAiADIAQgBSAIQQhqIAhBEGoQ0gY2AhgMEwsgACAFQQhqIAhBGGogAiAEIAkQ4AYMEgsgACAFQQhqIAhBGGogAiAEIAkQ4QYMEQsgACAFQRxqIAhBGGogAiAEIAkQ4gYMEAsgACAFQRBqIAhBGGogAiAEIAkQ4wYMDwsgACAFQQRqIAhBGGogAiAEIAkQ5AYMDgsgACAIQRhqIAIgBCAJEOUGDA0LIAAgBUEIaiAIQRhqIAIgBCAJEOYGDAwLIAhBACgAuGc2AA8gCEEAKQCxZzcDCCAIIAAgASACIAMgBCAFIAhBCGogCEETahDSBjYCGAwLCyAIQQxqQQAtAMBnOgAAIAhBACgAvGc2AgggCCAAIAEgAiADIAQgBSAIQQhqIAhBDWoQ0gY2AhgMCgsgACAFIAhBGGogAiAEIAkQ5wYMCQsgCEKlkOmp0snOktMANwMIIAggACABIAIgAyAEIAUgCEEIaiAIQRBqENIGNgIYDAgLIAAgBUEYaiAIQRhqIAIgBCAJEOgGDAcLIAAgASACIAMgBCAFIAAoAgAoAhQRBwAhBAwHCyAIIAAgASACIAMgBCAFIABBCGogACgCCCgCGBEAACIGEMwDIAYQzAMgBhDHA2oQ0gY2AhgMBQsgACAFQRRqIAhBGGogAiAEIAkQ3AYMBAsgACAFQRRqIAhBGGogAiAEIAkQ6QYMAwsgBkElRg0BCyAEIAQoAgBBBHI2AgAMAQsgACAIQRhqIAIgBCAJEOoGCyAIKAIYIQQLIAhBIGokACAECz4AIAIgAyAEIAVBAhDdBiEFIAQoAgAhAwJAIAVBf2pBHksNACADQQRxDQAgASAFNgIADwsgBCADQQRyNgIACzsAIAIgAyAEIAVBAhDdBiEFIAQoAgAhAwJAIAVBF0oNACADQQRxDQAgASAFNgIADwsgBCADQQRyNgIACz4AIAIgAyAEIAVBAhDdBiEFIAQoAgAhAwJAIAVBf2pBC0sNACADQQRxDQAgASAFNgIADwsgBCADQQRyNgIACzwAIAIgAyAEIAVBAxDdBiEFIAQoAgAhAwJAIAVB7QJKDQAgA0EEcQ0AIAEgBTYCAA8LIAQgA0EEcjYCAAtAACACIAMgBCAFQQIQ3QYhAyAEKAIAIQUCQCADQX9qIgNBC0sNACAFQQRxDQAgASADNgIADwsgBCAFQQRyNgIACzsAIAIgAyAEIAVBAhDdBiEFIAQoAgAhAwJAIAVBO0oNACADQQRxDQAgASAFNgIADwsgBCADQQRyNgIAC2IBAX8jAEEQayIFJAAgBSACNgIIAkADQCABIAVBCGoQ7QINASAEQQEgARDuAhDvAkUNASABEPACGgwACwALAkAgASAFQQhqEO0CRQ0AIAMgAygCAEECcjYCAAsgBUEQaiQAC4oBAAJAIABBCGogACgCCCgCCBEAACIAEMcDQQAgAEEMahDHA2tHDQAgBCAEKAIAQQRyNgIADwsgAiADIAAgAEEYaiAFIARBABCsBSEEIAEoAgAhBQJAIAQgAEcNACAFQQxHDQAgAUEANgIADwsCQCAEIABrQQxHDQAgBUELSg0AIAEgBUEMajYCAAsLOwAgAiADIAQgBUECEN0GIQUgBCgCACEDAkAgBUE8Sg0AIANBBHENACABIAU2AgAPCyAEIANBBHI2AgALOwAgAiADIAQgBUEBEN0GIQUgBCgCACEDAkAgBUEGSg0AIANBBHENACABIAU2AgAPCyAEIANBBHI2AgALKQAgAiADIAQgBUEEEN0GIQUCQCAELQAAQQRxDQAgASAFQZRxajYCAAsLZwEBfyMAQRBrIgUkACAFIAI2AghBBiECAkACQCABIAVBCGoQ7QINAEEEIQIgBCABEO4CQQAQ0wZBJUcNAEECIQIgARDwAiAFQQhqEO0CRQ0BCyADIAMoAgAgAnI2AgALIAVBEGokAAvqAwEEfyMAQSBrIggkACAIIAI2AhAgCCABNgIYIAhBCGogAxDIBCAIQQhqEJsDIQIgCEEIahD1CRogBEEANgIAQQAhAQJAA0AgBiAHRg0BIAENAQJAIAhBGGogCEEQahCcAw0AAkACQCACIAYoAgBBABDsBkElRw0AIAZBBGoiASAHRg0CQQAhCQJAAkAgAiABKAIAQQAQ7AYiCkHFAEYNACAKQf8BcUEwRg0AIAohCyAGIQEMAQsgBkEIaiIGIAdGDQMgAiAGKAIAQQAQ7AYhCyAKIQkLIAggACAIKAIYIAgoAhAgAyAEIAUgCyAJIAAoAgAoAiQRDgA2AhggAUEIaiEGDAELAkAgAkEBIAYoAgAQngNFDQACQANAAkAgBkEEaiIGIAdHDQAgByEGDAILIAJBASAGKAIAEJ4DDQALCwNAIAhBGGogCEEQahCcAw0CIAJBASAIQRhqEJ0DEJ4DRQ0CIAhBGGoQnwMaDAALAAsCQCACIAhBGGoQnQMQ5QUgAiAGKAIAEOUFRw0AIAZBBGohBiAIQRhqEJ8DGgwBCyAEQQQ2AgALIAQoAgAhAQwBCwsgBEEENgIACwJAIAhBGGogCEEQahCcA0UNACAEIAQoAgBBAnI2AgALIAgoAhghBiAIQSBqJAAgBgsTACAAIAEgAiAAKAIAKAI0EQQACwQAQQILYAEBfyMAQSBrIgYkACAGQRhqQQApA/hoNwMAIAZBEGpBACkD8Gg3AwAgBkEAKQPoaDcDCCAGQQApA+BoNwMAIAAgASACIAMgBCAFIAYgBkEgahDrBiEFIAZBIGokACAFCzYBAX8gACABIAIgAyAEIAUgAEEIaiAAKAIIKAIUEQAAIgYQ8AYgBhDwBiAGEOYFQQJ0ahDrBgsKACAAEPEGEIcECxgAAkAgABDyBkUNACAAEMkHDwsgABDWCwsNACAAEMcHLQALQQd2CwoAIAAQxwcoAgQLDgAgABDHBy0AC0H/AHELTQEBfyMAQRBrIgYkACAGIAE2AgggBiADEMgEIAYQmwMhASAGEPUJGiAAIAVBGGogBkEIaiACIAQgARD2BiAGKAIIIQEgBkEQaiQAIAELQgACQCACIAMgAEEIaiAAKAIIKAIAEQAAIgAgAEGoAWogBSAEQQAQ4wUgAGsiAEGnAUoNACABIABBDG1BB282AgALC00BAX8jAEEQayIGJAAgBiABNgIIIAYgAxDIBCAGEJsDIQEgBhD1CRogACAFQRBqIAZBCGogAiAEIAEQ+AYgBigCCCEBIAZBEGokACABC0IAAkAgAiADIABBCGogACgCCCgCBBEAACIAIABBoAJqIAUgBEEAEOMFIABrIgBBnwJKDQAgASAAQQxtQQxvNgIACwtNAQF/IwBBEGsiBiQAIAYgATYCCCAGIAMQyAQgBhCbAyEBIAYQ9QkaIAAgBUEUaiAGQQhqIAIgBCABEPoGIAYoAgghASAGQRBqJAAgAQtDACACIAMgBCAFQQQQ+wYhBQJAIAQtAABBBHENACABIAVB0A9qIAVB7A5qIAUgBUHkAEgbIAVBxQBIG0GUcWo2AgALC8kBAQN/IwBBEGsiBSQAIAUgATYCCEEAIQFBBiEGAkACQCAAIAVBCGoQnAMNAEEEIQYgA0HAACAAEJ0DIgcQngNFDQAgAyAHQQAQ7AYhAQJAA0AgABCfAxogAUFQaiEBIAAgBUEIahCcAw0BIARBAkgNASADQcAAIAAQnQMiBhCeA0UNAyAEQX9qIQQgAUEKbCADIAZBABDsBmohAQwACwALQQIhBiAAIAVBCGoQnANFDQELIAIgAigCACAGcjYCAAsgBUEQaiQAIAELmQgBAn8jAEHAAGsiCCQAIAggATYCOCAEQQA2AgAgCCADEMgEIAgQmwMhCSAIEPUJGgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAGQb9/ag45AAEXBBcFFwYHFxcXChcXFxcODxAXFxcTFRcXFxcXFxcAAQIDAxcXARcIFxcJCxcMFw0XCxcXERIUFgsgACAFQRhqIAhBOGogAiAEIAkQ9gYMGAsgACAFQRBqIAhBOGogAiAEIAkQ+AYMFwsgCCAAIAEgAiADIAQgBSAAQQhqIAAoAggoAgwRAAAiBhDwBiAGEPAGIAYQ5gVBAnRqEOsGNgI4DBYLIAAgBUEMaiAIQThqIAIgBCAJEP0GDBULIAhBGGpBACkD6Gc3AwAgCEEQakEAKQPgZzcDACAIQQApA9hnNwMIIAhBACkD0Gc3AwAgCCAAIAEgAiADIAQgBSAIIAhBIGoQ6wY2AjgMFAsgCEEYakEAKQOIaDcDACAIQRBqQQApA4BoNwMAIAhBACkD+Gc3AwggCEEAKQPwZzcDACAIIAAgASACIAMgBCAFIAggCEEgahDrBjYCOAwTCyAAIAVBCGogCEE4aiACIAQgCRD+BgwSCyAAIAVBCGogCEE4aiACIAQgCRD/BgwRCyAAIAVBHGogCEE4aiACIAQgCRCABwwQCyAAIAVBEGogCEE4aiACIAQgCRCBBwwPCyAAIAVBBGogCEE4aiACIAQgCRCCBwwOCyAAIAhBOGogAiAEIAkQgwcMDQsgACAFQQhqIAhBOGogAiAEIAkQhAcMDAsgCEGQ6ABBLBDnASEGIAYgACABIAIgAyAEIAUgBiAGQSxqEOsGNgI4DAsLIAhBEGpBACgC0Gg2AgAgCEEAKQPIaDcDCCAIQQApA8BoNwMAIAggACABIAIgAyAEIAUgCCAIQRRqEOsGNgI4DAoLIAAgBSAIQThqIAIgBCAJEIUHDAkLIAhBGGpBACkD+Gg3AwAgCEEQakEAKQPwaDcDACAIQQApA+hoNwMIIAhBACkD4Gg3AwAgCCAAIAEgAiADIAQgBSAIIAhBIGoQ6wY2AjgMCAsgACAFQRhqIAhBOGogAiAEIAkQhgcMBwsgACABIAIgAyAEIAUgACgCACgCFBEHACEEDAcLIAggACABIAIgAyAEIAUgAEEIaiAAKAIIKAIYEQAAIgYQ8AYgBhDwBiAGEOYFQQJ0ahDrBjYCOAwFCyAAIAVBFGogCEE4aiACIAQgCRD6BgwECyAAIAVBFGogCEE4aiACIAQgCRCHBwwDCyAGQSVGDQELIAQgBCgCAEEEcjYCAAwBCyAAIAhBOGogAiAEIAkQiAcLIAgoAjghBAsgCEHAAGokACAECz4AIAIgAyAEIAVBAhD7BiEFIAQoAgAhAwJAIAVBf2pBHksNACADQQRxDQAgASAFNgIADwsgBCADQQRyNgIACzsAIAIgAyAEIAVBAhD7BiEFIAQoAgAhAwJAIAVBF0oNACADQQRxDQAgASAFNgIADwsgBCADQQRyNgIACz4AIAIgAyAEIAVBAhD7BiEFIAQoAgAhAwJAIAVBf2pBC0sNACADQQRxDQAgASAFNgIADwsgBCADQQRyNgIACzwAIAIgAyAEIAVBAxD7BiEFIAQoAgAhAwJAIAVB7QJKDQAgA0EEcQ0AIAEgBTYCAA8LIAQgA0EEcjYCAAtAACACIAMgBCAFQQIQ+wYhAyAEKAIAIQUCQCADQX9qIgNBC0sNACAFQQRxDQAgASADNgIADwsgBCAFQQRyNgIACzsAIAIgAyAEIAVBAhD7BiEFIAQoAgAhAwJAIAVBO0oNACADQQRxDQAgASAFNgIADwsgBCADQQRyNgIAC2IBAX8jAEEQayIFJAAgBSACNgIIAkADQCABIAVBCGoQnAMNASAEQQEgARCdAxCeA0UNASABEJ8DGgwACwALAkAgASAFQQhqEJwDRQ0AIAMgAygCAEECcjYCAAsgBUEQaiQAC4oBAAJAIABBCGogACgCCCgCCBEAACIAEOYFQQAgAEEMahDmBWtHDQAgBCAEKAIAQQRyNgIADwsgAiADIAAgAEEYaiAFIARBABDjBSEEIAEoAgAhBQJAIAQgAEcNACAFQQxHDQAgAUEANgIADwsCQCAEIABrQQxHDQAgBUELSg0AIAEgBUEMajYCAAsLOwAgAiADIAQgBUECEPsGIQUgBCgCACEDAkAgBUE8Sg0AIANBBHENACABIAU2AgAPCyAEIANBBHI2AgALOwAgAiADIAQgBUEBEPsGIQUgBCgCACEDAkAgBUEGSg0AIANBBHENACABIAU2AgAPCyAEIANBBHI2AgALKQAgAiADIAQgBUEEEPsGIQUCQCAELQAAQQRxDQAgASAFQZRxajYCAAsLZwEBfyMAQRBrIgUkACAFIAI2AghBBiECAkACQCABIAVBCGoQnAMNAEEEIQIgBCABEJ0DQQAQ7AZBJUcNAEECIQIgARCfAyAFQQhqEJwDRQ0BCyADIAMoAgAgAnI2AgALIAVBEGokAAtMAQF/IwBBgAFrIgckACAHIAdB9ABqNgIMIABBCGogB0EQaiAHQQxqIAQgBSAGEIoHIAdBEGogBygCDCABEIsHIQAgB0GAAWokACAAC2cBAX8jAEEQayIGJAAgBkEAOgAPIAYgBToADiAGIAQ6AA0gBkElOgAMAkAgBUUNACAGQQ1qIAZBDmoQjAcLIAIgASABIAEgAigCABCNByAGQQxqIAMgACgCABAQajYCACAGQRBqJAALKwEBfyMAQRBrIgMkACADQQhqIAAgASACEI4HIAMoAgwhAiADQRBqJAAgAgscAQF/IAAtAAAhAiAAIAEtAAA6AAAgASACOgAACwcAIAEgAGsLZAEBfyMAQSBrIgQkACAEQRhqIAEgAhDYCyAEQRBqIAQoAhggBCgCHCADENkLENoLIAQgASAEKAIQENsLNgIMIAQgAyAEKAIUENwLNgIIIAAgBEEMaiAEQQhqEN0LIARBIGokAAtMAQF/IwBBoANrIgckACAHIAdBoANqNgIMIABBCGogB0EQaiAHQQxqIAQgBSAGEJAHIAdBEGogBygCDCABEJEHIQAgB0GgA2okACAAC4IBAQF/IwBBkAFrIgYkACAGIAZBhAFqNgIcIAAgBkEgaiAGQRxqIAMgBCAFEIoHIAZCADcDECAGIAZBIGo2AgwCQCABIAZBDGogASACKAIAEJIHIAZBEGogACgCABCTByIAQX9HDQAgBhCUBwALIAIgASAAQQJ0ajYCACAGQZABaiQACysBAX8jAEEQayIDJAAgA0EIaiAAIAEgAhCVByADKAIMIQIgA0EQaiQAIAILCgAgASAAa0ECdQs/AQF/IwBBEGsiBSQAIAUgBDYCDCAFQQhqIAVBDGoQ3QUhBCAAIAEgAiADEIUFIQMgBBDeBRogBUEQaiQAIAMLBQAQCwALZAEBfyMAQSBrIgQkACAEQRhqIAEgAhDkCyAEQRBqIAQoAhggBCgCHCADEOULEOYLIAQgASAEKAIQEOcLNgIMIAQgAyAEKAIUEOgLNgIIIAAgBEEMaiAEQQhqEOkLIARBIGokAAsFABCXBwsFABCYBwsFAEH/AAsFABCXBwsIACAAEKkDGgsIACAAEKkDGgsIACAAEKkDGgsMACAAQQFBLRCuBhoLBABBAAsMACAAQYKGgCA2AAALDAAgAEGChoAgNgAACwUAEJcHCwUAEJcHCwgAIAAQqQMaCwgAIAAQqQMaCwgAIAAQqQMaCwwAIABBAUEtEK4GGgsEAEEACwwAIABBgoaAIDYAAAsMACAAQYKGgCA2AAALBQAQqwcLBQAQrAcLCABB/////wcLBQAQqwcLCAAgABCpAxoLCAAgABCwBxoLLAEBfyMAQRBrIgEkACAAIAFBCGogARCkBSIAEKYFIAAQsQcgAUEQaiQAIAALBwAgABDwCwsIACAAELAHGgsMACAAQQFBLRDMBhoLBABBAAsMACAAQYKGgCA2AAALDAAgAEGChoAgNgAACwUAEKsHCwUAEKsHCwgAIAAQqQMaCwgAIAAQsAcaCwgAIAAQsAcaCwwAIABBAUEtEMwGGgsEAEEACwwAIABBgoaAIDYAAAsMACAAQYKGgCA2AAALeAECfyMAQRBrIgIkACABEMQDEMEHIAAgAkEIaiACEMIHIQACQAJAIAEQvAMNACABEMsDIQEgABC+AyIDQQhqIAFBCGooAgA2AgAgAyABKQIANwIADAELIAAgARC6BBD0AyABEM0DEMYNCyAAELYDIAJBEGokACAACwIACwwAIAAQiwQgAhDxCwt4AQJ/IwBBEGsiAiQAIAEQxAcQxQcgACACQQhqIAIQxgchAAJAAkAgARDyBg0AIAEQxwchASAAEMgHIgNBCGogAUEIaigCADYCACADIAEpAgA3AgAMAQsgACABEMkHEIcEIAEQ8wYQ4w0LIAAQpgUgAkEQaiQAIAALBwAgABDDCwsCAAsMACAAELALIAIQ8gsLBwAgABDOCwsHACAAEMULCwoAIAAQxwcoAgALhAQBAn8jAEGgAmsiByQAIAcgAjYCkAIgByABNgKYAiAHQfYANgIQIAdBmAFqIAdBoAFqIAdBEGoQpQYhASAHQZABaiAEEMgEIAdBkAFqEOwCIQggB0EAOgCPAQJAIAdBmAJqIAIgAyAHQZABaiAEEOsCIAUgB0GPAWogCCABIAdBlAFqIAdBhAJqEMwHRQ0AIAdBACgA/Rc2AIcBIAdBACkA9hc3A4ABIAggB0GAAWogB0GKAWogB0H2AGoQ2QUaIAdB9QA2AhAgB0EIakEAIAdBEGoQpQYhCCAHQRBqIQQCQAJAIAcoApQBIAEQzQdrQeMASA0AIAggBygClAEgARDNB2tBAmoQpAIQpwYgCBDNB0UNASAIEM0HIQQLAkAgBy0AjwFFDQAgBEEtOgAAIARBAWohBAsgARDNByECAkADQAJAIAIgBygClAFJDQAgBEEAOgAAIAcgBjYCACAHQRBqQagOIAcQ/gRBAUcNAiAIEKkGGgwECyAEIAdBgAFqIAdB9gBqIAdB9gBqEM4HIAIQhgYgB0H2AGprai0AADoAACAEQQFqIQQgAkEBaiECDAALAAsgBxCUBwALEK0NAAsCQCAHQZgCaiAHQZACahDtAkUNACAFIAUoAgBBAnI2AgALIAcoApgCIQIgB0GQAWoQ9QkaIAEQqQYaIAdBoAJqJAAgAgsCAAu0DgEIfyMAQbAEayILJAAgCyAKNgKkBCALIAE2AqgEAkACQCAAIAtBqARqEO0CRQ0AIAUgBSgCAEEEcjYCAEEAIQAMAQsgC0H2ADYCaCALIAtBiAFqIAtBkAFqIAtB6ABqENAHIgwQ0QciCjYChAEgCyAKQZADajYCgAEgC0HoAGoQqQMhDSALQdgAahCpAyEOIAtByABqEKkDIQ8gC0E4ahCpAyEQIAtBKGoQqQMhESACIAMgC0H4AGogC0H3AGogC0H2AGogDSAOIA8gECALQSRqENIHIAkgCBDNBzYCACAEQYAEcSESQQAhA0EAIQEDQCABIQICQAJAAkACQCADQQRGDQAgACALQagEahDtAg0AQQAhCiACIQECQAJAAkACQAJAAkAgC0H4AGogA2osAAAOBQEABAMFCQsgA0EDRg0HAkAgB0EBIAAQ7gIQ7wJFDQAgC0EYaiAAQQAQ0wcgESALQRhqENQHENMNDAILIAUgBSgCAEEEcjYCAEEAIQAMBgsgA0EDRg0GCwNAIAAgC0GoBGoQ7QINBiAHQQEgABDuAhDvAkUNBiALQRhqIABBABDTByARIAtBGGoQ1AcQ0w0MAAsACwJAIA8QxwNFDQAgABDuAkH/AXEgD0EAELoFLQAARw0AIAAQ8AIaIAZBADoAACAPIAIgDxDHA0EBSxshAQwGCwJAIBAQxwNFDQAgABDuAkH/AXEgEEEAELoFLQAARw0AIAAQ8AIaIAZBAToAACAQIAIgEBDHA0EBSxshAQwGCwJAIA8QxwNFDQAgEBDHA0UNACAFIAUoAgBBBHI2AgBBACEADAQLAkAgDxDHAw0AIBAQxwNFDQULIAYgEBDHA0U6AAAMBAsCQCACDQAgA0ECSQ0AIBINAEEAIQEgA0ECRiALLQB7QQBHcUUNBQsgCyAOEI4GNgIQIAtBGGogC0EQakEAENUHIQoCQCADRQ0AIAMgC0H4AGpqQX9qLQAAQQFLDQACQANAIAsgDhCPBjYCECAKIAtBEGoQ1gdFDQEgB0EBIAoQ1wcsAAAQ7wJFDQEgChDYBxoMAAsACyALIA4QjgY2AhACQCAKIAtBEGoQ2QciASAREMcDSw0AIAsgERCPBjYCECALQRBqIAEQ2gcgERCPBiAOEI4GENsHDQELIAsgDhCOBjYCCCAKIAtBEGogC0EIakEAENUHKAIANgIACyALIAooAgA2AhACQANAIAsgDhCPBjYCCCALQRBqIAtBCGoQ1gdFDQEgACALQagEahDtAg0BIAAQ7gJB/wFxIAtBEGoQ1wctAABHDQEgABDwAhogC0EQahDYBxoMAAsACyASRQ0DIAsgDhCPBjYCCCALQRBqIAtBCGoQ1gdFDQMgBSAFKAIAQQRyNgIAQQAhAAwCCwJAA0AgACALQagEahDtAg0BAkACQCAHQcAAIAAQ7gIiARDvAkUNAAJAIAkoAgAiBCALKAKkBEcNACAIIAkgC0GkBGoQ3AcgCSgCACEECyAJIARBAWo2AgAgBCABOgAAIApBAWohCgwBCyANEMcDRQ0CIApFDQIgAUH/AXEgCy0AdkH/AXFHDQICQCALKAKEASIBIAsoAoABRw0AIAwgC0GEAWogC0GAAWoQ3QcgCygChAEhAQsgCyABQQRqNgKEASABIAo2AgBBACEKCyAAEPACGgwACwALAkAgDBDRByALKAKEASIBRg0AIApFDQACQCABIAsoAoABRw0AIAwgC0GEAWogC0GAAWoQ3QcgCygChAEhAQsgCyABQQRqNgKEASABIAo2AgALAkAgCygCJEEBSA0AAkACQCAAIAtBqARqEO0CDQAgABDuAkH/AXEgCy0Ad0YNAQsgBSAFKAIAQQRyNgIAQQAhAAwDCwNAIAAQ8AIaIAsoAiRBAUgNAQJAAkAgACALQagEahDtAg0AIAdBwAAgABDuAhDvAg0BCyAFIAUoAgBBBHI2AgBBACEADAQLAkAgCSgCACALKAKkBEcNACAIIAkgC0GkBGoQ3AcLIAAQ7gIhCiAJIAkoAgAiAUEBajYCACABIAo6AAAgCyALKAIkQX9qNgIkDAALAAsgAiEBIAkoAgAgCBDNB0cNAyAFIAUoAgBBBHI2AgBBACEADAELAkAgAkUNAEEBIQoDQCAKIAIQxwNPDQECQAJAIAAgC0GoBGoQ7QINACAAEO4CQf8BcSACIAoQsgUtAABGDQELIAUgBSgCAEEEcjYCAEEAIQAMAwsgABDwAhogCkEBaiEKDAALAAtBASEAIAwQ0QcgCygChAFGDQBBACEAIAtBADYCGCANIAwQ0QcgCygChAEgC0EYahC9BQJAIAsoAhhFDQAgBSAFKAIAQQRyNgIADAELQQEhAAsgERDADRogEBDADRogDxDADRogDhDADRogDRDADRogDBDeBxoMAwsgAiEBCyADQQFqIQMMAAsACyALQbAEaiQAIAALCgAgABDfBygCAAsHACAAQQpqCxYAIAAgARCWDSIBQQRqIAIQ0AQaIAELKwEBfyMAQRBrIgMkACADIAE2AgwgACADQQxqIAIQ5wchASADQRBqJAAgAQsKACAAEOgHKAIAC7ICAQF/IwBBEGsiCiQAAkACQCAARQ0AIAogARDpByIBEOoHIAIgCigCADYAACAKIAEQ6wcgCCAKELEDGiAKEMANGiAKIAEQ7AcgByAKELEDGiAKEMANGiADIAEQ7Qc6AAAgBCABEO4HOgAAIAogARDvByAFIAoQsQMaIAoQwA0aIAogARDwByAGIAoQsQMaIAoQwA0aIAEQ8QchAQwBCyAKIAEQ8gciARDzByACIAooAgA2AAAgCiABEPQHIAggChCxAxogChDADRogCiABEPUHIAcgChCxAxogChDADRogAyABEPYHOgAAIAQgARD3BzoAACAKIAEQ+AcgBSAKELEDGiAKEMANGiAKIAEQ+QcgBiAKELEDGiAKEMANGiABEPoHIQELIAkgATYCACAKQRBqJAALFgAgACABKAIAEPgCwCABKAIAEPsHGgsHACAALAAACw4AIAAgARD8BzYCACAACwwAIAAgARD9B0EBcwsHACAAKAIACxEAIAAgACgCAEEBajYCACAACw0AIAAQ/gcgARD8B2sLDAAgAEEAIAFrEIAICwsAIAAgASACEP8HC+EBAQZ/IwBBEGsiAyQAIAAQgQgoAgAhBAJAAkAgAigCACAAEM0HayIFELEEQQF2Tw0AIAVBAXQhBQwBCxCxBCEFCyAFQQEgBRshBSABKAIAIQYgABDNByEHAkACQCAEQfYARw0AQQAhCAwBCyAAEM0HIQgLAkAgCCAFEKYCIghFDQACQCAEQfYARg0AIAAQgggaCyADQfUANgIEIAAgA0EIaiAIIANBBGoQpQYiBBCDCBogBBCpBhogASAAEM0HIAYgB2tqNgIAIAIgABDNByAFajYCACADQRBqJAAPCxCtDQAL5AEBBn8jAEEQayIDJAAgABCECCgCACEEAkACQCACKAIAIAAQ0QdrIgUQsQRBAXZPDQAgBUEBdCEFDAELELEEIQULIAVBBCAFGyEFIAEoAgAhBiAAENEHIQcCQAJAIARB9gBHDQBBACEIDAELIAAQ0QchCAsCQCAIIAUQpgIiCEUNAAJAIARB9gBGDQAgABCFCBoLIANB9QA2AgQgACADQQhqIAggA0EEahDQByIEEIYIGiAEEN4HGiABIAAQ0QcgBiAHa2o2AgAgAiAAENEHIAVBfHFqNgIAIANBEGokAA8LEK0NAAsLACAAQQAQiAggAAsHACAAEJcNCwcAIAAQmA0LCgAgAEEEahDRBAu2AgECfyMAQaABayIHJAAgByACNgKQASAHIAE2ApgBIAdB9gA2AhQgB0EYaiAHQSBqIAdBFGoQpQYhCCAHQRBqIAQQyAQgB0EQahDsAiEBIAdBADoADwJAIAdBmAFqIAIgAyAHQRBqIAQQ6wIgBSAHQQ9qIAEgCCAHQRRqIAdBhAFqEMwHRQ0AIAYQ4wcCQCAHLQAPRQ0AIAYgAUEtEMEEENMNCyABQTAQwQQhASAIEM0HIQIgBygCFCIDQX9qIQQgAUH/AXEhAQJAA0AgAiAETw0BIAItAAAgAUcNASACQQFqIQIMAAsACyAGIAIgAxDkBxoLAkAgB0GYAWogB0GQAWoQ7QJFDQAgBSAFKAIAQQJyNgIACyAHKAKYASECIAdBEGoQ9QkaIAgQqQYaIAdBoAFqJAAgAgtnAQJ/IwBBEGsiASQAIAAQvQMCQAJAIAAQvANFDQAgABCRBCECIAFBADoADyACIAFBD2oQmAQgAEEAEK4EDAELIAAQkgQhAiABQQA6AA4gAiABQQ5qEJgEIABBABCXBAsgAUEQaiQAC9MBAQR/IwBBEGsiAyQAIAAQxwMhBCAAEMgDIQUCQCABIAIQpgQiBkUNAAJAIAAgARDlBw0AAkAgBSAEayAGTw0AIAAgBSAGIARqIAVrIAQgBEEAQQAQwg0LIAAQuAMgBGohBQJAA0AgASACRg0BIAUgARCYBCABQQFqIQEgBUEBaiEFDAALAAsgA0EAOgAPIAUgA0EPahCYBCAAIAYgBGoQ5gcMAQsgACADIAEgAiAAEL8DEMIDIgEQzAMgARDHAxDKDRogARDADRoLIANBEGokACAACycBAX9BACECAkAgABDMAyABSw0AIAAQzAMgABDHA2ogAU8hAgsgAgscAAJAIAAQvANFDQAgACABEK4EDwsgACABEJcECxYAIAAgARCZDSIBQQRqIAIQ0AQaIAELBwAgABCdDQsLACAAQZTAARCtBQsRACAAIAEgASgCACgCLBECAAsRACAAIAEgASgCACgCIBECAAsRACAAIAEgASgCACgCHBECAAsPACAAIAAoAgAoAgwRAAALDwAgACAAKAIAKAIQEQAACxEAIAAgASABKAIAKAIUEQIACxEAIAAgASABKAIAKAIYEQIACw8AIAAgACgCACgCJBEAAAsLACAAQYzAARCtBQsRACAAIAEgASgCACgCLBECAAsRACAAIAEgASgCACgCIBECAAsRACAAIAEgASgCACgCHBECAAsPACAAIAAoAgAoAgwRAAALDwAgACAAKAIAKAIQEQAACxEAIAAgASABKAIAKAIUEQIACxEAIAAgASABKAIAKAIYEQIACw8AIAAgACgCACgCJBEAAAsSACAAIAI2AgQgACABOgAAIAALBwAgACgCAAsNACAAEP4HIAEQ/AdGCwcAIAAoAgALcwEBfyMAQSBrIgMkACADIAE2AhAg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EJ4NIgFBBGogAhDQBBogAQuyAgEBfyMAQRBrIgokAAJAAkAgAEUNACAKIAEQqggiARCrCCACIAooAgA2AAAgCiABEKwIIAggChCtCBogChDdDRogCiABEK4IIAcgChCtCBogChDdDRogAyABEK8INgIAIAQgARCwCDYCACAKIAEQsQggBSAKELEDGiAKEMANGiAKIAEQsgggBiAKEK0IGiAKEN0NGiABELMIIQEMAQsgCiABELQIIgEQtQggAiAKKAIANgAAIAogARC2CCAIIAoQrQgaIAoQ3Q0aIAogARC3CCAHIAoQrQgaIAoQ3Q0aIAMgARC4CDYCACAEIAEQuQg2AgAgCiABELoIIAUgChCxAxogChDADRogCiABELsIIAYgChCtCBogChDdDRogARC8CCEBCyAJIAE2AgAgCkEQaiQACxUAIAAgASgCABCiAyABKAIAEL0IGgsHACAAKAIACw0AIAAQtgYgAUECdGoLDgAgACABEL4INgIAIAALDAAgACABEL8IQQFzCwcAIAAoAgALEQAgACAAKAIAQQRqNgIAIAALEAAgABDACCABEL4Ia0ECdQsMACAAQQAgAWsQwggLCwAgACABIAIQwQgL5AEBBn8jAEEQayIDJAAgABDDCCgCACEEAkACQCACKAIAIAAQiwhrIgUQsQRBAXZPDQAgBUEBdCEFDAELELEEIQULIAVBBCAFGyEFIAEoAgAhBiAAEIsIIQcCQAJAIARB9gBHDQBBACEIDAELIAAQiwghCAsCQCAIIAUQpgIiCEUNAAJAIARB9gBGDQAgABDECBoLIANB9QA2AgQgACADQQhqIAggA0EEahDFBiIEEMUIGiAEEMgGGiABIAAQiwggBiAHa2o2AgAgAiAAEIsIIAVBfHFqNgIAIANBEGokAA8LEK0NAAsHACAAEJ8NC64CAQJ/IwBBwANrIgckACAHIAI2ArADIAcgATYCuAMgB0H2ADYCFCAHQRhqIAdBIGogB0EUahDFBiEIIAdBEGogBBDIBCAHQRBqEJsDIQEgB0EAOgAPAkAgB0G4A2ogAiADIAdBEGogBBDrAiAFIAdBD2ogASAIIAdBFGogB0GwA2oQighFDQAgBhCcCAJAIActAA9FDQAgBiABQS0QwwQQ6A0LIAFBMBDDBCEBIAgQiwghAiAHKAIUIgNBfGohBAJAA0Ag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ACAAIAFBxMABELkJELoJCwwAQfjMAUEBEM8JGgsQACAAIAFB7L8BELkJELoJCwwAQYjNAUEBENAJGgsQACAAIAFB9L8BELkJELoJCwwAQZjNAUEBENEJGgsQACAAIAFB/L8BELkJELoJCwwAQajNAUEBENIJGgsQACAAIAFBhMABELkJELoJCwwAQbjNAUEBENMJGgsQACAAIAFBzMABELkJELoJCwwAQcDNAUEBENQJGgsQACAAIAFB1MABELkJELoJCxcAIAAgATYCBCAAQfCcAUEIajYCACAACxQAIAAgARCXDCIBQQhqEJgMGiABCwIAC2cBAn8jAEEQayICJAACQCAAEJkMIAFPDQAgABCaDAALIAJBCGogABDnCSABEJsMIAAgAigCCCIBNgIEIAAgATYCACACKAIMIQMgABCcDCABIANBAnRqNgIAIABBABCdDCACQRBqJAALWwEDfyMAQRBrIgIkACACIAAgARCeDCIDKAIEIQEgAygCCCEEA0ACQCABIARHDQAgAxCfDBogAkEQaiQADwsgABDnCSABEKAMEKEMIAMgAUEEaiIBNgIEDAALAAsQACAAKAIEIAAoAgBrQQJ1CwwAIAAgACgCABC3DAszACAAIAAQqAwgABCoDCAAEOgJQQJ0aiAAEKgMIAFBAnRqIAAQqAwgABC1CUECdGoQqQwLAgALSgEBfyMAQSBrIgEkACABQQA2AgwgAUH3ADYCCCABIAEpAwg3AwAgACABQRBqIAEgABD3CRD4CSAAKAIEIQAgAUEgaiQAIABBf2oLeAECfyMAQRBrIgMkACABENcJIANBCGogARDbCSEEAkAgAEEIaiIBELUJIAJLDQAgASACQQFqEN4JCwJAIAEgAhDWCSgCAEUNACABIAIQ1gkoAgAQ3wkaCyAEEOAJIQAgASACENYJIAA2AgAgBBDcCRogA0EQaiQACxcAIAAgARDxCCIBQZz9AEEIajYCACABCxcAIAAgARDxCCIBQbz9AEEIajYCACABCxoAIAAgARDxCBCRCiIBQYD1AEEIajYCACABCxoAIAAgARDxCBClCiIBQZT2AEEIajYCACABCxoAIAAgARDxCBClCiIBQaj3AEEIajYCACABCxoAIAAgARDxCBClCiIBQZD5AEEIajYCACABCxoAIAAgARDxCBClCiIBQZz4AEEIajYC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gICAgHhxIAFB/////wdxcjYCCCAAEMgHIgAgACgCCEGAgICAeHI2AggLCABB1g0QGgALBwAgABC8CwsEACAACwoAIAEgAGtBAnULCAAQsQRBAnYLBAAgAAscAAJAIAAQvgsgAU8NABBPAAsgAUECdEEEELUECwcAIAAQxgsLCgAgAEEDakF8cQsHACAAEMQLCwQAIAALBAAgAAsEACAACxIAIAAgABC4AxC5AyABEMgLGgs4AQF/IwBBEGsiAyQAIAAgAhDmByAAIAIQygsgA0EAOgAPIAEgAmogA0EPahCYBCADQRBqJAAgAAsEACAACwIACwsAIAAgASACEMwLCw4AIAEgAkECdEEEEJwECxEAIAAQxwcoAghB/////wdxCwQAIAALYQEBfyMAQRBrIgIkACACIAA2AgwCQCAAIAFGDQADQCACIAFBf2oiATYCCCAAIAFPDQEgAkEMaiACQQhqENALIAIgAigCDEEBaiIANgIMIAIoAgghAQwACwALIAJBEGokAAsPACAAKAIAIAEoAgAQ0QsLCQAgACABEIwHC2EBAX8jAEEQayICJAAgAiAANgIMAkAgACABRg0AA0AgAiABQXxqIgE2AgggACABTw0BIAJBDGogAkEIahDTCyACIAIoAgxBBGoiADYCDCACKAIIIQEMAAsACyACQRBqJAALDwAgACgCACABKAIAENQLCwkAIAAgARDVCwscAQF/IAAoAgAhAiAAIAEoAgA2AgAgASACNgIACwoAIAAQxwcQ1wsLBAAgAAsLACAAIAEgAhDeCwsHACAAEOALC2wBAX8jAEEQayIEJAAgBCABNgIEIAQgAzYCCAJAA0AgASACRg0BIAEsAAAhAyAEQQhqEJQDIAMQlQMaIAQgAUEBaiIBNgIEIARBCGoQlgMaDAALAAsgACAEQQRqIARBCGoQ3wsaIARBEGokAAsJACAAIAEQ4QsLCQAgACABEOILCwwAIAAgASACEN8LGgs4AQF/IwBBEGsiAyQAIAMgARDnAzYCDCADIAIQ5wM2AgggACADQQxqIANBCGoQ4wsaIANBEGokAAsYACAAIAEoAgA2AgAgACACKAIANgIEIAALBAAgAAsJACAAIAEQ6gMLBAAgAQsYACAAIAEoAgA2AgAgACACKAIANgIEIAALCwAgACABIAIQ6gsLBwAgABDsCwtsAQF/IwBBEGsiBCQAIAQgATYCBCAEIAM2AggCQANAIAEgAkYNASABKAIAIQMgBEEIahClAyADEKYDGiAEIAFBBGoiATYCBCAEQQhqEKcDGgwACwALIAAgBEEEaiAEQQhqEOsLGiAEQRBqJAALCQAgACABEO0LCwkAIAAgARDuCwsMACAAIAEgAhDrCxoLOAEBfyMAQRBrIgMkACADIAEQ+gM2AgwgAyACEPoDNgIIIAAgA0EMaiADQQhqEO8LGiADQRBqJAALGAAgACABKAIANgIAIAAgAigCADYCBCAACwQAIAALCQAgACABEP0DCwQAIAELGAAgACABKAIANgIAIAAgAigCADYCBCAACxgAIAAQyAciAEIANwIAIABBCGpBADYCAAsEACAACwQAIAALDQAgAS0AACACLQAARgsRACAAIAAoAgAgAWo2AgAgAAsKACABIABrQQJ1CwwAIAAQsAsgAhD4Cwu/AQEDfyMAQRBrIgMkAAJAIAEgAhClCCIEIAAQswtLDQACQAJAIAQQtAtFDQAgACAEEKMIIAAQogghBQwBCyADQQhqIAAQqAggBBC1C0EBahC2CyADKAIIIgUgAygCDBC3CyAAIAUQuAsgACADKAIMELkLIAAgBBChCAsCQANAIAEgAkYNASAFIAEQoAggBUEEaiEFIAFBBGohAQwACwALIANBADYCBCAFIANBBGoQoAggA0EQaiQADwsgABC6CwALBAAgAAsNACABKAIAIAIoAgBGCxQAIAAgACgCACABQQJ0ajYCACAACwkAIAAgARD8CwsOACABEKgIGiAAEKgIGgsLACAAIAEgAhCADAsJACAAIAEQggwLDAAgACABIAIQgQwaCzgBAX8jAEEQayIDJAAgAyABEIMMNgIMIAMgAhCDDDYCCCAAIANBDGogA0EIahDyAxogA0EQaiQACxgAIAAgASgCADYCACAAIAIoAgA2AgQgAAsJACAAIAEQiAwLBwAgABCEDAsnAQF/IwBBEGsiASQAIAEgADYCCCABQQhqEIUMIQAgAUEQaiQAIAALBwAgABCGDAsKACAAKAIAEIcMCyoBAX8jAEEQayIBJAAgASAANgIIIAFBCGoQ/gcQ9AMhACABQRBqJAAgAAsJACAAIAEQiQwLMgEBfyMAQRBrIgIkACACIAA2AgggAkEIaiABIAJBCGoQhQxrEM8IIQAgAkEQaiQAIAALCwAgACABIAIQjQwLCQAgACABEI8MCwwAIAAgASACEI4MGgs4AQF/IwBBEGsiAyQAIAMgARCQDDYCDCADIAIQkAw2AgggACADQQxqIANBCGoQhQQaIANBEGokAAsYACAAIAEoAgA2AgAgACACKAIANgIEIAALCQAgACABEJUMCwcAIAAQkQwLJwEBfyMAQRBrIgEkACABIAA2AgggAUEIahCSDCEAIAFBEGokACAACwcAIAAQkwwLCgAgACgCABCUDAsqAQF/IwBBEGsiASQAIAEgADYCCCABQQhqEMAIEIcEIQAgAUEQaiQAIAALCQAgACABEJYMCzUBAX8jAEEQayICJAAgAiAANgIIIAJBCGogASACQQhqEJIMa0ECdRDeCCEAIAJBEGokACAACwsAIABBADYCACAACwcAIAAQogwLPQEBfyMAQRBrIgEkACABIAAQowwQpAw2AgwgARCAAzYCCCABQQxqIAFBCGoQ2AMoAgAhACABQRBqJAAgAAsIAEHxChAaAAsbACABIAJBABClDCEBIAAgAjYCBCAAIAE2AgALCgAgAEEIahCnDAszACAAIAAQqAwgABCoDCAAEOgJQQJ0aiAAEKgMIAAQ6AlBAnRqIAAQqAwgAUECdGoQqQwLJAAgACABNgIAIAAgASgCBCIBNgIEIAAgASACQQJ0ajYCCCAACxEAIAAoAgAgACgCBDYCBCAACwQAIAALCAAgARC2DBoLCwAgAEEAOgB4IAALCgAgAEEIahCrDAsHACAAEKoMC0YBAX8jAEEQayIDJAACQAJAIAFBHksNACAALQB4Qf8BcQ0AIABBAToAeAwBCyADQQhqEK0MIAEQrgwhAAsgA0EQaiQAIAALCgAgAEEIahCxDAsHACAAELIMCwoAIAAoAgAQoAwLAgALCABB/////wMLCgAgAEEIahCsDAsEACAACwcAIAAQrwwLHAACQCAAELAMIAFPDQAQTwALIAFBAnRBBBC1BAsEACAACwgAELEEQQJ2CwQAIAALBAAgAAsKACAAQQhqELQMCwcAIAAQtQwLBAAgAAsLACAAQQA2AgAgAAs0AQF/IAAoAgQhAgJAA0AgAiABRg0BIAAQ5wkgAkF8aiICEKAMELgMDAALAAsgACABNgIECwcAIAEQuQwLBwAgABC6DAsCAAthAQJ/IwBB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IAAoAgAgAEEIaigCACIBQQF1aiECIAAoAgQhAAJAIAFBAXFFDQAgAigCACAAaigCACEACyACIAARAwALBwAgACgCAAsWACAAIAEQgw0iAUEEaiACENAEGiABCwcAIAAQhA0LCgAgAEEEahDRBAsOACAAIAEoAgA2AgAgAAsEACAACwoAIAEgAGtBDG0LCwAgACABIAIQjQULBQAQiA0LCABBgICAgHgLBQAQiw0LBQAQjA0LDQBCgICAgICAgICAfwsNAEL///////////8ACwsAIAAgASACEIsFCwUAEI8NCwYAQf//AwsFABCRDQsEAEJ/CwwAIAAgARDaBRCUBQsMACAAIAEQ2gUQlQULPQIBfwF+IwBBEGsiAyQAIAMgASACENoFEJYFIAMpAwAhBCAAIANBCGopAwA3AwggACAENwMAIANBEGokAAsKACABIABrQQxtCw4AIAAgASgCADYCACAACwQAIAALBAAgAAsOACAAIAEoAgA2AgAgAAsHACAAEJwNCwoAIABBBGoQ0QQLBAAgAAsEACAACw4AIAAgASgCADYCACAACwQAIAALBAAgAAsEACAACwMAAAswAQF/AkACQCAAQQhqIgFBAhCkDUUNACABEOQJQX9HDQELIAAgACgCACgCEBEDAAsLFwACQCABQX9qDgUAAAAAAAALIAAoAgALBABBAAsHACAAEIQCCwcAIAAQhQILbQBB8M4BEKYNGgJAA0AgACgCAEEBRw0BQYjPAUHwzgEQqQ0aDAALAAsCQCAAKAIADQAgABCqDUHwzgEQpw0aIAEgAhEDAEHwzgEQpg0aIAAQqw1B8M4BEKcNGkGIzwEQrA0aDwtB8M4BEKcNGgsJACAAIAEQhgILCQAgAEEBNgIACwkAIABBfzYCAAsHACAAEIcCCwUAEAsACzMBAX8gAEEBIAAbIQECQANAIAEQpAIiAA0BAkAQpQ4iAEUNACAAEQkADAELCxALAAsgAAsHACAAEK4NCwcAIAAQpQILBwAgABCwDQs8AQJ/IAFBBCABQQRLGyECIABBASAAGyEAAkADQCACIAAQsw0iAw0BEKUOIgFFDQEgAREJAAwACwALIAMLMQEBfyMAQRBrIgIkACACQQA2AgwgAkEMaiAAIAEQqQIaIAIoAgwhASACQRBqJAAgAQsHACAAELUNCwcAIAAQpQILEAAg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B0kNAAsLIAEgBkH/AXFBAEc6ADUgASAIQf8BcUEARzoANAs+AAJAIAAgASgCCCAFELIORQ0AIAEgASACIAMgBBDBDg8LIAAoAggiACABIAIgAyAEIAUgACgCACgCFBEMAAshAAJAIAAgASgCCCAFELIORQ0AIAEgASACIAMgBBDBDgsLHgACQCAADQBBAA8LIABBtKEBQcSiAUEAELYOQQBHCwQAIAALDQAgABDMDhogABCwDQsFAEGfDAsVACAAELYNIgBB6KcBQQhqNgIAIAALDQAgABDMDhogABCwDQsFAEGlEAsVACAAEM8OIgBB/KcBQQhqNgIAIAALDQAgABDMDhogABCwDQsFAEGcDQscACAAQYCpAUEIajYCACAAQQRqENYOGiAAEMwOCysBAX8CQCAAELoNRQ0AIAAoAgAQ1w4iAUEIahDYDkF/Sg0AIAEQsA0LIAALBwAgAEF0agsVAQF/IAAgACgCAEF/aiIBNgIAIAELDQAgABDVDhogABCwDQsKACAAQQRqENsOCwcAIAAoAgALDQAgABDVDhogABCwDQsNACAAENUOGiAAELANCwQAIAALBgAgACQBCwQAIwELBAAjAAsGACAAJAALEgECfyMAIABrQXBxIgEkACABCxEAIAEgAiADIAQgBSAAERQACxEAIAEgAiADIAQgBSAAERMACxMAIAEgAiADIAQgBSAGIAARHgALFQAgASACIAMgBCAFIAYgByAAERkACw0AIAEgAiADIAARGwALGQAgACABIAIgA60gBK1CIIaEIAUgBhDkDgsZACAAIAEgAiADIAQgBa0gBq1CIIaEEOUOCyMAIAAgASACIAMgBCAFrSAGrUIghoQgB60gCK1CIIaEEOYOCyUAIAAgASACIAMgBCAFIAatIAetQiCGhCAIrSAJrUIghoQQ5w4LJQEBfiAAIAEgAq0gA61CIIaEIAQQ6A4hBSAFQiCIpxDfDiAFpwscACAAIAEgAiADpyADQiCIpyAEpyAEQiCIpxARCxMAIAAgAacgAUIgiKcgAiADEBILC9mjgYAAAgBBgAgLsKIBaW5maW5pdHkARmVicnVhcnkASmFudWFyeQBKdWx5AGE9cmVjdm9ubHkAYT1zZW5kb25seQBUaHVyc2RheQBUdWVzZGF5AFdlZG5lc2RheQBTYXR1cmRheQBTdW5kYXkATW9uZGF5AEZyaWRheQBNYXkAJW0vJWQvJXkAYT1ydGNwLW11eAAtKyAgIDBYMHgALTBYKzBYIDBYLTB4KzB4IDB4ACV4OiV4OiV4OiV4OiV4OiV4OiV4OiV4AF9fbmV4dF9wcmltZSBvdmVyZmxvdwBOb3YAYT1zZW5kcmVjdgBUaHUAQXVndXN0AHVuc2lnbmVkIHNob3J0AGFwdABmaW5nZXJwcmludAB1bnNpZ25lZCBpbnQAY3ByZXNlbnQAYWRkciB0eXBlIGNvbmZsaWN0AG9iamVjdABPY3QAZmxvYXQAU2F0AHVpbnQ2NF90AGE9c2V0dXA6YWN0cGFzcwBpY2Utb3B0aW9ucwBBcHIAdmVjdG9yAGZvcm1hdCBlcnJvcgA6IHBhcmFtIGVycm9yAE9jdG9iZXIATm92ZW1iZXIAU2VwdGVtYmVyAERlY2VtYmVyAHVuc2lnbmVkIGNoYXIAaW9zX2Jhc2U6OmNsZWFyAE1hcgBzZXR1cABncm91cABTZXAAZXh0bWFwAHJ0cG1hcAAlSTolTTolUyAlcABhdWRpbwB2aWRlbwB1bmtub3duAFN1bgBKdW4Ac3RkOjpleGNlcHRpb24AOiBubyBjb252ZXJzaW9uAE1vbgBuYW4ASmFuAHN0b3VsAEp1bABzdG9sAGJvb2wAc3RkOjpiYWRfZnVuY3Rpb25fY2FsbABBcHJpbABtc2xhYmVsAGVtc2NyaXB0ZW46OnZhbABGcmkAc3RvaQBiYWRfYXJyYXlfbmV3X2xlbmd0aABNYXJjaABBdWcAdW5zaWduZWQgbG9uZwBzdGQ6OndzdHJpbmcAYmFzaWNfc3RyaW5nAHN0ZDo6c3RyaW5nAHN0ZDo6dTE2c3RyaW5nAHN0ZDo6dTMyc3RyaW5nAGNvbmZpZwBpY2UtdWZyYWcAaW5mACUuMExmACVMZgBhPXJ0Y3AtcnNpemUAYT1pbmFjdGl2ZQBhPXNldHVwOmFjdGl2ZQBhPXNldHVwOnBhc3NpdmUAdHJ1ZQBUdWUAY2FuZGlkYXRlAGZhbHNlAEp1bmUAdW5rbm93biBsaW5lAGNuYW1lAGRvdWJsZQA6IG91dCBvZiByYW5nZQBpY2UtcHdkAHZvaWQAbWlkAGxldmVsLWFzeW1tZXRyeS1hbGxvd2VkAG1lZGlhIHR5cGUgbm90IHN1cHBvcnRlZABQUy1lbmFibGVkAFNCUi1lbmFibGVkAFdlZAAleDoleDoleDoleDoleDoleDolZC4lZC4lZC4lZABzdGQ6OmJhZF9hbGxvYwBEZWMAcnRjcC1mYgBGZWIAd2VicnRjOi8vZG9tYWluL2xpdmUveHh4eF9kNzE5NTZkOWNjOTNlNGE0NjdiMTFlMDZmZGFmMDM5YQBfACVhICViICVkICVIOiVNOiVTICVZAFBPU0lYACVIOiVNOiVTAGE9c3NyYy1ncm91cDpGRUMtRlIAU0RQAE5BTgBQTQBBTQBMQ19BTEwATEFORwBJTkYAYT1ncm91cDpCVU5ETEUAYT1zc3JjLWdyb3VwOkZJRABDAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8Y2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgY2hhcj4Ac3RkOjpiYXNpY19zdHJpbmc8dW5zaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGxvbmc+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGxvbmc+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGRvdWJsZT4Adj0Acz0Abz0AbT0AaT0AYT0AYT1maW5nZXJwcmludDoAYT1pY2Utb3B0aW9uczoAYT1mbXRwOgBhPXJ0Y3A6AGE9ZXh0bWFwOgBhPXJ0cG1hcDoAYT1pY2UtdWZyYWc6AGE9aWNlLXB3ZDoAYT1taWQ6AGE9c3NyYzoAYT1ydGNwLWZiOgBjPUlOIElQNiA6OgAgSU4gSVA2IDo6ADAxMjM0NTY3ODkAQy5VVEYtOAAgSU4gSVA2IDo6MQAgSU4gSVA0IDEyNy4wLjAuMQA6MAA0ODAwMAAxMjgwMDAAMTYwMDAANjQwMDAAMzIwMDAAYz1JTiBJUDQgMC4wLjAuMAAgSU4gSVA0IDAuMC4wLjAAIGdlbmVyYXRpb24gMAB0PTAgMAAuAChudWxsKQBQdXJlIHZpcnR1YWwgZnVuY3Rpb24gY2FsbGVkIQAgcnBvcnQgAHR5cCBzcmZseCByYWRkciAALCBsaW5lIABhPW1zaWQtc2VtYW50aWM6IFdNUyAAYT1jYW5kaWRhdGU6Zm91bmRhdGlvbiAxIHVkcCAxMDAgACVzCgBNUDRBLUxBVE0ATVA0QS1BRFRTAGZsZXhmZWMtMDMAVlA4AEFWMQByZWQAcnR4AHVscGZlYwAAdwEAAAAAAIhYAQABAAAAAPoAAAIAAACAuwAAAwAAAESsAAAEAAAAAH0AAAUAAADAXQAABgAAACJWAAAHAAAAgD4AAAgAAADgLgAACQAAABErAAAKAAAAQB8AAAsAAAC2HAAADAAAAAAAAAANAAAAkF8BAA8AAAAAdwEAiFgBAAD6AACAuwAARKwAAAB9AADAXQAAIlYAAIA+AADgLgAAESsAAEAfAAC2HAAAAAAAAAAAAACQXwEANDIwMDFmADRkMDAxZgA2NDAwMWYAAAAAAAAAAAAAAABodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvcGxheW91dC1kZWxheQAAAAAAAGh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDEAAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvbWV0YS1kYXRhLTAxAAAAAAAAAGh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L21ldGEtZGF0YS0wMgAAAAAAAABodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9tZXRhLWRhdGEtMDMAAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvZGVjb2RpbmctdGltZXN0YW1wAGh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L3ZpZGVvLWNvbXBvc2l0aW9uLXRpbWUAAAAAAAAAAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvdmlkZW8tZnJhbWUtdHlwZQAAAHVyaTp3ZWJydGM6cnRjOnJ0cC1oZHJleHQ6dmlkZW86Q29tcG9zaXRpb25UaW1lAHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnNkZXM6bWlkAAAAAAAAAAAAAAAAAHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnNkZXM6cnRwLXN0cmVhbS1pZAAAAHVybjppZXRmOnBhcmFtczpydHAtaGRyZXh0OnNkZXM6cmVwYWlyZWQtcnRwLXN0cmVhbS1pZAAAAAAAAAAAAAB1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDp0b2Zmc2V0AAAAAAAAAAAAAAAAAAB1cm46aWV0ZjpwYXJhbXM6cnRwLWhkcmV4dDpzc3JjLWF1ZGlvLWxldmVsAAAAAAB1cm46M2dwcDp2aWRlby1vcmllbnRhdGlvbgAAAAAAAGh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L3ZpZGVvLWNvbnRlbnQtdHlwZQBodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC92aWRlby10aW1pbmcAAAAAAAAAaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvY29sb3Itc3BhY2UAdHJpY2tsZQByZW5vbWluYXRpb24AAABVRFAvVExTL1JUUC9TQVZQRgBuYWNrAG5hY2sgcGxpAGNjbSBmaXIAcnJ0cgB0cmFuc3BvcnQtY2MAZ29vZy1yZW1iAGJmcmFtZS1lbmFibGVkAEJGcmFtZS1lbmFibGVkADQyZTAxZgBzdGVyZW8Ac2N0cC1wb3J0AAAAAAAAAG1heC1tZXNzYWdlLXNpemUAVURQL0RUTFMvU0NUUABSVFAvQVZQRgB3ZWJydGM6Ly8AAAAAAAAAAAAAAAAAAABwYWNrZXRpemF0aW9uLW1vZGUAAAAAAAAAAAAAAAAAAHByb2ZpbGUtbGV2ZWwtaWQAdXNlaW5iYW5kZmVjAHVzZWR0eAAAAAAAAAAAAAAAAG1heGF2ZXJhZ2ViaXRyYXRlAG1pbnB0aW1lAAAAAAAAKBQAABYAAAAXAAAAGAAAABkAAAAaAAAATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjNBVkUxOFNlc3Npb25EZXNjcmlwdGlvbkVOU185YWxsb2NhdG9ySVMyX0VFRUUAAAAcUwAA2BMAAMhOAAAAAAAAnBQAABsAAAAcAAAAHQAAABkAAAAeAAAATlN0M19fMjIwX19zaGFyZWRfcHRyX2VtcGxhY2VJTjNBVkUxNk1lZGlhRGVzY3JpcHRpb25FTlNfOWFsbG9jYXRvcklTMl9FRUVFABxTAABQFAAAyE4AAAAAAAAQFQAAHwAAACAAAAAhAAAAGQAAACIAAABOU3QzX18yMjBfX3NoYXJlZF9wdHJfZW1wbGFjZUlOM0FWRTE2Q29kZWNEZXNjcmlwdGlvbkVOU185YWxsb2NhdG9ySVMyX0VFRUUAHFMAAMQUAADITgAAAAAAAIQVAAAjAAAAJAAAACUAAAAZAAAAJgAAAE5TdDNfXzIyMF9fc2hhcmVkX3B0cl9lbXBsYWNlSU4zQVZFMTZUcmFja0Rlc2NyaXB0aW9uRU5TXzlhbGxvY2F0b3JJUzJfRUVFRQAcUwAAOBUAAMhOAAAAc2VuZHJlY3YAc2VuZG9ubHkAcmVjdm9ubHkAaW5hY3RpdmUASVA0AElQNgBhdWRpbwB2aWRlbwBhcHBsaWNhdGlvbgBhY3RpdmUAYWN0cGFzcwBwYXNzaXZlAAAAAABIFwAAOwAAADwAAAA9AAAAPgAAAD8AAABAAAAAQQAAAEIAAABDAAAATlN0M19fMjEwX19mdW5jdGlvbjZfX2Z1bmNJUEZiTlNfMTBzaGFyZWRfcHRySU4zQVZFMThTZXNzaW9uRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FTlM5X0lTR19FRVNGX0VFAE5TdDNfXzIxMF9fZnVuY3Rpb242X19iYXNlSUZiTlNfMTBzaGFyZWRfcHRySU4zQVZFMThTZXNzaW9uRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FRUUAAAD0UgAAshYAABxTAAAYFgAAQBcAAFBGYk5TdDNfXzIxMHNoYXJlZF9wdHJJTjNBVkUxOFNlc3Npb25EZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUUARmJOU3QzX18yMTBzaGFyZWRfcHRySU4zQVZFMThTZXNzaW9uRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FAADYUgAAyBcAANRTAABUFwAAAAAAADwYAAAAAAAArBkAAEQAAABFAAAARgAAAEcAAABIAAAASQAAAEoAAABLAAAATAAAAE5TdDNfXzIxMF9fZnVuY3Rpb242X19mdW5jSVBGYk5TXzEwc2hhcmVkX3B0cklOM0FWRTE2TWVkaWFEZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUVOUzlfSVNHX0VFU0ZfRUUATlN0M19fMjEwX19mdW5jdGlvbjZfX2Jhc2VJRmJOU18xMHNoYXJlZF9wdHJJTjNBVkUxNk1lZGlhRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FRUUAAAD0UgAAGBkAABxTAACAGAAApBkAAFBGYk5TdDNfXzIxMHNoYXJlZF9wdHJJTjNBVkUxNk1lZGlhRGVzY3JpcHRpb25FRUVPTlNfMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRVBLY21FAEZiTlN0M19fMjEwc2hhcmVkX3B0cklOM0FWRTE2TWVkaWFEZXNjcmlwdGlvbkVFRU9OU18xMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFUEtjbUUAANhSAAAqGgAA1FMAALgZAAAAAAAAnBoAAA0KAGF1ZGlvAHZpZGVvAGFwcGxpY2F0aW9uAGZsZXhmZWMtMDMAaWNlLWxpdGUAANUEAAAfBAAAKgQAADkHAABOU3QzX18yMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRQAA9FIAAPQaAABOU3QzX18yMTJiYXNpY19zdHJpbmdJaE5TXzExY2hhcl90cmFpdHNJaEVFTlNfOWFsbG9jYXRvckloRUVFRQAA9FIAADwbAABOU3QzX18yMTJiYXNpY19zdHJpbmdJd05TXzExY2hhcl90cmFpdHNJd0VFTlNfOWFsbG9jYXRvckl3RUVFRQAA9FIAAIQbAABOU3QzX18yMTJiYXNpY19zdHJpbmdJRHNOU18xMWNoYXJfdHJhaXRzSURzRUVOU185YWxsb2NhdG9ySURzRUVFRQAAAPRSAADMGwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSURpTlNfMTFjaGFyX3RyYWl0c0lEaUVFTlNfOWFsbG9jYXRvcklEaUVFRUUAAAD0UgAAGBwAAE4xMGVtc2NyaXB0ZW4zdmFsRQAA9FIAAGQcAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0ljRUUAAPRSAACAHAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJYUVFAAD0UgAAqBwAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWhFRQAA9FIAANAcAABOMTBl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ZQAAAGYAAABOU3QzX18yMTliYXNpY19vc3RyaW5nc3RyZWFtSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUAAAAcUwAADCQAAEQjAAAAAAAAhCQAAHIAAABzAAAATlN0M19fMjhpb3NfYmFzZUUAAAD0UgAAcCQAAAAAAADRdJ4AV529KoBwUg///z4nCgAAAGQAAADoAwAAECcAAKCGAQBAQg8AgJaYAADh9QUYAAAANQAAAHEAAABr////zvv//5K///8AAAAAAAAAAP////////////////////////////////////////////////////////////////8AAQIDBAUGBwgJ/////////woLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIj////////CgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAECBAcDBgUAAAAAAAAAAgAAwAMAAMAEAADABQAAwAYAAMAHAADACAAAwAkAAMAKAADACwAAwAwAAMANAADADgAAwA8AAMAQAADAEQAAwBIAAMATAADAFAAAwBUAAMAWAADAFwAAwBgAAMAZAADAGgAAwBsAAMAcAADAHQAAwB4AAMAfAADAAAAAswEAAMMCAADDAwAAwwQAAMMFAADDBgAAwwcAAMMIAADDCQAAwwoAAMMLAADDDAAAww0AANMOAADDDwAAwwAADLsBAAzDAgAMwwMADMMEAAzbAAAAAN4SBJUAAAAA////////////////wCYAABQAAABDLlVURi04AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1CYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMQ19DVFlQRQAAAABMQ19OVU1FUklDAABMQ19USU1FAAAAAABMQ19DT0xMQVRFAABMQ19NT05FVEFSWQBMQ19NRVNTQUdFUwCAKQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAAAARAAAAEgAAABMAAAAUAAAAFQAAABYAAAAXAAAAGAAAABkAAAAaAAAAGwAAABwAAAAdAAAAHgAAAB8AAAAgAAAAIQAAACIAAAAjAAAAJAAAACUAAAAmAAAAJwAAACgAAAApAAAAKgAAACsAAAAsAAAALQAAAC4AAAAvAAAAMAAAADEAAAAyAAAAMwAAADQAAAA1AAAANgAAADcAAAA4AAAAOQAAADoAAAA7AAAAPAAAAD0AAAA+AAAAPwAAAEAAAABBAAAAQgAAAEMAAABEAAAARQAAAEYAAABHAAAASAAAAEkAAABKAAAASwAAAEwAAABNAAAATgAAAE8AAABQAAAAUQAAAFIAAABTAAAAVAAAAFUAAABWAAAAVwAAAFgAAABZAAAAWgAAAFsAAABcAAAAXQAAAF4AAABfAAAAYAAAAEEAAABCAAAAQwAAAEQAAABFAAAARgAAAEcAAABIAAAASQAAAEoAAABLAAAATAAAAE0AAABOAAAATwAAAFAAAABRAAAAUgAAAFMAAABUAAAAVQAAAFYAAABXAAAAWAAAAFkAAABaAAAAewAAAHwAAAB9AAAAfgAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAvAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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QgEAAEIBAABCAQAAQgEAAEIBAABCAQAAQgEAAEIBAACCAAAAggAAAIIAAACCAAAAggAAAIIAAACCAAAAKgEAACoBAAAqAQAAKgEAACoBAAAqAQAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAAAqAAAAKgAAACoAAACCAAAAggAAAIIAAACCAAAAggAAAIIAAAAyAQAAMgEAADIBAAAyAQAAMgEAADIBAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAADIAAAAyAAAAMgAAAIIAAACCAAAAggAAAIIAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnD0AAJQAAACVAAAAiQAAAJYAAACXAAAAmAAAAJkAAACaAAAAmwAAAJwAAAAAAAAAbD4AAJ0AAACeAAAAiQAAAJ8AAACgAAAA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";
if (!pa(P)) {
  var qa = P;
  P = g.locateFile ? g.locateFile(qa, u) : u + qa;
}
function ra(a) {
  var c = P;
  try {
    a: {
      try {
        if (c == P && x) {
          var b = new Uint8Array(x);
          break a;
        }
        if (pa(c)) {
          try {
            var d = sa(c.slice(37)), f = new Uint8Array(d.length);
            for (c = 0; c < d.length; ++c) {
              f[c] = d.charCodeAt(c);
            }
            var k = f;
          } catch (m) {
            throw Error("Converting base64 string to bytes failed.");
          }
          var h = k;
        } else {
          h = void 0;
        }
        if (h) {
          b = h;
          break a;
        }
        throw "sync fetching of the wasm failed: you can preload it to Module['wasmBinary'] manually, or emcc.py will do that for you when generating HTML (but not JS)";
      } catch (m) {
        y(m);
      }
      b = void 0;
    }
    var l = new WebAssembly.Module(b);
    var n = new WebAssembly.Instance(l, a);
  } catch (m) {
    throw a = m.toString(), v("failed to compile wasm module: " + a), (a.includes("imported Memory") || a.includes("memory import")) && v("Memory size incompatibility issues may be due to changing INITIAL_MEMORY at runtime to something too large. Use ALLOW_MEMORY_GROWTH to allow any size memory (and also make sure not to set INITIAL_MEMORY at runtime to something smaller than it was at compile time)."), m;
  }
  return [n, l];
}
function Q(a) {
  for (; 0 < a.length;) {
    a.shift()(g);
  }
}
function ta(a) {
  this.j = a - 24;
  this.H = function(c) {
    L[this.j + 4 >> 2] = c;
  };
  this.C = function(c) {
    L[this.j + 8 >> 2] = c;
  };
  this.D = function() {
    K[this.j >> 2] = 0;
  };
  this.B = function() {
    H[this.j + 12 >> 0] = 0;
  };
  this.F = function() {
    H[this.j + 13 >> 0] = 0;
  };
  this.u = function(c, b) {
    this.v();
    this.H(c);
    this.C(b);
    this.D();
    this.B();
    this.F();
  };
  this.v = function() {
    L[this.j + 16 >> 2] = 0;
  };
}
var ua = 0;
function va(a) {
  switch(a) {
    case 1:
      return 0;
    case 2:
      return 1;
    case 4:
      return 2;
    case 8:
      return 3;
    default:
      throw new TypeError("Unknown type size: " + a);
  }
}
var wa = void 0;
function R(a) {
  for (var c = ""; C[a];) {
    c += wa[C[a++]];
  }
  return c;
}
var xa = {}, ya = {}, za = {};
function Aa(a, c) {
  if (void 0 === a) {
    a = "_unknown";
  } else {
    a = a.replace(/[^a-zA-Z0-9_]/g, "$");
    var b = a.charCodeAt(0);
    a = 48 <= b && 57 >= b ? "_" + a : a;
  }
  return (new Function("body", "return function " + a + '() {\\n    "use strict";    return body.apply(this, arguments);\\n};\\n'))(c);
}
function Ba(a) {
  var c = Error, b = Aa(a, function(d) {
    this.name = a;
    this.message = d;
    d = Error(d).stack;
    void 0 !== d && (this.stack = this.toString() + "\\n" + d.replace(/^Error(:[^\\n]*)?\\n/, ""));
  });
  b.prototype = Object.create(c.prototype);
  b.prototype.constructor = b;
  b.prototype.toString = function() {
    return void 0 === this.message ? this.name : this.name + ": " + this.message;
  };
  return b;
}
var Ca = void 0;
function S(a) {
  throw new Ca(a);
}
function T(a, c, b = {}) {
  if (!("argPackAdvance" in c)) {
    throw new TypeError("registerType registeredInstance requires argPackAdvance");
  }
  var d = c.name;
  a || S('type "' + d + '" must have a positive integer typeid pointer');
  if (ya.hasOwnProperty(a)) {
    if (b.A) {
      return;
    }
    S("Cannot register type '" + d + "' twice");
  }
  ya[a] = c;
  delete za[a];
  xa.hasOwnProperty(a) && (c = xa[a], delete xa[a], c.forEach(f => f()));
}
var Da = [], U = [{}, {value:void 0}, {value:null}, {value:!0}, {value:!1}], Ea = a => {
  switch(a) {
    case void 0:
      return 1;
    case null:
      return 2;
    case !0:
      return 3;
    case !1:
      return 4;
    default:
      var c = Da.length ? Da.pop() : U.length;
      U[c] = {G:1, value:a};
      return c;
  }
};
function Ga(a) {
  return this.fromWireType(K[a >> 2]);
}
function Ha(a, c) {
  switch(c) {
    case 2:
      return function(b) {
        return this.fromWireType(ia[b >> 2]);
      };
    case 3:
      return function(b) {
        return this.fromWireType(ja[b >> 3]);
      };
    default:
      throw new TypeError("Unknown float type: " + a);
  }
}
function Ia(a, c, b) {
  switch(c) {
    case 0:
      return b ? function(d) {
        return H[d];
      } : function(d) {
        return C[d];
      };
    case 1:
      return b ? function(d) {
        return I[d >> 1];
      } : function(d) {
        return J[d >> 1];
      };
    case 2:
      return b ? function(d) {
        return K[d >> 2];
      } : function(d) {
        return L[d >> 2];
      };
    default:
      throw new TypeError("Unknown integer type: " + a);
  }
}
var Ja = "undefined" != typeof TextDecoder ? new TextDecoder("utf-16le") : void 0;
function Ka(a, c) {
  var b = a >> 1;
  for (var d = b + c / 2; !(b >= d) && J[b];) {
    ++b;
  }
  b <<= 1;
  if (32 < b - a && Ja) {
    return Ja.decode(C.subarray(a, b));
  }
  b = "";
  for (d = 0; !(d >= c / 2); ++d) {
    var f = I[a + 2 * d >> 1];
    if (0 == f) {
      break;
    }
    b += String.fromCharCode(f);
  }
  return b;
}
function La(a, c, b) {
  void 0 === b && (b = 2147483647);
  if (2 > b) {
    return 0;
  }
  b -= 2;
  var d = c;
  b = b < 2 * a.length ? b / 2 : a.length;
  for (var f = 0; f < b; ++f) {
    I[c >> 1] = a.charCodeAt(f), c += 2;
  }
  I[c >> 1] = 0;
  return c - d;
}
function Ma(a) {
  return 2 * a.length;
}
function Na(a, c) {
  for (var b = 0, d = ""; !(b >= c / 4);) {
    var f = K[a + 4 * b >> 2];
    if (0 == f) {
      break;
    }
    ++b;
    65536 <= f ? (f -= 65536, d += String.fromCharCode(55296 | f >> 10, 56320 | f & 1023)) : d += String.fromCharCode(f);
  }
  return d;
}
function Oa(a, c, b) {
  void 0 === b && (b = 2147483647);
  if (4 > b) {
    return 0;
  }
  var d = c;
  b = d + b - 4;
  for (var f = 0; f < a.length; ++f) {
    var k = a.charCodeAt(f);
    if (55296 <= k && 57343 >= k) {
      var h = a.charCodeAt(++f);
      k = 65536 + ((k & 1023) << 10) | h & 1023;
    }
    K[c >> 2] = k;
    c += 4;
    if (c + 4 > b) {
      break;
    }
  }
  K[c >> 2] = 0;
  return c - d;
}
function Pa(a) {
  for (var c = 0, b = 0; b < a.length; ++b) {
    var d = a.charCodeAt(b);
    55296 <= d && 57343 >= d && ++b;
    c += 4;
  }
  return c;
}
var Qa = {};
function Ra() {
  if (!Sa) {
    var a = {USER:"web_user", LOGNAME:"web_user", PATH:"/", PWD:"/", HOME:"/home/web_user", LANG:("object" == typeof navigator && navigator.languages && navigator.languages[0] || "C").replace("-", "_") + ".UTF-8", _:ca || "./this.program"}, c;
    for (c in Qa) {
      void 0 === Qa[c] ? delete a[c] : a[c] = Qa[c];
    }
    var b = [];
    for (c in a) {
      b.push(c + "=" + a[c]);
    }
    Sa = b;
  }
  return Sa;
}
var Sa, Ta = [null, [], []];
function V(a) {
  return 0 === a % 4 && (0 !== a % 100 || 0 === a % 400);
}
var Ua = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], Va = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
function Wa(a, c, b) {
  b = Array(0 < b ? b : E(a) + 1);
  a = D(a, b, 0, b.length);
  c && (b.length = a);
  return b;
}
function Xa(a, c, b, d) {
  function f(e, p, r) {
    for (e = "number" == typeof e ? e.toString() : e || ""; e.length < p;) {
      e = r[0] + e;
    }
    return e;
  }
  function k(e, p) {
    return f(e, p, "0");
  }
  function h(e, p) {
    function r(Fa) {
      return 0 > Fa ? -1 : 0 < Fa ? 1 : 0;
    }
    var F;
    0 === (F = r(e.getFullYear() - p.getFullYear())) && 0 === (F = r(e.getMonth() - p.getMonth())) && (F = r(e.getDate() - p.getDate()));
    return F;
  }
  function l(e) {
    switch(e.getDay()) {
      case 0:
        return new Date(e.getFullYear() - 1, 11, 29);
      case 1:
        return e;
      case 2:
        return new Date(e.getFullYear(), 0, 3);
      case 3:
        return new Date(e.getFullYear(), 0, 2);
      case 4:
        return new Date(e.getFullYear(), 0, 1);
      case 5:
        return new Date(e.getFullYear() - 1, 11, 31);
      case 6:
        return new Date(e.getFullYear() - 1, 11, 30);
    }
  }
  function n(e) {
    var p = e.h;
    for (e = new Date((new Date(e.i + 1900, 0, 1)).getTime()); 0 < p;) {
      var r = e.getMonth(), F = (V(e.getFullYear()) ? Ua : Va)[r];
      if (p > F - e.getDate()) {
        p -= F - e.getDate() + 1, e.setDate(1), 11 > r ? e.setMonth(r + 1) : (e.setMonth(0), e.setFullYear(e.getFullYear() + 1));
      } else {
        e.setDate(e.getDate() + p);
        break;
      }
    }
    r = new Date(e.getFullYear() + 1, 0, 4);
    p = l(new Date(e.getFullYear(), 0, 4));
    r = l(r);
    return 0 >= h(p, e) ? 0 >= h(r, e) ? e.getFullYear() + 1 : e.getFullYear() : e.getFullYear() - 1;
  }
  var m = K[d + 40 >> 2];
  d = {K:K[d >> 2], J:K[d + 4 >> 2], m:K[d + 8 >> 2], s:K[d + 12 >> 2], o:K[d + 16 >> 2], i:K[d + 20 >> 2], g:K[d + 24 >> 2], h:K[d + 28 >> 2], N:K[d + 32 >> 2], I:K[d + 36 >> 2], L:m ? A(m) : ""};
  b = A(b);
  m = {"%c":"%a %b %d %H:%M:%S %Y", "%D":"%m/%d/%y", "%F":"%Y-%m-%d", "%h":"%b", "%r":"%I:%M:%S %p", "%R":"%H:%M", "%T":"%H:%M:%S", "%x":"%m/%d/%y", "%X":"%H:%M:%S", "%Ec":"%c", "%EC":"%C", "%Ex":"%m/%d/%y", "%EX":"%H:%M:%S", "%Ey":"%y", "%EY":"%Y", "%Od":"%d", "%Oe":"%e", "%OH":"%H", "%OI":"%I", "%Om":"%m", "%OM":"%M", "%OS":"%S", "%Ou":"%u", "%OU":"%U", "%OV":"%V", "%Ow":"%w", "%OW":"%W", "%Oy":"%y",};
  for (var q in m) {
    b = b.replace(new RegExp(q, "g"), m[q]);
  }
  var w = "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "), B = "January February March April May June July August September October November December".split(" ");
  m = {"%a":function(e) {
    return w[e.g].substring(0, 3);
  }, "%A":function(e) {
    return w[e.g];
  }, "%b":function(e) {
    return B[e.o].substring(0, 3);
  }, "%B":function(e) {
    return B[e.o];
  }, "%C":function(e) {
    return k((e.i + 1900) / 100 | 0, 2);
  }, "%d":function(e) {
    return k(e.s, 2);
  }, "%e":function(e) {
    return f(e.s, 2, " ");
  }, "%g":function(e) {
    return n(e).toString().substring(2);
  }, "%G":function(e) {
    return n(e);
  }, "%H":function(e) {
    return k(e.m, 2);
  }, "%I":function(e) {
    e = e.m;
    0 == e ? e = 12 : 12 < e && (e -= 12);
    return k(e, 2);
  }, "%j":function(e) {
    for (var p = 0, r = 0; r <= e.o - 1; p += (V(e.i + 1900) ? Ua : Va)[r++]) {
    }
    return k(e.s + p, 3);
  }, "%m":function(e) {
    return k(e.o + 1, 2);
  }, "%M":function(e) {
    return k(e.J, 2);
  }, "%n":function() {
    return "\\n";
  }, "%p":function(e) {
    return 0 <= e.m && 12 > e.m ? "AM" : "PM";
  }, "%S":function(e) {
    return k(e.K, 2);
  }, "%t":function() {
    return "\\t";
  }, "%u":function(e) {
    return e.g || 7;
  }, "%U":function(e) {
    return k(Math.floor((e.h + 7 - e.g) / 7), 2);
  }, "%V":function(e) {
    var p = Math.floor((e.h + 7 - (e.g + 6) % 7) / 7);
    2 >= (e.g + 371 - e.h - 2) % 7 && p++;
    if (p) {
      53 == p && (r = (e.g + 371 - e.h) % 7, 4 == r || 3 == r && V(e.i) || (p = 1));
    } else {
      p = 52;
      var r = (e.g + 7 - e.h - 1) % 7;
      (4 == r || 5 == r && V(e.i % 400 - 1)) && p++;
    }
    return k(p, 2);
  }, "%w":function(e) {
    return e.g;
  }, "%W":function(e) {
    return k(Math.floor((e.h + 7 - (e.g + 6) % 7) / 7), 2);
  }, "%y":function(e) {
    return (e.i + 1900).toString().substring(2);
  }, "%Y":function(e) {
    return e.i + 1900;
  }, "%z":function(e) {
    e = e.I;
    var p = 0 <= e;
    e = Math.abs(e) / 60;
    return (p ? "+" : "-") + String("0000" + (e / 60 * 100 + e % 60)).slice(-4);
  }, "%Z":function(e) {
    return e.L;
  }, "%%":function() {
    return "%";
  }};
  b = b.replace(/%%/g, "\\x00\\x00");
  for (q in m) {
    b.includes(q) && (b = b.replace(new RegExp(q, "g"), m[q](d)));
  }
  b = b.replace(/\\0\\0/g, "%");
  q = Wa(b, !1);
  if (q.length > c) {
    return 0;
  }
  H.set(q, a);
  return q.length - 1;
}
for (var Ya = Array(256), W = 0; 256 > W; ++W) {
  Ya[W] = String.fromCharCode(W);
}
wa = Ya;
Ca = g.BindingError = Ba("BindingError");
g.InternalError = Ba("InternalError");
g.count_emval_handles = function() {
  for (var a = 0, c = 5; c < U.length; ++c) {
    void 0 !== U[c] && ++a;
  }
  return a;
};
g.get_first_emval = function() {
  for (var a = 5; a < U.length; ++a) {
    if (void 0 !== U[a]) {
      return U[a];
    }
  }
  return null;
};
var sa = "function" == typeof atob ? atob : function(a) {
  var c = "", b = 0;
  a = a.replace(/[^A-Za-z0-9\\+\\/=]/g, "");
  do {
    var d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));
    var f = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));
    var k = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));
    var h = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(b++));
    d = d << 2 | f >> 4;
    f = (f & 15) << 4 | k >> 2;
    var l = (k & 3) << 6 | h;
    c += String.fromCharCode(d);
    64 !== k && (c += String.fromCharCode(f));
    64 !== h && (c += String.fromCharCode(l));
  } while (b < a.length);
  return c;
}, $a = {__cxa_throw:function(a, c, b) {
  (new ta(a)).u(c, b);
  ua++;
  throw a;
}, _embind_register_bigint:function() {
}, _embind_register_bool:function(a, c, b, d, f) {
  var k = va(b);
  c = R(c);
  T(a, {name:c, fromWireType:function(h) {
    return !!h;
  }, toWireType:function(h, l) {
    return l ? d : f;
  }, argPackAdvance:8, readValueFromPointer:function(h) {
    if (1 === b) {
      var l = H;
    } else if (2 === b) {
      l = I;
    } else if (4 === b) {
      l = K;
    } else {
      throw new TypeError("Unknown boolean type size: " + c);
    }
    return this.fromWireType(l[h >> k]);
  }, l:null,});
}, _embind_register_emval:function(a, c) {
  c = R(c);
  T(a, {name:c, fromWireType:function(b) {
    b || S("Cannot use deleted val. handle = " + b);
    var d = U[b].value;
    4 < b && 0 === --U[b].G && (U[b] = void 0, Da.push(b));
    return d;
  }, toWireType:function(b, d) {
    return Ea(d);
  }, argPackAdvance:8, readValueFromPointer:Ga, l:null,});
}, _embind_register_float:function(a, c, b) {
  b = va(b);
  c = R(c);
  T(a, {name:c, fromWireType:function(d) {
    return d;
  }, toWireType:function(d, f) {
    return f;
  }, argPackAdvance:8, readValueFromPointer:Ha(c, b), l:null,});
}, _embind_register_integer:function(a, c, b, d, f) {
  c = R(c);
  -1 === f && (f = 4294967295);
  f = va(b);
  var k = l => l;
  if (0 === d) {
    var h = 32 - 8 * b;
    k = l => l << h >>> h;
  }
  b = c.includes("unsigned") ? function(l, n) {
    return n >>> 0;
  } : function(l, n) {
    return n;
  };
  T(a, {name:c, fromWireType:k, toWireType:b, argPackAdvance:8, readValueFromPointer:Ia(c, f, 0 !== d), l:null,});
}, _embind_register_memory_view:function(a, c, b) {
  function d(k) {
    k >>= 2;
    var h = L;
    return new f(G, h[k + 1], h[k]);
  }
  var f = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array,][c];
  b = R(b);
  T(a, {name:b, fromWireType:d, argPackAdvance:8, readValueFromPointer:d,}, {A:!0,});
}, _embind_register_std_string:function(a, c) {
  c = R(c);
  var b = "std::string" === c;
  T(a, {name:c, fromWireType:function(d) {
    var f = L[d >> 2], k = d + 4;
    if (b) {
      for (var h = k, l = 0; l <= f; ++l) {
        var n = k + l;
        if (l == f || 0 == C[n]) {
          h = A(h, n - h);
          if (void 0 === m) {
            var m = h;
          } else {
            m += String.fromCharCode(0), m += h;
          }
          h = n + 1;
        }
      }
    } else {
      m = Array(f);
      for (l = 0; l < f; ++l) {
        m[l] = String.fromCharCode(C[k + l]);
      }
      m = m.join("");
    }
    X(d);
    return m;
  }, toWireType:function(d, f) {
    f instanceof ArrayBuffer && (f = new Uint8Array(f));
    var k, h = "string" == typeof f;
    h || f instanceof Uint8Array || f instanceof Uint8ClampedArray || f instanceof Int8Array || S("Cannot pass non-string to std::string");
    b && h ? k = E(f) : k = f.length;
    var l = Za(4 + k + 1), n = l + 4;
    L[l >> 2] = k;
    if (b && h) {
      D(f, C, n, k + 1);
    } else {
      if (h) {
        for (h = 0; h < k; ++h) {
          var m = f.charCodeAt(h);
          255 < m && (X(n), S("String has UTF-16 code units that do not fit in 8 bits"));
          C[n + h] = m;
        }
      } else {
        for (h = 0; h < k; ++h) {
          C[n + h] = f[h];
        }
      }
    }
    null !== d && d.push(X, l);
    return l;
  }, argPackAdvance:8, readValueFromPointer:Ga, l:function(d) {
    X(d);
  },});
}, _embind_register_std_wstring:function(a, c, b) {
  b = R(b);
  if (2 === c) {
    var d = Ka;
    var f = La;
    var k = Ma;
    var h = () => J;
    var l = 1;
  } else {
    4 === c && (d = Na, f = Oa, k = Pa, h = () => L, l = 2);
  }
  T(a, {name:b, fromWireType:function(n) {
    for (var m = L[n >> 2], q = h(), w, B = n + 4, e = 0; e <= m; ++e) {
      var p = n + 4 + e * c;
      if (e == m || 0 == q[p >> l]) {
        B = d(B, p - B), void 0 === w ? w = B : (w += String.fromCharCode(0), w += B), B = p + c;
      }
    }
    X(n);
    return w;
  }, toWireType:function(n, m) {
    "string" != typeof m && S("Cannot pass non-string to C++ string type " + b);
    var q = k(m), w = Za(4 + q + c);
    L[w >> 2] = q >> l;
    f(m, w + 4, q + c);
    null !== n && n.push(X, w);
    return w;
  }, argPackAdvance:8, readValueFromPointer:Ga, l:function(n) {
    X(n);
  },});
}, _embind_register_void:function(a, c) {
  c = R(c);
  T(a, {M:!0, name:c, argPackAdvance:0, fromWireType:function() {
  }, toWireType:function() {
  },});
}, abort:function() {
  y("");
}, emscripten_memcpy_big:function(a, c, b) {
  C.copyWithin(a, c, c + b);
}, emscripten_resize_heap:function(a) {
  var c = C.length;
  a >>>= 0;
  if (2147483648 < a) {
    return !1;
  }
  for (var b = 1; 4 >= b; b *= 2) {
    var d = c * (1 + 0.2 / b);
    d = Math.min(d, a + 100663296);
    var f = Math;
    d = Math.max(a, d);
    f = f.min.call(f, 2147483648, d + (65536 - d % 65536) % 65536);
    a: {
      try {
        z.grow(f - G.byteLength + 65535 >>> 16);
        ka();
        var k = 1;
        break a;
      } catch (h) {
      }
      k = void 0;
    }
    if (k) {
      return !0;
    }
  }
  return !1;
}, environ_get:function(a, c) {
  var b = 0;
  Ra().forEach(function(d, f) {
    var k = c + b;
    f = L[a + 4 * f >> 2] = k;
    for (k = 0; k < d.length; ++k) {
      H[f++ >> 0] = d.charCodeAt(k);
    }
    H[f >> 0] = 0;
    b += d.length + 1;
  });
  return 0;
}, environ_sizes_get:function(a, c) {
  var b = Ra();
  L[a >> 2] = b.length;
  var d = 0;
  b.forEach(function(f) {
    d += f.length + 1;
  });
  L[c >> 2] = d;
  return 0;
}, fd_close:function() {
  return 52;
}, fd_seek:function() {
  return 70;
}, fd_write:function(a, c, b, d) {
  for (var f = 0, k = 0; k < b; k++) {
    var h = L[c >> 2], l = L[c + 4 >> 2];
    c += 8;
    for (var n = 0; n < l; n++) {
      var m = C[h + n], q = Ta[a];
      0 === m || 10 === m ? ((1 === a ? da : v)(ha(q, 0)), q.length = 0) : q.push(m);
    }
    f += l;
  }
  L[d >> 2] = f;
  return 0;
}, strftime_l:function(a, c, b, d) {
  return Xa(a, c, b, d);
}}, Y = function() {
  function a(b) {
    g.asm = b.exports;
    z = g.asm.memory;
    ka();
    ma.unshift(g.asm.__wasm_call_ctors);
    M--;
    g.monitorRunDependencies && g.monitorRunDependencies(M);
    0 == M && (null !== N && (clearInterval(N), N = null), O && (b = O, O = null, b()));
  }
  var c = {env:$a, wasi_snapshot_preview1:$a,};
  M++;
  g.monitorRunDependencies && g.monitorRunDependencies(M);
  if (g.instantiateWasm) {
    try {
      return g.instantiateWasm(c, a);
    } catch (b) {
      v("Module.instantiateWasm callback failed with error: " + b), t(b);
    }
  }
  c = ra(c);
  a(c[0]);
  return g.asm;
}();
g.___wasm_call_ctors = Y.__wasm_call_ctors;
g._parseToMiniSdp = Y.parseToMiniSdp;
g._getBuffer = Y.getBuffer;
g._loadMiniSdpToSdp = Y.loadMiniSdpToSdp;
var Za = g._malloc = Y.malloc;
g.___getTypeName = Y.__getTypeName;
g.__embind_initialize_bindings = Y._embind_initialize_bindings;
g.___errno_location = Y.__errno_location;
var X = g._free = Y.free, ab = g.stackSave = Y.stackSave, bb = g.stackRestore = Y.stackRestore, cb = g.stackAlloc = Y.stackAlloc;
g.___cxa_is_pointer_type = Y.__cxa_is_pointer_type;
g.dynCall_viijii = Y.dynCall_viijii;
g.dynCall_iiiiij = Y.dynCall_iiiiij;
g.dynCall_iiiiijj = Y.dynCall_iiiiijj;
g.dynCall_iiiiiijj = Y.dynCall_iiiiiijj;
g.dynCall_jiji = Y.dynCall_jiji;
g.UTF8ToString = A;
g.ccall = function(a, c, b, d) {
  var f = {string:m => {
    var q = 0;
    if (null !== m && void 0 !== m && 0 !== m) {
      var w = (m.length << 2) + 1;
      q = cb(w);
      D(m, C, q, w);
    }
    return q;
  }, array:m => {
    var q = cb(m.length);
    H.set(m, q);
    return q;
  }};
  a = g["_" + a];
  var k = [], h = 0;
  if (d) {
    for (var l = 0; l < d.length; l++) {
      var n = f[b[l]];
      n ? (0 === h && (h = ab()), k[l] = n(d[l])) : k[l] = d[l];
    }
  }
  b = a.apply(null, k);
  return b = function(m) {
    0 !== h && bb(h);
    return "string" === c ? A(m) : "boolean" === c ? !!m : m;
  }(b);
};
g.intArrayFromString = Wa;
g.allocateUTF8 = function(a) {
  var c = E(a) + 1, b = Za(c);
  b && D(a, H, b, c);
  return b;
};
var Z;
O = function db() {
  Z || eb();
  Z || (O = db);
};
function eb() {
  function a() {
    if (!Z && (Z = !0, g.calledRun = !0, !ea)) {
      Q(ma);
      aa(g);
      if (g.onRuntimeInitialized) {
        g.onRuntimeInitialized();
      }
      if (g.postRun) {
        for ("function" == typeof g.postRun && (g.postRun = [g.postRun]); g.postRun.length;) {
          var c = g.postRun.shift();
          na.unshift(c);
        }
      }
      Q(na);
    }
  }
  if (!(0 < M)) {
    if (g.preRun) {
      for ("function" == typeof g.preRun && (g.preRun = [g.preRun]); g.preRun.length;) {
        oa();
      }
    }
    Q(la);
    0 < M || (g.setStatus ? (g.setStatus("Running..."), setTimeout(function() {
      setTimeout(function() {
        g.setStatus("");
      }, 1);
      a();
    }, 1)) : a());
  }
}
if (g.preInit) {
  for ("function" == typeof g.preInit && (g.preInit = [g.preInit]); 0 < g.preInit.length;) {
    g.preInit.pop()();
  }
}
eb();



  return Module
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
  module.exports = Module;
else if (typeof define === 'function' && define['amd'])
  define([], function() { return Module; });
else if (typeof exports === 'object')
  exports["Module"] = Module;
;this._ModuleFn=Module;`],{type:"text/javascript"}));this.worker.postMessage({command:"init",val:s}),this.worker.onmessage=function(d){var g=d.data;g.eventId&&t.msgSuccessCallBack[g.eventId]instanceof Function&&(t.msgSuccessCallBack[g.eventId]({code:g.code,data:g.data}),delete t.msgSuccessCallBack[g.eventId])},this.worker.onmessageerror=function(d){console.error("Error receiving message from worker: ".concat(d))},this.worker.onerror=function(d){console.error(d)}}return A.prototype.messageHandler=function(t){var n=this;return new Promise(function(o){var s=Math.floor(10*Math.random());t.eventId="".concat(t.command,`_ 
        `).concat(Date.now().toString(16).slice(s,s+6)),n.worker.postMessage(t),n.msgSuccessCallBack[t.eventId]=function(d){o(d)}})},A.prototype.parseToMiniSdp=function(t){return pc(this,void 0,void 0,function(){var n=this;return fc(this,function(o){return[2,new Promise(function(s,d){return pc(n,void 0,void 0,function(){var g,E;return fc(this,function(b){switch(b.label){case 0:return typeof t=="string"&&t?[4,this.messageHandler({command:"parseToMiniSdp",val:t})]:(d(_r),[2]);case 1:if((g=b.sent()).code===0)s(g.data);else{switch(E=void 0,g.code){case-1:E=dt;break;case-2:E=It;break;case-3:E=rt}d(E)}return[2]}})})})]})})},A.prototype.loadMiniSdpToOriginSdp=function(t){return pc(this,void 0,void 0,function(){var n=this;return fc(this,function(o){return[2,new Promise(function(s,d){return pc(n,void 0,void 0,function(){var g;return fc(this,function(E){switch(E.label){case 0:return t instanceof Uint8Array?[4,this.messageHandler({command:"loadMiniSdpToOriginSdp",val:t})]:(d(_r),[2]);case 1:return(g=E.sent()).code==0&&s(g.data),[2]}})})})]})})},Object.defineProperty(A,"isSupported",{get:function(){return!(!window.WebAssembly||!window.Worker)},enumerable:!1,configurable:!0}),A.prototype.destroy=function(){this.worker.terminate()},A}();(function(A){A.SAVED_CHARGEINFO_REPORT="zc.bill.scir",A.CHARGEINFO_SAVING_LOCALSTORAGE="zc.bill.cisl",A.CHARGEINFO_GET_AND_REMOVE_LOCALSTORAGE="zc.bill.cigrl",A.START_CHARGE_INFO_TIMER="zc.bill.tm.scit"})(zs||(zs={}));var ko,gh=function(){function A(t,n){this.logger=t,this.stateCenter=n,this.chargeInfosInterval=6e4,this.reporting=!1}return Object.defineProperty(A.prototype,"streamCenter",{get:function(){return this.stateCenter.streamCenter},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"streamReport",{get:function(){var t;return(t=this.streamCenter)===null||t===void 0?void 0:t.streamReport},enumerable:!1,configurable:!0}),A.prototype.isAllPlayingCdnAndL3=function(){var t=0,n=0,o=this.streamCenter.playerList;for(var s in o){var d=o[s];d.player.state==K&&(t++,d.player.resourceMode!==0&&n++)}return t==n&&t!==0},Object.defineProperty(A.prototype,"roomChargeInfos",{get:function(){return this._roomChargeInfos||(this._roomChargeInfos={roomid:"",timestamp_begin:0,timestamp_end:0,timestamp_diff_flag:0,timestamp_diff:0,infos:[]}),this._roomChargeInfos.timestamp_begin=new Date().getTime(),this._roomChargeInfos.timestamp_end!==0?(this._roomChargeInfos.timestamp_diff=this._roomChargeInfos.timestamp_begin-this._roomChargeInfos.timestamp_end,this._roomChargeInfos.timestamp_diff_flag=1):(this._roomChargeInfos.timestamp_diff=0,this._roomChargeInfos.timestamp_diff_flag=0),this._roomChargeInfos.timestamp_end=new Date().getTime(),this._roomChargeInfos.infos=[{is_publishing:0,play_max_audio_bitrate:0,play_stream_resolution_infos:[],no_playing:1}],this._roomChargeInfos},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"shouldEnd",{get:function(){var t;return!!this.reporting&&(this.shouldReportRoomTime?((t=this.stateCenter.rtm)===null||t===void 0?void 0:t.stateCenter.roomModulesList.filter(function(n){return!n.isLogout()||!n.isDisConnect()}).length)===0:!this.streamCenter||!this.streamCenter.signalList||Object.keys(this.streamCenter.signalList).length===0)},enumerable:!1,configurable:!0}),A.prototype.report=function(){var t=this;this.streamCenter?this.isAllPlayingCdnAndL3()?this.logger.info("zc.bill.tm.r.0 not report"):this.getRoomIDList().forEach(function(n){var o,s=t.samplingChargeInfos(n);(o=t.streamReport)===null||o===void 0||o.uploadChargeInfos(s)}):this.logger.info("zc.bill.tm.r.0 no stream center")},Object.defineProperty(A.prototype,"shouldReportRoomTime",{get:function(){var t,n,o;return!(!(!((t=this.stateCenter.rtm)===null||t===void 0)&&t.stateCenter.appConfig)||!(!((n=this.stateCenter.rtm)===null||n===void 0)&&n.stateCenter.appConfig.speedlog_config)||((o=this.stateCenter.rtm)===null||o===void 0?void 0:o.stateCenter.appConfig.speedlog_config.charge_info_report_no_playing)!==1)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"isReporting",{get:function(){return this.reporting},enumerable:!1,configurable:!0}),A.prototype.startChargeInfoTimer=function(){var t=this;if(this.chargeInfosTimer&&(clearTimeout(Number(this.chargeInfosTimer)),this.chargeInfosTimer=null,this.shouldEnd))return this.logger.info(zs.START_CHARGE_INFO_TIMER+" chargeinfos timer report ended"),void(this.reporting=!1);this.chargeInfosTimer=setTimeout(function(){t.report(),t.startChargeInfoTimer()},this.chargeInfosInterval)},A.prototype.startChargeInfosUpload=function(){this.reporting||(this.reporting=!0,this.shouldReportRoomTime&&this.report(),this.startChargeInfoTimer(),this.logger.info("zsc.sciu.0 call"))},A.prototype.stopChargeInfosUpload=function(){this.logger.info("zsc.sciu.1 call"),this.chargeInfosTimer&&this.shouldEnd&&(this.logger.info("zsc.sciu.1 stop"),clearTimeout(Number(this.chargeInfosTimer)),this.chargeInfosTimer=null,this.shouldReportRoomTime&&this.report(),this.reporting=!1,this.logger.info("zsc.sciu.1 chargeinfos timer report ended"))},A.prototype.destroy=function(){this.logger.info("zsc.ds.0 call"),this.chargeInfosTimer&&(clearTimeout(Number(this.chargeInfosTimer)),this.chargeInfosTimer=null),this.reporting=!1},A.prototype.getRoomIDList=function(){var t,n=[];return(t=this.stateCenter.rtm)===null||t===void 0||t.stateCenter.roomModulesList.filter(function(o){n.push(o.roomID)}),n},A.prototype.samplingChargeInfos=function(t){return this.streamCenter?this.streamCenter.getChargeInfos(t):this.roomChargeInfos},A}(),dh=function(){function A(t,n){var o=this;this.logger=t,this.stateCenter=n,this.beforeunloadListener=function(){var s;if(o.billingTimer.isReporting){var d=[];(s=o.stateCenter.rtm)===null||s===void 0||s.stateCenter.roomModulesList.forEach(function(g){d.push(o.billingTimer.samplingChargeInfos(g.roomID))}),o.saveChargeInfosByLocalStorage(d)}},this.bindListener(),this.bindDestroyListener()}return Object.defineProperty(A.prototype,"billingTimer",{get:function(){return this.stateCenter.streamCenter.billingTimer},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"KEY",{get:function(){var t;return"z_cginfos_cache_".concat((t=this.stateCenter.rtm)===null||t===void 0?void 0:t.stateCenter.appid)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"streamReport",{get:function(){var t;return(t=this.stateCenter.streamCenter)===null||t===void 0?void 0:t.streamReport},enumerable:!1,configurable:!0}),A.prototype.bindListener=function(){window.addEventListener("beforeunload",this.beforeunloadListener)},A.prototype.offListener=function(){window.removeEventListener("beforeunload",this.beforeunloadListener)},A.prototype.bindDestroyListener=function(){var t=this;this.stateCenter.listenerList._engineDestroy.push(function(){t.offListener()})},A.prototype.saveChargeInfosByLocalStorage=function(t){return this.logger.info(zs.CHARGEINFO_SAVING_LOCALSTORAGE+" call"),localStorage&&localStorage.setItem(this.KEY,JSON.stringify(t))},A.prototype.getAndRemoveChargeInfosFromLocalStorage=function(){this.logger.info(zs.CHARGEINFO_GET_AND_REMOVE_LOCALSTORAGE+" call");try{var t=localStorage.getItem(this.KEY);return localStorage.removeItem(this.KEY),t}catch{return null}},A.prototype.report=function(t){var n;(n=this.streamReport)===null||n===void 0||n.uploadChargeInfos(t)},A.prototype.checkAndReport=function(){this.logger.info(zs.SAVED_CHARGEINFO_REPORT+" call");var t=this.getAndRemoveChargeInfosFromLocalStorage();if(t!=null){var n=JSON.parse(t);this.report(n),this.logger.info(zs.SAVED_CHARGEINFO_REPORT+" reported")}},A}(),hh=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Is=function(){return Is=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},Is.apply(this,arguments)};(function(A){A[A.NotReUse=0]="NotReUse",A[A.TheSameReUse=1]="TheSameReUse",A[A.DiffReUse=2]="DiffReUse",A[A.AllReUse=3]="AllReUse"})(ko||(ko={}));var wi=tn,ai=fn,ph=function(A){function t(n,o,s,d,g,E){var b,S,l=this;return(l=A.call(this)||this).logger=n,l.stateCenter=o,l.dataReport=s,l.rtm=d,l.acMgr=g,l.geo=E,l.testEnvironment=!1,l.playModule=null,l.heartbeatTimer=null,l.heartbeatInterval=1e4,l.qualityTimerInterval=3e3,l.qualityUploadInterval=3e3,l.previewStreamList=[],l.signalList={},l.chargeInfos={},l.soundLevelDelegate=!1,l.soundLevelInterval=1e3,l.enableInBackground=!1,l.isPeer=!0,l.probeList={},l.isMicEnabled=!0,l.isDataChannelEnabled=!1,l.targetQuality=Ft.MiddleMinQuality,l.gwNode="",l.playerList={},l.stopedPlayerList={},l.publisherList={},l.playSuccessCallBackList={},l.playErrorCallBackList={},l.waitPublishList=[],l.waitPlayList=[],l.autoSwitchProtocol=!0,l.udpFailNum=0,l.maxUdpFailNum=2,l.qualityInterval=3e3,l.switchScore=60,l.defaultBadQualityTime=3e4,l.l3BadQualityTime=1e4,l.switchDetectResultScore=60,l.cdnBadQualityScore=60,l.l3BadQualityScore=60,l.multiPlaySwitchRate=.8,l.protocolBadQualityCount=3,l.protocolBadQualityTime=12e3,l.protocolQualityCacheExpiredTime=18e4,l.fallbackInhibitionTime=18e4,l.probeExpiredTime=3e4,l.minProbeInterval=15e3,l.l3DetectedTimestamp=0,l.l3DetectResult=0,l.isL3Fallback=!1,l.cdnProtocolBadTimestamp=0,l.l3ProtocolBadTimestamp=0,l.lastHandleCDNBadTimestamp=0,l.lastHandleL3BadTimestamp=0,l.cdnProtocolBadTime=0,l.l3ProtocolBadTime=0,l.probeStartedNum=3,l.cachedGwNodesList={},l.cachedGwNodesMode=ko.TheSameReUse,l.txQuality=-1,l.rxQuality=-1,l.isRegisterQualityPush=!1,l.netTimer=null,l.useCopyMusic=!1,l.lazyEndSignalHandler=(S={},{isLazyEnd:function(){return!0},startLazyEndTimer:function(J,he){S[J]&&clearTimeout(S[J].timer),S[J]={},S[J].callback=he,S[J].timer=setTimeout(function(){he(),delete S[J]},9e4)},clearLazyEndTimer:function(J){S[J]&&(clearTimeout(S[J].timer),delete S[J])},endAll:function(){for(var J in S)clearTimeout(S[J].timer),S[J].callback(),delete S[J]},hasEndTask:function(J){return!!S[J]},end:function(J){S[J]&&(clearTimeout(S[J].timer),S[J].callback(),delete S[J])}}),l.miniSdpWorker=null,l.tryCountConnectInterval=3e3,l.checkMessageTimeout=function(){for(var J in l.signalList)l.signalList[J].signal&&l.signalList[J].signal.checkMessageTimeout()},l.getAllInUseUrl=function(){var J=[];for(var he in l.signalList)J.push(he);return J},l.onDisconnectHandle=function(J,he){if(l.logger.info("zsc.od.0 call"),l.signalList[J]){for(var _e=l.signalList[J],Ce=0;Ce<_e.publishConnectedList.length;Ce++){var Oe=l.publisherList[_e.publishConnectedList[Ce]];Oe&&Oe.publisher&&Oe.publisher.onDisconnect(he)}for(Ce=0;Ce<_e.playConnectedList.length;Ce++){var $e=l.playerList[_e.playConnectedList[Ce]];$e&&$e.player&&$e.player.onDisconnect(he)}delete l.signalList[J],l.stopSignalHeartbeat(),l.billingTimer.stopChargeInfosUpload(),l.stopSoundLevel()}},l.onReconnectHandle=function(J){var he;for(var _e in l.logger.info("zsc.orh.0 call"),l.publisherList){var Ce=l.publisherList[_e].publisher,Oe=l.publisherList[_e].retryStreamHandler;Ce.state==O||Ce.stateNego!==Et.iceConnected?!Oe.isOverTime&&Oe.publishStateHandle(pr,_e,tn.error.kPublishNetworkBrokenError):Ce.state==L&&Oe.stopMaxTime()}for(var _e in l.playerList){var $e=l.playerList[_e],ze=$e.player;Oe=$e.retryStreamHandler,((he=ze.signal)===null||he===void 0?void 0:he.server)===J&&(ze.state==x||$e.playMode!==Ut.CDN&&ze.stateNego!==j.iceConnected?!Oe.isOverTime&&Oe.playStateHandle(Kt,_e,fn.error.kPlayNetworkBrokenError):ze.state==K&&Oe.stopMaxTime())}},l.eventHandler={visibilitychange:function(){var J=!document.hidden;!l.enableInBackground&&l.soundLevelDelegate&&(J?(l.enableSoundLevelProcessor(!0),l.activeSoundLevel(),l.ac.state==="suspended"&&l.ac.resume()):(l.soundLevelTimer&&clearTimeout(l.soundLevelTimer),l.soundLevelTimer=null,l.enableSoundLevelProcessor(!1)))}},l.rtm._on("_roomStateUpdate",function(J,he){for(var _e in l.playerList){var Ce=l.playerList[_e],Oe=Ce.cdnPlayer;Ce.room.roomID==J&&Oe&&Ce.player.state===K&&Ce.playMode==Ut.CDN&&(he=="CONNECTED"?(Oe.canRetry=!0,Oe.retry()):he==="DISCONNECTED"&&l.stopPlayingStream(_e))}}),document.addEventListener("visibilitychange",l.eventHandler.visibilitychange),(b=l.rtm.netAgent)===null||b===void 0||b.on("clientInfo",function(J){if(l.stateCenter.accessClientIp&&(J!=null&&J.clientIP)&&l.stateCenter.accessClientIp!==J.clientIP){for(var he in l.logger.warn(Il+" client ip changed "+l.stateCenter.accessClientIp+" "+J.clientIP),l.publisherList){var _e=l.publisherList[he].publisher;_e.resetGwNodes(),l.clearCachedGwNodesList(_e,!0)}for(var he in l.playerList){var Ce=l.playerList[he].player;Ce.resetGwNodes(),l.clearCachedGwNodesList(Ce,!1)}}l.stateCenter.accessClientIp=J.clientIP,typeof(J==null?void 0:J.timeOffset)=="number"&&(l.stateCenter.clientTimeOffset=J==null?void 0:J.timeOffset),l.updateTimeOffsetInterval(),l.stateCenter.accessClientIp=J.clientIP}),l.streamReport=new uh(n,o,l),l}return hh(t,A),Object.defineProperty(t.prototype,"ac",{get:function(){return this.acMgr.ac},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"billingTimer",{get:function(){return this._billingTimer||(this._billingTimer=new gh(this.logger,this.stateCenter)),this._billingTimer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chargeInfosSaver",{get:function(){return this._chargeInfosSaver||(this._chargeInfosSaver=new dh(this.logger,this.stateCenter)),this._chargeInfosSaver},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraPreviewStream",{get:function(){return this.previewStreamList.find(function(n){return n.previewType==="camera"})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"microphonePreviews",{get:function(){return this.previewStreamList.filter(function(n){return n.previewType==="camera"&&n.micTrack})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldReportNoPlaying",{get:function(){return this.billingTimer.shouldReportRoomTime},enumerable:!1,configurable:!0}),t.prototype.initMiniSdpWorker=function(n){var o;n&&_g.isSupported?this.miniSdpWorker=this.miniSdpWorker||new _g:((o=this.miniSdpWorker)===null||o===void 0||o.destroy(),this.miniSdpWorker=null)},t.prototype.onSignalDisconnected=function(n){},t.prototype.setQualityMonitorCycle=function(n){var o=this;return this.logger.debug("zsc.qmc.0 timeInterval "+n),Object.keys(this.publisherList).length==0?this.qualityTimerInterval=n:Object.keys(this.publisherList).forEach(function(s){o.publisherList[s].publisher.qualityTimeInterval=n,o.publisherList[s].publisher.qualityHandler.setPublishQualityTimer()}),!0},t.prototype.setSessionInfo=function(n,o,s){this.logger.debug("zsc.ssi.0 called"),this.appid=n,this.userid=o,this.testEnvironment=s},t.prototype.onPlayStateUpdate=function(n,o,s,d){},t.prototype.onPlayQualityUpdate=function(n,o){},t.prototype.onPublishStateUpdate=function(n,o,s){},t.prototype.onPublishQualityUpdate=function(n,o){},t.prototype.onUpdateHeartBeatIntervalHandle=function(n){n!=this.heartbeatInterval&&(this.logger.debug("zsc.uhb.0 update "+n),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null),this.heartbeatInterval=n,this.startSignalHeartbeat())},t.prototype.setPublishStateStart=function(n,o,s,d,g,E){var b,S,l=this;this.logger.info("zsc.pss.0 call "+o);var J=this.checkPreview(s);if(!J)return this.logger.error("zsc.pss.0 stream not found"),!1;if(this.publisherList[o])return this.logger.error("zsc.pss.0 publisher already exist"),this.stateCenter.reporter.spanSetAttributes({key:wi.event,par:o},{error:wi.error.kIsPublishing.code,message:wi.error.kIsPublishing.message}),!1;var he=new bu(o,this.logger,this.dataReport,this.stateCenter.engineConfig.publishQualityInterval||this.qualityTimerInterval,this.qualityUploadInterval,this,this.stateCenter,J);he.state=q,he.isPeer=this.isPeer,he.reportSeq=this.stateCenter.reportSeqList.startPublish[o],he.isExternal=!0,he.cachedGwNodesMode=this.cachedGwNodesMode,he.parentSpanKey=Bn.event;var _e=(b=J==null?void 0:J.videoTrack)===null||b===void 0?void 0:b.label,Ce="",Oe="",$e=s.getAudioTracks()[0]&&s.getAudioTracks()[0].label;try{Ce=(S=J==null?void 0:J.videoTrack)===null||S===void 0?void 0:S.getSettings().deviceId,Oe=s.getAudioTracks()[0]&&s.getAudioTracks()[0].getSettings().deviceId}catch(Xe){this.logger.warn("zsc.pss.0 get device id failed. error: "+Xe)}var ze=new vg(this.logger,this.stateCenter,this,!0);return this.publisherList[o]={seq:0,room:n,localStream:s,publisher:he,serverUrls:[],ttl:0,isCenterNode:!0,streamID:o,publishOption:d,cameraLabel:_e||"",microLabel:$e||"",cameraDeviceId:Ce||"",microDeviceId:Oe||"",deviceStateCount:0,retryStreamHandler:ze,retryDispatchHandler:new Qg(this.logger,this.stateCenter,this.rtm,this),isDataChannel:E,streamSid:g},he.onPublishStateUpdate=function(Xe,et,gt,_t,Bt,ut){var Ct=l.publisherList[et];Ct?Ct.retryStreamHandler.publishStateHandle(Xe,Ct.streamID,gt,_t,Bt,ut):l.logger.error("zsc.psuh.0 cannot find publish "+o)},he.onPublishQualityUpdate=function(Xe,et){var gt=l.publisherList[Xe];gt?(l.stateCenter.deviceStateOut&&et.audio.audioBitrate===0?(gt.deviceStateCount++,gt.deviceStateCount>=2&&(gt.deviceStateCount=0,l.stateCenter.deviceStateOut=!1,l.logger.warn("zsc.pss.0 publish audio error by device"))):gt.deviceStateCount=0,l.onPublishQualityUpdate(gt.streamID,et)):l.logger.error("zsc.psuh.0 cannot find publish "+o)},!0},t.prototype.startPublishingStream=function(n,o){o===void 0&&(o=!1),this.logger.info("zsc.sps.0 call");var s=this.publisherList[n];if(!s)return this.logger.error("zsc.sps.0 publisher don't exist"),!1;if(!o){if(this.stateCenter.reporter.spanSetAttributes({key:wi.event,par:n},{urls:wi.urls(s.serverUrls),is_center:wi.is_center(s.isCenterNode)}),!s.serverUrls||s.serverUrls.length===0)return s.retryStreamHandler.publishStateHandle(pr,n,Kr),this.logger.info("zsc.sps.0 server don't have signal url"),!0;var d=s.serverUrls.indexOf(this.server);d!==-1&&(s.serverUrls.splice(d,1),s.serverUrls.unshift(this.server))}var g=s.retryStreamHandler;return g.invalid(),g.init(this.stateCenter.streamRetryTime),g.initStream(n,s.serverUrls),g.startMaxTime(),g.activePublish(0)},t.prototype.updateWaitingList=function(n,o,s,d,g){var E={streamID:s,success:d,error:g};o?n.publishWaitingList.push(E):n.playWaitingList.push(E)},t.prototype.publishStream=function(n){var o=this;this.logger.info("zsc.ps.0 ".concat(n," call"));var s=this.publisherList[n].publisher;if(s)if(this.logger.info("zsc.ps.0 ".concat(n," state ").concat(s.state)),s.state<=L&&s.state>=te)this.logger.warn("zsc.ps.0 ".concat(n," publisher is progress"));else{var d=null,g=null,E=this.publisherList[n].publishOption,b=this.checkPreview(this.publisherList[n].localStream);b?(g=b.videoInfo,(d=b.localStream)&&d.getTracks().forEach(function(S){gi(S,o.logger,"zsc.ps.0")}),this.stateCenter.reporter.spanSetAttributes({key:wi.event,par:n},{cap_w:wi.cap_w(b.videoInfo.width),cap_h:wi.cap_h(b.videoInfo.height),w:wi.w(b.videoInfo.width),h:wi.h(b.videoInfo.height),video_en_fps:wi.video_en_fps(b.videoInfo.frameRate),video_en_bps:wi.video_en_bps(1e3*b.videoInfo.bitRate)}),d?(this.logger.info("zsc.ps.0 call success"),this.setStreamGwNode(s,!0),s.startPublish(n,d,g,b.mediaStreamConfig,E)):this.logger.error("zsc.ps.0 no localStream found")):this.logger.error("zsc.ps.0 no preview found")}else this.logger.info("zsc.ps.0 publisher don't exist")},t.prototype.connectPublishServer=function(n,o){var s=this,d=this.publisherList[n];if(!d)return this.logger.error("zsc.cps.0 publisher don't exist"),!1;var g=Date.now();return this.stateCenter.reporter.createSpan(Zt.H,{key:d.publisher.parentSpanKey,par:n},{key:Rt,par:n},Rt,!0),this.connectWithReuseSignalServer(n,!0,o,function(E,b,S){var l=s.publisherList[E];if(l){var J=l.publisher;if(J){var he=Date.now()-g;s.stateCenter.reporter.spanSetAttributes({key:J.parentSpanKey,par:E},{dispatch_consume:An.dispatch_consume(he)}),J.reportSpan.setAttributes({server_url:di.server_url(S)}),s.stateCenter.reporter.spanSetAttributes({key:wi.event,par:E},{server_url:wi.server_url(S)}),s.stateCenter.reporter.spanEnd({key:Rt,par:E},{result:0,server_url:Jt(S)}),s.logger.info("zsc.cps.0 update token success"),J.signal=b.signal,s.server=S,s.stateCenter.useNetAgent||s.startPublishingTask(E)}else s.logger.info("zsc.cps.1 check publisher don't exist")}else s.logger.info("zsc.cps.0 after connect publisher don't exist")},function(E,b){s.logger.error("zsc.cps.0 "+E+" connect fail "+JSON.stringify(b));var S=s.publisherList[E];if(S)if(S.publisher){var l,J=!1;b&&b.code===Gr.code?(l=Is({},Gr),J=!0):((l=Is({},Tr)).message=l.message+" "+b,b===1008&&(l=Hr,J=!0),b===20010&&(J=!0,l=JSON.parse(JSON.stringify(qr)))),s.stateCenter.reporter.spanEnd({key:Rt,par:E},{result:b,error:l.code,message:l.message}),S.retryStreamHandler.publishStateHandle(pr,E,l,J)}else s.logger.info("zsc.cps.1 check publisher don't exist");else s.logger.info("zsc.cps.0 after connect publisher don't exist")},function(E,b){s.logger.info("zsc.cps.0 "+n+" connect complete");var S=s.publisherList[n];if(S){var l=S.publisher;l?(l.signal=b.signal,s.stateCenter.useNetAgent&&s.startPublishingTask(E)):s.logger.info("zsc.cps.1 check publisher don't exist")}else s.logger.info("zsc.cps.0 after connect publisher don't exist")}),!0},t.prototype.startPublishingTask=function(n){this.logger.info("zsc.spt.0 call "+n),this.publishStream(n),this.billingTimer.startChargeInfosUpload(),this.activeSoundLevel()},t.prototype.startPlayingTask=function(n,o){this.logger.info("zsc.spt.1 call "+n),this.playStream(n,o),this.billingTimer.startChargeInfosUpload(),this.activeSoundLevel()},t.prototype.stopPublishingStream=function(n,o){this.logger.info("zsc.sps.0.1 call "+n+" "+JSON.stringify(o));var s=this.publisherList[n];if(s){var d=s.retryStreamHandler;for(var g in d&&(d.stopMaxTime(),d.invalid()),this.signalList)this.signalList[g].publishWaitingList=this.signalList[g].publishWaitingList.filter(function(E){return E.streamID!==n});delete this.publisherList[n],this.resetNetworkData(),s.publisher&&(s.publisher.stopPublish(o),delete s.publisher),this.removeStreamFromSignal(!0,n),this.stopSignalHeartbeat(),this.billingTimer.stopChargeInfosUpload(),this.stopSoundLevel(),this.logger.info("zsc.sps.0.1 call success")}else this.logger.warn("zsc.sps.0.1 publisher don't exist")},t.prototype.getSignalNodes=function(){var n;if(this.stateCenter.customUrl&&this.stateCenter.customUrl.length!=0)this.logger.info("zsc.gsn customUrl "+JSON.stringify(this.stateCenter.customUrl)),n=this.stateCenter.customUrl;else{var o=this.stateCenter.settingConfig.getSetting("signal_nodes",!0);o&&o instanceof Array&&o.length>0&&(n=o,this.logger.info("zsc.gsn setting config signal_nodes "+JSON.stringify(o)))}return n},t.prototype.isUseAgentByServerURL=function(n){return["unified_rtc","unified_l3"].includes(n)},t.prototype.createStreamSignal=function(n,o){var s=this.isUseAgentByServerURL(n),d=new Cg(this.logger,this.stateCenter,this.rtm.netAgent,s);if(this.stateCenter.clientIP=this.rtm.netAgent.clientIP,d.setSessionInfo(this.appid,this.userid),s||(d.onUpdateHeartBeatInterval=this.onUpdateHeartBeatIntervalHandle.bind(this)),d.onDisconnect=this.onDisconnectHandle,d.onReConnect=this.onReconnectHandle,o){var g=this.publisherList[o]||this.playerList[o]||null,E=g==null?void 0:g.retryStreamHandler;if(this.stateCenter.streamConnectTime)d.tryConnectInterval=this.stateCenter.streamConnectTime;else if(E&&E.retryActiveCount){var b=E.retryActiveCount*(E.retryActiveCount-1)/2+2;d.tryConnectInterval=1e3*(b=b>12?12:b)}}else d.tryConnectInterval=1e3*this.stateCenter.defaultConnTime;return this.signalList[n]={signal:d,state:D.connecting,publishWaitingList:[],playWaitingList:[],publishConnectedList:[],playConnectedList:[],tokenInfo:null},d},t.prototype.onSignalConnSuccess=function(n,o,s){this.logger.info("zsc.crss.0 connected success "+o),n.state=D.connected,n.tokenInfo=s,n.publishWaitingList.forEach(function(d){d.success&&d.success(d.streamID,n,o),n&&n.publishConnectedList.push(d.streamID)}),n.playWaitingList.forEach(function(d){d.success&&d.success(d.streamID,n,o),n&&n.playConnectedList.push(d.streamID)}),n.publishWaitingList=[],n.playWaitingList=[],this.stateCenter.useNetAgent||this.heartbeatTimer!=null||this.startSignalHeartbeat()},t.prototype.onSignalConnFailed=function(n,o,s,d){this.logger.info("zsc.crss.0 connect failed "+s);for(var g=n.publishWaitingList,E=g.length-1;E>=0;E--)(S=g[E]).error&&S.error(S.streamID,o);var b=n.playWaitingList;for(E=b.length-1;E>=0;E--){var S;(S=b[E]).error&&S.error(S.streamID,o)}delete this.signalList[d]},t.prototype.connectWithReuseSignalServer=function(n,o,s,d,g,E){var b=this;this.logger.info("zsc.crss.0 begin "+s),this.lazyEndSignalHandler.isLazyEnd()&&this.lazyEndSignalHandler.clearLazyEndTimer(s);var S=null;if(this.signalList[s])(S=this.signalList[s]).state==D.connected?(this.logger.info("zsc.crss.0 already connected "+s+" streamId: "+n),o?S.publishConnectedList.push(n):S.playConnectedList.push(n),E(n,S),d(n,S,s)):S.state==D.connecting&&(this.logger.info("zsc.crss.0 signal is connecting "+s+" streamId: "+n),E(n,S),this.updateWaitingList(S,o,n,d,g));else{this.logger.info("zsc.crss.0 new signal "+s+", streamId: "+n);var l=this.createStreamSignal(s,n);this.updateWaitingList(this.signalList[s],o,n,d,g);var J=this.publisherList[n]||this.playerList[n]||null,he=J==null?void 0:J.room.token,_e=J==null?void 0:J.room.roomID;this.logger.info("zsc.crss.0 "+he),l.connectServer(_e||this.stateCenter.roomList[0].roomID,he||this.stateCenter.roomList[0].token,s,function(Ce,Oe,$e){S=b.signalList[s],Ce!=0?b.onSignalConnFailed(S,Ce,Oe,s):(b.onSignalConnSuccess(S,Oe,$e),b.billingTimer.startChargeInfosUpload(),b.activeSoundLevel())}),E(n,this.signalList[s])}},t.prototype.connectStreamSignal=function(n,o){var s=this;this.logger.info("zsc.cnss.0 call");var d,g=this.getSignalNodes();if(g?d=g[0]:this.stateCenter.useNetAgent&&(d="unified_rtc"),d&&this.isUseAgentByServerURL(d)&&!this.signalList[d]){this.logger.info("zsc.cnss.0 create signal");var E=this.createStreamSignal(d),b=o||this.rtm.getToken(n);E.connectServer(n||this.stateCenter.roomList[0].roomID,b||this.stateCenter.roomList[0].token,d,function(S,l,J){var he=s.signalList[d];S!=0?(s.logger.info("zsc.cnss.0 signal conn fail"),s.onSignalConnFailed(he,S,l,d)):(s.logger.info("zsc.cnss.0 signal conn success"),s.onSignalConnSuccess(he,l,J),he&&he.publishConnectedList.length==0&&he.playConnectedList.length==0&&he.publishWaitingList.length==0&&he.playWaitingList.length==0&&(s.logger.info("zsc.cnss.0 no publishing and playing stream"),s.disconnectSignalURL(d,!0)))})}this.logger.info("zsc.cnss.0 call success")},t.prototype.disconnectStreamSignal=function(){var n,o=this,s=this.getSignalNodes();s?n=s[0]:this.stateCenter.useNetAgent&&(n="unified_rtc"),!o.rtm.stateCenter.roomModulesList.some(function(d){return d.roomState!=="DISCONNECTED"})&&this.disconnectSignalURL(n,!1)},t.prototype.disconnectSignalURL=function(n,o){var s=this;this.logger.info("zsc.dcsu.0 "+n+" "+o+" call");var d=this.signalList[n];if(d!=null&&d.signal){var g=d.signal;o&&this.lazyEndSignalHandler.isLazyEnd()?(this.logger.info("zsc.dcsu.0 lazy end"),this.lazyEndSignalHandler.startLazyEndTimer(n,function(){s.logger.info("zsc.dcsu.0 lazy end start"),g&&g.disconnectServer(),s.stopSignalHeartbeat(),delete s.signalList[n],s.logger.info("zsc.dcsu.0 lazy end signal")})):this.lazyEndSignalHandler.isLazyEnd()&&this.lazyEndSignalHandler.hasEndTask(n)?(this.logger.info("zsc.dcsu.0 has task to end"),this.lazyEndSignalHandler.end(n)):(this.logger.info("zsc.dcsu.0 direct disconnect"),g&&g.disconnectServer(),delete this.signalList[n]),this.logger.info("zsc.dcsu.0 call success")}else this.logger.info("zsc.dcsu.0 "+n+"  already disconnect.")},t.prototype.reConnectSignals=function(){var n=this;this.logger.info("zsc.rcs.0 call");var o=function(g){var E=s.signalList[g],b=E.signal;b&&E.state===D.connecting&&b.connectServer(b.roomID||s.stateCenter.roomList[0].roomID,b.token||s.stateCenter.roomList[0].token,g,function(S,l,J){S!=0?n.onSignalConnFailed(E,S,l,g):n.onSignalConnSuccess(E,l,J)})},s=this;for(var d in this.signalList)o(d)},t.prototype.setPlayStateStart=function(n,o,s,d){var g=this;if(this.logger.info("zsc.pss.1 call "+n),this.rtm.isDisConnect()&&this.stateCenter.networkState==ne.offline)return this.logger.error("zsc.pss.1 network offline"),ai.error.kPlayNetworkBrokenError;if(this.playerList[n])return this.logger.error("zsc.pss.1 player already exist"),this.stateCenter.reporter.spanEnd({key:ai.event,par:n},{error:ai.error.kIsPlaying.code,message:ai.error.kIsPlaying.message}),ai.error.kPlayRepeatedPullError;var E=this.getPlayRoom(n)||this.stateCenter.roomList[0];if(!E)return this.logger.error("zsc.pss.1 not login room"),this.stateCenter.reporter.spanEnd({key:ai.event,par:n},{error:ai.error.kPlayNoLoginError.code,message:ai.error.kPlayNoLoginError.message}),ai.error.kPlayNoLoginError;var b=new nh(n,this.logger,null,this.dataReport,this.stateCenter.engineConfig.playQualityInterval||this.qualityTimerInterval,this.qualityUploadInterval,this,this.ac,this.stateCenter);!E.streamList.find(function(Ce){return Ce.stream_id===n})&&(b.streamInRoom=!1),o&&[0,1,2,3].includes(o.resourceMode)&&(b.resourceMode=o.resourceMode),b.state=T,b.isPeer=this.isPeer,b.reportSeq=this.stateCenter.reportSeqList.startPlay[n],b.isExternal=!0,b.cachedGwNodesMode=this.cachedGwNodesMode,b.parentSpanKey=An.event,b.beginTime=new Date().getTime();var S=new vg(this.logger,this.stateCenter,this,!1),l=Ut.CDN,J="cdn",he=new Date().getTime();for(var _e in this.playerList)if(this.playerList[_e].playMode==Ut.L3){l=Ut.L3,J="l3";break}return this.cdnProtocolBadTimestamp&&this.cdnProtocolBadTimestamp+this.protocolQualityCacheExpiredTime>he&&this.l3ProtocolBadTimestamp==0&&(l=Ut.L3,J="l3"),this.stateCenter.reporter.spanSetAttributes({key:ai.event,par:n},{resource_mode:ai.resource_mode(b.resourceMode),src:ai.src(b.resourceMode===Vt.DG?J:As(b.resourceMode)),room_id:ai.room_id(E==null?void 0:E.roomID),room_sid_string:ai.room_sid_string(E==null?void 0:E.roomSessionID),is_multi:ai.is_multi(this.stateCenter.isMultiRoom)}),this.playerList[n]={seq:0,room:E,player:b,signal:null,serverUrls:[],ttl:0,isCenterNode:!0,streamID:n,playOption:o,retryStreamHandler:S,retryDispatchHandler:new Qg(this.logger,this.stateCenter,this.rtm,this),isDataChannel:d,cdnPlayer:o==null?void 0:o.CDNPlayer,playMode:l,streamSid:s},b.onPlayStateUpdate=function(Ce,Oe,$e,ze,Xe,et){var gt=g.playerList[Oe];gt?S.playStateHandle(Ce,gt.streamID,$e,ze,Xe,et):g.logger.error("zsc.pss.1 cannot find play "+Oe)},b.onPlayQualityUpdate=function(Ce,Oe){var $e=g.playerList[Ce];$e?g.onPlayQualityUpdate($e.streamID,Oe):g.logger.error("zsc.pss.1 cannot find play "+Ce)},b.onRemoteCameraStatusUpdate=function(Ce,Oe,$e){var ze=g.playerList[Ce];ze?g.onRemoteCameraStatusUpdate(ze.streamID,Oe,$e):g.logger.error("zsc.pss.1 cannot find play "+Ce)},b.onRemoteMicStatusUpdate=function(Ce,Oe,$e){var ze=g.playerList[Ce];ze?g.onRemoteMicStatusUpdate(ze.streamID,Oe,$e):g.logger.error("zsc.pss.1 cannot find play "+Ce)},!0},t.prototype.onRemoteMicStatusUpdate=function(n,o,s){},t.prototype.onRemoteCameraStatusUpdate=function(n,o,s){},t.prototype.startPlayingStream=function(n,o,s,d){var g;o===void 0&&(o=!1),this.logger.info("zsc.sps.1 start play called");var E=this.playerList[n];if(!((g=E.playOption)===null||g===void 0)&&g.CDNVideo&&E.player.firstPlay){var b=E.playOption.CDNVideo;E.player._CDNPlayerClone=b.cloneNode(),E.player.initPoster=(b==null?void 0:b.getAttribute("poster"))||"",E.player.initVideoStyle=(b==null?void 0:b.getAttribute("style"))||"",E.player.firstPlay=!1}if(d)return this.playCDN(n,this.playerList[n].playOption,this.playSuccessCallBackList[n],this.playErrorCallBackList[n]),!0;if(!E)return this.logger.error("zsc.sps.1 player don't exist"),!1;var S=E.player;if(n.indexOf("zegoprobe-")==-1&&E.playMode==Ut.L3&&this.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:n},{key:P,par:n},P).setAttributes({tryidx:re(S.tryidx),biz_product:ye(E.playOption.resourceMode==Vt.DG?1:0)}),this.stateCenter.reporter.spanSetAttributes({key:ai.event,par:n},{urls:ai.urls(E.serverUrls),is_center:ai.is_center(E.isCenterNode)}),!o){if(E.serverUrls.length==0)return E.retryStreamHandler.playStateHandle(Kt,n,Kr),this.logger.info("zsc.sps.1 server don't have signal url"),!1;var l=E.serverUrls.indexOf(this.server);l!==-1&&(E.serverUrls.splice(l,1),E.serverUrls.unshift(this.server))}var J=E.retryStreamHandler;return J.invalid(),J.init(this.stateCenter.streamRetryTime),J.initStream(n,E.serverUrls),J.startMaxTime(),J.activePull(0,s)},t.prototype.connectPlayServer=function(n,o,s){var d=this,g=this.playerList[n];if(!g)return this.logger.error("zsc.cps.1 player don't exist"),!1;this.stateCenter.reporter.createSpan(Zt.H,{key:g.player.parentSpanKey,par:n},{key:$i,par:n},$i,!0);var E=Date.now();return this.connectWithReuseSignalServer(n,!1,s,function(b,S,l){var J=d.playerList[b];if(J){var he=J.player;if(he){he.reportSpan.setAttributes({server_url:vn.server_url(l)});var _e=Date.now()-E;d.stateCenter.reporter.spanSetAttributes({key:he.parentSpanKey,par:b},{dispatch_consume:An.dispatch_consume(_e)}),d.stateCenter.reporter.spanSetAttributes({key:ai.event,par:b},{server_url:ai.server_url(l)}),d.stateCenter.reporter.spanEnd({key:$i,par:b},{result:0,server_url:l}),d.logger.info("zsc.cps.1 update token success"),he.signal=S.signal,d.server=l,d.stateCenter.useNetAgent||d.startPlayingTask(b,o)}else d.logger.error("zsc.cps.1 checkplayer don't exist")}else d.logger.error("zsc.cps.1 after connect player don't exist")},function(b,S){var l=d.playerList[b];if(l){var J=Is({},Tr);J.message=J.message+" "+S,S===1008&&(J=Hr),d.stateCenter.reporter.spanEnd({key:$i,par:b},{result:S,error:J.code,message:J.message});var he=S==1008;S===20010&&(he=!0,J=s==="unified_l3"?Ae:Ke),l.retryStreamHandler.playStateHandle(Kt,b,J,he)}else d.logger.error("zsc.cps.1 after connect player don't exist")},function(b,S){var l=d.playerList[b];if(l){var J=l.player;J?(J.signal=S.signal,d.stateCenter.useNetAgent&&d.startPlayingTask(n,o)):d.logger.error("zsc.cps.1 checkplayer don't exist")}else d.logger.error("zsc.cps.1 after connect player don't exist")}),!0},t.prototype.playStream=function(n,o){this.logger.info("zsc.ps.1 ".concat(n," call"));var s=this.playerList[n].player;s?(this.logger.info("zsc.ps.1 ".concat(n," state ").concat(s.state)),s.state<=K&&s.state>=w?this.logger.warn("zsc.ps.1 ".concat(n," player is progress")):(this.logger.info("zsc.ps.1 call success"),this.setStreamGwNode(s,!1),s.startPlay(n,o,this.playerList[n].playOption))):this.logger.warn("zsc.ps.1 player don't exist")},t.prototype.stopSignalHeartbeat=function(){this.logger.debug("zsc.ssh.1 call");var n=0;for(var o in this.signalList)n+=1;this.heartbeatTimer&&n==0&&(this.logger.info("zsc.ssh.1 stop"),clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null)},t.prototype.removeStreamFromSignal=function(n,o){var s=this;this.logger.info("zsc.rsfs.0 call "+n+" "+o);var d=[],g=function(S){var l=E.signalList[S];if(n){for(var J=0;J<l.publishConnectedList.length;J++)if(l.publishConnectedList[J]===o){E.logger.debug("zsc.rsfs.0 found from publish"),l.publishConnectedList.splice(J,1);break}for(J=0;J<l.publishWaitingList.length;J++)if(l.publishWaitingList[J].streamID===o){E.logger.debug("zsc.rsfs.0 found from publish"),l.publishWaitingList.splice(J,1);break}}else{for(var he=0;he<l.playConnectedList.length;he++)if(l.playConnectedList[he]===o){E.logger.debug("zsc.rsfs.0 found from play"),l.playConnectedList.splice(he,1);break}for(he=0;he<l.playWaitingList.length;he++)if(l.playWaitingList[he].streamID===o){E.logger.debug("zsc.rsfs.0 found from play"),l.playWaitingList.splice(he,1);break}}var _e=function(){for(var Ce=0;Ce<d.length;Ce++)delete s.signalList[d[Ce]],s.server==d[Ce]&&(s.server="")};l.publishConnectedList.length==0&&l.playConnectedList.length==0&&l.publishWaitingList.length==0&&l.playWaitingList.length==0&&(E.lazyEndSignalHandler.isLazyEnd()?(E.logger.info("zsc.rsfs.0 lazy end "),E.lazyEndSignalHandler.startLazyEndTimer(S,function(){s.logger.info("zsc.rsfs.0 lazy end start"),l.signal.disconnectServer(),d.push(S),_e(),s.stopSignalHeartbeat()})):(l.signal.disconnectServer(),d.push(S))),_e()},E=this;for(var b in this.signalList)g(b)},t.prototype.stopPlayingStream=function(n,o,s){var d=this.playerList[n];if(d){var g=d.retryStreamHandler,E=d.cdnPlayer;for(var b in g&&(g.stopMaxTime(),g.invalid()),this.signalList)this.signalList[b].playWaitingList=this.signalList[b].playWaitingList.filter(function(l){return l.streamID!==n});if(d.playMode==Ut.CDN&&E&&(this.stateCenter.reporter.spanEnd({key:Nn,par:n}),E.stop()),n.indexOf("zegoprobe-")==-1&&d.playMode==Ut.L3&&this.stateCenter.reporter.spanEnd({key:P,par:n}),d.player.playStream&&pu.sourceDisConnect(d.player.playStream),delete this.playerList[n],this.resetNetworkData(),d.player){d.player.stopPlay(o,s);var S=d.player.rtcViewer;S&&S.stop()}this.removeStreamFromSignal(!1,n),this.stopSignalHeartbeat(),this.billingTimer.stopChargeInfosUpload(),this.stopSoundLevel(),delete this.playSuccessCallBackList[n],delete this.playErrorCallBackList[n],this.logger.debug("zsc.sps.1.1 call success")}else this.logger.info("zsc.sps.1.1 player don't exist")},t.prototype.reset=function(n,o,s){var d,g,E,b;for(var S in this.logger.info("zsc.rs call "+n+" "+o+" "+s),this.publisherList)if(this.publisherList[S].room.roomID==n||!n){o===0?this.publisherList[S].publisher.stopReason="Logout":o==1002031&&(this.publisherList[S].publisher.stopReason="ReachMaxAVRetryTime");var l=o==1002031?wi.error.kPublishRetryTimeoutError:{code:o||0,message:""};(g=(d=this.publisherList[S].room)===null||d===void 0?void 0:d.streamHandler)===null||g===void 0||g.onPublishStateUpdate(pr,S,l),s&&this.stateCenter.waitPublishStreamList[S]?this.stateCenter.waitPublishStreamList[S].retryStart=!0:s||delete this.stateCenter.waitPublishStreamList[S],this.stopPublishingStream(S,l),delete this.stateCenter.publishStreamList[S]}var J=function(Ce){he.playerList[Ce].player.stopReason=o===0?"Logout":"ReachMaxAVRetryTime";var Oe=he.playerList[Ce].room;if(s&&((b=(E=he.playerList[Ce])===null||E===void 0?void 0:E.player)===null||b===void 0?void 0:b.state)<=K){var $e=he.playerList[Ce],ze=$e==null?void 0:$e.player;he.stopedPlayerList[Ce]={streamID:Ce,playStream:ze.playStream,roomID:$e.room.roomID,playOption:$e.playOption,state:ze.state,sucCallBack:(ze==null?void 0:ze.state)!==K?he.playSuccessCallBackList[Ce]:void 0,errCallBack:(ze==null?void 0:ze.state)!==K?he.playErrorCallBackList[Ce]:void 0}}if(Oe.roomID!=n||!Oe.streamList.find(function(gt){return gt.stream_id==Ce})&&he.stateCenter.roomList.length!=1){if(Oe.roomID==n&&he.stateCenter.roomList.length>1){var Xe=he.stateCenter.roomList.find(function(gt){return gt.roomID!==n});Xe?he.playerList[Ce].room=Xe:(he.stopPlayingStream(Ce),he.onPlayStateUpdate(Kt,Ce,ai.error.kPlayRetryTimeoutError))}}else{var et=o==1002031?ai.error.kPlayRetryTimeoutError:{code:o||0,message:""};he.onPlayStateUpdate(Kt,Ce,et),he.stopPlayingStream(Ce,et)}},he=this;for(var _e in this.playerList)J(_e);Object.keys(this.publisherList).length==0&&Object.keys(this.playerList).length==0&&(this.probeList={}),this.waitPublishList=[],this.waitPlayList=[],this.l3DetectedTimestamp=0,this.l3DetectResult=0,this.isL3Fallback=!1,this.cdnProtocolBadTimestamp=0,this.l3ProtocolBadTimestamp=0,this.lastHandleCDNBadTimestamp=0,this.lastHandleL3BadTimestamp=0,this.cdnProtocolBadTime=0,this.l3ProtocolBadTime=0,this.streamReport.resetReport(),this.logger.info("zsc.rs call success")},t.prototype.startSignalHeartbeat=function(){var n=this;this.logger.debug("zsc.ssh.0 call"),this.heartbeatTimer&&(clearTimeout(this.heartbeatTimer),this.heartbeatTimer=null),this.heartbeatTimer=setTimeout(function(){n.checkSignalHeartbeat()},this.heartbeatInterval)},t.prototype.checkSignalHeartbeat=function(){for(var n in this.logger.debug("zsc.csh.0 call"),this.signalList)this.signalList[n].signal&&this.signalList[n].signal.sendHeartbeat();this.heartbeatTimer&&this.startSignalHeartbeat()},t.prototype.getChargeInfos=function(n){this.logger.debug("zsc.cci.0 call"),this.chargeInfos[n]||(this.chargeInfos[n]={roomid:n,timestamp_begin:0,timestamp_end:0,timestamp_diff_flag:0,timestamp_diff:0,infos:[]});var o=this.chargeInfos[n],s={is_publishing:0,play_max_audio_bitrate:0,play_stream_resolution_infos:[]};for(var d in this.shouldReportNoPlaying&&(s.no_playing=1),o.timestamp_begin=new Date().getTime(),this.publisherList)if(this.publisherList[d].room.roomID===n){this.publisherList[d].publisher.state===L&&(s.is_publishing=1);break}s.play_max_audio_bitrate=0;var g=function(S){if(E.playerList[S].room.roomID!==n)return"continue";var l={width:E.playerList[S].player.qualityHandler.lastPlayStats.frameWidth,height:E.playerList[S].player.qualityHandler.lastPlayStats.frameHeight};if(!l.height||!l.width){var J=E.playerList[S].player.playStream;l=J&&J.getVideoTracks().length!==0?J.getVideoTracks()[0].getSettings():void 0}var he={video_width:l&&l.width?l.width:0,video_height:l&&l.height?l.height:0,count:1};if(!s.play_stream_resolution_infos.find(function(Ce){return Ce.video_width==he.video_width&&Ce.video_height==he.video_height&&(Ce.count++,!0)})&&s.play_stream_resolution_infos.push(he),he.video_width==0&&he.video_height==0){var _e=1e3*E.playerList[S].player.qualityHandler.lastPlayStats.audioBitrate;_e>s.play_max_audio_bitrate&&(s.play_max_audio_bitrate=Math.round(_e))}},E=this;for(var b in this.playerList)g(b);return s.play_stream_resolution_infos.length!==0&&this.shouldReportNoPlaying&&(s.no_playing=0),o.timestamp_end!==0?(o.timestamp_diff=o.timestamp_begin-o.timestamp_end,o.timestamp_diff_flag=1):(o.timestamp_diff=0,o.timestamp_diff_flag=0),o.timestamp_end=new Date().getTime(),o.infos=[s],o},t.prototype.getPublisher=function(n){var o=null;if(typeof n=="string"&&this.publisherList[n]&&this.publisherList[n].publisher)o=this.publisherList[n].publisher;else if(n instanceof MediaStream){var s=this.checkPublish(n);s&&(o=s==null?void 0:s.publisher)}return o},t.prototype.getPreviewer=function(n){var o,s=null;return typeof n=="string"&&this.publisherList[n]&&this.publisherList[n].publisher?s=(o=this.publisherList[n].publisher)===null||o===void 0?void 0:o.previewer:n instanceof MediaStream&&(s=this.checkPreview(n)),s},t.prototype.checkPlayer=function(n){var o=Object.values(this.playerList).find(function(s){return s.player.playStream===n});return(o==null?void 0:o.player)||null},t.prototype.checkPreview=function(n){for(var o=0;o<this.previewStreamList.length;o++)if(this.previewStreamList[o].localStream===n||n&&!(n instanceof MediaStream)&&n.zegoStream&&this.previewStreamList[o].zegoCaptureStream==n.zegoStream)return this.previewStreamList[o];return null},t.prototype.checkPublish=function(n){for(var o in this.publisherList)if(this.publisherList[o].localStream==n)return this.publisherList[o];return null},t.prototype.getPublishList=function(n,o){var s;o===void 0&&(o=!0);var d=[],g=this.checkPreview(n);for(var E in o&&(g!=null&&g.zegoCaptureStream)&&(!((s=g.zegoCaptureStream)===null||s===void 0)&&s.stream)&&(n=g.zegoCaptureStream.stream),this.publisherList)this.publisherList[E].localStream==n&&d.push(this.publisherList[E]);return d},t.prototype.removePreview=function(n){for(var o=0;o<this.previewStreamList.length;o++)if(this.previewStreamList[o]===n){this.previewStreamList.splice(o,1);break}},t.prototype.onPlayerStreamUrlUpdate=function(n,o,s){},t.prototype.getScreenConstrains=function(n){var o={};if(typeof n=="boolean"&&n)o={audio:!1,video:{frameRate:N.frameRate},bitRate:this.stateCenter.settingConfig.getSetting("screen_video_bitrate")||N.bitRate};else if(typeof n=="object"){switch(n.videoQuality){case 1:o={video:{frameRate:y.frameRate},bitRate:y.bitRate};break;case 3:o={video:{frameRate:U.frameRate},bitRate:U.bitRate};break;case 4:o={video:{frameRate:n.frameRate,width:n.width,height:n.height},bitRate:n.bitRate};break;case 2:o={video:{frameRate:N.frameRate},bitRate:N.bitRate};break;default:o={video:{frameRate:N.frameRate},bitRate:this.stateCenter.settingConfig.getSetting("screen_video_bitrate")||N.bitRate}}o.audio=typeof n.audio=="boolean"&&n.audio,o=Is(Is(Is({},n),o),{width:void 0,height:void 0,frameRate:void 0})}return o},t.prototype.createScreenPreviewer=function(n,o){var s=new Gs(this.logger,this.stateCenter,this,"screen"),d=n.getVideoTracks()[0].getSettings();return this.previewStreamList.push(s),s.mediaStreamConfig=o,s.localStream=n,s.initMediaTrack(n),s.videoInfo={width:d.width,height:d.height,frameRate:d.frameRate||15,bitRate:(o==null?void 0:o.bitRate)||1e3,startBitrate:(o==null?void 0:o.startBitrate)||this.stateCenter.settingConfig.getSetting("bitrate_mode"),minBitrate:o==null?void 0:o.minBitrate,keyFrameInterval:o==null?void 0:o.keyFrameInterval},s.previewSuc=!0,s.previewType="screen",s.videoPreviewType="screen",s.audioPreviewType="screen",o!=null&&o.videoOptimizationMode&&this.setVideoTrackContentHint(n,o==null?void 0:o.videoOptimizationMode),s},t.prototype.createCompositingPreviewer=function(n,o,s){var d=new Gs(this.logger,this.stateCenter,this,"compositing"),g=n.getVideoTracks()[0].getSettings();return this.previewStreamList.push(d),d.mediaStreamConfig=o,n.getAudioTracks().length>0&&(d.audioTrack=n.getAudioTracks()[0]),d.localStream=n,d.videoInfo={width:(o==null?void 0:o.width)||g.width,height:(o==null?void 0:o.height)||g.height,frameRate:(o==null?void 0:o.frameRate)||g.frameRate||15,bitRate:o==null?void 0:o.bitrate},d.previewSuc=!0,d.inputStreamOptions=s,d},t.prototype.setSoundLevelDelegate=function(n,o,s){s===void 0&&(s=!1),this.logger.info("zsc.ssd.0 call"),this.soundLevelDelegate=n,this.enableInBackground=s,o&&this.setSoundLevelInterval(o),this.enableSoundLevelProcessor(n),n?(this.logger.info("zsc.ssd.0 start getting sound"),this.activeSoundLevel()):(this.logger.info("zsc.ssd.0 stop getting sound"),this.soundLevelTimer&&clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null,this.soundLevelInterval=1e3)},t.prototype.setSoundLevelInterval=function(n){var o,s;if(n&&this.soundLevelDelegate){for(var d in this.soundLevelInterval=n,this.previewStreamList)(o=this.previewStreamList[d].soundMeterWorklet)===null||o===void 0||o.setInterval(n);for(var d in this.playerList)(s=this.playerList[d].player.soundMeterWorklet)===null||s===void 0||s.setInterval(n)}},t.prototype.enableSoundLevelProcessor=function(n){for(var o in this.previewStreamList){var s=this.previewStreamList[o];n?s.startSoundLevel():s.stopSoundLevel()}for(var o in this.playerList){var d=this.playerList[o].player;n?d.startSoundLevel():d.stopSoundLevel()}},Object.defineProperty(t.prototype,"hasRemoteStream",{get:function(){return Object.keys(this.signalList).length>0},enumerable:!1,configurable:!0}),t.prototype.activeSoundLevel=function(){!this.soundLevelTimer&&this.soundLevelDelegate&&this.startSoundLevel()},t.prototype.startSoundLevel=function(){var n=this;this.soundLevelTimer&&(clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null),this.soundLevelDelegate&&(this.hasRemoteStream&&this.checkSoundLevel(),this.checkMicSoundLevel(),this.soundLevelTimer=setTimeout(function(){n.startSoundLevel()},this.soundLevelInterval))},t.prototype.checkSoundLevel=function(){this.logger.debug("zsc.csl.0 call");var n=[];for(var o in this.publisherList){var s=0,d=this.publisherList[o].publisher,g=d.previewer;g&&(s=g.soundLevel),n.push({streamID:this.getBackStreamId(d.streamId),soundLevel:s,type:"push"})}for(var o in this.playerList){var E=this.playerList[o].player;E.streamId&&!E.isProbe&&n.push({streamID:this.getBackStreamId(E.streamId),soundLevel:E.soundLevel,type:"pull"})}this.soundLevelDelegate&&n.length>0&&this.onSoundLevelUpdate(n)},t.prototype.checkMicSoundLevel=function(){if(this.microphonePreviews.length&&this.soundLevelDelegate){var n=this.microphonePreviews.reduce(function(o,s){return s.soundLevel>o?s.soundLevel:o},0);this.onMicSoundLevelUpdate(n)}},t.prototype.getBackStreamId=function(n){return this.testEnvironment&&n?n.replace("zegotest-"+this.appid+"-",""):n},t.prototype.onSoundLevelUpdate=function(n){},t.prototype.onMicSoundLevelUpdate=function(n){},t.prototype.stopSoundLevel=function(){this.soundLevelTimer&&!this.hasRemoteStream&&this.previewStreamList.length===0&&(this.logger.info("zsc.ssl.0 stop"),clearTimeout(this.soundLevelTimer),this.soundLevelTimer=null)},t.prototype.startNetProbe=function(n,o,s,d){var g=this,E=this.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},Eo);if(this.isPeer)if(d){var b="zegoprobe-"+new Date().getTime();this.setPlayStateStart(b);var S=this.playerList[b]?this.playerList[b].player:null;if(!S)return;S.isProbe=!0,this.playerList[b].serverUrls=["unified_l3"],this.startPlayingStream(b,!0,function(){}),this.playerList[b].player.isProbeByDG=!0,S.onCalNetQualityResult=function(J,he){g.logger.info("zc.ocnqr.0 l3 detect "+J+" "+he),g.stopPlayingStream(b),g.l3DetectResult=he,g.l3DetectedTimestamp=new Date().getTime()}}else{var l=!0;s&&s.length==0&&o&&(l=!1,s=n?this.publisherList[o.streamId].serverUrls:this.playerList[o.streamId].serverUrls),s&&o&&s.forEach(function(J){if(!(g.probeList[J]&&g.probeList[J].timeStamp+9e5<new Date().getTime()||o.probeState==_.probed)){var he="zegoprobe-"+new Date().getTime();g.setPlayStateStart(he);var _e=g.playerList[he]?g.playerList[he].player:null;_e&&(_e.isProbe=!0,l?(_e.gwNode=J,_e.signal=o.signal,_e.startPlay(he,function(){})):g.connectPlayServer(he,function(){},J),_e.onCalNetQualityResult=function(Ce,Oe){g.logger.info("zc.ocnqr.0 "+_e.gwNode+" "+Ce+" "+Oe),g.probeList[J]={result:Ce,netQuality:Oe,timeStamp:new Date().getTime()};var $e=Object.keys(g.probeList),ze=s&&s.every(function(Xe){return $e.findIndex(function(et){return et===Xe})>=0});o.gwNode==J||o.signal.server==J?o.netQuality=Oe:g.handleCalNetQualityResult(n,Ce,Oe,o,J,ze),g.stopPlayingStream(he),E.setAttributes({net_quality:Ss(parseInt(o.netQuality+"")),node_list:Vn(s)}),E.end()})}})}else this.stateCenter.reporter.setError(E,{code:-1,message:"not support peer"})},t.prototype.handleCalNetQualityResult=function(n,o,s,d,g,E){if(this.logger.info("zc.hcqr.0 "+d.netQuality+" probe "+s+" "+g),o===0){var b=this.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},$o.event),S=!1;s>Math.max(40,d.netQuality+20)&&d.probeState==_.tryProbe?(this.logger.info("zc.hcqr.0 "+d.streamId+" switch "+g),S=!0,this.retryStream(d,n,g),d.probeState=_.probed):(S=!1,d.probeState==_.tryProbe&&E&&(this.logger.info("zc.hcqr.0 "+d.streamId+" last "),d.isProbeDispatch||d.netProbeToReDispatch()));var l=$o;b.setAttributes({is_switch:l.is_switch(S),is_publish:l.is_publish(n),stream_id:l.stream_id(d.streamId),result:l.result(o),node:l.node(g),net_quality:l.net_quality(parseInt(d.netQuality+"")),probe_net_quality:l.probe_net_quality(parseInt(s+""))}),b.end()}},t.prototype.retryStream=function(n,o,s){if(o){var d=n,g=d.streamId,E=d.localStream,b=d.videoInfo,S=d.mediaStreamConfig,l=d.publishOption;d.sessionId!=0&&d.signal&&d.shouldSendCloseSession()&&(d.signal.sendCloseSession(this.stateCenter.getSeq(),d.sessionId,1),d.signal.removeSession(d.sessionId),d.closeSessionSignal=!0),d.resetPublish(),this.publisherList[g].isCenterNode?(d.gwNode=s,d.startPublish(g,E,b,S,l)):(d.isExternal=!1,this.connectPublishServer(g,s))}else{var J=n,he=(g=J.streamId,J.getRemoteStreamSuc),_e=J.playOption;J.sessionId!=0&&J.signal&&J.shouldSendCloseSession()&&(J.signal.sendCloseSession(this.stateCenter.getSeq(),J.sessionId,1),J.signal.removeSession(J.sessionId),J.closeSessionSignal=!0),J.resetPlay(),this.onPlayStateUpdate($t,g,{code:We.code,message:We.message}),this.playerList[g].isCenterNode?(J.gwNode=s,J.startPlay(g,he,_e)):(J.isExternal=!1,this.connectPlayServer(g,he,s))}},t.prototype.getRoomByStreamID=function(n){return this.publisherList[n]?this.publisherList[n].room:this.playerList[n]?this.playerList[n].room:void 0},t.prototype.setVideoTrackContentHint=function(n,o){if(typeof o=="string"){var s=o.toLowerCase();if(["default","motion","detail","text"].includes(s)){var d=n.getVideoTracks()[0];d?"contentHint"in d?(this.logger.info("zc.svtch "+s),d.contentHint=s=="default"?"":s):this.logger.warn("zc.svtch mediaStreamTrack contentHint attribute not supported"):this.logger.warn("zc.svtch video track no found")}else this.logger.warn("zc.svtch videoOptimizationMode wrong")}else this.logger.warn("zc.svtch videoOptimizationMode type wrong")},t.prototype.getPlayRoom=function(n){return this.stateCenter.roomList.find(function(o){return!!o.streamList.find(function(s){return s.stream_id==n})})},t.prototype.updateQuality=function(n,o){this.streamReport.updateQuality(n,o)},t.prototype.checkStreamReport=function(){this.streamReport.checkStreamReport()},t.prototype.stopToReport=function(n){this.streamReport.updateQuality(n,void 0,!0)},t.prototype.setIsPeer=function(n){this.isPeer=n,Object.values(this.publisherList).forEach(function(o){o.publisher.isPeer=n}),Object.values(this.playerList).forEach(function(o){o.player.isPeer=n})},t.prototype.getCDNUrl=function(n,o){var s,d,g,E=((s={})[Vt.RTC]=1,s[Vt.CDN]=0,s[Vt.L3]=2,s[Vt.DG]=3,s),b=this.stateCenter.appConfig.media_config.play_config.resource_info;if(b.length){var S=b.find(function(Ce){return Ce.resource_type==E[o]});if(S)for(var l=0;l<S.service_info.length;l++){var J=S.service_info[l],he=J.protocol,_e=J.url_template.replace("{STREAM_NAME}",n);switch(he){case I.FLV:d=_e;break;case I.HLS:g=_e}}}return{flv:d,hls:g}},t.prototype.playCDN=function(n,o,s,d){var g,E=this;if(!o.CDNVideo)return this.logger.error("zsc.pc.1 cdn video no found"),d&&d(),!1;var b=this.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:n},{key:Nn,par:n},Nn,!0),S="",l=(g=this.getPlayRoom(n))===null||g===void 0?void 0:g.streamList.find(function(wt){return wt.stream_id==n}),J=this.playerList[n],he=J.cdnPlayer,_e=J.playOption.resourceMode;J.player.streamId=n,J.player.playOption=J.playOption,J.player.tryidx++,b.setAttributes({tryidx:re(J.player.tryidx),biz_product:ye(_e==Vt.DG?1:0)});var Ce=l||{},Oe=Ce.urls_flv,$e=Ce.urls_flv_plus,ze=Ce.urls_m3u8,Xe=Ce.urls_m3u8_plus;if(!(l&&(_e!=Vt.CDN||Oe&&ze)&&(_e!=Vt.DG||$e&&Xe))){if(!this.stateCenter.appConfig||!_e)return this.logger.error("zsc.pss.1 stream info no found"),d&&d(),!1;var et=this.getCDNUrl(n,_e),gt=et.flv,_t=et.hls;_e==Vt.DG?($e=gt?[gt]:[],Xe=_t?[_t]:[]):(Oe=gt?[gt]:[],ze=_t?[_t]:[])}if(!J||!he)return d&&d(),!1;_e===Vt.DG&&(J.player.useResourceTypes.push("cdn"),J.player.useResourceTypes=Array.from(new Set(J.player.useResourceTypes)));var Bt=_e==Vt.DG?$e:Oe,ut=_e==Vt.DG?Xe:ze;if(he.isSupportFLV()&&(Bt==null?void 0:Bt.length)>0)S=Bt[0],b.setAttributes({protocol:Aa("flv")});else if(he.isSupportHLS()&&(ut==null?void 0:ut.length)>0)S=ut[0],b.setAttributes({protocol:Aa("hls")});else if(!J.cdnUrl)return this.logger.error("zsc.pc.1 can not find cdn urls"),d&&d(),!1;if((S=S.replace("http://","https://"))!==J.cdnUrl&&J.player.tryidx>1){var Ct=this.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:n},{key:""},we);Ct.setAttributes({src:at(S),last_src:Le(J.cdnUrl)}),Ct.end()}return J.cdnUrl=S||J.cdnUrl,b.setAttributes({url:zn(J.cdnUrl)}),J.playMode==Ut.CDN&&(he.play(J.cdnUrl,o.CDNVideo),o.CDNVideo.srcObject=null,this.onPlayStateUpdate(Dr,n,{code:0,message:"success"},{isCDN:!0}),he.onQualityUpdate=function(wt,Pt){Pt<=E.cdnBadQualityScore?E.handleQualityBad(n,o.resourceMode,Ut.CDN):(J.qualityBadCount=0,E.cdnProtocolBadTimestamp=0,E.lastHandleCDNBadTimestamp=0)},he.onComplete=function(){if(J.playMode==Ut.CDN&&J.player.state==K)he.retry();else var wt=J.player,Pt=wt.initPoster,sr=wt.initVideoStyle,or=J.playOption.CDNVideo,yr=setTimeout(function(){clearTimeout(yr),or&&or.setAttribute("style",sr),or&&or.setAttribute("poster",Pt)},1e3)},he.onError=function(wt){E.stateCenter.networkState==ne.offline&&(he.canRetry=!1),b.setAttributes({stop_reason:C(wt)})},he.onCanplay=function(){if(J.player.state!=K&&(J.player.state=K,J.player.firstFrameTime==0)){J.player.firstFrameTime=Date.now()-J.player.beginTime;var wt=E.stateCenter.reporter.createSpan(Zt.H,{key:fn.event,par:n},{key:""},_i.event);wt.setAttributes({fft_consumed:_i.fft_consumed(J.player.firstFrameTime),biz_product:_i.biz_product(o.resourceMode==Vt.DG?1:0)}),wt.end()}},s&&s(),!0)},t.prototype.handleQualityBad=function(n,o,s){var d=this;if(this.logger.info("zsc.hqb.0 call ".concat(n," ").concat(o," ").concat(s)),o!==Vt.DG)return!1;this.fetchL3CDNCloudSetting();var g=new Date().getTime(),E=0;for(var b in this.playerList)this.playerList[b].isQualityBad&&E++;s==Ut.CDN?(this.cdnProtocolBadTime=this.cdnProtocolBadTime+(this.lastHandleCDNBadTimestamp==0?this.qualityInterval:g-this.lastHandleCDNBadTimestamp),(E>=this.protocolBadQualityCount||this.cdnProtocolBadTime>=this.protocolBadQualityTime)&&(this.cdnProtocolBadTime=0,this.cdnProtocolBadTimestamp=new Date().getTime())):s==Ut.L3&&(this.l3ProtocolBadTime=this.l3ProtocolBadTime+(this.lastHandleL3BadTimestamp==0?this.qualityInterval:g-this.lastHandleL3BadTimestamp),(E>=this.protocolBadQualityCount||this.l3ProtocolBadTime>=this.protocolBadQualityTime)&&(this.l3ProtocolBadTime=0,this.l3ProtocolBadTimestamp=new Date().getTime()));var S=!1,l=this.playerList[n],J=l.qualityBadCount?l.qualityBadCount*this.qualityInterval:0;if((s==Ut.L3&&J>this.l3BadQualityTime||s==Ut.CDN&&this.isL3Fallback&&J>this.fallbackInhibitionTime||s==Ut.CDN&&!this.isL3Fallback&&J>this.defaultBadQualityTime)&&(S=!0),S){for(var he in l.isQualityBad=!0,E=0,this.playerList)this.playerList[he].isQualityBad&&E++;if(s==Ut.CDN&&(this.l3DetectedTimestamp==0||this.l3DetectedTimestamp+this.probeExpiredTime<g&&this.l3DetectedTimestamp+this.minProbeInterval<g)&&(this.l3DetectedTimestamp=new Date().getTime(),this.startNetProbe(!1,void 0,void 0,!0)),E/Object.keys(this.playerList).filter(function(Ce){return!Ce.includes("zegoprobe")}).length>this.multiPlaySwitchRate){this.logger.error("zsc.hqb.0 low quality "+(s==0?"CDN":"L3"));var _e=Object.keys(this.playerList).filter(function(Ce){return!Ce.includes("zegoprobe")});return _e.forEach(function(Ce,Oe){var $e=d.playerList[Ce];s==Ut.L3?(d.stopPlayingStream(Ce,void 0,!0),d.playerList[Ce]=$e,$e.isQualityBad=!1,$e.playMode=Ut.CDN,$e.qualityBadCount=0,d.playCDN(Ce,$e.playOption,d.playSuccessCallBackList[Ce],d.playErrorCallBackList[Ce])):d.l3DetectResult>d.switchDetectResultScore&&($e.qualityBadCount=0,d.l3DetectedTimestamp=0,Oe==_e.length-1&&(d.l3DetectResult=0),d.cdnSwitchL3($e))}),s==Ut.L3&&(this.isL3Fallback=!0),!0}}return typeof l.qualityBadCount=="number"?l.qualityBadCount++:l.qualityBadCount=1,!1},t.prototype.cdnSwitchL3=function(n){var o,s=this,d=n.streamID,g=this.stateCenter.useNetAgent;if(n.playMode=Ut.L3,this.stopPlayingStream(d,void 0,!0),this.playerList[d]=n,n.isQualityBad=!1,((o=n.playOption)===null||o===void 0?void 0:o.resourceMode)==Vt.DG&&(n.player.useResourceTypes.push("l3"),n.player.useResourceTypes=Array.from(new Set(n.player.useResourceTypes))),g)this.stateCenter.appConfig?(n.serverUrls=["unified_l3"],this.startPlayingStream(d,g,function(b){var S;s.logger.info("zsc.cqi.1 switch l3 success");var l=n.player,J=l.initPoster,he=l.initVideoStyle,_e=n.playOption.CDNVideo;if(s.stateCenter.browser==="safari"&&_e&&n.player._CDNPlayerClone){var Ce=_e.parentElement;if(Ce){var Oe=document.createElement("style"),$e=_e.cloneNode(!0),ze=Date.now().toString(16);Oe.innerText=".zego_cdn_video_".concat(ze," .zego_clone_video_").concat(ze,"{width:").concat(_e.offsetWidth,"px;height:").concat(_e.offsetHeight,"px;}")+".zego_cdn_video_".concat(ze," .hide_").concat(ze,"{display:none!important;width:0;height:0}"),document.head.append(Oe),$e.classList.add("zego_clone_video_".concat(ze)),$e.id=n.streamID+"_clone",$e.src="",$e.srcObject=b,$e.classList.add("hide_".concat(ze)),_e.before($e),Ce.classList.add("zego_cdn_video_".concat(ze));var Xe=setTimeout(function(){clearTimeout(Xe),_e.classList.add("hide_".concat(ze)),$e.classList.remove("hide_".concat(ze))},2e3),et=setTimeout(function(){var _t;clearTimeout(et),n.playOption.CDNVideo=$e,(_t=n.cdnPlayer)===null||_t===void 0||_t.stop(),s.stateCenter.reporter.spanEnd({key:Nn,par:d}),Ce.classList.remove("zego_cdn_video_".concat(ze)),_e.classList.remove("zego_cdn_video_".concat(ze)),$e.classList.remove("zego_clone_video_".concat(ze)),$e.id=_e.id,Oe.remove(),_e.remove()},4e3)}}else{(S=n.cdnPlayer)===null||S===void 0||S.stop(),s.stateCenter.reporter.spanEnd({key:Nn,par:d});var gt=setTimeout(function(){clearTimeout(gt),_e&&_e.setAttribute("style",he),_e&&_e.setAttribute("poster",J)},1e3);b&&_e&&(_e.srcObject=b)}})):this.waitPlayList.push(d);else{var E=this.playerList[d].retryDispatchHandler;E.stopMaxTime(),E.invalid(),E.initStream(d,n.playOption,!1),E.startMaxTime(),E.active(0)}},t.prototype.fetchL3CDNCloudSetting=function(){this.switchScore=this.stateCenter.settingConfig.getSetting("switch_score")||60,this.defaultBadQualityTime=this.stateCenter.settingConfig.getSetting("default_bad_quality_time")||3e4,this.l3BadQualityTime=this.stateCenter.settingConfig.getSetting("l3_bad_quality_time")||1e4,this.switchDetectResultScore=this.stateCenter.settingConfig.getSetting("switch_detect_result_score")||60,this.cdnBadQualityScore=this.stateCenter.settingConfig.getSetting("cdn_bad_quality_score")||60,this.l3BadQualityScore=this.stateCenter.settingConfig.getSetting("l3_bad_quality_score")||60,this.multiPlaySwitchRate=this.stateCenter.settingConfig.getSetting("multi_play_switch_rate")||.8,this.protocolBadQualityCount=this.stateCenter.settingConfig.getSetting("protocol_bad_quality_count")||3,this.protocolBadQualityTime=this.stateCenter.settingConfig.getSetting("protocol_bad_quality_time")||12e3,this.protocolQualityCacheExpiredTime=this.stateCenter.settingConfig.getSetting("protocol_quality_cache_expired_time	")||18e4,this.fallbackInhibitionTime=this.stateCenter.settingConfig.getSetting("fallback_inhibition_time")||18e4,this.probeExpiredTime=this.stateCenter.settingConfig.getSetting("probe_expired_time")||3e4,this.minProbeInterval=this.stateCenter.settingConfig.getSetting("min_probe_interval")||15e3},t.prototype.setStreamGwNode=function(n,o){this.logger.info(Zc+" call "+n.streamId),this.checkCachedNodesUse(n,o),n.gwNodesTTL&&n.gwNodesTTL<new Date().getTime()&&(this.logger.info(Zc+" call "+n.streamId+" ttl timeout, reset gw"),n.gwNode="",n.gwNodeList=[],n.gwNodesTTL=0),this.gwNode&&(n.gwNode=this.gwNode);var s=this.stateCenter.settingConfig.getSetting("gw_nodes");s&&s instanceof Array&&s.length>0&&(this.logger.info(Gn+" setting "+JSON.stringify(s)),n.gwNodeList=s,n.gwNode=n.gwNodeList[0]||n.gwNode),this.logger.info(Zc+" end "+n.streamId+" "+n.gwNode)},t.prototype.getNodeIndex=function(n,o){var s="",d=o?"publish":"play",g="";switch(o||(n.resourceMode==0?g="_rtc":[2,3].includes(n.resourceMode)&&(g="_l3")),n.cachedGwNodesMode){case ko.NotReUse:break;case ko.TheSameReUse:s=d+"_"+n.streamId+g;break;case ko.DiffReUse:s=d;break;case ko.AllReUse:s="stream"}return s},t.prototype.checkCachedNodesUse=function(n,o){if(this.logger.info(Os+" call "+n.streamId+" "+n.cachedGwNodesMode),n.isExternal)if(o&&n.isCustomCdn())this.logger.info(Os+" call "+n.streamId+" custom cdn");else if(this.stateCenter.useNetAgent&&this.stateCenter.isMultiOuter)this.logger.info(Os+" call "+n.streamId+" multi outer");else{var s=this.getNodeIndex(n,o);if(this.logger.info(Os+" "+n.streamId+" "+s),s){var d=this.cachedGwNodesList[s];d&&d.gwNodesTTL>new Date().getTime()&&(d==null?void 0:d.gwNodes.length)>0&&(this.logger.info(Os+" "+n.streamId+" use cache gwnodes"),n.gwNodeList=d.gwNodes,n.gwNodesTTL=d.gwNodesTTL,n.gwNode=n.gwNodeList[0])}this.logger.info(Os+" end "+n.streamId+" "+n.gwNode)}else this.logger.info(Os+" "+n.streamId+" retry internal")},t.prototype.updateCachedGwNodesList=function(n,o,s,d){if(this.logger.info(fl+" call "+n.streamId),d===0)this.setCachedGwNodesMode(ko.NotReUse);else if(d>0){var g=this.getNodeIndex(n,o);this.logger.info(fl+" "+n.streamId+" nodeIndex "+g),g&&(this.cachedGwNodesList[g]={gwNodes:s,gwNodesTTL:new Date().getTime()+1e3*d})}},t.prototype.clearCachedGwNodesList=function(n,o){var s=this.getNodeIndex(n,o);this.logger.info("zsc.ccgl "+n.streamId+" nodeIndex "+s),s&&delete this.cachedGwNodesList[s]},t.prototype.setCachedGwNodesMode=function(n){this.cachedGwNodesMode=n,Object.values(this.publisherList).forEach(function(o){o.publisher.cachedGwNodesMode=n}),Object.values(this.playerList).forEach(function(o){o.player.cachedGwNodesMode=n})},t.prototype.updateTimeOffsetInterval=function(){var n,o,s=this;typeof((n=this.rtm)===null||n===void 0?void 0:n.netAgent.timeOffset)=="number"&&(this.stateCenter.clientTimeOffset=(o=this.rtm)===null||o===void 0?void 0:o.netAgent.timeOffset),this.timeOffsetUpdateTimer=setTimeout(function(){s.updateTimeOffsetInterval()},9e5)},t.prototype.changeRxQuality=function(n){this.rxQuality=n,this.startPublishNetWorkQuality()},t.prototype.changeTxQuality=function(n,o,s){this.txQuality=n,this.sendNetQuality(o,s),this.startPublishNetWorkQuality()},t.prototype.sendNetQuality=function(n,o){var s;this.logger.info("zc.sc.snq call");var d=bo.webrtc_cmd.WebrtcCmdReqMsg.encode({net_quality_grade:{rx_quality:this.rxQuality,tx_quality:this.txQuality}}).finish();(s=this.signalList[this.server])===null||s===void 0||s.signal.sendGWCmd(this.stateCenter.getSeq(),n,{peer_id:o,cmd_id:6},d,function(g,E,b){var S=bo.webrtc_cmd.WebrtcCmdRspMsg.decode(b.body);Je(S[Object.keys(S)[0]])},function(g){})},t.prototype.startPublishNetWorkQuality=function(){var n=this;this.netTimer===null&&(this.netTimer=setInterval(function(){n.stateCenter.actionListener("networkQuality","",n.txQuality,n.rxQuality)},3e3))},t.prototype.resetNetworkData=function(){Object.keys(this.playerList).length<1&&(this.rxQuality=-1),Object.keys(this.publisherList).length<1&&(this.txQuality=-1),Object.keys(this.playerList).length<1&&Object.keys(this.publisherList).length<1&&(clearInterval(this.netTimer),this.netTimer=null)},t.prototype.getCloudSoundInterval=function(){var n=this.stateCenter.settingConfig.getSetting("sound_sample_interval");return n&&(n<100&&(n=100),n>3e3&&(n=3e3),this.logger.info("zc.gsl setting sound_sample_interval "+n)),n},t.prototype.createSoundLevel=function(n,o,s,d,g){s===void 0&&(s=this.soundLevelInterval),g===void 0&&(g=function(S){});var E=new pu(this.logger,this.stateCenter,s,d),b=E.getSrcSource(n,o);return E.initAudioWorklet(n,b),E.onSoundLevelUpdate=function(S){g(S)},{mic:b,soundMeter:E}},t.prototype.destroy=function(){var n;this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.soundLevelTimer&&clearTimeout(this.soundLevelTimer),this.timeOffsetUpdateTimer&&clearTimeout(this.timeOffsetUpdateTimer),this.netTimer&&clearInterval(this.netTimer),(n=this._billingTimer)===null||n===void 0||n.destroy(),document.removeEventListener("visibilitychange",this.eventHandler.visibilitychange)},t}(jd),fh=__webpack_require__(5515),Sg=function(){function A(t){this.v=t}return A.prototype.takeStreamSnapshot=function(t){return this.v.takeStreamSnapshot(t)},A.prototype.play=function(t,n){return this.v.play(t,n)},A.prototype.stop=function(){return this.v.stop()},A.prototype.resume=function(){this.v.resume()},A.prototype.setAudioMuted=function(t){return this.v.setAudioMuted(t)},A.prototype.setVideoMuted=function(t){return this.v.setVideoMuted(t)},A.prototype.useAudioOutputDevice=function(t){return this.v.useAudioOut(t)},A.prototype.setVolume=function(t){return this.v.setVolume(t)},A.prototype.on=function(t,n){return this.v.on(t,n)},A.prototype.off=function(t,n){return this.v.off(t,n)},A}(),Ch=function(){function A(){this.defaultSetting={publish_video_codec:"H264",camera_video_bitrate:800,screen_video_bitrate:1500,custom_video_bitrate:0,l3_play_buffer_ms:500,AEC:!0,AGC:!0,ANS:!0,resource_mode:0,bitrate_mode:"default",auto_to_tcp:!1,udp_max_fail_num:2,probe_started_num:3,udp_or_tcp:"udp",hardware_encode:!1,camera_hard_encode:!1,custom_hard_encode:!1,bg_fps_stat:0,camera_width:720,camera_height:480,camera_framerate:15,camera_audio_bitrate:48,open_mini_sdp:!1,sound_level_api_type:Ar.useAnalyzer,sound_sample_interval:200,dtx:0},this.userChangedKey={},this.setting=JSON.parse(JSON.stringify(this.defaultSetting))}return A.prototype.setSetting=function(t,n){var o=Array.isArray(n)&&n.length>0;for(var s in t)for(var d in t[s])if(!d.endsWith("_ctrlmode")){if(o&&n.indexOf(d)==-1)continue;var g=t[s][d+"_ctrlmode"];g===1?this.userChangedKey[d]||(this.setting[d]=t[s][d]):g===2?this.setting[d]=t[s][d]:this.defaultSetting[d]&&(this.setting[d]=this.defaultSetting[d]),typeof g=="number"&&(this.setting[d+"_ctrlmode"]=t[s][d+"_ctrlmode"])}},A.prototype.getSetting=function(t,n){return n===void 0&&(n=!1),n?this.setting[t+"_ctrlmode"]==2?this.setting[t]:void 0:this.setting[t]},A.prototype.setUserValue=function(t,n){this.setting[t+"_ctrlmode"]!==2&&(this.userChangedKey[t]=!0,this.setting[t]=n)},A}(),_A=function(){return _A=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},_A.apply(this,arguments)},Ih=function(){function A(t,n,o){this.rtmStateCenter=t,this.rtcStateCenter=n,this.streamCenter=o,this._initTime=Date.now()}return Object.defineProperty(A.prototype,"appid",{get:function(){return this.rtcStateCenter.appid},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"device_id",{get:function(){return this.rtmStateCenter.deviceID},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"product",{get:function(){return this.rtmStateCenter.roomServer},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"sdk_version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"sys_info",{get:function(){return navigator.userAgent},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"report_version",{get:function(){return this.rtcStateCenter.sdkVerNum},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"browser",{get:function(){return this.rtcStateCenter.browser},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"id_name",{get:function(){return this.rtmStateCenter.idName},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"nick_name",{get:function(){return this.rtmStateCenter.nickName},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"use_na",{get:function(){return this.rtcStateCenter.useNetAgent?1:0},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"userid",{get:function(){return this.rtmStateCenter.userid},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"network_state",{get:function(){return this.rtcStateCenter.networkState},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"init_time",{get:function(){return this._initTime},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"net_type",{get:function(){var t;return((t=navigator.connection)===null||t===void 0?void 0:t.effectiveType)||"unknown"},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"room_server",{get:function(){return this.rtmStateCenter.roomServer},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"device_infos",{get:function(){return this.rtcStateCenter.deviceInfos},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"room_list",{get:function(){var t=this,n={};return this.rtcStateCenter.roomList.forEach(function(o){var s,d,g,E=t.rtmStateCenter.roomModulesList.find(function(S){return S.roomID===o.roomID}),b={roomSessionID:o.roomSessionID,sessionID:o.sessionID,streamList:o.streamList,token:o.token,role:t.rtmStateCenter.role,roomCreateFlag:t.rtmStateCenter.roomCreateFlag,loginTime:E==null?void 0:E.loginTime,heartbeatInterval:(s=E==null?void 0:E.heartBeatHandler)===null||s===void 0?void 0:s.heartbeatInterval,roomExtraInfos:(d=E==null?void 0:E.messageHandler)===null||d===void 0?void 0:d.transSeqMap,roomRetryTime:(g=E==null?void 0:E.roomTryHandler)===null||g===void 0?void 0:g.RETRY_MAX_TIME};n[o.roomID]=b}),n},enumerable:!1,configurable:!0}),A.prototype.getRoomList=function(t,n){var o=this;return this.room_id_list.slice(t,n).map(function(s){return _A({roomID:s},o.room_list[s])})},Object.defineProperty(A.prototype,"room_id_list",{get:function(){return this.rtcStateCenter.roomList.map(function(t){return t.roomID})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"roomListSize",{get:function(){return this.room_id_list.length},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"userLoginState",{get:function(){var t,n=this.rtmStateCenter.roomModulesList[0],o=n.runState,s=n.lastRunState;return o===ae.logout?t=ce.logout:o===ae.login?t=ce.login:s===ae.logout?t=ce.trylogin:s===ae.login&&(t=ce.reconnect),t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"publishStreamList",{get:function(){return Object.keys(this.streamCenter.publisherList)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"publishList",{get:function(){var t=this,n={};return this.publishStreamList.forEach(function(o){var s,d,g,E=t.streamCenter.publisherList[o],b=E==null?void 0:E.publisher,S=b==null?void 0:b.publishStat;n[o]={streamSid:E==null?void 0:E.streamSid,roomID:(s=E==null?void 0:E.room)===null||s===void 0?void 0:s.roomID,roomSessionID:(d=E==null?void 0:E.room)===null||d===void 0?void 0:d.roomSessionID,cameraLabel:E==null?void 0:E.cameraLabel,microLabel:E==null?void 0:E.microLabel,cameraStatus:b==null?void 0:b.camera_status,micStatus:b==null?void 0:b.mic_status,sessionId:b==null?void 0:b.sessionId,publishBeginTime:b==null?void 0:b.reportPublishStateTime,serverUrl:(g=b==null?void 0:b.signal)===null||g===void 0?void 0:g.server,gwNode:b==null?void 0:b.gwNode,proto:"webrtc",frameWidth:S==null?void 0:S.frameWidth,frameHeight:S==null?void 0:S.frameHeight,rtt:S==null?void 0:S.currentRoundTripTime,videoPacketsLostRate:S==null?void 0:S.videoPacketsLostRate,audioPacketsLostRate:S==null?void 0:S.audioPacketsLostRate,videoTargetBitrate:S==null?void 0:S.videoTargetBitrate,videoBitrate:S==null?void 0:S.videoBitrate,audioTargetBitrate:S==null?void 0:S.audioTargetBitrate,audioBitrate:S==null?void 0:S.audioBitrate,videoTargetFPS:S==null?void 0:S.videoTargetFPS,videoFPS:S==null?void 0:S.videoFPS,audioFPS:S==null?void 0:S.audioFPS,videoCodecName:S==null?void 0:S.videoCodecName,audioCodecName:S==null?void 0:S.audioCodecName}}),n},enumerable:!1,configurable:!0}),A.prototype.getPublishList=function(t,n){var o=this;return this.publishStreamList.slice(t,n).map(function(s){return _A({streamID:s},o.publishList[s])})},Object.defineProperty(A.prototype,"publishListSize",{get:function(){return this.publishStreamList.length},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"playStreamList",{get:function(){return Object.keys(this.streamCenter.playerList)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"playList",{get:function(){var t=this,n={};return this.playStreamList.forEach(function(o){var s,d,g,E=t.streamCenter.playerList[o],b=E==null?void 0:E.player,S=b==null?void 0:b.playStat;n[o]={streamSid:E==null?void 0:E.streamSid,roomID:(s=E==null?void 0:E.room)===null||s===void 0?void 0:s.roomID,roomSessionID:(d=E==null?void 0:E.room)===null||d===void 0?void 0:d.roomSessionID,cameraStatus:b==null?void 0:b.cameraStatus,micStatus:b==null?void 0:b.micStatus,sessionId:b==null?void 0:b.sessionId,playBeginTime:b==null?void 0:b.reportPlayStateTime,serverUrl:(g=b==null?void 0:b.signal)===null||g===void 0?void 0:g.server,gwNode:b==null?void 0:b.gwNode,proto:"webrtc",frameWidth:S==null?void 0:S.frameWidth,frameHeight:S==null?void 0:S.frameHeight,rtt:S==null?void 0:S.currentRoundTripTime,videoPacketsLostRate:S==null?void 0:S.videoPacketsLostRate,audioPacketsLostRate:S==null?void 0:S.audioPacketsLostRate,videoBitrate:S==null?void 0:S.videoBitrate,audioBitrate:S==null?void 0:S.audioBitrate,videoFPS:S==null?void 0:S.videoFPS,audioFPS:S==null?void 0:S.audioFPS,videoCodecName:S==null?void 0:S.videoCodecName,audioCodecName:S==null?void 0:S.audioCodecName,peerToPeerDelay:S==null?void 0:S.peerToPeerDelay,firstFrameTime:S==null?void 0:S.firstFrameTime,videoJitter:S==null?void 0:S.videoJitter,audioJitter:S==null?void 0:S.audioJitter}}),n},enumerable:!1,configurable:!0}),A.prototype.getPlayList=function(t,n){var o=this;return this.playStreamList.slice(t,n).map(function(s){return _A({streamID:s},o.playList[s])})},Object.defineProperty(A.prototype,"playListSize",{get:function(){return this.playStreamList.length},enumerable:!1,configurable:!0}),A}(),ka="zc.ac.mer",mh=function(){function A(t,n,o){var s=this;this.logger=t,this.ac=n,this.audio=o,this.error=!1,this.effectMode=1,this.eventHandler={volumechange:function(d){var g=d.target;g&&s.localOutPutNode&&(g.muted||g.paused?(s.logger.info(ka+" local audio muted disconnect"),s.localOutPutNode.disconnect()):(s.logger.info(ka+" local audio is connected"),s.localOutPutNode.connect(s.ac.destination)))}},this.logger.info(ka+" create audio renderer"),this.error=!this.init(),this.error||(o.addEventListener("volumechange",this.eventHandler.volumechange),o.addEventListener("pause",this.eventHandler.volumechange),o.addEventListener("play",this.eventHandler.volumechange))}return A.prototype.init=function(){var t=this.ac;try{var n=navigator.userAgent.match(/iPhone\sOS\s(\d+)_(\d+)_?(\d+)?/);if(n&&+n[1]==17&&+n[2]==0&&+n[3]<4)throw" iOS 17 not suppot createMediaElementSource.";this.audio.crossOrigin!=="anonymous"&&this.logger.info(ka+" Media element does not support cross-origin. Maybe no sound can be played"),this.srcNode=t.createMediaElementSource(this.audio),(this.localOutPutNode=t.createGain()).connect(t.destination),this.ac.state==="suspended"&&this.ac.resume()}catch(o){return this.logger.warn(ka+" create src failed."+o),!1}return!0},A.prototype.getMixNode=function(){var t=this.mixOutputNode;return t||(t=this.mixOutputNode=this.ac.createGain()),this.setVoiceChangeNode(this.effectMode,this.voiceChangerNode,!0),{mixOutputNode:t}},Object.defineProperty(A.prototype,"effectOnLocal",{get:function(){return[Ba.Local,Ba.All].includes(this.effectMode)},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"effectOnMix",{get:function(){return[Ba.Publish,Ba.All].includes(this.effectMode)},enumerable:!1,configurable:!0}),A.prototype.setVoiceChangeNode=function(t,n,o){if(o===void 0&&(o=!1),this.localOutPutNode&&this.srcNode&&(o||this.voiceChangerNode!==n||this.effectMode!==t)){this.effectMode=t,this.srcNode.disconnect();var s=this,d=s.mixOutputNode,g=s.effectOnLocal,E=s.effectOnMix;if(this.logger.info(ka+" set voice changer render. ".concat(JSON.stringify({mode:t,node:!!n,force:o,effectOnLocal:g,effectOnMix:E}))),n)n.disconnect(),this.srcNode.connect(n),g?n.connect(this.localOutPutNode):this.srcNode.connect(this.localOutPutNode),d&&(E?n.connect(d):this.srcNode.connect(d)),this.voiceChangerNode=n;else{var b=this.srcNode;b.connect(this.localOutPutNode),this.mixOutputNode&&b.connect(this.mixOutputNode),this.voiceChangerNode=void 0}}},A.prototype.destroy=function(){var t;(t=this.localOutPutNode)===null||t===void 0||t.connect(this.ac.destination),this.audio.removeEventListener("volumechange",this.eventHandler.volumechange),this.audio.removeEventListener("pause",this.eventHandler.volumechange),this.audio.removeEventListener("play",this.eventHandler.volumechange)},A}(),Eh=function(){function A(t){var n=this;this.logger=t,this.isResuming=!1,this.elementNodeMap=new Map,this.eventHandler={resumeAudioContext:function(s){var d=n.ac.state;d==="running"||n.isResuming?n.offCheckAudioContextListener():(n.logger.info("zc.ac.rs call "+d+", "+s.type),n.isResuming=!0,n.ac.resume().then(function(){n.isResuming=!1,n.logger.info("zc.ac.rs end "+n.ac.state+", "+s.type)}))}},this.id=Date.now();var o=window.AudioContext||window.webkitAudioContext;this.ac=new o,this.logger.info("zc.ac.0 ".concat(this.id," ").concat(this.ac.state,", ").concat(this.ac.sampleRate)),this.ac.addEventListener("statechange",function(){var s,d=(s=n.ac)===null||s===void 0?void 0:s.state;n.logger.info("zc.ac.sc ".concat(n.id," ").concat(d)),d!=="running"&&n.checkAudioContext()}),this.checkAudioContext()}return A.create=function(t){return A.mgr?A.mgr.logger=t:A.mgr=new A(t),A.mgr},A.prototype.getMediaElementRenderer=function(t){var n=this.elementNodeMap.get(t);return n||((n=new mh(this.logger,this.ac,t)).error?null:(this.elementNodeMap.set(t,n),n))},A.prototype.checkAudioContext=function(){this.logger.info("zc.ac.cac call"),this.ac&&this.ac.state==="suspended"&&window.addEventListener("mousedown",this.eventHandler.resumeAudioContext)},A.prototype.offCheckAudioContextListener=function(){this.logger.info("zc.ac.ocac call"),window.removeEventListener("mousedown",this.eventHandler.resumeAudioContext)},A.prototype.destroy=function(){this.offCheckAudioContextListener()},A}(),Ra=function(){return Ra=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},Ra.apply(this,arguments)},ms=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Es=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Ks=function(){function A(t,n,o,s,d,g){g===void 0&&(g=Br.Default);var E=this;this.recordedBlobs=[],this.mediaRecorder=null,A.isInstantiated=!0,this.logger=t,this.dataReport=n,this.acMgr=Eh.create(this.logger),this.stateCenter=new wd(this.logger,this.dataReport),this.stateCenter.clientType="webrtc",this.stateCenter.settingConfig=new Ch,this.RTM=s,this.stateCenter.appid=s.getAppID(),this.streamCenter=new ph(this.logger,this.stateCenter,this.dataReport,this.RTM,this.acMgr,{type:A.geoFenceType,areaList:A.geoFenceAreaList}),this.stateCenter.browser=fh.browserDetails.browser,this.stateCenter.browserInfo=function(){var b,S=navigator.userAgent,l=S.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];return/trident/i.test(l[1])?{name:"IE",version:(b=/\brv[ :]+([\d\.]+)/g.exec(S)||[])[1]||""}:l[1]==="Chrome"&&(b=S.match(/\bOPR|Edge\/([\d\.]+)/))!=null?{name:"Opera",version:b[1]}:(l=l[2]?[l[1],l[2]]:[navigator.appName,navigator.appVersion,"-?"],(b=S.match(/version\/([\d+\.]+)/i))!=null&&l.splice(1,1,b[1]),{name:l[0],version:l[1]})}(),this.getSDKVersionNum(),this.RTM.cloudSetting.setEnvVariable("sdk_version",f),this.initTracer(o),this.rtcModules=new CA(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.RTM,this.ac,this),this.RTM.cloudSetting.getSettingCache("rtc").then(function(b){var S,l;E.logger.info(mt+" streamConfig "+JSON.stringify(b));var J=E.stateCenter.reporter.createSpan(Zt.H,{key:xt},{key:""},sa);J.setAttributes({files:aa([{name:"rtc",content:JSON.stringify(b==null?void 0:b.setting),versions:JSON.stringify(b==null?void 0:b.versions),code:0,message:""}])}),J.end(),E.stateCenter.settingConfig.setSetting(b==null?void 0:b.setting),!((S=b==null?void 0:b.setting)===null||S===void 0)&&S.open_mini_sdp&&((l=E.streamCenter)===null||l===void 0||l.initMiniSdpWorker(b.setting.open_mini_sdp.open_mini_sdp))}).catch(function(b){E.logger.warn(mt+" streamConfig "+JSON.stringify(b))}),this.stateCenter.rtm=this.RTM,this.stateCenter.streamCenter=this.streamCenter,[3,4,5,6,7,8].includes(g)?(this.stateCenter.scenario=g,[4,5,8].includes(g)?this.enableVideoHardwareEncoder(!0):this.enableVideoHardwareEncoder(!1),this.logger.info(Fl+" "+g+"  success")):(this.stateCenter.scenario=Br.Default,this.logger.error(Fl+" "+g+"  please use valid scenario"))}return Object.defineProperty(A.prototype,"ac",{get:function(){return this.acMgr.ac},enumerable:!1,configurable:!0}),A.setGeoFence=function(t,n){if(A.isInstantiated)throw ln;A.geoFenceType=t,A.geoFenceAreaList=n},A.setEngineOptions=function(t){A.engineOptions=t,t.geoFenceType&&(A.geoFenceType=t.geoFenceType),t.geoFenceAreaList&&(A.geoFenceAreaList=t.geoFenceAreaList)},A.prototype.destroyEngineHandler=function(){var t=this;this.logger.info(vt+" call");var n=function(){return!t.RTM.stateCenter.roomModulesList.some(function(s){return!(s.isLogout()||s.roomState==="DISCONNECTED")})},o=function(){t.RTM.destroyRTM();for(var s=0,d=t.streamCenter.previewStreamList;s<d.length;s++){var g=d[s];g.localStream&&t.destroyStream(g.localStream)}t.RTM.netAgent.destroy(),t.stateCenter.actionListener("_engineDestroy"),t.acMgr.destroy(),t.streamCenter.destroy(),t.stateCenter.destroy(),t.logger.info(vt+" call success"),t.logger.destroy()};n()?o():(this.RTM.stateCenter.onListener("_roomStateUpdate",function(s,d){d==="DISCONNECTED"&&n()&&o()}),this.RTM.logoutRoom())},A.prototype.mutePublishStreamVideo=function(t,n,o){return!1},A.prototype.mutePublishStreamAudio=function(t,n){return!1},A.prototype.mutePlayStreamVideo=function(t,n){return new Promise(function(o,s){console.error("should install advanced module"),o(!1)})},A.prototype.mutePlayStreamAudio=function(t,n){return new Promise(function(o,s){console.error("should install advanced module"),o(!1)})},A.prototype.muteMicrophone=function(t){return!1},A.prototype.isMicrophoneMuted=function(){return!this.streamCenter.isMicEnabled},A.prototype.setAudioOutput=function(t,n){return this.logger.info("zc.sao call"),typeof n!="string"?(this.logger.error("audiooutput is not string"),!1):this.rtcModules.playModule.setStreamAudioOutput(t,n)},A.prototype.setCustomSignalUrl=function(t){if(this.logger.info(Ur+" call: "+t),t&&t.length!=0){var n=!0;t.forEach(function(o){return o.indexOf("wss://")!=0&&(n=!1)}),n?this.stateCenter.customUrl=t:this.logger.error(Ur+" url is not correct")}else this.logger.error(Ur+" param error")},A.prototype.setGWNode=function(t){typeof t=="string"&&t.length>0&&(this.streamCenter.gwNode=t)},A.prototype.setQualityMonitorCycle=function(t){return typeof t=="number"&&t>=1e3?(this.streamCenter.setQualityMonitorCycle(t),!0):(this.logger.error("zc.sqmc.0 time must be number and bigger than 1000"),!1)},A.prototype.startPlayingStream=function(t,n,o){return this.logger.info(jt+" call by user"),this.rtcModules.playModule.startPlayingStream(t,n,o)},A.prototype.stopPlayingStream=function(t){this.logger.info(kr+" call by user"),this.rtcModules.playModule.stopPlayingStream(t)},A.prototype.setPlayAccelerate=function(t){this.stateCenter.playAccelerate=t},A.prototype.setTurnOverTcpOnly=function(t){this.logger.info("zc.stoto call "+t),typeof t=="boolean"?this.stateCenter.turnOverTcpOnly=t:this.logger.error("zc.p.stoto.0 param must be param")},A.prototype.createStream=function(t){return this.rtcModules.publishModule.createStream(t)},A.prototype.createZegoStream=function(t){return this.rtcModules.publishModule.createZegoStream(t)},A.prototype.setRoomScenario=function(t){return[3,4,5,6,7,8].includes(t)?(this.logger.info(ac+" "+t+" called"),this.stateCenter.roomList.length?(this.logger.error(ac+" "+JSON.stringify(tt)),!1):([Br.StandardVideoCall,Br.HighVideoCall,Br.Broadcast].includes(t)?this.enableVideoHardwareEncoder(!0):this.enableVideoHardwareEncoder(!1),this.stateCenter.scenario=t,this.logger.info(ac+" "+t+" called success"),!0)):(this.logger.error(ac+" "+t+" please use valid scenario"),!1)},A.prototype.destroyStream=function(t){this.rtcModules.publishModule.destroyStream(t)},A.prototype.startPublishingStream=function(t,n,o,s){return this.logger.info(er+" call by user"),this.rtcModules.publishModule.startPublishingStream(t,n,o,s)},A.prototype.updatePublishingStream=function(t,n){return this.logger.info(iu+" call by user"),this.rtcModules.publishModule.updatePublishingStream(t,n)},A.prototype.activateSEIInsert=function(t){return console.error("should install advanced module"),!1},A.prototype.setSEIConfig=function(t){this.logger.info("zc.ssc "+JSON.stringify(t)),this.stateCenter.seiConfig=Ra(Ra({},this.stateCenter.seiConfig),t),this.stateCenter.player265ReceiverList.forEach(function(n){n.sendMsg({type:"SEIConfigUpdate"})})},A.prototype.sendSEI=function(t,n){return this.rtcModules.publishModule.sendSEI(t,n)},A.prototype.stopPublishingStream=function(t){return this.logger.info(dr+" call by user"),this.rtcModules.publishModule.stopPublishingStream(t,void 0,!0)},A.prototype.setVideoConfig=function(t,n){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setVideoConfig(t,n):new Promise(function(o,s){console.error("should install advanced module"),o({errorCode:-1,extendedData:"should install advanced module"})})},A.prototype.setAudioConfig=function(t,n){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setAudioConfig(t,n):new Promise(function(o,s){console.error("should install advanced module"),o({errorCode:-1,extendedData:"should install advanced module"})})},A.prototype.replaceTrack=function(t,n,o){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.replaceTrack(t,n,o):new Promise(function(s,d){console.error("should install advanced module"),s({errorCode:-1,extendedData:"should install advanced module"})})},A.prototype.preloadEffect=function(t,n,o){this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.preloadEffect(t,n,o):console.error("")},A.prototype.getEffectDuration=function(t){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.getEffectDuration(t):(console.error(""),0)},A.prototype.getEffectCurrentProgress=function(t,n){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.getEffectProgress(t,n):(console.error(""),0)},A.prototype.seekAudioEffect=function(t,n,o){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.seekAudioEffect(t,n,o):(console.error(""),!1)},A.prototype.playEffect=function(t,n,o){this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.playEffect(t,n,o):console.error("")},A.prototype.pauseEffect=function(t,n){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.pauseEffect(t,n):(console.error(""),!1)},A.prototype.resumeEffect=function(t,n){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.resumeEffect(t,n):(console.error(""),!1)},A.prototype.stopEffect=function(t,n){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.stopEffect(t,n):(console.error(""),!1)},A.prototype.unloadEffect=function(t){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.unloadEffect(t):(console.error(""),!1)},A.prototype.setEffectVolume=function(t,n,o,s){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.setEffectVolume(t,n,o,s):(console.error(""),!1)},A.prototype.startMixingAudio=function(t,n){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.startMixingAudio(t,n):(console.error(""),!1)},A.prototype.stopMixingAudio=function(t,n){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.stopMixingAudio(t,n):(console.error(""),!1)},A.prototype.mixingBuffer=function(t,n,o,s){this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.mixingBuffer(t,n,o,s):console.error("")},A.prototype.stopMixingBuffer=function(t,n){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.stopMixingBuffer(t,n):(console.error(""),!1)},A.prototype.setMixingAudioVolume=function(t,n,o){return this.rtcModules.audioMixModule!==void 0?this.rtcModules.audioMixModule.setMixingAudioVolume(t,n,o):(console.error(""),!1)},A.prototype.checkSystemRequirements=function(t,n){var o=this,s=navigator&&navigator.mediaDevices&&(A.screenShotReady||"getDisplayMedia"in navigator.mediaDevices);return this.logger.info("zc.csr call"+navigator.userAgent),new Promise(function(d){var g=o.stateCenter.reporter.createSpan(Zt.H,{key:xt},{key:""},Io),E=n||"all",b=function(S){g.setAttributes({capability:so(S)}),g.end();var l=o.stateCenter.checkList.indexOf(E);o.stateCenter.checkList.splice(l,1),d(S)};return["webRTC","customCapture","camera","microphone","screenSharing","H264","VP8","all"].includes(E)&&[0,1].includes(t)?o.stateCenter.checkList.includes(E)||o.stateCenter.checkList.includes("all")?b({result:!1,errInfo:{extendedDate:"The last test of the same type has not returned a result "}}):(o.stateCenter.checkList.push(E),void Ie(s,b,t,n,o.stateCenter.customUa)):b({result:!1,errInfo:{extendedDate:"param error"}})})},A.prototype.enumDevices=function(t,n){return ms(this,void 0,void 0,function(){var o,s,d,g,E,b,S,l,J,he,_e,Ce,Oe,$e=this;return Es(this,function(ze){switch(ze.label){case 0:return this.logger.info("zc.ed.0 call"),o=function(){return new Promise(function(Xe,et){var gt=$e.stateCenter.reporter.createSpan(Zt.H,{key:pt},{key:""},Li);$e.rtcModules.publishModule.recordDevices(function(_t){var Bt=[],ut=!0,Ct=!0;_t.cameras.forEach(function(wt){wt.deviceID===""&&(ut=!1),Bt.push({device:wt.deviceID,device_name:wt.deviceName,type:0})}),_t.microphones.forEach(function(wt){wt.deviceID===""&&(Ct=!1),Bt.push({device:wt.deviceID,device_name:wt.deviceName,type:1})}),_t.speakers.forEach(function(wt){return Bt.push({device:wt.deviceID,device_name:wt.deviceName,type:2})}),gt.setAttributes({dev_list:ea(Bt),dev_kind:Yn(n||"all")}),gt.end(),Xe({devices:_t,enableCamera:ut,enableMic:Ct})},function(_t){$e.stateCenter.reporter.setError(gt,_t),et(_t)})})},[4,o()];case 1:return s=ze.sent(),d=s.enableCamera,g=s.enableMic,E=s.devices,t?(this.logger.info("zc.ed.0 check permission"),b={video:!0,audio:!0},n==="videoinput"?b.audio=!1:n!=="audioinput"&&n!=="audiooutput"||(b.video=!1),l=b.audio&&!g,(S=b.video&&!d)||l?(this.logger.info("zc.ed.0 need to get device permission. needCamera: ".concat(S,", needMic: ").concat(l)),[4,Qo(b).catch(function(){})]):[3,4]):[3,4];case 2:return(J=ze.sent())&&J.getTracks().forEach(function(Xe){Xe.stop()}),[4,o()];case 3:he=ze.sent(),_e=he.devices,Ce=he.enableCamera,Oe=he.enableMic,b.video&&!Ce&&this.logger.warn("zc.ed.0 get video device permission failed."),b.audio&&!Oe&&this.logger.warn("zc.ed.0 get audio device permission failed."),E=_e,ze.label=4;case 4:return[2,E]}})})},A.prototype.getCameras=function(){return ms(this,void 0,void 0,function(){return Es(this,function(t){switch(t.label){case 0:return[4,this.enumDevices(!0,"videoinput")];case 1:return[2,t.sent().cameras]}})})},A.prototype.getMicrophones=function(){return ms(this,void 0,void 0,function(){return Es(this,function(t){switch(t.label){case 0:return[4,this.enumDevices(!0,"audioinput")];case 1:return[2,t.sent().microphones]}})})},A.prototype.getSpeakers=function(){return ms(this,void 0,void 0,function(){return Es(this,function(t){switch(t.label){case 0:return[4,this.enumDevices(!0,"audiooutput")];case 1:return[2,t.sent().speakers]}})})},A.prototype.getAudioInfo=function(t,n,o){},A.prototype.getSoundLevel=function(t,n,o){this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.getSoundLevel(t,n,o):console.error("")},A.prototype.stopSoundLevel=function(t){this.rtcModules.audioMixModule?this.rtcModules.audioMixModule.stopSoundLevel(t):console.error("")},A.prototype.handleDataAvailable=function(t){t.data&&t.data.size>0&&A.recordedBlobs.push(t.data)},A.prototype.startRecord=function(t){var n=this,o=this.streamCenter.checkPreview(t);if(!o)throw"start record failed. stream is not from zego.";var s=t.clone(),d=s.getAudioTracks();d.length>0&&o.hasEmptyAudioTrack&&d.forEach(function(E){s.removeTrack(E)}),this.recordedBlobs=[];var g={mimeType:"video/webm;codecs=vp9"};console.log("MediaRecorder",MediaRecorder),MediaRecorder.isTypeSupported(g.mimeType)||(g={mimeType:"video/webm;codecs=vp8,opus"},MediaRecorder.isTypeSupported(g.mimeType)||(g={mimeType:"video/webm;codecs=vp8"},MediaRecorder.isTypeSupported(g.mimeType)||(g={mimeType:"video/webm"},MediaRecorder.isTypeSupported(g.mimeType)||(g={mimeType:""}))));try{this.mediaRecorder=new MediaRecorder(s,g)}catch(E){return void this.logger.error("zc.mdrcd Exception while creating ZegoMediaRecorder:",E)}this.mediaRecorder.onstop=function(E){n.logger.warn("zc.mdrcd Recorder stopped: "+E)},this.mediaRecorder.ondataavailable=this.handleDataAvailable.bind(this),this.mediaRecorder.start(10)},A.prototype.stopRecord=function(){this.mediaRecorder?this.mediaRecorder.stop():this.logger.warn("zc.mdrcd please invoke startRecord first")},A.prototype.resumeRecord=function(){this.mediaRecorder?this.mediaRecorder.resume():this.logger.warn("zc.mdrcd please invoke startRecord first")},A.prototype.pauseRecord=function(){this.mediaRecorder?this.mediaRecorder.pause():this.logger.warn("zc.mdrcd please invoke startRecord first")},A.prototype.saveRecord=function(t){if(this.mediaRecorder&&this.recordedBlobs){var n=new Blob(this.recordedBlobs,{type:"video/webm"}),o=window.URL.createObjectURL(n),s=document.createElement("a");s.style.display="none",s.href=o,s.download=t+".webm",document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s),window.URL.revokeObjectURL(o)},100)}else this.logger.warn("please invoke startRecord first")},A.prototype.useVideoDevice=function(t,n){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.useVideoDevice(t,n):new Promise(function(o,s){o({errorCode:-1,extendedData:"should install advanced module"})})},A.prototype.useAudioDevice=function(t,n){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.useAudioDevice(t,n):(console.error("should use advanced module first"),new Promise(function(o,s){o({errorCode:-1,extendedData:"should install advanced module"})}))},A.prototype.getElectronScreenSources=function(){return this.rtcModules.publishModule.getElectronScreenSources()},A.prototype.setSoundLevelDelegate=function(t,n,o){this.logger.info("zc.ssd.0 call"),typeof t=="boolean"?n&&(!this.stateCenter.checkInteger(n)||n<100||n>3e3)?this.logger.error("zc.ssd.0 soundLevel interval must be integer number which is between 100 and 3000"):this.streamCenter.setSoundLevelDelegate(t,n,o):this.logger.error("zc.ssd.0 param 1 must be boolean")},A.prototype.on=function(t,n){return this.rtcModules.bindListener(t,n)},A.prototype.off=function(t,n){return this.rtcModules.deleteListener(t,n)},A.prototype.getVersion=function(){return f},A.prototype.setStreamExtraInfo=function(t,n){return this.rtcModules.streamCommon.setStreamExtraInfo(t,n)},A.prototype.addPublishCdnUrl=function(t,n){return this.logger.info("zg.cm.apu call "+t+" "+n),this.rtcModules.streamCDNModule?this.rtcModules.streamCDNModule.publishTarget({type:"addpush",streamID:t,pushUrl:n}):new Promise(function(o,s){console.error("should install advanced module"),o({errorCode:-1,extendedData:"should install advanced module"})})},A.prototype.removePublishCdnUrl=function(t,n){return this.logger.info("zg.cm.apu call "+t+" "+n),this.rtcModules.streamCDNModule?this.rtcModules.streamCDNModule.publishTarget({type:"delpush",streamID:t,pushUrl:n}):new Promise(function(o,s){console.error("should install advanced module"),o({errorCode:-1,extendedData:"should install advanced module"})})},A.prototype.startMixerTask=function(t){return new Promise(function(n,o){console.error(""),o()})},A.prototype.setMixerTaskConfig=function(t){return new Promise(function(n,o){console.error(""),o()})},A.prototype.stopMixerTask=function(t){return new Promise(function(n,o){console.error(""),o()})},A.prototype.setCaptureVolume=function(t,n){return this.rtcModules.publishModule.setCaptureVolume(t,n)},A.use=function(t){switch(t.type){case"AudioMix":t.install(CA,bu);break;case"MixStream":t.install(A,pA,CA);break;case"StreamCDN":t.install(A,CA,pA);break;case"Advance":t.install(A,CA,pA,Gs,Ag,ag,bu,Cg);break;case"BeautyEffect":case"VoiceChanger":t.install(A,Gs);break;case"RangeAudio":case"DataChannel":case"AiDenoise":case"BackgroundProcess":case"CopyrightedMusic":case"StreamCompositor":t.install(A)}},A.prototype.createRangeAudioInstance=function(){throw new Error("should use range audio module")},A.prototype.createCopyrightedMusic=function(){throw new Error("should use copyrighted music module")},A.prototype.destroyCopyrightedMusic=function(){throw new Error("should use copyrighted music module")},A.prototype.createRealTimeSequentialDataManager=function(t){throw new Error("should use datachannel module")},A.prototype.destroyRealTimeSequentialDataManager=function(t){throw new Error("should use datachannel module")},A.prototype.enableDataChannel=function(t){typeof t=="boolean"&&(this.streamCenter.isDataChannelEnabled=t)},A.prototype.addTrack=function(t,n){return new Promise(function(o,s){throw new Error("use advanced module first")})},A.prototype.removeTrack=function(t,n){return new Promise(function(o,s){throw new Error("use advanced module first")})},A.prototype.setBeautyEffect=function(t,n,o){return new Promise(function(s,d){console.error("should install video effect module and advanced module"),s({errorCode:-1,extendedData:"should install video effect module and advanced module"})})},A.prototype.setLowlightEnhance=function(t,n){return new Promise(function(o,s){console.error("should install video effect module and advanced module"),o({errorCode:-1,extendedData:"should install video effect module and advanced module"})})},A.prototype.getPublishingStreamQuality=function(t){return this.rtcModules.publishModule.getStreamStats(t)},A.prototype.getPlayingStreamQuality=function(t){return this.rtcModules.playModule.getStreamStats(t)},A.prototype.checkAudioTrackIsActive=function(t){var n=this;return this.logger.info("zc.caia.0 call"),new Promise(function(o,s){if(t=Jn(t,n.logger),!n.checkTrackParam(t,1))return n.logger.info("zc.caia.0 param active: false"),o(!1);var d=0;try{var g=0,E=n.streamCenter.createSoundLevel(n.ac,t,50,50,function(S){S*=100;var l=!1;g>=4?(b.destroy(),(S>0||d>0)&&(l=!0),n.logger.info("zc.caia.0 active: "+l),o(l)):d=Math.max(S,d),g++}),b=E.soundMeter;b&&E.mic||(n.logger.error("zc.cvia.1 checkVideoTrackIsActive not supported"),o(!1))}catch(S){n.logger.error("zc.cvia.1 "+S),o(!1)}})},A.prototype.checkVideoTrackIsActive=function(t){var n=this;this.logger.info("zc.cvia.0 call");var o=this;return new Promise(function(s,d){if(t=Jn(t,n.logger),!n.checkTrackParam(t,0))return n.logger.info("zc.cvia.1 param active: false"),s(!1);var g=Ca(1,1),E=Ia(160,120).getContext("2d");E&&(E!=null&&E.drawImage)&&(E!=null&&E.getImageData)||(o.logger.error("zc.cvia.1 checkVideoTrackIsActive not supported"),s(!1)),g.style.position="fixed",g.style.left="-1000px",g.style.opacity="0.01",document.body.appendChild(g),g.srcObject=t;var b=null;function S(){E=null;try{g.pause(),g.remove(),g.srcObject=null}catch{}}function l(){g.play();var J=setTimeout(function(){clearTimeout(J),J=null,g.removeEventListener("canplay",l),E==null||E.drawImage(g,0,0,160,120);var he=setTimeout(function(){clearTimeout(he),he=null;var _e=E==null?void 0:E.getImageData(0,0,160,120),Ce=(_e==null?void 0:_e.data)&&Math.floor(_e.data.length/3);if(Ce){for(var Oe=3;Oe<Ce;Oe+=4)if(_e.data[Oe-1]!==0||_e.data[Oe-2]!==0||_e.data[Oe-3]!==0)return o.logger.info("zc.cvia.0 active: true"),s(!0),void S();S(),o.logger.info("zc.cvia.1 active: false"),s(!1)}},20)},200)}g.addEventListener("canplay",l),b=setTimeout(function(){clearTimeout(b),g.removeEventListener("canplay",l),S(),s(!1)},1e3)})},A.prototype.checkTrackParam=function(t,n){var o,s=this;if(this.logger.info("zc.ctp.0 call type:"+n),!(t instanceof MediaStream))return this.logger.error("zc.ctp.1 param 1 must be MediaStream"),!1;var d=this.streamCenter.checkPreview(t),g=Object.keys(this.streamCenter.playerList).find(function(b){var S,l;return((l=(S=s.streamCenter.playerList[b])===null||S===void 0?void 0:S.player)===null||l===void 0?void 0:l.playStream)===t});if(!d&&!g)return this.logger.error("zc.ctp.1 stream is not from zego"),!1;var E=t[n==0?"getVideoTracks":"getAudioTracks"]()[0];return E?E.readyState!=="live"||!E.enabled||E.muted?(this.logger.info("zc.ctp.0 type:".concat(n," state:").concat(E.readyState," enabled:").concat(E.enabled," muted:").concat(E.muted)),!1):!g||((o=this.streamCenter.playerList[g])===null||o===void 0?void 0:o.player.micStatus)===0:(this.logger.error("zc.cvia.1 the stream has not track"),!1)},A.prototype.setDummyCaptureImagePath=function(t,n){return this.rtcModules.advancedModule?this.rtcModules.advancedModule.setDummyCaptureImagePath(t,n):new Promise(function(o,s){console.error("should install advanced module"),o(!1)})},A.prototype.setAccess=function(t){this.RTM.setAccess(t),this.stateCenter.useNetAgent=this.RTM.getSettingUnify(!0),this.RTM.setAccess(this.stateCenter.useNetAgent),this.stateCenter.useNetAgent=this.RTM.isUseNetAgent},A.prototype.setTestPackageSize=function(t){this.RTM.setTestPackageSize(!0),this.stateCenter.testNetPackageSize=t},A.prototype.setAudioOutputDevice=function(t,n){return ms(this,void 0,void 0,function(){var o;return Es(this,function(s){switch(s.label){case 0:return(o=t==null?void 0:t.setSinkId)?(t.setsinkid&&(t.setsinkid.enabled=!0),[4,o.call(t,n)]):[3,2];case 1:return s.sent(),[2,!0];case 2:throw Error("Browser not support set audio output.")}})})},A.prototype.enableCameraCapturing=function(t,n){return ms(this,void 0,void 0,function(){return Es(this,function(o){return console.error("should use advanced module first"),[2,!1]})})},A.prototype.enableDualStream=function(t){this.rtcModules.advancedModule?this.rtcModules.advancedModule.enableDualStream(t):console.error("use advance module first")},A.prototype.setLowStreamParameter=function(t,n){this.rtcModules.advancedModule?this.rtcModules.advancedModule.setLowStreamParameter(t,n):console.error("use advance module first")},A.prototype.setRemoteDefaultVideoStreamType=function(t){this.logger.info("zc.srdvs call"),[0,1,2].includes(t)?this.stateCenter.streamType=t:this.logger.error("zc.srdvs streamType must be number 0 or 1 or 2")},A.prototype.enableVideoHardwareEncoder=function(t){if(typeof t=="boolean"){var n=this.stateCenter.settingConfig;n.setUserValue("hardware_encode",t),n.setUserValue("camera_hard_encode",t),n.setUserValue("custom_hard_encode",t)}},A.prototype.createLocalViewer=function(t){var n=this.streamCenter.checkPreview(t),o=n==null?void 0:n.getViewer();if(!o)throw Error("create viewer failed.");return new Sg(o)},A.prototype.createRemoteViewer=function(t){var n=this.streamCenter.checkPlayer(t),o=n==null?void 0:n.getViewer();if(!o)throw Error("create viewer failed.");return new Sg(o)},A.prototype.createStreamCompositor=function(){throw new Error("should use stream compositor module")},A.prototype.enableAiDenoise=function(t,n){return new Promise(function(o,s){console.error("should install ai denoise module and advanced module"),s({errorCode:$r,extendedData:"should install ai denoise module and advanced module"})})},A.prototype.setVoiceChangerPreset=function(t,n){return new Promise(function(o,s){console.error("should install voice changer module and advanced module"),s({errorCode:$r,extendedData:"should install voice changer module and advanced module"})})},A.prototype.enableLiveAudioEffect=function(t,n,o){return new Promise(function(s,d){console.error("should install voice changer module and advanced module"),d({errorCode:$r,extendedData:"should install voice changer module and advanced module"})})},A.prototype.loadBackgroundBlurModule=function(){return new Promise(function(t,n){console.error("should install blur background module and advanced module"),t({errorCode:-1,extendedData:"should install blur background module and advanced module"})})},A.prototype.initBackgroundModule=function(t,n){return new Promise(function(o,s){console.error("should install blur background module and advanced module"),o({errorCode:-1,extendedData:"should install blur background module and advanced module"})})},A.prototype.setBackgroundBlurOptions=function(t,n){throw console.error("should install blur background module and advanced module"),new Error("should install blur background module and advanced module")},A.prototype.setVirtualBackgroundOptions=function(t,n){throw console.error("should install blur background module and advanced module"),new Error("should install blur background module and advanced module")},A.prototype.setTransparentBackgroundOptions=function(t){throw console.error("should install blur background module and advanced module"),new Error("should install blur background module and advanced module")},A.prototype.enableBackgroundProcess=function(t,n,o){return new Promise(function(s,d){console.error("should install blur background module and advanced module"),s({errorCode:-1,extendedData:"should install blur background module and advanced module"})})},A.prototype.enableAutoSwitchDevice=function(t){if(this.rtcModules.advancedModule)return this.rtcModules.advancedModule.enableAutoSwitchDevice(t);throw new Error("should use advanced module first")},A.prototype.getSDKVersionNum=function(){var t=this.getReporterVersion(v.SDKProject_ZegoWebRTC,f);this.stateCenter.sdkVerNum=t},A.prototype.initTracer=function(t){this.stateCenter.reporter=t;var n=new Ih(this.RTM.stateCenter,this.stateCenter,this.streamCenter);this.stateCenter.reporter.setCommonStates(n),this.stateCenter.reporter.setResource({sdk_version:f,report_version:this.stateCenter.sdkVerNum})},A.prototype.getReporterVersion=function(t,n){var o=n.split(".").map(function(s){return parseInt(s)});return t<<28|o[0]<<20|o[1]<<8|o[2]},A.prototype.setEngineConfig=function(t){this.stateCenter.engineConfig=Ra(Ra({},this.stateCenter.engineConfig),t),this.checkQualityInterval(),this.stateCenter.actionListener("_engineConfigUpdate",this.stateCenter.engineConfig),t.adaptCustomUA&&(this.stateCenter.customUa=navigator.userAgent.includes("iOS"),this.logger.info("zc.sec.0 custom ua ".concat(navigator.userAgent)))},A.prototype.checkQualityInterval=function(){var t=this.stateCenter.engineConfig,n=t.publishQualityInterval,o=t.playQualityInterval;typeof n=="number"&&n!==0&&n<pe&&(this.stateCenter.engineConfig.publishQualityInterval=pe),typeof o=="number"&&o!==0&&o<pe&&(this.stateCenter.engineConfig.playQualityInterval=pe)},A.prototype.inject=function(t,n){var o=this;if(t!=="ZegoExpressPlayer")throw new Error("You are not authorized to use 'inject' method!");n({appid:this.stateCenter.appid,logger:this.logger,validateToken:function(s,d){return ms(o,void 0,void 0,function(){return Es(this,function(g){switch(g.label){case 0:return this.stateCenter.player265Validated?[2,!0]:[4,this.RTM.fetchAppConfigByTargetToken(s,d)];case 1:return g.sent()&&(this.stateCenter.player265Validated=!0),[2,!!this.stateCenter.player265Validated]}})})},isLogin:function(){return o.stateCenter.rtm&&o.stateCenter.rtm.stateCenter.roomModulesList.some(function(s){return s.isLogin()})},seiConfig:function(){return o.stateCenter.seiConfig},addReceiver:function(s){o.stateCenter.player265ReceiverList.push(s)},removeReceiver:function(s){o.stateCenter.player265ReceiverList=o.stateCenter.player265ReceiverList.filter(function(d){return d!=s})}})},A.prototype.setStreamAlignmentProperty=function(t,n){return ms(this,void 0,void 0,function(){var o,s,d,g;return Es(this,function(E){switch(E.label){case 0:return this.logger.info((o="zc.ssap")+" call. "+((s=typeof t=="string")?t:t==null?void 0:t.id)+" alignment: ".concat(n)),d=null,(d=s?this.streamCenter.publisherList[t]:this.streamCenter.checkPublish(t))&&d.publisher.state===6?[4,d.publisher.setStreamAlignmentProperty(n)]:(this.logger.error(o+" failed.  setStreamAlignmentProperty failed, stream not published."),[2,!1]);case 1:return g=E.sent(),this.logger.info(o+" end. "+g),[2,g]}})})},A.prototype.destroyEngine=function(){if(this.stateCenter.engineDestroy)throw new Error("ZegoExpressEngine has been destroyed.");this.destroyEngineHandler(),this.stateCenter.engineDestroy=!0},A.prototype.uploadLog=function(){return this.RTM.uploadLog()},A.screenShotReady=!1,A.isInstantiated=!1,A}();window.addEventListener("message",function(A){var t=A.data.type,n=A.origin;n!==window.location.origin&&console.warn("ScreenStream: you should discard foreign event from origin:",n),t==="SS_PING"&&(Ks.screenShotReady=!0)});var Cc,Pu=function(){return Pu=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},Pu.apply(this,arguments)},yh=function(){function A(t,n){this.zegoWebRTC=t,this.stream=n}return A.prototype.start=function(t,n,o,s){this.zegoWebRTC.playEffect(Pu({stream:this.stream,effectID:t},n||{}),o,s)},A.prototype.stop=function(t){return this.zegoWebRTC.stopEffect(this.stream,t)},A.prototype.pause=function(t){return this.zegoWebRTC.pauseEffect(this.stream,t)},A.prototype.resume=function(t){return this.zegoWebRTC.resumeEffect(this.stream,t)},A.prototype.setVolume=function(t,n,o){return this.zegoWebRTC.setEffectVolume(this.stream,n,t,o)},A.prototype.getTotalDuration=function(t){return this.zegoWebRTC.getEffectDuration(t)},A.prototype.getCurrentProgress=function(t){return this.zegoWebRTC.getEffectCurrentProgress(this.stream,t)},A.prototype.seekTo=function(t,n){return this.zegoWebRTC.seekAudioEffect(this.stream,t,n)},A}(),Bh=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ro=function(A){function t(n,o,s){var d=this;return h.ZegoExpressWebRTMEngine.version="3.0.1",(d=A.call(this,n,o,0,arguments[2])||this).zegoWebRTC=new Ks(d.logger,d.dataReport,d.reporter,d.zegoWebRTM,0,s==null?void 0:s.scenario),d}return Bh(t,A),t.prototype.setEngineConfig=function(n){this.zegoWebRTC.setEngineConfig(n)},t.setEngineOptions=function(n){h.ZegoExpressWebRTMEngine.setEngineOptions(n),Ks.setEngineOptions(n)},t.setGeoFence=function(n,o){Ks.setGeoFence(n,o),h.ZegoExpressWebRTMEngine.setGeoFence(n,o)},t.prototype.setRoomScenario=function(n){return this.zegoWebRTC.setRoomScenario(n)},t.prototype.setSEIConfig=function(n){this.zegoWebRTC.setSEIConfig(n)},t.use=function(n){h.ZegoExpressWebRTMEngine.use(n),Ks.use(n)},t.prototype.checkSystemRequirements=function(n,o){return o===void 0&&(o=0),this.zegoWebRTC.checkSystemRequirements(o,n)},t.prototype.off=function(n,o){return this.zegoWebRTM.stateCenter.listenerList[n]?this.zegoWebRTM.off(n,o):!!this.zegoWebRTC.stateCenter.listenerList[n]&&this.zegoWebRTC.off(n,o)},t.prototype.on=function(n,o){return this.zegoWebRTM.stateCenter.listenerList[n]?this.zegoWebRTM.on(n,o):!!this.zegoWebRTC.stateCenter.listenerList[n]&&this.zegoWebRTC.on(n,o)},t.prototype.createStream=function(n){return this.zegoWebRTC.createStream(n)},t.prototype.createZegoStream=function(n){return this.zegoWebRTC.createZegoStream(n)},t.prototype.getPublishingStreamQuality=function(n){return this.zegoWebRTC.getPublishingStreamQuality(n)},t.prototype.getElectronScreenSources=function(){return this.zegoWebRTC.getElectronScreenSources()},t.prototype.destroyStream=function(n){return this.zegoWebRTC.destroyStream(n)},t.prototype.startPublishingStream=function(n,o,s){return this.zegoWebRTC.startPublishingStream(n,o,s)},t.prototype.updatePublishingStream=function(n,o){return this.zegoWebRTC.updatePublishingStream(n,o)},t.prototype.stopPublishingStream=function(n){return this.zegoWebRTC.stopPublishingStream(n)},t.prototype.sendSEI=function(n,o){return this.zegoWebRTC.sendSEI(n,o)},t.prototype.setVideoConfig=function(n,o){return this.zegoWebRTC.setVideoConfig(n,o)},t.prototype.setAudioConfig=function(n,o){return this.zegoWebRTC.setAudioConfig(n,o)},t.prototype.replaceTrack=function(n,o){return this.zegoWebRTC.replaceTrack(n,o)},t.prototype.addTrack=function(n,o){return this.zegoWebRTC.addTrack(n,o)},t.prototype.removeTrack=function(n,o){return this.zegoWebRTC.removeTrack(n,o)},t.prototype.setCaptureVolume=function(n,o){return this.zegoWebRTC.setCaptureVolume(n,o)},t.prototype.setDummyCaptureImagePath=function(n,o){return this.zegoWebRTC.setDummyCaptureImagePath(n,o)},t.prototype.setStreamExtraInfo=function(n,o){return this.zegoWebRTC.setStreamExtraInfo(n,o)},t.prototype.enableVideoCaptureDevice=function(n,o){return this.zegoWebRTC.enableCameraCapturing(n,o)},t.prototype.addPublishCdnUrl=function(n,o){return arguments.length===3?this.zegoWebRTC.addPublishCdnUrl(arguments[0],arguments[2]):this.zegoWebRTC.addPublishCdnUrl(n,o)},t.prototype.removePublishCdnUrl=function(n,o){return arguments.length===3?this.zegoWebRTC.removePublishCdnUrl(arguments[0],arguments[2]):this.zegoWebRTC.removePublishCdnUrl(n,o)},t.prototype.mutePublishStreamVideo=function(n,o,s){return this.zegoWebRTC.mutePublishStreamVideo(n,o,s)},t.prototype.mutePublishStreamAudio=function(n,o){return this.zegoWebRTC.mutePublishStreamAudio(n,o)},t.prototype.setEffectsBeauty=function(n,o,s){return this.zegoWebRTC.setBeautyEffect(n,o,s)},t.prototype.setLowlightEnhancement=function(n,o){return this.zegoWebRTC.setLowlightEnhance(n,o)},t.prototype.enableDualStream=function(n){return this.zegoWebRTC.enableDualStream(n)},t.prototype.setLowStreamParameter=function(n,o){return this.zegoWebRTC.setLowStreamParameter(n,o)},t.prototype.enableHardwareEncoder=function(n){this.zegoWebRTC.enableVideoHardwareEncoder(n)},t.prototype.enableAutoSwitchDevice=function(n){return this.zegoWebRTC.enableAutoSwitchDevice(n)},t.prototype.initBackgroundModule=function(n,o){return this.zegoWebRTC.initBackgroundModule(n,o)},t.prototype.setBackgroundBlurOptions=function(n,o){return this.zegoWebRTC.setBackgroundBlurOptions(n,o)},t.prototype.setTransparentBackgroundOptions=function(n){return this.zegoWebRTC.setTransparentBackgroundOptions(n)},t.prototype.setVirtualBackgroundOptions=function(n,o){return this.zegoWebRTC.setVirtualBackgroundOptions(n,o)},t.prototype.enableBackgroundProcess=function(n,o,s){return this.zegoWebRTC.enableBackgroundProcess(n,o,s)},t.prototype.setVoiceChangerPreset=function(n,o){return this.zegoWebRTC.setVoiceChangerPreset(o,{voiceChanger:n})},t.prototype.setVoiceChangerParam=function(n,o){return this.zegoWebRTC.setVoiceChangerPreset(n,{voiceParam:o})},t.prototype.setReverbPreset=function(n,o){return this.zegoWebRTC.setVoiceChangerPreset(n,{reverb:o})},t.prototype.enableVirtualStereo=function(n,o,s){return this.zegoWebRTC.setVoiceChangerPreset(n,{stereo:{enable:o,angle:s}})},t.prototype.enableLiveAudioEffect=function(n,o,s){return this.zegoWebRTC.enableLiveAudioEffect(n,o,s)},t.prototype.enableAiDenoise=function(n,o){return this.zegoWebRTC.enableAiDenoise(n,o)},t.prototype.startPlayingStream=function(n,o){return this.zegoWebRTC.startPlayingStream(n,o)},t.prototype.stopPlayingStream=function(n){return this.zegoWebRTC.stopPlayingStream(n)},t.prototype.mutePlayStreamVideo=function(n,o){return this.zegoWebRTC.mutePlayStreamVideo(n,o)},t.prototype.mutePlayStreamAudio=function(n,o){return this.zegoWebRTC.mutePlayStreamAudio(n,o)},t.prototype.getPlayingStreamQuality=function(n){return this.zegoWebRTC.getPlayingStreamQuality(n)},t.prototype.createLocalStreamView=function(n){return this.zegoWebRTC.createLocalViewer(n)},t.prototype.createRemoteStreamView=function(n){return this.zegoWebRTC.createRemoteViewer(n)},t.prototype.startMixerTask=function(n){return this.zegoWebRTC.startMixerTask(n)},t.prototype.stopMixerTask=function(n){return this.zegoWebRTC.stopMixerTask(n)},t.prototype.setMixerTaskConfig=function(n){return this.zegoWebRTC.setMixerTaskConfig(n)},t.prototype.startMixingAudio=function(n,o){return this.zegoWebRTC.startMixingAudio(n,o)},t.prototype.stopMixingAudio=function(n,o){return this.zegoWebRTC.stopMixingAudio(n,o)},t.prototype.setMixingAudioVolume=function(n,o,s){return this.zegoWebRTC.setMixingAudioVolume(n,o,s)},t.prototype.createAudioEffectPlayer=function(n){if(n instanceof MediaStream||n.getTracks)return new yh(this.zegoWebRTC,n);throw Error("Param localStream is not instance of MediaStream or ZegoLocalStream.")},t.prototype.loadAudioEffect=function(n,o){var s=this;return new Promise(function(d,g){s.zegoWebRTC.preloadEffect(n,o,function(E){E&&g(E),d(n)})})},t.prototype.unloadAudioEffect=function(n){return this.zegoWebRTC.unloadEffect(n)},t.prototype.enumDevices=function(){return this.zegoWebRTC.enumDevices()},t.prototype.getCameras=function(){return this.zegoWebRTC.getCameras()},t.prototype.getMicrophones=function(){return this.zegoWebRTC.getMicrophones()},t.prototype.getSpeakers=function(){return this.zegoWebRTC.getSpeakers()},t.prototype.useVideoDevice=function(n,o){return this.zegoWebRTC.useVideoDevice(n,o)},t.prototype.useAudioDevice=function(n,o){return this.zegoWebRTC.useAudioDevice(n,o)},t.prototype.useAudioOutputDevice=function(n,o){return this.zegoWebRTC.setAudioOutputDevice(n,o)},t.prototype.setSoundLevelDelegate=function(n,o,s){return this.zegoWebRTC.setSoundLevelDelegate(n,o,s==null?void 0:s.enableInBackground)},t.prototype.isMicrophoneMuted=function(){return this.zegoWebRTC.isMicrophoneMuted()},t.prototype.muteMicrophone=function(n){return this.zegoWebRTC.muteMicrophone(n)},t.prototype.createRangeAudioInstance=function(){return this.zegoWebRTC.createRangeAudioInstance()},t.prototype.createRealTimeSequentialDataManager=function(n){return this.zegoWebRTC.createRealTimeSequentialDataManager(n)},t.prototype.destroyRealTimeSequentialDataManager=function(n){this.zegoWebRTC.destroyRealTimeSequentialDataManager(n)},t.prototype.createCopyrightedMusic=function(){return this.zegoWebRTC.createCopyrightedMusic()},t.prototype.checkVideoTrackIsActive=function(n){return this.zegoWebRTC.checkVideoTrackIsActive(n)},t.prototype.checkAudioTrackIsActive=function(n){return this.zegoWebRTC.checkAudioTrackIsActive(n)},t.prototype.destroyCopyrightedMusic=function(){return this.zegoWebRTC.destroyCopyrightedMusic()},t.prototype.getNetworkTimeInfo=function(){return this.zegoWebRTC.RTM.getNetworkInfo()},t.prototype.setStreamAlignmentProperty=function(n,o){return this.zegoWebRTC.setStreamAlignmentProperty(n,o)},t.prototype.destroyEngine=function(){return this.zegoWebRTC.destroyEngine()},t.prototype.uploadLog=function(){return this.zegoWebRTC.uploadLog()},t.prototype.createStreamCompositor=function(){return this.zegoWebRTC.createStreamCompositor()},t}(h.ZegoExpressWebRTMEngine),vh=__webpack_require__(5533),Qh=__webpack_require__.n(vh),_h=__webpack_require__(4295),Sh=__webpack_require__.n(_h),ji="zc.svc",Fu="zc.sac",xu="zc.rp",bg="zc.es",js="zc.asi",Uu="zc.mpsv.0",Gu="zc.mpsa.0",Hu="zc.mm",wg="zc.mpsv.1",Dg="zc.mpsa.1",Fn="zc.ht",No={code:1100001,message:"input param error."},Vo={code:1103044,message:"stream is not from zego"},SA=1103047,bA="track is not found",kg={code:1103048,message:"device is not found"},Rg=1103029,qu={code:1103045,message:"video is false"},Ju={code:1103046,message:"audio is false"},Ic={code:1000018,message:"local stream wrong"},bh=1103063,wh="only stream which have one track and kind no exist can add track",Ng=1103068,Tg="update sdp fail",Dh=1103069,kh="publisher state wrong",Yu=1103070,zu="not support handle track",Mg=1103071,Rh=1103072,Lg="/sdk/init",Nh="stream",Og="/sdk/start_publish",mc="/sdk/start_play",Ec={event:"/sdk/set_video_config",error:{kParamError:No,kLocalStreamError:Ic},video_params:Be,video_conf:Be},Th="/sdk/set_audio_config",Na={kParamError:No,kLocalStreamError:Ic},Mh=Be,Lh=Be,Oh="/sdk/api/publish_video_en_size",Ph=Se,Fh=Se,xh="/sdk/api/publish_video_en_bps",Uh=Se,Gh="/sdk/api/publish_video_en_fps",Hh=Se,qh="/sdk/replace_track",Jh={kParamError:No},Yh=ve,zh="/device/api/video_c",ys={kParamError:No,kDevicesNoFoundError:kg,kLocalStreamError:Ic},Kh=ve,jh=ve,Vh="/device/api/audio_c",yc={kParamError:No,kDevicesNoFoundError:kg,kLocalStreamError:Ic},Wh=ve,Zh=ve,Pg={event:"/sdk/play_content_changed",webrtc_sid:Se,video_activate:je,audio_activate:je,video_layer:Se},Xh="/sdk/mute_publish_video",$h=Se,ep=je,tp="/sdk/mute_publish_audio",rp=Se,np="/device/enable_mic",ip=je,op=Be,sp="/device/enable_camera",ap=je,Ap=Be,cp="/sdk/mute_play_video",up=Se,lp="/sdk/mute_play_audio",gp=Se,dp="/active/sei",hp=Se,pp=Se,To=function(){return To=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},To.apply(this,arguments)},Bc=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},vc=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}};(function(A){A[A.I=0]="I",A[A.H=10]="H",A[A.M=100]="M",A[A.L=1e3]="L"})(Cc||(Cc={}));var Bs,fp=function(){function A(t,n,o,s){this.logger=t,this.dataReport=n,this.streamCenter=o,this.stateCenter=s,this.screenShotReady=!1}return A.prototype.setVideoConfig=function(t,n){var o=this;return this.logger.info(ji+" call"),new Promise(function(s,d){var g=Jn(t,o.logger),E=Ec.error,b=E.kLocalStreamError,S=E.kParamError,l=o.getSpan(g,Ec.event),J=To({},n);n.width&&(J.width=JSON.stringify(n.width)),n.height&&(J.height=JSON.stringify(n.height)),n.frameRate&&(J.frameRate=JSON.stringify(n.frameRate)),l.setAttributes({video_params:Ec.video_params(J)});var he,_e,Ce=function(Oe){o.stateCenter.reporter.setError(l,b,Oe)};if(!(g instanceof MediaStream))return o.logger.error(ji+" localStream not found"),Ce("localStream not found"),void d({errorCode:S.code,extendedData:S.message+" localStream no found"});if(!n||typeof n!="object"||Object.keys(n).length==0)return o.logger.error(ji+" constraints wrong"),Ce("constraints wrong"),void d({errorCode:S.code,extendedData:S.message+" constraints wrong"});if(n.width&&typeof n.width=="number"&&!o.stateCenter.checkValidNumber(n.width,0,7680))return o.logger.error(ji+" constraints width integer number, range[0, 7680]"),Ce("constraints width integer number, range[1, 7680]"),void d({errorCode:S.code,extendedData:S.message+" constraints wrong"});if(n.width&&typeof n.width=="object"){if(!(_e=Ds(n.width,"width",0,7680)).result)return o.logger.error(ji+" constraints width: "+_e.message),Ce("constraints width: "+_e.message),void d({errorCode:S.code,extendedData:S.message+" constraints wrong"})}else if(n.width&&typeof n.width!="number"&&typeof n.width!="object")return o.logger.error(ji+" constraints width must be a number or an object. "),Ce("constraints width must be a number or an object."),void d({errorCode:S.code,extendedData:S.message+" constraints wrong"});if(n.height&&typeof n.height=="number"&&!o.stateCenter.checkValidNumber(n.height,0,4320))return o.logger.error(ji+" constraints height integer number, range[0, 4320]"),Ce(" constraints height integer number, range[0, 4320]"),void d({errorCode:S.code,extendedData:S.message+" constraints wrong"});if(n.height&&typeof n.height=="object"){if(!(_e=Ds(n.height,"height",0,4320)).result)return o.logger.error(ji+" constraints height: "+_e.message),Ce("constraints height: "+_e.message),void d({errorCode:S.code,extendedData:S.message+" constraints wrong"})}else if(n.height&&typeof n.height!="number"&&typeof n.height!="object")return o.logger.error(ji+" constraints height must be a number or an object. "),Ce(" constraints height must be a number or an object."),void d({errorCode:S.code,extendedData:S.message+" constraints wrong"});if(n.maxBitrate&&typeof n.maxBitrate!="number")return o.logger.error(ji+(he=" constraints maxBitrate is not a number")),Ce(he),void d({errorCode:S.code,extendedData:S.message+he});if(n.frameRate!==void 0&&typeof n.frameRate!="number"&&typeof n.frameRate!="object")return o.logger.error(ji+(he=" constraints frameRate is not a number or an object")),Ce(he),void d({errorCode:S.code,extendedData:S.message+he});if(typeof n.frameRate=="number"&&!(n.frameRate>0&&n.frameRate%1==0))return o.logger.error(ji+" constraints frameRate must be positive integer number"),Ce("constraints frameRate must be positive integer number"),void d({errorCode:S.code,extendedData:S.message+" constraints wrong"});if(n.frameRate&&typeof n.frameRate=="object"&&!(_e=Ds(n.frameRate,"frameRate")).result)return o.logger.error(ji+" constraints frameRate: "+_e.message),Ce("constraints frameRate: "+_e.message),void d({errorCode:S.code,extendedData:S.message+" constraints wrong"});o.setPublishStreamConstraints(g,n,l,function(Oe){l.setAttributes({error:Oe.errorCode,message:Oe.extendedData}),l.end(),s(Oe)})})},A.prototype.setAudioConfig=function(t,n){var o=this;return this.logger.info(Fu+" call"),new Promise(function(s){var d=Jn(t,o.logger),g=o.getSpan(d,Th);if(g.setAttributes({audio_params:Mh(n)}),!(d instanceof MediaStream))return o.logger.error(Fu+" localStream not found"),o.stateCenter.reporter.setError(g,Na.kLocalStreamError),void s({errorCode:Na.kParamError.code,extendedData:Na.kParamError.message+" localStream no found"});if(!n||typeof n!="object"||Object.keys(n).length==0||n.AEC!==void 0&&typeof n.AEC!="boolean"||n.AGC!==void 0&&typeof n.AGC!="boolean"||n.ANS!==void 0&&typeof n.ANS!="boolean")return o.logger.error(Fu+" constraints wrong"),o.stateCenter.reporter.setError(g,Na.kParamError," constraints wrong"),void s({errorCode:Na.kParamError.code,extendedData:Na.kParamError.message+" constraints wrong"});o.setPublishStreamConstraints(d,n,g,function(E){g.end(),s(E)})})},A.prototype.enableStream=function(t,n){if(this.logger.info(bg+" call"),typeof n.video!="boolean"&&typeof n.audio!="boolean")return this.logger.error(bg+" option error"),!1;var o=!0,s=!0;return typeof n.video=="boolean"&&(o=this.enableCamera(t,n.video,n.retain)),typeof n.audio=="boolean"&&(s=this.enableMicrophone(t,n.audio)),o&&s},A.prototype.enableMicrophoneOnly=function(t){if(this.logger.info("zc.emo call"),typeof t!="boolean")return!1;for(var n=0;n<this.streamCenter.previewStreamList.length;n++)if(!this.streamCenter.previewStreamList[n].enableMicrophoneOnly(t,this.streamCenter))return this.logger.error("zsc.emo.0 previewer ".concat(n," change mic mute state failed")),!1;return this.streamCenter.isMicEnabled=t,!0},A.prototype.replaceTrack=function(t,n,o){return Bc(this,void 0,void 0,function(){var s,d,g,E;return vc(this,function(b){return s=this.getSpan(t,qh),d=Jh.kParamError,t instanceof MediaStream?n&&n instanceof MediaStreamTrack?(g={id:n.id,muted:n.muted,enabled:n.enabled,kind:n.kind,readyState:n.readyState,label:n.label},this.logger.info(xu+" call. ".concat(t.id," track: ")+JSON.stringify(g)),E=this._replaceTrack(t,n,o),s.setAttributes({track_kind:Yh(n.kind)}),s.end(),[2,E]):(this.logger.error(xu+" mediastream track no found"),this.stateCenter.reporter.setError(s,d,"mediastream track no found"),[2,{errorCode:d.code,extendedData:d.message+" mediastream track no found"}]):(this.logger.error(xu+" localStream not found"),this.stateCenter.reporter.setError(s,d,"localStream not found"),[2,{errorCode:d.code,extendedData:d.message+" localStream no found"}])})})},A.prototype.setPublishStreamConstraints=function(t,n,o,s){var d,g,E=this;this.logger.info("zsc.spsc.0 constraints",JSON.stringify(n));var b=this.streamCenter.checkPreview(t);if(!b)return this.logger.error("zsc.spsc.0 preview no found"),void(s&&s({errorCode:Vo.code,extendedData:Vo.message}));var S=b.videoTrack,l=b.audioTrack,J=S==null?void 0:S.getSettings(),he=!1,_e=!1;if(S&&(n.width||n.height||n.frameRate||n.videoQuality)&&(n.videoQuality||(b.mediaStreamConfig.videoQuality=4),he=!0),n.ANS===void 0&&n.AGC===void 0&&n.AEC===void 0||(_e=!0),he&&!S)return this.logger.error("zsc.spsc.0 video track not found"),void(s&&s({errorCode:SA,extendedData:bA}));if(n.video=!0,_e&&(!l||b.hasEmptyAudioTrack))return this.logger.error("zsc.spsc.0 audio track not found"),void(s&&s({errorCode:SA,extendedData:bA}));n.audio=!0;var Ce,Oe=JSON.parse(JSON.stringify(b.mediaStreamConfig)),$e=Object.assign(b.mediaStreamConfig,n);n.maxBitrate&&($e.bitRate=n.maxBitrate),b.previewType=="screen"?(Ce=this.streamCenter.getScreenConstrains($e)).bitRate!==Oe.bitRate&&(n.maxBitrate=Ce.bitRate):Ce=b.getMediaStreamConstraints($e,!0),this.logger.info("zsc.spsc.0 applyConstraints ",JSON.stringify(Ce));var ze=[];if(he&&S){var Xe={};Object.keys(Ce.video).forEach(function(Bt){Xe[Bt]=JSON.stringify(Ce.video[Bt])}),o.setAttributes({video_conf:Ec.video_conf(Xe)}),ze.push(S.applyConstraints(To(To({},Ce.video),{deviceId:void 0})))}var et=!0;_e&&(et=(l==null?void 0:l.enabled)||!1,o.setAttributes({audio_conf:Lh(Ce.audio)}),l==null||l.stop(),ze.push(navigator.mediaDevices.getUserMedia({video:!1,audio:Ce.audio})));var gt=((d=Ce.video)===null||d===void 0?void 0:d.maxBitrate)||((g=Ce.video)===null||g===void 0?void 0:g.bitRate)||n.maxBitrate,_t=this.streamCenter.getPublishList(t);_t.forEach(function(Bt){var ut,Ct=Bt==null?void 0:Bt.publisher,wt=((ut=Ct==null?void 0:Ct.peerConnection)===null||ut===void 0?void 0:ut.getSenders())||[];if(Ct.videoInfo.bitRate=gt,b.videoInfo.bitRate=gt,wt.length>0&&gt){var Pt=wt.filter(function(yr){return yr.track&&yr.track.kind==="video"});Pt||E.logger.error("zsc.spsc.0 video sender no found");var sr=Pt.length>1?Pt[1]:Pt[0]?Pt[0]:null;if(sr){var or=sr.getParameters();or.encodings||(or.encodings=[{}]),or.encodings[0].maxBitrate=1e3*gt,ze.push(sr.setParameters(or))}else E.logger.error("zsc.spsc.0 video sender no found")}else gt&&(b.videoInfo.bitRate=gt)}),ze.length>0?Promise.all(ze).then(function(Bt){var ut,Ct,wt=Bt[1];if(_e){var Pt=(Ct=he?Bt[1]:Bt[0]).getVideoTracks()[0];Pt==null||Pt.stop();var sr=Ct.getAudioTracks()[0];sr.enabled=et,wt=JSON.stringify(sr.getSettings()),b.replacePreviewTrack(sr),b.updateZegoStreamCaptureTrack(sr);var or=sr;b.insertableaudio&&b.localStream&&(or=b.localStream.getAudioTracks()[0]),b.gainNode||b.audioNodeQueue||b.onAudioTrackChange(or)}if(gt){var yr=b.videoInfo.bitRate!==gt;b.videoInfo.bitRate=gt,_t.forEach(function(br){var Lr=br==null?void 0:br.publisher;Lr&&(yr&&E.enVideoSpan(br.streamID,xh,{bitrate:Uh(gt)}),Lr.videoInfo.bitRate=gt)})}if(!((ut=Ce==null?void 0:Ce.video)===null||ut===void 0)&&ut.frameRate){var Fr=Ce.video.frameRate;b.videoInfo.frameRate=Fr,_t.forEach(function(br){var Lr=br==null?void 0:br.publisher;Lr&&(Lr.videoInfo.frameRate=Fr)})}_t.forEach(function(br){var Lr,xn,hn=(xn=(Lr=br.localStream)===null||Lr===void 0?void 0:Lr.getVideoTracks()[0])===null||xn===void 0?void 0:xn.getSettings();(J==null?void 0:J.width)===(hn==null?void 0:hn.width)&&(J==null?void 0:J.height)===(hn==null?void 0:hn.height)||E.enVideoSpan(br.streamID,Oh,{w:Ph(hn==null?void 0:hn.width),h:Fh(hn==null?void 0:hn.height)}),(J==null?void 0:J.frameRate)!==(hn==null?void 0:hn.frameRate)&&E.enVideoSpan(br.streamID,Gh,{fps:Hh(hn==null?void 0:hn.frameRate)})}),E.logger.info("zsc.spsc.0 set constraints success",wt),s&&s({errorCode:0,extendedData:""})}).catch(function(Bt){return Bc(E,void 0,void 0,function(){var ut,Ct,wt,Pt,sr=this;return vc(this,function(or){switch(or.label){case 0:return this.logger.error("zsc.spsc.0 fail reason ",Bt.name,Bt.toString()),_e?(ut=b.getMediaStreamConstraints(Oe),this.logger.info("zsc.spsc.0 oldMediaStreamConstraints ",JSON.stringify(ut)),[4,navigator.mediaDevices.getUserMedia({video:!1,audio:ut.audio}).catch(function(yr){sr.logger.error("zsc.spsc.0.1 setbackup fail "+yr.name)})]):[3,2];case 1:(Ct=or.sent())&&(Ct.getTracks().forEach(function(yr){gi(yr,sr.logger,"zsc.spsc.0.1")}),(wt=t.getVideoTracks()[0])==null||wt.stop(),Pt=Ct.getAudioTracks()[0],b.replacePreviewTrack(Pt),b.updateZegoStreamCaptureTrack(Pt),b.gainNode||b.onAudioTrackChange(Pt)),this.logger.info("zsc.spsc.0.1 setbackup suc "),or.label=2;case 2:return s&&s({errorCode:Rg,extendedData:"".concat(Bt.name," ").concat(Bt.constraint?"constraint:"+Bt.constraint:"")}),[2]}})})}):(this.logger.warn("zsc.spsc.0 constaints is no changes"),s&&s({errorCode:Rg,extendedData:"constraints is no changes"}))},A.prototype.useVideoDevice=function(t,n){var o=this;return this.logger.info("zc.uvd.0 call"),new Promise(function(s){var d=Jn(t,o.logger),g=o.getSpan(d,zh);if(g.setAttributes({device:Kh(n)}),!(d instanceof MediaStream))return o.logger.error("zc.uvd.0 localStream not found"),o.stateCenter.reporter.setError(g,ys.kLocalStreamError),void s({errorCode:ys.kParamError.code,extendedData:ys.kParamError.message});if(typeof n!="string")return o.logger.error("zc.uvd.0 deviceID must be string"),o.stateCenter.reporter.setError(g,ys.kParamError," deviceID must be string"),void s({errorCode:ys.kParamError.code,extendedData:ys.kParamError.message});var E=function(b){g.setAttributes({error:b.errorCode,message:b.extendedData}),g.end(),o.streamCenter.getPublishList(d).forEach(function(S){var l,J;S.cameraLabel=((J=(l=S.publisher.previewer)===null||l===void 0?void 0:l.videoTrack)===null||J===void 0?void 0:J.label)||S.cameraLabel}),s(b)};o.stateCenter.getDevices(function(b){var S=b.cameras.find(function(l){return l.deviceID==n});if(!S)return o.logger.error("zc.uvd.0 device is not found"),void E({errorCode:ys.kDevicesNoFoundError.code,extendedData:ys.kDevicesNoFoundError.message});g.setAttributes({device_name:jh(S==null?void 0:S.deviceName)}),o.switchDevice("video",d,n,E)},function(b){o.logger.warn("zc.uvd.0 getDevices err:",b),o.switchDevice("video",d,n,E)})})},A.prototype.useAudioDevice=function(t,n){var o=this;return this.logger.info("zc.uad.1 call"),new Promise(function(s){var d=Jn(t,o.logger),g=o.getSpan(d,Vh);g.setAttributes({device:Wh(n)});var E=function(S,l){o.logger.error("zc.uad.1 "+l);var J=S;J.message=J.message+(l?" "+l:""),o.stateCenter.reporter.setError(g,S,l),s({errorCode:J.code,extendedData:J.message})},b=function(S){g.setAttributes({error:S.errorCode,message:S.extendedData}),g.end(),o.streamCenter.getPublishList(d).forEach(function(J){var he;J.microLabel=((he=d.getAudioTracks()[0])===null||he===void 0?void 0:he.label)||J.microLabel});var l=o.streamCenter.checkPreview(d);S.errorCode===0&&l&&(l.hasMicTrack=!0),s(S)};d instanceof MediaStream?typeof n=="string"?o.stateCenter.getDevices(function(S){var l=S.microphones.find(function(J){return J.deviceID==n});if(!l)return o.logger.error("zc.uad.1 device is not found"),void b({errorCode:yc.kDevicesNoFoundError.code,extendedData:yc.kDevicesNoFoundError.message});g.setAttributes({device_name:Zh(l==null?void 0:l.deviceName)}),o.switchDevice("audio",d,n,b)},function(S){o.logger.warn("zc.uad.1 getDevices err:",S),o.switchDevice("audio",d,n,b)}):E(yc.kParamError,"deviceID must be string"):E(yc.kLocalStreamError,"localStream not found")})},A.prototype.enableDualStream=function(t){this.logger.info("zsc.eds call");var n=Jn(t,this.logger),o=this.streamCenter.checkPreview(n);o?o!=null&&o.lowStream?this.logger.error("zsc.eds low stream already exists"):navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&o.previewType=="custom"?this.logger.error("zsc.eds can not support firefox"):this.streamCenter.checkPublish(n)?this.logger.error("zsc.eds is publishing"):(o.enableDualStream=!0,o.createLowStream()):this.logger.error("zsc.eds preview no found")},A.prototype.setLowStreamParameter=function(t,n){var o=Jn(t,this.logger),s=this.streamCenter.checkPreview(o);if(s){var d=s.videoInfo,g=[];for(var E in n)isNaN(+n[E])&&g.push(E);if(g.length)throw new Error('param "'.concat(g.join(","),' type error"'));n.width&&d.width&&n.width>d.width?this.logger.error("zsc.slsp.0 low stream width can not larger than high stream"):n.height&&d.height&&n.height>d.height?this.logger.error("zsc.slsp.0 low stream height can not larger than high stream"):n.frameRate&&d.frameRate&&n.frameRate>d.frameRate||n.height&&d.bitRate&&n.bitRate>d.bitRate||(s.lowStreamConfig=Object.assign(s.lowStreamConfig,n))}else this.logger.error("zsc.slsp.0 preview no found")},A.prototype.handleTrack=function(t,n,o,s,d){var g,E,b,S;return Bc(this,void 0,void 0,function(){var l,J,he,_e,Ce,Oe,$e,ze,Xe,et,gt,_t,Bt,ut,Ct,wt,Pt,sr,or,yr,Fr,br,Lr,xn,hn,Mi=this;return vc(this,function(ri){switch(ri.label){case 0:if(this.logger.info(Fn+" call. ms id: ".concat(n==null?void 0:n.id,", kind: ").concat(o==null?void 0:o.kind,", track id: ").concat(o==null?void 0:o.id)),l=t==="ADD",J={errorCode:0,extendedData:""},!(n instanceof MediaStream))return this.logger.error(Fn+" stream wrong"),d({errorCode:No.code,extendedData:No.message}),[2];if(!(o instanceof MediaStreamTrack))return this.logger.error(Fn+" parameter 2 type error"),d({errorCode:No.code,extendedData:No.message}),[2];if(!(he=this.streamCenter.checkPreview(n)))return this.logger.error(Fn+" stream no found"),d&&d({errorCode:Vo.code,extendedData:Vo.message}),[2];if(o.kind==="video"){if(!((g=he.videoEffect)===null||g===void 0)&&g.enabled)return this.logger.error(Fn+" need to disable video beauty effect first"),d&&d({errorCode:Mg,extendedData:"need to disable video beauty effect before add or remove track"}),[2];if(he.enableDualStream)return this.logger.error(Fn+" "+(_e=" can not add/remove track while dual stream enabled.")),d&&d({errorCode:Mg,extendedData:_e}),[2];if(he.isBackgroundBlur)return this.logger.error(Fn+" need to disable background process first"),d&&d({errorCode:Rh,extendedData:"need to disable video background process before add or remove track"}),[2]}return he.streamFromCanvas&&o.kind==="video"?(this.logger.error(Fn+" browser not support"),d&&d({errorCode:Yu,extendedData:zu}),[2]):(Ce=o.kind==="audio"&&this.stateCenter.engineConfig.keepAudioTrack&&he.hasEmptyAudioTrack,Oe=n.getTracks().length>=2||n.getTracks().find(function(wn){return wn.kind==o.kind}),l&&Oe&&!Ce?(this.logger.error(Fn+" only stream which have one track and kind no exist can add track"),d&&d({errorCode:bh,extendedData:wh}),[2]):t=="REMOVE"&&(n.getTracks().length<=1||o.kind==="video"&&he.hasEmptyAudioTrack||!n.getTracks().find(function(wn){return wn.kind===o.kind}))?(this.logger.error(Fn+" can not remove track"),d({errorCode:Yu,extendedData:zu}),[2]):!($e=this.streamCenter.checkPublish(n))||$e.publisher.stateNego===5&&$e.publisher.isUpdateSDP!=1?(ze=function(wn){var Gi=Mi.streamCenter.previewStreamList.find(function(pi){return pi.originVideoTrack===wn||pi.originAudioTrack===wn});if(Gi=Gi||Mi.streamCenter.previewStreamList.find(function(pi){return pi.localStream.getTracks().find(function(fo){return fo==wn})}),Gi)return Mi.logger.info(Fn+" video info: ".concat(JSON.stringify(Gi.videoInfo))),Gi;Mi.logger.warn(Fn+" ".concat(wn.kind," track is not created by sdk"))},this.stateCenter.engineConfig.keepAudioTrack&&o.kind==="audio"?(l?((hn=(E=ze(o))===null||E===void 0?void 0:E.videoInfo)&&he.updateAudioInfo(hn),this._replaceTrack(n,o,!1,!0),he.hasEmptyAudioTrack=!1):((Xe=he.getEmptyAudioTrack())&&this._replaceTrack(n,Xe,!1,!0),he.hasEmptyAudioTrack=!0),this.logger.info(Fn+" end"),s(J),[2]):(et=he.rtcViewer,gt=he,_t=o.kind=="video"?"videoTrack":"audioTrack",l&&(Bt=ze(o))&&(o.kind==="video"?(gt.updateMediaStreamConstraints(Bt.mediaStreamConfig,"video"),he.mediaStreamConfig.video=!0):gt.updateMediaStreamConstraints(Bt.mediaStreamConfig,"audio")),$e?(ut=$e.publisher,(Ct=$e.publisher.peerConnection)?(ut.isUpdateSDP=!0,ut.sideMediaConfig.isSEIStart&&o.kind==="video"?(this.logger.info(Fn+" replace sei blank track."),wt=void 0,l?[4,ut.replacePublishedTrack(o,!1,{handleTrack:t})]:[3,2]):[3,5]):(this.logger.error(Fn+" pc has not created."),[2])):[3,17])):(this.logger.error(Fn+" publish state wrong. "+"".concat($e.publisher.stateNego)),d&&d({errorCode:Dh,extendedData:kh}),[2]));case 1:return wt=ri.sent(),ut.handleSEIVideoTrack("add"),[3,4];case 2:return ut.handleSEIVideoTrack("remove"),[4,ut.replacePublishedTrack(ut.sideMediaConfig.track,!1,{handleTrack:t})];case 3:wt=ri.sent(),ri.label=4;case 4:return(wt==null?void 0:wt.errorCode)===0||this.logger.warn(Fn+" enable sei but not found video sender. error: ".concat(JSON.stringify(wt))),[3,12];case 5:return o.kind!=="audio"?[3,10]:(ut.isUpdateSDP=!1,l?(gt.replacePreviewTrack(o),Pt=gt.audioNodeQueue?(S=(b=gt.audioNodeQueue)===null||b===void 0?void 0:b.destinationNode)===null||S===void 0?void 0:S.stream.getAudioTracks()[0]:o,[4,Ct.getSenders().find(function(wn){return wn.track&&wn.track.kind==="audio"})]):[3,7]);case 6:return(sr=ri.sent())?sr.replaceTrack(Pt):Ct.addTrack(Pt,n),this.logger.info(Fn+" add audio track. "),[3,9];case 7:return n.removeTrack(o),gt[_t]=null,et&&et.setTrack(!1,null),[4,Ct.getSenders().find(function(wn){return wn.track&&wn.track.kind==="audio"})];case 8:(sr=ri.sent())&&sr.replaceTrack(null),this.logger.info(Fn+" remove audio track. "),ri.label=9;case 9:return this.logger.info(Fn+" end"),s(J),[2];case 10:return[4,Ct.getSenders().find(function(wn){return wn.track&&wn.track.kind==o.kind||wn.track===null})];case 11:if(sr=ri.sent(),or=o,gt.zegoCaptureStream&&(yr=gt.getStreamThroughCanvas(new MediaStream([o])),or=yr.getVideoTracks()[0]),l)sr?(sr.replaceTrack(or),this.logger.info(Fn+" sender replace track "+or.kind)):(Ct.addTrack(or,n),this.logger.info(Fn+" pc add track "+or.kind));else{if(!sr)return this.logger.error(Fn+" sender no found"),d&&d({errorCode:SA,extendedData:bA}),[2];try{sr.replaceTrack(null),this.logger.info(Fn+" sender replace null.")}catch(wn){this.logger.error(Fn+" "+wn),d&&d({errorCode:Ng,extendedData:Tg+" "+wn})}}ri.label=12;case 12:Fr=gt.updateVideoInfo(hn=l?Bt==null?void 0:Bt.videoInfo:{}),br={},ri.label=13;case 13:return ri.trys.push([13,15,,16]),[4,Ct.createOffer(br)];case 14:return Lr=ri.sent(),ut.onCreateOfferSuccess(Lr,!0,To(To({},Fr),{bitRate:l?Fr.bitRate:50}),function(wn){return Bc(Mi,void 0,void 0,function(){return vc(this,function(Gi){return wn!==0?d&&d({errorCode:Ng,extendedData:Tg}):(t=="ADD"?(n.addTrack(o),gt[_t]=o,et&&et.setTrack(o.kind=="video",o,this.stateCenter.browser==="safari"),o.kind=="video"&&o.enabled==1?ut.sendStreamStatus(0,ut.mic_status,!0):o.enabled==1&&ut.sendStreamStatus(ut.camera_status,0,!0),this.logger.info(Fn+" add track completely")):(o.kind=="video"?ut.sendStreamStatus(2,ut.mic_status,!0):ut.sendStreamStatus(ut.camera_status,2,!0),n.removeTrack(o),gt[_t]=null,et&&et.setTrack(o.kind=="video",null),this.logger.info(Fn+" remove track completely")),he.mediaStreamConfig.video=t=="ADD",s(J),this.logger.info(Fn+" end")),[2]})})}),[3,16];case 15:return xn=ri.sent(),this.logger.error(Fn+" "+xn),d&&d({errorCode:ke.code,extendedData:ke.message+" "+xn}),[3,16];case 16:return[3,18];case 17:l?((hn=Bt==null?void 0:Bt.videoInfo)&&(o.kind==="video"?(gt.updateVideoInfo(hn),he.mediaStreamConfig.video=!0):gt.updateAudioInfo(hn)),n.addTrack(o),gt[_t]=o,et&&et.setTrack(o.kind=="video",o)):(n.removeTrack(o),gt[_t]=null,o.kind==="video"&&(he.mediaStreamConfig.video=!1),et&&et.setTrack(o.kind=="video",null)),this.logger.info(Fn+" end"),s(J),ri.label=18;case 18:return[2]}})})},A.prototype.switchDevice=function(t,n,o,s){var d=this,g=this.streamCenter.checkPreview(n),E=t==="audio";if(!g)return this.logger.error("zsc.sd.0 preview no found"),void(s&&s({errorCode:Vo.code,extendedData:Vo.message}));if(t==="video"&&g.mediaStreamConfig.video==0)return this.logger.error("zsc.sd.0 camera can not be changed when video is false"),void(s&&s({errorCode:qu.code,extendedData:qu.message}));if(E&&g.mediaStreamConfig.audio==0)return this.logger.error("zsc.sd.0 microphone can not be changed when audio is false"),void(s&&s({errorCode:Ju.code,extendedData:Ju.message}));g.mediaStreamConfig.videoInput!==o&&delete g.mediaStreamConfig.facingMode;var b,S={};t==="video"?(S.videoInput=o,b=g.videoTrack):(S.audio=!0,S.audioInput=o,b=g.audioTrack),this.stateCenter.browser==="firefox"&&(b==null||b.stop());var l=To(To({},g.mediaStreamConfig),S);E&&o==="default"&&(this.logger.warn("zsc.sd.0 stop preview audio track"),g.audioTrack&&g.audioTrack.stop());var J=g.getMediaStreamConstraints(l);if(J.audio){var he=this.stateCenter.settingConfig.getSetting("AEC",!0),_e=this.stateCenter.settingConfig.getSetting("AGC",!0),Ce=this.stateCenter.settingConfig.getSetting("ANS",!0);typeof he=="boolean"&&(this.logger.info("zsc.sd.0 setting AEC "+he),J.audio.echoCancellation=he),typeof _e=="boolean"&&(this.logger.info("zsc.sd.0 setting AGC "+_e),J.audio.autoGainControl=_e),typeof Ce=="boolean"&&(this.logger.info("zsc.sd.0 setting ANS "+Ce),J.audio.noiseSuppression=Ce)}var Oe=function($e,ze){ze.getTracks().forEach(function(Xe){if(Xe.kind===t){var et=t==="video",gt=et?"videoTrack":"audioTrack",_t=g[gt];_t&&(Xe.enabled=_t.enabled),et&&g.lowStream&&g.lowStream.getTracks().forEach(function(ut){return ut.stop()});var Bt=d.streamCenter.getPublishList(n);Bt.length>0&&(!g.muteImage||Xe.enabled||!et)?Bt.map(function(ut){return ut.publisher}).forEach(function(ut){ut.replacePublishedTrack(Xe,!1,{isCamera:!0})}):g&&g.muteImage&&!Xe.enabled&&et?g[gt]=Xe:g&&g.replacePreviewTrack(Xe,!1,{isCamera:!0}),_t&&_t.stop(),g.updateZegoStreamCaptureTrack(Xe)}}),g.restartSoundLevel()};E?J.video=!1:J.audio=!1,navigator.mediaDevices.getUserMedia(J).then(function($e){Object.assign(g.mediaStreamConfig,S),Oe(0,$e),d.logger.info("zsc.sd.0 switch "+t+" device success"),s&&s({errorCode:0,extendedData:""})},function($e){var ze,Xe;t=="video"?(ze=g.videoTrack)===null||ze===void 0||ze.stop():(Xe=g.audioTrack)===null||Xe===void 0||Xe.stop(),d.logger.warn("zsc.sd.0 switch "+t+" device failed, stop last device and retry. ",$e+""),navigator.mediaDevices.getUserMedia(J).then(function(et){Object.assign(g.mediaStreamConfig,S),Oe(0,et),d.logger.info("zsc.sd.0 swtich "+t+" device success"),s&&s({errorCode:0,extendedData:""})},function(et){d.logger.warn("zsc.sd.0 swtich "+t+" device failed and recover last device. ",et+"");var gt=g.getMediaStreamConstraints(g.mediaStreamConfig),_t=qu;t==="audio"&&(_t=Ju),navigator.mediaDevices.getUserMedia(gt).then(function(Bt){Oe(0,Bt),d.logger.info("zsc.sd.0 recover last "+t+" device success"),s&&s({errorCode:_t.code,extendedData:_t.message+" "+JSON.stringify(et)})},function(Bt){d.logger.error("zsc.sd.0 swtich "+t+" device and recover failed, please recreate stream. ",Bt+""),s&&s({errorCode:_t.code,extendedData:_t.message+" "+JSON.stringify(Bt)})})})})},A.prototype._replaceTrack=function(t,n,o,s){s===void 0&&(s=!1);var d=this.streamCenter.checkPreview(t),g=this.streamCenter.getPublishList(t,!1);if(!d)return this.logger.error("zc.rt.0 preview no found"),{errorCode:Vo.code,extendedData:Vo.message};if(d.streamFromCanvas&&n.kind==="video")return this.logger.error("zc.rt.0 browser not support"),{errorCode:Yu,extendedData:zu};var E=t.getTracks().find(function(gt){return gt.kind===n.kind}),b=n.kind==="audio",S={errorCode:SA,extendedData:bA};if(!s&&!E)return this.logger.error("zc.rt.0 track no found"),S;if(!s&&b&&d.hasEmptyAudioTrack&&(this.logger.warn("zc.rt.0 replace empty audio track"),!this.stateCenter.engineConfig.allowReplaceEmptyTrack))return S;if(s&&b&&!d.mediaStreamConfig.audio){var l=d.mediaStreamConfig;d.mediaStreamConfig.audio=!0;var J=n.getSettings(),he=J||{},_e=he.deviceId,Ce=he.echoCancellation,Oe=he.noiseSuppression,$e=he.autoGainControl,ze=he.channelCount;this.logger.info("zc.rt.0 add audio: "+JSON.stringify(J)),_e&&(l.audioInput=_e),ze&&(l.channelCount=ze),Ce&&(l.AEC=Ce),Oe&&(l.ANS=Oe),$e&&(l.AGC=$e)}var Xe=this.streamCenter.soundLevelDelegate&&b;if(g.length){var et=null;return Xe&&d.stopSoundLevel(),g.forEach(function(gt){var _t;et=(_t=gt.publisher)===null||_t===void 0?void 0:_t.replacePublishedTrack(n,!1,{isTrackProcessedFromOriginalStream:o})}),Xe&&d.startSoundLevel(),et}return Xe&&d.stopSoundLevel(),d.replacePreviewTrack(n,!1,{isTrackProcessedFromOriginalStream:o}),Xe&&d.startSoundLevel(),{errorCode:0,extendedData:""}},A.prototype.enableMicrophone=function(t,n){var o=this.streamCenter.checkPreview(t);return o?o.enableMicrophone(n,this.streamCenter):(this.logger.error("zsc.em.0 no preview"),!1)},A.prototype.enableCamera=function(t,n,o){var s=this.streamCenter.checkPreview(t);return s?s.enableCamera(n,this.streamCenter,o):(this.logger.error("zsc.ec.0 no preview"),!1)},A.prototype.setDummyCaptureImagePath=function(t,n){var o=this;return new Promise(function(s,d){var g=Jn(n,o.logger),E=o.streamCenter.checkPreview(g);if(!E)return o.logger.error("zc.sdcp.0 preview no found"),void s(!1);if(typeof t!="string")return o.logger.error("zc.sdcp.0 filePath type error"),void s(!1);var b=new Image;b.src=t,b.crossOrigin="anonymous",b.onload=function(){E.loadImgTimer&&clearTimeout(E.loadImgTimer),E.loadImgTimer=void 0,o.logger.info("zc.sdcp.0 load file path success"),E.muteImage=b,s(!0)},E.loadImgTimer=setTimeout(function(){o.logger.error("zc.sdcp.0 load img timeout"),s(!1)},5e3)})},A.prototype.enableAutoSwitchDevice=function(t){this.logger.info("zc.easw call. "+JSON.stringify(t)),this.stateCenter.autoSwitchDeviceSetting=To({},t)},A.prototype.getSpan=function(t,n){var o=this.streamCenter.checkPublish(t);return this.stateCenter.reporter.createSpan(Cc.H,o?{key:Og,par:o.streamID}:{key:Nh},{key:""},n)},A.prototype.enVideoSpan=function(t,n,o){var s=this.stateCenter.reporter.createSpan(Cc.H,{key:Og,par:t},{key:""},n);s.setAttributes(o),s.end()},A}(),Cp=function(){function A(t,n){var o=n.type,s=n.channels,d=s===void 0?1:s,g=n.bufferSize,E=g===void 0?0:g,b=n.sampleBit,S=b===void 0?16:b,l=n.sampleRate,J=l===void 0?44100:l,he=this;this.instant=0,this.slow=0,this.clip=0,this.context=t,this.type=o,this.channels=d,this.bufferSize=E,this.sampleBit=S,this.sampleRate=J,this.script=t.createScriptProcessor(E,d,d),new Date().getTime(),this.script.addEventListener("audioprocess",function(_e){var Ce,Oe=_e.inputBuffer.getChannelData(0),$e=0,ze=0;for(Ce=0;Ce<Oe.length;++Ce)$e+=Oe[Ce]*Oe[Ce],Math.abs(Oe[Ce])>.99&&(ze+=1);if(he.instant=Math.sqrt($e/Oe.length),he.slow=.95*he.slow+.05*he.instant,he.clip=ze/Oe.length,o==="pcm"||o==="wav"){for(var Xe=[],et=0;et<he.channels;et++)Xe.push(_e.inputBuffer.getChannelData(et));he.recorderBuffer(Xe)}}),o!=="pcm"&&o!=="wav"||this.initRecorderBuffer(o)}return A.prototype.connectToSource=function(t,n){try{this.mic=this.context.createMediaStreamSource(t),this.mic.connect(this.script),this.script.connect(this.context.destination),n!==void 0&&n(null)}catch(o){console.error(o),n!==void 0&&n(o)}return this},A.prototype.recorderBuffer=function(t){this.worker.postMessage({command:"record",val:t})},A.prototype.initRecorderBuffer=function(t){var n=this;this.worker=this.inlineWorker(function(){var o,s,d,g,E,b,S=[];function l(et,gt,_t){for(var Bt=0;Bt<_t.length;Bt++,gt+=2){var ut=Math.max(-1,Math.min(1,_t[Bt]));et.setInt16(gt,ut<0?32768*ut:32767*ut,!0)}}function J(et,gt,_t){for(var Bt=0;Bt<_t.length;Bt++,gt++){var ut=Math.max(-1,Math.min(1,_t[Bt])),Ct=ut<0?128*ut:127*ut;et.setInt8(gt,Ct+=128)}}function he(et,gt,_t){for(var Bt=0;Bt<_t.length;Bt++)et.setUint8(gt+Bt,_t.charCodeAt(Bt))}function _e(et,gt){for(var _t=new Float32Array(gt.length/et),Bt=0,ut=0;Bt<_t.length;)_t[Bt]=gt[ut],ut+=et,Bt++;return _t}function Ce(et,gt,_t){for(var Bt=new Float32Array(gt*et.length),ut=0,Ct=0;Ct<_t[0].length;Ct++)Bt.set(_t[0][Ct],ut),ut+=_t[0][Ct].length;return Bt}function Oe(et,gt){for(var _t=new Float32Array(et.length+gt.length),Bt=0;Bt<et.length+gt.length;Bt+=2)_t[Bt]=et[Bt/2>>0],_t[Bt+1]=gt[Bt/2>>0];return _t}function $e(et){var gt,_t;if(o==1)gt=Ce(S[0],E,S),et!=1&&(_t=_e(et,gt));else if(o==2){var Bt=Ce(S[0],E,S),ut=Ce(S[1],E,S);et!=1?_t=Oe(_e(et,Bt),_e(et,ut)):gt=Oe(Bt,ut)}return et!=1?_t:gt}function ze(et){var gt=function(_t,Bt){var ut;Bt==8?ut=_t.length:Bt==16&&(ut=_t.length,ut*=2);var Ct=new ArrayBuffer(ut),wt=new DataView(Ct);return Bt==8?J(wt,0,_t):s==16&&l(wt,0,_t),wt}($e(et),s);self.postMessage({command:"exportPcmLive",val:gt})}function Xe(et){var gt=function(_t,Bt){var ut;Bt==8?ut=_t.length:s==16&&(ut=_t.length,ut*=2);var Ct=new ArrayBuffer(ut+44),wt=new DataView(Ct),Pt=d,sr=s,or=o;return he(wt,0,"RIFF"),wt.setUint32(4,36+ut,!0),he(wt,8,"WAVE"),he(wt,12,"fmt "),wt.setUint32(16,16,!0),wt.setUint16(20,1,!0),wt.setUint16(22,or,!0),wt.setUint32(24,Pt,!0),wt.setUint32(28,Pt*or*(sr/8),!0),wt.setUint16(32,or*(sr/8),!0),wt.setUint16(34,sr,!0),he(wt,36,"data"),wt.setUint32(40,ut,!0),s==8?J(wt,44,_t):s==16&&l(wt,44,_t),wt}($e(et),s);self.postMessage({command:"exportWav",val:gt})}this.onmessage=function(et){switch(et.data.command){case"init":o=(gt=et.data.val).sampleChannel,s=gt.sampleBit,d=gt.sampleRate,g=gt.oldSampleRate,E=gt.bufferSize,b=gt.type;break;case"record":(function(_t){for(var Bt=0;Bt<o;Bt++)S[Bt]||(S[Bt]=[]),S[Bt].push(_t[Bt]);var ut=Math.round(g/d);b==="pcm"?ze(ut):b==="wav"&&Xe(ut),S=[]})(et.data.val)}var gt}}),this.worker.postMessage({command:"init",val:{sampleChannel:this.channels,sampleBit:this.sampleBit,sampleRate:this.sampleRate,oldSampleRate:this.context.sampleRate,bufferSize:this.bufferSize,type:t}}),this.worker.onmessage=function(o){switch(o.data.command){case"exportPcmLive":n.onReceiveBuffer(o.data.val);break;case"exportWav":n.onReceiveWav(o.data.val)}}},A.prototype.onReceiveBuffer=function(t){},A.prototype.onReceiveWav=function(t){},A.prototype.writeString=function(t,n,o){for(var s=0;s<o.length;s++)t.setUint8(n+s,o.charCodeAt(s))},A.prototype.writeBuffer=function(t,n,o){for(var s=0;s<o.byteLength;s++)t.setUint8(n+s,o[s])},A.prototype.concatenation=function(t){for(var n=0,o=0;o<t.length;++o)n+=t[o].buffer.byteLength;var s=new Uint8Array(n),d=0;for(o=0;o<t.length;++o)s.set(new Uint8Array(t[o].buffer),d),d+=t[o].buffer.byteLength;return s},A.prototype.encodeWave=function(t){var n=this.concatenation(t),o=n.byteLength,s=new ArrayBuffer(o+44),d=new DataView(s),g=this.sampleRate,E=this.sampleBit,b=this.channels;return this.writeString(d,0,"RIFF"),d.setUint32(4,36+o,!0),this.writeString(d,8,"WAVE"),this.writeString(d,12,"fmt "),d.setUint32(16,16,!0),d.setUint16(20,1,!0),d.setUint16(22,b,!0),d.setUint32(24,g,!0),d.setUint32(28,g*b*(E/8),!0),d.setUint16(32,b*(E/8),!0),d.setUint16(34,E,!0),this.writeString(d,36,"data"),d.setUint32(40,o,!0),this.writeBuffer(d,44,n),d},A.prototype.stop=function(){this.mic.disconnect(),this.script.disconnect()},A.prototype.inlineWorker=function(t){if(Worker&&t){var n=t.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],o=URL.createObjectURL(new window.Blob([n],{type:"text/javascript"}));return new Worker(o)}return null},A}(),wA=function(){return wA=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},wA.apply(this,arguments)},Ta=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Ma=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}};(function(A){A[A.I=0]="I",A[A.H=10]="H",A[A.M=100]="M",A[A.L=1e3]="L"})(Bs||(Bs={}));function Qc(A,t){return A&&A.readyState==="live"?A.enabled===!0?0:A.kind==="video"&&t==="firefox"?2:20:2}var _c,Ku,Fg,xg={mutePublishStreamVideo:function(A,t,n){var o=Jn(A,this.logger);this.logger.info(Uu+" call. "+(o==null?void 0:o.id)+" mute: ".concat(t,", retain: ").concat(n));var s=this.rtcModules.advancedModule.getSpan(o,Xh);if(typeof t!="boolean"||n!==void 0&&typeof n!="boolean")return this.logger.error(Uu+" option error"),!1;var d=this.rtcModules.advancedModule.enableStream(o,{video:!t,retain:n});return s.setAttributes({mute_type:$h(t?1:0),retain:ep(n)}),s.end(),this.logger.info(Uu+" end"),d},mutePublishStreamAudio:function(A,t){var n=Jn(A,this.logger);this.logger.info(Gu+" call. "+(n==null?void 0:n.id)+" mute: ".concat(t));var o=this.rtcModules.advancedModule.getSpan(n,tp);if(typeof t!="boolean")return this.logger.error(Gu+" option error"),!1;var s=this.rtcModules.advancedModule.enableStream(n,{audio:!t});return o.setAttributes({mute_type:rp(t?1:0)}),o.end(),this.logger.info(Gu+" end"),s},mutePlayStreamVideo:function(A,t){this.logger.info(wg+" call "+A+" "+t);var n=this.stateCenter.reporter.createSpan(Bs.H,{key:mc,par:A},{key:""},cp);n.setAttributes({mute_type:up(t?1:0)});var o=this.rtcModules.playModule.mutePlayStream(A,"video",t);return n.end(),this.logger.info(wg+" end"),o},mutePlayStreamAudio:function(A,t){this.logger.info(Dg+" call "+A+" "+t);var n=this.stateCenter.reporter.createSpan(Bs.H,{key:mc,par:A},{key:""},lp);n.setAttributes({mute_type:gp(t?1:0)});var o=this.rtcModules.playModule.mutePlayStream(A,"audio",t);return n.end(),this.logger.info(Dg+"end"),o},muteMicrophone:function(A){this.logger.info(Hu+" call");var t=this.stateCenter.reporter.createSpan(Bs.H,{key:Lg},{key:""},np);if(typeof A!="boolean")return this.logger.error(Hu+" option error"),this.stateCenter.reporter.setError(t,No),!1;var n=this.rtcModules.advancedModule.enableMicrophoneOnly(!A),o=Object.keys(this.streamCenter.publisherList).map(function(s){return{stream_id:s}});return t.setAttributes({enable:ip(!A),stream_list:op(o)}),t.end(),this.logger.info(Hu+" end"),n},activateSEIInsert:function(A){var t=A.stream,n=A.action,o=A.infoType,s=this.rtcModules.advancedModule.getSpan(A.stream,dp);s.setAttributes({action:hp(A.action),info_type:pp(A.infoType)});var d=this.rtcModules.publishModule.activateSEIInsert(t,n,o);return s.end(),d},getAudioInfo:function(A,t,n){if(!A)return this.logger.error("localStream is empty!"),!1;var o=wA({},n);return new Cp(this.ac,o).connectToSource(A,function(s){t(s)})},handleDataAvailable:function(A){A.data&&A.data.size>0&&this.recordedBlobs.push(A.data)},addTrack:function(A,t){var n=this;return new Promise(function(o,s){var d={id:t.id,muted:t.muted,enabled:t.enabled,kind:t.kind,readyState:t.readyState,label:t.label};n.logger.info("zc.at"+" call. ".concat(A==null?void 0:A.id," track: ")+JSON.stringify(d)),n.rtcModules.advancedModule.handleTrack("ADD",A,t,o,s)})},removeTrack:function(A,t){var n=this;return new Promise(function(o,s){n.logger.info("zc.rt call"),n.rtcModules.advancedModule.handleTrack("REMOVE",A,t,o,s)})},enableCameraCapturing:function(A,t){return t===void 0&&(t=!0),Ta(this,void 0,void 0,function(){var n,o,s,d,g;return Ma(this,function(E){return n=this.stateCenter.reporter.createSpan(Bs.H,{key:Lg},{key:""},sp),o=Jn(A,this.logger),(s=this.streamCenter.checkPreview(o))?(d=this.streamCenter.getPublishList(o),g=d.map(function(b){return{stream_id:b.streamID}}),n.setAttributes({enable:ap(t),stream_list:Ap(g)}),n.end(),[2,s.enableCameraCapturing(t)]):(this.logger.error("zsc.ecc no preview"),this.stateCenter.reporter.setError(n,Vo),[2,!1])})})}},Ug={},Gg={enableCamera:function(A,t,n){var o;return Ta(this,void 0,void 0,function(){var s,d,g,E,b,S,l,J,he,_e,Ce,Oe,$e,ze,Xe,et=this;return Ma(this,function(gt){switch(gt.label){case 0:return this.localStream&&this.localStream.getVideoTracks().length!=0?(s=this.videoTrack,E=this.lowStream,!A&&this.muteImage?(b=Ia(this.muteImage.width,this.muteImage.height),S=b.getContext("2d"),this.muteImageAnID=setInterval(function(){S.drawImage(et.muteImage,0,0)},100),d=b.captureStream().getVideoTracks()[0],this.localStream.removeTrack(this.localStream.getVideoTracks()[0]),this.localStream.addTrack(d),this.rtcViewer&&this.rtcViewer.setVideo(d),E&&(g=d.clone())):A&&this.muteImage&&(this.isVideoNodeQueueEnabled?this.replacePreviewTrack(this.videoNodeQueue.getDestinationTrack(),!0):this.replacePreviewTrack(this.videoTrack,!1)),l=this.stateCenter.browser,n&&!A||!s?n&&!A&&(!((o=this.videoEffect)===null||o===void 0)&&o.enabled||this.isVideoNodeQueueEnabled?this.logger.warn("zp.ec.2 Unable to keep the preview screen when beauty is turned on"):($e=this.cloneVideoTrack,this.cloneVideoTrack=this.videoTrack.clone(),this.cloneVideoTrack.enabled=!0,this.replacePreviewTrack(this.cloneVideoTrack,!1,{retainTrack:!0}),$e&&$e.stop())):(s.enabled=A,l==="chrome"&&A&&typeof s.getSettings().width!==void 0&&s.getSettings().width>0&&navigator.userAgent&&(J=0,(he=(navigator.userAgent.toLowerCase().match(/chrome\/([\d.]+)/)||[])[1])&&(J=parseInt(he.split(",")[0])),J&&J>=87&&J<92&&(_e=s.getSettings().width-1,Ce=s.getSettings().height-1,Oe=s.getSettings().frameRate,s.applyConstraints({width:_e,height:Ce,frameRate:Oe}).then(function(){s.applyConstraints({width:et.videoInfo.width,height:et.videoInfo.height,frameRate:Oe})})))),s&&(s.enabled=A),this.isVideoNodeQueueEnabled?(this.videoNodeQueue.getDestinationTrack().enabled=A,A?[3,2]:[4,this.videoNodeQueue.replaceNewSourceByTrack(null,!1)]):[3,5]):(this.logger.error("zp.ec.2 video track no found"),[2,!1]);case 1:gt.sent(),gt.label=2;case 2:return A&&s?[4,this.videoNodeQueue.replaceNewSourceByTrack(s,!1)]:[3,4];case 3:gt.sent(),gt.label=4;case 4:gt.label=5;case 5:return E==null||E.getVideoTracks().forEach(function(_t){_t.enabled=A}),ze=t.checkPreview(this.localStream),(Xe=t.getPublishList(this.localStream).map(function(_t){return _t.publisher})).length&&Xe.forEach(function(_t){var Bt,ut=(Bt=_t.peerConnection)===null||Bt===void 0?void 0:Bt.getSenders().filter(function(wt){var Pt;return((Pt=wt.track)===null||Pt===void 0?void 0:Pt.kind)==="video"});ut&&ut.forEach(function(wt,Pt){!A&&et.muteImage?ut.length>1&&Pt===0&&g?wt==null||wt.replaceTrack(g):d&&(wt==null||wt.replaceTrack(d)):A&&(et.isVideoNodeQueueEnabled?wt.track!==et.videoNodeQueue.getDestinationTrack()&&(wt==null||wt.replaceTrack(et.videoNodeQueue.getDestinationTrack())):wt.track!==et.videoTrack&&(ze!=null&&ze.streamFromCanvas?wt==null||wt.replaceTrack(ze.streamFromCanvasTrack):ut.length>1&&Pt===0?wt==null||wt.replaceTrack(E.getVideoTracks()[0]):wt==null||wt.replaceTrack(et.videoTrack)),et.muteImageAnID&&clearInterval(et.muteImageAnID))});var Ct=et.muteImage&&!A?0:Qc(et.videoTrack,l);_t.sendStreamStatus(Ct,_t.mic_status)}),this.isVideoEnabled=A,this.logger.info("zp.ec.2 call success"),[2,!0]}})})},enableMicrophone:function(A,t){if(!this.localStream)return this.logger.error("zp.em.2 no localStream"),!1;this.localStream.getAudioTracks().forEach(function(o){o.enabled=A}),this.audioTrack&&(this.audioTrack.enabled=A&&t.isMicEnabled);var n=t.getPublishList(this.localStream).map(function(o){return o.publisher});return n.length&&n.forEach(function(o){o.signal&&o.sendStreamStatus(o.camera_status,A&&t.isMicEnabled?0:2)}),this.isAudioEnabled=A,this.logger.debug("zp.em.2 call success. "+A),!0},syncTrackState:function(A,t){t.enabled=A.enabled},replacePreviewTrack:function(A,t,n){return t===void 0&&(t=!1),n===void 0&&(n={}),Ta(this,void 0,void 0,function(){var o,s,d,g,E;return Ma(this,function(b){return this.logger.info("zsc.rpt.0 call"),A&&A.kind&&this.localStream?(o=(n==null?void 0:n.retainTrack)===!0,s=A.kind==="audio"?"audioTrack":"videoTrack",this.syncAudioState&&s==="audioTrack"&&this.audioTrack&&!this.isOriginEmptyTrack()?this.syncTrackState(this.audioTrack,A):s==="videoTrack"&&A.videoTrack&&this.syncTrackState(this.videoTrack,A),A.kind==="audio"&&this.insertableaudio&&this.insertableaudio.track.id!==A.id&&(A=this.insertableaudio.getInsertableStreamTrack(A)),o||A.kind!=="video"||t||!this._videoNodeQueue?A.kind==="audio"&&this.audioNodeQueue&&!n.isTrackProcessedFromOriginalStream?((d=new MediaStream).addTrack(A),g=this.ac.createMediaStreamSource(d),this.audioNodeQueue.replaceSource(g)):A.kind!=="audio"||this.audioNodeQueue||!this.destNode||n.isTrackProcessedFromOriginalStream?(this.logger.info("zsc.rpt.0 replace local track"),(E=this.localStream.getTracks().find(function(S){return S.kind===A.kind}))!==A&&(E&&this.localStream.removeTrack(E),this.localStream.addTrack(A)),this.localStream.addTrack(A),this.rtcViewer&&(this.rtcViewer.setTrack(A.kind==="video",A),this.stateCenter.browser==="safari"&&this.rtcViewer.resume(!0)),!o&&A.kind==="video"&&this.enableDualStream&&this.createLowStream()):(this.createSrcNode(A,!0).connect(this.destNode),this.logger.info("zsc.rpt.0 replace audio track with audio mix.")):(this.logger.info("zsc.rpt.0 videoNodeQueue replaceNewSource"),this._videoNodeQueue.replaceNewSourceByTrack(A)),t||o||n.isTrackProcessedFromOriginalStream||(this[s]=A,n.handleTrack==="REMOVE"&&A.kind==="video"&&(this.localStream.removeTrack(A),this.rtcViewer&&this.rtcViewer.setTrack(!0,null),this[s]=null)),this.streamCenter.soundLevelDelegate&&this.soundMeterWorklet&&(this.mic=this.soundMeterWorklet.replaceSrcSource(this.ac,this.localStream)),A.kind==="audio"&&this.streamCompositor&&this.streamCompositor.replaceSource(this.localStream),n.isCamera&&(A.kind==="audio"?this.audioPreviewType="camera":this.videoPreviewType="camera"),this.logger.info("zsc.rpt.0 end"),[2]):[2]})})},enableCameraCapturing:function(A){return Ta(this,void 0,void 0,function(){var t,n,o,s,d,g,E,b,S,l=this;return Ma(this,function(J){switch(J.label){case 0:return this.localStream&&this.videoTrack&&this.previewType==="camera"?(t=this.streamCenter.getPublishList(this.localStream).map(function(he){return he.publisher}),A?this.videoTrack.readyState!=="live"?[3,1]:(this.logger.warn("zp.ecc camera is already capturing"),[3,12]):[3,13]):(this.logger.error("zp.ecc not camera stream"),[2,!1]);case 1:n=this.getMediaStreamConstraints(wA(wA({},this.mediaStreamConfig),{audio:!1})),J.label=2;case 2:return J.trys.push([2,11,,12]),[4,navigator.mediaDevices.getUserMedia(n)];case 3:return(o=J.sent()).getTracks().forEach(function(he){return gi(he,l.logger,"zsc.ecc")}),(s=o.getVideoTracks()[0]).enabled=this.isVideoEnabled,s.enabled===!1&&this.logger.warn("zp.ecc video is not enabled"),!this.muteImage||this.isVideoEnabled?[3,4]:(this.videoTrack=s,s.enabled=!this.isVideoEnabled,[3,10]);case 4:if(!t.length)return[3,9];d=0,J.label=5;case 5:return d<t.length?[4,t[d].replacePublishedTrack(s)]:[3,8];case 6:if(((g=J.sent())==null?void 0:g.errorCode)!==0)throw g;J.label=7;case 7:return d++,[3,5];case 8:return[3,10];case 9:this.replacePreviewTrack(s),J.label=10;case 10:return this.updateZegoStreamCaptureTrack(s),[3,12];case 11:return E=J.sent(),this.logger.error("zsc.ecc resume camera capturing failed. "+JSON.stringify(E)),[2,!1];case 12:return[3,15];case 13:return b=this.stateCenter.browser,[4,this.stopCaptureVideo()];case 14:J.sent(),t.length&&(S=this.muteImage&&!this.isVideoEnabled?0:Qc(this.videoTrack,b),t.forEach(function(he){he.sendStreamStatus(S,he.mic_status)})),J.label=15;case 15:return[2,!0]}})})},stopCaptureVideo:function(){var A,t;return Ta(this,void 0,void 0,function(){var n,o,s;return Ma(this,function(d){switch(d.label){case 0:return n=this.lowStream,o=this.videoTrack.enabled,s=this.stateCenter.browser,this.stateCenter.engineConfig.previewClearLastFrame?s==="safari"?[3,2]:(this.videoTrack.enabled=!1,n==null||(n.getVideoTracks()[0].enabled=!1),[4,new Promise(function(g){setTimeout(function(){g(void 0)},200)})]):[3,3];case 1:d.sent(),d.label=2;case 2:return this.videoTrack.stop(),(A=n==null?void 0:n.getVideoTracks()[0])===null||A===void 0||A.stop(),this.stopCanvasStreamTrack(),this.videoTrack.enabled=o,[3,4];case 3:this.videoTrack.stop(),(t=n==null?void 0:n.getVideoTracks()[0])===null||t===void 0||t.stop(),this.stopCanvasStreamTrack(),d.label=4;case 4:return[2]}})})}},Hg={mutePlayStream:function(A,t,n){var o=this;return this.logger.info("zsc.mps.0 call "+t+" "+n),new Promise(function(s,d){if(typeof A!="string"||A=="")return o.logger.error("zsc.mps.0 streamID must be string and not empty"),void d(!1);if(typeof n!="boolean")return o.logger.error("zsc.mps.0 mute must be boolean"),void d(!1);var g=o.streamCenter.playerList[A];if(!g)return o.logger.error("zsc.mps.0 player not found"),void d(!1);if(t==="video"){if(g.playOption&&g.playOption.video===!1||g.player&&g.player.cameraStatus!==0)return o.logger.error("zsc.mps.0 stream no contain video"),void d(!1);g.player.signal.ActivatePlayVideoStream(o.stateCenter.getSeq(),g.player.sessionId,n,function(){var E,b,S,l;o.logger.info("zsc.mps.0 suc"),g.player.playMediaStatus.video=!n;var J=Pg,he=o.stateCenter.reporter.createSpan(Bs.H,{key:mc,par:A},{key:""},J.event);he.setAttributes({webrtc_sid:J.webrtc_sid(g.player.sessionId),video_activate:J.video_activate(!!g.player.playMediaStatus.video),audio_activate:J.audio_activate(!!g.player.playMediaStatus.audio),video_layer:J.video_layer(((b=(E=g.player)===null||E===void 0?void 0:E.playOption)===null||b===void 0?void 0:b.streamType)===2?-1:(l=(S=g.player)===null||S===void 0?void 0:S.playOption)===null||l===void 0?void 0:l.streamType)}),he.end(),s(!0)},function(){o.logger.error("zsc.mps.0 fail"),d(!1)})}else if(t==="audio"){if(g.playOption&&g.playOption.audio===!1||g.player&&g.player.micStatus!==0)return o.logger.error("zsc.mps.0 stream no contain audio"),void d(!1);g.player.signal.ActivatePlayAudioStream(o.stateCenter.getSeq(),g.player.sessionId,n,function(){o.logger.info("zsc.mps.0 suc"),g.player.playMediaStatus.audio=!n;var E=Pg,b=o.stateCenter.reporter.createSpan(Bs.H,{key:mc,par:A},{key:""},E.event);b.setAttributes({webrtc_sid:E.webrtc_sid(g.player.sessionId),video_activate:E.video_activate(!!g.player.playMediaStatus.video),audio_activate:E.audio_activate(!!g.player.playMediaStatus.audio)}),b.end(),s(!0)},function(){o.logger.error("zsc.mps.0 fail"),d(!1)})}else d(!1)})},setStreamAudioOutput:function(A,t){var n=this;return!(t==null||t.length==0||!A)&&(this.logger.debug("zsc.ssao.0 device "+t),A?A.sinkId!=="undefined"?(A.setSinkId(t).then(function(){n.logger.info("zsc.ssao.0 success device: "+t)}).catch(function(o){n.logger.info("zsc.ssao.0 "+o.name)}),!0):(this.logger.error("zsc.ssao.0 browser does not suppport"),!1):(this.logger.error("zsc.ssao.0 no localVideo"),!1))}},qg={activateSEIInsert:function(A,t,n){n===void 0&&(n=0);var o=this.streamCenter.checkPreview(A);return o?t!==0&&t!==1?(this.logger.error(js+" value of action should be 0 or 1"),!1):(o.activatesSEIConfig={action:t,infoType:n},this.streamCenter.getPublishList(A).map(function(s){return s.publisher}).forEach(function(s){s.activateSEIInsert(t,n)}),!0):(this.logger.error(js+" stream is not created"),!1)}},Jg={activateSEIInsert:function(A,t){var n=this;return new Promise(function(o,s){return n.signal?(n.signal&&n.signal.activateSEIInsert(n.stateCenter.getSeq(),n.sessionId,n.peerID,A,t,function(d,g,E){var b=!1;E.result===0?(n.logger.info(js+" called success"),b=!0):E.result===1?(n.logger.error(js+" "+E.peer_id+" invalid param."),b=!1):E.result===2&&(n.logger.error(js+" peer not exist"),b=!1),o(b)},function(d){d===1&&n.logger.error(js+" request timeout")}),!1):o(!1)})},replacePublishedTrack:function(A,t,n){var o;return t===void 0&&(t=!1),n===void 0&&(n={}),Ta(this,void 0,void 0,function(){var s,d,g,E,b,S,l,J;return Ma(this,function(he){switch(he.label){case 0:return(s=this.previewer)==null||s.videoEffect,g=s["".concat(d=A.kind,"Track")],E=(o=this.peerConnection)===null||o===void 0?void 0:o.getSenders().filter(function(_e){var Ce;return((Ce=_e.track)===null||Ce===void 0?void 0:Ce.kind)===d}),b=this.stateCenter.browser,g||n.handleTrack?(S=0,l=0,d==="video"?(S=Qc(t?g:A,b),l=this.mic_status):d==="audio"&&(l=Qc(A,b),S=this.camera_status),[4,s.replacePreviewTrack(A,t,n)]):[3,2];case 1:return he.sent(),J=A,A.kind=="audio"&&s.insertableaudio&&(J=s.localStream.getAudioTracks()[0]),E?(E.forEach(function(_e,Ce){var Oe=!1;if((d!=="video"||!t&&s.isVideoNodeQueueEnabled)&&(d!=="audio"||d==="audio"&&s.destNode)||(Oe=!0),Oe)if(d=="video"&&s.lowStream&&E.length>1&&Ce==0)_e.replaceTrack(s.lowStream.getVideoTracks()[0]);else if(d=="video"&&s.streamFromCanvas){if(!s.streamFromCanvasTrack||s.zegoCaptureStream){var $e=s.getStreamThroughCanvas(s.localStream);s.streamFromCanvasTrack=$e.getVideoTracks()[0]}_e.replaceTrack(s.streamFromCanvas?s.streamFromCanvasTrack:J)}else _e.replaceTrack(J)}),this.sendStreamStatus(S,l)):this.logger.info("zc.rt.1 replace remote track will work after stream published"),this.logger.info("zc.rt.1 replace remote track success"),[2,{errorCode:0,extendedData:""}];case 2:return this.logger.error("zc.rt.1 publisher track no found"),[2,{errorCode:SA,extendedData:bA}]}})})}},Yg={activateSEIInsert:function(A,t,n,o,s,d,g){this.logger.info(js+" call "+t);var E="ActivateSEIInsertReq",b=this.webrtcCenterSvr.getBodyData(E,{peer_id:n,action:o,info_type:s});this.sendMessageWithCallback(E,A,t,b,d,g)}},Ip={type:"Advance",install:function(A,t,n,o,s,d,g,E){for(var b in Object.defineProperty(t.prototype,"initAdvance",{value:function(){this.advancedModule=new fp(this.logger,this.dataReport,this.streamCenter,this.stateCenter)},writable:!1}),xg)Object.defineProperty(A.prototype,b,{value:xg[b],writable:!1});for(var b in Ug)Object.defineProperty(n.prototype,b,{value:Ug[b],writable:!1});for(var b in Gg)Object.defineProperty(o.prototype,b,{value:Gg[b],writable:!1});for(var b in Hg)Object.defineProperty(s.prototype,b,{value:Hg[b],writable:!1});for(var b in qg)Object.defineProperty(d.prototype,b,{value:qg[b],writable:!1});for(var b in Jg)Object.defineProperty(g.prototype,b,{value:Jg[b],writable:!1});for(var b in Yg)Object.defineProperty(E.prototype,b,{value:Yg[b],writable:!1})}},mp={code:1000055,message:"cdn url is invalid"},Ep={code:1103052,message:"publisher cdn push error"},yp={code:1100999,message:"unknown server error"};_c=__webpack_require__(1054).proto_media,Ku=__webpack_require__(2100),Fg=__webpack_require__(3720),Ku.util.Long=Fg,Ku.configure();var ju,Bp=function(){function A(){}return A.prototype.encodeRelayPublishCdnReq=function(t){var n=_c.RelayPublishCdnRequest.create(t);return _c.RelayPublishCdnRequest.encode(n).finish()},A.prototype.decodeRelayPublishCdnRsp=function(t){return _c.RelayPublishCdnResponse.decode(t)},A}();(function(A){A[A.I=0]="I",A[A.H=10]="H",A[A.M=100]="M",A[A.L=1e3]="L"})(ju||(ju={}));var Vs,Vu,zg,Kg={},jg={_sendCDNPublishByAccessHub:function(A,t,n,o){var s=this;this.mediaProtoBuf||(this.mediaProtoBuf=new Bp);var d=t.type==="addpush"?1:2,g={request_seq:this.stateCenter.cdnSeq++,request_cmd:d,streamid:A,cdn_server:t.pushUrl};this.logger.info("zb.sh.scpba "+JSON.stringify(g));var E=this.mediaProtoBuf.encodeRelayPublishCdnReq(g),b=function(S,l){try{var J=s.mediaProtoBuf.decodeRelayPublishCdnRsp(S),he=(J==null?void 0:J.response)||{};return{code:he.code,msg:he.message}}catch{return{code:-1}}};this.sendHttpPBRequest({interfaceID:6,resID:this.stateCenter.appid+"/"+A},E,function(S,l){s.logger.info("zb.sh.pt receive message");var J=b(S),he=J.code,_e=J.msg;he&&he!=0?(s.logger.error("zb.sh.pt "+t.type+" error code: "+he+" "+_e),o(he===5004?mp:yp," cmd: ".concat(t.type," ").concat(he," ").concat(_e))):(s.logger.info("zb.sh.pt "+t.type+" success"),n&&n({errorCode:0,extendedData:""}))},function(S,l,J){var he="";if(J)o&&o(J,he);else{if(J=qi.kUnknownServerError,S===200)s.logger.info("zb.sh.pt error: "),J=qi.kUnknownServerError,he="cmd: ".concat(t.type);else{var _e="";if(typeof l=="string")_e=l;else{var Ce=b(l);_e=Ce.code+" "+Ce.msg}he="request media server fail, error: "+S+" "+_e}s.logger.error("zb.sh.pt "+he),o&&o(J,he)}})},_publishTarget:function(A,t,n){this.logger.info("zb.sh.ptcall");var o=A.streamID;this.stateCenter.testEnvironment&&(o="zegotest-"+this.stateCenter.appid+"-"+A.streamID),this.stateCenter.useNetAgent?this._sendCDNPublishByAccessHub(o,A,t,n):this._sendCDNPublishByAccessSvr(o,A,t,n)}},vp=function(){function A(t,n,o,s){this.logger=t,this.dataReport=n,this.streamCenter=o,this.stateCenter=s,this.screenShotReady=!1}return A.prototype.publishTarget=function(t){var n=this,o="";switch(t.type){case"addpush":o=Kc;break;case"delpush":case"clearpush":o=is}var s=this.stateCenter.reporter.createSpan(ju.H,{key:tn.event,par:t.streamID},{key:""},o);return s.setAttributes({url:WA(t.pushUrl)}),new Promise(function(d,g){var E=function(S,l){n.logger.error("zb.pt "+(l||S.message)),n.stateCenter.reporter.setError(s,S,l),g({errorCode:S.code,extendedData:S.message+(l?" "+l:"")})};if(["addpush","delpush","clearpush"].indexOf(t.type)==-1)return n.logger.error("zb.sh.pt cdn push type error"),void E(Ep,"type error");if(t.streamID&&typeof t.streamID=="string")if(t.pushUrl&&typeof t.pushUrl=="string")if(n.stateCenter.publishStreamList[t.streamID]){var b=n.streamCenter.getRoomByStreamID(t.streamID);b?b.streamHandler._publishTarget(t,function(S){s.end(),d(S)},E):E(qi.kNoLoginError)}else E(qi.kPublishStreamNoFoundError);else E(qi.kParamError,"push url error");else E(qi.kParamError,"stream id type error")})},A}(),Qp={type:"StreamCDN",install:function(A,t,n){for(var o in Object.defineProperty(t.prototype,"initStreamCDN",{value:function(){this.streamCDNModule=new vp(this.logger,this.dataReport,this.streamCenter,this.stateCenter)},writable:!1}),Kg)Object.defineProperty(A.prototype,o,{value:Kg[o],writable:!1});for(var o in jg)Object.defineProperty(n.prototype,o,{value:jg[o],writable:!1})}},Sc="zc.pe.0",La="zc.pe.1",Ws="zc.aep",Vg="zc.sev",DA="zc.sma.0",Wg="zc.sma.1",bc="zc.mb",Zg="zc.smb",wc="zc.p.0.pe.0",Xg="zc.p.0.pe.1",$g="zc.p.0.re",ed="zc.p.0.se",Wu="zc.p.0.sma.0",Dc="zc.smav",td="zc.p.0.mb",kA="zc.p.0.smav",_p=1103057,Sp="decode audio data fail",rd=function(){function A(t,n,o,s,d){this.logger=t,this.ac=n,this.localStream=o,this.destination=s,this.rtcViewer=d,this.audioBufferList=[],this.replace=!1,this.effectEndedCallBack=null,this.effectEndedListener=null,this.startTimes=0,this.startOffset=0,this.pauseTimes=0,this.resumeOffset=0,this.paused=!1,this.isMixAudio=!1,this.isMixingBuffer=!1,this.loop=!1}return A.prototype.playEffect=function(t,n,o,s,d){var g=this;this.isMixAudio!==!0?this.audioBuffer?(this.startOffset=t||0,this.loop=n||!1,this.replace=o||!1,this.effectEndedCallBack=d,this.mixEffect(this.audioBuffer,function(){g.buffSource.loop=!!n,t?g.buffSource.start(0,t/1e3):g.buffSource.start(0),g.startTimes=Date.now(),g.effectEndedListener=g.effectEndedHandler.bind(g),g.buffSource.addEventListener("ended",g.effectEndedListener),s&&s()})):this.logger.error("amu.pe.1 no audio buffer found"):this.logger.warn("amu.pe.1 audio is mixing")},A.prototype.stopMixingBuffer=function(){return this.isMixingBuffer=!1,this.stopMixingAudio()},A.prototype.playRealTimeEffect=function(t){var n=this;this.mixEffect(t,function(){n.buffSource&&n.buffSource.start(0),n.buffSource&&n.buffSource.addEventListener("ended",function(){n.audioBufferList.shift(),n.audioBufferList.length>0&&n.isMixAudio&&n.playRealTimeEffect(n.audioBufferList[0])})})},A.prototype.pauseEffect=function(){this.audioBufferList.length>0?this.logger.error("amu.pe.0 real time buffer can not be paused"):(this.stopMixingAudio(!0),this.resumeOffset=(this.pauseTimes-this.startTimes+this.startOffset)%(1e3*this.audioBuffer.duration),this.paused=!0)},A.prototype.resumeEffect=function(){return this.audioBufferList.length>0?(this.logger.error("amu.pe.0 real time buffer can not be resume"),!1):(this.playEffect(this.resumeOffset,this.loop,this.replace,void 0,this.effectEndedCallBack),this.startOffset=this.resumeOffset,this.paused=!1,!0)},A.prototype.mixEffect=function(t,n){this.localStream?(this.ac.resume(),this.gainNode=this.ac.createGain(),this.delayNode=this.ac.createDelay(1),this.delayNode.delayTime.value=0,this.buffSource=this.ac.createBufferSource(),this.buffSource.buffer=t,this.buffSource.connect(this.gainNode),this.gainNode.connect(this.ac.destination),this.replaceTrack()&&n()):this.logger.error("amu.me.0 localStream can not be found")},A.prototype.replaceTrack=function(){if(!this.destination)return!1;this.gainNode.connect(this.delayNode),this.delayNode.connect(this.destination);var t=this.destination.stream.getAudioTracks()[0],n=this.localStream.getTracks();return this.micTrack=this.localStream.getAudioTracks()[0],this.micTrack!==t&&(this.micTrack?n.includes(this.micTrack)&&this.localStream.removeTrack(this.micTrack):this.logger.warn("amu.rt.0 origin track not fonud"),n.includes(t)||(this.localStream.addTrack(t),this.rtcViewer&&this.rtcViewer.setAudio(t))),this.isMixAudio=!0,!0},A.prototype.effectEndedHandler=function(){this.stopMixingAudio(),this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null},A.prototype.stopMixingAudio=function(t){return t===void 0&&(t=!1),this.paused?(this.logger.info("amu.sma.1 audioEffect is paused"),!t&&this.effectEndedListener&&(this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null),!0):this.isMixAudio?this.localStream?(this.buffSource&&(this.buffSource.removeEventListener("ended",this.effectEndedListener),this.buffSource.stop(),this.pauseTimes=Date.now(),this.buffSource.disconnect(this.gainNode),this.buffSource=null),this.gainNode.disconnect(),this.delayNode.disconnect(),this.isMixAudio=!1,this.audioBufferList=[],!t&&this.effectEndedListener&&(this.effectEndedCallBack&&this.effectEndedCallBack(),this.effectEndedCallBack=null),!0):(this.logger.error("amu.sma.1 localStream can not be found"),!1):(this.logger.warn("amu.sma.1 no mixing audio found"),!0)},A.prototype.getProcess=function(){var t=Date.now();return this.paused&&(t=this.pauseTimes),(t-this.startTimes+this.startOffset)%(1e3*this.audioBuffer.duration)},A.prototype.seekTo=function(t){t===void 0&&(t=0),this.startOffset=t,this.paused?this.resumeOffset=t:(this.stopMixingAudio(!0),this.playEffect(t,this.loop,this.replace,void 0,this.effectEndedCallBack))},A.prototype.mixingBuffer=function(t,n){var o=this;this.isMixAudio!==!0||this.audioBufferList.length!=0||this.isMixingBuffer!=0?(this.ac.resume(),this.ac.decodeAudioData(t,function(s){o.audioBufferList.push(s),o.audioBufferList.length==1&&o.playRealTimeEffect(o.audioBufferList[0]),o.isMixingBuffer=!0,n&&n()},function(s){o.logger.error("amu.mb.0 "+s),n&&n({code:_p,message:Sp+" "+s})})):this.logger.error("amu.mb.0 audio is mixing")},A.prototype.setMixingAudioVolume=function(t){return this.gainNode?(console.error("ktv setVolume",t),this.gainNode.gain.value=t,!0):(this.logger.error("amu.sma.2 no mixing audio found"),!1)},A.prototype.setDelay=function(t){return this.delayNode?(this.logger.info("amu.sma.2 set delay: "+t),this.delayNode.delayTime.value=t,!0):(this.logger.warn("amu.sma.2 no mixing audio found"),!1)},A}(),bp=function(){function A(t,n,o,s,d,g,E){E===void 0&&(E=1);var b=this;this.logger=t,this.acMgr=n,this.localStream=o,this.browser=s,this.destination=d,this.rtcViewer=g,this.volumeFactor=E,this.isMixAudio=!1,this.maxDelay=1,this.audioCurrentTimer=null,this.audioResumedTimer=null,this.audioEl=null,this.eventHandler={volumechange:function(S){var l=S.target;l&&b.audioNode&&b.isMediaElSrc&&(l.muted||l.paused?(b.logger.info("amu.sma.0 ".concat(b.id," audio muted disconnect")),b.audioNode.disconnect()):(b.logger.info("amu.sma.0 ".concat(b.id," audio is connected")),b.audioNode.connect(b.gainNode)))},canplay:function(S){var l=S.target;l&&!b.isMediaElSrc&&b.isMixAudio&&(b.logger.info("amu.sma.1 ".concat(b.id," canplay, remixing audio")),b.stopMixingAudio(),b.startMixingAudio(l))}},this.isMediaElSrc=!1,this.volume=1,this.delay=0,this.id=Date.now()%1e5+Math.floor(10*Math.random()),t.info("amu.sma.0 ".concat(this.id," init audio mix"))}return Object.defineProperty(A.prototype,"ac",{get:function(){return this.acMgr.ac},enumerable:!1,configurable:!0}),A.prototype.startMixingAudio=function(t){if(this.isMixAudio)return this.logger.error("amu.sma.0 audio is mixing"),!1;if(!this.localStream)return this.logger.error("amu.sma.0 localStream can not be found"),!1;var n;t.captureStream=t.captureStream||t.mozCaptureStream||t.webkitCaptureStream,this.isMixAudio=!0,this.gainNode||(this.gainNode=this.ac.createGain(),this.setMixingAudioVolume()),this.delayNode||(this.delayNode=this.ac.createDelay(this.maxDelay),this.logger.info("amu.sma.1 ".concat(this.id," init set delay: ")+this.delay),this.delayNode.delayTime.value=this.delay);var o=this.browser==="safari";this.isMediaElSrc=!0;try{var s=this.acMgr.getMediaElementRenderer(t);if(!s)return!1;this.audioNode=s.getMixNode().mixOutputNode,this.audioEl=t}catch(E){n=E}t.addEventListener("volumechange",this.eventHandler.volumechange),t.addEventListener("pause",this.eventHandler.volumechange),t.addEventListener("play",this.eventHandler.volumechange);var d=this.getBrowserInfo(),g=!1;return o&&(d==null?void 0:d.sysVer)==="10.15.6"&&(d==null?void 0:d.ver)==="13.1.2"&&(g=!0),g&&(this.audioResumedTimer=setInterval(function(){t.currentTime=t.currentTime+.45},6e3)),n?(this.logger.info("amu.sma.1 ".concat(this.id," create source failed: ")+n),!0):(this.audioNode.connect(this.gainNode),this.logger.info("amu.sma.1 ".concat(this.id," mix audio success.")),this.replaceTrack())},A.prototype.getBrowserInfo=function(){var t,n={},o=navigator.userAgent.toLowerCase();t=(o.match(/x [\d._]+/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."),n.sysVer=t;var s=o.match(/(msie|firefox|chrome|opera|version).*?([\d.]+)/);return s&&(n.browser=s[1].replace(/version/,"'safari"),n.ver=s[2]),n},A.prototype.replaceTrack=function(){if(!this.destination)return!1;this.gainNode.connect(this.delayNode),this.delayNode.connect(this.destination);var t=this.destination.stream.getAudioTracks()[0],n=this.localStream.getTracks();return this.micTrack=this.localStream.getAudioTracks()[0],this.micTrack!==t&&(this.micTrack?n.includes(this.micTrack)&&this.localStream.removeTrack(this.micTrack):this.logger.warn("amu.rt.1 origin track not fonud"),n.includes(t)||(this.localStream.addTrack(t),this.rtcViewer&&this.rtcViewer.setAudio(t))),!0},A.prototype.stopMixingAudio=function(){return this.isMixAudio?this.localStream?(this.audioEl&&(this.audioEl.removeEventListener("volumechange",this.eventHandler.volumechange),this.audioEl.removeEventListener("pause",this.eventHandler.volumechange),this.audioEl.removeEventListener("play",this.eventHandler.volumechange),this.audioEl.removeEventListener("canplay",this.eventHandler.canplay),this.audioEl=null),this.audioNode&&(this.audioNode.disconnect(),this.audioNode=null,this.audioCurrentTimer&&(clearInterval(this.audioCurrentTimer),this.audioCurrentTimer=null),this.audioResumedTimer&&(clearInterval(this.audioResumedTimer),this.audioResumedTimer=null)),this.gainNode.disconnect(),this.delayNode.disconnect(),this.isMixAudio=!1,this.logger.info("amu.sma.1 ".concat(this.id," stop mix audio success.")),!0):(this.logger.error("amu.sma.1 localStream can not be found"),!1):(this.logger.warn("amu.sma.1 no mixing audio found"),!0)},A.prototype.setMixingAudioVolume=function(t,n){if(t===void 0?t=this.volume:this.volume=t,n===void 0?n=this.volumeFactor:this.volumeFactor=n,!this.gainNode)return this.logger.error("amu.sma.2 no mixing audio found"),!1;var o=t*this.volumeFactor;return this.logger.info("amu.sma.2 "+this.id+" set volume: "+o),this.gainNode.gain.value=o,!0},A.prototype.setDelay=function(t){return this.delayNode?(t/=1e3,!isNaN(t)&&(t>this.maxDelay&&(t=this.maxDelay),t<0&&(t=0),this.logger.info("amu.sma.1 ".concat(this.id," set delay: ")+t),this.delayNode.delayTime.value=t,this.delay=t,!0)):(this.logger.warn("amu.sma.1 no mixing audio found"),!1)},A}(),wp=function(){function A(t){this.previewer=t,this.audioDestNode=void 0,this.audioMixList=[],this.arrayBufferMap={},this.effectList=[],this.volumeFactor=1}return Object.defineProperty(A.prototype,"delay",{get:function(){return this.previewer.stateCenter.engineConfig.mixingAudioDelay+this.previewer.stateCenter.engineConfig.baseMixingAudioDelay},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"logger",{get:function(){return this.previewer.logger},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"localStream",{get:function(){return this.previewer.localStream},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"streamCenter",{get:function(){return this.previewer.streamCenter},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"ac",{get:function(){return this.acMgr.ac},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"acMgr",{get:function(){return this.previewer.acMgr},enumerable:!1,configurable:!0}),A.prototype.startMixingAudio=function(t){var n=this;if(this.logger.info(Wu+" call"),!this.localStream)return this.logger.error(Wu+" localStream not found"),!1;var o=!0;return t.forEach(function(s){if(n.audioMixList.find(function(E){return E.media==s}))n.logger.warn(Wu+" mix audio already exist");else if(n.localStream){n.streamCenter.soundLevelDelegate&&n.previewer.stopSoundLevel();var d=n.createDestNode(),g=new bp(n.logger,n.acMgr,n.localStream,n.previewer.stateCenter.browser,d,n.previewer.rtcViewer,n.volumeFactor);n.audioMixList.push({audioMix:g,media:s}),g.startMixingAudio(s)||(o=!1),g.setDelay(n.delay),n.streamCenter.soundLevelDelegate&&n.previewer.startSoundLevel()}}),o},A.prototype.stopMixingAudio=function(t){var n=this;return this.logger.info("zc.p.0.sma.1 call"),t?t.forEach(function(o){for(var s=0;s<n.audioMixList.length;s++)if(n.audioMixList[s].media==o){n.audioMixList[s].audioMix.stopMixingAudio()&&n.audioMixList.splice(s--,1);break}}):(this.audioMixList.forEach(function(o){return o.audioMix.stopMixingAudio()}),this.audioMixList=[]),!0},A.prototype.setVolumeFactor=function(t){this.logger.info(kA+" set factor: "+t),isNaN(t)&&this.logger.error(kA+" set factor failed"),this.volumeFactor=t,this.audioMixList.forEach(function(n){n.audioMix.setMixingAudioVolume(void 0,t)})},A.prototype.setMixingAudioVolume=function(t,n){this.logger.info(kA+" call");var o=this.audioMixList.find(function(s){return s.media===n});return o?(o.audioMix.setMixingAudioVolume(t),this.logger.info(kA+" call success"),!0):(this.logger.error(kA+" audio is not mixing"),!1)},A.prototype.playEffect=function(t,n,o,s){var d=this;if(this.logger.info(wc+" call"),this.localStream)if(this.effectList.find(function(S){return S.effectID==t.effectID&&S.audioBuffer==n}))this.logger.warn(wc+" effect already exist ");else{this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var g=this.createDestNode(),E=new rd(this.logger,this.ac,this.localStream,g,this.previewer.rtcViewer);E.audioBuffer=n;var b={processor:E,effectID:t.effectID,audioBuffer:n};this.effectList.push(b),E.playEffect(t.playTime,t.loop,!1,function(){o&&o()},function(){for(var S=[],l=0;l<arguments.length;l++)S[l]=arguments[l];d.effectList=d.effectList.filter(function(J){return J!==b}),s&&s.apply(void 0,S)}),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(wc+" play effect "+t.effectID+" success")}else this.logger.warn(wc+" stream not found")},A.prototype.pauseEffect=function(t){var n=this.effectList.find(function(o){return o.effectID==t});if(n)this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),n.processor.pauseEffect(),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(Xg+" pause "+t+" success");else{if(t!==void 0)return this.logger.error(Xg+" effect not found"),!1;this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach(function(o){return o.processor.pauseEffect()}),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel()}return!0},A.prototype.resumeEffect=function(t){var n=this.effectList.find(function(s){return s.effectID==t});if(n){this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var o=n.processor.resumeEffect();return this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info($g+" resume "+t+" success"),o}return t===void 0?(this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach(function(s){return s.processor.resumeEffect()}),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0):(this.logger.error($g+" no effect found"),!1)},A.prototype.stopEffect=function(t){var n=this.effectList.find(function(o){return o.effectID==t});if(n)this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),n.processor.stopMixingAudio(),this.effectList=this.effectList.filter(function(o){return o!==n}),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),this.logger.info(ed+" pause "+t+" success");else{if(t!==void 0)return this.logger.error(ed+" effect not found"),!1;this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.effectList.forEach(function(o){return o.processor.stopMixingAudio()}),this.effectList=[],this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel()}return!0},A.prototype.setEffectVolume=function(t,n,o){var s=this.effectList.find(function(d){return d.effectID==n});if(s)s.processor.setMixingAudioVolume(t),s.processor.setDelay(o||1e-7),this.logger.info("zp.sev.0 set volume "+n+" success");else{if(n!==void 0)return this.logger.error("zp.sev.0 effect not found"),!1;this.effectList.forEach(function(d){return d.processor.setMixingAudioVolume(t)})}return!0},A.prototype.mixingBuffer=function(t,n,o){var s=this;if(this.logger.info(td+" call"),this.localStream)if(this.arrayBufferMap[t])this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap[t].mixingBuffer(n,function(){s.streamCenter.soundLevelDelegate&&s.previewer.startSoundLevel(),o&&o()});else{this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel();var d=this.createDestNode(),g=new rd(this.logger,this.ac,this.localStream,d,this.previewer.rtcViewer);this.arrayBufferMap[t]=g,g.mixingBuffer(n,function(){s.streamCenter.soundLevelDelegate&&s.previewer.startSoundLevel(),o&&o()})}},A.prototype.stopMixingBuffer=function(t){if(t&&this.arrayBufferMap[t])return this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap[t].stopMixingBuffer(),delete this.arrayBufferMap[t],this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0;if(t===void 0){for(var n in this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),this.arrayBufferMap)this.arrayBufferMap[n].stopMixingBuffer();return this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0}return this.logger.warn(td+" arrayBuffer no found"),!1},A.prototype.getEffectProgress=function(t){var n=this.effectList.find(function(o){return o.effectID==t});return n?n.processor.getProcess():(this.logger.error(Ws+"  effect not found"),0)},A.prototype.seekAudioEffect=function(t,n){var o=this.effectList.find(function(s){return s.effectID==t});return o?(this.streamCenter.soundLevelDelegate&&this.previewer.stopSoundLevel(),o.processor.seekTo(n),this.streamCenter.soundLevelDelegate&&this.previewer.startSoundLevel(),!0):(this.logger.error(Ws+" effect not found"),!1)},A.prototype.stopAudioManager=function(){this.stopMixingAudio(),this.stopMixingBuffer(),this.stopEffect()},A.prototype.createDestNode=function(){var t=null,n=this.previewer.createDestNode(this.localStream);return this.previewer.audioNodeQueue||((t=this.previewer.createSrcNode()).disconnect(),t.connect(n)),n},A.prototype.setMixingDelay=function(t){this.audioMixList.forEach(function(n){n.audioMix.setDelay(t)})},A}(),Dp=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},kp=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Rp=function(){function A(t,n,o,s,d,g){var E=this;this.logger=t,this.dataReport=n,this.stateCenter=o,this.streamCenter=s,this.ac=d,this.rtcModules=g,this.buffer=null,this.blank=null,this.mixingDelay=0,this.stateCenter.browser=="safari"&&this.blank==null&&this.buffer==null&&(this.buffer=this.ac.createBuffer(1,1,this.ac.sampleRate),this.blank=this.ac.createBufferSource(),this.blank.buffer=this.buffer,this.blank.connect(this.ac.destination),this.blank.start()),this.rtcModules.bindListener("_engineConfigUpdate",function(b){var S=b.mixingAudioDelay+b.baseMixingAudioDelay;isNaN(S)||S===E.mixingDelay||(E.logger.info("zc.am.mdu delay update:"+S+", origin:"+E.mixingDelay),E.mixingDelay=S,E.streamCenter.previewStreamList.forEach(function(l){l.audioMixManager&&l.audioMixManager.setMixingDelay(S)}))})}return A.prototype.preloadEffect=function(t,n,o){if(this.checkPreviewer(Sc,{effectID:t},{effectID:!0}))if(n&&typeof n=="string"){if(this.stateCenter.audioEffectBuffer[t])return this.logger.warn(Sc+" audio buffer already exists"),void(o&&o());this.logger.info(Sc+" start preload effect"),this._preloadEffect(this.ac,t,n,o)}else this.logger.error(Sc+" params error")},A.prototype.checkPreviewer=function(t,n,o){n===void 0&&(n={});var s=!!(o!=null&&o.effectID),d=!!(o!=null&&o.previewer),g=n.effectID,E=n.streamID;if((o!=null&&o.streamID||E)&&typeof E!="string"&&!(E instanceof MediaStream))return this.logger.error(t+" stream type error"),!1;if(s&&!g)return this.logger.error(t+" effectID required"),!1;if(g&&typeof g!="string")return this.logger.error(t+" effectID type error"),!1;if(d){var b=this.streamCenter.getPreviewer(E);return b||(this.logger.error(typeof E=="string"?t+" "+E+" stream is not publishing":t+" stream doesn't exist"),!1)}return!0},A.prototype.getEffectDuration=function(t){if(!this.checkPreviewer(Ws,{effectID:t},{effectID:!0}))return 0;var n=this.stateCenter.audioEffectBuffer[t];return n?n.duration?Math.floor(1e3*n.duration):0:(this.logger.error(Ws+" effect not found"),0)},A.prototype.getEffectProgress=function(t,n){var o=this.checkPreviewer(Ws,{streamID:t,effectID:n},{effectID:!0,streamID:!0,previewer:!0});return typeof o=="boolean"?0:this.getAudioManager(o).getEffectProgress(n)},A.prototype.seekAudioEffect=function(t,n,o){if(o<0)return this.logger.error(Ws+" param time error "),!1;var s=this.checkPreviewer(Ws,{streamID:t,effectID:n},{effectID:!0,streamID:!0,previewer:!0});return typeof s!="boolean"&&this.getAudioManager(s).seekAudioEffect(n,o)},A.prototype.playEffect=function(t,n,o){return Dp(this,void 0,void 0,function(){var s,d,g,E,b=this;return kp(this,function(S){switch(S.label){case 0:return s=Jn(t.stream,this.logger)||t.streamID,d=t.path,this.checkPreviewer(La,{streamID:s,effectID:g=t.effectID},{streamID:!0,effectID:!0})?(E=this.stateCenter.audioEffectBuffer[g],d?E?(this.logger.warn(La+" audio effect already exists"),[3,3]):[3,1]:[3,4]):[2];case 1:return[4,new Promise(function(l,J){b.preloadEffect(g,d,function(he){he?(b.logger.error(La+" preload audio effect failed"),J(he)):l(void 0)})})];case 2:S.sent(),S.label=3;case 3:return[3,5];case 4:if(!E)return this.logger.error(La+" audio effect doesn't exists"),[2];S.label=5;case 5:return this._playEffect(t,n,o),[2]}})})},A.prototype.pauseEffect=function(t,n){var o=typeof t=="string"?t:Jn(t,this.logger);return this._pauseEffect(o,n)},A.prototype.resumeEffect=function(t,n){var o=typeof t=="string"?t:Jn(t,this.logger);return this._resumeEffect(o,n)},A.prototype.stopEffect=function(t,n){var o=typeof t=="string"?t:Jn(t,this.logger);return this._stopEffect(o,n)},A.prototype.unloadEffect=function(t){return!!this.checkPreviewer("zc.ue",{effectID:t},{effectID:!0})&&(delete this.stateCenter.audioEffectBuffer[t],!0)},A.prototype.setEffectVolume=function(t,n,o,s){if(typeof n!="number"||n<0||n>200)return this.logger.error(Vg+" volume must be a number between 0 and 200"),!1;var d=typeof t=="string"?t:Jn(t,this.logger),g=this.checkPreviewer(Vg,{streamID:d,effectID:o},{streamID:!0,previewer:!0});return typeof g!="boolean"&&this.getAudioManager(g).setEffectVolume(n/100,o,s)},A.prototype.startMixingAudio=function(t,n){var o=typeof t=="string"?t:Jn(t,this.logger);return this.logger.info(DA+" call "+o),o?n?(this.logger.info(DA+" end "+o),Array.isArray(n)&&n.length!==0&&n.every(function(s){return s instanceof HTMLMediaElement})?this._startMixingAudio(o,n):(this.logger.error(DA+" audio list param type error"),!1)):(this.logger.error(DA+" no audio"),!1):(this.logger.error(DA+" stream not found"),!1)},A.prototype.stopMixingAudio=function(t,n){var o=typeof t=="string"?t:Jn(t,this.logger);return o?Array.isArray(n)&&n.length!==0||n===void 0?this._stopMixingAudio(o,n):(this.logger.error(Wg+" audio param type error"),!1):(this.logger.error(Wg+" stream not found"),!1)},A.prototype.mixingBuffer=function(t,n,o,s){var d=typeof t=="string"?t:Jn(t,this.logger);this.logger.info(bc+" call streamID: "+JSON.stringify(d)+" sourceID:"+n),d?n&&typeof n=="string"?(this._mixingBuffer(d,n,o,s),this.logger.info(bc+" end")):this.logger.error(bc+" param source id format error"):this.logger.error(bc+" param streamid format error")},A.prototype.stopMixingBuffer=function(t,n){var o=typeof t=="string"?t:Jn(t,this.logger);return this._stopMixingBuffer(o,n)},A.prototype.setMixingAudioVolume=function(t,n,o){if(this.logger.info(Dc+" call"),!t)return this.logger.error(Dc+" stream not found"),!1;if(typeof n!="number"||n<0||n>200)return this.logger.error(Dc+" volume must be a number between 0 and 200"),!1;if(!(o&&o instanceof HTMLMediaElement))return this.logger.error(Dc+" no audio"),!1;var s=typeof t=="string"?t:Jn(t,this.logger);return this._setMixingAudioVolume(s,n,o)},A.prototype.getSoundLevel=function(t,n,o){this.logger.info("zc.gsl call");var s=this.streamCenter.getCloudSoundInterval();try{var d=this.streamCenter.createSoundLevel(this.ac,t,this.streamCenter.soundLevelInterval,s,function(g){n(g)});this.stateCenter.audioStreamList[t.id]={mic:d.mic,script:d.soundMeter}}catch(g){o(g)}this.logger.info("zc.gsl call success")},A.prototype.stopSoundLevel=function(t){this.logger.info("zc.ssl call");var n=this.stateCenter.audioStreamList[t.id];n.mic.disconnect(),n.script.destroy(),delete this.stateCenter.audioStreamList[t.id]},A.prototype._preloadEffect=function(t,n,o,s){var d=this,g=new XMLHttpRequest;g.open("GET",o,!0),g.setRequestHeader("Range","none"),g.responseType="arraybuffer",g.onload=function(){if(g.status==200||g.status==304)t.decodeAudioData(g.response,function(b){d.logger.info("zc.pe.0 effect '".concat(n,"' preload success")),d.stateCenter.audioEffectBuffer[n]=b,s&&s()},function(b){d.logger.error("zc.pe.0 effect '".concat(n,"' preload fail. ")+b),s&&s(b)});else{var E=g.statusText;d.logger.error("zc.pe.0 effect '".concat(n,"' preload fail.")+E),s&&s(E)}},g.send()},A.prototype._playEffect=function(t,n,o){var s=Jn(t.stream,this.logger)||t.streamID,d=this.stateCenter.audioEffectBuffer[t.effectID];if(d){var g=this.checkPreviewer(La,{streamID:s,effectID:t.effectID},{streamID:!0,effectID:!0,previewer:!0});typeof g!="boolean"&&this.getAudioManager(g).playEffect(t,d,n,o)}else this.logger.error(La+" no audio buffer found")},A.prototype._pauseEffect=function(t,n){var o=this.checkPreviewer("zc.pe.2",{streamID:t,effectID:n},{streamID:!0,previewer:!0});return typeof o!="boolean"&&this.getAudioManager(o).pauseEffect(n)},A.prototype._resumeEffect=function(t,n){var o=this.checkPreviewer("zc.re",{streamID:t,effectID:n},{streamID:!0,previewer:!0});return typeof o!="boolean"&&this.getAudioManager(o).resumeEffect(n)},A.prototype._stopEffect=function(t,n){var o=this.checkPreviewer("zc.se",{streamID:t,effectID:n},{streamID:!0,previewer:!0});return typeof o!="boolean"&&this.getAudioManager(o).stopEffect(n)},A.prototype._setMixingAudioVolume=function(t,n,o){var s=this.streamCenter.getPreviewer(t);return s?this.getAudioManager(s).setMixingAudioVolume(n/100,o):(this.logger.error("zc.sma.2 publisher doesn't exist"),!1)},A.prototype._startMixingAudio=function(t,n){var o=this.streamCenter.getPreviewer(t);return o?this.getAudioManager(o).startMixingAudio(n):(this.logger.error(typeof t=="string"?"zc.sma.0 "+t+" stream is not publishing":"zc.sma.0 stream doesn't exist"),!1)},A.prototype._stopMixingAudio=function(t,n){var o=this.streamCenter.getPreviewer(t);return o?this.getAudioManager(o).stopMixingAudio(n):(this.logger.error("zc.sma.0 stream doesn't exist"),!1)},A.prototype._mixingBuffer=function(t,n,o,s){var d=this.checkPreviewer(Zg,{streamID:t,effectID:n},{effectID:!0,streamID:!0,previewer:!0});typeof d!="boolean"&&(o instanceof ArrayBuffer?this.getAudioManager(d).mixingBuffer(n,o,s):this.logger.error("zc.mb.0 array buffer not found"))},A.prototype._stopMixingBuffer=function(t,n){var o=this.checkPreviewer(Zg,{streamID:t,effectID:n},{effectID:!0,streamID:!0,previewer:!0});return typeof o!="boolean"&&this.getAudioManager(o).stopMixingBuffer(n)},A.prototype.getAudioManager=function(t){var n=t.audioMixManager;return n||(n=new wp(t),this.stateCenter.engineConfig.choirRole===1&&n.setVolumeFactor(.6),t.audioMixManager=n),n},A}(),Np={type:"AudioMix",install:function(A){Object.defineProperty(A.prototype,"initAudioMix",{value:function(){this.audioMixModule=new Rp(this.logger,this.dataReport,this.stateCenter,this.streamCenter,this.ac,this)}})}},Sn={NOT_LOGIN:{code:1000002,message:"not login room"},INPUT_PARAM:{code:1100001,message:"input param error."},TIMEOUT:{code:1100002,message:"network timeout."},MIXER_NO_SERVICES:{code:1005e3,message:"no mix stream service"},MIXER_TASK_ID_NULL:{code:1005001,message:"mixer task is null"},MIXER_TASK_ID_TOO_LONG:{code:1005002,message:"task ID is too long"},MIXER_TASK_ID_INVALID_CHARACTER:{code:1005003,message:"task ID contains illegal characters"},MIXER_NO_OUTPUT_TARGET:{code:1005005,message:"task configuration does not specify output"},MIXER_OUTPUT_TARGET_INVALID:{code:1005006,message:"stream output target is incorrect"},MIXER_START_REQUEST_ERROR:{code:1005010,message:"start mixer task fail, possibly due to network reasons"},MIXER_STOP_REQUEST_ERROR:{code:1005011,message:"stop mixer task fail, possibly due to network reasons"},MIXER_NOT_OWNER_STOP_MIXER:{code:1005012,message:" maxed task must be stopped by the start user of the task"},MIXER_INPUTLIST_NULL:{code:1005020,message:"Mixed stream task input list is null"},MIXER_OUTPUTLIST_NULL:{code:1005021,message:"Mixed stream task output list is null"},MIXER_VIDEO_CONFIG_INVALID:{code:1005023,message:"invalid mixed stream task video configuration"},MIXER_EXCEED_MAX_INPUT_COUNT:{code:1005025,message:"more than the maximum number of input streams"},MIXER_INPUT_STREAM_NOT_EXISTS:{code:1005026,message:"Input stream does not exist"},MIXER_INPUT_PARAMETERS_ERROR:{code:1005027,message:"mix stream input parameters are wrong"},MIXER_INPUT_LABEL_TOO_LONG:{code:1005028,message:"Input stream label text is too long"},MIXER_EXCEED_MAX_OUTPUT_COUNT:{code:1005030,message:"more than the maximum number of output streams"},MIXER_INPUT_IMAGE_URL_TOO_LONG:{code:1005034,message:"Input stream image url too long"},MIXER_INPUT_IMAGE_FORMAT_WRONG:{code:1005035,message:"Input stream image format wrong"},MIXER_INPUT_IMAGE_GET_FAIL:{code:1005036,message:"Input stream image get fail"},MIXER_AUTHENTICATION_FAILED:{code:1005050,message:"mixed stream authentication failed"},MIXER_WATERMARK_NULL:{code:1005061,mag:"input watermark is null"},MIXER_WATERMARK_PARAMETERS_ERROR:{code:1005062,message:"input watermark parameter is wrong"},MIXER_WATERMARK_URL_INVALID:{code:1005063,message:"illegal input watermark URL"},MIXER_BACKGROUND_IMAGE_URL_INVALID:{code:1005067,message:"illegal input background image URL"},MIXER_REPEAT_INPUT:{code:1005099,message:"mix stream input repeat"},MIXER_INNER_ERROR:{code:1005099,message:"mixer internal error"}};Vs=__webpack_require__(8413).Z.proto_mixstream,Vu=__webpack_require__(2100),zg=__webpack_require__(3720),Vu.util.Long=zg,Vu.configure();var Zu,RA,nd=function(){function A(){}return A.prototype.encodeMixStreamStartReq=function(t){var n=Vs.MixStreamStartRequest.create(t);return Vs.MixStreamStartRequest.encode(n).finish()},A.prototype.decodeMixStreamStartRsp=function(t){return Vs.MixStreamStartResponse.decode(t)},A.prototype.encodeMixStreamStopReq=function(t){var n=Vs.MixStreamStopRequest.create(t);return Vs.MixStreamStopRequest.encode(n).finish()},A.prototype.decodeMixStreamStopRsp=function(t){return Vs.MixStreamStopResponse.decode(t)},A}(),Xu="/sdk/init",Xr={event:"/mix/start_mix",error:{kParamError:Sn.INPUT_PARAM,kTaskIDNullError:Sn.MIXER_TASK_ID_NULL,kTaskIDToLongError:Sn.MIXER_TASK_ID_TOO_LONG,kTaskIDInvalidCharacterError:Sn.MIXER_TASK_ID_INVALID_CHARACTER,kInputListNullError:Sn.MIXER_INPUTLIST_NULL,kOutputListNullError:Sn.MIXER_OUTPUTLIST_NULL,kOutputTargetInvalidError:Sn.MIXER_OUTPUT_TARGET_INVALID,kOutputNoTargetError:Sn.MIXER_NO_OUTPUT_TARGET,kRequestError:Sn.MIXER_START_REQUEST_ERROR,kInternalError:Sn.MIXER_INNER_ERROR,kInputLabelTextTooLong:Sn.MIXER_INPUT_LABEL_TOO_LONG,kInputImageURLTooLong:Sn.MIXER_INPUT_IMAGE_URL_TOO_LONG,kInputImageFormatWrong:Sn.MIXER_INPUT_IMAGE_FORMAT_WRONG,kMixerWatermarkURLInvalid:Sn.MIXER_WATERMARK_URL_INVALID,kNoLoginError:Sn.NOT_LOGIN},mix_stream_conf:Be,stop_reason:ve},vs={event:"/mix/stop_mix",error:{kParamError:Sn.INPUT_PARAM,kTaskIDNullError:Sn.MIXER_TASK_ID_NULL,kRequestError:Sn.MIXER_STOP_REQUEST_ERROR,kInternalError:Sn.MIXER_INNER_ERROR,kNoLoginError:Sn.NOT_LOGIN}},Di={event:"/mix/config_mix",error:{kParamError:Sn.INPUT_PARAM,kVideoConfigInvalidError:Sn.MIXER_VIDEO_CONFIG_INVALID,kBackgroundImageUrlInvalidError:Sn.MIXER_BACKGROUND_IMAGE_URL_INVALID,kNoLoginError:Sn.NOT_LOGIN},mix_params:Be},kc=function(){return kc=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},kc.apply(this,arguments)},id="3.0.1",Rc=1e4;function od(A,t){var n,o="",s=Sn;return t.errorCode<2e9&&t.errorCode>1e9?(o=function(d){var g={1:"MIXER_START_REQUEST_ERROR",2:"MIXER_START_REQUEST_ERROR",3:"MIXER_AUTHENTICATION_FAILED",141:"MIXER_INPUT_IMAGE_FORMAT_WRONG",142:"MIXER_INPUT_IMAGE_GET_FAIL",150:"MIXER_INPUT_STREAM_NOT_EXISTS",151:"MIXER_START_REQUEST_ERROR",152:"MIXER_STOP_REQUEST_ERROR",153:"MIXER_INPUT_PARAMETERS_ERROR",154:"MIXER_EXCEED_MAX_OUTPUT_COUNT",155:"MIXER_INPUT_PARAMETERS_ERROR",156:"MIXER_VIDEO_CONFIG_INVALID",157:"MIXER_NO_SERVICES",158:"MIXER_EXCEED_MAX_INPUT_COUNT",159:"MIXER_START_REQUEST_ERROR",160:"MIXER_NOT_OWNER_STOPMIXER",170:"MIXER_WATERMARK_PARAMETERS_ERROR",171:"MIXER_WATERMARK_NULL",175:"MIXER_REPEAT_INPUT",179:"MIXER_INPUT_LABEL_TOO_LONG",190:"MIXER_START_REQUEST_ERROR"},E="MIXER_INNER_ERROR";return d>1e9&&g[d-1e9]&&(E=g[d-1e9]),E}(t.errorCode-Rc),n=s[o]):t.errorCode<1e6&&(n=A.decodeServerError(t.errorCode,t.extendedData),o=A.getLiveRoomError(t.errorCode,this.stateCenter.useNetAgent)),{reportErr:n,actualError:s[o]}}Zu=__webpack_require__(3720),function(A){A[A.I=0]="I",A[A.H=10]="H",A[A.M=100]="M",A[A.L=1e3]="L"}(RA||(RA={}));var sd={},ad={startMixerTask:function(A){var t=this;return new Promise(function(n,o){var s,d,g,E,b,S,l,J,he,_e,Ce,Oe=t.stateCenter.reporter.createSpan(RA.H,{key:Xu},{key:Xr.event,par:A.taskID},Xr.event,!0),$e={errorCode:Sn.MIXER_INPUT_PARAMETERS_ERROR.code,extendedData:Sn.MIXER_INPUT_PARAMETERS_ERROR.message};if(A!=null&&A.inputList.find(function(or){return or.streamID==null&&($e.extendedData=$e.extendedData+". streamID should be of string type",!0)}))return t.stateCenter.reporter.setError(Oe,Sn.MIXER_INPUT_PARAMETERS_ERROR),void o($e);A.outputConfig&&A.outputConfig.outputFps&&(A.outputConfig.outputFPS=A.outputConfig.outputFps);var ze=function(or){var yr=od(t.stateCenter,or),Fr=yr.reportErr,br=yr.actualError;or.errorCode===1005026&&Oe.setAttributes({stop_reason:"UnmatchStreamId"}),t.stateCenter.reporter.setError(Oe,Fr||or),t.stateCenter.reporter.spanEnd({key:Xr.event,par:A.taskID}),br&&(or.errorCode=br==null?void 0:br.code,or.extendedData=(br==null?void 0:br.message)||""),o(or)},Xe=t.stateCenter.roomList[0];if(Xe){var et,gt=[];if(!A.noTaskID&&!A.taskID)return t.logger.error("zb.sh.ums no taskId found"),void ze({errorCode:Xr.error.kTaskIDNullError.code,extendedData:Xr.error.kTaskIDNullError.message});if(!A.noTaskID&&typeof A.taskID!="string")return t.logger.error("zb.rh.lg taskId must be string"),void ze({errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message});if(!A.noTaskID&&A.taskID.length>256)return t.logger.error("zb.sh.ums taskId is too long"),void ze({errorCode:Xr.error.kTaskIDToLongError.code,extendedData:Xr.error.kTaskIDToLongError.message});if(!A.noTaskID&&!t.stateCenter.checkIllegalCharacters(A.taskID))return t.logger.error("zb.sh.ums task ID contains illegal characters"),void ze({errorCode:Xr.error.kTaskIDInvalidCharacterError.code,extendedData:Xr.error.kTaskIDInvalidCharacterError.message});if(!A.inputList||A.inputList.length==0)return t.logger.error("zb.sh.ums input list wrong"),void ze({errorCode:Xr.error.kInputListNullError.code,extendedData:Xr.error.kInputListNullError.message});A.inputList.forEach(function(or){or.contentType==="AUDIO"&&(!or.layout&&(or.layout={top:0,left:0,bottom:0,right:0}),or.layout.top=0,or.layout.left=0,or.layout.bottom=1,or.layout.right=1)});for(var _t=0;_t<A.inputList.length;_t++){var Bt=A.inputList[_t],ut={errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message};if(typeof Bt.layout!="object")return t.logger.error("zb.sh.ums input layout must be object"),void ze(ut);if(!(t.stateCenter.checkInteger(Bt.layout.top,!1)&&t.stateCenter.checkInteger(Bt.layout.bottom,!1)&&t.stateCenter.checkInteger(Bt.layout.left,!1)&&t.stateCenter.checkInteger(Bt.layout.right,!1)))return t.logger.error("zb.sh.ums topleftbottomright must be integer number"),void ze(ut);if(Bt.renderMode!==void 0&&![0,1].includes(Bt.renderMode))return t.logger.error("zb.sh.ums render_mode is wrong"),void ze(ut);if(Bt.imageInfo!==void 0){if(typeof Bt.imageInfo.url!="string")return t.logger.error("zb.sh.ums image url is require string"),void ze(ut);if(Bt.imageInfo.url.length>1024)return t.logger.error("zb.sh.ums input image url length too long"),void ze({errorCode:Xr.error.kInputImageURLTooLong.code,extendedData:Xr.error.kInputImageURLTooLong.message})}if(Bt.label!==void 0){if(typeof((s=Bt.label)===null||s===void 0?void 0:s.text)!="string"||((d=Bt.label)===null||d===void 0?void 0:d.text.length)>=300)return t.logger.error("zb.sh.ums input label text is not string or too long"),void ze({errorCode:Xr.error.kInputLabelTextTooLong.code,extendedData:Xr.error.kInputLabelTextTooLong.message});if(((g=Bt.label)===null||g===void 0?void 0:g.left)!==void 0&&!t.stateCenter.checkInteger((E=Bt.label)===null||E===void 0?void 0:E.left,!1)||((b=Bt.label)===null||b===void 0?void 0:b.top)!==void 0&&!t.stateCenter.checkInteger((S=Bt.label)===null||S===void 0?void 0:S.top,!1))return t.logger.error("zb.sh.ums input label left and top should be integer"),void ze(ut)}if(Bt.cornerRadius!==void 0&&!t.stateCenter.checkInteger(Bt.cornerRadius,!1))return t.logger.error("zb.sh.ums cornerRadius is wrong"),void ze(ut);if(Bt.soundLevelID!==void 0&&!t.stateCenter.checkInteger(Bt.soundLevelID,!1))return t.logger.error("zb.sh.ums soundLevelID is wrong"),void ze(ut)}if(!A.outputList||A.outputList.length==0)return t.logger.error("zb.sh.ums no output list found"),void ze({errorCode:Xr.error.kOutputListNullError.code,extendedData:Xr.error.kOutputListNullError.message});if(A.outputList.some(function(or){return typeof or=="string"&&!t.stateCenter.isUrl(or)&&!t.stateCenter.checkIllegalCharacters(or)||typeof or=="object"&&or.target&&!t.stateCenter.isUrl(or.target)&&!t.stateCenter.checkIllegalCharacters(or.target)}))return t.logger.error("zb.sh.ums stream output target is incorrect"),void ze({errorCode:Xr.error.kOutputTargetInvalidError.code,extendedData:Xr.error.kOutputTargetInvalidError.message});if(!((et=A.inputList.every(function(or){return or.contentType==="AUDIO"}))||A.outputConfig&&typeof A.outputConfig=="object"))return t.logger.error("zb.sh.ums no output config found"),void ze({errorCode:Xr.error.kOutputNoTargetError.code,extendedData:Xr.error.kOutputNoTargetError.message});if(et&&(A.outputConfig=kc(kc({},A.outputConfig||{}),{outputBitrate:.001,outputFPS:1,outputWidth:1,outputHeight:1})),!(et||A.outputConfig.outputBitrate&&t.stateCenter.checkInteger(A.outputConfig.outputBitrate)))return t.logger.error("zb.sh.ums bitrate param is required and must be integer number"),void ze({errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message});if(!A.outputConfig.outputFPS||!t.stateCenter.checkInteger(A.outputConfig.outputFPS))return t.logger.error("zb.sh.ums fps param is required and must be integer number"),void ze({errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message});if(!A.outputConfig.outputWidth||!t.stateCenter.checkInteger(A.outputConfig.outputWidth))return t.logger.error("zb.sh.ums width param is required and must be integer number"),void ze({errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message});if(!A.outputConfig.outputHeight||!t.stateCenter.checkInteger(A.outputConfig.outputHeight))return t.logger.error("zb.sh.ums height param is required and must be integer number"),void ze({errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message});if(A.outputConfig.outputAudioCodecID!==void 0&&!t.stateCenter.checkInteger(A.outputConfig.outputAudioCodecID,!1))return t.logger.error("zb.sh.ums AudioCodecID param must be integer number"),void ze({errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message});if(A.outputConfig.outputAudioBitrate!==void 0&&!t.stateCenter.checkInteger(A.outputConfig.outputAudioBitrate))return t.logger.error("zb.sh.ums AudioBitrate param must be integer number"),void ze({errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message});if(A.outputConfig.outputAudioChannels!==void 0&&!t.stateCenter.checkInteger(A.outputConfig.outputAudioChannels,!1))return t.logger.error("zb.sh.ums AudioChannels param must be integer number"),void ze({errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message});if(A.watermark!==void 0&&typeof((l=A.watermark)===null||l===void 0?void 0:l.imageURL)!="string")return t.logger.error("zb.sh.ums watermark image type error"),void ze({errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message});if(A.enableSoundLevel!==void 0&&typeof A.enableSoundLevel!="boolean")return t.logger.error("zb.sh.ums enableSoundLevel is not bool"),void ze({errorCode:Xr.error.kParamError.code,extendedData:Xr.error.kParamError.message});for(_t=0;_t<A.inputList.length;_t++){var Ct=A.inputList[_t],wt=Ct.streamID;t.stateCenter.testEnvironment&&(wt="zegotest-"+t.stateCenter.appid+"-"+Ct.streamID),gt.push({stream_id:wt,content_control:Ct.contentType==="AUDIO"?1:0,top:(J=Ct.layout)===null||J===void 0?void 0:J.top,left:(he=Ct.layout)===null||he===void 0?void 0:he.left,bottom:(_e=Ct.layout)===null||_e===void 0?void 0:_e.bottom,right:(Ce=Ct.layout)===null||Ce===void 0?void 0:Ce.right,render_mode:Ct.renderMode,image:Ct.imageInfo,label:Ct.label})}var Pt=[];A.outputList.forEach(function(or){var yr="";typeof or=="string"?yr=or:typeof or=="object"&&or.target&&(yr=or.target);var Fr=0;(yr.startsWith("rtmp://")||yr.startsWith("https://")&&yr.endsWith(".flv")||yr.startsWith("https://")&&yr.endsWith(".m3u8"))&&(Fr=1),Pt.push({target:yr,is_url:Fr?"true":"false"})});var sr=A.outputConfig;t.stateCenter.reporter.spanSetAttributes({key:Xr.event,par:A.taskID},{mix_stream_conf:Xr.mix_stream_conf({fps:sr.outputFPS,bitrate:sr.outputBitrate,w:sr.outputWidth,h:sr.outputHeight,stream_cnt:gt.length,mix_task_id:A.taskID,input_stream_list:gt,output_target_list:Pt})}),Xe.streamHandler.updateMixStream(A,sd,function(or){t.stateCenter.reporter.spanEnd({key:Xr.event,par:A.taskID}),n(or)},ze)}else ze({errorCode:Xr.error.kNoLoginError.code,extendedData:Xr.error.kNoLoginError.message})})},setMixerTaskConfig:function(A){var t=this;return new Promise(function(n,o){var s,d=t.stateCenter.reporter.createSpan(RA.H,{key:Xu},{key:""},Di.event),g={},E=function(S){t.stateCenter.reporter.setError(d,S),o(S)};if(A&&A.videoCodec){var b=A.videoCodec.toLowerCase();if(["vp8","h264"].indexOf(b)==-1)return t.logger.error("zb.sh.ums param videoCode error"),E({errorCode:Di.error.kVideoConfigInvalidError.code,extendedData:Di.error.kVideoConfigInvalidError.message}),!1;g.videoCodec=b}if(A.backgroundColor){if(!t.stateCenter.checkInteger(A.backgroundColor))return t.logger.error("zb.sh.ums param backgroundColor must be integer number"),E({errorCode:Di.error.kParamError.code,extendedData:Di.error.kParamError.message}),!1;g.backgroundColor=A.backgroundColor}if(A.backgroundImage){if(typeof A.backgroundImage!="string")return t.logger.error("zb.sh.ums param outputBgImage error"),E({errorCode:Di.error.kParamError.code,extendedData:Di.error.kParamError.message}),!1;if(!A.backgroundImage.startsWith("preset-id://")||!A.backgroundImage.endsWith(".jpg")&&!A.backgroundImage.endsWith(".png"))return t.logger.error("zb.sh.ums illegal input background image URL"),E({errorCode:Di.error.kBackgroundImageUrlInvalidError.code,extendedData:Di.error.kBackgroundImageUrlInvalidError.message}),!1;g.backgroundImage=A.backgroundImage}if(A&&A.userData){if(!(A.userData instanceof Uint8Array))return t.logger.error("zb.sh.ums param userData required Uint8Array"),E({errorCode:Di.error.kParamError.code,extendedData:Di.error.kParamError.message}),!1;if(A.userData.byteLength>1e3)return t.logger.error("zb.sh.ums param userData should shorter than 1000"),E({errorCode:Di.error.kParamError.code,extendedData:Di.error.kParamError.message}),!1;g.userData=A.userData}A.extraParams&&(g.extraParams||(g.extraParams=[]),(s=g.extraParams).push.apply(s,A.extraParams)),sd=g,d.setAttributes({mix_params:Di.mix_params(A)}),t.stateCenter.roomList[0]?(d.end(),n({errorCode:0,extendedData:""})):E({errorCode:Di.error.kNoLoginError.code,extendedData:Di.error.kNoLoginError.message})})},stopMixerTask:function(A){var t=this;return new Promise(function(n,o){var s=t.stateCenter.reporter.createSpan(RA.H,{key:Xu},{key:""},vs.event);if(!A||typeof A!="string"||A.length>256||!t.stateCenter.checkIllegalCharacters(A))return t.logger.error("zb.rh.lg taskID must be string less 256"),t.stateCenter.reporter.setError(s,vs.error.kParamError," param taskID error"),void o({errorCode:vs.error.kParamError.code,extendedData:vs.error.kParamError.message+" param taskID error"});s.setAttributes({mix_task_id:A});var d=function(E){var b=od(t.stateCenter,E),S=b.actualError;t.stateCenter.reporter.setError(s,b.reportErr||E),S&&(E.errorCode=S==null?void 0:S.code,E.extendedData=(S==null?void 0:S.message)||""),o(E)},g=t.stateCenter.roomList[0];g?g.streamHandler.stopMixStream(A,function(E){s.end(),n(E)},d):d({errorCode:vs.error.kNoLoginError.code,extendedData:vs.error.kNoLoginError.message})})}},Ad={_sendMixStopReqByAccessHub:function(A,t,n){var o=this;this.mixStreamProtoBuf||(this.mixStreamProtoBuf=new nd),A.timestamp=Zu.fromInt(Math.ceil(new Date().getTime()/1e3)),this.logger.info("zb.sh.smseba.1 req "+JSON.stringify(A));var s=this.mixStreamProtoBuf.encodeMixStreamStopReq(A),d=function(g,E){try{var b=o.mixStreamProtoBuf.decodeMixStreamStopRsp(g);Je(b),o.logger.info("zb.sh.smseba.1 rsp "+JSON.stringify(A));var S=(b==null?void 0:b.common_response)||{};return{code:S.code,msg:S.message}}catch{return{code:-1}}};this.sendHttpPBRequest({interfaceID:16},s,function(g,E){var b=d(g),S=b.code,l=b.msg;S!=0&&S!=null||typeof t!="function"?n&&n({errorCode:S,extendedData:l||""}):t({errorCode:S,extendedData:l})},function(g,E,b){var S="";if(b)return b==Sn.TIMEOUT&&(b=Xr.error.kRequestError),b.code&&b.code===20010&&(b=JSON.parse(JSON.stringify(Sn.MIXER_NO_SERVICES))),void(n&&n(b,S));b=Xr.error.kInternalError;var l="";if(typeof E=="string")l=E;else{var J=d(E);l=J.code+" "+J.msg}o.logger.error("zb.sh.pt "+(S="request media server fail, error: "+g+" "+l)),n&&n(b,S)})},stopMixStream:function(A,t,n,o,s){this.logger.info("zb.sh.sms call");var d=this.getStopMixStreamParams(A,o,s),g=d.req_body;this.stateCenter.useNetAgent?this._sendMixStopReqByAccessHub(d.mixStopReq,t,n):this._sendMixStopReqByAccessSvr(g,t,n)},_sendMixStartReqByAccessHub:function(A,t,n,o){var s=this;this.mixStreamProtoBuf||(this.mixStreamProtoBuf=new nd),A.timestamp=Zu.fromInt(Math.ceil(new Date().getTime()/1e3)),this.logger.info("zb.sh.smseba.0 req "+JSON.stringify(A));var d=this.mixStreamProtoBuf.encodeMixStreamStartReq(A),g=function(E,b){try{var S=s.mixStreamProtoBuf.decodeMixStreamStartRsp(E);Je(S),s.logger.info("zb.sh.smseba.0 rsp "+JSON.stringify(S));var l=S.common_response;return{code:l.code,msg:l.message,data:S.data,errStreamList:S.error_streamid_list}}catch{return{code:-1}}};this.sendHttpPBRequest({interfaceID:15},d,function(E,b){var S=g(E),l=S.code,J=S.errStreamList;if(l===void 0||l==0){var he=S.data.play_infos.map(function($e){var ze={rtmpURL:"",hlsURL:"",flvURL:""},Xe=$e.stream_alias||"";return s.stateCenter.testEnvironment&&Xe&&Xe.startsWith(t)&&(Xe=Xe.slice(t.length)),ze.streamID=Xe,$e.rtmp_url&&$e.rtmp_url.length>0&&(ze.rtmpURL=$e.rtmp_url),$e.hls_url&&$e.hls_url.length>0&&(ze.hlsURL=$e.hls_url),$e.hdl_url&&$e.hdl_url.length>0&&(ze.flvURL=$e.hdl_url),ze});n&&n({errorCode:0,extendedData:JSON.stringify({mixerOutputList:he})})}else{var _e="",Ce=l+1e9;if(Ce==1000000150&&J){var Oe=J.map(function($e){return s.stateCenter.testEnvironment&&$e.startsWith(t)?$e.slice(t.length):$e})||[];Oe.length>0&&(s.logger.debug("zb.sh.ums not exist streams: "+Oe),_e=Oe.join(","))}o&&o({errorCode:s.stateCenter.getServerError(Rc+Ce).code,extendedData:_e})}},function(E,b,S){var l="";if(S)return S==Sn.TIMEOUT&&(S=Xr.error.kRequestError),S.code&&S.code===20010&&(S=JSON.parse(JSON.stringify(Sn.MIXER_NO_SERVICES))),void(o&&o(S,l));S=Xr.error.kInternalError;var J="";if(typeof b=="string")J=b;else{var he=g(b);J=he.code+" "+he.msg}s.logger.error("zb.sh.pt "+(l="request media server fail, error: "+E+" "+J)),o&&o(S,l)})},getStartMixStreamParams:function(A,t){var n,o,s=this,d={request_seq:this.stateCenter.getSeq(),mix_protocol_version:1,task_id:A.taskID,room_id:this.roomID,mix_stream_common:{},input_stream:[],advance_config:[],output_stream:[]};A.outputConfig.singleStreamPassThrough&&typeof A.outputConfig.singleStreamPassThrough=="boolean"&&(d.mix_stream_common.single_stream_pass_through=A.outputConfig.singleStreamPassThrough?1:0);var g=t;return g&&(g.videoCodec&&((n=d.advance_config)===null||n===void 0||n.push({key:"video_encode",value:g.videoCodec})),g.backgroundColor&&(d.mix_stream_common.output_bg_color=g.backgroundColor),g.backgroundImage&&(d.mix_stream_common.output_bg_image=g.backgroundImage),g.userData&&(d.mix_stream_common.user_data=this.stateCenter.uint8arrayToBase64(g.userData)),g.extraParams&&((o=d.advance_config)===null||o===void 0||o.push.apply(o,g.extraParams))),A.enableSoundLevel!==void 0&&(d.mix_stream_common.with_sound_level=A.enableSoundLevel?1:0),A.inputList.forEach(function(E,b){var S,l,J,he,_e,Ce,Oe,$e,ze,Xe,et,gt,_t,Bt,ut,Ct,wt,Pt,sr,or,yr=E.streamID;s.stateCenter.testEnvironment&&(yr="zegotest-"+s.stateCenter.appid+"-"+E.streamID);var Fr={stream_input_common:{stream_id:yr,content_control:E.contentType==="AUDIO"?1:0,layer_rect:{layer:b,top:(S=E.layout)===null||S===void 0?void 0:S.top,left:(l=E.layout)===null||l===void 0?void 0:l.left,bottom:(J=E.layout)===null||J===void 0?void 0:J.bottom,right:(he=E.layout)===null||he===void 0?void 0:he.right}},volume:100,audio_h_angle:-1,render_mode:E.renderMode,corner_radius:E.cornerRadius};if(!((_e=E.label)===null||_e===void 0)&&_e.text){var br={font_type:((Oe=(Ce=E.label)===null||Ce===void 0?void 0:Ce.font)===null||Oe===void 0?void 0:Oe.type)||0,font_size:((ze=($e=E.label)===null||$e===void 0?void 0:$e.font)===null||ze===void 0?void 0:ze.size)||24,font_color:((et=(Xe=E.label)===null||Xe===void 0?void 0:Xe.font)===null||et===void 0?void 0:et.color)||16777215,font_transparency:((_t=(gt=E.label)===null||gt===void 0?void 0:gt.font)===null||_t===void 0?void 0:_t.transparency)||0};br.font_border_color=!((ut=(Bt=E.label)===null||Bt===void 0?void 0:Bt.font)===null||ut===void 0)&&ut.border?(wt=(Ct=E.label)===null||Ct===void 0?void 0:Ct.font)===null||wt===void 0?void 0:wt.borderColor:-1;var Lr={text:(Pt=E.label)===null||Pt===void 0?void 0:Pt.text,text_left:((sr=E.label)===null||sr===void 0?void 0:sr.left)||0,text_top:((or=E.label)===null||or===void 0?void 0:or.top)||0,font:br};Fr.label=Lr}E.imageInfo&&(Fr.image=E.imageInfo),E.soundLevelID&&(Fr.stream_input_common.sound_level_id=E.soundLevelID),d.input_stream.push(Fr)}),A.outputList.forEach(function(E){var b,S,l="";typeof E=="string"?l=E:typeof E=="object"&&E.target?l=E.target:s.logger.error("zb.sh.ums output target required"),s.stateCenter.isUrl(l)?(b=1,S=l):(b=0,S=s.stateCenter.testEnvironment?"zegotest-"+s.stateCenter.appid+"-"+l:l);var J={is_url:b,target:S,video_bitrate:1e3*A.outputConfig.outputBitrate,video_fps:A.outputConfig.outputFPS,video_width:A.outputConfig.outputWidth,video_height:A.outputConfig.outputHeight,output_quality:23};A.outputConfig.outputAudioCodecID&&(J.audio_enc_id=A.outputConfig.outputAudioCodecID),g.videoCodec==="vp8"?J.audio_enc_id=3:g.videoCodec==="h264"&&(J.audio_enc_id=0),A.outputConfig.outputAudioBitrate&&(J.audio_bitrate=1e3*A.outputConfig.outputAudioBitrate),d.output_stream.push({output_stream_common:J})}),A.watermark&&(d.water_mark={image:A.watermark.imageURL,layout_rect:A.watermark.layout}),isNaN(A.streamAlignmentMode)||(d.alignment_type=A.streamAlignmentMode),d.audio_channel_cnt=A.outputConfig.outputAudioChannels?A.outputConfig.outputAudioChannels:1,{mixStartReq:d}},_sendMixStartReqByAccessSvr:function(A,t,n,o){var s,d=this,g={task_id:A.task_id,id_name:this.stateCenter.idName,live_channel:this.roomID,appid:this.stateCenter.appid,version:id,bypass:A.mix_stream_common.single_stream_pass_through,timestamp:Math.ceil(new Date().getTime()/1e3),session_secret:new Date().getTime()+"",ver:0,seq:this.stateCenter.getSeq()};A.mix_stream_common.output_bg_color&&(g.output_bg_color=A.mix_stream_common.output_bg_color),A.mix_stream_common.output_bg_image&&(g.output_bg_image=A.mix_stream_common.output_bg_image),A.mix_stream_common.user_data&&(g.userdata=A.mix_stream_common.user_data),A.advance_config&&((s=A.advance_config)===null||s===void 0?void 0:s.length)>0&&(g.extra_params=A.advance_config),g.MixInput=A.input_stream.map(function(b){return{stream_id:b.stream_input_common.stream_id,content_control:b.stream_input_common.content_control,rect:{layer:b.stream_input_common.layer_rect.layer,top:b.stream_input_common.layer_rect.top,left:b.stream_input_common.layer_rect.left,bottom:b.stream_input_common.layer_rect.bottom,right:b.stream_input_common.layer_rect.right,corner_radius:b.corner_radius},render_mode:b.render_mode}}),g.MixOutput=A.output_stream.map(function(b){var S={};return b.output_stream_common.is_url?S.mixurl=b.output_stream_common.target:S.stream_id=b.output_stream_common.target,S.bitrate=b.output_stream_common.video_bitrate,S.fps=b.output_stream_common.video_fps,S.width=b.output_stream_common.video_width,S.height=b.output_stream_common.video_height,b.output_stream_common.audio_enc_id!==void 0&&(S.audio_enc_id=b.output_stream_common.audio_enc_id),b.output_stream_common.audio_bitrate&&(S.audio_bitrate=b.output_stream_common.audio_bitrate),A.audio_channel_cnt!==void 0&&(S.audio_channel_cnt=A.audio_channel_cnt),S.testenv=d.stateCenter.testEnvironment?1:0,S}),A.water_mark&&(g.watermark={image:A.water_mark.image,rect:A.water_mark.layout_rect});var E={channel:"zeus",cmd:"start_mix",req_body:JSON.stringify(g)};this.sendBizChannelRequest(E,function(b,S,l){if(d.logger.debug("zb.sh.ums receive message"),l.length!=0){for(var J=JSON.parse(l),he=[],_e=0;_e<J.play.length;_e++){var Ce={rtmpURL:"",hlsURL:"",flvURL:""},Oe=J.play[_e].stream_alias||"";d.stateCenter.testEnvironment&&Oe&&Oe.startsWith(t)&&(Oe=Oe.slice(t.length)),Ce.streamID=Oe,J.play[_e].rtmp_url&&J.play[_e].rtmp_url.length>0&&(Ce.rtmpURL=J.play[_e].rtmp_url),J.play[_e].hls_url&&J.play[_e].hls_url.length>0&&(Ce.hlsURL=J.play[_e].hls_url),J.play[_e].hdl_url&&J.play[_e].hdl_url.length>0&&(Ce.flvURL=J.play[_e].hdl_url),he.push(Ce)}n&&n({errorCode:0,extendedData:JSON.stringify({mixerOutputList:he})})}else o&&o({errorCode:d.stateCenter.getServerError(10001).code,extendedData:""})},function(b,S,l){if(typeof b=="number"){d.logger.debug("zb.sh.ums error: "+b);var J=[];if(b==1000000150&&l.length!=0)for(var he=JSON.parse(l),_e=0;_e<he.non_exist_streams.length;_e++){var Ce=he.non_exist_streams[_e];d.stateCenter.testEnvironment&&Ce.startsWith(t)?J.push(Ce.slice(t.length)):J.push(Ce)}o&&o({errorCode:d.stateCenter.getServerError(Rc+b).code,extendedData:""})}else{d.logger.debug("zb.sh.ums error code "+b.code);var Oe=void 0;Oe=b==Sn.TIMEOUT?Xr.error.kRequestError:Xr.error.kInternalError,o&&o({errorCode:Oe.code,extendedData:Oe.message})}})},updateMixStream:function(A,t,n,o){this.logger.info("zb.sh.ums call"),this.logger.info("zb.sh.ums send command");var s=this.getStartMixStreamParams(A,t).mixStartReq,d="zegotest-"+this.stateCenter.appid+"-";return this.stateCenter.useNetAgent?this._sendMixStartReqByAccessHub(s,d,n,o):this._sendMixStartReqByAccessSvr(s,d,n,o),!0},_sendMixStopReqByAccessSvr:function(A,t,n){var o=this,s={channel:"zeus",cmd:"stop_mix",req_body:JSON.stringify(A)};this.sendBizChannelRequest(s,function(){t&&t({errorCode:0,extendedData:""})},function(d){if(typeof d=="number")n&&n({errorCode:o.stateCenter.getServerError(Rc+d).code,extendedData:""});else{o.logger.error("zb.sh.sms stop mix fail "+JSON.stringify(d));var g=void 0;g=d==Sn.TIMEOUT?vs.error.kRequestError:vs.error.kInternalError,n&&n({errorCode:g.code,extendedData:g.message})}})},getStopMixStreamParams:function(A,t,n){var o={id_name:this.stateCenter.idName,live_channel:this.roomID,appid:this.stateCenter.appid,version:id},s={request_seq:this.stateCenter.getSeq(),room_id:this.roomID};if(typeof A=="string"&&(o.task_id=A,s.task_id=A),t!=null){var d=void 0;o.stream_id=d=this.stateCenter.testEnvironment?"zegotest-"+this.stateCenter.appid+"-"+t:t,s.is_url=0,s.target=d}else n!=null&&(o.mixurl=n,s.is_url=1,s.target=n);return{req_body:o,mixStopReq:s}}},Tp={type:"MixStream",install:function(A,t){for(var n in ad)Object.defineProperty(A.prototype,n,{value:ad[n],writable:!1});for(var n in Ad)Object.defineProperty(t.prototype,n,{value:Ad[n],writable:!1})}},Qs=function(){function A(){}return A.generateEls=function(t){if(t===void 0&&(t=30),this.elements.length>=t)this.elements.forEach(function(o){o.dom.play().catch(function(s){})});else{var n=Array(t-this.elements.length).fill(0).map(function(o,s){var d=document.createElement("audio");return d.muted=!0,d.setAttribute("autoplay","autoplay"),d.setAttribute("playsInline","playsInline"),d.id="audio"+s,{dom:d,id:s,used:!1}});this.elements=this.elements.concat(n)}},A.useAudioEl=function(){this.elements.length===0&&this.generateEls();var t=this.elements.find(function(n){return!n.used});return t&&(t.used=!0),t},A.stopUsingAudioEl=function(t){var n=this.elements[t];n&&(n.dom.onpause=null,n.dom.onerror=null,n.dom.muted=!0,n.used=!1)},A.elements=[],A}(),Mp=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Lp=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Wo="zc.ra.3",Op=function(){function A(t,n){this.streamID=t,this.logger=n,this.rtcConn=null,this.loopbackConn=null,this.destStream=new MediaStream,this.onError=null}return A.prototype.bindStream=function(t,n){var o,s;return Mp(this,void 0,void 0,function(){var d,g,E,b,S,l,J=this;return Lp(this,function(he){switch(he.label){case 0:return n&&(this.streamID=n),d=["completed","connected"],this.rtcConn&&this.loopbackConn&&d.includes(this.rtcConn.connectionState)?(g=(o=this.rtcConn)===null||o===void 0?void 0:o.getSenders().find(function(_e){var Ce;return((Ce=_e.track)===null||Ce===void 0?void 0:Ce.kind)==="audio"}),t.getTracks().forEach(function(_e){_e.kind==="audio"&&(g==null||g.replaceTrack(_e))}),[3,10]):[3,1];case 1:this.rtcConn=new RTCPeerConnection,this.loopbackConn=new RTCPeerConnection,E={offerVideo:!0,offerAudio:!0,offerToReceiveAudio:!1,offerToReceiveVideo:!1},this.rtcConn.onicecandidateerror=function(_e){J.logger.warn(Wo+" ".concat(J.streamID," loopback in ice error: ").concat(JSON.stringify(_e)))},this.loopbackConn.onicecandidateerror=function(_e){J.logger.warn(Wo+" ".concat(J.streamID," loopback out ice error: ").concat(JSON.stringify(_e)))},this.rtcConn.onicecandidate=function(_e){var Ce,Oe=_e.candidate;Oe&&(J.logger.info(Wo+" ".concat(J.streamID," loopback add out candidate: ").concat(Oe)),(Ce=J.loopbackConn)===null||Ce===void 0||Ce.addIceCandidate(new RTCIceCandidate(Oe)))},this.loopbackConn.onicecandidate=function(_e){var Ce,Oe=_e.candidate;Oe&&(J.logger.info(Wo+" ".concat(J.streamID," loopback add in candidate: ").concat(Oe)),(Ce=J.rtcConn)===null||Ce===void 0||Ce.addIceCandidate(new RTCIceCandidate(Oe)))},window.setTimeout(function(){J.rtcConn&&J.loopbackConn&&(d.includes(J.rtcConn.iceConnectionState)&&d.includes(J.loopbackConn.iceConnectionState)?J.logger.info(Wo+" ".concat(J.streamID," loopback connect ok.")):(J.logger.warn(Wo+" ".concat(J.streamID," loopback connect failed. in state: ").concat(J.rtcConn.iceConnectionState,", out state: ").concat(J.loopbackConn.iceConnectionState)),J.close(),J.onError&&J.onError("time out")))},2e3),this.loopbackConn.ontrack=function(_e){var Ce=_e.track;J.logger.info(Wo+" ".concat(J.streamID," loopback receive track")),J.replaceTrack(Ce)},t.getTracks().find(function(_e){var Ce;if(_e.kind==="audio")return(Ce=J.rtcConn)===null||Ce===void 0||Ce.addTrack(_e,t),!0}),he.label=2;case 2:return he.trys.push([2,9,,10]),[4,this.rtcConn.createOffer(E)];case 3:return b=he.sent(),[4,this.rtcConn.setLocalDescription(b)];case 4:return he.sent(),[4,this.loopbackConn.setRemoteDescription(b)];case 5:return he.sent(),[4,this.loopbackConn.createAnswer()];case 6:return(S=he.sent()).sdp=(s=S.sdp)===null||s===void 0?void 0:s.replace(/useinbandfec=/,"stereo=1;useinbandfec="),[4,this.loopbackConn.setLocalDescription(S)];case 7:return he.sent(),[4,this.rtcConn.setRemoteDescription(S)];case 8:return he.sent(),this.logger.info(Wo+" ".concat(this.streamID," loopback set sdp completed.")),[3,10];case 9:return l=he.sent(),this.logger.error(Wo+" ".concat(this.streamID," loopback connect failed.").concat(l)),this.close(),this.onError&&this.onError("connect failed"),this.onError=null,[3,10];case 10:return[2,this.destStream]}})})},A.prototype.replaceTrack=function(t){var n=this;t.kind==="audio"&&(this.destStream.getTracks().forEach(function(o){n.destStream.removeTrack(o)}),this.destStream.addTrack(t))},A.prototype.close=function(){var t=this,n=this.rtcConn,o=this.loopbackConn;this.destStream.getTracks().forEach(function(s){t.destStream.removeTrack(s)}),n==null||n.close(),o==null||o.close(),this.rtcConn=null,this.loopbackConn=null},A}(),cd=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},ud=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},yi="zc.ra.5";function Zs(){return!!navigator.userAgent.toLowerCase().includes("mobile")}var $u=function(){function A(t,n){this.logger=t,this.userID="base"+new Date().getTime(),this.isHide=!1,this.distance=null,this.maxDistance=1e3,this.position=null,this.speaker="",this.audioEl=null,this.sourceNode=null,this.isPlaying=!1,this.config={needLoopback:!0,useGain:!0,playOnAudioContext:!1,useWebAudio:!0},this.volume=1,this.gainNode=null,this.isSpatial=!1,this.panner=null,this.audioCtx=n.audioCtx,this.isSpatial=n.isSpatial,this.setMaxDistance(typeof n.maxDistance=="number"?n.maxDistance:1e5),this.destNode=this.audioCtx.createMediaStreamDestination(),this.setVolume(n.volume),this.setSpeaker(n.speaker).catch(function(o){}),this.inBackground(n.isHide)}return A.prototype.setPosition=function(t){this.logger.info(yi+" ".concat(this.userID," set position: ")+t),this.position=t,this.panner&&(this.panner.positionX!==void 0?(this.panner.positionX.value=t[1],this.panner.positionY.value=t[2],this.panner.positionZ.value=-t[0]):this.panner.setPosition(t[1],t[2],-t[0]))},A.prototype.getDistanceFromListener=function(t){return this.distance=function(n,o){if(!o||!n)return null;var s=[n[0]-o[0],n[1]-o[1],n[2]-o[2]];return Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2))}(this.position,t.position),this.distance},A.prototype.setMaxDistance=function(t){this.maxDistance=t,this.panner&&(t<10&&(t=10),this.panner.maxDistance=2.6*t)},A.prototype.setVolume=function(t){isNaN(t)||(this.volume=t,this.gainNode&&(this.gainNode.gain.value=this.volume))},A.prototype.setSpeaker=function(t){var n;return cd(this,void 0,void 0,function(){var o,s,d;return ud(this,function(g){switch(g.label){case 0:if(typeof t!="string")return[2];if(this.speaker=t,!(o=(n=this.audioEl)===null||n===void 0?void 0:n.dom))return[3,10];if(!(s=o.setSinkId))return[3,8];g.label=1;case 1:return g.trys.push([1,6,,7]),this.config.playOnAudioContext?[3,3]:[4,s.call(o,t||"")];case 2:return g.sent(),[3,5];case 3:return[4,s.call(o,"")];case 4:g.sent(),g.label=5;case 5:return this.logger.info(yi+" ".concat(this.userID," set speaker success. id: ").concat(t,".")),[3,7];case 6:throw d=g.sent(),this.logger.error(yi+" ".concat(this.userID," set speaker failed. id: ").concat(t,"  error: ").concat(d,".")),d;case 7:return[3,9];case 8:throw"setting speaker not support.";case 9:return[3,11];case 10:this.logger.info(yi+" ".concat(this.userID," no element for set speaker.")),g.label=11;case 11:return[2]}})})},A.prototype.initPanner=function(){if(!this.panner){var t=function(o,s,d){var g=d||[0,0,0],E=o.createPanner(),b=o.createGain();return E.panningModel="HRTF",E.distanceModel="linear",E.refDistance=1,E.maxDistance=2.6*s||1,E.rolloffFactor=1,E.coneOuterGain=.4,E.positionX!==void 0?(E.positionX.value=g[1],E.positionY.value=g[2],E.positionZ.value=-g[0]):E.setPosition(g[1],g[2],-g[0]),{panner:E,gainNode:b}}(this.audioCtx,this.maxDistance,this.position),n=t.gainNode;this.panner=t.panner,this.gainNode=n,n.gain.value=this.volume}},A.prototype.changeRenderConfig=function(t,n,o,s){var d,g,E,b,S;return n===void 0&&(n=!1),o===void 0&&(o=!1),s===void 0&&(s=!0),cd(this,void 0,void 0,function(){var l,J,he,_e,Ce,Oe,$e,ze,Xe,et,gt,_t,Bt,ut=this;return ud(this,function(Ct){switch(Ct.label){case 0:return n||this.isSpatial!==t?(this.isSpatial=t,l=navigator.userAgent.toLowerCase(),J=l.match(/chrome\/(\d*)/),he=J&&l.includes("mobile"),[4,fd()]):[2];case 1:return _e=Ct.sent(),Ce=_e.platform==="Windows"&&_e.majorPlatformVersion>=13,Oe=this.isHide&&(Ce||he),$e=this.audioCtx.state!=="running",s&&(Oe||$e)&&(this.logger.warn("".concat(yi," ").concat(this.userID," stop web audio. system: ").concat(_e.platform," ").concat(_e.majorPlatformVersion)),s=!1),this.config.useWebAudio=s,ze=l.includes("safari")&&!l.includes("chrome"),Xe=l.includes("micromessenger")&&new RegExp(/(iphone|ipad|ipod|ios)/i).test(l),s||this.stream||(o=!0),this.config.playOnAudioContext=o,this.initPanner(),this.isPlaying&&this.sourceNode?(this.lastNode&&this.lastNode.disconnect(),et=this.sourceNode,this.sourceNode.disconnect(),(d=this.panner)===null||d===void 0||d.disconnect(),(g=this.gainNode)===null||g===void 0||g.disconnect(),this.gainNode?(s&&(this.config.useGain&&(et=this.sourceNode.connect(this.gainNode)),this.panner&&t&&(et=et.connect(this.panner))),et.connect(o?this.audioCtx.destination:this.destNode),this.lastNode=et,this.position&&this.setPosition(this.position),this.logger.info(yi+" '".concat(this.userID,"' play ").concat(t?"3d":"normal"," stream on ").concat(o?"audio ctx":"element")),(gt=(E=this.audioEl)===null||E===void 0?void 0:E.dom)?(gt.onpause=function(){ut.logger.warn(yi+" ".concat(ut.streamID," audio paused"))},gt.onerror=function(wt){ut.logger.warn(yi+" ".concat(ut.streamID," audio error, ").concat(wt))},o?(this.stream&&gt.srcObject!==this.stream&&(gt.srcObject=this.stream,gt.muted=!0,gt.oncanplay=function(){gt.play().then(function(){ut.logger.info(yi+" ".concat(ut.userID," ctx autoplay success.")),ut.checkPlayStatus()}).catch(function(wt){ut.logger.warn(yi+" ".concat(ut.userID," ctx autoplay failed."))})}),[3,6]):[3,2]):[3,6]):[3,6]):[3,6];case 2:return _t=this.destNode.stream,(Bt=this.config.needLoopback&&!Xe&&!ze)&&this.loopbackConn&&(this.loopbackConn.close(),this.loopbackConn.onError=null),s||!this.stream?[3,3]:(this.logger.info("".concat(yi," ").concat(this.userID," stop audio api")),this.sourceNode.disconnect(),(b=this.panner)===null||b===void 0||b.disconnect(),(S=this.gainNode)===null||S===void 0||S.disconnect(),_t=this.stream,[3,5]);case 3:return Bt&&_t?(this.loopbackConn=this.loopbackConn||new Op(this.streamID||"",this.logger),this.loopbackConn.onError=function(wt){ut.logger.warn(yi+" ".concat(ut.userID," loopback failed! ").concat(wt)),ut.changeRenderConfig(ut.isSpatial,!0,!0)},[4,this.loopbackConn.bindStream(_t,this.streamID||void 0)]):[3,5];case 4:return _t=Ct.sent(),[3,5];case 5:gt.muted=!0,gt.srcObject=_t,this.setSpeaker(this.speaker).catch(function(wt){}),gt.oncanplay=function(){if(gt){gt.muted=!1;var wt=function(Pt){ut.logger.error(yi+" ".concat(ut.userID," autoplay failed. error: ").concat(Pt)),ut.changeRenderConfig(ut.isSpatial,!0,!0)};gt.play().then(function(){gt!=null&&gt.paused?wt("audio paused"):(ut.logger.info(yi+" ".concat(ut.userID," element autoplay success.")),ut.checkPlayStatus())}).catch(function(Pt){wt(Pt)})}},Ct.label=6;case 6:return[2]}})})},A.prototype.checkPlayStatus=function(){var t=this;setTimeout(function(){var n;if(t.isPlaying){var o=(n=t.audioEl)===null||n===void 0?void 0:n.dom,s=t.audioCtx.state;!o||o.paused||o.muted&&!t.config.playOnAudioContext||s!=="running"?(t.logger.warn("".concat(yi," ").concat(t.userID," play detection is abnormal. audio ctx:").concat(s,", paused:").concat(o==null?void 0:o.paused,", muted:").concat(o==null?void 0:o.muted)),s!=="running"&&(t.audioCtx.resume(),setTimeout(function(){t.logger.warn("".concat(yi," ").concat(t.userID," play resume. audio ctx:").concat(s,", paused:").concat(o==null?void 0:o.paused,", muted:").concat(o==null?void 0:o.muted))},1e3))):t.logger.info("".concat(yi," ").concat(t.userID," play detection is fine"))}},2e3)},A.prototype.inBackground=function(t,n){t===void 0&&(t=!1),this.isHide!==t&&(this.isHide=t,t||this.config.useWebAudio||this.changeRenderConfig(this.isSpatial,!0))},A}(),Pp=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fp=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},xp=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},lo="zc.ra.1",el=function(A){function t(n,o,s){var d=A.call(this,n,s)||this;return d.logger=n,d.audioTrack=null,d.zegoRTC=s.zegoRTC,d.userID=o.userID,d.teamID=o.teamID,d.raMode=o.raMode!==void 0?o.raMode:Yo.World,o.position&&(d.position=o.position),d}return Pp(t,A),Object.defineProperty(t.prototype,"sendMode",{get:function(){return this._sendMode!==void 0?this._sendMode:this.raMode===Yo.World?_o.All:_o.Team},set:function(n){this._sendMode=n},enumerable:!1,configurable:!0}),t.prototype.checkTrackChanged=function(){var n;if(this.stream){var o=this.stream.getAudioTracks()[0];o&&o!==this.audioTrack&&(this.logger.info(lo+" retry play success, render stream."),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.sourceNode=this.audioCtx.createMediaStreamSource(this.stream),this.changeRenderConfig(this.isSpatial,!0),this.audioTrack=o)}},t.prototype.startPlayingAudio=function(n){var o,s;return Fp(this,void 0,void 0,function(){var d,g,E;return xp(this,function(b){switch(b.label){case 0:if(!this.streamID)return[2];b.label=1;case 1:return b.trys.push([1,3,,4]),n&&this.logger.info(lo+" ".concat(this.streamID," ")+n),this.isPlaying=!0,d=this,[4,this.zegoRTC.startPlayingStream(this.streamID)];case 2:return d.stream=b.sent(),this.audioTrack=this.stream.getAudioTracks()[0],[3,4];case 3:if(g=b.sent(),this.isPlaying=!1,g.code===1103049)return[2];throw g;case 4:return this.audioEl=this.audioEl||Qs.useAudioEl()||null,this.logger.info(lo+" ".concat(this.streamID," start using audio el ").concat((o=this.audioEl)===null||o===void 0?void 0:o.id)),(E=(s=this.audioEl)===null||s===void 0?void 0:s.dom)||(this.logger.error(lo+" not enough audio elements"),E=document.createElement("audio"),this.audioEl={id:-1,dom:E,used:!0},E.setAttribute("autoplay","autoplay")),E.muted=!0,this.stream&&(this.sourceNode=this.audioCtx.createMediaStreamSource(this.stream)),this.sourceNode?[4,this.changeRenderConfig(this.isSpatial,!0)]:[3,6];case 5:b.sent(),b.label=6;case 6:return this.audioCtx.state==="suspended"&&this.audioCtx.resume(),[2]}})})},t.prototype.stopPlayingAudio=function(n){this.isPlaying&&this.streamID?(this.logger.info(lo+" ".concat(this.streamID," ")+n),this.zegoRTC.stopPlayingStream(this.streamID),this.isPlaying=!1):this.streamID&&this.logger.info(lo+" ".concat(this.streamID," not playing, ")+n),this.stream=void 0,this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=null);var o=this.audioEl,s=o==null?void 0:o.dom;s&&(s.srcObject=null,s.parentNode&&s.parentNode.removeChild(s));var d=(o==null?void 0:o.id)||-1;o&&d>=0&&(Qs.stopUsingAudioEl(d),this.logger.info(lo+" ".concat(this.streamID," stop using audio el ").concat(d))),this.audioEl=null,this.loopbackConn&&(this.loopbackConn.close(),this.loopbackConn.onError=null)},t.prototype.isSpeakInTeam=function(n){var o=![this.teamID,n].includes(void 0)&&this.teamID!==""&&this.teamID===n,s=[_o.Team,_o.All].includes(this.sendMode);return o&&s},t}($u),Up=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ld=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},gd=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Xs="zc.ra.4",Gp=function(A){function t(n,o,s){var d=A.call(this,n,s)||this;return d.logger=n,d.media=o.media,d.position=o.position||null,d.createSource(),d.userID="custom"+new Date().getTime(),d.config={needLoopback:!1,useGain:!1,playOnAudioContext:!1,useWebAudio:!0},d}return Up(t,A),t.prototype.createSource=function(){var n=this;if(Zs())return this.logger.info("".concat(Zs()," ").concat(this.userID," not create src.")),void(this.changeRenderConfig=function(){return ld(n,void 0,void 0,function(){return gd(this,function(o){return[2]})})});this.media&&(this.logger.info(Xs+" create el source."),this.sourceNode||(this.sourceNode=this.audioCtx.createMediaElementSource(this.media)),this.distance!==null&&this.distance<this.maxDistance&&this.startPlayingAudio("in range"))},t.prototype.startPlayingAudio=function(n){var o,s;return ld(this,void 0,void 0,function(){var d;return gd(this,function(g){switch(g.label){case 0:return this.isPlaying?(this.logger.info(Xs+" ".concat(this.userID," is already playing")),[2]):(n&&this.logger.info(Xs+" vocal ".concat(this.userID," play for ").concat(n)),this.isPlaying=!0,Zs()?(this.media.muted=!1,[2]):(this.audioEl=this.audioEl||Qs.useAudioEl()||null,this.logger.info(Xs+" ".concat(this.userID," start using audio el ").concat((o=this.audioEl)===null||o===void 0?void 0:o.id)),(d=(s=this.audioEl)===null||s===void 0?void 0:s.dom)||(this.logger.error(Xs+" ".concat(this.userID," not enough audio elements")),d=document.createElement("audio"),this.audioEl={id:-1,dom:d,used:!0},d.setAttribute("autoplay","autoplay")),d.muted=!0,d.setAttribute("autoplay","autoplay"),d.setAttribute("id","zg-audio-source-"+this.userID),this.sourceNode?[4,this.changeRenderConfig(this.isSpatial,!0)]:[3,2]));case 1:g.sent(),g.label=2;case 2:return this.audioCtx.state==="suspended"&&this.audioCtx.resume(),[2]}})})},t.prototype.stopPlayingAudio=function(n){if(n===void 0&&(n=""),this.isPlaying&&(this.logger.info(Xs+" vocal ".concat(this.userID," stop for ")+n),this.isPlaying=!1),Zs())this.media.muted=!0;else{this.sourceNode&&this.sourceNode.disconnect();var o=this.audioEl,s=o==null?void 0:o.dom;s&&(s.srcObject=null,s.parentNode&&s.parentNode.removeChild(s));var d=(o==null?void 0:o.id)||-1;o&&d>=0&&(Qs.stopUsingAudioEl(d),this.logger.info(Xs+" ".concat(this.userID," stop using audio el ").concat(d))),this.audioEl=null}},t.prototype.checkIfCanPlay=function(n){var o=this.distance=this.getDistanceFromListener(n);o===null||o>this.maxDistance||this.maxDistance===0?this.stopPlayingAudio("out of range. ".concat(o," > ").concat(this.maxDistance)):this.startPlayingAudio("in range")},t}($u),Hp=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),dd=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},hd=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Mo="zc.ra.4",qp=function(A){function t(n,o,s){var d=A.call(this,n,s)||this;return d.logger=n,d.streamView=o.streamView,d.position=o.position||null,d.createSource(),d.userID="stream"+new Date().getTime(),d.config={needLoopback:!1,useGain:!1,playOnAudioContext:!1,useWebAudio:!0},d.streamView.on("_trackChange",function(g,E){g==="audio"&&(E?d.createSource(!0):d.logger.error("".concat(Mo," ").concat(d.userID," audio track lost")))}),d}return Hp(t,A),t.prototype.createSource=function(n){var o=this;if(n===void 0&&(n=!1),Zs())return this.logger.info("".concat(Mo," ").concat(this.userID," not create src.")),this.changeRenderConfig=function(){return dd(o,void 0,void 0,function(){return hd(this,function(d){return[2]})})},!1;if(!this.streamView)return!1;if(this.logger.info(Mo+" create view source. trackChanged: "+n),!this.sourceNode||n){var s=this.streamView.v.getAudioNodeAndStopRender();if(!s)return this.logger.error(Mo+" create view source failed."),!1;this.sourceNode&&this.sourceNode.disconnect(),this.sourceNode=s,this.changeRenderConfig(this.isSpatial,!0)}return this.distance!==null&&this.distance<this.maxDistance&&this.startPlayingAudio("in range"),!0},t.prototype.startPlayingAudio=function(n){var o,s;return dd(this,void 0,void 0,function(){var d;return hd(this,function(g){switch(g.label){case 0:return this.isPlaying?(this.logger.info(Mo+" ".concat(this.userID," is already playing")),[2]):(n&&this.logger.info(Mo+" vocal ".concat(this.userID," play for ").concat(n)),this.isPlaying=!0,Zs()?(this.streamView.setAudioMuted(!1),[2]):(this.audioEl=this.audioEl||Qs.useAudioEl()||null,this.logger.info(Mo+" ".concat(this.userID," start using audio el ").concat((o=this.audioEl)===null||o===void 0?void 0:o.id)),(d=(s=this.audioEl)===null||s===void 0?void 0:s.dom)||(this.logger.error(Mo+" ".concat(this.userID," not enough audio elements")),d=document.createElement("audio"),this.audioEl={id:-1,dom:d,used:!0},d.setAttribute("autoplay","autoplay")),d.muted=!0,d.setAttribute("autoplay","autoplay"),d.setAttribute("id","zg-audio-source-"+this.userID),this.sourceNode?[4,this.changeRenderConfig(this.isSpatial,!0)]:[3,2]));case 1:g.sent(),g.label=2;case 2:return this.audioCtx.state==="suspended"&&this.audioCtx.resume(),[2]}})})},t.prototype.stopPlayingAudio=function(n){if(n===void 0&&(n=""),this.isPlaying&&(this.logger.info(Mo+" vocal ".concat(this.userID," stop for ")+n),this.isPlaying=!1),Zs())this.streamView.setAudioMuted(!0);else{this.sourceNode&&this.sourceNode.disconnect();var o=this.audioEl,s=o==null?void 0:o.dom;s&&(s.srcObject=null,s.parentNode&&s.parentNode.removeChild(s));var d=(o==null?void 0:o.id)||-1;o&&d>=0&&(Qs.stopUsingAudioEl(d),this.logger.info(Mo+" ".concat(this.userID," stop using audio el ").concat(d))),this.audioEl=null}},t.prototype.checkIfCanPlay=function(n){var o=this.distance=this.getDistanceFromListener(n);o===null||o>this.maxDistance||this.maxDistance===0?this.stopPlayingAudio("out of range. ".concat(o," > ").concat(this.maxDistance)):this.startPlayingAudio("in range")},t}($u),Jp=function(){function A(){this.handlerListMap={}}return A.getInstance=function(){return A.instance||(A.instance=new A),A.instance},A.prototype.addEventHandler=function(t,n){if(this.handlerListMap[t]||(this.handlerListMap[t]=[]),typeof n!="function")throw new Error("Params callBack is not a Function");return this.handlerListMap[t].indexOf(n)==-1&&this.handlerListMap[t].push(n),!0},A.prototype.removeEventHandler=function(t,n){return!!this.handlerListMap[t]&&(this.handlerListMap[t]=n?this.handlerListMap[t].filter(function(o){return o!==n}):[],!0)},A.prototype.emit=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.handlerListMap[t]&&this.handlerListMap[t].forEach(function(s){try{setTimeout(function(){s.apply(void 0,n)},0)}catch(d){console.error('Fail to execute callback of event "'.concat(t,'" : ').concat(d))}})},A.prototype.reset=function(){this.handlerListMap={}},A}(),pd=Jp,Yp=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},zp=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Oa,Kp=function(){function A(t,n){var o=this;this.raMode=Yo.World,this.recvRange=null,this.position=null,this.forwardAxis=[1,0,0],this.upAxis=[0,0,1],this.audioStream=null,this.enableMic=!1,this.isPublishing=!1,this.streamID=null,this.isDenoise=!1,this.voiceChanger=null,this.voiceParam=null,this.isUpdated=!0,this.zegoRTC=n,this.audioCtx=t,this.audioListener=this.audioCtx.listener,this.eventHandler=pd.getInstance(),this.zegoRTC.on("publisherStateUpdate",function(s){var d=s.state,g=s.errorCode,E=s.extendedData,b=s.streamID.match(/(.*)_(.*)/);if((b==null?void 0:b.length)===3){if(o.userID!==b[1])return;d==="NO_PUBLISH"?(o.isPublishing=!1,o.stopPublishingStream()):(o.isPublishing=!0,o.isUpdated||(o.logger.info(lo+" resend stream info"),o.updateSteamExtraInfo())),o.eventHandler.emit("microphoneStateUpdate",{NO_PUBLISH:fA.Off,PUBLISH_REQUESTING:fA.TurningOn,PUBLISHING:fA.On}[d],g,E)}})}return Object.defineProperty(A.prototype,"recvMode",{get:function(){return this._recvMode!==void 0?this._recvMode:[Yo.World,Yo.SecretTeam].includes(this.raMode)?zo.All:zo.Team},set:function(t){this._recvMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"sendMode",{get:function(){return this._sendMode!==void 0?this._sendMode:this.raMode===Yo.World?_o.All:_o.Team},set:function(t){this._sendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"logger",{get:function(){return this.zegoRTC.logger},enumerable:!1,configurable:!0}),A.getInstance=function(t,n){return A.instance||(A.instance=new A(t,n)),A.instance},A.prototype.updateSelfPosition=function(t,n,o){this.position=t,this.forwardAxis=n,Array.isArray(o)&&(this.upAxis=o),this.updateListenerEffect()},A.prototype.updateListenerEffect=function(){this.position&&(this.audioListener.positionX?(this.audioListener.positionX.value=this.position[1],this.audioListener.positionY.value=this.position[2],this.audioListener.positionZ.value=-this.position[0]):this.audioListener.setPosition(this.position[1],this.position[2],-this.position[0]),this.audioListener.forwardX?(this.audioListener.forwardX.value=this.forwardAxis[1],this.audioListener.forwardY.value=this.forwardAxis[2],this.audioListener.forwardZ.value=-this.forwardAxis[0],this.audioListener.upX.value=this.upAxis[1],this.audioListener.upY.value=this.upAxis[2],this.audioListener.upZ.value=-this.upAxis[0]):this.audioListener.setOrientation(this.forwardAxis[1],this.forwardAxis[2],-this.forwardAxis[0],this.upAxis[1],this.upAxis[2],-this.upAxis[0]))},A.prototype.startPublishingStream=function(){var t=this;this.enableMic?this.logger.warn(lo+" mic is already enabled"):(this.enableMic=!0,this.zegoRTC.createStream({camera:{video:!1,audio:!0,audioInput:this.micID||void 0,audioBitrate:30}}).then(function(n){return Yp(t,void 0,void 0,function(){return zp(this,function(o){if(!this.userID)throw this.zegoRTC.destroyStream(n),this.enableMic=!1,Error("Enable mic failed. Please log in room first.");return this.audioStream&&this.audioStream!==n&&this.zegoRTC.destroyStream(this.audioStream),this.audioStream=n,this.isDenoise&&this.enableDenoise(this.isDenoise),this.voiceChanger!==null&&this.setVoiceChangerPreset({voiceChanger:this.voiceChanger}),this.voiceParam!==null&&this.setVoiceChangerPreset({voiceParam:this.voiceParam}),this.streamID=this.userID+"_"+Date.now(),this.zegoRTC.startPublishingStream(this.streamID,n,{extraInfo:JSON.stringify(this.getExtraInfo())}),[2]})})}).catch(function(n){throw t.audioStream=null,t.enableMic=!1,n}))},A.prototype.stopPublishingStream=function(){this.isPublishing&&this.streamID&&this.zegoRTC.stopPublishingStream(this.streamID),this.isPublishing=!1,this.audioStream&&(this.zegoRTC.destroyStream(this.audioStream),this.audioStream=null),this.enableMic=!1},A.prototype.setCustomMode=function(t,n){var o=!1,s=!1,d=!1;return n!==this.recvMode&&(this.recvMode=n,d=!0),t!==this.sendMode&&(this.sendMode=t,o=!0,s=!0),o&&this.updateSteamExtraInfo(),{sendChange:s,recvChange:d}},A.prototype.setNormalMode=function(t){this.raMode=t,this.updateSteamExtraInfo()},A.prototype.setTeamID=function(t){this.teamID=t,this.updateSteamExtraInfo()},A.prototype.updateSteamExtraInfo=function(){var t=this;this.streamID&&this.isPublishing&&(this.isUpdated=!1,this.logger.info(lo+" update stream info"),this.zegoRTC.setStreamExtraInfo(this.streamID,JSON.stringify(this.getExtraInfo())).then(function(n){n.errorCode===0&&(t.logger.info(lo+" update stream info success"),t.isUpdated=!0)}))},A.prototype.getExtraInfo=function(){var t,n={range_audio_team_id:this.teamID||"",range_audio_mode:(t=this.raMode,{0:1,1:2,2:3}[t]),r_a_s_flag:1};return this._sendMode===void 0&&this.raMode!==Yo.World||(n.r_a_speak=this.sendMode),n},A.prototype.reset=function(){this.audioStream&&this.stopPublishingStream(),this.userID=void 0,this.streamID=null},A.prototype.enableDenoise=function(t){var n=this;return this.audioStream&&this.zegoRTC.enableAiDenoise(this.audioStream,t).catch(function(o){n.isDenoise=!1;var s=o||{};n.eventHandler.emit("aiDenoiseError",s.errorCode,s.extendedData)}),this.isDenoise=t,!0},A.prototype.setVoiceChangerPreset=function(t){var n=this;return this.audioStream&&this.zegoRTC.setVoiceChangerPreset(this.audioStream,t).catch(function(o){n.voiceChanger=null;var s=o||{};n.eventHandler.emit("voiceChangerError",s.errorCode,s.extendedData)}),"voiceChanger"in t&&t.voiceChanger!==void 0?(this.voiceChanger=t.voiceChanger,this.voiceParam=null):"voiceParam"in t&&t.voiceParam!==void 0&&(this.voiceParam=t.voiceParam,this.voiceChanger=null),!0},A}(),jp=function(A,t,n){if(n||arguments.length===2)for(var o,s=0,d=t.length;s<d;s++)!o&&s in t||(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return A.concat(o||Array.prototype.slice.call(t))},NA="zc.ra.2",Vp=function(){function A(t,n){this.logger=t,this.isEnable=!1,this.interval=100,this.timer=null,this.audioSourceList=[],this.hasChanged=!1,this.userChanged=!1,this.updateUserInterval=1e3,this.updateUserTimer=null,this.audioSourceUpdate=!1,this.maxPlayingQuantity=20,this.allAudioSourceList=[],this.audioSourceWithinRangeList=[],this.localUserList=[],this.rangeListener=n}return A.getInstance=function(t,n){return A.instance||(A.instance=new A(t,n)),A.instance},A.prototype.setAudioSourceUpdate=function(t){this.audioSourceUpdate=t},A.prototype.setListener=function(t){this.rangeListener=t,this.hasChanged=!0,this.userChanged=!0},A.prototype.setAudioSourceList=function(t){this.audioSourceList=t,this.logger.info("".concat(NA," set src list: [").concat(t.map(function(n){return n.userID}).join(","),"]")),this.hasChanged=!0},A.prototype.setAllAudioSourceList=function(t){t&&(this.allAudioSourceList=t),this.userChanged=!0},A.prototype.startPlayingAudioStream=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.hasChanged=!0,this.playAudioTask()},A.prototype.playAudioTask=function(){var t=this;this.hasChanged&&(this.hasChanged=!1,this.handlePlayAudioTask()),this.timer=window.setTimeout(function(){t.playAudioTask()},this.interval)},A.prototype.handlePlayAudioTask=function(){var t=this;if(this.isEnable){this.logger.info("".concat(NA," handler task start"));var n=jp([],this.audioSourceList,!0),o=0,s=this.rangeListener.recvMode;if([zo.Team,zo.All].includes(s)){var d=this.getTeamAudioSourceGroup();n=d.otherList,d.teamList.forEach(function(E){o<t.maxPlayingQuantity&&(E.isPlaying||E.startPlayingAudio("play for team"),o++)})}var g=[zo.World,zo.All].includes(s);g&&(n.forEach(function(E){E.distance=E.getDistanceFromListener(t.rangeListener)}),n.sort(function(E,b){return E.distance===null?1:b.distance===null||E.distance<b.distance?-1:E.distance>b.distance?1:0})),n.forEach(function(E){var b=[_o.All,_o.World].includes(E.sendMode)&&E.distance!==null&&(t.rangeListener.recvRange===null||E.distance<=t.rangeListener.recvRange);if(g&&o<t.maxPlayingQuantity&&b)E.isPlaying||E.startPlayingAudio("play for range"),o++;else{var S="stop for mode or range. mode: ".concat(E.sendMode,", range: ").concat(E.distance," > ").concat(t.rangeListener.recvRange);E.stopPlayingAudio(S)}}),this.logger.info(NA+" playing quantity: ".concat(o,"."))}else this.stopPlayingAudioStream()},A.prototype.startCheckUserInRange=function(){this.logger.info(NA+" start user check"),this.updateUserTimer&&(clearTimeout(this.updateUserTimer),this.updateUserTimer=null),this.userChanged=!0,this.userCheckTask()},A.prototype.stopCheckUserInRange=function(){this.logger.info(NA+" stop user check"),this.updateUserTimer&&(clearTimeout(this.updateUserTimer),this.updateUserTimer=null)},A.prototype.userCheckTask=function(){var t=this;this.userChanged&&(this.userChanged=!1,this.handleUserCheckTask()),this.updateUserTimer=window.setTimeout(function(){t.userCheckTask()},this.updateUserInterval)},A.prototype.handleUserCheckTask=function(){var t=this;if(this.audioSourceUpdate){var n=[];this.allAudioSourceList.forEach(function(o){o.distance=o.getDistanceFromListener(t.rangeListener);var s=o.distance!==null&&(t.rangeListener.recvRange===null||o.distance<=t.rangeListener.recvRange),d=!!t.localUserList.find(function(g){return g.userID===o.userID});s&&d&&n.push({userID:o.userID,position:o.position})}),this.checkAudioSourceListDiff(n,this.audioSourceWithinRangeList)&&this.rangeListener.eventHandler.emit("audioSourceWithinRangeUpdate",n),this.audioSourceWithinRangeList=n}},A.prototype.getTeamAudioSourceGroup=function(){var t=this,n=[],o=[];return this.audioSourceList.forEach(function(s){s.isSpeakInTeam(t.rangeListener.teamID)?n.push(s):o.push(s)}),{teamList:n,otherList:o}},A.prototype.stopPlayingAudioStream=function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.audioSourceList.forEach(function(t){t.stopPlayingAudio("stop for all stream")})},A.prototype.setLocalUserList=function(t){this.localUserList=t,this.userChanged=!0},A.prototype.checkAudioSourceListDiff=function(t,n){for(var o,s=0;s<t.length;s++){o=!1;for(var d=0;d<n.length;d++)if(t[s].userID===n[d].userID){o=!0;break}if(!o)return!0}for(var g=0;g<n.length;g++){o=!1;for(var E=0;E<t.length;E++)if(n[g].userID===t[E].userID){o=!0;break}if(!o)return!0}return!1},A}();function tl(A){return!isNaN(Number(A))&&A!==""&&Number.MAX_SAFE_INTEGER>=Number(A)&&Number(A)>=-Number.MAX_SAFE_INTEGER}function Pa(A){if(Array.isArray(A)){for(var t=0;t<3;t++)if(!tl(A[t]))return!1;return!0}return!1}(function(A){A[A.Normal=0]="Normal",A[A.Custom=1]="Custom"})(Oa||(Oa={}));var $s=function(){return $s=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},$s.apply(this,arguments)},TA=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},MA=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Nc=function(A,t,n){if(n||arguments.length===2)for(var o,s=0,d=t.length;s<d;s++)!o&&s in t||(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return A.concat(o||Array.prototype.slice.call(t))};function fd(){var A;return TA(this,void 0,void 0,function(){var t,n,o;return MA(this,function(s){switch(s.label){case 0:return(t=navigator==null?void 0:navigator.userAgentData)?[4,t.getHighEntropyValues(["platformVersion"]).catch(function(){})]:[2,{platform:"",majorPlatformVersion:0}];case 1:return n=s.sent()||{},o=parseInt((A=n.platformVersion)===null||A===void 0?void 0:A.split(".")[0]),[2,{platform:n.platform,majorPlatformVersion:o}]}})})}var Rn="zc.ra.0",Wp=function(){function A(t,n){var o=this;this.logger=n,this.isSpatial=!1,this.audioSourceList=[],this.audioSourceUpdate=!1,this.localUserList=[],this.speakingUserIdList=[],this.vocalSourceMap=new Map,this.volume=1,this.speaker="",this._audioCtx=null,this.supportSpeakerSet=!1,this.isHide=!1,this.eventHandler={visibilitychange:function(){return TA(o,void 0,void 0,function(){var d,g,E,b,S,l,J,he=this;return MA(this,function(_e){switch(_e.label){case 0:return Nc(Nc([],this.vocalSourceList,!0),this.audioSourceList,!0).forEach(function(Ce){Ce.inBackground(document.hidden),he.isHide=document.hidden}),d=function(){Nc(Nc([],he.vocalSourceList,!0),he.audioSourceList,!0).forEach(function(Ce){Ce.changeRenderConfig(he.isOpen3D(Ce),!0,!1,!1)})},document.hidden?(g=navigator.userAgent.toLowerCase(),E=g.match(/chrome\/(\d*)/),b=E&&g.includes("mobile"),[4,fd()]):[3,2];case 1:return S=_e.sent(),l=S.platform==="Windows"&&S.majorPlatformVersion>=13,b||l?(this.logger.warn("".concat(Rn," mobile chrome hide page and stop web audio.")),d(),[2]):((J=this.audioCtx.state)!=="running"?(this.logger.info("".concat(Rn," hidden ctx: ").concat(J,", resume ctx")),this.audioCtx.resume(),setTimeout(function(){var Ce=he.audioCtx.state;he.isHide&&(Ce==="running"?he.logger.info("".concat(Rn," hidden ctx: ").concat(Ce,".")):(he.logger.warn("".concat(Rn," hidden ctx: ").concat(Ce,", ctx resume failed. stop web audio.")),d()))},2e3)):this.logger.info("".concat(Rn," hidden ctx: ").concat(J,".")),[3,3]);case 2:this.audioCtx.resume(),this.audioSourceList.forEach(function(Ce){var Oe,$e;Ce.isPlaying&&((Oe=Ce.audioEl)===null||Oe===void 0||Oe.dom.pause(),($e=Ce.audioEl)===null||$e===void 0||$e.dom.play().catch(function(){he.logger.warn("".concat(Rn," show page and  ").concat(Ce.userID," replay failed."))}))}),_e.label=3;case 3:return[2]}})})}},this.zegoRTC=t,document.addEventListener("visibilitychange",this.eventHandler.visibilitychange,!1),this.zegoRTC.on("roomStreamUpdate",function(d,g,E){var b=E.map(function(l){var J=o.getStreamInfo(l.extraInfo,l.streamID),he=J.isRangeAudioStream,_e=J.teamID,Ce=J.raMode,Oe=J.sendMode;return $s($s({},l),{isRangeAudioStream:he,teamID:_e,raMode:Ce,sendMode:Oe})}).filter(function(l){return l.isRangeAudioStream}),S=b.map(function(l){return l.user.userID});g==="DELETE"?o.speakingUserIdList=o.speakingUserIdList.filter(function(l){var J=!S.includes(l);if(!J){var he=o.audioSourceMap[l];he&&he.stopPlayingAudio("stop for stream delete")}return J}):g==="ADD"&&(o.speakingUserIdList=o.speakingUserIdList.concat(S),b.forEach(function(l){var J=l.user.userID,he=o.audioSourceMap[J],_e=l.teamID,Ce=l.raMode,Oe=l.sendMode;if(he)he.streamID!==l.streamID&&(he.stopPlayingAudio("stop for old stream"),he.streamID=l.streamID),Ce!==void 0&&(he.raMode=Ce),_e!==he.teamID&&(he.teamID=_e),he.changeRenderConfig(o.isOpen3D(he));else{var $e=new el(o.logger,{userID:J,teamID:_e,raMode:Ce,sendMode:Oe},{audioCtx:o.audioCtx,zegoRTC:o.zegoRTC,isSpatial:o.isSpatial,maxDistance:o.rangeListener.recvRange,volume:o.volume,speaker:o.speaker,isHide:o.isHide});$e.streamID=l.streamID,o.audioSourceList.push($e),o.playStreamHandler.hasChanged=!0}})),o.playStreamHandler.setAudioSourceList(o.speakingAudioSourceList)}),this.zegoRTC.on("playerStateUpdate",function(d){var g=o.audioSourceList.find(function(E){return E.streamID===d.streamID});g&&(d.state==="NO_PLAY"?g.isPlaying=!1:(d.state==="PLAYING"&&g.checkTrackChanged(),g.isPlaying=!0))}),this.zegoRTC.on("streamExtraInfoUpdate",function(d,g){o.logger.info(Rn+" recv extra info: "+JSON.stringify(g));var E=!1;g.forEach(function(b){var S=o.audioSourceMap[b.user.userID];if(S&&S.streamID){var l=o.getStreamInfo(b.extraInfo,b.streamID),J=l.teamID,he=l.raMode,_e=l.sendMode;J!==S.teamID&&(S.teamID=J,E=!0),he!==void 0&&(S.raMode=he,E=!0),S.sendMode!==_e&&(S.sendMode=_e,E=!0),o.playStreamHandler.hasChanged=!0}}),E&&o.enableSpatializer(o.isSpatial)}),this.zegoRTC.RTM._on("_roomStateUpdate",function(d,g){g==="CONNECTED"?(o.roomID=d,o.rangeListener.userID=o.zegoRTC.RTM.getUserID(),o.playStreamHandler.hasChanged=!0,o.playStreamHandler.userChanged=!0):g==="DISCONNECTED"&&(o.roomID=void 0,o.rangeListener.reset(),o.enableSpeaker(!1),o.audioSourceList=[],o.playStreamHandler.setAudioSourceList([]),o.localUserList=[],o.playStreamHandler.setLocalUserList([]))}),this.zegoRTC.RTM.on("roomUserUpdate",function(d,g,E){var b;o.logger.info(Rn+" roomUserUpdate: ",d,g,JSON.stringify(E)),g==="ADD"?(b=o.localUserList).push.apply(b,E):g==="DELETE"&&E.forEach(function(S){o.localUserList=o.localUserList.filter(function(l){return l.userID!==S.userID})}),o.playStreamHandler.setLocalUserList(o.localUserList)}),this.zegoRTC.on("publishQualityUpdate",function(d,g){var E=d.match(/(.*)_(.*)/);if((E==null?void 0:E.length)===3){var b=E[1];if(o.rangeListener.userID!==b)return;var S=$s({},g.audio);o.eventManager.emit("publishQualityUpdate",b,S)}}),this.zegoRTC.on("playQualityUpdate",function(d,g){var E,b=d.match(/(.*)_(.*)/);if((b==null?void 0:b.length)===3){var S=b[1],l=g.audio,J=g.peerToPeerDelay,he=g.peerToPeerPacketLostRate;if(!(!((E=o.audioSourceList)===null||E===void 0)&&E.some(function(Ce){return Ce.userID===S})))return;var _e=$s($s({},l),{peerToPeerDelay:J,peerToPeerPacketLostRate:he});o.eventManager.emit("playQualityUpdate",S,_e)}});var s=window.AudioContext||window.webkitAudioContext;this._audioCtx=this.zegoRTC&&this.zegoRTC.ac||new s,this.rangeListener=Kp.getInstance(this.audioCtx,this.zegoRTC),this.playStreamHandler=Vp.getInstance(this.logger,this.rangeListener),this.eventManager=pd.getInstance()}return Object.defineProperty(A.prototype,"audioSourceMap",{get:function(){return this.audioSourceList.reduce(function(t,n){return n.userID&&(t[n.userID]=n),t},{})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"speakingAudioSourceList",{get:function(){var t=this;return this.audioSourceList.filter(function(n){return t.speakingUserIdList.includes(n.userID)})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"vocalSourceList",{get:function(){for(var t=[],n=this.vocalSourceMap.values(),o=0;o<this.vocalSourceMap.size;o++)t.push(n.next().value);return t},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"playingAudioSourceList",{get:function(){return this.audioSourceList.filter(function(t){return t.isPlaying})},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"audioCtx",{get:function(){if(!this._audioCtx){var t=window.AudioContext||window.webkitAudioContext;this._audioCtx=new t}return this._audioCtx},enumerable:!1,configurable:!0}),A.getInstance=function(t,n){return A.instance||(A.instance=new A(t,n)),A.instance},A.prototype.resumeAudioContext=function(){return TA(this,void 0,void 0,function(){var t=this;return MA(this,function(n){return[2,new Promise(function(o){Qs.generateEls(),t.audioCtx.state==="running"&&o(!0),t.audioCtx.onstatechange=function(){t.audioCtx.state==="running"&&o(!0)},t.audioCtx.resume(),t.logger.info(Rn+" resume audio ctx"),setTimeout(function(){o(!1)},3e3)})]})})},A.prototype.getAudioContextState=function(){return this.audioCtx.state},A.prototype.getStreamInfo=function(t,n){var o=void 0,s=null;try{s=JSON.parse(t)}catch{return this.logger.warn(Rn+" parse room extra info failed. ".concat(n," is not ra stream.")),{isRangeAudioStream:!1}}if(!s.hasOwnProperty("range_audio_team_id")||!s.hasOwnProperty("range_audio_mode"))return this.logger.warn(Rn+" extra info has no mode. ".concat(n," is not ra stream.")),{isRangeAudioStream:!1};o={1:0,2:1,3:2}[s.range_audio_mode];var d=s.r_a_s_flag,g={teamID:s.range_audio_team_id||void 0,raMode:o,isRangeAudioStream:d===void 0||d===1};return s.hasOwnProperty("r_a_speak")&&(g.sendMode=s.r_a_speak),this.logger.info("".concat(Rn," ").concat(n," parse extra info: ").concat(JSON.stringify(g),".")),g},A.prototype.setAudioReceiveRange=function(t){if(!tl(t))throw Error("Failed to execute 'setAudioReceiveRange': Argument 'range' requires to be type number.");if(t=Number(t),(t=Number(t))<0)throw Error("Failed to execute 'setAudioReceiveRange': Argument 'range' can not be less than 0.");this.logger.info(Rn+" set receive range: "+t),this.rangeListener.recvRange=t,this.audioSourceList.forEach(function(n){n.setMaxDistance(t)}),this.playStreamHandler.hasChanged=!0,this.playStreamHandler.userChanged=!0},A.prototype.updateSelfPosition=function(t,n,o,s){var d=this,g=function(E){return"Failed to execute 'updateSelfPosition': Argument '".concat(E,`' requires an array of type number."`)};if(!Pa(t))throw new Error(g("position"));if(!Pa(n))throw new Error(g("axisForward"));if(!Pa(o))throw new Error(g("axisRight"));if(!Pa(s))throw new Error(g("axisUp"));this.logger.info(Rn+" set self position [".concat(t,"]")),this.rangeListener&&(this.rangeListener.updateSelfPosition(t,n,s),this.vocalSourceMap.forEach(function(E){E.checkIfCanPlay(d.rangeListener)})),this.playStreamHandler.setListener(this.rangeListener)},A.prototype.updateAudioSource=function(t,n){if(t=String(t),!Pa(n))throw new Error("Failed to execute 'updateAudioSource': parameter 'position' must be an array of type number.");var o=this.audioSourceMap[t];o?o.setPosition(n):(o=new el(this.logger,{userID:t,position:n},{audioCtx:this.audioCtx,zegoRTC:this.zegoRTC,isSpatial:this.isSpatial,maxDistance:this.rangeListener.recvRange,volume:this.volume,speaker:this.speaker,isHide:this.isHide}),this.enableSpatializer(this.isSpatial),this.audioSourceList.push(o)),this.playStreamHandler.setAudioSourceList(this.speakingAudioSourceList),this.playStreamHandler.setAllAudioSourceList(this.audioSourceList)},A.prototype.enableMicrophone=function(t){if(t===void 0&&(t=!0),!this.rangeListener.userID)throw new Error("Enable mic failed. Please log in room first.");return t?this.rangeListener.startPublishingStream():this.rangeListener.stopPublishingStream()},A.prototype.selectMic=function(t){return TA(this,void 0,void 0,function(){var n,o,s,d;return MA(this,function(g){switch(g.label){case 0:if(typeof t!="string"&&t!==void 0)throw new Error("Select mic failed. DeviceID error.");if(o=(n=this.rangeListener).audioStream,s=n.isPublishing,this.logger.info(Rn+" select mic: "+t),!o||!s)return[3,5];d={errorCode:0},g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.zegoRTC.useAudioDevice(o,t||"")];case 2:return d=g.sent(),[3,4];case 3:return g.sent(),[2,!1];case 4:return d.errorCode===0?(this.rangeListener.micID=t,[2,!0]):[2,!1];case 5:return this.rangeListener.micID=t,[2,!0];case 6:return[2]}})})},A.prototype.enableSpeaker=function(t){if(t===void 0&&(t=!0),t&&!this.roomID)throw new Error("Enable speaker failed. Please log in room first.");this.playStreamHandler.isEnable=t,this.logger.info(Rn+" enable speaker: "+t),t?(Qs.generateEls(),this.playStreamHandler.startPlayingAudioStream()):this.playStreamHandler.stopPlayingAudioStream()},A.prototype.enableSpatializer=function(t){var n=this;t===void 0&&(t=!0),this.logger.info(Rn+" set spatializer: "+t),this.isSpatial=!!t,this.audioSourceList.forEach(function(o){o.changeRenderConfig(n.isOpen3D(o))}),this.vocalSourceList.forEach(function(o){o.changeRenderConfig(t)}),t&&this.rangeListener.updateListenerEffect()},A.prototype.enableAiDenoise=function(t){if(this.logger.info(Rn+" set ai denoise: "+t),typeof t!="boolean")return!1;var n=fa();return(n||window.AudioWorklet)&&window.WebAssembly&&(window.AudioContext||(window==null?void 0:window.webkitAudioContext)).prototype.createScriptProcessor?this.rangeListener.enableDenoise(!!t):(this.logger.error(Rn+"".concat(n&&" mobile"," browser dose not support ai denoise.")),!1)},A.prototype.setVoiceChangerPreset=function(t){this.logger.info(Rn+" set voice changer preset: "+JSON.stringify(t));var n=fa();return(n||window.AudioWorklet)&&window.WebAssembly&&(window.AudioContext||(window==null?void 0:window.webkitAudioContext)).prototype.createScriptProcessor?this.rangeListener.setVoiceChangerPreset(t):(this.logger.error(Rn+"".concat(n&&" mobile"," browser dose not support voice changer.")),!1)},A.prototype.setRangeAudioTeamID=function(t){this.logger.info(Rn+" set team id: "+t),this.rangeListener.setTeamID(t),this.enableSpatializer(this.isSpatial),this.playStreamHandler.hasChanged=!0},A.prototype.setRangeAudioMode=function(t){if(this.modeType===Oa.Custom)throw new Error("Failed to execute 'setRangeAudioMode': already use 'setRangeAudioCustomMode'.");this.modeType=Oa.Normal,this.logger.info(Rn+" set mode "+t),this.rangeListener.setNormalMode(t),this.playStreamHandler.hasChanged=!0},A.prototype.setCustomMode=function(t,n){if(this.modeType===Oa.Normal)throw new Error("Failed to execute 'setRangeAudioCustomMode': already use 'setRangeAudioMode'.");this.modeType=Oa.Custom,this.logger.info(Rn+" set custom mode: ".concat(t,", ").concat(n));var o=this.rangeListener.setCustomMode(t,n).recvChange;this.playStreamHandler.hasChanged=!0,o&&this.enableSpatializer(this.isSpatial)},A.prototype.setAudioVolume=function(t){var n=this;if(this.logger.info(Rn+" set volume ".concat(t)),t<0)throw new Error("Failed to execute 'setVolume': The volume provided is outside the range [0, 200].");this.volume=t/100,this.audioSourceList.forEach(function(o){o.setVolume(n.volume)})},A.prototype.selectSpeaker=function(t){var n=this;if(t===void 0&&(t=""),typeof t!="string")throw new Error("Select speaker failed. Device ID error.");if(!this.supportSpeakerSet){if(!document.createElement("audio").setSinkId)throw new Error("Failed to execute 'selectSpeaker': browser not support.");this.supportSpeakerSet=!0}this.speaker=t,this.logger.info(Rn+" set speaker: "+t),t===""&&this.logger.warn(Rn+" set speaker to be default. "),this.audioSourceList.find(function(o){return TA(n,void 0,void 0,function(){var s;return MA(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,o.setSpeaker(t)];case 1:return d.sent(),[3,3];case 2:return s=d.sent(),this.logger.warn(Rn+" set speaker failed. id: ".concat(t,", error: ").concat(s)),[2,!0];case 3:return[2,!1]}})})})},A.prototype.setPositionUpdateFrequency=function(t){if(!(t>=15))throw new Error("Failed to execute 'setPositionUpdateFrequency': The frequency provided is outside the range [15, +].");this.playStreamHandler.interval=Number(t)||100,this.logger.info(Rn+" set interval: "+t)},A.prototype.on=function(t,n){return this.eventManager.addEventHandler(t,n)},A.prototype.off=function(t,n){return this.eventManager.removeEventHandler(t,n)},A.prototype.enableAudioSourceUpdateChecker=function(t,n){if(this.logger.info(Rn+" set source update: "+t),this.audioSourceUpdate=t,this.playStreamHandler.setAudioSourceUpdate(t),n&&typeof n.frequency=="number"){if((n==null?void 0:n.frequency)<50)throw new Error("Failed to execute 'enableAudioSourceUpdateChecker': The frequency provided is outside the range [50, +].");this.playStreamHandler.updateUserInterval=Number(n.frequency)||1e3,this.logger.info(Rn+" set interval: "+n.frequency)}t?this.playStreamHandler.startCheckUserInRange():this.playStreamHandler.stopCheckUserInRange()},A.prototype.getVocalSource=function(t,n){var o=this.vocalSourceMap.get(t);if(!o){var s={audioCtx:this.audioCtx,isSpatial:this.isSpatial,maxDistance:n||0,volume:this.volume,speaker:this.speaker,isHide:this.isHide};o=t instanceof HTMLMediaElement?new Gp(this.logger,{media:t},s):new qp(this.logger,{streamView:t},s)}return this.vocalSourceMap.set(t,o),o},A.prototype.setStreamVocalRange=function(t,n){var o=t instanceof HTMLMediaElement;if(!o&&!(t!=null&&t.v))throw new Error("Failed to execute 'setVocalRange': type of parameter 1 error.");if(!tl(n))throw Error("Failed to execute 'setVocalRange': parameter 2 requires to be type number.");n=Number(n),this.logger.info(Rn+" ".concat(o?"custom":"stream"," set range: ")+n);var s=this.getVocalSource(t,n);s.setMaxDistance(n),s.checkIfCanPlay(this.rangeListener)},A.prototype.updateStreamPosition=function(t,n){if(!(t instanceof HTMLMediaElement)&&!(t!=null&&t.v))throw new Error("Failed to execute 'updatePosition': type of parameter 1 error.");if(!Pa(n))throw new Error("Failed to execute 'updatePosition': parameter 'position' must be an array of type number.");var o=this.getVocalSource(t);o.setPosition(n),o.checkIfCanPlay(this.rangeListener)},A.prototype.isOpen3D=function(t){return t instanceof el?(this.rangeListener.recvMode===zo.World||!t.isSpeakInTeam(this.rangeListener.teamID))&&this.isSpatial:this.isSpatial},A}(),Zp=Wp,Xp=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},$p=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},ef=function(){function A(t,n){this.zegoAudioListener=Zp.getInstance(t,n)}return A.getInstance=function(t,n){if(!A.instance){if(!t)throw Error("create instance failed.");A.instance=new A(t,n)}return A.instance},A.prototype.enableAiDenoise=function(t){return this.zegoAudioListener.enableAiDenoise(t)},A.prototype.enableAudioSourceUpdateChecker=function(t,n){this.zegoAudioListener.enableAudioSourceUpdateChecker(t,n)},A.prototype.on=function(t,n){return this.zegoAudioListener.on(t,n)},A.prototype.off=function(t,n){return this.zegoAudioListener.off(t,n)},A.prototype.setAudioReceiveRange=function(t){this.zegoAudioListener.setAudioReceiveRange(t)},A.prototype.updateSelfPosition=function(t,n,o,s){this.zegoAudioListener.updateSelfPosition(t,n,o,s)},A.prototype.updateAudioSource=function(t,n){this.zegoAudioListener.updateAudioSource(t,n)},A.prototype.enableSpatializer=function(t){return this.zegoAudioListener.enableSpatializer(t)},A.prototype.enableMicrophone=function(t){return this.zegoAudioListener.enableMicrophone(t)},A.prototype.selectMicrophone=function(t){return Xp(this,void 0,void 0,function(){return $p(this,function(n){switch(n.label){case 0:return[4,this.zegoAudioListener.selectMic(t)];case 1:return[2,n.sent()]}})})},A.prototype.selectSpeaker=function(t){return this.zegoAudioListener.selectSpeaker(t)},A.prototype.enableSpeaker=function(t){return this.zegoAudioListener.enableSpeaker(t)},A.prototype.setRangeAudioCustomMode=function(t,n){this.zegoAudioListener.setCustomMode(t,n)},A.prototype.setRangeAudioMode=function(t){this.zegoAudioListener.setRangeAudioMode(t)},A.prototype.setTeamID=function(t){this.zegoAudioListener.setRangeAudioTeamID(t)},A.prototype.setPositionUpdateFrequency=function(t){return this.zegoAudioListener.setPositionUpdateFrequency(t)},A.prototype.setRangeAudioVolume=function(t){return this.zegoAudioListener.setAudioVolume(t)},A.prototype.setVoiceChangerPreset=function(t){return this.zegoAudioListener.setVoiceChangerPreset({voiceChanger:t})},A.prototype.setVoiceChangerParam=function(t){return this.zegoAudioListener.setVoiceChangerPreset({voiceParam:t})},A.prototype.isAudioContextRunning=function(){return this.zegoAudioListener.getAudioContextState()==="running"},A.prototype.resumeAudioContext=function(){return this.zegoAudioListener.resumeAudioContext()},A.prototype.setStreamVocalRange=function(t,n){this.zegoAudioListener.setStreamVocalRange(t,n)},A.prototype.updateStreamPosition=function(t,n){this.zegoAudioListener.updateStreamPosition(t,n)},A.prototype.setCustomSourceVocalRange=function(t,n){this.zegoAudioListener.setStreamVocalRange(t,n)},A.prototype.updateCustomSourcePosition=function(t,n){this.zegoAudioListener.updateStreamPosition(t,n)},A}(),tf={type:"RangeAudio",install:function(A){Object.defineProperty(A.prototype,"createRangeAudioInstance",{value:function(){return this.rangeAudio||(this.rangeAudio=ef.getInstance(this,this.logger)),this.rangeAudio},writable:!1})}},Cd=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},Id=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},rf=function(){function A(t,n){this.zegoWebRTC=t,this.roomID=n,this.pubDataChannelList=[],this.subDataChannelList=[],this.listenerList={receiveRealTimeSequentialData:[]},this.logger=t.logger}return A.prototype.startBroadcasting=function(t,n){return Cd(this,void 0,void 0,function(){var o,s,d,g;return Id(this,function(E){switch(E.label){case 0:return this.logger.info("dc.sb.0 call"),this.pubDataChannelList.includes(t)?(this.logger.error("dc.sb.0 datachannel already exist"),[2,!1]):(o=this.zegoWebRTC.streamCenter.publisherList[t])&&o.publisher.dataChannel?(this.pubDataChannelList.push(t),[2,!0]):o&&!o.publisher.dataChannel?(this.logger.error("dc.sb.0 publish datachannel no exist, try other stream ID"),[2,!1]):this.broadcastStream?[3,2]:(s=document.createElement("canvas"),d=this,[4,this.zegoWebRTC.createStream({custom:{source:s}})]);case 1:d.broadcastStream=E.sent(),E.label=2;case 2:return(g=this.zegoWebRTC.startPublishingStream(t,this.broadcastStream,{roomID:this.roomID},!0))&&this.pubDataChannelList.push(t),this.logger.info("dc.sb.0 end"),[2,g]}})})},A.prototype.stopBroadcasting=function(t){this.logger.info("dc.sb.1 call"),this.pubDataChannelList=this.pubDataChannelList.filter(function(o){return o!==t});var n=this.zegoWebRTC.streamCenter.publisherList[t];return n?(n.room.roomID==this.roomID&&n.isDataChannel&&this.zegoWebRTC.stopPublishingStream(t),this.logger.info("dc.sb.1 end"),!0):(this.logger.error("dc.sb.1 datachannel no found"),!1)},A.prototype.sendRealTimeSequentialData=function(t,n){if(!n instanceof ArrayBuffer)return this.logger.error("dc.srsd data type wrong"),!1;var o=this.zegoWebRTC.streamCenter.publisherList[t];return o&&this.pubDataChannelList.includes(t)?this.sendBCMessage(o.publisher,n):(this.logger.error("dc.srsd datachannel no found"),!1)},A.prototype.sendBCMessage=function(t,n){var o;if(!t.dataChannelState)return!1;for(var s=new Uint8Array(n),d=0,g=n.byteLength,E=t.send_seq,b=0,S=new Date().getTime(),l=0;g>0;){g>1151?l=1141:(l=g,b=1);var J=new Uint8Array(l+10);J[0]=1,J[1]=b,J[2]=t.send_seq>>8&255,J[3]=255&t.send_seq,J[4]=E>>8&255,J[5]=255&E,J[6]=S>>24&255,J[7]=S>>16&255,J[8]=S>>8&255,J[9]=255&S;for(var he=0;he<l;he++)J[he+10]=s[he+d];g-=l,d+=l,t.send_seq++,t.send_seq>=65536&&(t.send_seq=0),(o=t.dataChannel)===null||o===void 0||o.send(J)}return!0},A.prototype.startSubscribing=function(t,n){var o,s;return Cd(this,void 0,void 0,function(){var d,g;return Id(this,function(E){switch(E.label){case 0:return this.logger.info("dc.ss.0 call"),this.subDataChannelList.includes(t)?(this.logger.error("dc.ss.0 datachannel already exist"),[2,!1]):(d=this.zegoWebRTC.streamCenter.playerList[t])?[3,2]:[4,this.zegoWebRTC.startPlayingStream(t,void 0,!0)];case 1:E.sent(),d=this.zegoWebRTC.streamCenter.playerList[t],E.label=2;case 2:return(g=d.player).dataChannel?(!(!((o=g.onDataChannelList)===null||o===void 0)&&o.includes(this.onReceivedDataChannel.bind(this)))&&((s=g.onDataChannelList)===null||s===void 0||s.push(this.onReceivedDataChannel.bind(this))),this.subDataChannelList.push(t),this.logger.info("dc.ss.0 end"),[2,!0]):(this.logger.error("dc.ss.0 datachannel no exist, try other stream ID"),[2,!1])}})})},A.prototype.stopSubscribing=function(t){this.logger.info("dc.ss.1 call"),this.subDataChannelList=this.subDataChannelList.filter(function(o){return o!==t});var n=this.zegoWebRTC.streamCenter.playerList[t];return n?(n.room.roomID==this.roomID&&n.isDataChannel&&this.zegoWebRTC.stopPlayingStream(t),this.logger.info("dc.ss.1 end"),!0):(this.logger.error("dc.ss.1 datachannel no subscribe"),!1)},A.prototype.on=function(t,n){this.bindListener(t,n)},A.prototype.off=function(t,n){this.deleteListener(t,n)},A.prototype.bindListener=function(t,n){return this.listenerList[t]?typeof n!="function"?(this.logger.error("zc.o.0 listener callBack must be funciton"),!1):(this.listenerList[t].indexOf(n)==-1&&this.listenerList[t].push(n),!0):(this.logger.error("dc.o.0 event "+t+" no found"),!1)},A.prototype.deleteListener=function(t,n){if(!this.listenerList[t])return this.logger.error("dc.o.1 listener no found"),!1;var o=this.listenerList[t];return n?o.splice(o.indexOf(n),1):this.listenerList[t]=[],!0},A.prototype.actionListener=function(t){for(var n=this,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];this.listenerList[t]&&this.listenerList[t].forEach(function(d){try{setTimeout(function(){d.apply(void 0,o)},0)}catch(g){n.logger.error("dc.al "+t+" "+g)}})},A.prototype.onReceivedDataChannel=function(t,n,o){this.actionListener("receiveRealTimeSequentialData",t,n,o)},A.prototype.reset=function(){var t=this;for(var n in this.logger.info("dc.rs call"),this.pubDataChannelList.forEach(function(o){var s=t.zegoWebRTC.streamCenter.publisherList[o];s&&s.room.roomID==t.roomID&&s.isDataChannel&&t.zegoWebRTC.stopPublishingStream(o)}),this.subDataChannelList.forEach(function(o){var s=t.zegoWebRTC.streamCenter.playerList[o];s&&s.room.roomID==t.roomID&&s.isDataChannel&&t.zegoWebRTC.stopPlayingStream(o)}),this.listenerList)this.listenerList[n]=[];this.broadcastStream&&this.zegoWebRTC.destroyStream(this.broadcastStream),this.broadcastStream=void 0,this.logger.info("dc.rs end")},A}(),nf=function(){function A(t,n){this.dataChannelManager=new rf(t,n)}return A.prototype.startBroadcasting=function(t){return this.dataChannelManager.startBroadcasting(t)},A.prototype.stopBroadcasting=function(t){return this.dataChannelManager.stopBroadcasting(t)},A.prototype.sendRealTimeSequentialData=function(t,n){return this.dataChannelManager.sendRealTimeSequentialData(t,n)},A.prototype.startSubscribing=function(t){return this.dataChannelManager.startSubscribing(t)},A.prototype.stopSubscribing=function(t){return this.dataChannelManager.stopSubscribing(t)},A.prototype.on=function(t,n){this.dataChannelManager.on(t,n)},A.prototype.off=function(t,n){this.dataChannelManager.off(t,n)},A}(),of={type:"DataChannel",install:function(A){Object.defineProperty(A.prototype,"createRealTimeSequentialDataManager",{value:function(t){this.enableDataChannel(!0);var n=this.stateCenter.getRoomByRoomID(t);return n?n.dataChannelManager?null:(n.dataChannelManager=new nf(this,t),n.dataChannelManager):(this.logger.error("zc.crsdm room no exist"),null)},writable:!1}),Object.defineProperty(A.prototype,"destroyRealTimeSequentialDataManager",{value:function(t){var n=this.stateCenter.roomList.find(function(o){return o.dataChannelManager==t});n&&(t.dataChannelManager.reset(),n.dataChannelManager=null)},writable:!1})}},sf=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},af=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},rl="zc.p.0.sbe.3",Af=function(){function A(t){this.logger=t,this.recordedFrameCount=0,this.targetFrameRate=0,this.recordingDuration=0}return A.prototype.startRecordBeautyEffectOutput=function(t){return sf(this,void 0,void 0,function(){var n,o,s,d=this;return af(this,function(g){switch(g.label){case 0:return n=6,this.recordID?(this.logger.warn(rl+" detector is already recording"),[2,{result:!0}]):(o=new Date().getTime(),this.recordID=o,this.targetFrameRate=t,this.recordedFrameCount=0,this.recordingDuration=n,[4,new Promise(function(E){window.setTimeout(E,1e3*d.recordingDuration)})]);case 1:return g.sent(),this.recordID!==o?(this.recordID=void 0,[2,{result:!0}]):(this.recordID=void 0,s=this.recordedFrameCount/n,this.recordedFrameCount<this.targetFrameRate*this.recordingDuration/2?(this.logger.warn(rl+" detect effect overload: current fps: "+s),[2,{result:!1,targetFPS:this.targetFrameRate,currentFPS:s}]):(this.logger.info(rl+" detect effect current fps: "+s),[2,{result:!0}]))}})})},A.prototype.stopRecordBeautyEffectOutput=function(){this.recordedFrameCount=this.targetFrameRate=0,this.recordID=void 0},A.prototype.addFrame=function(){this.recordID&&(this.recordedFrameCount+=1)},A}();function md(A){for(var t=A,n="",o=0;o<t.length;o++){var s=t.charCodeAt(o),d=s;s>=65&&s<=90&&(d=(s-65-13+26)%26+65),s>=97&&s<=122&&(d=(s-97-13+26)%26+97),n+=String.fromCharCode(d)}return n}var Tc=function(){function A(t,n,o){this.gl=t,this.width=n,this.height=o,this.type="baseShader",this.program=null,this.program=null}return A.prototype.setEffectConfig=function(t){},A.prototype.setConstUniforms=function(){},A.prototype.resetResolution=function(t,n){this.width=t||this.width,this.height=n||this.height},A.prototype.render=function(){},A.prototype.renderPreTextures=function(t,n,o){},A.prototype.makeProgram=function(t,n){var o=this.gl,s=md(t),d=md(n),g=this.makeShader(s,o.VERTEX_SHADER),E=this.makeShader(d,o.FRAGMENT_SHADER),b=o.createProgram();return o.attachShader(b,g),o.attachShader(b,E),o.linkProgram(b),o.getProgramParameter(b,o.LINK_STATUS),b},A.prototype.release=function(){},A.prototype.makeShader=function(t,n){var o=this.gl,s=o.createShader(n);return o.shaderSource(s,t),o.compileShader(s),o.getShaderParameter(s,o.COMPILE_STATUS),s},A}(),Ed=`nggevohgr irp4 nCbfvgvba;
nggevohgr irp4 nGrkPbbeqvangr;
havsbez uvtuc sybng grkOyheJvqguBssfrg;
havsbez uvtuc sybng grkOyheUrvtugBssfrg;
inelvat irp2 i_grkpbbeq0;
inelvat irp4 grkgherFuvsg_1;
inelvat irp4 grkgherFuvsg_2;
inelvat irp4 grkgherFuvsg_3;
inelvat irp4 grkgherFuvsg_4;
ibvq znva()
{
  ty_Cbfvgvba = nCbfvgvba;
  i_grkpbbeq0 = nGrkPbbeqvangr.kl;

  irp2 fvatyrFgrcBssfrg = irp2(grkOyheJvqguBssfrg, grkOyheUrvtugBssfrg)*2.5;

  grkgherFuvsg_1 = irp4(nGrkPbbeqvangr.kl - fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + fvatyrFgrcBssfrg);
  grkgherFuvsg_2 = irp4(nGrkPbbeqvangr.kl - 2.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 2.0 * fvatyrFgrcBssfrg);
  grkgherFuvsg_3 = irp4(nGrkPbbeqvangr.kl - 3.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 3.0 * fvatyrFgrcBssfrg);
  grkgherFuvsg_4 = irp4(nGrkPbbeqvangr.kl - 4.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 4.0 * fvatyrFgrcBssfrg);
}`,yd=`cerpvfvba zrqvhzc sybng;
havsbez fnzcyre2Q hGrkgher;
inelvat irp2 i_grkpbbeq0;
inelvat uvtuc irp4 grkgherFuvsg_1;
inelvat uvtuc irp4 grkgherFuvsg_2;
inelvat uvtuc irp4 grkgherFuvsg_3;
inelvat uvtuc irp4 grkgherFuvsg_4;
ibvq znva(ibvq) { 
  zrqvhzc irp3 fhz = grkgher2Q(hGrkgher, i_grkpbbeq0).eto;
  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_1.kl).eto;
  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_1.mj).eto;
  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_2.kl).eto;
  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_2.mj).eto;
  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_3.kl).eto;
  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_3.mj).eto;
  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_4.kl).eto;
  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_4.mj).eto;
  ty_SentPbybe = irp4(fhz * 0.1111, 1.0); 
}`,cf=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),uf=function(A){function t(n,o,s){var d=A.call(this,n,o,s)||this;return d.width=o,d.height=s,d.type="BlurShader",d.blurXProgram=null,d.blurYProgram=null,d.diffProgram=null,d.uIntensity=null,d.smoothIntensity=.5,d.blurTextureList=[],d.blurBufferList=[],d.blurXProgram=d.makeProgram(Ed,yd),d.setBorderBlurProgram(d.blurXProgram,1/(o||1),0),d.blurYProgram=d.makeProgram(Ed,yd),d.setBorderBlurProgram(d.blurYProgram,0,1/(s||1)),d.diffProgram=d.makeProgram(`nggevohgr irp4 nCbfvgvba;
nggevohgr irp4 nGrkPbbeqvangr;
havsbez zng4 hCZIZngevk;
inelvat irp2 i_grkpbbeq0;
ibvq znva()
{
  // ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;
  ty_Cbfvgvba = nCbfvgvba;
  i_grkpbbeq0 = nGrkPbbeqvangr.kl;
}`,`cerpvfvba zrqvhzc sybng;
havsbez fnzcyre2Q hGrkgher;
inelvat irp2 i_grkpbbeq0;
havsbez fnzcyre2Q oyheGrkgher;
ibvq znva(ibvq) {
  irp4 vPbybe = grkgher2Q(oyheGrkgher, i_grkpbbeq0);
  irp4 zrnaPbybe = grkgher2Q(hGrkgher, i_grkpbbeq0);
  irp4 qvssPbybe = vPbybe - zrnaPbybe;
  qvssPbybe.e = zva(qvssPbybe.e * 50.0 * qvssPbybe.e, 1.0);
  qvssPbybe.t = zva(qvssPbybe.t * 50.0 * qvssPbybe.t, 1.0);
  qvssPbybe.o = zva(qvssPbybe.o * 50.0 * qvssPbybe.o, 1.0);
  ty_SentPbybe = irp4(qvssPbybe.eto, 1.0);
}`),d.setDiffBlurProgram(d.diffProgram),d.program=d.makeProgram(`
nggevohgr irp4 nCbfvgvba;
nggevohgr irp4 nGrkPbbeqvangr;
inelvat irp2 i_grkpbbeq0;
havsbez sybng jvqguBssfrg;
havsbez sybng urvtugBssfrg;
inelvat irp2 grkgherFuvsg_1;
inelvat irp2 grkgherFuvsg_2;
inelvat irp2 grkgherFuvsg_3;
inelvat irp2 grkgherFuvsg_4;
ibvq znva()
{
  ty_Cbfvgvba = nCbfvgvba;
  i_grkpbbeq0 = nGrkPbbeqvangr.kl;
  grkgherFuvsg_1 = irp2(i_grkpbbeq0 + 0.5 * irp2(jvqguBssfrg,urvtugBssfrg));
  grkgherFuvsg_2 = irp2(i_grkpbbeq0 + 0.5 * irp2(-jvqguBssfrg,-urvtugBssfrg));
  grkgherFuvsg_3 = irp2(i_grkpbbeq0 + 0.5 * irp2(-jvqguBssfrg,urvtugBssfrg));
  grkgherFuvsg_4 = irp2(i_grkpbbeq0 + 0.5 * irp2(jvqguBssfrg,-urvtugBssfrg));
}
`,`
cerpvfvba zrqvhzc sybng;
havsbez fnzcyre2Q hGrkgher;
inelvat irp2 i_grkpbbeq0;
havsbez fnzcyre2Q oyheGrkgher;
havsbez fnzcyre2Q oyheQvssGrkgher;
havsbez ybjc sybng oyheNycun;
ibvq znva(ibvq) {
  ybjc irp4 vPbybe = grkgher2Q(hGrkgher, i_grkpbbeq0);
  ybjc irp4 zrnaPbybe = grkgher2Q(oyheGrkgher, i_grkpbbeq0);
  ybjc irp4 inePbybe = grkgher2Q(oyheQvssGrkgher, i_grkpbbeq0);
  ybjc sybng nycun = oyheNycun * 1.0;
  ybjc sybng gurgn = 0.1;
  zrqvhzc sybng c = pynzc((zva(vPbybe.e, zrnaPbybe.e - 0.1) - 0.2) * 4.0, 0.0, 1.0);
  zrqvhzc sybng zrnaIne = znk(znk(inePbybe.e, inePbybe.t), inePbybe.o);
  zrqvhzc sybng xZva = 0.1;
  ybjc irp3 erfhygPbybe;
  xZva = (1.0 - zrnaIne / (zrnaIne + gurgn)) * c * nycun;
  erfhygPbybe = zvk(vPbybe.eto, zrnaPbybe.eto, xZva);
  erfhygPbybe = zvk(vPbybe.eto, erfhygPbybe, zva(1.0,nycun));
  ty_SentPbybe = irp4(erfhygPbybe,1.0);
}`),d.initBlurBuffer(),d}return cf(t,A),t.prototype.setEffectConfig=function(n){isNaN(n.smoothIntensity)||(this.smoothIntensity=n.smoothIntensity/100)},t.prototype.render=function(){this.gl.uniform1f(this.uIntensity,this.smoothIntensity)},t.prototype.initBlurBuffer=function(){var n=this,o=this.gl;this.blurTextureList.forEach(function(E){var b;E&&((b=n.gl)===null||b===void 0||b.deleteTexture(E))}),this.blurBufferList.forEach(function(E){var b;E&&((b=n.gl)===null||b===void 0||b.deleteFramebuffer(E))}),this.blurTextureList=[],this.blurBufferList=[];for(var s=0;s<3;s++){var d=o.createTexture();if(!d)return;o.bindTexture(o.TEXTURE_2D,d),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!0),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,this.width,this.height,0,o.RGBA,o.UNSIGNED_BYTE,null);var g=o.createFramebuffer();if(!g)return;o.bindFramebuffer(o.FRAMEBUFFER,g),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,d,0),this.blurTextureList.push(d),this.blurBufferList.push(g)}},t.prototype.renderPreTextures=function(n,o,s){var d=this,g=this.gl,E=[0,1,0],b=[1,1,2];[this.blurXProgram,this.blurYProgram,this.diffProgram].forEach(function(S,l){if(S){g.useProgram(S);var J=g.getUniformLocation(S,"uTexture");g.uniform1i(J,E[l]);var he=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,he),g.bufferData(g.ARRAY_BUFFER,new Float32Array(n),g.STATIC_DRAW);var _e=g.createBuffer();g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,_e),g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array(o),g.STATIC_DRAW);var Ce=g.getAttribLocation(S,"aPosition");g.enableVertexAttribArray(Ce),g.vertexAttribPointer(Ce,3,g.FLOAT,!1,0,0);var Oe=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,Oe),g.bufferData(g.ARRAY_BUFFER,new Float32Array(s),g.STATIC_DRAW);var $e=g.getAttribLocation(S,"aTexCoordinate");g.enableVertexAttribArray($e),g.vertexAttribPointer($e,2,g.FLOAT,!1,0,0),g.bindFramebuffer(g.FRAMEBUFFER,d.blurBufferList[l]),g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT),g.drawElements(g.TRIANGLES,6,g.UNSIGNED_SHORT,0),g.activeTexture(g.TEXTURE0+b[l]),g.bindTexture(g.TEXTURE_2D,d.blurTextureList[l])}})},t.prototype.setConstUniforms=function(){var n=this.width,o=this.height,s=this.program;if(s){var d=this.gl;d.useProgram(s);var g=d.getUniformLocation(s,"widthOffset");d.uniform1f(g,1/n);var E=d.getUniformLocation(s,"heightOffset");d.uniform1f(E,1/o),this.uIntensity=d.getUniformLocation(s,"blurAlpha"),d.uniform1f(this.uIntensity,this.smoothIntensity);var b=d.getUniformLocation(s,"blurTexture");d.uniform1i(b,1);var S=d.getUniformLocation(s,"blurDiffTexture");d.uniform1i(S,2)}},t.prototype.resetResolution=function(n,o){this.width=n||this.width,this.height=o||this.height},t.prototype.setBorderBlurProgram=function(n,o,s){var d=this.gl;d.useProgram(n);var g=d.getUniformLocation(n,"texBlurWidthOffset");d.uniform1f(g,o);var E=d.getUniformLocation(n,"texBlurHeightOffset");d.uniform1f(E,s)},t.prototype.setDiffBlurProgram=function(n){var o=this.gl;o.useProgram(n);var s=o.getUniformLocation(n,"blurTexture");o.uniform1i(s,1)},t}(Tc),lf=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),gf=function(A){function t(n,o,s){var d=A.call(this,n,o,s)||this;return d.width=o,d.height=s,d.type="LightShader",d.uLightIntensity=null,d.uRedIntensity=null,d.whitenIntensity=.5,d.rosyIntensity=.5,d.program=d.makeProgram(`cerpvfvba uvtuc sybng;
nggevohgr irp2 nGrkPbbeqvangr;
nggevohgr irp4 nCbfvgvba;
havsbez zng4 hCZIZngevk;
inelvat irp2 iGrkPbbeq;
ibvq znva() {
    ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;
    iGrkPbbeq = nGrkPbbeqvangr;
}`,`cerpvfvba uvtuc sybng;
inelvat irp2 iGrkPbbeq;
havsbez fnzcyre2Q hGrkgher;
havsbez sybng vagrafvgl;
havsbez sybng ebflVagrafvgl;
irp3 oevtugarffNaqPbagenfg(irp3 pbybe){
  sybng v = vagrafvgl * 1.0;
  sybng CV = 3.1415926;
  sybng O = 0.12 * v;
  sybng p = 0.1 * v;
  sybng x = gna((45. + 44. * p) / 180.0 * CV);
  pbybe = ((pbybe*255.0 - 127.5 * (1.0 - O)) * x + 127.5 * (1.0 + O)) / 255.0;
  erghea pbybe;
}
ibvq znva() {
  irp4 grkgherPbybe = grkgher2Q(hGrkgher, iGrkPbbeq);
  grkgherPbybe = irp4(oevtugarffNaqPbagenfg(grkgherPbybe.eto), grkgherPbybe.j);
  grkgherPbybe.e = zva(grkgherPbybe.e + 0.06 * ebflVagrafvgl, 1.0);
  ty_SentPbybe = grkgherPbybe;
}`),d}return lf(t,A),t.prototype.setEffectConfig=function(n){isNaN(n.whitenIntensity)||(this.whitenIntensity=n.whitenIntensity/100),isNaN(n.rosyIntensity)||(this.rosyIntensity=n.rosyIntensity/100)},t.prototype.render=function(){var n=this.gl;n.uniform1f(this.uLightIntensity,this.whitenIntensity),n.uniform1f(this.uRedIntensity,this.rosyIntensity)},t.prototype.setConstUniforms=function(){var n=this.program;if(n){var o=this.gl;o.useProgram(n),this.uLightIntensity=o.getUniformLocation(n,"intensity"),o.uniform1f(this.uLightIntensity,this.whitenIntensity),this.uRedIntensity=o.getUniformLocation(n,"rosyIntensity"),o.uniform1f(this.uRedIntensity,this.rosyIntensity);var s=o.getUniformLocation(n,"uPMVMatrix");o.uniformMatrix4fv(s,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},t}(Tc),df=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),hf=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},pf=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},ff=function(A){function t(n,o,s){var d=A.call(this,n,o,s)||this;return d.width=o,d.height=s,d.type="LowLightShader",d.uIntensity=null,d.lowlightEnhancement=!1,d.lutTex=null,d.lutImg=null,d.lutTexIdx=10,d.uLutTex=null,d.program=d.makeProgram(`
nggevohgr irp4 nCbfvgvba;
nggevohgr irp4 nGrkPbbeqvangr;
havsbez sybng grkryJvqgu;
havsbez sybng grkryUrvtug;
inelvat irp2 grkgherPbbeqvangr[9];
inelvat irp2 grkgherPbbeqvangr2;
havsbez zng4 hCZIZngevk;
ibvq znva(){
    ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;
    grkgherPbbeqvangr2 = nGrkPbbeqvangr.kl;
    grkgherPbbeqvangr[0] = nGrkPbbeqvangr.kl;
    irp2 jvqguFgrc = irp2(grkryJvqgu, 0.0);
    irp2 urvtugFgrc = irp2(0.0, grkryUrvtug);
    irp2 jvqguUrvtugFgrc = irp2(grkryJvqgu, grkryUrvtug);
    irp2 jvqguArtngvirUrvtugFgrc = irp2(grkryJvqgu, -grkryUrvtug);
    
    grkgherPbbeqvangr[0] = nGrkPbbeqvangr.kl;
    grkgherPbbeqvangr[1] = nGrkPbbeqvangr.kl - jvqguFgrc;
    grkgherPbbeqvangr[2] = nGrkPbbeqvangr.kl + jvqguFgrc;
    
    grkgherPbbeqvangr[3] = nGrkPbbeqvangr.kl - urvtugFgrc;
    grkgherPbbeqvangr[4] = nGrkPbbeqvangr.kl - jvqguUrvtugFgrc;
    grkgherPbbeqvangr[5] = nGrkPbbeqvangr.kl + jvqguArtngvirUrvtugFgrc;
    
    grkgherPbbeqvangr[6] = nGrkPbbeqvangr.kl + urvtugFgrc;
    grkgherPbbeqvangr[7] = nGrkPbbeqvangr.kl - jvqguArtngvirUrvtugFgrc;
    grkgherPbbeqvangr[8] = nGrkPbbeqvangr.kl + jvqguUrvtugFgrc;
}
`,`cerpvfvba uvtuc sybng;
inelvat uvtuc irp2 grkgherPbbeqvangr[9];
inelvat uvtuc irp2 grkgherPbbeqvangr2;
havsbez fnzcyre2Q hGrkgher;
havsbez fnzcyre2Q vachgVzntrGrkgher2;
havsbez uvtuc zng3 zngLHIgbETO;
havsbez uvtuc zng3 zngETOgbLHI;
havsbez sybng hVagrafvgl;
pbafg irp3 pbzcIrp = irp3(-0.0/255.0, -128.0/255.0, -128.0/255.0);
irp4 eto2lhi(irp4 vachgETO) {
    irp3 bhgchgLHI;
    bhgchgLHI = zngETOgbLHI * vachgETO.eto;
    bhgchgLHI -= pbzcIrp;
    erghea irp4(pynzc(bhgchgLHI,
                        irp3(0.0, 0.0, 0.0),
                        irp3(1.0, 1.0, 1.0)),
                        vachgETO.n);
}
irp2 fnghengvba(irp2 bet, sybng snpgbe) {
    irp2 zbq = irp2((bet.k - 128.0/255.0) * snpgbe + 128.0/255.0,
                    (bet.l - 128.0/255.0) * snpgbe + 128.0/255.0);
    erghea pynzc(zbq, irp2(0.0, 0.0), irp2(1.0, 1.0));
}
irp4 lhi2eto(irp4 vachgLHI) {
    irp3 bhgchgETO;
    vachgLHI.eto += pbzcIrp;
    bhgchgETO = zngLHIgbETO * vachgLHI.eto;
    erghea irp4(pynzc(bhgchgETO,
                        irp3(0.0, 0.0, 0.0),
                        irp3(1.0, 1.0, 1.0)),
                        vachgLHI.n);
}
ibvq znva(){
    irp4 lhi[9];
    sbe(vag v = 0; v < 9; v++){
        lhi[v] = eto2lhi(grkgher2Q(hGrkgher, grkgherPbbeqvangr[v]));
    }
    sybng fzbbguL = 0.0;
    fzbbguL += 1.0*lhi[4].e + 2.0*lhi[3].e + 1.0*lhi[5].e;
    fzbbguL += 2.0*lhi[1].e + 4.0*lhi[0].e + 2.0*lhi[2].e;
    fzbbguL += 1.0*lhi[7].e + 2.0*lhi[6].e + 1.0*lhi[8].e;
    fzbbguL = fzbbguL / 16.0;
    sybng bhgchgL = grkgher2Q(vachgVzntrGrkgher2, irp2(fzbbguL, lhi[0].e)).e;
    irp3 arjLHI = irp3(zvk(fzbbguL, bhgchgL, hVagrafvgl), lhi[0].to);
    ty_SentPbybe = lhi2eto(irp4(arjLHI.eto, lhi[0].n));
}
`),d}return df(t,A),t.prototype.setEffectConfig=function(n){this.lowlightEnhancement=n.lowlightEnhancement===1},t.prototype.release=function(){this.gl.deleteTexture(this.lutTex)},t.prototype.render=function(){var n=this.gl;n.uniform1f(this.uIntensity,this.lowlightEnhancement?.6:0);var o=this,s=o.program,d=o.width,g=o.height,E=o.lutTex;if(s){var b=n.getUniformLocation(s,"texelWidth");n.uniform1f(b,1/d);var S=n.getUniformLocation(s,"texelHeight");n.uniform1f(S,1/g),n.activeTexture(n.TEXTURE0+this.lutTexIdx),n.bindTexture(n.TEXTURE_2D,E)}},t.prototype.setConstUniforms=function(){return hf(this,void 0,void 0,function(){var n,o,s,d,g,E,b,S,l,J,he=this;return pf(this,function(_e){switch(_e.label){case 0:return n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o=[1,1,1,0,-.344,1.772,1.402,-.714,0],s=[.298973,-.168721,.500019,.58706,-.331298,-.41873,.113967,.500019,-.081289],(d=this.program)?((g=this.gl).useProgram(d),this.uIntensity=g.getUniformLocation(d,"uIntensity"),E=g.getUniformLocation(d,"matYUVtoRGB"),g.uniformMatrix3fv(E,!1,o),b=g.getUniformLocation(d,"matRGBtoYUV"),g.uniformMatrix3fv(b,!1,s),S=g.getUniformLocation(d,"uPMVMatrix"),g.uniformMatrix4fv(S,!1,n),l=g.getUniformLocation(d,"inputImageTexture2"),J=this,[4,new Promise(function(Ce){var Oe=g.createTexture(),$e=he.lutTexIdx,ze=he.lutImg;ze||(ze=new Image),ze.onload=function(){he.lutImg=ze,g.activeTexture(g.TEXTURE0+$e),g.bindTexture(g.TEXTURE_2D,Oe),g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,!1),g.texImage2D(g.TEXTURE_2D,0,g.LUMINANCE,g.LUMINANCE,g.UNSIGNED_BYTE,ze),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.uniform1i(l,$e),Oe&&Ce(Oe)},ze.src=`
data:image/png;base64,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`})]):[2];case 1:return J.lutTex=_e.sent(),[2]}})})},t}(Tc),Cf=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),If=function(A){function t(n,o,s){var d=A.call(this,n,o,s)||this;return d.width=o,d.height=s,d.type="SharpnessShader",d.uIntensity=null,d.sharpenIntensity=.5,d.program=d.makeProgram(`
nggevohgr irp4 nCbfvgvba;
nggevohgr irp4 nGrkPbbeqvangr;
havsbez sybng vzntrJvqguSnpgbe;
havsbez sybng vzntrUrvtugSnpgbe;
havsbez sybng funecarff; 
inelvat irp2 iGrkPbbeq;
inelvat irp2 yrsgGrkgherPbbeqvangr;
inelvat irp2 evtugGrkgherPbbeqvangr;
inelvat irp2 gbcGrkgherPbbeqvangr;
inelvat irp2 obggbzGrkgherPbbeqvangr;
inelvat sybng pragreZhygvcyvre;
inelvat sybng rqtrZhygvcyvre;
ibvq znva() {
  ty_Cbfvgvba = nCbfvgvba;
  irp2 jvqguFgrc = irp2(vzntrJvqguSnpgbe, 0.0);
  irp2 urvtugFgrc = irp2(0.0, vzntrUrvtugSnpgbe);
  iGrkPbbeq = nGrkPbbeqvangr.kl;
  yrsgGrkgherPbbeqvangr = nGrkPbbeqvangr.kl - jvqguFgrc;
  evtugGrkgherPbbeqvangr = nGrkPbbeqvangr.kl + jvqguFgrc;
  gbcGrkgherPbbeqvangr = nGrkPbbeqvangr.kl + urvtugFgrc;
  obggbzGrkgherPbbeqvangr = nGrkPbbeqvangr.kl - urvtugFgrc;
  pragreZhygvcyvre = 1.0 + 4.0 * funecarff;
  rqtrZhygvcyvre = funecarff;
}
`,`
cerpvfvba uvtuc sybng;
inelvat uvtuc irp2 iGrkPbbeq;
inelvat uvtuc irp2 yrsgGrkgherPbbeqvangr;
inelvat uvtuc irp2 evtugGrkgherPbbeqvangr;
inelvat uvtuc irp2 gbcGrkgherPbbeqvangr;
inelvat uvtuc irp2 obggbzGrkgherPbbeqvangr;
inelvat uvtuc sybng pragreZhygvcyvre;
inelvat uvtuc sybng rqtrZhygvcyvre;
havsbez fnzcyre2Q hGrkgher;
ibvq znva() {
  zrqvhzc irp4 nPbybe = grkgher2Q(hGrkgher, iGrkPbbeq);
  zrqvhzc irp3 grkgherPbybe = nPbybe.eto;
  zrqvhzc irp3 yrsgGrkgherPbybe = grkgher2Q(hGrkgher, yrsgGrkgherPbbeqvangr).eto;
  zrqvhzc irp3 evtugGrkgherPbybe = grkgher2Q(hGrkgher, evtugGrkgherPbbeqvangr).eto;
  zrqvhzc irp3 gbcGrkgherPbybe = grkgher2Q(hGrkgher, gbcGrkgherPbbeqvangr).eto;
  zrqvhzc irp3 obggbzGrkgherPbybe = grkgher2Q(hGrkgher, obggbzGrkgherPbbeqvangr).eto;
  ty_SentPbybe = irp4((grkgherPbybe * pragreZhygvcyvre - (yrsgGrkgherPbybe * rqtrZhygvcyvre + evtugGrkgherPbybe * rqtrZhygvcyvre + gbcGrkgherPbybe * rqtrZhygvcyvre + obggbzGrkgherPbybe * rqtrZhygvcyvre)), nPbybe.n);
}`),d}return Cf(t,A),t.prototype.setEffectConfig=function(n){isNaN(n.sharpenIntensity)||(this.sharpenIntensity=n.sharpenIntensity/100)},t.prototype.render=function(){this.gl.uniform1f(this.uIntensity,.5*this.sharpenIntensity)},t.prototype.resetResolution=function(n,o){this.width=n||this.width,this.height=o||this.height,this.setConstUniforms()},t.prototype.setConstUniforms=function(){var n=this.width,o=this.height,s=this.program;if(s){var d=this.gl;d.useProgram(s);var g=d.getUniformLocation(s,"imageWidthFactor");d.uniform1f(g,1/n);var E=d.getUniformLocation(s,"imageHeightFactor");d.uniform1f(E,1/o),this.uIntensity=d.getUniformLocation(s,"sharpness"),d.uniform1f(this.uIntensity,.5*this.sharpenIntensity)}},t}(Tc),mf=1103074,Ef="video track is not readable",yf=1103075,Bf="beauty effect overload",Bd=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},vd=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},go="zc.p.0.sbe.2",nl={errorCode:1103072,extendedData:"not support beauty effect"},vf=function(){function A(t){this.logger=t,this.gl=null,this.effectConfig={sharpenIntensity:.5,whitenIntensity:.5,rosyIntensity:.5,smoothIntensity:.5,lowlightEnhancement:0},this.originResolution={width:0,height:0},this.shaderList=[],this.frameBufferList=[],this.outputTextureList=[],this.inputTexture=null,this.failedTimes=0,this.onRenderError=function(n){},this.enableBeauty=!1}return A.prototype.setEnableBeauty=function(t){this.enableBeauty=!!t},A.prototype.handleInitError=function(){this.failedTimes++,this.failedTimes>30&&(this.failedTimes=0,this.logger.error(go+" get webgl context failed"),this.onRenderError(nl))},A.prototype.init=function(t,n,o){return Bd(this,void 0,void 0,function(){var s,d,g,E;return vd(this,function(b){switch(b.label){case 0:return window.WebGLRenderingContext!==void 0?(this.canvasEl=o,this.gl=o.getContext("webgl"),this.gl?(this.initGL(t,n),this.inputTexture?[4,(s=new ff(this.gl,t,n)).setConstUniforms()]:(this.logger.error(go+" input texture not found"),this.handleInitError(),[2])):(this.handleInitError(),[2])):(this.logger.error(go+" not support webgl!"),this.onRenderError(nl),[2]);case 1:return b.sent(),(d=new uf(this.gl,t,n)).setConstUniforms(),(g=new gf(this.gl,t,n)).setConstUniforms(),(E=new If(this.gl,t,n)).setConstUniforms(),this.shaderList=[s,d,g,E],this.setEffectConfig(this.effectConfig),[2]}})})},A.prototype.render=function(t){return Bd(this,void 0,void 0,function(){var n,o,s,d,g=this;return vd(this,function(E){switch(E.label){case 0:return(n=this.gl)&&this.canvasEl&&!n.isContextLost()?[3,4]:this.canvasEl?(this.logger.warn(go+" gl lost, restart effect"),this.release(),[4,this.init(t.videoWidth,t.videoHeight,this.canvasEl)]):[3,2];case 1:return E.sent(),[3,3];case 2:this.logger.error(go+" canvas lost"),this.onRenderError(nl),E.label=3;case 3:return[2];case 4:return(this.originResolution.height!==t.videoHeight||this.originResolution.width!==t.videoWidth)&&(Math.abs(this.originResolution.height-t.videoHeight)>2||Math.abs(this.originResolution.width-t.videoWidth)>2)?t.videoHeight===0||t.videoWidth===0?[2]:(this.canvasEl.width=t.videoWidth,this.canvasEl.height=t.videoHeight,t.setAttribute("width",t.videoWidth.toString()),t.setAttribute("height",t.videoHeight.toString()),!this.gl||this.gl.isContextLost()?[3,5]:(this.logger.info(go+" resolution changed to ".concat(t.videoWidth,"x").concat(t.videoHeight,", reset resolution.")),this.resetResolution(t.videoWidth,t.videoHeight),this.shaderList.forEach(function(b){b.resetResolution(t.videoWidth,t.videoHeight)}),[3,7])):[3,7];case 5:return this.logger.warn(go+" resolution changed and gl context lost, restart effect"),this.release(),[4,this.init(t.videoWidth,t.videoHeight,this.canvasEl)];case 6:E.sent(),E.label=7;case 7:return o=[-1,-1,0,1,-1,0,1,1,0,-1,1,0],s=[0,1,2,0,2,3],d=[0,0,1,0,1,1,0,1],n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this.inputTexture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t),this.shaderList.forEach(function(b,S){var l=b.program;if(l){b.renderPreTextures&&b.renderPreTextures(o,s,d),n.useProgram(l),b.render();var J=n.getUniformLocation(l,"uTexture"),he=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,he),n.bufferData(n.ARRAY_BUFFER,new Float32Array(o),n.STATIC_DRAW);var _e=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,_e),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(s),n.STATIC_DRAW);var Ce=n.getAttribLocation(l,"aPosition");n.enableVertexAttribArray(Ce),n.vertexAttribPointer(Ce,3,n.FLOAT,!1,0,0);var Oe=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,Oe),n.bufferData(n.ARRAY_BUFFER,new Float32Array(d),n.STATIC_DRAW);var $e=n.getAttribLocation(l,"aTexCoordinate");n.enableVertexAttribArray($e),n.vertexAttribPointer($e,2,n.FLOAT,!1,0,0);var ze=S===g.shaderList.length-1?null:g.outputTextureList[S];n.bindFramebuffer(n.FRAMEBUFFER,S===g.shaderList.length-1?null:g.frameBufferList[S]),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),n.activeTexture(n.TEXTURE0),ze&&n.bindTexture(n.TEXTURE_2D,ze),n.uniform1i(J,0)}}),[2]}})})},A.prototype.setEffectConfig=function(t){var n=this;isNaN(t.sharpenIntensity)||(this.effectConfig.sharpenIntensity=t.sharpenIntensity),isNaN(t.whitenIntensity)||(this.effectConfig.whitenIntensity=t.whitenIntensity),isNaN(t.rosyIntensity)||(this.effectConfig.rosyIntensity=t.rosyIntensity),isNaN(t.smoothIntensity)||(this.effectConfig.smoothIntensity=t.smoothIntensity),isNaN(t.lowlightEnhancement)||(this.effectConfig.lowlightEnhancement=t.lowlightEnhancement),this.shaderList.forEach(function(o){o.setEffectConfig(n.effectConfig)})},A.prototype.release=function(){var t,n=this;this.shaderList.forEach(function(o){var s;o.program&&((s=n.gl)===null||s===void 0||s.deleteProgram(o.program))}),this.outputTextureList.forEach(function(o){var s;o&&((s=n.gl)===null||s===void 0||s.deleteTexture(o))}),this.frameBufferList.forEach(function(o){var s;o&&((s=n.gl)===null||s===void 0||s.deleteFramebuffer(o))}),this.inputTexture&&((t=this.gl)===null||t===void 0||t.deleteTexture(this.inputTexture)),this.inputTexture=this.gl=null,this.shaderList.forEach(function(o){o.release()}),this.shaderList=[],this.outputTextureList=[],this.frameBufferList=[]},A.prototype.initGL=function(t,n){var o=this.gl;if(!o)return this.logger.error(go+" webgl context not found");this.inputTexture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,this.inputTexture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR);for(var s=0;4>s;s++){var d=o.createTexture();if(!d)return this.logger.warn(go+" create texture failed");o.bindTexture(o.TEXTURE_2D,d),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,t,n,0,o.RGBA,o.UNSIGNED_BYTE,null);var g=o.createFramebuffer();if(!g)return this.logger.warn(go+" create frame buffer failed");o.bindFramebuffer(o.FRAMEBUFFER,g),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,d,0),this.outputTextureList.push(d),this.frameBufferList.push(g)}o.viewport(0,0,t,n),this.originResolution.width=t,this.originResolution.height=n},A.prototype.resetResolution=function(t,n){var o=this.gl;if(!o)return this.logger.warn(go+" can not find webgl context");for(var s=0;s<this.outputTextureList.length;s++)o.bindTexture(o.TEXTURE_2D,this.outputTextureList[s]),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,t,n,0,o.RGBA,o.UNSIGNED_BYTE,null);o.viewport(0,0,t,n),this.originResolution.width=t,this.originResolution.height=n},A}(),Qf=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ho=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},po=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},Qd={errorCode:mf,extendedData:Ef},_f={errorCode:yf,extendedData:Bf},Bi="zc.p.0.sbe.1",_d=function(A){function t(n,o){var s=A.call(this)||this;return s.logger=n,s.kind="video",s._enabled=!1,s.lastRenderTime=0,s.stateFlag={base:!1,lowLight:!1},s.isStarting=!1,s.animationFrameId=0,s.backgroundLoop=null,s.eventHandler={visibilitychange:function(){if(document.hidden){var d=function(){return ho(s,void 0,void 0,function(){return po(this,function(g){switch(g.label){case 0:return this.backgroundLoop=window.setTimeout(d,Math.floor(1e3/this.fps)),!document.hidden&&this.backgroundLoop?(clearTimeout(this.backgroundLoop),this.backgroundLoop=null,[2]):[4,this.renderAFrame()];case 1:return g.sent(),[2]}})})};d()}else s.backgroundLoop&&(clearTimeout(s.backgroundLoop),s.backgroundLoop=null)}},s.setInput(o,!0),s.fps=15,s.detector=new Af(n),s.backgroundLoop&&clearTimeout(s.backgroundLoop),s.backgroundLoop=null,s.lastRenderTime=0,s.manager=new vf(n),s.manager.onRenderError=function(d){d.errorCode===1103072&&s.stopEffect(),s.onError(d)},s}return Qf(t,A),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(n){this._enabled=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return this._output||this.input||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.manager.effectConfig||{}},enumerable:!1,configurable:!0}),t.prototype.setBeautyEffectOptions=function(n,o){return o===void 0&&(o={}),ho(this,void 0,void 0,function(){return po(this,function(s){switch(s.label){case 0:return n&&this.manager.setEffectConfig(o),this.enabled===n?[3,6]:(this.manager.setEnableBeauty(n),this.enabled!==n&&this.logger.info(Bi+" effect enabled "+n+"; options: "+JSON.stringify(o)),this.enabled=n,n?this.input?[4,this.startEffect()]:[3,2]:[3,3]);case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return[4,this.stopEffect()];case 4:s.sent(),s.label=5;case 5:s.label=6;case 6:return[2]}})})},t.prototype.startEffect=function(){return ho(this,void 0,void 0,function(){var n,o,s=this;return po(this,function(d){switch(d.label){case 0:return this.isStarting=!0,this.logger.info(Bi+" call start effect"),this.input?this.input&&this._output&&this.input!==this._output?(this.logger.warn(Bi+" video effect is already enabled"),[2]):[4,this.startWebGLProcessor().catch(function(g){throw s.stopEffect(),g})]:(this.logger.error(Bi+" start effect failed, input track is null"),[2]);case 1:return n=d.sent(),[4,this.updateOutput(n)];case 2:return d.sent(),this.enabled=!0,this.logger.info(Bi+" start effect success"),this.detector.startRecordBeautyEffectOutput(this.fps).then(function(g){!g.result&&s.onError&&s.onError(_f,{targetFPS:g.targetFPS,currentFPS:g.currentFPS})}),o=function(){return ho(s,void 0,void 0,function(){return po(this,function(g){switch(g.label){case 0:return this.enabled&&(this.animationFrameId=requestAnimationFrame(o)),[4,this.renderAFrame()];case 1:return g.sent(),[2]}})})},this.animationFrameId=requestAnimationFrame(o),document.addEventListener("visibilitychange",this.eventHandler.visibilitychange,!1),this.isStarting=!1,[2]}})})},t.prototype.renderAFrame=function(){return ho(this,void 0,void 0,function(){var n,o,s;return po(this,function(d){switch(d.label){case 0:return n=Date.now(),o=1e3/this.fps,(s=this.lastRenderTime?n-this.lastRenderTime:o)>=o?(this.lastRenderTime=n-(s-o),this.videoEl&&this.videoEl.paused&&this.videoEl.play(),this.enabled&&this.videoEl?this.videoEl.videoWidth>6&&this.videoEl.videoHeight>6?[4,this.manager.render(this.videoEl)]:[3,2]:[3,3]):[3,3];case 1:d.sent(),d.label=2;case 2:this._output&&this._output.requestFrame&&this._output.requestFrame(),this.detector.addFrame(),d.label=3;case 3:return[2]}})})},t.prototype.stopEffect=function(){return ho(this,void 0,void 0,function(){var n=this;return po(this,function(o){switch(o.label){case 0:return this.enabled=!1,this.logger.info(Bi+" call stop effect"),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this.detector.stopRecordBeautyEffectOutput(),this.manager.release(),[4,this.updateOutput()];case 1:return o.sent(),this.removeDomTimer===void 0&&(this.removeDomTimer=window.setTimeout(function(){n.enabled===!1&&n.destroy()},18e4)),document.removeEventListener("visibilitychange",this.eventHandler.visibilitychange),[2]}})})},t.prototype.destroy=function(){this.logger.info(Bi+" destroy hidden elements"),this.canvasEl&&this.canvasEl.remove(),this.videoEl&&this.videoEl.remove(),this.videoEl=this.canvasEl=void 0,this.removeDomTimer&&(clearTimeout(this.removeDomTimer),this.removeDomTimer=void 0)},t.prototype.startWebGLProcessor=function(){return ho(this,void 0,void 0,function(){var n,o,s,d,g=this;return po(this,function(E){switch(E.label){case 0:return this.input?(this.logger.info(Bi+" start webgl processor"),this.removeDomTimer&&(clearTimeout(this.removeDomTimer),this.removeDomTimer=void 0),this.canvasEl&&this.videoEl?[3,2]:(this.logger.info(Bi+" create elements"),this.canvasEl&&(this.canvasEl.remove(),this.canvasEl=void 0),this.videoEl&&(this.videoEl.remove(),this.videoEl=void 0),this.canvasEl=document.createElement("canvas"),this.videoEl=Ca(),this.videoEl.setAttribute("style","display:none"),n=new Promise(function(b,S){var l=null,J=function(){l&&clearTimeout(l),g.videoEl&&g.videoEl.removeEventListener("playing",J),b(void 0)};g.videoEl&&g.videoEl.addEventListener("playing",J),l=window.setTimeout(function(){g.logger.warn(Bi+" video track error"),S(Qd)},1e3)}),this.videoEl.srcObject=new MediaStream([this.input]),this.videoEl.play(),[4,n])):(this.logger.error(Bi+" input track is null"),[2]);case 1:E.sent(),E.label=2;case 2:if(o=this.input.getSettings(),s=o.width||this.videoEl.videoWidth,d=o.height||this.videoEl.videoHeight,o.frameRate&&this.fps!==o.frameRate&&(this.fps=o.frameRate,this.logger.info(Bi+" set target fps: "+this.fps)),this.logger.info(Bi+" beauty video processor: width "+o.width+" height "+o.height),!s||!d)throw this.logger.error(Bi+" resolution of track is wrong"),Qd;return this.canvasEl.width=s,this.canvasEl.height=d,this.videoEl.setAttribute("width",s.toString()),this.videoEl.setAttribute("height",d.toString()),this.manager.init(s,d,this.canvasEl),[2,this.canvasEl.captureStream().getVideoTracks()[0]]}})})},t.prototype.setInput=function(n,o){return o===void 0&&(o=!1),ho(this,void 0,void 0,function(){var s,d;return po(this,function(g){switch(g.label){case 0:return n&&n!==this.input?n.kind!==this.kind?(this.logger.error(Bi+" kind of track is not video"),[2]):(this._output&&this.input===this._output&&this.logger.error(Bi+" input track is same as effect track"),this.logger.info(Bi+" change input track"),o?this.input?[4,this.removeInput()]:[3,2]:[3,5]):[3,7];case 1:g.sent(),g.label=2;case 2:return this.input=n,this.enabled&&!this.videoEl?[4,this.startEffect()]:[3,4];case 3:g.sent(),g.label=4;case 4:return[3,7];case 5:return this.input=n,(s=this.videoEl)&&(s.srcObject?((d=s.srcObject).getTracks().forEach(function(E){return d.removeTrack(E)}),d.addTrack(this.input)):s.srcObject=new MediaStream([this.input]),s.play()),this._output?[3,7]:[4,this.onOutputChange()];case 6:g.sent(),g.label=7;case 7:return[2]}})})},t.prototype.removeInput=function(){return ho(this,void 0,void 0,function(){return po(this,function(n){switch(n.label){case 0:return this.input=void 0,[4,this.stopEffect()];case 1:return n.sent(),[2]}})})},t.prototype.updateOutput=function(n){return ho(this,void 0,void 0,function(){return po(this,function(o){switch(o.label){case 0:return this._output===n?[3,3]:(this._output=n,this.onOutputChange?[4,this.onOutputChange(this._output)]:[3,2]);case 1:o.sent(),o.label=2;case 2:o.label=3;case 3:return[2]}})})},t.prototype.onOutputChange=function(n){var o;return ho(this,void 0,void 0,function(){return po(this,function(s){switch(s.label){case 0:return[4,(o=this.next)===null||o===void 0?void 0:o.setInput(n||this.input||null)];case 1:return s.sent(),[2]}})})},t.prototype.onError=function(n,o){},t}(cu),il=function(){return il=Object.assign||function(A){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s]);return A},il.apply(this,arguments)},Sf=function(A,t,n,o){return new(n||(n=Promise))(function(s,d){function g(S){try{b(o.next(S))}catch(l){d(l)}}function E(S){try{b(o.throw(S))}catch(l){d(l)}}function b(S){var l;S.done?s(S.value):(l=S.value,l instanceof n?l:new n(function(J){J(l)})).then(g,E)}b((o=o.apply(A,t||[])).next())})},bf=function(A,t){var n,o,s,d,g={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function E(b){return function(S){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,l[0]&&(g=0)),g;)try{if(n=1,o&&(s=2&l[0]?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return g.label++,{value:l[1],done:!1};case 5:g.label++,o=l[1],l=[0];continue;case 7:l=g.ops.pop(),g.trys.pop();continue;default:if(s=g.trys,!((s=s.length>0&&s[s.length-1])||l[0]!==6&&l[0]!==2)){g=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){g.label=l[1];break}if(l[0]===6&&g.label<s[1]){g.label=s[1],s=l;break}if(s&&g.label<s[2]){g.label=s[2],g.ops.push(l);break}s[2]&&g.ops.pop(),g.trys.pop();continue}l=t.call(A,g)}catch(J){l=[6,J],o=0}finally{n=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([b,S])}}},ol="zc.p.0.sbe.0",Sd={setBeautyEffect:function(A,t,n,o){var s=this;return o===void 0&&(o=!0),new Promise(function(d,g){var E,b,S=function(Ce,Oe){if(Ce&&!(Ce instanceof MediaStream)&&Ce.zegoStream){if(Oe.info("cu.gs type:zego"),Ce.stream instanceof MediaStream)return Ce.stream;throw new Error("The ZegoLocalStream type requires first calling the capture api to capture the stream")}return Ce}(A,s.logger);if(!(S instanceof MediaStream))return s.logger.error(ol+" localStream not found"),void g({errorCode:1100001,extendedData:" localStream no found"});var l=function(Ce){d(Ce)},J=s.streamCenter.checkPreview(S);if(!J)return s.logger.error("zc.sbe.0 preview no found"),void l({errorCode:PUBLISH_NO_PREVIEW.code,extendedData:PUBLISH_NO_PREVIEW.message});var he=((E=J.videoEffect)===null||E===void 0?void 0:E.stateFlag)||{base:!1,lowLight:!1};if(o)!(t=!!t)&&he.lowLight?n={sharpenIntensity:0,whitenIntensity:0,rosyIntensity:0,smoothIntensity:0,lowlightEnhancement:he.lowLight?1:0}:t&&(n=il({lowlightEnhancement:he.lowLight?1:0},n)),he.base=t;else{var _e=n.lowlightEnhancement;n=!((b=J.videoEffect)===null||b===void 0)&&b.enabled||_e!==1?{lowlightEnhancement:_e}:{sharpenIntensity:0,whitenIntensity:0,rosyIntensity:0,smoothIntensity:0,lowlightEnhancement:_e},he.lowLight=_e===1}J.setBeautyEffect(he.base||he.lowLight,n,he).then(function(){l({errorCode:0,extendedData:""})}).catch(function(Ce){g({errorCode:Ce.errorCode||-1,extendedData:Ce.extendedData||Ce.toString()})})})},setLowlightEnhance:function(A,t){return this.setBeautyEffect(A,!0,{lowlightEnhancement:t},!1)}},bd={setBeautyEffect:function(A,t,n){return Sf(this,void 0,void 0,function(){var o,s,d=this;return bf(this,function(g){switch(g.label){case 0:if(!this.videoTrack)return this.logger.error(ol+" video track no found"),[2];if(!(typeof WebGLRenderingContext<"u"))throw o=VIDEO_EFFECT_NOT_SUPPORT.code,s=VIDEO_EFFECT_NOT_SUPPORT.message,{errorCode:o,extendedData:s};return _d?this.videoEffect&&this.videoNodeQueue.isConnected(this.videoEffect)?this.videoTrack===this.videoNodeQueue.getSourceTrack()?[3,2]:[4,this.videoNodeQueue.replaceNewSourceByTrack(this.videoTrack)]:[3,4]:[3,7];case 1:g.sent(),g.label=2;case 2:return[4,this.videoEffect.setBeautyEffectOptions(A,t)];case 3:return g.sent(),this.videoEffect.stateFlag=n,[3,6];case 4:return this.videoEffect=new _d(this.logger,this.videoTrack),this.videoEffect.onError=function(E,b){d.stateCenter.actionListener("beautyEffectError",d.localStream,E.errorCode,E.extendedData,b)},this.videoNodeQueue.pushBack(this.videoEffect),[4,this.videoEffect.setBeautyEffectOptions(A,t)];case 5:g.sent(),this.videoEffect.stateFlag=n,g.label=6;case 6:return[3,8];case 7:this.logger.error(ol+" beauty effect module no found"),g.label=8;case 8:return[2]}})})}},wf={type:"BeautyEffect",install:function(A,t){for(var n in bd)Object.defineProperty(t.prototype,n,{value:bd[n],writable:!1});for(var n in Sd)Object.defineProperty(A.prototype,n,{value:Sd[n],writable:!1})}},Df=function(){var A=function(t,n){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])},A(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}A(t,n),t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Ro.use(Qh()),Ro.use(Sh()),Ro.use(Ip),Ro.use(Qp),Ro.use(Np),Ro.use(Tp),Ro.use(tf),Ro.use(of),Ro.use(wf);var kf=function(A){function t(){return A!==null&&A.apply(this,arguments)||this}return Df(t,A),t}(Ro)}(),__webpack_exports__}()})})(ZegoExpressWebRTC);var ZegoExpressWebRTCExports=ZegoExpressWebRTC.exports;const formatTime=a=>dayjs().startOf("day").add(a,"second").format("mm:ss"),dragMoveListener=a=>{const c=a.target,h=(parseFloat(c.getAttribute("data-x"))||0)+a.dx,f=(parseFloat(c.getAttribute("data-y"))||0)+a.dy;c.style.transform=`translate(${h}px, ${f}px)`,c.setAttribute("data-x",h),c.setAttribute("data-y",f)},useResizeAndDragMove=a=>{const{interactDom:c,outer:h="html",restriction:f="html",whetherSizeOfTheDom:B,restrictSizeMinWidthAndHeight:v,whetherDragMove:D=!0}=a;reactExports.useEffect(()=>{const _=interact(c);B&&_.resizable({edges:{left:!1,right:!0,bottom:!0,top:!0},listeners:{move(m){const I=m.target;let Q=parseFloat(I.getAttribute("data-x"))||0,p=parseFloat(I.getAttribute("data-y"))||0;I.style.width=`${m.rect.width}px`,I.style.height=`${m.rect.height}px`,Q+=m.deltaRect.left,p+=m.deltaRect.top,I.style.transform=`translate(${Q}px,${p}px)`,I.setAttribute("data-x",Q),I.setAttribute("data-y",p)}},modifiers:[interact.modifiers.restrictEdges({outer:h}),interact.modifiers.restrictSize({min:v})]}),D?_.draggable({listeners:{move:dragMoveListener},inertia:!0,modifiers:[interact.modifiers.restrictRect({restriction:f,endOnly:!0})]}):_.unset()},[D])},getDragAudioAndVideoHandleObject=a=>{const{answeronClick:c,hanguponClick:h,microPhoneturnedOffClick:f,microPhoneturnedOnClick:B,speakerTurnedOnClick:v,speakerTurnedOffClick:D,cameraTurnedOnClick:_,cameraTurnedOffClick:m,onMouseDown:I}=a||{},Q="w-[56px]",p="flex justify-center items-center rounded-full w-[56px] h-[56px] cursor-pointer",u="flex justify-center items-center text-xs text-button_text_01 mt-2 text-center",y=(N,U,q,te,F="text-button_text_01")=>jsxs("div",{className:`${Q}`,onMouseDown:I,children:[jsx("div",{className:`${p} ${N}`,onClick:()=>te==null?void 0:te(),children:jsx(Icon,{name:U,className:`${F} text-2xl`})}),jsx("div",{className:u,children:q})]});return{answer:{dom:y("bg-avatar_bg_04","icon_chat_answer",i18n._("features_audio_and_video_audio_video_relp1fq9o3"),c)},hangup:{dom:y("bg-secondary_color","icon_chat_hang_up",i18n._("features_audio_and_video_audio_video_qbnnjzk0dk"),h)},microPhoneturnedOff:{dom:y("bg-call_bg_color_03","icon_chat_microphone",i18n._("features_audio_and_video_audio_video_u12roj52vu"),f)},microPhoneturnedOn:{dom:y("bg-call_bg_color_04","icon_chat_microphone",i18n._("features_audio_and_video_audio_video_fizqdnhjdt"),B,"text-call_bg_color_01")},speakerTurnedOn:{dom:y("bg-call_bg_color_04","icon_chat_speaker",i18n._("features_audio_and_video_audio_video_vgtgnv4ujj"),v,"text-call_bg_color_01")},speakerTurnedOff:{dom:y("bg-call_bg_color_03","icon_chat_speaker",i18n._("features_audio_and_video_audio_video_llya442vnx"),D)},cameraTurnedOn:{dom:y("bg-call_bg_color_04","icon_chat_camera",i18n._("features_audio_and_video_audio_video_fn7fjjygj6"),_,"text-call_bg_color_01")},cameraTurnedOff:{dom:y("bg-call_bg_color_03","icon_chat_camera",i18n._("features_audio_and_video_audio_video_owjgrlcznf"),m)}}},getImZg=()=>{const a=getImAudioAndVideoSdkAppId();return new ZegoExpressWebRTCExports.ZegoExpressEngine(a,[`wss://webliveroom${a}-api.coolzcloud.com/ws`,`wss://webliveroom${a}-api-bak.coolzcloud.com/ws`])};var VideoCall=(a=>(a[a.voicecall=0]="voicecall",a[a.videocall=1]="videocall",a))(VideoCall||{}),GroupCall=(a=>(a[a.singlePersonCall=0]="singlePersonCall",a[a.groupChatCall=1]="groupChatCall",a))(GroupCall||{}),StreamUpdateEnum=(a=>(a.ADD="ADD",a.DELETE="DELETE",a))(StreamUpdateEnum||{}),ZegoRoomStateChangedReason=(a=>(a.Kickout="KICKOUT",a))(ZegoRoomStateChangedReason||{});const getZegoStream=async a=>{const c=getImZg(),h=await c.createZegoStream({camera:{...a}});c.destroyStream(h);const f=await c.enumDevices(),{microphones:B}=f,{deviceID:v}=B[0],{zegoStream:D}=await c.createZegoStream({camera:{...a,audio:{input:v}}});return D.active},getDetectionPermissions=async a=>{const c=await getZegoStream(a);return!c&&Message.error(i18n._("features_audio_and_video_audio_video_oo6kfr0xy5")),c},useCallInvitation=(a,c,h,f,B)=>{const v=reactExports.useRef(),D=reactExports.useRef(),_=reactExports.useRef(!1),m=reactExports.useRef(!1),{userInfo:I}=useUserStore(),Q=reactExports.useRef({videoCall:0,groupCall:0}),p=()=>{var F,V,z,$,L,O,T,w;return{1:{0:{call:{on:(F=h==null?void 0:h.current)==null?void 0:F.openVideoModal,off:(V=h==null?void 0:h.current)==null?void 0:V.closeVideoModal},inviteCall:{on:(z=f==null?void 0:f.current)==null?void 0:z.openVideoInviteModal,off:($=f==null?void 0:f.current)==null?void 0:$.closeVideoInviteModal}}},0:{0:{call:{on:(L=a==null?void 0:a.current)==null?void 0:L.openAudioModal,off:(O=a==null?void 0:a.current)==null?void 0:O.closeAudioModal},inviteCall:{on:(T=a==null?void 0:a.current)==null?void 0:T.openAudioInviteModal,off:(w=a==null?void 0:a.current)==null?void 0:w.closeAudioInviteModal}}}}},u=(F,V,z)=>{var L;const $={extendedData:JSON.stringify({callId:z||D.current,rejectionType:V?1:0,...F})};(L=v.current)==null||L.callReject(z||D.current,$).then(O=>{}).catch(O=>{})},y=(F,V)=>{var $;const z={extendedData:JSON.stringify({groupCall:V==null?void 0:V.groupCall,videoCall:V==null?void 0:V.videoCall})};($=v.current)==null||$.callAccept(D.current,z).then(L=>{F()}).catch(L=>{})},N=F=>{var $;const V=[F],z={extendedData:"your call invite extendedData"};m.current=!1,($=v.current)==null||$.callCancel(V,D.current,z).then(L=>{}).catch(L=>{})},U=(F,V)=>{var O;if(m.current){Message.error(i18n._("features_audio_and_video_audio_video_xed7qjh_fs"));return}const z={videoCall:V==null?void 0:V.videoCall,groupCall:V==null?void 0:V.groupCall};Q.current=z;const $=[F],L={timeout:90,extendedData:JSON.stringify({...V}),mode:1};m.current=!0,(O=v.current)==null||O.callInvite($,L).then(T=>{var Y,Z,W,K,x;const{callID:w,timeout:k}=T;(x=(K=(W=(Z=(Y=p())==null?void 0:Y[V==null?void 0:V.videoCall])==null?void 0:Z[V==null?void 0:V.groupCall])==null?void 0:W.call)==null?void 0:K.on)==null||x.call(K),D.current=w}).catch(()=>{m.current=!1})},q=(F,V)=>{var z,$,L,O,T,w,k,Y,Z,W;(T=(O=(L=($=(z=p())==null?void 0:z[F])==null?void 0:$[V])==null?void 0:L.inviteCall)==null?void 0:O.off)==null||T.call(O),(W=(Z=(Y=(k=(w=p())==null?void 0:w[F])==null?void 0:k[V])==null?void 0:Y.call)==null?void 0:Z.off)==null||W.call(Z)},te=(F,V,z)=>{var $,L,O,T,w;(w=(T=(O=(L=($=p())==null?void 0:$[F])==null?void 0:L[V])==null?void 0:O.inviteCall)==null?void 0:T.off)==null||w.call(T),Message.error(z)};return useMount(()=>{var F,V,z,$,L;v.current=getImInstance(),(F=v.current)==null||F.on("callInvitationReceived",(O,{callID:T,inviter:w,timeout:k,extendedData:Y})=>{var K,x,X,H,j;const Z=JSON.parse(Y),W={videoCall:Z==null?void 0:Z.videoCall,groupCall:Z==null?void 0:Z.groupCall};m.current?u({userId:I==null?void 0:I.uid,userName:I==null?void 0:I.nickName},!0,T):(Q.current=W,D.current=T,m.current=!0,c&&c(Z),(j=(H=(X=(x=(K=p())==null?void 0:K[Z==null?void 0:Z.videoCall])==null?void 0:x[Z==null?void 0:Z.groupCall])==null?void 0:X.inviteCall)==null?void 0:H.on)==null||j.call(H))}),(V=v.current)==null||V.on("callInvitationCancelled",(O,{callID:T,inviter:w,extendedData:k})=>{var W,K,x,X,H;const{videoCall:Y,groupCall:Z}=Q.current;(H=(X=(x=(K=(W=p())==null?void 0:W[Y])==null?void 0:K[Z])==null?void 0:x.inviteCall)==null?void 0:X.off)==null||H.call(X),m.current=!1}),(z=v.current)==null||z.on("callUserStateChanged",(O,T)=>{T.callUserList.forEach(w=>{var x,X,H,j,ae;const{state:k,extendedData:Y,userID:Z}=w;if(k===1){const{groupCall:ce,videoCall:ne}=Y&&JSON.parse(Y)||{};!_.current&&String(I==null?void 0:I.uid)===Z&&(te(ne,ce,i18n._("features_audio_and_video_audio_video_8uvfyn6cu0")),m.current=!1),_.current=!1,(ae=(j=(H=(X=(x=p())==null?void 0:x[ne])==null?void 0:X[ce])==null?void 0:H.call)==null?void 0:j.on)==null||ae.call(j),m.current=!0}const{videoCall:W,groupCall:K}=Q.current;if(k===2){if(!_.current&&String(I==null?void 0:I.uid)===Z){te(W,K,i18n._("features_audio_and_video_audio_video_gutzczvrkr")),c(void 0),m.current=!1,_.current=!1;return}_.current=!1;const{rejectionType:ce}=Y&&JSON.parse(Y)||{};ce===0?(B&&B(i18n._("features_audio_and_video_audio_video_tfhutvuk0t")),setTimeout(()=>{var ne,Qe,De,Fe,pe;c(void 0),m.current=!1,(pe=(Fe=(De=(Qe=(ne=p())==null?void 0:ne[W])==null?void 0:Qe[K])==null?void 0:De.call)==null?void 0:Fe.off)==null||pe.call(Fe)},1e3)):String(I==null?void 0:I.uid)!==Z&&(setTimeout(()=>{var ne,Qe,De,Fe,pe;m.current=!1,(pe=(Fe=(De=(Qe=(ne=p())==null?void 0:ne[W])==null?void 0:Qe[K])==null?void 0:De.call)==null?void 0:Fe.off)==null||pe.call(Fe)},500),Message.error(i18n._("features_audio_and_video_audio_video_fqcf8p0xuq")))}k===6&&(q(W,K),m.current=!1),k===7&&(q(W,K),m.current=!1)})}),($=v.current)==null||$.on("callInvitationEnded",(O,T)=>{const{videoCall:w,groupCall:k}=Q.current;q(w,k),m.current=!1,c(void 0)}),(L=v.current)==null||L.on("callInvitationTimeout",(O,T)=>{const{videoCall:w,groupCall:k}=Q.current;q(w,k),m.current=!1,c(void 0)})}),{setCallInviteChange:U,setCancelCallInviteChange:N,setCallAcceptInvite:y,setCallRejectInvite:u,whetherVoiceAndVideoIngRef:m,sameLoginVerificationRef:_}},useGetGlobalVoiceAndVideo=()=>{const{globalVoiceAndVideoRef:a}=useCommonStore();return{playVoiceAndVideo:()=>{var B;const{imConfig:f}=baseUserStore.getState();a!=null&&a.current&&(f==null?void 0:f.soundSwitch)===1&&(a.current.currentTime=0,(B=a==null?void 0:a.current)==null||B.play())},stopVoiceAndVideo:()=>{var f,B;console.log(a==null?void 0:a.current,"globalVoiceAndVideoRef?.currentglobalVoiceAndVideoRef?.current"),(f=a==null?void 0:a.current)==null||f.pause(),(B=a==null?void 0:a.current)==null||B.load()}}};function Video(a,c){const{currentConversation:h,callInvitationReceivedInfo:f,setCallInviteChange:B,setConversation:v,setCancelCallInviteChange:D,setHangupText:_,hangupText:m}=a,{playVoiceAndVideo:I,stopVoiceAndVideo:Q}=useGetGlobalVoiceAndVideo(),{zimToken:p,userInfo:u}=useUserStore(),[y,N]=reactExports.useState(!0),U=reactExports.useRef(!0),q=reactExports.useRef(),te=reactExports.useRef(""),F=reactExports.useRef(),V=reactExports.useRef();useResizeAndDragMove({interactDom:".resize-drag-video",restrictSizeMinWidthAndHeight:{width:360,height:640},whetherDragMove:y});const[z,$]=reactExports.useState(!1),[L,O]=reactExports.useState(!1),[T,w]=reactExports.useState({microPhoneturne:"microPhoneturnedOn",speakerTurned:"speakerTurnedOn",cameraTurned:"cameraTurnedOn"}),[k,Y]=reactExports.useState(""),[Z,W]=reactExports.useState(i18n._("features_audio_and_video_audio_index_ews2l9ybes")),[K,x]=reactExports.useState(0),[X,H]=reactExports.useState(!1),j=reactExports.useRef(!1);useInterval$1(()=>{x(At=>At+1)},X?1e3:void 0);const ae=()=>{H(!0)},ce=()=>{H(!1),x(0)},[ne,Qe]=reactExports.useState(!1),[De,Fe]=reactExports.useState(!0),[pe,ot]=reactExports.useState(!1),ft=()=>{ot(!pe)},yt=()=>{},Ot=()=>{var At;Q();try{(At=q.current)==null||At.destroyEngine()}catch(Et){console.log(Et)}U.current=!0,ot(!1),Qe(!1),v&&v(""),O(!1),$(!1),D(h==null?void 0:h.conversationID),w({microPhoneturne:"microPhoneturnedOn",speakerTurned:"speakerTurnedOn",cameraTurned:"cameraTurnedOn"}),ce(),_&&_(""),W(i18n._("features_audio_and_video_audio_index_ews2l9ybes"))},ge=()=>{var At;(At=q.current)==null||At.muteMicrophone(!1),w({...T,microPhoneturne:"microPhoneturnedOn"})},Ee=()=>{var At;(At=q.current)==null||At.muteMicrophone(!0),w({...T,microPhoneturne:"microPhoneturnedOff"})},fe=()=>{var At;(At=q.current)==null||At.mutePlayStreamAudio(te.current,!0),w({...T,speakerTurned:"speakerTurnedOff"})},ie=()=>{var At;(At=q.current)==null||At.mutePlayStreamAudio(te.current,!1),w({...T,speakerTurned:"speakerTurnedOn"})},ue=()=>{var At;(At=q.current)==null||At.enableVideoCaptureDevice(F.current,!0),w({...T,cameraTurned:"cameraTurnedOn"})},de=()=>{var At;(At=q.current)==null||At.enableVideoCaptureDevice(F.current,!1),w({...T,cameraTurned:"cameraTurnedOff"})},le=()=>{N(!1)},Ve=()=>{N(!0)};reactExports.useEffect(()=>(document.addEventListener("mouseup",Ve),()=>{document.removeEventListener("mouseup",Ve)}));const nt=getDragAudioAndVideoHandleObject({answeronClick:yt,hanguponClick:Ot,microPhoneturnedOffClick:ge,microPhoneturnedOnClick:Ee,speakerTurnedOnClick:fe,speakerTurnedOffClick:ie,cameraTurnedOffClick:ue,cameraTurnedOnClick:de,onMouseDown:le}),ct=()=>{O(!1),$(!0)};reactExports.useImperativeHandle(c,()=>({openVideoModal(){I(),O(!0)},closeVideoModal(){Ot(),_&&_("")}}));const Re=()=>{$(!1),O(!0)},lt=()=>{Fe(!0)},St=()=>{Fe(!1)},Yt=()=>{var Et;const At=!j.current;(Et=q.current)==null||Et.setEffectsBeauty(F.current,At,{smoothIntensity:100,rosyIntensity:100,whitenIntensity:100,sharpenIntensity:100}),j.current=At},xe=async()=>{const{isOk:At,data:Et}=await postV1ImChatRoomCreateApiRequest({roomBindId:h==null?void 0:h.conversationID,roomType:1,roomFlowType:1});At?(Y(Et==null?void 0:Et.roomNo),B(h==null?void 0:h.conversationID,{roomID:Et==null?void 0:Et.roomNo,videoCall:VideoCall.videocall,groupCall:GroupCall.singlePersonCall,conversationID:h==null?void 0:h.conversationID,conversationName:h==null?void 0:h.conversationName,inviterAvatarUrl:h==null?void 0:h.conversationAvatarUrl,inviterID:u==null?void 0:u.uid,inviter:u==null?void 0:u.nickName}),U.current=!1):v&&v("")},st=()=>{var Et,Dt,Ft,zt;let At=`${u==null?void 0:u.uid}`;(Et=q.current)==null||Et.loginRoom(k,p,{userID:At,userName:At},{userUpdate:!0}).then(async Ut=>{var Vt,mr;if(Ut===!0){const Br=await getZegoStream({video:!0,audio:!0}),Zt=await((Vt=q.current)==null?void 0:Vt.createZegoStream({camera:{video:!!Br,audio:!0}}));Zt==null||Zt.playVideo(document.querySelector("#local-video")),Zt==null||Zt.startCaptureCameraAndMicrophone();let wr=new Date().getTime().toString();F.current=Zt,(mr=q.current)==null||mr.startPublishingStream(wr,Zt)}}),(Dt=q.current)==null||Dt.on("roomUserUpdate",(Ut,Vt,mr)=>{Vt===StreamUpdateEnum.DELETE&&Ot()}),(Ft=q.current)==null||Ft.on("roomStreamUpdate",async(Ut,Vt,mr,Br)=>{var Zt,wr,kt;if(Vt===StreamUpdateEnum.ADD){Q(),ae();const Ar=mr[0].streamID;te.current=Ar;const qe=await((Zt=q.current)==null?void 0:Zt.startPlayingStream(Ar)),nr=(wr=q.current)==null?void 0:wr.createRemoteStreamView(qe);V.current=nr,Qe(!0)}else if(Vt===StreamUpdateEnum.DELETE){const Ar=mr[0].streamID;(kt=q.current)==null||kt.stopPlayingStream(Ar)}}),(zt=q.current)==null||zt.on("roomStateChanged",async(Ut,Vt,mr,Br)=>{Vt===ZegoRoomStateChangedReason.Kickout&&(Message.error(i18n._("features_audio_and_video_video_index_kb0rifluho")),Ot())})};return useUpdateEffect(()=>{var At;ne&&L&&((At=V.current)==null||At.play("remote-video-show",{enableAutoplayDialog:!0,objectFit:"cover"}))},[ne,z]),useUpdateEffect(()=>{U.current&&f&&L&&(Y(f==null?void 0:f.roomID),W(i18n._("features_audio_and_video_audio_index_6zybyttgyp")))},[f,L]),useUpdateEffect(()=>{k&&(q.current=getImZg(),st())},[k]),useUpdateEffect(()=>{U.current&&(h!=null&&h.conversationID)&&xe()},[h==null?void 0:h.conversationID]),jsxs("div",{children:[jsx(Modal,{className:styles$4["video-zoom-out-box"],visible:z,footer:null,mask:!1,closable:!1,afterOpen:()=>{var At;return(At=V.current)==null?void 0:At.play("remote-video-show-box",{enableAutoplayDialog:!0,objectFit:"cover"})},autoFocus:!1,focusLock:!1,unmountOnExit:!0,children:jsx("div",{className:styles$4["video-zoom-out-box-container"],onClick:Re,children:ne?jsx("div",{className:"w-full h-full bg-black relative",id:"remote-video-show-box",children:jsx("div",{className:"absolute bottom-2 flex justify-center text-button_text_01 w-full z-10",children:formatTime(K.toString())})}):jsxs("div",{className:"flex flex-col items-center",children:[jsx("div",{className:"avatar",children:jsx(LazyImage,{src:`${oss_svg_image_domain_address}${(h==null?void 0:h.conversationAvatarUrl)||"defaultheadurl"}`,imageType:Type.png})}),jsx("div",{className:"text-text_color_01 text-xs text-center mt-2.5",children:m||(K?formatTime(K.toString()):Z)})]})})}),jsx(Modal,{className:classNames("resize-drag-video",pe?styles$4["resize-drag-video-full"]:styles$4["resize-drag-video"]),wrapClassName:classNames(styles$4["resize-drag-video-wrap"],pe?styles$4["resize-drag-video-wrap-initial"]:""),visible:L,footer:null,mask:!1,closable:!1,unmountOnExit:!z,autoFocus:!1,focusLock:!1,children:jsxs("div",{className:styles$4["resize-drag-video-container"],onMouseEnter:lt,onMouseLeave:St,children:[jsx("div",{className:"other-side-video-container",children:jsx("div",{className:"w-full h-full bg-call_bg_color_01",id:"local-video"})}),De&&jsxs("div",{className:"video-container-handdle",children:[jsx(Icon,{onClick:ct,name:"icon_chat_video_small_window",className:"video-reduce"}),jsx(Icon,{onClick:ft,name:"icon_chat_video_reduce",className:"video-amplify"}),jsx(Icon,{onClick:Yt,name:"icon_chat_video_beauty",className:"video-beauty"}),jsx("div",{className:"video-time",children:m||(K?formatTime(K.toString()):Z)})]}),ne?jsx("div",{children:jsx("div",{className:"connected-frame",id:"remote-video-show"})}):jsxs("div",{className:"avatar",children:[jsx(LazyImage,{src:(h==null?void 0:h.conversationAvatarUrl)||`${oss_svg_image_domain_address}defaultheadurl.png`}),jsxs("div",{className:"avatar-left",children:[jsx("div",{className:"drag-video-text text-base my-1",children:(f==null?void 0:f.inviter)||(h==null?void 0:h.conversationName)}),jsx("div",{className:"drag-video-text text-xs",children:m||Z})]})]}),De&&jsxs("div",{className:"video-handle",children:[jsxs("div",{className:"flex  justify-evenly mb-6",children:[nt[T.microPhoneturne].dom,nt[T.speakerTurned].dom,nt[T.cameraTurned].dom]}),jsxs("div",{className:"flex  justify-center",children:[nt.hangup.dom," "]})]})]})})]})}const Video$1=reactExports.forwardRef(Video),styles$3={"resize-drag-video-invite":"video-invite-index-module__resize-drag-video-invite--w-p","resize-drag-video-invite-container":"video-invite-index-module__resize-drag-video-invite-container--Xqt"};function VideoInvite(a,c){const{setCallRejectInvite:h,setCallAcceptInvite:f,callAudioInvitationReceivedInfo:B,sameLoginVerificationRef:v}=a,{playVoiceAndVideo:D,stopVoiceAndVideo:_}=useGetGlobalVoiceAndVideo(),{userInfo:m}=useUserStore(),[I,Q]=reactExports.useState(!0);useResizeAndDragMove({interactDom:".resize-drag-video-invite",whetherDragMove:I});const[p,u]=reactExports.useState(!1),y=()=>{Q(!0)},N=()=>{Q(!1)},U=async()=>{await getDetectionPermissions({video:!1,audio:!0})&&f(()=>{u(!1),v&&(v.current=!0)},B)},q=()=>{h({userId:m==null?void 0:m.uid,userName:m==null?void 0:m.nickName}),v&&(v.current=!0),u(!1)};return reactExports.useEffect(()=>(document.addEventListener("mouseup",y),()=>{document.removeEventListener("mouseup",y)})),reactExports.useImperativeHandle(c,()=>({openVideoInviteModal(){D(),u(!0)},closeVideoInviteModal(){_(),u(!1)}})),jsx("div",{className:styles$3.audio,children:jsx(Modal,{className:classNames("resize-drag-video-invite",styles$3["resize-drag-video-invite"]),visible:p,footer:null,mask:!1,closable:!1,autoFocus:!1,focusLock:!1,unmountOnExit:!0,children:jsxs("div",{className:styles$3["resize-drag-video-invite-container"],children:[jsxs("div",{className:"flex mt-4 ml-4",children:[jsx("div",{className:"avatar",children:jsx(LazyImage,{src:(B==null?void 0:B.inviterAvatarUrl)||`${oss_svg_image_domain_address}defaultheadurl.png`})}),jsxs("div",{className:"ml-3",children:[jsx("div",{className:"text-xs text-button_text_01",children:B==null?void 0:B.inviter}),jsx("div",{className:"text-xs text-text_color_02",children:i18n._("features_audio_and_video_video_invite_index_1vv0mxdsi9")})]})]}),jsxs("div",{className:"flex absolute bottom-3 right-3",children:[jsx("div",{className:"bg-secondary_color flex justify-center items-center rounded-full w-[30px] h-[30px] mr-3",onClick:q,onMouseDown:N,children:jsx(Icon,{name:"icon_chat_hang_up",className:"text-button_text_01 text-xl"})}),jsx("div",{className:"bg-avatar_bg_04 flex justify-center items-center rounded-full w-[30px] h-[30px]",onClick:U,onMouseDown:N,children:jsx(Icon,{name:"icon_chat_video",className:"text-button_text_01 text-xl"})})]})]})})})}const VideoInvite$1=reactExports.forwardRef(VideoInvite),audio$1="audio-index-module__audio--hLi",styles$2={audio:audio$1,"resize-drag-audio":"audio-index-module__resize-drag-audio--TS-","resize-drag-audio-container":"audio-index-module__resize-drag-audio-container--8D5","audio-zoom-out-box":"audio-index-module__audio-zoom-out-box--Rn0","audio-zoom-out-box-container":"audio-index-module__audio-zoom-out-box-container--jSL"},audio="audio-invite-component-index-module__audio--6aH",styles$1={audio,"resize-drag-audio-invite":"audio-invite-component-index-module__resize-drag-audio-invite--4hR","resize-drag-audio-invite-container":"audio-invite-component-index-module__resize-drag-audio-invite-container--Qd8"};function AudioInviteComponent(a){const{setCallRejectInvite:c,setCallAcceptInvite:h,callAudioInvitationReceivedInfo:f,audioInviteVisible:B,setAudioVisible:v,setAudioInviteVisible:D,sameLoginVerificationRef:_}=a,{userInfo:m}=useUserStore(),[I,Q]=reactExports.useState(!0);useResizeAndDragMove({interactDom:".resize-drag-audio-invite",whetherDragMove:I});const p=()=>{Q(!0)},u=()=>{Q(!1)},y=q=>{q.stopPropagation(),h&&h(()=>{_&&(_.current=!0),D(!1)},f)},N=q=>{q.stopPropagation(),_&&(_.current=!0),c&&c({userId:m==null?void 0:m.uid,userName:m==null?void 0:m.nickName}),D(!1)};reactExports.useEffect(()=>(document.addEventListener("mouseup",p),()=>{document.removeEventListener("mouseup",p)}));const U=()=>{D(!1),v&&v(!0)};return jsx("div",{className:styles$1.audio,children:jsx(Modal,{className:classNames("resize-drag-audio-invite",styles$1["resize-drag-audio-invite"]),visible:B,footer:null,mask:!1,closable:!1,unmountOnExit:!0,children:jsxs("div",{className:styles$1["resize-drag-audio-invite-container"],onClick:()=>U(),children:[jsxs("div",{className:"flex mt-4 ml-4",children:[jsx("div",{className:"avatar",children:jsx(LazyImage,{src:(f==null?void 0:f.inviterAvatarUrl)||`${oss_svg_image_domain_address}defaultheadurl.png`})}),jsxs("div",{className:"ml-3",children:[jsx("div",{className:"text-xs text-button_text_01",children:f==null?void 0:f.inviter}),jsx("div",{className:"text-xs text-text_color_02",children:i18n._("features_audio_and_video_audio_invite_component_index_bpd6agr2wc")})]})]}),jsxs("div",{className:"flex absolute bottom-3 right-3",children:[jsx("div",{className:"bg-secondary_color flex justify-center items-center rounded-full w-[30px] h-[30px] mr-3",onClick:N,onMouseDown:u,children:jsx(Icon,{name:"icon_chat_hang_up",className:"text-button_text_01 text-xl"})}),jsx("div",{className:"bg-avatar_bg_04 flex justify-center items-center rounded-full w-[30px] h-[30px]",onClick:y,onMouseDown:u,children:jsx(Icon,{name:"icon_chat_answer",className:"text-button_text_01 text-xl"})})]})]})})})}function Audio(a,c){var Yt;const{currentConversation:h,callInvitationReceivedInfo:f,setCallInviteChange:B,setConversation:v,setCancelCallInviteChange:D,setCallRejectInvite:_,setCallAcceptInvite:m,callAudioInvitationReceivedInfo:I,hangupText:Q,setHangupText:p,sameLoginVerificationRef:u}=a,{playVoiceAndVideo:y,stopVoiceAndVideo:N}=useGetGlobalVoiceAndVideo(),[U,q]=reactExports.useState(!1),{zimToken:te,userInfo:F}=useUserStore(),[V,z]=reactExports.useState(!0),[$,L]=reactExports.useState(i18n._("features_audio_and_video_audio_index_ews2l9ybes")),[O,T]=reactExports.useState(!1),[w,k]=reactExports.useState(!1),Y=reactExports.useRef(!0),Z=reactExports.useRef(),W=reactExports.useRef(""),K=reactExports.useRef();useResizeAndDragMove({interactDom:".resize-drag-audio",restrictSizeMinWidthAndHeight:{width:360,height:640},whetherDragMove:V});const[x,X]=reactExports.useState(!1),[H,j]=reactExports.useState({microPhoneturne:"microPhoneturnedOn",speakerTurned:"speakerTurnedOn"}),[ae,ce]=reactExports.useState(!1),[ne,Qe]=reactExports.useState(""),[De,Fe]=reactExports.useState(0),[pe,ot]=reactExports.useState(!1);useInterval$1(()=>{Fe(xe=>xe+1)},pe?1e3:void 0);const ft=()=>{ot(!0)},yt=()=>{ot(!1),Fe(0)},Ot=()=>!w&&!(h!=null&&h.conversationID),ge=()=>{m&&m(()=>{T(!0)},I)},Ee=()=>{var xe;N(),_&&_({userId:F==null?void 0:F.uid,userName:F==null?void 0:F.nickName}),D(h==null?void 0:h.conversationID);try{(xe=Z.current)==null||xe.destroyEngine()}catch(st){console.log(st)}Y.current=!0,v&&v(""),ce(!1),j({microPhoneturne:"microPhoneturnedOn",speakerTurned:"speakerTurnedOn"}),k(!1),X(!1),T(!1),q(!1),p&&p(""),yt(),L(i18n._("features_audio_and_video_audio_index_ews2l9ybes")),W.current="",u&&(u.current=!0)},fe=()=>{var xe;(xe=Z.current)==null||xe.muteMicrophone(!1),j({...H,microPhoneturne:"microPhoneturnedOn"})},ie=()=>{var xe;(xe=Z.current)==null||xe.muteMicrophone(!0),j({...H,microPhoneturne:"microPhoneturnedOff"})},ue=()=>{var xe;(xe=Z.current)==null||xe.mutePlayStreamAudio(W.current,!0),j({...H,speakerTurned:"speakerTurnedOff"})},de=()=>{var xe;(xe=Z.current)==null||xe.mutePlayStreamAudio(W.current,!1),j({...H,speakerTurned:"speakerTurnedOn"})},le=()=>{z(!1)},Ve=()=>{z(!0)};reactExports.useEffect(()=>(document.addEventListener("mouseup",Ve),()=>{document.removeEventListener("mouseup",Ve)}));const nt=getDragAudioAndVideoHandleObject({answeronClick:ge,hanguponClick:Ee,microPhoneturnedOffClick:fe,microPhoneturnedOnClick:ie,speakerTurnedOnClick:ue,speakerTurnedOffClick:de,onMouseDown:le}),ct=()=>{if(w||h!=null&&h.conversationID){X(!0),ce(!1);return}w||(q(!0),ce(!1))};reactExports.useImperativeHandle(c,()=>({openAudioModal(){x||(ce(!0),T(!0),y())},closeAudioModal(){Ee()},openAudioInviteModal(){y(),q(!0)},closeAudioInviteModal(){q(!1),p&&p(""),N(),ae&&Ee()}}));const Re=()=>{X(!1),ce(!0)},lt=async()=>{const{isOk:xe,data:st}=await postV1ImChatRoomCreateApiRequest({roomBindId:h==null?void 0:h.conversationID,roomType:1,roomFlowType:1});xe?(Qe(st==null?void 0:st.roomNo),B(h==null?void 0:h.conversationID,{roomID:st==null?void 0:st.roomNo,videoCall:VideoCall.voicecall,groupCall:GroupCall.singlePersonCall,conversationID:h==null?void 0:h.conversationID,conversationName:h==null?void 0:h.conversationName,inviterAvatarUrl:h==null?void 0:h.conversationAvatarUrl,inviterID:F==null?void 0:F.uid,inviter:F==null?void 0:F.nickName}),Y.current=!1):v&&v("")},St=()=>{var st,At,Et,Dt;let xe=`${F==null?void 0:F.uid}`;(st=Z.current)==null||st.loginRoom(ne,te,{userID:xe,userName:xe},{userUpdate:!0}).then(async Ft=>{var zt,Ut;if(Ft===!0){const Vt=await((zt=Z.current)==null?void 0:zt.createZegoStream({camera:{video:!1,audio:!0},screen:{video:!1,audio:!0}}));Vt==null||Vt.startCaptureMicrophone();let mr=new Date().getTime().toString();K.current=Vt,(Ut=Z.current)==null||Ut.startPublishingStream(mr,Vt)}}),(At=Z.current)==null||At.on("roomUserUpdate",(Ft,zt,Ut)=>{zt===StreamUpdateEnum.DELETE&&Ee()}),(Et=Z.current)==null||Et.on("roomStreamUpdate",async(Ft,zt,Ut,Vt)=>{var mr,Br,Zt;if(zt===StreamUpdateEnum.ADD){N(),ft();const wr=Ut[0].streamID;W.current=wr;const kt=await((mr=Z.current)==null?void 0:mr.startPlayingStream(wr,{audio:!0,video:!1})),Ar=(Br=Z.current)==null?void 0:Br.createRemoteStreamView(kt);Ar==null||Ar.play("remote-video"),k(!0)}else if(zt===StreamUpdateEnum.DELETE){const wr=Ut[0].streamID;(Zt=Z.current)==null||Zt.stopPlayingStream(wr)}}),(Dt=Z.current)==null||Dt.on("roomStateChanged",async(Ft,zt,Ut,Vt)=>{zt===ZegoRoomStateChangedReason.Kickout&&(Message.error(i18n._("features_audio_and_video_video_index_kb0rifluho")),Ee())})};return useUpdateEffect(()=>{Y.current&&f&&ae&&O&&(Qe(f==null?void 0:f.roomID),L(i18n._("features_audio_and_video_audio_index_6zybyttgyp")))},[f,ae,O]),useUpdateEffect(()=>{ne&&(Z.current=getImZg(),St())},[ne]),useUpdateEffect(()=>{Y.current&&(h!=null&&h.conversationID)&&lt()},[h==null?void 0:h.conversationID]),jsxs("div",{className:styles$2.audio,children:[jsx(AudioInviteComponent,{setAudioInviteVisible:q,audioInviteVisible:U,setCallRejectInvite:_,setCallAcceptInvite:m,callAudioInvitationReceivedInfo:I,currentConversation:h,setAudioVisible:ce,sameLoginVerificationRef:u}),jsx("div",{id:"remote-video"}),jsx(Modal,{className:styles$2["audio-zoom-out-box"],visible:x,footer:null,mask:!1,closable:!1,autoFocus:!1,focusLock:!1,afterClose:()=>Qe(""),unmountOnExit:!0,children:jsx("div",{className:styles$2["audio-zoom-out-box-container"],onClick:Re,children:jsxs("div",{className:"flex flex-col items-center",children:[jsx(Icon,{name:"icon_chat_answer",className:"text-brand_color text-3xl"}),jsx("div",{className:"text-brand_color text-xs text-center",children:De?formatTime(De.toString()):i18n._("features_audio_and_video_audio_index_yul0bowqyu")})]})})}),jsx(Modal,{className:classNames("resize-drag-audio",styles$2["resize-drag-audio"]),visible:ae,footer:null,mask:!1,closable:!1,unmountOnExit:!0,autoFocus:!1,focusLock:!1,children:jsxs("div",{className:styles$2["resize-drag-audio-container"],children:[jsx("div",{className:"absolute top-2.5 left-[18px]",onClick:ct,children:jsx(Icon,{name:"icon_chat_video_small_window",className:"text-button_text_01 text-base"})}),jsx("div",{className:"avatar",children:jsx(LazyImage,{src:(h==null?void 0:h.conversationAvatarUrl)||`${oss_svg_image_domain_address}defaultheadurl.png`})}),jsx("div",{className:"drag-audio-text text-base my-1",children:(f==null?void 0:f.inviter)||(h==null?void 0:h.conversationName)}),jsx("div",{className:"drag-audio-text text-xs",children:Q||(De?formatTime(De.toString()):$)}),Ot()?jsxs("div",{className:"flex  justify-evenly absolute bottom-[28px] w-full",children:[nt.answer.dom,nt.hangup.dom]}):jsxs("div",{className:"flex  justify-evenly absolute bottom-[28px] w-full",children:[(Yt=nt[H.microPhoneturne])==null?void 0:Yt.dom,nt.hangup.dom,nt[H.speakerTurned].dom]})]})})]})}const Audio$1=reactExports.forwardRef(Audio);function AudioVideoModal(a,c){const{currentConversation:h,audioConversation:f,vidoeConversation:B,setVidoeConversation:v,setConversation:D}=a,_=reactExports.useRef(null),{userInfo:m}=useUserStore(),I=reactExports.useRef(null),Q=reactExports.useRef(null),[p,u]=reactExports.useState(""),[y,N]=reactExports.useState(),{setCallInviteChange:U,setCallAcceptInvite:q,setCallRejectInvite:te,setCancelCallInviteChange:F,whetherVoiceAndVideoIngRef:V,sameLoginVerificationRef:z}=useCallInvitation(_,N,I,Q,u),$={setCallAcceptInvite:q,setCallRejectInvite:te,callAudioInvitationReceivedInfo:y},L={setCallInviteChange:U,setCancelCallInviteChange:F},O=(T,w)=>(y==null?void 0:y.videoCall)===T&&(y==null?void 0:y.groupCall)===w?y:void 0;return reactExports.useImperativeHandle(c,()=>({judgewhetherVoiceAndVideoIngRef(){return V.current},sameOpenLoginVerificationRef(){z.current=!0}})),useMount(()=>{window.onbeforeunload=function(){F(h==null?void 0:h.conversationID),te&&te({userId:m==null?void 0:m.uid,userName:m==null?void 0:m.nickName})}}),useUnmount(()=>{window.onbeforeunload=null}),jsxs(Fragment,{children:[jsx(Audio$1,{ref:_,hangupText:p,setHangupText:u,currentConversation:f,setConversation:D,callInvitationReceivedInfo:O(VideoCall.voicecall,GroupCall.singlePersonCall),sameLoginVerificationRef:z,...L,...$}),jsx(Video$1,{ref:I,hangupText:p,setHangupText:u,currentConversation:B,setConversation:v,callInvitationReceivedInfo:O(VideoCall.videocall,GroupCall.singlePersonCall),...L}),jsx(VideoInvite$1,{ref:Q,...$,sameLoginVerificationRef:z})]})}const AudioVideoModal$1=reactExports.forwardRef(AudioVideoModal),styles={"messenger-layout-wrapper":"messenger-messenger-layout-module__messenger-layout-wrapper--2Xo"},ChatWindow=reactExports.lazy(()=>__vitePreload(()=>import("../chunks/chunk-d79436f2.js"),["assets/chunks/chunk-d79436f2.js","assets/chunks/chunk-d8234155.js","assets/chunks/chunk-e9cd8943.js","assets/chunks/chunk-cf010ec4.js","assets/chunks/chunk-f88c8133.js","assets/chunks/chunk-36a75920.js","assets/chunks/chunk-0feb7138.js","assets/chunks/chunk-c1d16543.js","assets/chunks/chunk-cd3d6459.js","assets/chunks/chunk-ec38f500.js","assets/chunks/chunk-c1540bb6.js","assets/chunks/chunk-d80cdd1c.js","assets/chunks/chunk-99b8f121.js","assets/static/index.d4db8c99.css","assets/chunks/chunk-b4d6f2f0.js","assets/static/index.9fb50787.css","assets/chunks/chunk-3a21c360.js","assets/static/index.c6ad6f53.css","assets/chunks/chunk-1a70223d.js","assets/chunks/chunk-01660bad.js","assets/chunks/chunk-d4125093.js","assets/chunks/chunk-23179642.js","assets/static/index.55048621.css","assets/static/index.8d0d897b.css","assets/chunks/chunk-93e6d3ec.js","assets/chunks/chunk-6b5946cf.js","assets/chunks/chunk-b745fb4d.js","assets/chunks/chunk-8f68cdf3.js","assets/chunks/chunk-cfcc25a6.js","assets/chunks/chunk-ff689da6.js","assets/chunks/chunk-d368c681.js","assets/chunks/chunk-fde55823.js","assets/chunks/chunk-09d047a9.js","assets/chunks/chunk-acb1a683.js","assets/chunks/chunk-634a8a63.js","assets/chunks/chunk-ba3e3861.js","assets/static/index.f86f135e.css","assets/static/index.5686095d.css","assets/chunks/chunk-e3775f6c.js","assets/chunks/chunk-61229905.js","assets/static/index.0ff81348.css","assets/chunks/chunk-5f195378.js","assets/static/index.7cef13f1.css","assets/static/index.77e6c223.css","assets/chunks/chunk-b720646a.js","assets/chunks/chunk-ec284ae6.js","assets/static/index.af9b7ed7.css","assets/chunks/chunk-faa47c2c.js","assets/static/index.491c89a1.css","assets/chunks/chunk-01f7121e.js","assets/chunks/chunk-77df718a.js","assets/chunks/chunk-260fa0dc.js","assets/static/index.1e4b310c.css","assets/chunks/chunk-0437e48e.js","assets/chunks/chunk-e7397446.js","assets/static/index.9c7e184c.css","assets/chunks/chunk-3c42a90c.js","assets/static/index.2ecb8600.css","assets/chunks/chunk-5af0d2a0.js","assets/chunks/chunk-28c62a8f.js","assets/chunks/chunk-5212edba.js","assets/static/index.bce22ac9.css","assets/static/index.35c0e2eb.css","assets/chunks/chunk-014979c9.js","assets/static/index.70c09e2c.css","assets/static/index.dc1695d9.css","assets/chunks/chunk-eef16262.js","assets/static/index.40b7d500.css","assets/chunks/chunk-b15b264a.js","assets/chunks/chunk-86e4740a.js","assets/chunks/chunk-5dde6c82.js","assets/chunks/chunk-38ad52ab.js","assets/static/index.e723b8af.css","assets/static/index.7225dbd0.css","assets/chunks/chunk-79739c92.js","assets/chunks/chunk-b3e26e36.js","assets/chunks/chunk-1d6b0b39.js","assets/chunks/chunk-6e5ba0b4.js","assets/static/index.0f0f86d5.css","assets/chunks/chunk-67585c99.js","assets/static/index.6cc68c3c.css","assets/chunks/chunk-46a6e698.js","assets/chunks/chunk-1051dbf9.js","assets/static/index.1c1d73ba.css","assets/static/index.d93a4cab.css","assets/chunks/chunk-24e4639c.js","assets/chunks/chunk-2bf04c59.js","assets/chunks/chunk-bc20e779.js","assets/static/index.ee989ca0.css","assets/chunks/chunk-78c1d4c8.js","assets/chunks/chunk-e9c2c122.js","assets/static/index.ddd4c280.css","assets/chunks/chunk-4c07d917.js","assets/static/pay-password-component.ea436eca.css","assets/chunks/chunk-301a229e.js","assets/chunks/chunk-258ffa59.js","assets/chunks/chunk-dcdbe767.js","assets/chunks/chunk-8b2d29ac.js","assets/chunks/chunk-e7d38ff7.js","assets/chunks/chunk-cc4f6b84.js","assets/static/chat-window.80fbad8a.css"]).then(a=>({default:a.ChatWindow})));function Chat(){const{currentConversation:a}=useImStore(),{drawersCount:c,setImageMaxWidth:h,setInMultiSelect:f}=useMessengerStore(),B=reactExports.useRef(null),v=()=>{setTimeout(()=>{var m;let _=((((m=B.current)==null?void 0:m.clientWidth)||500)-112)*.6;h(_)},300)};reactExports.useEffect(()=>{v()},[c]),useEventListener("resize",v),reactExports.useEffect(()=>()=>{f(!1)},[a]);const{theme:D}=useCommonStore();return jsxs("div",{className:"h-full bg-card_bg_color_01 relative",ref:B,children:[jsx("img",{className:"absolute left-0 z-0 top-0 w-full h-full object-cover",src:`${oss_svg_image_domain_address}icon_chat_bg_${D}.png`,alt:""}),jsx("div",{className:"h-full relative z-1",children:a?jsx(AsyncSuspense,{hasLoading:!0,spinProps:{size:60,className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},children:jsx(ChatWindow,{})}):jsx("div",{className:"h-full relative flex items-center justify-center",children:jsx(ListEmpty,{})})})]})}function MessengerLayout({children:a}){const{currentConversation:c}=useImStore(),{drawersCount:h,setDrawersCount:f,setInMultiSelect:B,setInRecording:v,setMessageByReEdit:D}=useMessengerStore(),[_,m]=reactExports.useState(!1);return useUpdateEffect(()=>(f(0),()=>f(0)),[c==null?void 0:c.conversationID]),useMount(async()=>{await awaitImLoaded(),m(!0)}),useUnmount(()=>{B(!1),v(!1),D("")}),jsxs("div",{className:styles["messenger-layout-wrapper"],children:[_&&jsx(AudioVideoModal$1,{}),jsxs("div",{className:"messenger-bg",children:[jsx("div",{className:"bg-brand_color brand-bar"}),jsx("div",{className:"flex-1 bg-button_animate"})]}),jsxs("div",{className:"layout-contetn-wrapper",children:[jsx("div",{className:"messenger-left",children:a}),jsx("div",{className:"messenger-center",children:jsx(Chat,{})}),jsx("div",{id:HOME_RIGHT_DRAWER_ID,className:classNames("messenger-right",{"!w-0":h===0})})]})]})}const arcoComponentConfig={Spin:{element:jsx(LoadingElement,{})},Table:{noDataElement:jsx(ListEmpty,{})}};function Layout({pageContext:a,children:c}){var y;const h=(y=a.layoutParams)==null?void 0:y.fullScreen,{locale:f}=baseCommonStore.getState();configResponsive({lg:1200,xl:1440,xxl:1850,xxxl:2560});function B(N){switch(N){case I18nsEnum["zh-CN"]:return _default$2;case I18nsEnum["en-US"]:return _default;case I18nsEnum["zh-HK"]:return _default$1;default:return _default$2}}const{setGlobalAudioRefs:v,setGlobalVoiceAndVideoRef:D}=useCommonStore(),_=React.useRef(null),m=React.useRef(null),[I,Q]=React.useState(!1),[p,u]=React.useState(!1);return useMount(()=>{Q(!0),u(!0),v("message",_),D(m)}),jsx(PageContextProvider,{pageContext:a,children:jsx(I18nProvider,{i18n,children:jsx(ConfigProvider,{componentConfig:arcoComponentConfig,locale:B(f),children:jsxs("div",{id:"layout",className:h?"layout-fullscreen-wrap":"layout-wrap",children:[jsxs(ErrorBoundary,{children:[h&&c,!h&&jsx(MessengerLayout,{children:c})]}),I&&jsx("audio",{preload:"auto",ref:_,src:`${oss_domain_address}/audio/message-notification.mp3`}),p&&jsx("audio",{preload:"auto",ref:m,src:`${oss_domain_address}/audio/incoming_call_ring.mp3`,loop:!0})]})})})})}let root;const clientRouting=!0,prefetchStaticAssets={when:"VIEWPORT"},hydrationCanBeAborted=!0;async function render(a){var te,F;const{Page:c,pageProps:h,authTo:f,unAuthTo:B,urlParsed:v}=a,D=getRedirectUrl(f,B,(te=v.search)==null?void 0:te.go),_=!!D,{theme:m,locale:I,setLocale:Q}=baseCommonStore.getState(),p=navigator.language,u=getFirstLang(I,p);I||Q(u);const y=jsx(Layout,{pageContext:a,children:!_&&jsx(c,{...h})}),N=document.getElementById("page-view");if(a.isHydration){await dynamicActivate(u),root||(root=createRoot(N)),root.render(y),_&&link(D,{overwriteLastHistoryEntry:!0}),onInstallForClient();return}root||(root=createRoot(N)),root.render(y);const{title:U,description:q}=getSeo(a);document.title=U,(F=document==null?void 0:document.querySelector('meta[name="description"]'))==null||F.setAttribute("content",q),document.body.setAttribute("theme",m||ThemeEnum.light),document.body.setAttribute("theme-business",`merchant-${m||ThemeEnum.light}`),_&&link(D,{overwriteLastHistoryEntry:!0})}function onHydrationEnd(){}const _default_page_client=Object.freeze(Object.defineProperty({__proto__:null,clientRouting,hydrationCanBeAborted,onHydrationEnd,prefetchStaticAssets,render},Symbol.toStringTag,{value:"Module"}));export{AudioVideoModal$1 as A,_default_page_client as _,useEventListener as a,getDetectionPermissions as g,useInterval$1 as u};
