import{useState as g,useMemo as h}from"react";import{L as S}from"./chunk-6bf38136.js";import r from"dayjs";import"dayjs/locale/zh-cn.js";import{o as x}from"./chunk-86c9a026.js";import l from"@nbit/arco";import{I as b}from"./chunk-c41c86a9.js";import{a as n,j as e}from"./chunk-ea028b12.js";import"classnames";import"./chunk-357fcbd2.js";import"@nbit/utils";import"./chunk-7a6de6d7.js";import"zustand";import"react-tracked";import"immer";import"zustand/middleware";import"lodash";import"./chunk-c4940547.js";import"./chunk-77d12848.js";import"js-cookie";import"store";import"./chunk-20abda34.js";import"axios";import"vike/client/router";import"./chunk-687b5088.js";import"@lingui/core";import"make-plural/plurals";const D=(a,t)=>{const o=r(`${a}-${t}-01`),c=o.startOf("month"),d=o.endOf("month"),s=[];if(c.day()!==0){const _=c.day();for(let m=0;m<_;m+=1)s.push(null)}let i=c;for(r();i.isBefore(d)||i.isSame(d);)s.push({daynumber:i.toDate(),ifSign:2}),i=i.add(1,"day");return s},M="checkin-center-index-module__scoped--u1C",C={scoped:M};var u,v;const{Switch:w,Image:I}=(v=(u=l)==null?void 0:u.default)!=null&&v.__esModule?l.default:l;r.locale("zh-cn");const p=1,f=2,y=-1,k=1;function N({onMonthSwitch:a,direction:t}){return e("div",{className:"calendar-month-switch",onClick:()=>a(t),children:t===y?"<":">"})}function O({title:a}){return n("div",{className:"calendar-week",children:["周",a.format("dd")]})}function T({day:a}){if(!a)return e("div",{});const t=a.ifSign===p?"calendar-day overcalendar-day":a.ifSign===f?"calendar-day signedcalendar-day":"calendar-day nocalendar-day";return n("div",{className:t,children:[e("div",{className:"calendardaytop",children:r(a.daynumber).format("DD")}),e("div",{className:"calendardaybottom",children:e(I,{preview:!1,width:40,src:`${x}${a.ifSign===p?"signedinover":a.ifSign===f?"signedin":"nosignedin"}.png`})})]},a.daynumber)}function te(){const[a,t]=g(r()),o=h(()=>D(a.year(),a.month()+1),[a]),c=h(()=>[...Array(7)].map((s,i)=>r().day(i)),[]),d=s=>{t(i=>i.add(s,"month"))};return n("div",{className:C.scoped,children:[e("div",{className:"headbg",children:" "}),n("div",{className:"headbox flex",children:[e(S,{href:"/",children:e(b,{name:"a-Notselected",hasTheme:!0,fontSize:24,className:"backicon"})}),e("span",{children:"签到中心"})]}),n("div",{className:"content flex",children:[n("div",{className:"calendar",children:[n("div",{className:"flex remindbox",children:[e("span",{className:"remindlabel",children:"连续签到领好礼"}),n("div",{className:"remindicon flex",children:[e("span",{className:"remindtxt",children:"签到提醒"}),e(w,{})]})]}),n("div",{className:"calendarbox",children:[n("div",{className:"calendar-month",children:[e(N,{onMonthSwitch:d,direction:y}),e("div",{className:"monthtime",children:a.format("YYYY.MM")}),e(N,{onMonthSwitch:d,direction:k})]}),e("div",{className:"calendar-title",children:c.map((s,i)=>e(O,{title:s},i))}),e("div",{className:"calendar-content",children:o.map((s,i)=>e(T,{day:s},i))})]}),e("div",{className:"signinnow",children:"立即签到"})]}),n("div",{className:"pointsbox",children:[n("div",{className:"pointstop flex",children:[e("span",{className:"pointstopleft",children:"积分明细"}),n("div",{className:"pointstopright",children:[e("span",{className:"mypointlabel",children:"我的积分："}),e("span",{className:"mynum",children:"120"})]})]}),e("div",{className:"pointslist",children:n("div",{className:"pointitem",children:[n("div",{className:"pointitemleft",children:[e("span",{className:"remark",children:"连续8天签到"}),e("span",{className:"time",children:"2023-01-08 08:20:13"})]}),e("div",{className:"pointitemright",children:"+20"})]})})]})]})]})}export{te as default};
