import{i18n as a}from"@lingui/core";import l from"@nbit/arco";import I from"classnames";import{a as n,Z as v}from"./chunk-61a1b424.js";import{I as o}from"./chunk-c41c86a9.js";import{H as j,C as w}from"./chunk-bb1e6206.js";import{j as y,a as P,k as S,t as k,l as z,m as G}from"./chunk-afa2f5f1.js";import{C as Z}from"./chunk-a6cae7c5.js";import{j as s,a as t}from"./chunk-ea028b12.js";const q={"conversation-wrapper":"conversations-conversation-module__conversation-wrapper--4P-"};var p,f;const{Dropdown:A,Menu:i}=(f=(p=l)==null?void 0:p.default)!=null&&f.__esModule?l.default:l;function J({conversation:N,keyword:_}){var u,h;const e=y(N),{setCurrentConversation:g,currentConversation:r}=P(),C=()=>{g({...e})},x=(e==null?void 0:e.conversationID)===(r==null?void 0:r.conversationID),b=()=>{k(e)},D=()=>{z(e)},M=async()=>{G(e)},c="text-icon_color text-xl mr-3",m="flex items-center !text-base",d=e.notificationStatus===n.DoNotDisturb;return s(A,{trigger:"contextMenu",position:"bl",droplist:t(i,{children:[t(i.Item,{className:m,onClick:b,children:[s(o,{className:c,name:(e.isPinned,"icon_chat_top")}),e.isPinned?a._("features_messenger_chat_chat_header_more_hewxx7_mur"):a._("features_messenger_conversations_conversation_czjswybwxa")]},"1"),e.type===v.Group&&t(i.Item,{className:m,onClick:D,children:[s(o,{className:c,name:(e.notificationStatus===n.DoNotDisturb,"icon_chat_do_not_disturb")}),d?a._("features_messenger_chat_chat_header_more_wa5p4ypd3t"):a._("features_messenger_conversations_conversation_j3slbpuceq")]},"2"),t(i.Item,{className:m,onClick:M,children:[s(o,{className:c,name:"icon_chat_delete1"}),s("span",{children:a._("features_messenger_chat_message_actions_y9zlvhqoie")})]},"3")]}),children:t("div",{className:I(q["conversation-wrapper"],{"is-selected":x,"is-mute":d}),onClick:C,children:[s("div",{className:"conversation-left",children:t("div",{className:"relative",children:[s(Z,{size:50,src:e.conversationAvatarUrl,isGroup:e.type===v.Group}),e.unreadMessageCount>0&&s("div",{className:"unread",children:e.unreadMessageCount})]})}),t("div",{className:"conversation-right",children:[t("div",{className:"flex justify-between items-center mb-1",children:[s("div",{className:"conversation-name",children:s(j,{text:e.conversationName,keyword:_,highlightClassName:"text-brand_color"})}),s("div",{className:"text-text_color_02",children:(u=e.lastMessage)!=null&&u.timestamp?S((h=e.lastMessage)==null?void 0:h.timestamp):""})]}),t("div",{className:"flex justify-between items-center",children:[s(w,{keyword:_,message:e.lastMessage}),(e.isPinned||e.notificationStatus===n.DoNotDisturb)&&t("div",{className:"ml-4 text-base/5 flex",children:[e.isPinned&&s(o,{name:"icon_chat_top",className:"text-icon_color"}),e.notificationStatus===n.DoNotDisturb&&s(o,{name:"icon_chat_do_not_disturb",className:"text-icon_color ml-4"})]})]})]})]})})}export{J as C};
