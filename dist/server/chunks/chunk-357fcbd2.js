import{envUtils as b,decimalUtils as f}from"@nbit/utils";import{b as g}from"./chunk-7a6de6d7.js";import"lodash";import{b as w}from"./chunk-c4940547.js";import{T as h}from"./chunk-77d12848.js";import s from"axios";import{g as S,n as E}from"./chunk-20abda34.js";import"vike/client/router";import"./chunk-687b5088.js";function d(e,n,i){return{webTitle:n||(e==null?void 0:e.webTitle)||"",description:i||(e==null?void 0:e.description)||"",author:(e==null?void 0:e.author)||"",keywords:(e==null?void 0:e.keywords)||"",copyright:(e==null?void 0:e.copyright)||"",webUrl:(e==null?void 0:e.webUrl)||"",businessName:(e==null?void 0:e.businessName)||"",imgWebIcon:(e==null?void 0:e.imgWebIcon)||"",webShareCoverUrl:(e==null?void 0:e.shareCoverUrl)||""}}const{getEnvS3Url:C,S3UrlNameEnum:a,ExtTypesEnum:r,EnvTypesEnum:U,getEnvSecretS3KeyConfig:D}=b;async function v(e,n){const i=C(n,e,a.dnsConfig,n===U.production?r.im:r.default);return s.get(i).then(t=>t.data).catch(t=>{console.error(t),console.error("动态获取不同商户、环境下的 s3 相关地址错误，请检查 businessId 是否正确"),console.error(`businessId: ${e}`),console.error(i),typeof window>"u"&&process.exit(1)})}f.SafeCalcUtil;const W=e=>/^([a-z]+:\/\/|\/\/)/i.test(e);function L(){const{layoutProps:e}=g.getState();return d(e).businessName}function Y(){return w.getState().theme===h.light?"_white":"_black"}async function z(e){return v(e,E).then(async n=>{var c,m;const i=await S();return((c=n==null?void 0:n.ACCESS_KEY)==null?void 0:c[i.toLowerCase()])||((m=n==null?void 0:n.ACCESS_KEY)==null?void 0:m.web)}).catch(n=>!1)}export{Y as a,z as b,L as g,W as i};
