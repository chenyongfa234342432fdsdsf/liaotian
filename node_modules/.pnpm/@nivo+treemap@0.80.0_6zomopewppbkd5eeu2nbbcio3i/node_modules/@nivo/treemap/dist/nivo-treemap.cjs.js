"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@nivo/core"),o=require("lodash/omit"),n=require("lodash/cloneDeep"),a=require("lodash/startCase"),i=require("d3-hierarchy"),r=require("@nivo/colors"),l=require("@nivo/tooltip"),d=require("@react-spring/web"),s=require("react/jsx-runtime");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var b=u(o),p=u(n),c=u(a);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},v.apply(this,arguments)}function h(e,t){if(null==e)return{};var o,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}var f=function(e,t){return d.to([e,t],(function(e,t){return"translate("+e+","+t+")"}))},m=function(e,t){return d.to([e,t],(function(e,t){return"translate("+e+"px, "+t+"px)"}))},L=function(e,t,o){return d.to([e,t,o],(function(e,t,o){return"translate("+e+","+t+") rotate("+o+")"}))},g=function(e,t,o){return d.to([e,t,o],(function(e,t,o){return"translate("+e+"px,"+t+"px) rotate("+o+"deg)"}))},y=function(e,t,o){return d.to([e,t,o],(function(e,t,o){return"translate("+(e-(0===o?0:5))+"px,"+(t-(0===o?5:0))+"px) rotate("+o+"deg)"}))},x=e.memo((function(e){var o=e.node,n=e.animatedProps,a=e.borderWidth,i=e.enableLabel,r=e.enableParentLabel,l=e.labelSkipSize,u=t.useTheme(),b=i&&o.isLeaf&&(0===l||Math.min(o.width,o.height)>l),p=r&&o.isParent;return s.jsxs(d.animated.g,{transform:f(n.x,n.y),children:[s.jsx(d.animated.rect,{"data-testid":"node."+o.id,width:d.to(n.width,(function(e){return Math.max(e,0)})),height:d.to(n.height,(function(e){return Math.max(e,0)})),fill:o.fill?o.fill:n.color,strokeWidth:a,stroke:o.borderColor,fillOpacity:o.opacity,onMouseEnter:o.onMouseEnter,onMouseMove:o.onMouseMove,onMouseLeave:o.onMouseLeave,onClick:o.onClick}),b&&s.jsx(d.animated.text,{"data-testid":"label."+o.id,textAnchor:"middle",dominantBaseline:"central",style:v({},u.labels.text,{fill:o.labelTextColor,pointerEvents:"none"}),fillOpacity:n.labelOpacity,transform:L(n.labelX,n.labelY,n.labelRotation),children:o.label}),p&&s.jsx(d.animated.text,{"data-testid":"parentLabel."+o.id,dominantBaseline:"central",style:v({},u.labels.text,{fill:o.parentLabelTextColor,pointerEvents:"none"}),fillOpacity:n.parentLabelOpacity,transform:L(n.parentLabelX,n.parentLabelY,n.parentLabelRotation),children:o.parentLabel})]})})),C=e.memo((function(e){var t=e.node;return s.jsx(l.BasicTooltip,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})})),P=e.memo((function(e){var o=e.node,n=e.animatedProps,a=e.borderWidth,i=e.enableLabel,r=e.enableParentLabel,l=e.labelSkipSize,u=t.useTheme(),b=i&&o.isLeaf&&(0===l||Math.min(o.width,o.height)>l),p=r&&o.isParent;return s.jsxs(d.animated.div,{"data-testid":"node."+o.id,id:o.path.replace(/[^\w]/gi,"-"),style:{boxSizing:"border-box",position:"absolute",top:0,left:0,transform:m(n.x,n.y),width:n.width,height:n.height,borderWidth:a,borderStyle:"solid",borderColor:o.borderColor,overflow:"hidden"},children:[s.jsx(d.animated.div,{style:{boxSizing:"border-box",position:"absolute",top:0,left:0,opacity:o.opacity,width:n.width,height:n.height,background:n.color},onMouseEnter:o.onMouseEnter,onMouseMove:o.onMouseMove,onMouseLeave:o.onMouseLeave,onClick:o.onClick}),b&&s.jsx(d.animated.span,{"data-testid":"label."+o.id,style:v({},u.labels.text,{position:"absolute",display:"flex",top:-5,left:-5,width:10,height:10,justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",color:o.labelTextColor,transformOrigin:"center center",transform:g(n.labelX,n.labelY,n.labelRotation),opacity:n.labelOpacity,pointerEvents:"none"}),children:o.label}),p&&s.jsx(d.animated.span,{"data-testid":"parentLabel."+o.id,style:v({},u.labels.text,{position:"absolute",display:"flex",justifyContent:"flex-start",alignItems:"center",whiteSpace:"nowrap",width:10,height:10,color:o.parentLabelTextColor,transformOrigin:"top left",transform:y(n.parentLabelX,n.parentLabelY,n.parentLabelRotation),opacity:n.parentLabelOpacity,pointerEvents:"none"}),children:o.parentLabel})]})})),M={layers:["nodes"],identity:"id",value:"value",tile:"squarify",leavesOnly:!1,innerPadding:0,outerPadding:0,colors:{scheme:"nivo"},colorBy:"pathComponents.1",nodeOpacity:.33,enableLabel:!0,label:"formattedValue",labelSkipSize:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},orientLabel:!0,enableParentLabel:!0,parentLabel:"id",parentLabelSize:20,parentLabelPosition:"top",parentLabelPadding:6,parentLabelTextColor:{from:"color",modifiers:[["darker",1]]},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,tooltip:C,role:"img",animate:!0,motionConfig:"gentle"},w=v({},M,{nodeComponent:x,defs:[],fill:[]}),T=v({},M,{nodeComponent:P}),S=v({},M,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),k={binary:i.treemapBinary,dice:i.treemapDice,slice:i.treemapSlice,sliceDice:i.treemapSliceDice,squarify:i.treemapSquarify},O=function(o){var n=o.data,a=o.width,l=o.height,d=o.identity,s=void 0===d?M.identity:d,u=o.value,h=void 0===u?M.value:u,f=o.valueFormat,m=o.leavesOnly,L=void 0===m?M.leavesOnly:m,g=o.tile,y=void 0===g?M.tile:g,x=o.innerPadding,C=void 0===x?M.innerPadding:x,P=o.outerPadding,w=void 0===P?M.outerPadding:P,T=o.label,S=void 0===T?M.label:T,O=o.orientLabel,j=void 0===O?M.orientLabel:O,W=o.enableParentLabel,I=void 0===W?M.enableParentLabel:W,R=o.parentLabel,z=void 0===R?M.parentLabel:R,E=o.parentLabelSize,B=void 0===E?M.parentLabelSize:E,D=o.parentLabelPosition,F=void 0===D?M.parentLabelPosition:D,X=o.parentLabelPadding,Y=void 0===X?M.parentLabelPadding:X,q=o.colors,H=void 0===q?M.colors:q,A=o.colorBy,V=void 0===A?M.colorBy:A,N=o.nodeOpacity,_=void 0===N?M.nodeOpacity:N,G=o.borderColor,J=void 0===G?M.borderColor:G,K=o.labelTextColor,Q=void 0===K?M.labelTextColor:K,U=o.parentLabelTextColor,Z=void 0===U?M.parentLabelTextColor:U,$=t.usePropertyAccessor(s),ee=t.usePropertyAccessor(h),te=t.useValueFormatter(f),oe=t.usePropertyAccessor(S),ne=t.usePropertyAccessor(z),ae=function(t){var o=t.width,n=t.height,a=t.tile,r=t.innerPadding,l=t.outerPadding,d=t.enableParentLabel,s=t.parentLabelSize,u=t.parentLabelPosition,b=t.leavesOnly;return e.useMemo((function(){var e=i.treemap().size([o,n]).tile(k[a]).round(!0).paddingInner(r).paddingOuter(l);if(d&&!b){var t=s+2*l;e["padding"+c.default(u)](t)}return e}),[o,n,a,r,l,d,s,u,b])}({width:a,height:l,tile:y,innerPadding:C,outerPadding:w,enableParentLabel:I,parentLabelSize:B,parentLabelPosition:F,leavesOnly:L}),ie=function(t){var o=t.root,n=t.getValue;return e.useMemo((function(){return i.hierarchy(o).sum(n)}),[o,n])}({root:n,getValue:ee}),re=e.useMemo((function(){var e=p.default(ie);return ae(e),L?e.leaves():e.descendants()}),[ie,ae,L]),le=e.useMemo((function(){return re.map((function(e){var t=function(e,t){var o=e.ancestors().map((function(e){return t(e.data)})).reverse();return{path:o.join("."),pathComponents:o}}(e,$),o=t.path,n=t.pathComponents,a={id:$(e.data),path:o,pathComponents:n,data:b.default(e.data,"children"),x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0,value:e.value,formattedValue:te(e.value),treeDepth:e.depth,treeHeight:e.height,isParent:e.height>0,isLeaf:0===e.height,parentLabelX:0,parentLabelY:0,parentLabelRotation:0};return a.labelRotation=j&&a.height>a.width?-90:0,"top"===F&&(a.parentLabelX=w+Y,a.parentLabelY=w+B/2),"right"===F&&(a.parentLabelX=a.width-w-B/2,a.parentLabelY=a.height-w-Y,a.parentLabelRotation=-90),"bottom"===F&&(a.parentLabelX=w+Y,a.parentLabelY=a.height-w-B/2),"left"===F&&(a.parentLabelX=w+B/2,a.parentLabelY=a.height-w-Y,a.parentLabelRotation=-90),a.label=oe(a),a.parentLabel=ne(a),a}))}),[re,$,te,oe,j,ne,B,F,Y,w]),de=t.useTheme(),se=r.useOrdinalColorScale(H,V),ue=r.useInheritedColor(J,de),be=r.useInheritedColor(Q,de),pe=r.useInheritedColor(Z,de),ce=e.useMemo((function(){return le.map((function(e){var t=v({},e,{color:se(e),opacity:_});return t.borderColor=ue(t),t.labelTextColor=be(t),t.parentLabelTextColor=pe(t),t}))}),[le,se,_,ue,be,pe]);return{hierarchy:ie,nodes:ce,layout:ae}},j=function(t,o){var n=o.isInteractive,a=o.onMouseEnter,i=o.onMouseMove,r=o.onMouseLeave,d=o.onClick,s=o.tooltip,u=l.useTooltip(),b=u.showTooltipFromEvent,p=u.hideTooltip,c=e.useCallback((function(t,o){b(e.createElement(s,{node:t}),o,"left")}),[b,s]),h=e.useCallback((function(e,t){c(e,t),null==a||a(e,t)}),[a,c]),f=e.useCallback((function(e,t){c(e,t),null==i||i(e,t)}),[i,c]),m=e.useCallback((function(e,t){p(),null==r||r(e,t)}),[r,p]),L=e.useCallback((function(e,t){null==d||d(e,t)}),[d]);return e.useMemo((function(){return t.map((function(e){return n?v({},e,{onMouseEnter:function(t){return h(e,t)},onMouseMove:function(t){return f(e,t)},onMouseLeave:function(t){return m(e,t)},onClick:function(t){return L(e,t)}}):e}))}),[n,t,h,f,m,L])},W=function(t){var o=t.nodes;return e.useMemo((function(){return{nodes:o}}),[o])},I=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,labelX:e.width/2,labelY:e.height/2,labelRotation:e.labelRotation,labelOpacity:1,parentLabelX:e.parentLabelX,parentLabelY:e.parentLabelY,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:1}},R=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2,width:0,height:0,color:e.color,labelX:0,labelY:0,labelRotation:e.labelRotation,labelOpacity:0,parentLabelX:0,parentLabelY:0,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:0}},z=e.memo((function(o){var n=o.nodes,a=o.nodeComponent,i=o.borderWidth,r=o.enableLabel,l=o.labelSkipSize,u=o.enableParentLabel,b=o.isInteractive,p=o.onMouseEnter,c=o.onMouseMove,v=o.onMouseLeave,h=o.onClick,f=o.tooltip,m=j(n,{isInteractive:b,onMouseEnter:p,onMouseMove:c,onMouseLeave:v,onClick:h,tooltip:f}),L=t.useMotionConfig(),g=L.animate,y=L.config,x=d.useTransition(m,{keys:function(e){return e.path},initial:I,from:R,enter:I,update:I,leave:R,config:y,immediate:!g});return s.jsx(s.Fragment,{children:x((function(t,o){return e.createElement(a,{key:o.path,node:o,animatedProps:t,borderWidth:i,enableLabel:r,labelSkipSize:l,enableParentLabel:u})}))})})),E=["isInteractive","animate","motionConfig","theme","renderWrapper"],B=function(o){var n=o.data,a=o.identity,i=void 0===a?w.identity:a,r=o.value,l=void 0===r?w.value:r,d=o.valueFormat,u=o.tile,b=void 0===u?w.tile:u,p=o.nodeComponent,c=void 0===p?w.nodeComponent:p,v=o.innerPadding,h=void 0===v?w.innerPadding:v,f=o.outerPadding,m=void 0===f?w.outerPadding:f,L=o.leavesOnly,g=void 0===L?w.leavesOnly:L,y=o.width,x=o.height,C=o.margin,P=o.layers,M=void 0===P?w.layers:P,T=o.colors,S=void 0===T?w.colors:T,k=o.colorBy,j=void 0===k?w.colorBy:k,I=o.nodeOpacity,R=void 0===I?w.nodeOpacity:I,E=o.borderWidth,B=void 0===E?w.borderWidth:E,D=o.borderColor,F=void 0===D?w.borderColor:D,X=o.defs,Y=void 0===X?w.defs:X,q=o.fill,H=void 0===q?w.fill:q,A=o.enableLabel,V=void 0===A?w.enableLabel:A,N=o.label,_=void 0===N?w.label:N,G=o.labelTextColor,J=void 0===G?w.labelTextColor:G,K=o.orientLabel,Q=void 0===K?w.orientLabel:K,U=o.labelSkipSize,Z=void 0===U?w.labelSkipSize:U,$=o.enableParentLabel,ee=void 0===$?w.enableParentLabel:$,te=o.parentLabel,oe=void 0===te?w.parentLabel:te,ne=o.parentLabelSize,ae=void 0===ne?w.parentLabelSize:ne,ie=o.parentLabelPosition,re=void 0===ie?w.parentLabelPosition:ie,le=o.parentLabelPadding,de=void 0===le?w.parentLabelPadding:le,se=o.parentLabelTextColor,ue=void 0===se?w.parentLabelTextColor:se,be=o.isInteractive,pe=void 0===be?w.isInteractive:be,ce=o.onMouseEnter,ve=o.onMouseMove,he=o.onMouseLeave,fe=o.onClick,me=o.tooltip,Le=void 0===me?w.tooltip:me,ge=o.role,ye=o.ariaLabel,xe=o.ariaLabelledBy,Ce=o.ariaDescribedBy,Pe=t.useDimensions(y,x,C),Me=Pe.margin,we=Pe.innerWidth,Te=Pe.innerHeight,Se=Pe.outerWidth,ke=Pe.outerHeight,Oe=O({data:n,identity:i,value:l,valueFormat:d,leavesOnly:g,width:we,height:Te,tile:b,innerPadding:h,outerPadding:m,colors:S,colorBy:j,nodeOpacity:R,borderColor:F,label:_,labelTextColor:J,orientLabel:Q,enableParentLabel:ee,parentLabel:oe,parentLabelSize:ae,parentLabelPosition:re,parentLabelPadding:de,parentLabelTextColor:ue}).nodes,je={nodes:null};M.includes("nodes")&&(je.nodes=s.jsx(z,{nodes:Oe,nodeComponent:c,borderWidth:B,enableLabel:V,labelSkipSize:Z,enableParentLabel:ee,isInteractive:pe,onMouseEnter:ce,onMouseMove:ve,onMouseLeave:he,onClick:fe,tooltip:Le},"nodes"));var We=W({nodes:Oe}),Ie=t.bindDefs(Y,Oe,H);return s.jsx(t.SvgWrapper,{width:Se,height:ke,margin:Me,defs:Ie,role:ge,ariaLabel:ye,ariaLabelledBy:xe,ariaDescribedBy:Ce,children:M.map((function(t,o){var n;return"function"==typeof t?s.jsx(e.Fragment,{children:e.createElement(t,We)},o):null!=(n=null==je?void 0:je[t])?n:null}))})},D=function(e){var o=e.isInteractive,n=void 0===o?w.isInteractive:o,a=e.animate,i=void 0===a?w.animate:a,r=e.motionConfig,l=void 0===r?w.motionConfig:r,d=e.theme,u=e.renderWrapper,b=h(e,E);return s.jsx(t.Container,{animate:i,isInteractive:n,motionConfig:l,renderWrapper:u,theme:d,children:s.jsx(B,v({isInteractive:n},b))})},F=["isInteractive","animate","motionConfig","theme","renderWrapper"],X=function(o){var n=o.data,a=o.identity,i=void 0===a?T.identity:a,r=o.value,l=void 0===r?T.value:r,d=o.tile,u=void 0===d?T.tile:d,b=o.nodeComponent,p=void 0===b?T.nodeComponent:b,c=o.valueFormat,v=o.innerPadding,h=void 0===v?T.innerPadding:v,f=o.outerPadding,m=void 0===f?T.outerPadding:f,L=o.leavesOnly,g=void 0===L?T.leavesOnly:L,y=o.width,x=o.height,C=o.margin,P=o.layers,M=void 0===P?w.layers:P,S=o.colors,k=void 0===S?T.colors:S,j=o.colorBy,I=void 0===j?T.colorBy:j,R=o.nodeOpacity,E=void 0===R?T.nodeOpacity:R,B=o.borderWidth,D=void 0===B?T.borderWidth:B,F=o.borderColor,X=void 0===F?T.borderColor:F,Y=o.enableLabel,q=void 0===Y?T.enableLabel:Y,H=o.label,A=void 0===H?T.label:H,V=o.labelTextColor,N=void 0===V?T.labelTextColor:V,_=o.orientLabel,G=void 0===_?T.orientLabel:_,J=o.labelSkipSize,K=void 0===J?T.labelSkipSize:J,Q=o.enableParentLabel,U=void 0===Q?T.enableParentLabel:Q,Z=o.parentLabel,$=void 0===Z?T.parentLabel:Z,ee=o.parentLabelSize,te=void 0===ee?T.parentLabelSize:ee,oe=o.parentLabelPosition,ne=void 0===oe?T.parentLabelPosition:oe,ae=o.parentLabelPadding,ie=void 0===ae?T.parentLabelPadding:ae,re=o.parentLabelTextColor,le=void 0===re?T.parentLabelTextColor:re,de=o.isInteractive,se=void 0===de?T.isInteractive:de,ue=o.onMouseEnter,be=o.onMouseMove,pe=o.onMouseLeave,ce=o.onClick,ve=o.tooltip,he=void 0===ve?T.tooltip:ve,fe=o.role,me=o.ariaLabel,Le=o.ariaLabelledBy,ge=o.ariaDescribedBy,ye=t.useDimensions(y,x,C),xe=ye.margin,Ce=ye.innerWidth,Pe=ye.innerHeight,Me=ye.outerWidth,we=ye.outerHeight,Te=O({data:n,identity:i,value:l,valueFormat:c,leavesOnly:g,width:Ce,height:Pe,tile:u,innerPadding:h,outerPadding:m,colors:k,colorBy:I,nodeOpacity:E,borderColor:X,label:A,labelTextColor:N,orientLabel:G,enableParentLabel:U,parentLabel:$,parentLabelSize:te,parentLabelPosition:ne,parentLabelPadding:ie,parentLabelTextColor:le}).nodes,Se={nodes:null};M.includes("nodes")&&(Se.nodes=s.jsx(z,{nodes:Te,nodeComponent:p,borderWidth:D,enableLabel:q,labelSkipSize:K,enableParentLabel:U,isInteractive:se,onMouseEnter:ue,onMouseMove:be,onMouseLeave:pe,onClick:ce,tooltip:he},"nodes"));var ke=W({nodes:Te});return s.jsx("div",{role:fe,"aria-label":me,"aria-labelledby":Le,"aria-describedby":ge,style:{position:"relative",width:Me,height:we},children:s.jsx("div",{style:{position:"absolute",top:xe.top,left:xe.left},children:M.map((function(t,o){var n;return"function"==typeof t?s.jsx(e.Fragment,{children:e.createElement(t,ke)},o):null!=(n=null==Se?void 0:Se[t])?n:null}))})})},Y=function(e){var o=e.isInteractive,n=void 0===o?T.isInteractive:o,a=e.animate,i=void 0===a?T.animate:a,r=e.motionConfig,l=void 0===r?T.motionConfig:r,d=e.theme,u=e.renderWrapper,b=h(e,F);return s.jsx(t.Container,{animate:i,isInteractive:n,motionConfig:l,renderWrapper:u,theme:d,children:s.jsx(X,v({isInteractive:n},b))})},q=["theme","isInteractive","animate","motionConfig","renderWrapper"],H=function(e,o,n,a){return e.find((function(e){return t.isCursorInRect(e.x+o.left,e.y+o.top,e.width,e.height,n,a)}))},A=function(o){var n=o.data,a=o.identity,i=void 0===a?S.identity:a,r=o.value,d=void 0===r?S.identity:r,u=o.tile,b=void 0===u?S.tile:u,p=o.valueFormat,c=o.innerPadding,v=void 0===c?S.innerPadding:c,h=o.outerPadding,f=void 0===h?S.outerPadding:h,m=o.leavesOnly,L=void 0===m?S.leavesOnly:m,g=o.width,y=o.height,x=o.margin,C=o.colors,P=void 0===C?S.colors:C,M=o.colorBy,w=void 0===M?S.colorBy:M,T=o.nodeOpacity,k=void 0===T?S.nodeOpacity:T,j=o.borderWidth,W=void 0===j?S.borderWidth:j,I=o.borderColor,R=void 0===I?S.borderColor:I,z=o.enableLabel,E=void 0===z?S.enableLabel:z,B=o.label,D=void 0===B?S.label:B,F=o.labelTextColor,X=void 0===F?S.labelTextColor:F,Y=o.orientLabel,q=void 0===Y?S.orientLabel:Y,A=o.labelSkipSize,V=void 0===A?S.labelSkipSize:A,N=o.isInteractive,_=void 0===N?S.isInteractive:N,G=o.onMouseMove,J=o.onClick,K=o.tooltip,Q=void 0===K?S.tooltip:K,U=o.pixelRatio,Z=void 0===U?S.pixelRatio:U,$=o.role,ee=o.ariaLabel,te=o.ariaLabelledBy,oe=o.ariaDescribedBy,ne=e.useRef(null),ae=t.useDimensions(g,y,x),ie=ae.margin,re=ae.innerWidth,le=ae.innerHeight,de=ae.outerWidth,se=ae.outerHeight,ue=O({data:n,identity:i,value:d,valueFormat:p,leavesOnly:L,width:re,height:le,tile:b,innerPadding:v,outerPadding:f,colors:P,colorBy:w,nodeOpacity:k,borderColor:R,label:D,labelTextColor:X,orientLabel:q,enableParentLabel:!1}).nodes,be=t.useTheme();e.useEffect((function(){if(null!==ne.current){var e=ne.current.getContext("2d");null!==e&&(ne.current.width=de*Z,ne.current.height=se*Z,e.scale(Z,Z),e.fillStyle=be.background,e.fillRect(0,0,de,se),e.translate(ie.left,ie.top),ue.forEach((function(t){e.fillStyle=t.color,e.fillRect(t.x,t.y,t.width,t.height),W>0&&(e.strokeStyle=t.borderColor,e.lineWidth=W,e.strokeRect(t.x,t.y,t.width,t.height))})),E&&(e.textAlign="center",e.textBaseline="middle",e.font=be.labels.text.fontSize+"px "+be.labels.text.fontFamily,ue.forEach((function(o){if(o.isLeaf&&(0===V||Math.min(o.width,o.height)>V)){var n=q&&o.height>o.width;e.save(),e.translate(o.x+o.width/2,o.y+o.height/2),e.rotate(t.degreesToRadians(n?-90:0)),e.fillStyle=o.labelTextColor,e.fillText(""+o.label,0,0),e.restore()}}))))}}),[ne,ue,de,se,re,le,ie,W,E,q,V,be,Z]);var pe=l.useTooltip(),ce=pe.showTooltipFromEvent,ve=pe.hideTooltip,he=e.useCallback((function(o){if(null!==ne.current){var n=t.getRelativeCursor(ne.current,o),a=n[0],i=n[1],r=H(ue,ie,a,i);void 0!==r?(ce(e.createElement(Q,{node:r}),o,"left"),null==G||G(r,o)):ve()}}),[ne,ue,ie,ce,ve,Q,G]),fe=e.useCallback((function(){ve()}),[ve]),me=e.useCallback((function(e){if(null!==ne.current){var o=t.getRelativeCursor(ne.current,e),n=o[0],a=o[1],i=H(ue,ie,n,a);void 0!==i&&(null==J||J(i,e))}}),[ne,ue,ie,J]);return s.jsx("canvas",{ref:ne,width:de*Z,height:se*Z,style:{width:de,height:se},onMouseEnter:_?he:void 0,onMouseMove:_?he:void 0,onMouseLeave:_?fe:void 0,onClick:_?me:void 0,role:$,"aria-label":ee,"aria-labelledby":te,"aria-describedby":oe})},V=function(e){var o=e.theme,n=e.isInteractive,a=void 0===n?S.isInteractive:n,i=e.animate,r=void 0===i?S.animate:i,l=e.motionConfig,d=void 0===l?S.motionConfig:l,u=e.renderWrapper,b=h(e,q);return s.jsx(t.Container,{isInteractive:a,animate:r,motionConfig:d,theme:o,renderWrapper:u,children:s.jsx(A,v({isInteractive:a},b))})};exports.ResponsiveTreeMap=function(e){return s.jsx(t.ResponsiveWrapper,{children:function(t){var o=t.width,n=t.height;return s.jsx(D,v({width:o,height:n},e))}})},exports.ResponsiveTreeMapCanvas=function(e){return s.jsx(t.ResponsiveWrapper,{children:function(t){var o=t.width,n=t.height;return s.jsx(V,v({width:o,height:n},e))}})},exports.ResponsiveTreeMapHtml=function(e){return s.jsx(t.ResponsiveWrapper,{children:function(t){var o=t.width,n=t.height;return s.jsx(Y,v({width:o,height:n},e))}})},exports.TreeMap=D,exports.TreeMapCanvas=V,exports.TreeMapHtml=Y,exports.canvasDefaultProps=S,exports.commonDefaultProps=M,exports.htmlDefaultProps=T,exports.htmlLabelTransform=g,exports.htmlNodeTransform=m,exports.htmlParentLabelTransform=y,exports.svgDefaultProps=w,exports.svgLabelTransform=L,exports.svgNodeTransform=f,exports.tileByType=k;
//# sourceMappingURL=nivo-treemap.cjs.js.map
